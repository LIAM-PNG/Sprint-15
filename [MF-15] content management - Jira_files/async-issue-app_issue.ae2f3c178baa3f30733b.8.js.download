try{window.performance.mark("async-issue-app~issue.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-issue-app~issue"],{"+9A+":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=(e,t=0)=>{const n=e.lastIndexOf("-"),a=e.substr(n+1);return/^\d+$/.test(a)&&a.length>=t?e.substr(0,n):e},s=e=>{const t=e.match(/^(.*)-(\w+)-(\d+)$/);if(null==t)return null;const[,n,a,s]=t;return{extensionId:n,id:a,added:Number(s)}}},"+MRk":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mwIZ"),s=n.n(a);const i=({issueKey:e,onSuccess:t,onFailure:a})=>{const[{value:i}]=Object(n("MoW5").a)(e,"issuetype"),o=s()(i,"schema.type","issuetype"),[{value:r,error:l,loading:c},{saveValue:d,resetError:u}]=Object(n("35XP").a)({fieldKey:"issuetype",issueKey:e,fieldType:o,initialValue:null,onSuccess:t,onFailure:a});return[{value:r,error:l,fieldConfig:i,loading:c},{saveValue:d,resetError:u}]}},"+NO+":function(e,t,n){
"use strict";var a=n("JRPe"),s=n("q1tI"),i=n.n(s),o=Object(a.defineMessages)({underOriginalEstimate:{id:"issue.log-time.under-original-estimated-time-tooltip",defaultMessage:"{time} under original estimate"},overOriginalEstimate:{id:"issue.log-time.over-original-estimated-time-tooltip",defaultMessage:"{time} over original estimate"}}),r=n("vOnD");const l=r.default.div.withConfig({componentId:"woebkr-0"})`padding:${n("ZpU/").e/2}px;background-color:transparent;border-radius:3px;${e=>e.hasPointerCursor?"cursor: pointer;":""};&:hover{background-color:${n("5kDX").a.N60};}`,c=r.default.div.withConfig({componentId:"woebkr-1"})`background-color:${n("5kDX").a.N40};border-radius:${n("ZpU/").e/2}px;display:flex;height:${e=>e.isCompact?n("ZpU/").e/2:n("ZpU/").e}px;overflow:hidden;width:100%;${({isInlineEditBumpEnabled:e})=>e?`min-height: ${n("ZpU/").e/2}px !important;`:""};${e=>e.hasPointerCursor?"cursor: pointer;":""};`;class d extends s.Component{renderProgressBar(){
return this.props.shouldHighlightOnHover?i.a.createElement(l,{hasPointerCursor:!!this.props.tooltip},i.a.createElement(c,{isCompact:this.props.isCompact,hasPointerCursor:!!this.props.tooltip,isInlineEditBumpEnabled:Object(n("d90y").isInlineEditBumpEnabled)()},this.props.children)):i.a.createElement(c,{isInlineEditBumpEnabled:Object(n("d90y").isInlineEditBumpEnabled)(),isCompact:this.props.isCompact,hasPointerCursor:!!this.props.tooltip},this.props.children)}render(){return this.props.tooltip?i.a.createElement(n("Yto1").a,{content:this.props.tooltip},this.renderProgressBar()):this.renderProgressBar()}}d.displayName="ProgressBar",d.defaultProps={isCompact:!0,shouldHighlightOnHover:!1,children:null,tooltip:null};const u=r.default.div.withConfig({componentId:"kzawm9-0"
})`background-color:${e=>e.color};flex-shrink:0;width:${e=>e.width};transition:width 0.3s ease;&:first-child{border-top-left-radius:${n("ZpU/").e/2}px;border-bottom-left-radius:${n("ZpU/").e/2}px;}&:last-child{border-top-right-radius:${n("ZpU/").e/2}px;border-bottom-right-radius:${n("ZpU/").e/2}px;}`;class p extends s.Component{render(){const{color:e,proportion:t}=this.props,n=t>0?100*t+"%":"0";return i.a.createElement(u,{color:e,width:n})}}p.displayName="ProgressBarSegment",p.defaultProps={color:n("5kDX").a.B400,proportion:0};const m=(e,t)=>{const{loggedTime:n,remainingTime:a}=e;return n&&void 0!==t?n+(a||0)-t:0};class b extends s.Component{constructor(...e){super(...e),this.secondsToTimeString=e=>{const{config:t,intl:a}=this.props;return Object(n("/1v1").a)(e,{workingHoursPerDay:t.hoursPerDay,workingDaysPerWeek:t.daysPerWeek,timeFormat:t.format||"pretty",defaultUnit:t.defaultUnit},a)}}getTooltip(){const{value:e,estimatedTime:t}=this.props,n=m(e,t)
;return 0===n?null:n>0?this.props.intl.formatMessage(o.overOriginalEstimate,{time:this.secondsToTimeString(n)}):this.props.intl.formatMessage(o.underOriginalEstimate,{time:this.secondsToTimeString(-n)})}render(){const{value:e,estimatedTime:t,shouldHighlightOnHover:a}=this.props,{loggedTime:s=0}=e,o=((e,t=0)=>{const{loggedTime:n=0,remainingTime:a=0}=e;return Math.max(t,n+a)})(e,t),r=Math.max(m(e,t),0),l=o?(s-r)/o:0,c=o?r/o:0;return i.a.createElement(d,{tooltip:this.getTooltip(),isCompact:this.props.isCompact,shouldHighlightOnHover:a},i.a.createElement(p,{color:this.props.isDone?n("5kDX").a.G300:n("5kDX").a.B400,proportion:l}),i.a.createElement(p,{color:n("5kDX").a.Y300,proportion:c}))}}b.displayName="ProgressTracker",b.defaultProps={isCompact:!0,isDone:!1,shouldHighlightOnHover:!1,value:{loggedTime:0}};t.a=Object(a.injectIntl)(b)},"+PQg":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("q1tI");const s=()=>{
const{showFlag:e}=Object(n("uS5k").f)();return{onSuccess:Object(a.useCallback)(((t,n)=>{e({type:"success",title:t,description:n})}),[e]),onFailure:Object(a.useCallback)(((t,n)=>{e({type:"error",title:t,description:n})}),[e])}},i=()=>{const{showFlag:e}=Object(n("uS5k").f)();return{onSuccess:Object(a.useCallback)((({title:t,description:n})=>{e({type:"success",title:t,description:n})}),[e]),onFailure:Object(a.useCallback)((({error:t,title:a,description:s})=>{if(t instanceof n("HQr3").a){const n=((e,t)=>{var n;const a=e.message||(null===(n=e.errors[0])||void 0===n?void 0:n.error);return a?{id:"field-flags-service.server-validation-error-message",defaultMessage:a}:t})(t,s);e({type:"warning",title:a,description:n})}else e({type:"error",title:a,description:s})}),[e])}}},"+VYr":function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r})),
n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return m}));const a=()=>({type:"SHOW_CREATE_WEB_LINK_FORM"}),s=()=>({type:"HIDE_CREATE_WEB_LINK_FORM"}),i=(e,t,a)=>({type:"CREATE_WEB_LINK_REQUEST",payload:{optimisticId:Object(n("Rp3N").y)(`optimistic-web-link-${Date.now()}`),href:e,linkText:t,iconUrl:a}}),o=(e,t)=>({type:"CREATE_WEB_LINK_SUCCESS",payload:{optimisticId:e,webLink:t}}),r=e=>({type:"CREATE_WEB_LINK_FAILED",payload:{optimisticId:e}}),l=e=>({type:"CREATE_WEB_LINK_RETRY",payload:{optimisticId:e}}),c=e=>({type:"DELETE_WEB_LINK_REQUEST",payload:{id:e}}),d=e=>({type:"DELETE_WEB_LINK_SUCCESS",payload:{id:e}}),u=e=>({type:"DELETE_WEB_LINK_FAILED",payload:{id:e}}),p=e=>({type:"CANCEL_FAILED_WEB_LINK_DELETION",payload:{id:e}}),m=e=>({type:"DELETE_OPTIMISTIC_WEB_LINK",payload:{id:e}})},"+a7Z":function(e,t,n){"use strict";n.d(t,"a",(function(){
return i}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").f,(e=>e.issueRemoteData)),i=Object(a.createSelector)(s,(e=>e.isLoadingComplete))},"+bN2":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));const a=(e,t)=>`${e}/rest/api/2/attachment/upload/issue/${t}/credentials`,s=(e,t)=>Object(n("K4VI").a)(a(e,t)).catch((e=>{throw new(n("QMRn").a)(e,a("{baseUrl}","{issueKey}"))})),i=(e,t)=>Object(n("QNWr").a)(a(e,t))},"+gsn":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}))
;const a=()=>Object(n("WCl/").b)()?"":`\n  ${(()=>"\nfragment groupItems on GroupSectionItem {\n    ... on FieldSectionItem {\n      id\n    }\n    ... on PanelSectionItem {\n      id\n    }\n    ... on EcosystemSectionItem {\n      id\n    }\n    ... on ForgeSectionItem {\n      id\n    }\n  }")()}\n  ${(()=>"\n  fragment sectionItems on SectionItem {\n    type: __typename\n    ... on FieldSectionItem {\n      id\n    }\n    ... on TabLayout {\n      id\n      name\n      items {\n        ... on FieldSectionItem {\n          id\n        }\n      }\n    }\n    ... on PanelSectionItem {\n      id\n    }\n    ... on EcosystemSectionItem {\n      id\n    }\n    ... on ForgeSectionItem {\n      id\n    }\n    ... on GroupLayout {\n      id\n      name\n      items {\n        ...groupItems\n      }\n    }\n  }")()}\n  ${(()=>"\nfragment section on Section {\n    items {\n      ...sectionItems\n    }\n  }\n  ")()}\n  `
;t.a=()=>Object(n("WCl/").b)()?"":"\n  issueSections {\n    templateKey: __typename\n    ... on PrimarySecondaryContextSections {\n      contentSection {\n        ...section\n      }\n      primaryContextSection {\n        ...section\n      }\n      secondaryContextSection {\n        ...section\n      }\n    }\n    ... on JsdSections {\n      requestPortalSection {\n        ...section\n      }\n      contentSection {\n        ...section\n      }\n      primaryContextSection {\n        ...section\n      }\n      secondaryContextSection {\n        ...section\n      }\n    }\n  }\n  "},"/9t6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))
;const a=()=>`\n    ecosystem {\n      operations {\n        name\n        url: href\n        icon {\n          url\n        }\n        tooltip\n        styleClass\n      }\n      contentPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        icon {\n          url\n        }\n        tooltip\n        type\n        showByDefault\n        manuallyAddedToIssue\n      }\n      activityPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n      }\n      backgroundScripts {\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        shouldReloadOnRefresh\n      }\n      ecoSystemOnDate\n      contentPanelsCustomised\n      ${(()=>"forge {\n        panels {\n          id\n          instances {\n            id\n            collapsed\n            added\n          }\n        }\n      }")()}\n    }\n`,s=()=>"\n      ... on GlancesField {\n        fieldKey\n        value {\n          name\n          status\n          iframe {\n            addonKey\n            moduleKey\n            options\n          }\n          icon {\n            url\n          }\n          content\n          type\n        }\n      }\n"
},"/J2q":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c}));const a=({formatMessage:e})=>({accountId:"__UNASSIGNED_ID__",displayName:e(n("MhXd").a.unassignedOption),avatarUrls:{}}),s=({formatMessage:e})=>({accountId:"-1",displayName:e(n("MhXd").a.automaticOption),avatarUrls:{}}),i=({formatMessage:e},t)=>({accountId:"__INVITE_PEOPLE_ID__",displayName:e(t?n("MhXd").a.invitePeopleOptionAdmin:n("MhXd").a.invitePeopleOption),avatarUrls:{"48x48":n.n(n("sEM/")).a}}),o=({accountId:e,displayName:t,avatarUrls:n,emailAddress:a})=>({id:e||"",name:t,avatarUrl:n["48x48"],byline:a}),r=({id:e,name:t,avatarUrl:n})=>({accountId:e,displayName:t,avatarUrls:{"48x48":n}}),l=({avatarUrls:e})=>e["48x48"],c=(e,t,n)=>({accountId:e,displayName:t,avatarUrls:{"48x48":n}})},"/LFc":function(e,t,n){
"use strict";n.d(t,"f",(function(){return s})),n.d(t,"F",(function(){return i})),n.d(t,"I",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"D",(function(){return d})),n.d(t,"E",(function(){return u})),n.d(t,"G",(function(){return p})),n.d(t,"u",(function(){return m})),n.d(t,"y",(function(){return b})),n.d(t,"x",(function(){return g})),n.d(t,"z",(function(){return f})),n.d(t,"B",(function(){return h})),n.d(t,"A",(function(){return E})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return O})),n.d(t,"r",(function(){return v})),n.d(t,"s",(function(){return j})),n.d(t,"n",(function(){return I})),n.d(t,"w",(function(){return C})),n.d(t,"o",(function(){return S})),n.d(t,"p",(function(){return k})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"k",(function(){return R})),n.d(t,"C",(function(){return L})),n.d(t,"H",(function(){return M})),
n.d(t,"b",(function(){return A})),n.d(t,"a",(function(){return _})),n.d(t,"v",(function(){return N})),n.d(t,"g",(function(){return x})),n.d(t,"q",(function(){return U})),n.d(t,"t",(function(){return F}));var a=n("peh1");const s=e=>e.entities,i=Object(a.createSelector)(s,(e=>e?e.project:null)),o=e=>e.ui,r=Object(a.createSelector)(s,(e=>e.issue)),l=Object(a.createSelector)(s,(e=>e.refreshedOn)),c=Object(a.createSelector)(o,(e=>e.flags)),d=Object(a.createSelector)(i,(e=>e&&e.projectId?e.projectId:null)),u=Object(a.createSelector)(i,(e=>e?e.projectKey:null)),p=Object(a.createSelector)(i,(e=>e&&e.projectType?e.projectType:null)),m=Object(a.createSelector)(i,(e=>!!e&&e.isSimplified)),b=Object(a.createSelector)(s,n("4dgq").a,((e,t)=>t?e.users[t]:null)),g=Object(a.createSelector)(s,n("4dgq").a,((e,t)=>{const n=t?e.users[t]:null;return n?n.avatarUrl:null})),f=Object(a.createSelector)(s,n("4dgq").a,((e,t)=>{const n=t?e.users[t]:null;return n?n.displayName:null
})),h=Object(a.createSelector)(s,(e=>e.parentIssue)),E=Object(a.createSelector)(b,(e=>e?e.timeZone:void 0)),y=Object(a.createSelector)(r,(e=>e&&Object(n("Rp3N").l)(e.id))),O=Object(a.createSelector)(m,(e=>!e)),v=Object(a.createSelector)(o,(e=>"LOADING"===e.loadingStage)),j=Object(a.createSelector)(o,(e=>"PREVIEW"===e.loadingStage)),I=Object(a.createSelector)(o,(e=>"COMPLETE"===e.loadingStage)),C=Object(a.createSelector)(o,(e=>e.loadingStage)),S=Object(a.createSelector)(o,(e=>!(!e.issueDeletion||!e.issueDeletion.isDeleteIssueModalOpen))),k=Object(a.createSelector)(o,(e=>!!e.issueDeletion&&e.issueDeletion.isDeletingIssue)),w=Object(a.createSelector)(o,(e=>!!e.issueDeletion&&e.issueDeletion.didIssueDeleteFail)),T=Object(a.createSelector)(o,(e=>e.error)),D=Object(a.createSelector)(o,(e=>e.errorMessage)),R=Object(a.createSelector)(s,(e=>t=>t?e.users[t]:void 0)),L=Object(a.createSelector)(s,(e=>e.parentLevelIssues)),M=()=>"jira",A=Object(a.createSelector)(p,n("Hh3U").j),_=Object(a.createSelector)(M,n("4dgq").i,((e,t)=>t?`ari:cloud:${e}:${t}`:null)),N=Object(a.createSelector)(_,y,((e,t)=>e&&t?`${e}:issue/${t}`:null)),x=Object(a.createSelector)((e=>e.agile),(e=>e&&e.epic&&e.epic.key||null)),U=Object(a.createSelector)(n("KSj7").t,(e=>(e=>({}.hasOwnProperty.call(e,"epic-issues")))(e))),F=Object(a.createSelector)(p,(e=>"service_desk"===e))
},"/MNd":function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return w}));var a=n("3tO9"),s=n.n(a),i=n("M6kn");var o=n("TYy9"),r=n.n(o),l=n("UB5X"),c=n.n(l);const d=e=>{if(Object(n("d90y").is2afErrorCleanupGroup2Enabled)()&&!e||!e.ecosystem||!e.fields)return{ecosystem:{},issueContentPanels:Object(n("d90y").is2afErrorCleanupGroup2Enabled)()?void 0:[],forgeIssueProperties:{collapsedPanels:Object(n("d90y").is2afErrorCleanupGroup2Enabled)()?void 0:[]}};const{ecosystem:t}=e,a=Object(n("3lC3").a)(e.fields,"GlancesField"),i=a?a.value.map((e=>s()(s()({},e),{},{status:e.status?JSON.parse(e.status):null}))):[],{forgeCollapsedPanels:o,forgePanelsKeys:l}=(e=>{const t=e.forge?r()((e.forge.panels||[]).map((e=>{const{id:t,instances:a}=e;return(Array.isArray(a)?a:[]).filter((({added:e})=>c()(e))).map((({added:e,id:a,collapsed:s})=>({key:Object(n("UKEq").f)(t,a,e),collapsed:s||!1})))}))):[];return{
forgeCollapsedPanels:t.filter((({collapsed:e})=>e)).map((({key:e})=>e)),forgePanelsKeys:t.map((({key:e})=>e))}})(t),d=t?(t.contentPanels||[]).filter((e=>e.manuallyAddedToIssue)).map((e=>`${e.iframe.addonKey}_${Object(n("+9A+").b)(e.iframe.moduleKey)}`)):[],u=t.contentPanelsCustomised?["issue.content.panel.customised.flag"]:[],p={contentPanels:t.contentPanels||[],operations:t.operations||[],activityPanels:t.activityPanels||[],backgroundScripts:t.backgroundScripts||[],ecoSystemOnDate:t.ecoSystemOnDate||0,contentPanelsCustomised:t.contentPanelsCustomised};return{ecosystem:Object(n("6oEo").b)(s()(s()({},p),{},{glances:i,canInstallAddons:!1})),issueContentPanels:[...l,...d,...u],forgeIssueProperties:{collapsedPanels:o}}
},u=()=>"\n      timeTracking {\n        isTimeTrackingEnabled\n        hoursPerDay\n        daysPerWeek\n        defaultUnit\n      }\n",p=({shouldRefreshComments:e}={})=>`\n    query issueViewDynamicQuery($issueKey: String!) {\n        viewIssue(issueKey: $issueKey) {\n            ${!0===e?Object(n("G+I/").a)():""}  \n            ${(()=>(()=>`\n    ecosystem {\n      operations {\n        name\n        url: href\n        icon {\n          url\n        }\n        tooltip\n        styleClass\n      }\n      contentPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        icon {\n          url\n        }\n        tooltip\n        type\n        showByDefault\n        manuallyAddedToIssue\n      }\n      activityPanels {\n        name\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n      }\n      backgroundScripts {\n        iframe {\n          addonKey\n          moduleKey\n          options\n        }\n        shouldReloadOnRefresh\n      }\n      ecoSystemOnDate\n      contentPanelsCustomised \n      ${(()=>"forge {\n        panels {\n          id\n          instances {\n            id\n            collapsed\n            added\n          }\n        }\n      }")()}\n    }\n`)())()}\n            fields {\n                __typename \n                    ${(()=>"\n  ... on GlancesField {\n    fieldKey\n    value {\n      name\n      status\n      iframe {\n        addonKey\n        moduleKey\n        options\n      }\n      icon {\n        url\n      }\n      content\n      type\n    }\n  }\n")()}\n            }\n        }\n        ${(()=>`\n    jiraSettings {\n      ${u()}\n      issueLinkTypes {\n        id\n        name\n        inward\n        outward\n      }\n    }\n`)()}\n        activitySortOrder\n    }\n`,m={
isTimeTrackingEnabled:!1,daysPerWeek:5,hoursPerDay:8,defaultUnit:"minute",format:"pretty"},b=e=>({timeTrackingConfiguration:e.timeTracking||m}),g={CONTENT_VISIBLE:"visible",CONTENT_REQUEST:"request"},f={CONTEXT_PRIMARY:"primary",CONTEXT_SECONDARY:"secondary"},h={primary:[],secondary:[]},E=({itemId:e,type:t})=>({id:e,type:t}),y=e=>e.layoutItems.reduce(((e,{category:t,items:n})=>{const a=f[t];return void 0!==a?s()(s()({},e),{},{[`${a}`]:n.map(E)}):e}),h),O={visible:[],request:void 0},v=e=>e.layoutItems?e.layoutItems.reduce(((e,{category:t,items:n})=>{const a=g[t];return void 0!==a?s()(s()({},e),{},{[`${a}`]:n.map(E)}):e}),O):O,j=e=>{const{accountId:t,displayName:n=null,avatarUrl:a=null}=e;return{accountId:t,displayName:n,avatarUrl:a}},I=e=>{const t=e.map((e=>(e=>{const{id:t,author:a,updateAuthor:s,created:i,updated:o,started:r,comment:l,timeSpent:c}=e,d=o!==i;return{id:t,author:a?j(a):null,updateAuthor:d&&s?j(s):null,updated:d?o:null,started:r,timeSpent:c,comment:Object(n("IJwP").a)(l)}
})(e)));return{worklogs:Object(n("3lC3").b)(t,"id")}},C=e=>{const{activitySortOrder:t,viewIssue:a,jiraSettings:i,permissions:o,myPreferences:r,mediaContext:l,project:c}=e;return s()(s()(s()(s()(s()(s()(s()(s()(s()(s()(s()({},(e=>({attachments:e.attachments}))(a)),Object(n("G+I/").b)(a)),(e=>{const{worklogs:t}=e;if(!t)return{worklogs:{},sortedWorklogIds:[],totalWorklogs:0,worklogsStartIndex:0};const{totalCount:n,startIndex:a,nodes:s}=t,{worklogs:i}=I(s);return{worklogs:i,sortedWorklogIds:s.map((e=>e.id)),totalWorklogs:n,worklogsStartIndex:a}})(a)),d(a)),(e=>{const t=b(e),n=((e={issueLinkTypes:[]})=>{const t=[];return e.issueLinkTypes.forEach((e=>t.push(...(({id:e,inward:t,outward:n})=>{const a=[];return t&&t===n?a.push({id:e,label:t,direction:"BOTH"}):(a.push({id:e,label:t,direction:"INWARD"}),a.push({id:e,label:n,direction:"OUTWARD"})),a})(e)))),{issueLinkTypes:t}})({issueLinkTypes:e.issueLinkTypes||[]}),a=(e=>({subtasksConfiguration:e.subtasks}))(e),i=(e=>({
newIssueViewTransitionSettings:e.newIssueViewTransitionSettings}))(e);return{jiraSettings:s()(s()(s()(s()({},t),n),a),i)}})(i)),(e=>{if(!e||0===e.length)return{permissions:n("0+GB").a};const t=Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()?e.reduce(((e,t)=>(e[t.key]=t,e)),{}):e.reduce(((e,t)=>s()(s()({},e),{},{[t.key]:t})),{});return Object(n("SuPg").d)({permissions:t})})(o)),(e=>e?{myPreferences:e}:Object.freeze({}))(r)),(e=>({issueTypes:e?e.issueTypes:[],newIssueViewLockedIn:Boolean(e&&e.newIssueViewLockedIn)}))(c)),{},{contextItemsCategories:y(a),contentItemsCategories:v(a),issueSections:a.issueSections},(e=>e?Object(n("Elcl").a)(e):{})(l)),(e=>{const{remoteLinks:t}=e;return t?{remoteLinks:t}:{remoteLinks:{isLinkingEnabled:!1,remoteLinkedIssues:[]}}})(a)),{},{activitySortOrder:t,containersByType:a.containersByType})},S=e=>{let t=0;const a=e=>e.path?e.path.join("."):e.locations?e.locations.map((e=>`line ${e.line}, column ${e.column}`)).join("&"):(t+=1,
`error without path or location: ${t}`),i=e.reduce(((e,t)=>s()(s()({},e),{},{[a(t)]:t.message})),{});return new(n("8r8e").a)({eventNameSuffix:"issue.error.gira",type:"fetch",app:"issue",event:i})},k=async(e,t,a)=>{const s=Object(n("1Xqn").a)(a,(()=>i.Observable.fromPromise(Object(n("POmc").a)(e,t)))).toPromise(),{data:o,errors:r}=await s;if(!o){const e=r?JSON.stringify(S(r)):"No data returned from graphql call";throw new(n("QMRn").a)(new Error(e),n("hr7V").a)}if(o&&r&&n("fnbV").a.safeErrorWithoutCustomerData("issue.fetch.gira","Failed to fetch some data from gira",S(r)),!o.viewIssue){if(Array.isArray(r)&&r.length>0){const e=JSON.stringify(S(r));throw new(n("QMRn").a)(new(n("tHEo").a)(500,`Call to gira returned empty viewIssue with errors: ${e}`),n("hr7V").a)}throw new(n("QMRn").a)(new(n("tHEo").a)(404,"Call to gira returned empty viewIssue"),n("hr7V").a)}return C(o)},w=async(e,t,a)=>{const i=await Object(n("tcin").a)(e).query({query:p(a),variables:{issueKey:t}}),{data:o,errors:r}=i
;if(!o){const e=r?JSON.stringify(S(r)):"No data returned from graphql call for dynamic data";throw new Error(e)}return o&&r&&n("fnbV").a.safeErrorWithoutCustomerData("issue.fetch.gira.dynamic","Failed to fetch some data from gira for dynamic data fetch",S(r)),(e=>{const{viewIssue:t,jiraSettings:a,activitySortOrder:i}=e;return Object(n("d90y").is2afErrorCleanupGroup2Enabled)()?s()(s()(s()(s()({},t&&t.comments&&Object(n("G+I/").b)(t)),t&&d(t)),b(a)),{},{activitySortOrder:i}):s()(s()(s()(s()({},t&&t.comments?Object(n("G+I/").b)(t):{}),d(t)),b(a)),{},{activitySortOrder:i})})(o)}},"/NfZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=({issueKey:e})=>Object(n("j3bG").b)({issueKey:e,fieldKey:"servicedesk-practices"}),s=()=>{const e=Object(n("ovRs").h)(),[t]=a({issueKey:e});return Array.isArray(t)&&(null==t?void 0:t.includes(n("o4hb").c))}},"/QDG":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){
return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));var a=n("vOnD");const s=n("wUly").c,i=a.default.div.withConfig({componentId:"anythr-0"})`width:inherit;height:inherit;opacity:1;background-color:${n("5kDX").a.N0};display:flex;flex-direction:column;position:fixed;overflow:hidden;${({top:e})=>null!=e&&`top: ${e}px;`};`,o=a.default.div.withConfig({componentId:"anythr-1"})`display:flex;flex-direction:column;height:100%;padding-left:${s}px;`,r=a.default.div.withConfig({componentId:"anythr-2"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;height:30px;margin:${n("ZpU/").e}px ${n("ZpU/").e}px 0;`},"/cyb":function(e,t,n){"use strict";var a=n("3tO9"),s=n.n(a),i=n("JRPe"),o=n("/MKj"),r=n("EcEN"),l=n.n(r);const c=Object(i.defineMessages)({defaultFallbackInvalidMessage:{id:"issue.field.default-fallback-invalid-message",defaultMessage:"The value could not be saved"}}),d={transformFromStateValue:(e,t,n)=>e,transformToStateValue:e=>e,
fallbackInvalidMessage:e=>e.formatMessage(c.defaultFallbackInvalidMessage),additionalProps:(e,t,n)=>({}),additionalCallbacks:e=>({}),isOptimistic:!0,canContainMediaContent:!1,shouldSaveDraft:!1,saveField:({baseUrl:e,issueKey:t,fieldMetaKey:a,value:s,fieldEditSessionId:i})=>{const o=i?`${e}/rest/api/2/issue/${t}?fieldEditSessionId=${i}`:`${e}/rest/api/2/issue/${t}`;return Object(n("/rpS").e)(o,{body:JSON.stringify({fields:{[a]:s}})})},shouldDiscardChangeOnFailure:!1,onSaveFailureFlagType:null,onSaveSuccessFlagType:null,fieldId:""},u=(e,t,n,a)=>({baseUrl:e,projectKey:t,issueKey:n,fieldId:a});t.a=(e=>(t,a)=>r=>{const c=(e=>({mapStateToProps:(t,a)=>{const i=e(t,a),o=s()(s()({},d),i),{fieldId:r,transformFromStateValue:l,transformToStateValue:c,fallbackInvalidMessage:p,additionalProps:m,additionalCallbacks:b,isOptimistic:g,canContainMediaContent:f,saveField:h,shouldDiscardChangeOnFailure:E,shouldSaveDraft:y,onSaveFailureFlagType:O,onSaveSuccessFlagType:v}=o,j={
isRichTextField:Object(n("KSj7").M)(r)(t),isOptimistic:g,canContainMediaContent:f,saveField:h,shouldDiscardChangeOnFailure:E,shouldSaveDraft:y,onSaveFailureFlagType:O,onSaveSuccessFlagType:v},I=Object(n("Wwog").a)(u),C=Object(n("Wwog").a)(c),S=Object(n("Wwog").a)(l);return(e,t)=>s()({fieldId:r,fieldOptions:j,memoizedTransformToStateValue:C,additionalCallbacks:b,intl:t.intl,label:Object(n("KSj7").n)(r)(e),issueKey:Object(n("d90y").isFieldDescriptionEnabled)()?Object(n("4dgq").w)(e):void 0,isEditable:Object(n("KSj7").G)(r)(e)&&"PREVIEW"!==Object(n("/LFc").w)(e),isEditing:Object(n("KSj7").H)(r)(e),fieldEditSessionId:Object(n("KSj7").g)(r)(e),invalidMessage:Object(n("KSj7").k)(r,p(t.intl))(e),customFieldConfig:Object(n("KSj7").q)(r)(e),value:S(Object(n("KSj7").i)(r)(e),I(Object(n("4dgq").f)(e),Object(n("4dgq").A)(e),Object(n("4dgq").w)(e),r),t.intl),isWaiting:!g&&Object(n("KSj7").J)(r)(e),isMobile:Object(n("4dgq").r)(e)},m(e,t.intl,j))},mapDispatchToProps:e=>({
initFieldOptions:({fieldId:t,fieldOptions:a})=>()=>e(Object(n("mUiE").f)(t,a)),onEditRequest:({fieldId:t,fieldOptions:a})=>(...s)=>{const i=s.length?s[s.length-1]:void 0;e(Object(n("mUiE").b)(t,a,l.a.v4(),i))},onChange:({fieldId:t,fieldOptions:a,memoizedTransformToStateValue:s})=>i=>e(Object(n("mUiE").e)(t,s(i),a)),onConfirm:({fieldId:t,fieldOptions:a,analyticsAttributeIdRetriever:s})=>(...i)=>{const o=i.length>1?i[0]:void 0,r=i.length?i[i.length-1]:void 0;return e(Object(n("mUiE").d)(t,a,o,r,s))},onBlur:({fieldId:t,fieldOptions:a})=>()=>e(Object(n("mUiE").c)(t,a)),onCancel:({fieldId:t,fieldOptions:a})=>()=>{e(Object(n("mUiE").c)(t,a)),e(Object(n("UWLJ").b)({fieldId:t}))},onPaste:({fieldId:t,fieldOptions:a})=>s=>e(Object(n("mUiE").g)(t,a,s)),getAdditionalCallbacks:({additionalCallbacks:t})=>t(e)}),mergeStateAndDispatchProps:(e,t)=>{const n=Object.keys(t).reduce(((n,a)=>(n[a]=t[a](e),n)),{}),a=t.getAdditionalCallbacks(e);return s()(s()(s()({},e),n),a)}}))(t)
;return Object(n("v5q+").a)([Object(n("VHV8").a)({onConfirm:e=>e({action:"updated",isBacklogSearchFieldChangeboardingEnabled:Object(n("d90y").isBacklogSearchFieldChangeboardingEnabled)()}),onEditRequest:{action:"updateStarted"}}),Object(n("ibeh").a)({componentName:"issueFields",actionSubject:e}),Object(o.connect)(c.mapStateToProps,c.mapDispatchToProps,c.mergeStateAndDispatchProps),i.injectIntl],a)(Object(n("CVeC").b)()(r))})("issueFields")},"/kYB":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={ASSIGNEE:{TIME_TO_RENDER_INITIAL_SUGGESTIONS:"jira.fe.issue.fields.assignee.time-to.render-initial-suggestions",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.assignee.time-to.reflect-input-results",TIME_TO_REFLECT_SELECTED:"jira.fe.issue.fields.assignee.time-to.reflect-selected",TIME_TO_ASSIGN_TO_ME_VIA_SHORTCUT:"jira.fe.issue.fields.assignee.time-to.assign-to-me-via-shortcut"},SUMMARY:{TIME_TO_RENDER_EDIT_VIEW:"jira.fe.issue.field.summary.time-to.render-edit-view",
TIME_TO_RENDER_READ_VIEW_ON_CONFIRM:"jira.fe.issue.field.summary.time-to.render-read-view-on-confirm",TIME_TO_RENDER_READ_VIEW_ON_CANCEL:"jira.fe.issue.field.summary.time-to.render-read-view-on-cancel"},LABELS:{TIME_TO_RENDER_INITIAL_SUGGESTIONS:"jira.fe.issue.fields.labels.time-to.render-initial-suggestions",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.labels.time-to.reflect-input-results",TIME_TO_RENDER_READ_VIEW_ON_CONFIRM:"jira.fe.issue.field.labels.time-to.render-read-view-on-confirm",TIME_TO_RENDER_READ_VIEW_ON_CANCEL:"jira.fe.issue.field.labels.time-to.render-read-view-on-cancel",TIME_TO_REFLECT_SELECTED_EXISTING:"jira.fe.issue.fields.labels.time-to.reflect-selected-existing",TIME_TO_REFLECT_SELECTED_NEW:"jira.fe.issue.fields.labels.time-to.reflect-selected-new",TIME_TO_REFLECT_REMOVED_EXISTING:"jira.fe.issue.fields.labels.time-to.reflect-removed-existing"},STORY_POINTS:{TIME_TO_RENDER_EDIT_VIEW:"jira.fe.issue.field.story-points.time-to.render-edit-view",
TIME_TO_RENDER_READ_VIEW_ON_CONFIRM:"jira.fe.issue.field.story-points.time-to.render-read-view-on-confirm",TIME_TO_RENDER_READ_VIEW_ON_CANCEL:"jira.fe.issue.field.story-points.time-to.render-read-view-on-cancel"},ISSUE_LINKS:{TIME_TO_REFLECT_SELECTED_ISSUE:"jira.fe.issue.fields.issue-links.time-to.reflect-selected-issue",TIME_TO_REFLECT_REMOVED_ISSUE:"jira.fe.issue.fields.issue-links.time-to.reflect-removed-issue",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.issue-links.time-to.reflect-input-results",TIME_TO_RENDER_LINKED_ISSUE:"jira.fe.issue.fields.issue-links.time-to.render-linked-issue",TIME_TO_RENDER_NEW_LINKED_ISSUE_INPUT:"jira.fe.issue.fields.issue-links.time-to.render-new-linked-issue-input"},SPRINT:{TIME_TO_REFLECT_SELECTED_SPRINT:"jira.fe.issue.fields.sprint.time-to.reflect-selected-sprint",TIME_TO_REFLECT_REMOVED_SPRINT:"jira.fe.issue.fields.sprint.time-to.reflect-removed-sprint",TIME_TO_REFLECT_INPUT_RESULT:"jira.fe.issue.fields.sprint.time-to.reflect-input-results",
TIME_TO_RENDER_READ_VIEW:"jira.fe.issue.fields.sprint.time-to.render-read-view",TIME_TO_RENDER_INITIAL_SUGGESTIONS:"jira.fe.issue.fields.sprint.time-to.render-initial-suggestions"},PRIORITY:{TIME_TO_RENDER_READ_VIEW:"jira.fe.issue.fields.priority.time-to.render-read-view",TIME_TO_RENDER_SUGGESTIONS:"jira.fe.issue.fields.priority.time-to.render-suggestions",TIME_TO_REFLECT_PRIORITY_UPDATE:"jira.fe.issue.fields.priority.time-to.reflect-priority-update"},COMMENTS:{TIME_TO_RENDER_NEW_COMMENT_EDITOR:"jira.fe.issue.fields.comments.time-to.render-new-comment-editor",TIME_TO_RENDER_SAVED_COMMENT:"jira.fe.issue.fields.comments.time-to.render-saved-comment"},DESCRIPTION:{TIME_TO_RENDER_EDIT_VIEW:"jira.fe.issue.field.description.time-to.render-edit-view",TIME_TO_SAVE_UPDATED_DESCRIPTION:"jira.fe.issue.field.description.time-to.save-updated-description",TIME_TO_SAVE_UNCHANGED_DESCRIPTION:"jira.fe.issue.field.description.time-to.save-unchanged-description"},EPIC_LINKS:{
TIME_TO_FETCH_INPUT_RESULTS_EPIC_PICKER_ENABLED:"jira.fe.issue.fields.epic-link.time-to.fetch-input-results.epic-picker-enabled",TIME_TO_FETCH_INPUT_RESULTS_EPIC_PICKER_DISABLED:"jira.fe.issue.fields.epic-link.time-to.fetch-input-results.epic-picker-disabled"}}},"/rL4":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return b}));var a=n("pVnL"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("hJd6");const d={isModalOpen:!1,isSubsequentLoad:!1,isSubTaskCreationOpen:!1,payload:null,id:"create-issue-dialog",title:null,sectionMessage:null,globalEventNamespaces:["QuickCreateIssue"],fieldsToAddInPublishedData:[],onIssueCreate:null,onClose:null,displayOnlyRequiredFields:!1,disableCreationSuccessFlag:!1,displayCreateAnotherIssueToggle:!0},u={openIssueCreateModal:(e={})=>({setState:t,getState:a})=>{const s=a();(s.isSubsequentLoad?n("udOb").b:n("udOb").a).start(),Object(n("LvNX").b)(),t(o()(o()({},s),{},{isModalOpen:!0
},e))},closeIssueCreateModal:()=>({setState:e})=>{e(o()(o()({},d),{},{isModalOpen:!1,isSubsequentLoad:!0}))},clearSectionMessage:()=>({setState:e,getState:t})=>{const n=t();e(o()(o()({},n),{},{sectionMessage:null}))}},p=Object(n("0b8M").a)({name:"issue-create.issue-create-form.use-trigger-issue-create-modal",initialState:d,actions:u}),m=Object(n("dq9g").a)(p),b=(Object(n("Y6nV").a)(p),e=>t=>{const[,{openIssueCreateModal:a,closeIssueCreateModal:i}]=m(),{data:o}=Object(c.p)(n("U1Fi").a),r=o&&(null==o?void 0:o.gicOptInStatus);return l.a.createElement(e,s()({openIssueCreateModal:a,closeIssueCreateModal:i,currentIssueCreateVisibility:(null==r?void 0:r.isEnabled)||!1},t))})},"/wd9":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var a={};n.r(a),n.d(a,"setEcosystem",(function(){return s}));const s=e=>({setState:t})=>{e&&t(e)},i=Object(n("0b8M").a)({name:"issue-view-layout-ecosystem-service",initialState:{
activityPanels:{},canInstallAddons:!1,contentPanels:{},backgroundScripts:[],ecosystemOnDate:0,glances:{},operations:[]},actions:a}),o=Object(n("dq9g").a)(i),r=Object(n("dq9g").a)(i,{selector:e=>e.contentPanels}),l=Object(n("dq9g").a)(i,{selector:null}),c=()=>{const[e]=o();return[e.glances]},d=()=>{const[e]=r();return"io.tempo.jira"in e},u=()=>{const[,{setEcosystem:e}]=l();return[void 0,{setEcosystem:e}]}},"0+GB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));var a={};n.r(a),n.d(a,"setProjectPermissions",(function(){return s}));const s=(e,t)=>({setState:n})=>{n({[e]:t})},i={canAddComments:!1,canAdministerJira:!1,canAdministerProject:!1,canAssignIssues:!1,canBeAssignedToIssues:!1,canCloneIssue:!1,canCreateAttachments:!1,canCreateChildren:!1,canCreateSubtask:!1,canDeleteAllAttachments:!1,canDeleteAllComments:!1,canDeleteAllWorklogs:!1,canDeleteIssue:!1,canDeleteOwnAttachments:!1,canDeleteOwnComments:!1,
canDeleteOwnWorklogs:!1,canEditAllComments:!1,canEditAllWorklogs:!1,canEditIssues:!1,canEditOwnComments:!1,canEditOwnWorklogs:!1,canLinkIssues:!1,canLogWork:!1,canManageWatchers:!1,canMoveIssue:!1,canModifyReporter:!1,canScheduleIssues:!1,canUseServiceDeskAgentFeatures:!1,canBrowseUsers:!1,canViewDevTools:!1,canViewWatchers:!1,canViewVoters:!1,canCreateIssuesInClassicProjectEpic:!1,canResolveIssues:!1},o=Object(n("0b8M").a)({name:"project-permissions",initialState:{},actions:a}),r=Object(n("dq9g").a)(o,{selector:(e,{projectKey:t})=>e[t]||i}),l=Object(n("dq9g").a)(o,{selector:null})},"0USP":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("peh1");const s=e=>e.shareAsComment,i=Object(a.createSelector)(s,(e=>e.value)),o=Object(a.createSelector)(s,(e=>e.timestamp))},"0YYc":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("vOnD")
;const s=4*n("ZpU/").e,i=3*n("ZpU/").e,o=a.default.div.withConfig({componentId:"sc-1clrjib-0"})`> div{padding:0;margin:0;}${({hasMultipleScrollingColumns:e,isCompact:t})=>e?"\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        \n        > div {\n            flex-wrap: nowrap;\n            height: 100%;\n            /* targets Grid element of @atlaskit/page, which has align-items: flex-start by default */\n            align-items: initial;\n        }\n        ":`\n            padding-left: ${t?0:n("ZpU/").e/2}px;\n            /* Targets <GridColumn> element */\n            > div > div {\n                margin: 0;\n                max-width: 100%;\n            }\n        `}`},"0aid":function(e,t,n){"use strict";t.a=()=>"\n    ... on IssueKeyField {\n        fieldKey\n        stringValue\n    }\n"},"0jFE":function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),
n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));const a="-created",s=e=>{var t;return{id:e.id,author:e.author?Object(n("gbrB").c)(e.author):null,updateAuthor:e.updateAuthor?Object(n("gbrB").c)(e.updateAuthor):null,bodyAdf:e.body,bodyHtml:void 0,visibility:e.visibility,createdDate:Object(n("Lkq7").a)(e.created),updatedDate:e.updated?Object(n("Lkq7").a)(e.updated):null,edited:!!e.updated&&e.updated!==e.created,isInternal:!e.jsdPublic,outsideComment:null!==(t=e.outsideComment)&&void 0!==t&&t}},i=e=>({comments:e.data.issueComments.nodes.map((e=>(({id:e,author:t,updateAuthor:a,visibility:s,created:i,updated:o,bodyAdf:r,renderedBody:l,jsdPublic:c,jsdAuthorCanSeeRequest:d})=>({id:e,author:t?Object(n("gbrB").b)(t):null,updateAuthor:a?Object(n("gbrB").b)(a):null,visibility:s,createdDate:Object(n("Lkq7").a)(i),updatedDate:o?Object(n("Lkq7").a)(o):null,edited:!!o&&o!==i,bodyAdf:Object(n("IJwP").a)(r),bodyHtml:l,isInternal:!c,
jsdAuthorCanSeeRequest:d}))(e))),totalComments:e.data.issueComments.totalCount}),o=({type:e,value:t})=>{switch(e?e.toLowerCase():null){case"group":return{value:t,type:"group"};case"role":return{value:t,type:"role"};default:{const a=`transformCommentVisibility: unknown comment visibility type received '${e}'`;return n("fnbV").a.safeErrorWithoutCustomerData("issue.transform.comment",a,new(n("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:new Error(a)})),{value:t,type:"role"}}}},r=e=>{const t=e.author?e.author.id:null,a=e.updateAuthor?e.updateAuthor.id:null;return{id:e.id,authorId:t,updateAuthorId:a,bodyAdf:e.bodyAdf,bodyHtml:e.bodyHtml,createdDate:e.createdDate,updatedDate:e.updatedDate,edited:e.edited,visibility:e.visibility?o(e.visibility):n("AWZZ").a,isInternal:e.isInternal,jsdAuthorCanSeeRequest:e.jsdAuthorCanSeeRequest}},l=(e,t,a,s)=>{const{comments:i}=e,o=i.filter((e=>e.author)).map((e=>e.author)),l=Math.max("FETCH_NEWER_COMMENTS_REQUEST"===s?a-i.length:a,0)
;return{users:Object(n("3lC3").b)(o,"id"),comments:Object(n("3lC3").b)(i.map(r),"id"),loadedComments:t+i.length,commentsStartIndex:l,totalComments:e.totalComments}},c=(e,t,s,i,o)=>{const{comments:l}=e,c=l.filter((e=>e.author)).map((e=>e.author));let d;return d="FETCH_NEWER_COMMENTS_REQUEST"===i?Math.max(o===a?s-l.length:s,0):Math.max(o===a?s:s-l.length,0),{users:Object(n("3lC3").b)(c,"id"),comments:Object(n("3lC3").b)(l.map(r),"id"),loadedComments:t+l.length,commentsStartIndex:d,totalComments:e.totalComments}}},"0krZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return je}));var a=n("q1tI"),s=n.n(a),i=n("vN+2"),o=n.n(i),r=n("QILm"),l=n.n(r),c=n("3tO9"),d=n.n(c)
;const u=({key:e,havePermission:t})=>"VIEW_READONLY_WORKFLOW"===e&&t||"ADMINISTER"===e&&t,p=({key:e,havePermission:t})=>"VIEW_READONLY_WORKFLOW"===e&&t,m=(e,t)=>`\n    query nextGenViewWorkflowQuery {\n        permissions(issueKey:"${e}", keys:["VIEW_READONLY_WORKFLOW", "ADMINISTER"]) {\n            key\n            havePermission\n        }\n        viewIssue(issueKey: "${e}") {\n            fields {\n                ... on IssueTypeField {\n                    fieldKey\n                    id\n                }\n            }\n        }\n        ${t?`project(projectKey: "${t}") {\n            projectId\n            simplified\n            type\n        }`:""}\n    }\n`,b=(e,t,a,s)=>Object(n("QNWr").a)((e=>`${e}/rest/gira/latest/`)(e),{method:"POST",body:JSON.stringify({query:m(t,a)})}).then((e=>(({data:e},t)=>{if(!e||!e.permissions||!e.viewIssue)return;const{permissions:a,project:s,viewIssue:i}=e,o=!0===(s&&s.simplified||t)?u:p,r=i.fields.find((e=>"issuetype"===e.fieldKey)),l={
hasPermission:a.some(o),issueTypeId:Object(n("Rp3N").p)(r?r.id:"")};return s&&(l.projectId=Object(n("Rp3N").s)(String(s.projectId)),l.projectType=Object(n("Hh3U").l)(s.type),l.isSimplified=s.simplified),l})(e,s)));class g extends a.Component{constructor(e){super(e),this.fetch=async()=>{const{baseUrl:e,projectKey:t,issueKey:a,isSimplified:s}=this.props;this.request();try{const n=await b(e,a,t,s);this.success(n)}catch(i){n("RDfz").a.safeErrorWithoutCustomerData("issue-field.status.fetch-view-workflow",i),this.failure(i)}},this.request=()=>{this.setState({error:void 0,loading:!0,data:void 0})},this.success=e=>{this.setState({loading:!1,data:e})},this.failure=e=>{this.setState({error:e,loading:!1})},this.state={data:void 0,loading:!1,error:void 0}}render(){return this.props.children(d()(d()({},this.state),{},{fetch:this.fetch}))}}g.displayName="ViewWorkflowService";const f=["data"],h={data:void 0,loading:!1,error:void 0,fetch:()=>Promise.resolve()},E=e=>{
const{ViewWorkflowService:t,ContainerContextSubscriber:a,baseUrl:i,issueKey:o,children:r}=e,c=o?Object(n("J4oe").a)(o):null;return o&&c?s.a.createElement(a,null,(({data:e})=>{const a=((e,t)=>{if(!e||!e.project)return;const a=e.project;return a.key===t?{projectId:Object(n("Rp3N").s)(a.id.toString()),projectType:a.type,isSimplified:a.isSimplified}:void 0})(e,c);return s.a.createElement(t,{baseUrl:i,issueKey:o,projectKey:a?void 0:c,isSimplified:a&&a.isSimplified},(e=>{let{data:t}=e,n=l()(e,f);const s=a||t?d()(d()({},a),t):void 0;return r(d()({data:s},n))}))})):r(d()({},h))};E.displayName="ViewWorkflowContextService",E.defaultProps={ViewWorkflowService:g};var y=E,O=n("JRPe"),v=n("vOnD");const j=v.default.div.withConfig({componentId:"z7i8na-0"})`padding:${n("ZpU/").e}px;text-align:center;`,I=()=>s.a.createElement(j,null,s.a.createElement(n("6UK4").a,null));I.displayName="LoadingSpinner";const C=v.keyframes`to{box-shadow:0 0 0 10px rgba(0,0,0,0);}`,S=v.default.div.withConfig({
componentId:"sc-1wah291-0"})`display:inline-flex;border-radius:3px;box-shadow:0 0 0 0 ${n("5kDX").a.G400};animation:${e=>e.shouldShow?`${C} 1.45s cubic-bezier(0.5, 0, 0, 1)`:"none"};`;class k extends a.Component{constructor(...e){super(...e),this.state={shouldShow:!1}}componentDidUpdate(e){e.status.statusCategory.id!==this.props.status.statusCategory.id&&this.setState({shouldShow:3===this.props.status.statusCategory.id})}render(){return s.a.createElement(S,{shouldShow:this.state.shouldShow},this.props.children)}}k.displayName="Pulse";var w=n("wTIg");const T=e=>`\n    &:not(:active), &:disabled {\n        background: ${e.background} !important;\n        color: ${e.color} !important;\n    }\n    \n    &:hover:not(:active) {\n        background: ${e.backgroundHover} !important;\n        color: ${e.color} !important;\n    }\n`,D={default:{background:n("5kDX").a.N20A,backgroundHover:n("5kDX").a.N30A,color:n("5kDX").a.N400},todo:{background:n("5kDX").a.N40,backgroundHover:n("5kDX").a.N50,
color:n("5kDX").a.N800},inProgress:{background:n("5kDX").a.B400,backgroundHover:n("5kDX").a.B500,color:n("5kDX").a.N0},done:{background:n("5kDX").a.G400,backgroundHover:n("5kDX").a.G500,color:n("5kDX").a.N0}},R=Object(w.a)(n("340+").a,{target:"elro8wh0"})("font-weight:600;",(e=>!e.isSelected&&T(D.default)),";"),L=Object(w.a)(n("340+").a,{target:"elro8wh1"})("font-weight:600;",(e=>!e.isSelected&&T(D.todo)),";"),M=Object(w.a)(n("340+").a,{target:"elro8wh2"})("font-weight:600;",(e=>!e.isSelected&&T(D.inProgress)),";"),A=Object(w.a)(n("340+").a,{target:"elro8wh3"})("font-weight:600;",(e=>!e.isSelected&&T(D.done)),";"),_=e=>{const{ariaLabel:t,isEditable:a,isOpen:i,status:o,targetRef:r,statusButtonRef:l}=e,c=(e=>{switch(e){case 2:return L;case 3:return A;case 4:return M;default:return R}})(o.statusCategory.id);return s.a.createElement("div",{ref:r},s.a.createElement(k,{status:o},Object(n("rcbi").c)()?s.a.createElement(c,{id:"issue.fields.status-view.status-button",ref:l,"aria-label":t,
"aria-expanded":i,isDisabled:!a,iconAfter:s.a.createElement(n.n(n("1YpF")).a,{label:""})},o.name):s.a.createElement(c,{ref:l,"aria-label":t,"aria-expanded":i,isDisabled:!a,iconAfter:s.a.createElement(n.n(n("1YpF")).a,{label:""})},o.name)))};_.displayName="StatusButton";var N=Object(O.defineMessages)({globalTransition:{id:"issue-field-status.status-view.transition.with-label.global-transition",defaultMessage:"Transition to"}});const x=v.default.div.withConfig({componentId:"sc-1ta161u-0"})`display:flex;`,U=v.default.span.withConfig({componentId:"sc-1ta161u-1"})`flex-grow:1;`,F=v.default.span.withConfig({componentId:"sc-1ta161u-2"})`flex-shrink:0;display:flex;`,P=v.default.div.withConfig({componentId:"sc-1ta161u-3"})`display:inline-flex;align-items:center;`,V=e=>{const t=Object(n("NRyt").d)()
;return s.a.createElement(x,null,s.a.createElement(U,null,((e,t)=>e.isGlobal?e.name!==e.to.name?e.name:t.formatMessage(N.globalTransition):e.name)(e.transition,t)),s.a.createElement(F,null,s.a.createElement(P,null,s.a.createElement(n.n(n("/u5F")).a,{label:"",size:"small"})),s.a.createElement(n("2Wab").a,{status:e.transition.to})))};V.displayName="TransitionWithLabel";const K=e=>s.a.createElement(n("2Wab").a,{status:e.transition.to});K.displayName="TransitionWithoutLabel";const $=e=>e.hasLabel?s.a.createElement(V,{transition:e.transition}):s.a.createElement(K,{transition:e.transition}),W=Object(n("wW5i").a)("statusField",{onOpen:"openDropdown",onChange:"transitionSelected"})(n("p/Kl").a);class B extends a.Component{constructor(...e){super(...e),this.state={isOpen:!1},this.onChildWrapperRefUpdate=e=>{this.childWrapperRef=e},this.wasChanged=!1,this.onChange=(e,t,a)=>{const{hasScreen:s}=e.transition;this.wasChanged=!0,Object(n("B2Rg").b)().markStartOfInteraction({
key:n("q+Ru").a.TIME_TO_APPLY_SELECTED_OPTION,cancelExisting:!0}),s&&Object(n("B2Rg").b)().markStartOfInteraction({key:n("q+Ru").a.TIME_TO_OPEN_TRANSITION_SCREEN,cancelExisting:!0}),Object(n("yy8q").h)(a,"transitionSelectedStatusField",{hasScreen:s}),this.props.onChange(e.transition,a)},this.onOpen=e=>{Object(n("B2Rg").b)().markStartOfInteraction({key:n("q+Ru").a.TIME_TO_RENDER_OPTIONS,cancelExisting:!0}),Object(n("yy8q").h)(e,"openDropdownStatusField"),this.props.onOpen(e),this.setState({isOpen:!0})},this.onClose=()=>{this.wasChanged||Object(n("B2Rg").b)().markStartOfInteraction({key:n("q+Ru").a.TIME_TO_CANCEL_DROPDOWN,cancelExisting:!0}),this.wasChanged=!1,this.props.onClose(),this.setState({isOpen:!1})},this.childWrapperRef=void 0}componentDidUpdate(e,t){const{transitions:a,isSaving:s}=this.props,{isOpen:i}=this.state;!0===e.isSaving&&!1===s&&this.childWrapperRef&&this.childWrapperRef.children.length>0&&this.childWrapperRef.children[0].focus()
;const o=!t.isOpen&&i,r=null===e.transitions&&a;o&&!a&&Object(n("B2Rg").b)().markTimeToFeedback({key:n("q+Ru").a.TIME_TO_RENDER_OPTIONS}),(o&&a||i&&r)&&setTimeout((()=>{Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_RENDER_OPTIONS})}));t.isOpen&&!i&&setTimeout((()=>{Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_APPLY_SELECTED_OPTION}),Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_CANCEL_DROPDOWN})}))}componentWillUnmount(){Object.keys(n("q+Ru").a).forEach((e=>{Object(n("B2Rg").b)().cancel({key:n("q+Ru").a[e]},!0)}))}renderLozenge({isEditable:e,isSaving:t,error:a,targetRef:i}){const{intl:{formatMessage:o},value:r}=this.props;return t?s.a.createElement(n("SdaB").a,{border:!1},s.a.createElement(n("2Wab").c,{targetRef:i,status:r,error:a})):s.a.createElement(n("2Wab").c,{ariaLabel:`${r.name} - ${o(n("e3aO").a.changeStatus)}`,error:a,hasHoverState:!0,isEditable:e,isOpen:this.state.isOpen,status:r,targetRef:i})}
renderButton({isEditable:e,isSaving:t,targetRef:a}){const{intl:{formatMessage:i},value:o,statusButtonRef:r}=this.props,l=s.a.createElement(_,{ariaLabel:`${o.name} - ${i(n("e3aO").a.changeStatus)}`,isEditable:e,isOpen:this.state.isOpen,status:o,targetRef:a,statusButtonRef:r});return t?s.a.createElement(n("SdaB").a,null,l):l}renderWithFocusWrapper(e){return s.a.createElement("div",{ref:this.onChildWrapperRefUpdate},e)}renderTarget({isEditable:e,isSaving:t,error:n,targetRef:a}){const{appearance:i,value:o}=this.props;if(o){if("lozenge"===i)return this.renderWithFocusWrapper(this.renderLozenge({isEditable:e,isSaving:t,error:n,targetRef:a}));if("button"===i)return this.renderWithFocusWrapper(this.renderButton({isEditable:e,isSaving:t,targetRef:a}))}return s.a.createElement("div",null)}render(){const{footer:e,isLoading:t,isEditable:a,isSaving:i,error:o,value:r,intl:{formatMessage:l},transitions:c}=this.props,d=null!=c,u=Object(n("KLbr").a)(c,r.id),p=Object(n("KLbr").d)(u||[])
;return i||!a?this.renderTarget({isSaving:i,isEditable:a,error:o}):s.a.createElement(W,{noOptionsMessage:()=>l(d?n("e3aO").a.noPermission:n("e3aO").a.cannotLoadTransitions),formatOptionLabel:e=>s.a.createElement($,{transition:e.transition,hasLabel:!p}),options:Object(n("KLbr").e)(u||[]),target:({ref:e})=>this.renderTarget({isEditable:a,isSaving:i,error:o,targetRef:e}),isLoading:t,isDisabled:!a,searchThreshold:99999,onChange:this.onChange,onOpen:this.onOpen,onClose:this.onClose,closeMenuOnSelect:!0,components:{LoadingMessage:()=>s.a.createElement(I,null)},popperProps:{modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",options:{padding:5,rootBoundary:"document"}}],strategy:"fixed"},footer:e})}}B.displayName="StatusView",B.defaultProps={isEditable:!0,isSaving:!1,onChange:o.a,onOpen:o.a,onClose:o.a};var q=Object(O.injectIntl)(B),H=Object(O.defineMessages)({errorMessage:{id:"issue-field-status.common.view-workflow.error.error-message",
defaultMessage:"Couldn\u2019t find the workflow."},tryAgain:{id:"issue-field-status.common.view-workflow.error.try-again",defaultMessage:"Try again"}});const G=v.default.div.withConfig({componentId:"ycn99o-0"})`height:${6*n("ZpU/").e}px;border-top:2px solid ${n("5kDX").a.N40};display:flex;align-items:center;padding:0 ${1.5*n("ZpU/").e}px;justify-content:center;`,Y=v.default.div.withConfig({componentId:"ycn99o-1"})`display:flex;flex-grow:1;height:100%;`,Z=v.default.div.withConfig({componentId:"ycn99o-2"})`margin-right:${n("ZpU/").e}px;`,X=({onRetry:e})=>{const{formatMessage:t}=Object(n("NRyt").d)(),i=Object(a.useCallback)(((t,a)=>{Object(n("yy8q").h)(a,"retryViewWorkflowButton"),e(t)}),[e]);return s.a.createElement(n("HlQC").a,{sourceName:"viewWorkflowError",sourceType:n("CU8z").g},s.a.createElement(G,null,s.a.createElement(Z,null,t(H.errorMessage)),s.a.createElement(Y,null,s.a.createElement(n("0+Gd").a,{appearance:"link",spacing:"none",onClick:i,theme:(e,t)=>{const n=e(t)
;return d()(d()({},n),{},{buttonStyles:d()(d()({},n.buttonStyles),{},{alignItems:"center"})})}},t(H.tryAgain))),s.a.createElement(n("02VO").b,null)))};X.displayName="Error";class J extends a.Component{constructor(...e){super(...e),this.onRetry=(e,t)=>{Object(n("yy8q").h)(t,"retryViewWorkflowButton"),this.props.onRetry(e)}}render(){const{intl:{formatMessage:e}}=this.props;return s.a.createElement(n("HlQC").a,{sourceName:"viewWorkflowError",sourceType:n("CU8z").g},s.a.createElement(G,null,s.a.createElement(Z,null,e(H.errorMessage)),s.a.createElement(Y,null,s.a.createElement(n("0+Gd").a,{appearance:"link",spacing:"none",onClick:this.onRetry,theme:(e,t)=>{const n=e(t);return d()(d()({},n),{},{buttonStyles:d()(d()({},n.buttonStyles),{},{alignItems:"center"})})}},e(H.tryAgain))),s.a.createElement(n("02VO").b,null)))}}J.displayName="ErrorOld";var z=Object(n("5WHm").a)(n("rcbi").a,X,Object(O.injectIntl)(J)),Q=Object(O.defineMessages)({viewWorkflow:{
id:"issue-field-status.common.view-workflow.button.view-workflow",defaultMessage:"View workflow"}});const ee=v.default.div.withConfig({componentId:"sc-1wnuph0-0"})`height:${6*n("ZpU/").e}px;border-top:2px solid ${n("5kDX").a.N40};`,te=v.default.div.withConfig({componentId:"sc-1wnuph0-1"})`display:flex;flex-grow:1;height:100%;`,ne=({content:e,children:t})=>e?s.a.createElement(n("Yto1").a,{tag:"span",content:e},t):t,ae=({isDisabled:e,isLoading:t,isInitialLoading:a,onClick:i,onMount:o,tooltipContent:r})=>{const l=Object(n("NRyt").d)(),c=!0===e&&!a;return s.a.createElement(ee,null,s.a.createElement(n("gV9P").a,{onMount:o}),s.a.createElement(ne,{content:r},s.a.createElement(te,null,s.a.createElement(n("0+Gd").a,{testId:"issue-field-status.common.ui.view-workflow.button.view-workflow",shouldFitContainer:!0,appearance:"subtle",spacing:"none",isDisabled:e,isLoading:t,onClick:i,theme:(e,t)=>{const a=e(t);return d()(d()({},a),{},{buttonStyles:d()(d()({},a.buttonStyles),{},{alignItems:"center",
textAlign:"left",color:c?n("5kDX").a.N70:n("5kDX").a.N900,padding:`0 ${1.5*n("ZpU/").e}px`})})}},l.formatMessage(Q.viewWorkflow)))))};ae.displayName="ViewWorkflowButton";var se=ae,ie=Object(O.defineMessages)({noPermission:{id:"issue-field-status.common.view-workflow.no-permission",defaultMessage:"You don't have permission to view this workflow."},loading:{id:"issue-field-status.common.view-workflow.loading",defaultMessage:"Looks like your connection is slow. We\u2019re still finding this workflow."}});const oe=e=>{if(e.data&&e.data.viewIssue&&e.data.viewIssue.workflow)return{workflowName:e.data.viewIssue.workflow.name,currentStepId:e.data.viewIssue.workflow.step.id};throw new Error("TransformError")};class re extends a.Component{constructor(...e){super(...e),this.state={data:void 0,error:void 0,loading:!1},this.load=async()=>{this.onLoading();const{baseUrl:e,issueKey:t}=this.props;try{this.fireAnalytics();const a=await((e,t)=>Object(n("/rpS").d)(`${e}/rest/gira/1/`,{
body:JSON.stringify({query:"\nquery classicViewWorkflowQuery($issueKey: String!) {\n    viewIssue(issueKey: $issueKey) {\n        workflow {\n            name\n            step {\n                id\n            }\n        }\n    }\n}\n",variables:{issueKey:t}})}).then(oe))(e,t);this.onLoadSucceeded(a)}catch(a){n("RDfz").a.safeErrorWithoutCustomerData("issue-field.status.classic-view-workflow-service.fetch","Failed to fetch classic view workflow data.",{errorReason:a.message&&"TransformError"===a.message?"transform":"fetch"}),this.onLoadFailed(a)}}}componentDidMount(){!0===this.props.shouldLoadOnMount&&this.load()}onLoading(){this.setState({data:void 0,error:void 0,loading:!0})}onLoadSucceeded(e){this.setState({data:e,error:void 0,loading:!1})}onLoadFailed(e){this.setState({data:void 0,error:e,loading:!1})}fireAnalytics(){const e=this.props.createAnalyticsEvent({action:"requested"});Object(n("yy8q").b)(e,"classicViewWorkflowData requested")}render(){
return this.props.children(d()(d()({},this.state),{},{retry:this.load}))}}re.displayName="ClassicViewWorkflowService",re.defaultProps={shouldLoadOnMount:!0};const le=Object(n("VHV8").a)()(re),ce=Object(O.defineMessages)({title:{id:"issue-field-status.view-workflow.classic.flags.errors.load-modal-error.title",defaultMessage:"We couldn't load the workflow"},description:{id:"issue-field-status.view-workflow.classic.flags.errors.load-modal-error.description",defaultMessage:"Check your connection, then try reloading the page."}});var de=()=>({type:"error",title:ce.title,description:ce.description});class ue extends a.Component{constructor(...e){super(...e),this.state={isLoadingModal:!1,isRefetching:!1,isModalMounted:!1},this.modalApi=void 0,this.onClick=(e,t,a,s)=>{Object(n("yy8q").h)(e,"viewWorkflowTrigger",{isSimplifiedProject:!1}),this.modalApi&&a&&s&&(this.setState({isLoadingModal:!0,isRefetching:!1}),this.modalApi.then((e=>{e.showDialog(a,s),
window.dispatchEvent(Object(n("vErB").a)("resize")),this.setState({isModalMounted:!0})})).catch((()=>{t&&t(de()),this.setState({isLoadingModal:!1})})))},this.onRetry=(e,t)=>(e.stopPropagation(),this.setState({isRefetching:!0}),t().then((()=>this.setState({isRefetching:!1})))),this.onMount=e=>{const{hasPermission:t}=this.props;Object(n("yy8q").b)(e,"viewWorkflowTrigger mounted",{hasViewWorkflowPermission:t,isSimplifiedProject:!1})}}componentDidMount(){const e="workflow-designer/view-classic-project-workflow";this.modalApi=Object(n("oGf9").a)({name:e,tentatives:0,shouldLogError:!1}).catch((()=>(Object(n("uEJI").a)(["wr!com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer"]),Object(n("oGf9").a)({name:e}))))}getTooltipMessage(e){const{isServiceRefetching:t,intl:n,hasPermission:a}=this.props;return t||e?n.formatMessage(ie.loading):a?"":n.formatMessage(ie.noPermission)}render(){
const{isServiceLoading:e,isServiceRefetching:t,issueKey:a,baseUrl:i,hasPermission:o,FlagServiceSubscriber:r=n("nWQD").a,ClassicViewWorkflowService:l=le}=this.props,{isLoadingModal:c,isModalMounted:d,isRefetching:u}=this.state,p=c&&!d,m=!o||p,b=p||t||u;return s.a.createElement(r,null,(({showFlag:t})=>s.a.createElement(l,{issueKey:a,baseUrl:i,shouldLoadOnMount:o},(({data:n,error:a,loading:i,retry:o})=>{if(a)return s.a.createElement(z,{onRetry:e=>{this.onRetry(e,o)}});const r=n?n.workflowName:null,l=n?n.currentStepId:null;return s.a.createElement(se,{onMount:this.onMount,tooltipContent:this.getTooltipMessage(e||i),isDisabled:m||i,isLoading:b,isInitialLoading:e||i,onClick:(e,n)=>this.onClick(n,t,r,l)})}))))}}ue.displayName="ViewWorkflowClassicOld",ue.defaultProps={ClassicViewWorkflowService:le,FlagServiceSubscriber:n("nWQD").a};const pe=({isServiceLoading:e,isServiceRefetching:t,issueKey:i,hasPermission:o,baseUrl:r,ClassicViewWorkflowService:l=le})=>{
const{formatMessage:c}=Object(n("NRyt").d)(),[d,u]=Object(a.useState)(!1),[p,m]=Object(a.useState)(!1),[b,g]=Object(a.useState)(!1),{showFlag:f}=Object(n("uS5k").f)(),h=p&&!d,E=!o||h,y=h||t||b;let O;Object(a.useEffect)((()=>{const e="workflow-designer/view-classic-project-workflow";O=Object(n("oGf9").a)({name:e,tentatives:0,shouldLogError:!1}).catch((()=>(Object(n("uEJI").a)(["wr!com.atlassian.jira.plugins.jira-workflow-designer:view-issue-page-workflow-designer"]),Object(n("oGf9").a)({name:e}))))}),[]);const v=Object(a.useCallback)(((e,t,a,s)=>{Object(n("yy8q").h)(e,"viewWorkflowTrigger",{isSimplifiedProject:!1}),O&&a&&s&&(m(!0),g(!1),O.then((e=>{e.showDialog(a,s),window.dispatchEvent(Object(n("vErB").a)("resize")),u({isModalMounted:!0})})).catch((()=>{t&&t(de()),m(!1)})))}),[O,u,g,m]),j=Object(a.useCallback)(((e,t)=>(e.stopPropagation(),g(!0),t().then((()=>g(!1))))),[g]),I=Object(a.useCallback)((e=>{Object(n("yy8q").b)(e,"viewWorkflowTrigger mounted",{hasViewWorkflowPermission:o,
isSimplifiedProject:!1})}),[o]),C=Object(a.useCallback)((e=>t||e?c(ie.loading):o?"":c(ie.noPermission)),[c,o,t]);return s.a.createElement(l,{issueKey:i,baseUrl:r,shouldLoadOnMount:o},(({data:t,error:n,loading:a,retry:i})=>{if(n)return s.a.createElement(z,{onRetry:e=>{j(e,i)}});const o=t?t.workflowName:null,r=t?t.currentStepId:null;return s.a.createElement(se,{onMount:I,tooltipContent:C(e||a),isDisabled:E||a,isLoading:y,isInitialLoading:e||a,onClick:(e,t)=>v(t,f,o,r)})}))};pe.displayName="ViewWorkflowClassic";var me=Object(n("5WHm").a)(n("rcbi").a,pe,Object(O.injectIntl)(ue));class be extends a.Component{constructor(...e){super(...e),this.state={isLoadingModal:!1},this.onMount=e=>{const{hasPermission:t}=this.props;Object(n("yy8q").b)(e,"viewWorkflowTrigger mounted",{hasViewWorkflowPermission:t,isSimplifiedProject:!0})},this.onClick=(e,t)=>{Object(n("yy8q").h)(t,"viewWorkflowTrigger",{isSimplifiedProject:!0}),this.setState({isLoadingModal:!0})
;const{issueTypeId:a=Object(n("Rp3N").p)(""),projectId:s=Object(n("Rp3N").s)(""),onOpenModal:i}=this.props;i(a,s)}}getTooltipMessage(){const{isServiceLoading:e,isServiceRefetching:t,hasPermission:n,intl:a}=this.props;return e||t?a.formatMessage(ie.loading):!0!==n?a.formatMessage(ie.noPermission):""}render(){const{isServiceLoading:e,isServiceRefetching:t,hasPermission:n,isModalMounted:a}=this.props,{isLoadingModal:i}=this.state,o=i&&!a,r=!0!==n||o,l=t||o,c=this.getTooltipMessage();return s.a.createElement(se,{onMount:this.onMount,tooltipContent:c,isDisabled:r,isLoading:l,isInitialLoading:e,onClick:this.onClick})}}be.displayName="ViewWorkflowSimplified",be.defaultProps={hasPermission:!1};var ge=Object(O.injectIntl)(be);class fe extends a.Component{constructor(...e){super(...e),this.state={isWorkflowServiceRefetching:!1},this.onWorkflowServiceRefetch=async(e,t)=>{e.stopPropagation(),this.setState({isWorkflowServiceRefetching:!0}),await t(),this.setState({isWorkflowServiceRefetching:!1})}}
render(){const{baseUrl:e,issueKey:t,isModalMounted:n,onOpenModal:a,workflowServiceApi:i}=this.props,{isWorkflowServiceRefetching:o}=this.state,{data:r,loading:l,error:c,fetch:d}=i;if(c)return s.a.createElement(z,{onRetry:e=>{this.onWorkflowServiceRefetch(e,d)}});if(!r)return null;const{isSimplified:u,projectId:p,issueTypeId:m,hasPermission:b}=r;return!0===u?s.a.createElement(ge,{projectId:p,issueTypeId:m,isModalMounted:n,hasPermission:b,isServiceLoading:l,isServiceRefetching:o,onOpenModal:a}):s.a.createElement(me,{baseUrl:e,issueKey:t,hasPermission:b,isServiceLoading:l,isServiceRefetching:o})}}fe.displayName="ViewWorkflow";var he=n("6xe2");const Ee=({children:e,packageName:t})=>s.a.createElement(n("+sGL").a,{id:"workflow-readonly-modal",metricKey:"WORKFLOW_READONLY_MODAL_LOAD_START_MARK_KEY",packageName:t},e);Ee.displayName="WorkflowReadonlyModalBoundary";const ye=Object(he.f)((()=>n.e("async-issue-workflow-readonly-modal").then(n.bind(null,"PHCF"))),{
moduleId:"./src/packages/issue/workflow-readonly-modal/src/index.js"});class Oe extends a.Component{constructor(...e){super(...e),this.state={shouldMountWorkflow:!1}}static getDerivedStateFromProps(e,t){return{shouldMountWorkflow:t.shouldMountWorkflow||e.isOpen}}render(){const{issueKey:e,issueTypeId:t,baseUrl:n,locale:a,cloudId:i,projectId:o,isOpen:r,onModalMounted:l,onClose:c}=this.props,{shouldMountWorkflow:d}=this.state;return d&&s.a.createElement(Ee,{packageName:"issue"},s.a.createElement(he.b,{until:r},s.a.createElement(ye,{onMounted:l,issueKey:e,issueTypeId:t,baseUrl:n,locale:a,isOpen:r,cloudId:i,projectId:o,onClose:c})))}}Oe.displayName="WorkflowModal";var ve=Oe;class je extends a.Component{constructor(...e){super(...e),this.state={isWorkflowModalOpen:!1,isWorkflowModalMounted:!1,issueTypeId:Object(n("Rp3N").p)(""),projectId:Object(n("Rp3N").s)("")},this.statusButtonRef=Object(a.createRef)(),this.onOpenModal=(e,t)=>{this.setState({isWorkflowModalOpen:!0,issueTypeId:e,projectId:t
})},this.onCloseModal=()=>{this.setState({isWorkflowModalOpen:!1},(()=>{var e;null!==(e=this.statusButtonRef)&&void 0!==e&&e.current&&this.statusButtonRef.current.focus()}))},this.onModalMounted=()=>{this.setState({isWorkflowModalMounted:!0})}}render(){const{issueKey:e,projectType:t,isEditable:a,isOptimistic:i,initialValue:o,appearance:r,onSubmit:l,onSuccess:c,onFailure:d,onEditStart:u,onEditCancel:p,value:m,TenantContextSubscriber:b,ContainerContextSubscriber:g,preFetchTransitions:f,ViewWorkflowContextService:h}=this.props;return s.a.createElement(b,null,(({tenantContext:b})=>b?s.a.createElement(n("kP+u").a,{value:m,projectType:t,initialValue:o,issueKey:e,baseUrl:b.baseUrl,onSubmit:l,onSuccess:c,onFailure:d,onEditStart:u,onEditCancel:p},(({value:o,loading:l,transitionStatus:c,error:d,resetError:m})=>s.a.createElement(n("XoL7").a,{issueKey:e,baseUrl:b.baseUrl,status:o,isSaving:l,preFetch:f,projectType:t},(({data:t,loading:f,fetch:E})=>s.a.createElement(h,{ContainerContextSubscriber:g,
baseUrl:b.baseUrl,issueKey:e},(g=>s.a.createElement(s.a.Fragment,null,s.a.createElement(q,{statusButtonRef:this.statusButtonRef,value:o,isEditable:a,isLoading:f||l,isSaving:!0!==i&&l,appearance:r,transitions:t,onOpen:e=>{u(),E(e);!0!==(g.data&&void 0!==g.data.hasPermission)&&g.fetch(),m()},onClose:p,onChange:c,error:d,footer:s.a.createElement(n("ho8o").a,{id:"issue-field-view-workflow"},s.a.createElement(fe,{baseUrl:b.baseUrl,issueKey:e,workflowServiceApi:g,onOpenModal:this.onOpenModal,isModalMounted:this.state.isWorkflowModalMounted}))}),s.a.createElement(n("LefY").b,null,s.a.createElement(ve,{onModalMounted:this.onModalMounted,issueKey:e,issueTypeId:this.state.issueTypeId,baseUrl:b.baseUrl,locale:b.locale,cloudId:b.cloudId,projectId:this.state.projectId,isOpen:this.state.isWorkflowModalOpen,onClose:this.onCloseModal}))))))))):null))}}je.displayName="StatusField",je.defaultProps={isOptimistic:!0,TenantContextSubscriber:n("rBSy").b,ContainerContextSubscriber:n("vDA1").a,
ViewWorkflowContextService:y,preFetchTransitions:!1,projectType:null,onEditStart:o.a,onEditCancel:o.a,onSubmit:o.a,onSuccess:o.a,onFailure:o.a}},"0mV2":function(e,t,n){"use strict";var a=n("QILm"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("sEfC"),d=n.n(c),u=n("vN+2"),p=n.n(u);const m=()=>Object(n("gOD+").a)().getVariantValue("invite.from.assign",{default:"not-enrolled",oneOf:["control","not-enrolled","variation"],shouldTrackExposureEvent:!1}),b=()=>"variation"===m(),g=["displayName"],f={id:"USER_PICKER_EMPTY",name:""},h=(e,t)=>null!=e&&(null==t||""===t||e.toLowerCase().includes(t.toLowerCase()));class E extends r.Component{constructor(...e){super(...e),this.state={suggestions:[],isDropdownVisible:!0,wasFocused:!1,isLoading:!1,wasCleared:!1,wasQueryCleared:!1,query:null},this.wasUnmounted=!1,this.invitePeopleExposeEventFired=!1,this.onChange=e=>{if(!e||Array.isArray(e)||this.isCurrentValue(e))return;const t=e.id,a=this.props.initialOptions.find((e=>e.id===t))
;a?this.props.onChange(a.id?a:null):"USER_PICKER_EMPTY"===t?this.props.onChange(null):b()&&!0===this.props.enablePeopleInvite&&"__INVITE_PEOPLE_ID__"===t?Object(n("GUv0").b)("assignee",{createAnalyticsEvent:this.props.createAnalyticsEvent}):this.props.onChange(e)},this.onSuggestionSelect=(e,t)=>{this.setState({suggestions:[],wasFocused:!1,isLoading:!1,wasCleared:!1,wasQueryCleared:!1}),this.onChange(Array.isArray(e)?null:e),this.props.onSelection(t)},this.onBlur=()=>{this.setState({suggestions:[],isDropdownVisible:!1,wasFocused:!1,isLoading:!1,wasQueryCleared:!1}),this.state.wasCleared?this.onSuggestionSelect(f):this.props.onCancel()},this.onFocus=e=>{this.setState({isDropdownVisible:!0,isLoading:!0,wasFocused:!0,wasCleared:!1}),this.requestSuggestions(e)},this.onQueryChange=(e,t)=>{this.setState({wasFocused:!1,isLoading:!0,query:e||"",wasQueryCleared:!e}),this.debouncedRequestSuggestion(t)},this.onClear=()=>{this.setState({wasCleared:!0}),this.onChange(f)},
this.getEmptyValue=()=>this.props.emptyOption?o()(o()({},this.props.emptyOption),{},{id:"USER_PICKER_EMPTY"}):null,this.getInvitePeopleValue=()=>this.props.invitePeopleOption?o()(o()({},this.props.invitePeopleOption),{},{id:"__INVITE_PEOPLE_ID__"}):null,this.getInitialAndEmptyOptionSuggestions=()=>{const{initialOptions:e,emptyOption:t}=this.props,{wasFocused:n,wasQueryCleared:a}=this.state,s=n&&e.length>0,i=t&&!s&&a,o=this.getEmptyValue();return[...s?e:[],...!0===i&&o?[o]:[]]},this.debouncedRequestSuggestion=d()((e=>this.requestSuggestions(e)),300),this.requestSuggestions=e=>{const{onDataRequest:t,fetchSuggestions:a}=this.props,{query:s}=this.state;t(null===s);const i=s||"";return a(i,e).then((e=>this.handleSuggestions(e,i))).catch((()=>(()=>Object(n("D3TY").a)("issue.details.userpicker.catchhandler",!1))()?this.handleSuggestions([],i):[]))},this.isMatchingQuery=e=>{const{query:t,isLoading:n}=this.state,{displayName:a,name:s}=e;return!n||h(a,t)||h(s,t)},this.getSuggestions=()=>{
const{createAnalyticsEvent:e,enablePeopleInvite:t,fieldId:a}=this.props,{query:i,isLoading:r}=this.state,l=i||"",c=this.getInitialAndEmptyOptionSuggestions(),d=c.map((e=>e.id)),u=this.state.suggestions.filter((e=>!d.includes(e.id)&&this.isMatchingQuery(e))),p=[...c,...u],f=this.getInvitePeopleValue(),h=[];return!r&&!0===t&&f&&l&&p.length<=2&&(this.invitePeopleExposeEventFired||(((e,t,a)=>{if(null==e)return;const s=e({action:"exposed",actionSubject:"feature"}),i={fieldId:t,flagKey:"invite.from.assign",value:m(),userRole:"true"===Object(n("1lWS").a)("ajs-is-admin")?"admin":"basic",suggestionsCount:a,source:"assigneeField"};Object(n("yy8q").b)(s,"feature exposed",i)})(e,a,p.length),this.invitePeopleExposeEventFired=!0),b()&&(((e,t,a)=>{if(null==e)return;const s=e({action:"rendered",actionSubject:"inviteItem"}),i={fieldId:t,userRole:"true"===Object(n("1lWS").a)("ajs-is-admin")?"admin":"basic",suggestionsCount:a,source:"assigneeField"};Object(n("yy8q").h)(s,"inviteItem rendered",i)
})(e,a,p.length),h.push(f))),[...p,...h].map((e=>{const{displayName:t}=e,n=s()(e,g);return t?o()(o()({},n),{},{publicName:t}):n}))},this.handleSuggestions=(e,t)=>{const{isDropdownVisible:n,query:a}=this.state,s=t===(a||"");if(this.wasUnmounted||!n||!s)return;const i=this.state.wasFocused?e.filter((e=>!this.isCurrentValue(e))):e;this.setState({isLoading:!1,suggestions:i}),this.props.onDataLoaded(null===a,i.length)}}componentWillUnmount(){this.wasUnmounted=!0,this.debouncedRequestSuggestion.cancel()}isCurrentValue(e){return e?this.props.value?e.id===this.props.value.id:"USER_PICKER_EMPTY"===e.id:null===this.props.value}render(){const e=this.getSuggestions(),t=this.props.value||this.getEmptyValue();return l.a.createElement(n("B3ae").a,{value:t,options:e,open:this.state.isDropdownVisible,fieldId:this.props.fieldId,menuMinWidth:this.props.menuMinWidth,menuPortalTarget:this.props.portalElement,width:this.props.width,appearance:"compact",isClearable:!!this.props.value,
isDisabled:this.props.isDisabled,placeholder:this.props.placeholder,isLoading:this.state.isLoading&&this.state.isDropdownVisible,onBlur:this.onBlur,onClear:this.onClear,onFocus:this.onFocus,onInputChange:this.onQueryChange,onSelection:this.onSuggestionSelect,styles:{menuPortal:e=>o()(o()({},e),{},{zIndex:n("ZpU/").f.modal})}})}}E.displayName="UserPickerView",E.displayName="UserPickerView",E.defaultProps={isDisabled:!1,value:null,initialOptions:[],emptyOption:null,invitePeopleOption:null,enablePeopleInvite:!1,width:void 0,menuMinWidth:void 0,portalElement:void 0,fetchSuggestions:()=>Promise.resolve([]),onChange:p.a,onCancel:p.a,onSelection:p.a,onDataRequest:p.a,onDataLoaded:p.a};t.a=Object(n("VHV8").a)()(E)},"0yF3":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("3tO9"),s=n.n(a),i=n("q1tI");const o={day:"2-digit",month:"short",year:"numeric",hour:"numeric",minute:"numeric"},r={day:"2-digit",month:"short",year:"numeric"},{DateTimeFormat:l}=Intl,c=e=>{
const{data:{user:{timeZone:t}}}=Object(n("Dk5F").a)(),a=null!=e?e:t,c=Object(n("I51c").a)(),d=Object(n("lL9i").a)(c),u=Object(n("lL9i").b)(a),p=Object(i.useMemo)((()=>new l(d,s()(s()({},o),{},{timeZone:u}))),[d,u]),m=Object(i.useMemo)((()=>new l(d,s()(s()({},r),{},{timeZone:"UTC"}))),[d]);return{formatDateTime:Object(i.useCallback)((e=>{const t="string"==typeof e?new Date(e):e;return p.format(t)}),[p]),formatDateOnly:Object(i.useCallback)((e=>m.format(new Date(e))),[m])}}},"16vn":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("JRPe");const s=Object(a.defineMessages)({allActivity:{id:"issue-activity-feed.all-activity",defaultMessage:"All"},comments:{id:"issue-activity-feed.comments",defaultMessage:"Comments"},history:{id:"issue-activity-feed.history",defaultMessage:"History"},worklog:{id:"issue-activity-feed.worklog",defaultMessage:"Work log"},activity:{id:"issue-activity-feed.activity",defaultMessage:"Activity"},filterBy:{id:"issue-activity-feed.filter-by",
defaultMessage:"Show:"}})},"1DmR":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const a=(e,...t)=>{let n="";return t.forEach(((t,a)=>{n+=e[a],n+=t.toString()})),n+=e[e.length-1],n};var s=(e,t)=>a`query {
        issue(issueIdOrKey: "${e}", latestVersion: true, screen: "view") {
            id
            viewScreenId 
            fields {
                key
                title
                editable
                required
                autoCompleteUrl
                allowedValues
                content
                renderedContent
                schema {
                    custom
                    system
                    ${(()=>"configuration {\n        key\n        value\n    }\n    ")()}
                    items
                    type
                    renderer
                }
                configuration
            }
            expandAssigneeInSubtasks
            expandAssigneeInIssuelinks
            expandTimeTrackingInSubtasks
            systemFields {
                descriptionAdf {
                    value
                }
                ${(()=>"environmentAdf {\n        value\n    }")()}
            }
            customFields {
                textareaAdf {
                    key
                    value
                }
            }            
            ${(()=>"tabs {\n        id\n        name\n        items {\n            id\n            type\n        }\n    }")()}
            ${(()=>"\n    isHybridAgilityProject\n    ")()}
            ${(()=>"\n    agile {\n        epic {\n          key\n        },\n    }")()}
        }
        ${(e=>`\n        project(projectIdOrKey: "${e}") {\n            id\n            name\n            key\n            projectTypeKey\n            simplified\n            avatarUrls {\n                key\n                value\n            }\n            archived\n            deleted\n        }`)(t)}
    }`;const i=e=>`${e}/rest/graphql/1/`,o=(e,t)=>({method:"POST",body:JSON.stringify({query:s(e,t)})})},"1MSA":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a="LOCK_IN_NEW_ISSUE_VIEW"},"1XYV":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));const a=e=>({id:e.value,name:e.label}),s=e=>({value:e.id,label:e.name}),i=(e,t)=>e?t.reduce(((t,n)=>(n.id!==e.id&&t.push(s(n)),t)),[]):(e=>e.map((e=>s(e))))(t)},"1Xqn":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("M6kn");const s=(e,t)=>e?a.Observable.fromPromise(e).catch(t):t()},"1bbY":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return g}));var a=n("Z0cm"),s=n.n(a),i=n("J2iB"),o=n.n(i),r=n("YO3V"),l=n.n(r);const c=e=>(()=>{
const e=Object(n("iJ/Y").n)();return[...Object(n("iJ/Y").e)().filter((e=>!n("iJ/Y").f.includes(e))),...Object.keys(e).map((t=>e[t])),"com.atlassian.jira.plugin.system.customfieldtypes:flagged"]})().find((t=>t===e)),d=(e,t)=>{const a=(e=>Object(n("BxuJ").a)()?Object(n("pvIb").a)(e):e.id)(t),s=(t.type,t.type);if("TabLayout"===s||Object(n("BxuJ").a)()&&s===n("Kv+q").a.tab||"ecosystemGlance"===s||"forgeGlance"===s)return{type:s,id:a};if(Object(n("7/nq").c)().includes(a))return{id:a,type:a};const i=Object(n("6P8Q").b)(e);if(null!==i)return{type:i,id:a};const o=(null==e?void 0:e.schema)||{},r=null!==o.system?o.system:"";return{type:c(o.custom)||r||o.type,id:a}},u=e=>{const t=e?e.schema:void 0;return t?c(t.custom)||t.system||t.type:void 0},p={ecosystemGlance:!0,forgeGlance:!0,"com.pyxis.greenhopper.jira:gh-epic-status":!0,"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect":!0,assignee:!0,reporter:!0,description:!0,environment:!0,duedate:!0,priority:!0,labels:!0,components:!0,
"com.pyxis.greenhopper.jira:gh-sprint":!0,"com.atlassian.jira.plugin.system.customfieldtypes:storypoint":!0,"com.pyxis.greenhopper.jira:gh-epic-link":!0,fixVersions:!0,versions:!0,timetracking:!0,timeoriginalestimate:!0,"com.atlassian.jira.plugin.system.customfieldtypes:labels":!0,"com.atlassian.jira.plugin.system.customfieldtypes:textfield":!0,"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":!0,"com.atlassian.jira.toolkit:participants":!0,"com.atlassian.jira.plugin.system.customfieldtypes:url":!0,"com.atlassian.jira.plugin.system.customfieldtypes:float":!0,"com.pyxis.greenhopper.jira:jsw-story-points":!0,"com.atlassian.jira.plugin.system.customfieldtypes:select":!0,"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":!0,"com.atlassian.jira.plugin.system.customfieldtypes:version":!0,"com.atlassian.jira.plugin.system.customfieldtypes:textarea":!0,"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":!0,
"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":!0,"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker":!0,"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker":!0,"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":!0,"com.atlassian.jira.plugin.system.customfieldtypes:people":!0,"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":!0,"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":!0,"com.atlassian.jira.plugin.system.customfieldtypes:datetime":!0,"com.atlassian.jira.plugin.system.customfieldtypes:atlassian-team":!0,"com.atlassian.teams:rm-teams-custom-field-team":!0,"com.atlassian.jpo:jpo-custom-field-parent":!0,"com.atlassian.jpo:jpo-custom-field-baseline-start":!0,"com.atlassian.jpo:jpo-custom-field-baseline-end":!0,"com.pyxis.greenhopper.jira:jsw-issue-color":!0,"com.atlassian.servicedesk:vp-origin":!0,"com.atlassian.servicedesk.approvals-plugin:sd-approvals":!0,
"com.atlassian.servicedesk.servicedesk-lingo-integration-plugin:sd-request-language":!0,"com.atlassian.servicedesk:sd-request-participants":!0,"com.atlassian.servicedesk:sd-customer-organizations":!0,number:!0,string:!0,option2:!0,array:!0,datetime:!0,"com.atlassian.servicedesk.assets-plugin:assetfield":!0,"com.atlassian.jira.plugins.service-entity:service-entity-field-cftype":!0,"com.atlassian.jira.plugin.system.customfieldtypes:servicedesk-approvers-list":!0,"com.atlassian.jira.plugins.cmdb:cmdb-object-cftype":!0,"com.atlassian.servicedesk:sd-request-feedback":!0,user:!0,"group-list":!0,"array-string":!0,"com.atlassian.jira.plugin.system.customfieldtypes:readonlyfield":!0,"com.atlassian.jira.plugin.system.customfieldtypes:project":!0,forgeCustomField:!0,KNOWLEDGE_BASE:!0,SLA_PANEL:!0,devSummary:!0,releases:!0,ASSET_ONBOARDING:!0,LINKED_ALERTS:!0,CHAT_CHANNEL:(()=>Object(n("D3TY").a)("jsm-chat-channel-for-incident-management",!1))(),
MANAGE_STAKEHOLDERS:(()=>Object(n("D3TY").a)("jsm-stakeholder-update-for-incident-management",!1))(),CONFERENCE_CALL:(()=>Object(n("D3TY").a)("jsm-issue-view-conference-call-field",!1))(),"com.atlassian.jira.modules.servicemanagement.responders-entity:responders-entity-field-cftype":!0,"com.atlassian.jira.modules.servicemanagement.major-incident-entity:major-incident-entity-field-cftype":(()=>Object(n("D3TY").a)("jsm-replacing-major-incident",!1))(),"com.atlassian.jira.toolkit:message":!0,"com.atlassian.jira.toolkit:viewmessage":!0,"com.pyxis.greenhopper.jira:gh-epic-label":!0},m=e=>!p[e.type],b=e=>o()(e)||s()(e)&&0===e.length||l()(e)&&0===Object.keys(e).length,g=(e,t)=>!!t&&!e},"1oZq":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("QkVN"),r=n.n(o);const l={setIssueConfig:(e,t)=>({setState:n})=>{n({[e]:t})},setIssuesConfig:e=>({setState:t})=>{
t(e.reduce(((e,t)=>s()(s()({},e),t)),{}))},mergeIssueConfig:(e,t)=>({setState:n,getState:a})=>{n({[e]:r()({},a()[e],t)})},mergeIssuesConfig:e=>({setState:t,getState:a})=>{if(Object(n("p+mI").b)()){if(0===e.length)return;const n={};e.forEach((e=>{Object.assign(n,e)})),t(r()({},a(),n))}else{const n=e.reduce(((e,t)=>s()(s()({},e),t)),{});t(r()({},a(),n))}},setFieldConfigValue:(e,t,n)=>({setState:a,getState:i})=>{const o=i()[e];o&&o[t]&&a({[e]:s()(s()({},i()[e]),{},{[t]:s()(s()({},i()[e][t]),n)})})}},c=Object(n("0b8M").a)({name:"issue-field-config",initialState:{},actions:l}),d=Object(i.createSelector)(((e,t)=>e[t.issueKey]),(e=>e)),u=Object(n("dq9g").a)(c,{selector:d}),p=Object(i.createSelector)(((e,t)=>e[t.issueKey]),((e,t)=>t.fieldKey),((e,t)=>null==e?e:e[t]?e[t]:null)),m=Object(n("dq9g").a)(c,{selector:p}),b=Object(n("dq9g").a)(c,{selector:null})},"1uad":function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=i.default.div.withConfig({componentId:"sc-17jmg7d-0"
})`border-top:1px solid ${`var(--ds-border-neutral, ${n("5kDX").a.N30})`};`,r=Object(i.default)(n("jgRs").a).withConfig({componentId:"sc-17jmg7d-1"})`[data-ds--menu--heading-item='true']{padding:0 12px;margin:7px 0;}`,l=({dropdownGroupData:{items:e,name:t},isFirst:a,onClick:i})=>{const l=t&&t.length>0?t:void 0,c=s.a.createElement(n("v+X5").a,{minWidth:0},s.a.createElement(r,{title:l},e.map(((e,t)=>s.a.createElement("div",{key:t,onClick:i},e)))));return a?c:s.a.createElement(o,null,c)};l.displayName="DropdownGroup";var c=l,d=n("JRPe"),u=Object(d.defineMessages)({actions:{id:"issue-meatball-menu.dropdown-trigger.actions",defaultMessage:"Actions"}}),p=n("3tO9"),m=n.n(p),b=n("QILm"),g=n.n(b);const f=["buttonStyles"],h=i.keyframes`to{box-shadow:0 0 0 10px transparent;}`,E=(e,t)=>{const a=e(t),{buttonStyles:s}=a,i=g()(a,f);return m()(m()({},i),{},{buttonStyles:m()(m()({},s),{},{borderRadius:"4px",animation:`${h} 1.45s 3 cubic-bezier(0.66, 0, 0, 1)`,animationDelay:"0.5s",
boxShadow:`0 0 0 0 var(--ds-border-discovery, ${n("5kDX").a.P300})`})})},y=({isOpen:e,isDisabled:t,isLoading:a,hasPulse:i,onClick:o})=>{const{formatMessage:r}=Object(n("NRyt").d)(),l=r(u.actions);return s.a.createElement(n("Yto1").a,{content:l,position:"top"},s.a.createElement(n("0+Gd").a,{testId:"issue-meatball-menu.ui.dropdown-trigger.button","aria-label":l,"aria-expanded":e,isDisabled:t,isLoading:a,appearance:"subtle",spacing:"default",iconBefore:s.a.createElement(n.n(n("eaSS")).a,{label:"",size:"medium"}),theme:i?E:void 0,isSelected:e,onClick:o}))};y.displayName="DropdownTrigger",y.defaultProps={hasPulse:!1,isDisabled:!1};var O=y;const v=i.default.div.withConfig({componentId:"sc-1rp4dqf-0"})`min-width:150px;max-height:95vh;padding:4px 0px;&&{[role='menuitem']{padding:8px 12px 7px;}[class*='GroupTitle']{padding:8px 12px;}[class*='GroupTitleText']{padding:0;}}`,j=({meatballMenuData:e,hasPulse:t,isDisabled:i,isLoading:o})=>{
const[r,l]=Object(a.useState)(!1),{createAnalyticsEvent:d}=Object(n("rZ/p").a)(),u=Object(a.useCallback)((()=>{l(!0);const e=d({action:"click",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"issueActionsOpenChanged")}),[d]),p=Object(a.useCallback)((()=>{l(!1);const e=d({action:"click",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"issueActionsOpenChanged")}),[d]);return s.a.createElement(n("wR8r").a,{boundary:"clippingParents",isOpen:r,placement:"auto-end",trigger:e=>s.a.createElement("div",e,s.a.createElement(O,{isOpen:r,hasPulse:!0===t,isDisabled:i,isLoading:o,onClick:r?p:u})),onClose:p,content:()=>s.a.createElement(v,{"data-testid":"issue.issue-meatball-menu.content"},e.filter((({items:e})=>e.length>0)).map(((e,t)=>s.a.createElement(c,{key:e.key,dropdownGroupData:e,isFirst:0===t,onClick:p})))),zIndex:n("ZpU/").f.modal})};j.displayName="MeatballMenu",j.defaultProps={hasPulse:!1,isDisabled:!1,isLoading:!1};t.a=j},"2Fh1":function(e,t,n){"use strict";n.d(t,"a",(function(){
return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n("vOnD");const s=a.default.div.withConfig({componentId:"sc-11c4jgx-0"})`cursor:pointer;margin-left:${.25*n("ZpU/").e}px;flex-shrink:0;`,i=a.default.div.withConfig({componentId:"sc-11c4jgx-1"})`color:${n("5kDX").a.Y300};&:hover{color:${n("5kDX").a.Y200};}`,o=a.default.div.withConfig({componentId:"sc-11c4jgx-2"})`color:${n("5kDX").a.N80};&:hover{color:${n("5kDX").a.N800};}`},"2Wab":function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return T}));var a=n("3tO9"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("pVnL"),l=n.n(r),c=n("q1tI"),d=n.n(c);const u={borderRadius:n("ZpU/").a,boxSizing:"border-box",display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0",textTransform:"uppercase",verticalAlign:"baseline"},p={boxSizing:"border-box",display:"inline-block",maxWidth:200,overflow:"hidden",
padding:`0 ${n("ZpU/").e/2}px`,textOverflow:"ellipsis",verticalAlign:"top",whiteSpace:"nowrap",width:"100%"},m=({children:e})=>d.a.createElement("span",{style:u},d.a.createElement("span",{style:p},e));m.displayName="LozengeNew";const b=Object(n("5WHm").a)(n("rcbi").b,m,n("EFQh").a);var g=n("vOnD");const f={1:"default",2:"default",3:"success",4:"inprogress"},h={default:n("5kDX").a.N40,success:n("5kDX").a.G50,inprogress:n("5kDX").a.B50},E={default:n("5kDX").a.N500,success:n("5kDX").a.G500,inprogress:n("5kDX").a.B500},y={default:n("5kDX").a.N70,success:n("5kDX").a.G400,inprogress:n("5kDX").a.B400},O={default:n("5kDX").a.N800,success:n("5kDX").a.N0,inprogress:n("5kDX").a.N0},v=g.default.span.withConfig({componentId:"e5aw6j-0"
})`display:flex;align-items:center;> div{display:flex;line-height:initial;outline:0;> span{padding:2px 0;vertical-align:text-bottom;color:${e=>E[f[e.statusCategoryId]]};background-color:${e=>h[f[e.statusCategoryId]]};${e=>e.hasHoverState?`&:hover {\n                        color: ${O[f[e.statusCategoryId]]};\n                        background-color: ${y[f[e.statusCategoryId]]};\n                    }`:""};}}`,j=g.default.div.withConfig({componentId:"e5aw6j-1"})`display:flex;align-items:center;`,I=["ariaLabel","error","isEditable","isOpen","targetRef"],C="issue.fields.status.common.ui.status-lozenge.",S=e=>d.a.createElement("svg",l()({},e,{width:"13",height:"13",viewBox:"5 5 13 13"}),d.a.createElement("path",{d:"M8.292 10.293a1.009 1.009 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0z",fill:"currentColor",fillRule:"evenodd"}))
;S.displayName="CustomChevronDownGlyph";const k=({children:e})=>d.a.createElement(b,null,d.a.createElement(j,null,e,d.a.createElement(n("UnwW").b,{glyph:S,label:""})));k.displayName="EditableLozenge";const w=({status:{name:e,statusCategory:t},isEditable:n,hasHoverState:a,targetRef:s,shouldShowDropdownIndication:i})=>d.a.createElement(v,{hasHoverState:a,statusCategoryId:t.id},d.a.createElement("div",{ref:s,"data-test-id":`${C}${t.id}`},!0===n||!0===i?d.a.createElement(k,null,e):d.a.createElement(b,null,e)));w.displayName="StatusLozenge";const T=e=>{const{ariaLabel:t,error:a,isEditable:i,isOpen:r,targetRef:c}=e,u=o()(e,I);return d.a.createElement(n("0+Gd").a,{ref:c,appearance:"subtle","aria-label":t,"aria-expanded":r,isDisabled:!i,theme:(e,t)=>{const{buttonStyles:o,spinnerStyles:l}=e(t);return{buttonStyles:s()(s()(s()({},o),{},{backgroundColor:"transparent",margin:0,width:"auto",height:"auto",padding:0,border:`2px solid ${a?n("5kDX").a.R300:"transparent"}`,borderRadius:"5px"
},!0===i?void 0:{cursor:"auto"}),{},{outline:0,boxShadow:`0 0 0 2px ${!0===r?n("5kDX").a.B100:"transparent"}`,"& > span":{margin:0},"&:focus, &:focus-within":{boxShadow:`0 0 0 2px ${n("5kDX").a.B100}`}}),spinnerStyles:l}}},d.a.createElement(w,l()({},u,{isEditable:i})))};T.displayName="WrappedStatusLozenge"},"2cEi":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("3tO9"),s=n.n(a);const i="FIELD_CHANGE_REQUESTED",o="FIELD_CHANGED",r="FIELD_CHANGE_FAILED",l={[i]:i,[r]:r,[o]:o},c={fieldChanged:(e,t,n)=>({getState:a})=>{a().eventHandlers.onChange.forEach((a=>{a({issueId:e,fieldId:t,meta:{fieldId:t,fieldValue:n},type:l.FIELD_CHANGED})}))},fieldChangeFailed:(e,t)=>({getState:n})=>{n().eventHandlers.onChange.forEach((n=>{n({issueId:e,meta:{fieldId:t},type:l.FIELD_CHANGE_FAILED})}))},fieldChangeRequested:(e,t,n)=>({getState:a})=>{a().eventHandlers.onChange.forEach((a=>{a({issueId:e,meta:{fieldId:t,fieldValue:n},type:l.FIELD_CHANGE_REQUESTED})}))},
registerEventHandler:(e,t)=>({getState:n,setState:a})=>{if("function"!=typeof t)return()=>{};const{eventHandlers:i}=n(),o=i[e];return a({eventHandlers:s()(s()({},i),{},{[e]:o.concat([t])})}),()=>{const{eventHandlers:i}=n(),o=i[e].filter((e=>e!==t));a({eventHandlers:s()(s()({},i),{},{[e]:o})})}}},d=Object(n("0b8M").a)({name:"issue-view-legacy-events",initialState:{eventHandlers:{onChange:[]}},actions:c}),u=Object(n("dq9g").a)(d,{selector:null})},"2p4G":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),t.a=e=>void 0!==e.pendingValue?e.pendingValue:e.value;const a=e=>e.pendingValue||e.adfValue||e.value},"2ppJ":function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("3tO9"),d=n.n(c);const u=["mediaContext","tokenProvider"],p=e=>{var t,a;return a=t=class extends r.Component{constructor(...e){super(...e),this.setDropzoneRef=e=>{this.dropzoneRef=e},this.resolve=void 0,this.mediaProviderPromise=new Promise((e=>{this.resolve=e})),
this.resolved=!1,this.dropzoneRef=null}componentDidMount(){this.resolveMediaProviderPromise()}componentDidUpdate(){this.resolveMediaProviderPromise()}resolveMediaProviderPromise(){const{mediaContext:e,tokenProvider:t,baseUrl:a}=this.props;if(!this.resolved&&this.dropzoneRef&&e.viewContext){this.resolved=!0;const s=((e,t,a)=>{const{viewContext:s,uploadContext:i,userAuth:o}=e;if(!s)throw new TypeError("mediaContext.viewContext was null. Check that the server response has been processed.");let r={viewMediaClientConfig:{authProvider:Object(n("xwVU").a)(t,s.clientId,s.serviceHost)}};return i&&(r=d()(d()({},r),{},{uploadParams:{collection:i.collection},uploadMediaClientConfig:{authProvider:Object(n("xwVU").a)(t,i.clientId,i.serviceHost),userAuthProvider:o?Object(n("xwVU").b)(d()(d()({},o),{},{baseUrl:i.serviceHost})):void 0,getAuthFromContext:async e=>{const t=await Object(n("d2IU").b)(a,e,65536).map(n("KE5V").a).toPromise();return{baseUrl:t.serviceHost,clientId:t.clientId,token:t.token||""}
}}})),r})(e,t,a);this.resolve(s)}}render(){const t=this.props,{mediaContext:n,tokenProvider:a}=t,i=o()(t,u);return l.a.createElement("div",{ref:this.setDropzoneRef},l.a.createElement(e,s()({mediaProvider:this.mediaProviderPromise},i)))}},t.displayName=`WithMediaProvider(${String(null!=e.displayName?e.displayName:e.name)})`,a};t.a=e=>Object(n("TB06").a)(p(e))},"33X4":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=async e=>{try{return await Object(n("QNWr").a)(`/rest/api/2/issue/${e}/transitions?sortByOpsBarAndStatus=true`)}catch(t){return n("RDfz").a.safeErrorWithoutCustomerData("issue.status-field.fetch-transitions",t.toString()),null}}},"35XP":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n("vN+2"),r=n.n(o);const l=e=>{
const{fieldKey:t,issueId:a,onSubmit:o=r.a,onSuccess:l=r.a,onFailure:c=r.a}=e,[,{fieldChanged:d,fieldChangeFailed:u,fieldChangeRequested:p}]=Object(n("2cEi").a)(),m=Object(i.useCallback)(((e,n,s,i)=>{o(e,n,s,i),a&&p(a,t,n)}),[p,t,a,o]),b=Object(i.useCallback)((e=>{l(e),a&&d(a,t,e)}),[d,t,a,l]),g=Object(i.useCallback)(((e,n)=>{c(e,n),a&&u(a,t)}),[u,t,a,c]);return(e=>{const{issueKey:t,fieldKey:a,fieldType:s,initialValue:o,saveField:l=n("U+j4").c,addValuesToField:c=n("U+j4").a,removeValuesFromField:d=n("U+j4").b,onSubmit:u=r.a,onSuccess:p=r.a,onFailure:m=r.a}=e,b=Object(n("XRG9").a)(),[g,{setFieldValue:f}]=Object(n("j3bG").b)({issueKey:t,fieldKey:a}),h=void 0!==g?g:o,[E,y]=Object(i.useState)(null),[O,v]=Object(i.useState)(!1),j=Object(i.useCallback)((()=>{b.current&&y(null)}),[y,b]),I=Object(i.useCallback)((async(e,i,o,r,l,c)=>{let d;const g={editOperationType:i,fieldKey:a,fieldType:s,isBacklogSearchFieldChangeboardingEnabled:Object(n("p+mI").a)()
},E=Object(n("U+j4").d)(Object(n("0Lwy").a)(a)(a),Object(n("0Lwy").a)(s)(s));b.current&&(v(!0),y(null));try{u(h,o,l,c),f(t,a,r),d=await e(t,a,o,""),p(o),E.stop(),Object(n("yy8q").f)(c,"field updated",g),Object(n("yy8q").b)(c,"field updateSucceeded",g)}catch(O){d=Promise.reject(O),m(O,o),f(t,a,h),b.current&&y(O);const e=O instanceof n("HQr3").a;e||n("fnbV").a.safeErrorWithoutCustomerData("issue-field.save-value",`Failed to update field ${a} of type ${s}`,new(n("8r8e").a)({event:O,type:"update",category:"issue",app:"issue-field",eventNameSuffix:"issue.error"})),E.cancel(),Object(n("yy8q").b)(c,"field updateFailed",{fieldKey:a,fieldType:s,isValidationError:e,isClientFetchError:Object(n("HQr3").c)(O)})}return b.current&&v(!1),d}),[a,s,u,h,f,b,t,"",p,m]),C=Object(i.useCallback)((async(e,t,n)=>I(l,"set",e,e,t,n)),[I,l]),S=Object(i.useCallback)((async(e,t,n,a)=>I(c,"add",e,t,n,a)),[I,c]),k=Object(i.useCallback)((async(e,t,n,a)=>I(d,"remove",e,t,n,a)),[I,d]);return[{value:h,loading:O,error:E
},{saveValue:C,addValues:S,removeValues:k,resetError:j}]})(s()(s()({},e),{},{onSubmit:m,onSuccess:b,onFailure:g}))}},"36KU":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI");const s=({onHide:e,onShow:t,hoverDuration:n=800})=>{const s=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useRef)(!1),r=Object(a.useRef)(!1),l=()=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{o.current||r.current||e()}),400)},c=()=>{i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{o.current&&t()}),n)};return{setCardHoverStatus:e=>{r.current=e,l(),c()},setTriggerHoverStatus:e=>{o.current=e,l(),c()}}}},"38Hi":function(e,t,n){"use strict"
;t.a=e=>`\n    myPreferences(keys: [\n        "jira.user.issue.changeboarding.lastinteracted",\n        "jira.user.issue.clickthrough-banner.lastinteracted",\n        "jira.user.issue.attachment.view",\n        "jira.user.issue.details.pinned-fields.${e}",\n        "jira.user.issue.details.timestamp-display-setting",\n        "jira.user.issue.pinned-fields-banner.lastinteracted",\n        "${Object(n("WCl/").d)()?"":"jira.user.issue.shortcut-menu.onboarding.dismissed"}",\n        "${Object(n("WCl/").a)()?"jira.user.issue.child-issues-limit.best-practice-flag.dismissed":""}"\n    ])\n`},"3RwP":function(e,t,n){"use strict";var a=n("lFKM"),s=n.n(a);t.a=e=>{const t=Object(n("rYoG").a)(1,1)(e);return null!==t&&s()(t)}},"3YwS":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mwIZ"),s=n.n(a);const i=({issueKey:e,onSuccess:t,onFailure:a})=>{
const[i]=Object(n("MoW5").a)(e,n("TuCe").w),o=s()(i.value,"scheme.type",n("TuCe").w),[{value:r,loading:l,error:c},{saveValue:d,resetError:u}]=Object(n("35XP").a)({fieldKey:n("TuCe").w,issueKey:e,fieldType:o,initialValue:null,onSuccess:t,onFailure:a});return[{value:r,loading:l,error:c,fieldConfig:i},{saveValue:d,resetError:u}]}},"3ZtB":function(e,t,n){"use strict"
;t.a=()=>`\n    permissions(issueKey:$issueKey, keys:["${(()=>["ADMINISTER","ADMINISTER_PROJECTS","ASSIGN_ISSUES","EDIT_ISSUES","SCHEDULE_ISSUES","ADD_COMMENTS","DELETE_ALL_COMMENTS","DELETE_OWN_COMMENTS","EDIT_ALL_COMMENTS","EDIT_OWN_COMMENTS","CREATE_ISSUES","DELETE_ISSUES","MOVE_ISSUES","MODIFY_REPORTER","CREATE_ATTACHMENTS","DELETE_ALL_ATTACHMENTS","DELETE_OWN_ATTACHMENTS","WORK_ON_ISSUES","ASSIGNABLE_USER","LINK_ISSUES","VIEW_VOTERS_AND_WATCHERS","MANAGE_WATCHERS","EDIT_ALL_WORKLOGS","EDIT_OWN_WORKLOGS","DELETE_ALL_WORKLOGS","DELETE_OWN_WORKLOGS","USER_PICKER","VIEW_DEV_TOOLS","SERVICEDESK_AGENT","RESOLVE_ISSUES","CREATE_SUBTASK","CLONE_ISSUE"])().join('","')}"]) {\n        key\n        havePermission\n    }\n`},"3guO":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("vOnD");const s=a.default.div.withConfig({componentId:"sc-1a5vava-0"
})`padding-top:${n("ZpU/").e/4}px;display:inline-block;height:${2*n("ZpU/").e}px;`,i=a.default.div.withConfig({componentId:"sc-1a5vava-1"})`padding-top:${n("ZpU/").e/4}px;opacity:0;transition:opacity 0.2s ease,transform 0.2s ease;transform:translate(${-n("ZpU/").e}px,0);padding-left:${n("ZpU/").e/2}px;display:flex;align-items:flex-end;${e=>e.isVisible&&"\n        opacity: 1;\n        transform: translate(0, 0);\n    "};&:focus{opacity:1;transform:translate(0,0);}`},"3j3u":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n("peh1");const s=Object(a.createSelector)(Object(n("KSj7").o)("epic"),(e=>null!==e?e:void 0)),i=Object(a.createSelector)(n("/LFc").q,n("Hxy2").b,((e,t)=>e||Object(n("xinf").c)(t)))},"3lC3":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("3tO9"),s=n.n(a)
;const i=(e,t)=>e.find((e=>e.__typename===t)),o=(e,t)=>Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()?((e,t)=>{const n={};return e.forEach((e=>{n[e[t]]=e})),n})(e,t):((e,t)=>e.reduce(((e,n)=>s()(s()({},e),{},{[n[t]]:n})),{}))(e,t)},"410N":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t=!0)=>{if(!e||!e.parentElement)return null;let n=getComputedStyle(e);const a=t&&"absolute"===n.position,s=/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let i=e.parentElement;i;i=i&&i.parentElement){n=getComputedStyle(i);if(!(a&&"static"===n.position)&&s.test(n.overflow+n.overflowY+n.overflowX))return i}return null}},"4A5X":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>`${Math.round(e/60)}m`},"4Ddp":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=n("vOnD").default.div.withConfig({componentId:"sc-11jqjqa-0"})`position:relative;`},"4Kfa":function(e,t,n){"use strict";var a=n("vOnD")
;t.a=a.default.div.withConfig({componentId:"sc-1jbkwip-0"})`position:relative;width:100%;border-top:${e=>e.paddingTop}px solid ${n("5kDX").a.N0};border-bottom:${e=>e.paddingBottom}px solid ${n("5kDX").a.N0};`},"4Of3":function(e,t,n){e.exports=n.p+"assets/incident-create-icon.b72a10e724bc55a4d580df6e4dc082f7.8.svg"},"4Rwi":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return l}));const a=e=>({type:"ATTACHMENT_MEDIA_SERVICES_UPLOAD_BEGIN",payload:e}),s=e=>({type:"ATTACHMENT_MEDIA_SERVICES_UPLOAD_END",payload:e}),i=e=>({type:"ATTACHMENT_MEDIA_SERVICES_UPLOAD_ERROR",payload:e}),o=e=>({type:"ATTACHMENT_JIRA_CREATE_SUCCESS",payload:e}),r=(e,t)=>({type:"ATTACHMENT_JIRA_CREATE_FAILURE",payload:{attachment:e,statusCode:t}}),l=e=>({type:"MEDIA_PICKER_ERROR",payload:e})},"4TJK":function(e,t,n){"use strict"
;var a=n("q1tI"),s=n.n(a);t.a=e=>{const t=(e=>e&&(e.accountId||e.id||e.value))(e.userAccount);return t?s.a.createElement(n("m+Tj").a,{TenantContextSubscriber:n("rBSy").b,accountId:t,analyticsData:e.analyticsData,position:e.position,actions:e.actions},e.children):e.children}},"4dgq":function(e,t,n){"use strict";n.d(t,"k",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"y",(function(){return r})),n.d(t,"w",(function(){return l})),n.d(t,"v",(function(){return c})),n.d(t,"A",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"x",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"z",(function(){return h})),n.d(t,"C",(function(){return E})),n.d(t,"j",(function(){return y})),n.d(t,"p",(function(){return v})),n.d(t,"e",(function(){return I})),n.d(t,"r",(function(){return C})),n.d(t,"m",(function(){return S})),n.d(t,"o",(function(){return k})),
n.d(t,"t",(function(){return w})),n.d(t,"q",(function(){return T})),n.d(t,"B",(function(){return D})),n.d(t,"l",(function(){return R})),n.d(t,"h",(function(){return L})),n.d(t,"g",(function(){return M})),n.d(t,"E",(function(){return A})),n.d(t,"d",(function(){return N})),n.d(t,"s",(function(){return x})),n.d(t,"D",(function(){return U})),n.d(t,"G",(function(){return F})),n.d(t,"c",(function(){return P})),n.d(t,"F",(function(){return $}));var a=n("peh1")
;const s=e=>e.context,i=Object(a.createSelector)(s,(e=>e.atlassianAccountId)),o=Object(a.createSelector)(s,(e=>e.baseUrl)),r=Object(a.createSelector)(s,(e=>e.loginRedirectUrl)),l=Object(a.createSelector)(s,(e=>Object(n("Rp3N").n)(e.issueKey))),c=Object(a.createSelector)(s,(e=>e.issueId)),d=Object(a.createSelector)(l,(e=>Object(n("J4oe").a)(e))),u=Object(a.createSelector)(s,(e=>void 0!==e.analyticsSource?e.analyticsSource:void 0)),p=Object(a.createSelector)(s,(e=>e.cloudId||Object(n("Rp3N").d)(""))),m=Object(a.createSelector)(s,(e=>e.isAnonymous)),b=Object(a.createSelector)(s,(e=>e.locale)),g=Object(a.createSelector)(s,(e=>e.issueActions||[])),f=Object(a.createSelector)(s,(e=>e.contextItemCategories)),h=Object(a.createSelector)(f,(e=>e.primary)),E=Object(a.createSelector)(f,(e=>e.secondary)),y=Object(a.createSelector)(s,(e=>e.contentItemCategories.visible||[])),O=Object(a.createSelector)(h,E,((e,t)=>e.concat(t))),v=Object(a.createSelector)(y,((e,t)=>t),((e,t)=>e.map((e=>e.id)).includes(t))),j=Object(a.createSelector)(O,((e,t)=>t),((e,t)=>e.includes(t))),I=(Object(a.createSelector)(v,j,((e,t)=>e?"content":t?"context":"foundation")),
Object(a.createSelector)(s,(e=>e.applicationKey))),C=Object(a.createSelector)(u,(e=>e===n("wpii").a.MOBILE_ISSUE)),S=Object(a.createSelector)(I,(e=>e===Object(n("iJ/Y").l)().applicationKey||e===Object(n("iJ/Y").o)().applicationKey)),k=(Object(a.createSelector)(I,(e=>e===Object(n("iJ/Y").m)().applicationKey)),Object(a.createSelector)(u,(e=>e===n("wpii").a.BITBUCKET_ISSUE))),w=Object(a.createSelector)(I,(e=>e===Object(n("iJ/Y").k)().applicationKey)),T=Object(a.createSelector)(s,(e=>!!e.ecosystemEnabled)),D=Object(a.createSelector)(s,(e=>e.rapidViewId)),R=Object(a.createSelector)(s,(e=>e.estimationStatistic||null)),L=Object(a.createSelector)(s,(e=>e.boardType)),M=Object(a.createSelector)(s,(e=>e.boardId)),A=Object(a.createSelector)(s,(e=>e.siteAdminStatus)),_=(Object(a.createSelector)(s,(e=>e.productCrossSellConfig)),
Object(a.createSelector)(s,(e=>e.licensedProducts))),N=Object(a.createSelector)(s,(e=>e.appPermissions)),x=Object(a.createSelector)(s,(e=>e.isModal)),U=Object(a.createSelector)(x,C,((e,t)=>!e&&!t)),F=Object(a.createSelector)(s,(e=>e.viewMode)),P=Object(a.createSelector)(s,(e=>e.appEditions)),V=Object(a.createSelector)(s,(e=>e.licenseStates)),K=Object(a.createSelector)(V,(e=>e&&e.serviceDesk===n("CPb+").a)),$=Object(a.createSelector)(_,K,((e,t)=>e&&e[n("S57X").a.JIRA_SERVICEDESK]&&t))},"4geX":function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"n",(function(){return l})),n.d(t,"p",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h
})),n.d(t,"g",(function(){return E})),n.d(t,"q",(function(){return y})),n.d(t,"c",(function(){return O}));const a=e=>({type:"FETCH_LINKED_ISSUES_SUCCESS",payload:e}),s=e=>({type:"FETCH_LINKED_ISSUES_FAILURE",payload:e}),i=(e,t)=>({type:"DELETE_LINKED_ISSUE_REQUEST",payload:{linkedIssueId:e,analyticsEvent:t}}),o=(e,t)=>({type:"DELETE_LINKED_ISSUE_SUCCESS",payload:e,meta:t}),r=e=>({type:"DELETE_LINKED_ISSUE_FAILURE",payload:e}),l=(e,t,n)=>({type:"SAVE_LINKED_ISSUE_REQUEST",payload:{newIssueLinks:e,analyticsEvent:n,requestAnalyticsEvent:t}}),c=(e,t)=>({type:"SAVE_LINKED_ISSUE_SUCCESS",payload:{optimisticId:e,analyticsEvent:t}}),d=(e,t,n)=>({type:"SAVE_LINKED_ISSUE_FAILURE",payload:{optimisticId:e,error:t,analyticsEvent:n}}),u="SAVE_LINKED_ISSUE_RETRY",p=(e,t,n)=>({type:u,payload:{optimisticId:e,analyticsEvent:n,requestAnalyticsEvent:t}}),m=e=>({type:"SAVE_LINKED_ISSUE_CANCEL",payload:e}),b=(e,t,n,a)=>({type:"FETCH_LINKED_ISSUES_DATA_SUCCESS",payload:{issueLinks:e,linkedIssues:t,
optimisticIds:n,optimisticLinks:a}}),g=(e,t)=>({type:"FETCH_LINKED_ISSUES_DATA_FAILURE",payload:{optimisticIds:e,error:t}}),f=()=>({type:"ADD_ISSUE_LINK_CLICKED"}),h=()=>({type:"ADD_ISSUE_LINK_CLOSED"}),E=()=>({type:"FETCH_CREATE_LINKED_ISSUE_PERMISSION_REQUEST"}),y=e=>({type:"SET_CREATE_LINKED_ISSUE_PERMISSION",payload:{canCreateLinkedIssue:e}}),O=e=>({type:"CREATE_LINKED_ISSUE_SUCCESS",payload:{newIssueLinks:e}})},"4r6E":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=i.default.div.withConfig({componentId:"if94b0-0"})`align-items:center;color:${e=>e.colour};display:flex;margin-top:${n("ZpU/").e/2}px;`,r=i.default.div.withConfig({componentId:"if94b0-1"})`margin-left:${n("ZpU/").e/2}px;`,l={default:null,success:null,error:n("5kDX").a.R400};class c extends a.Component{render(){const{children:e,validationMessage:t,validationState:a}=this.props;return s.a.createElement("div",null,e,a&&t?s.a.createElement(o,{colour:l[a]
},s.a.createElement(n.n(n("425I")).a,{label:`${a} icon`,role:"presentation"}),s.a.createElement(r,null,t)):null)}}c.displayName="SelectValidationWrapper",c.displayName="SelectValidationWrapper",c.defaultProps={children:null,validationState:"default",validationMessage:null}},"4sMs":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));const a=100,s="EXCEEDED_LIMIT_INITIAL_LOAD",i="EXCEEDED_LIMIT_AFTER_LOAD"},"51zu":function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=n("3tO9"),r=n.n(o),l=n("j+1e"),c=n.n(l),d=n("E+oP"),u=n.n(d),p=n("pVnL"),m=n.n(p),b=n("QILm"),g=n.n(b),f=Object(i.defineMessages)({publicTooltip:{id:"issue-comment-base.comment.comment-visibility.button.public-tooltip",defaultMessage:"Visible to all users"},optionsTooltip:{id:"issue-comment-base.comment.comment-visibility.button.options-tooltip",defaultMessage:"Only visible to {value}"}}),h=n("vOnD")
;const E=h.default.div.withConfig({componentId:"tdfngc-0"})`display:flex;align-items:center;${e=>e.removeIconMargin?`margin: 0 ${-n("ZpU/").e/2}px;`:null};`,y=h.default.div.withConfig({componentId:"tdfngc-1"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:250px;margin-left:${n("ZpU/").e/2}px;`,O=["buttonStyles"],v=(e,t)=>{const n=e(t),{buttonStyles:a}=n,s=g()(n,O);return r()({buttonStyles:r()(r()({},a),{},{maxWidth:"300px"})},s)},j=({selectedOption:e,isSelected:t})=>{const a="public"===e.type,o=a?n.n(n("NXxJ")).a:n.n(n("ncU9")).a,r=a?s.a.createElement(i.FormattedMessage,f.publicTooltip):s.a.createElement(i.FormattedMessage,m()({},f.optionsTooltip,{values:{value:e.value}}));return s.a.createElement(n("Yto1").a,{content:r,position:"left"},s.a.createElement(n("0+Gd").a,{spacing:"default",theme:v,isSelected:t,shouldFitContainer:!0,iconBefore:s.a.createElement(E,{removeIconMargin:!a},s.a.createElement(o,{label:""}))},!a&&s.a.createElement(y,null,e.value)))}
;j.displayName="TargetButton";var I=j,C=Object(i.defineMessages)({errorMessage:{id:"issue-comment-base.comment.comment-visibility.error-image.error-message",defaultMessage:"We couldn't load the visibility options"}});const S=h.default.div.withConfig({componentId:"sc-1egl7pt-0"})`width:${25*n("ZpU/").e}px;`,k=h.default.div.withConfig({componentId:"sc-1egl7pt-1"})`width:${10*n("ZpU/").e}px;height:${10*n("ZpU/").e}px;margin:12px 0;background:center no-repeat url(${n.n(n("Glcm")).a});`,w=h.default.div.withConfig({componentId:"sc-1egl7pt-2"})`display:flex;flex-direction:column;align-items:center;`,T=h.default.p.withConfig({componentId:"sc-1egl7pt-3"})`color:${`var(--ds-text-lowEmphasis, ${n("5kDX").a.N200})`};text-align:center;`,D=()=>{const e=Object(n("NRyt").d)();return s.a.createElement(S,null,s.a.createElement(w,null,s.a.createElement(k,null),s.a.createElement(T,null,e.formatMessage(C.errorMessage))))};D.displayName="ErrorImage";var R=D,L=Object(i.defineMessages)({visibleToAllUsers:{
id:"issue-comment-base.comment.comment-visibility.visible-to-all-users",defaultMessage:"Visible to all users"},projectRolesLabel:{id:"issue-comment-base.comment.comment-visibility.project-roles-label",defaultMessage:"Project roles"},groupsLabel:{id:"issue-comment-base.comment.comment-visibility.groups-label",defaultMessage:"Groups"}});const M=({type:e,value:t})=>({type:e,value:t}),A=(e,t,a)=>e.filter((e=>e.type===a)).map((e=>r()(r()({},e),{},{selected:!!e&&Object(n("a68s").a)(e,t)}))),_=e=>({label:"",options:[r()(r()({},n("AWZZ").a),{},{selected:"public"===e.type})]}),N=(e,t,n)=>[_(n),{label:t(L.projectRolesLabel),options:A(e,n,"role")},{label:t(L.groupsLabel),options:A(e,n,"group")}],x=(e,t,n)=>{const a=[_(t)];if(e){const s=e.type===t.type&&e.value===t.value;a.push({label:"group"===e.type?n(L.groupsLabel):n(L.projectRolesLabel),options:[r()(r()({},e),{},{selected:s})]})}return a},U=h.default.div.withConfig({componentId:"sc-1jxw4w7-0"
})`display:flex;justify-content:center;align-items:center;height:${18*n("ZpU/").e}px;`,F=()=>s.a.createElement(U,null,s.a.createElement(n("6UK4").a,null));F.displayName="LoadingSpinner";const P=h.default.div.withConfig({componentId:"x1njga-0"})`display:flex;justify-content:left;align-items:center;`,V=h.default.span.withConfig({componentId:"x1njga-1"})`padding:0 5px 0 0;flex-shrink:0;max-height:${3*n("ZpU/").e}px;`,K=h.default.span.withConfig({componentId:"x1njga-2"})`margin-left:${n("ZpU/").e/2}px;max-height:${3*n("ZpU/").e}px;`,$=h.default.div.withConfig({componentId:"x1njga-3"})`font-size:11px;font-weight:initial;padding-top:4px;`,W=h.default.div.withConfig({componentId:"x1njga-4"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,B=h.default.div.withConfig({componentId:"x1njga-5"})`display:flex;justify-content:center;padding:${2*n("ZpU/").e}px;`,q=h.default.div.withConfig({componentId:"x1njga-6"
})`min-width:${4.5*n("ZpU/").e}px;margin-left:${n("ZpU/").e/2}px;`,H="commentVisibilityView",G=({label:e})=>e&&s.a.createElement($,null,e),Y={container:e=>r()(r()({},e),{},{paddingBottom:"0",paddingTop:"0"}),group:e=>r()(r()({},e),{},{paddingBottom:"4px",paddingTop:"0"}),option:(e,{data:{selected:t},isFocused:a})=>{const s=a?`var(--ds-background-subtleNeutral-hover, ${n("5kDX").a.N20})`:e.backgroundColor,i=t?`var(--ds-background-selected-resting, ${n("5kDX").a.B50})`:s;return r()(r()({},e),{},{backgroundColor:i})}},Z=()=>({placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,n("ZpU/").e]}},{name:"setZIndex",enabled:!0,phase:"read",fn:({state:e})=>{var t;return r()(r()({},e),{},{styles:r()(r()({},e.styles),{},{popper:r()(r()({},null===(t=e.styles)||void 0===t?void 0:t.popper),{},{zIndex:n("ZpU/").f.modal})})})}},{name:"preventOverflow",options:{padding:5,escapeWithReference:!0}}]}),X=Object(n("wW5i").a)("commentVisibilitySelect",{onOpen:"opened",onChange:"changed"
})(n("p/Kl").a),J=({value:e,selected:t,isPublic:a})=>{const i=a?n.n(n("NXxJ")).a:n.n(n("ncU9")).a;return s.a.createElement(n("Yto1").a,{content:e,delay:2e3},s.a.createElement(P,null,s.a.createElement(V,null,s.a.createElement(i,{label:""})),s.a.createElement(W,null,e),s.a.createElement(K,null,t?s.a.createElement(n.n(n("igiX")).a,{primaryColor:`var(--ds-text-selected, ${n("5kDX").a.B500})`,label:""}):null)))};J.displayName="OptionLabel";const z=({isLoading:e,options:t,initialValue:i,onChange:o,error:r,intl:{formatMessage:l}})=>{const d=e||r,[p,m]=Object(a.useState)(i),[b,g]=Object(a.useState)(!1),f=Object(a.useCallback)((()=>g(!0)),[]),h=Object(a.useCallback)((()=>g(!1)),[]),E="public"===i.type;if((d||u()(t))&&E)return null;const y=d||null==t?x(i,p,l):N(t,l,p),O=d?{MenuList:e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(n("gniW").m.MenuList,e,e.children),s.a.createElement(B,null,r?s.a.createElement(R,null):s.a.createElement(F,null)))}:void 0
;return s.a.createElement(s.a.Fragment,null,s.a.createElement(n("gV9P").a,{onMount:e=>Object(n("yy8q").b)(e,"commentVisibilitySelect rendered")}),s.a.createElement(q,null,s.a.createElement(X,{onClose:h,onOpen:e=>{f();const a=c()(t,"type");Object(n("yy8q").h)(e,H,{roleCount:a.role||0,groupCount:a.group||0,totalCount:null==t?1:t.length+1})},maxMenuWidth:300,minMenuWidth:175,maxMenuHeight:340,formatOptionLabel:({type:e,value:t,selected:n})=>{const a="public"===e;return s.a.createElement(J,{isPublic:a,selected:n,value:a?l(L.visibleToAllUsers):t})},popperProps:Z(),components:O,styles:Y,formatGroupLabel:G,options:y,target:({ref:e})=>s.a.createElement("div",{ref:e},s.a.createElement(I,{selectedOption:p,isSelected:b})),isLoading:e,error:r,onChange:(e,t,a)=>{(e=>{o(e),m(e)})(M(e)),Object(n("yy8q").h)(a,H)},isSearchable:null!=t&&t.length+1>30,searchThreshold:30})))},Q=({isLoading:e,options:t,initialValue:i,onChange:o,error:r})=>{
const{formatMessage:l}=Object(n("NRyt").d)(),d=e||r,[p,m]=Object(a.useState)(i),[b,g]=Object(a.useState)(!1),f=Object(a.useCallback)((()=>g(!0)),[]),h=Object(a.useCallback)((()=>g(!1)),[]),E="public"===i.type;if((d||u()(t))&&E)return null;const y=d||null==t?x(i,p,l):N(t,l,p),O=d?{MenuList:e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(n("gniW").m.MenuList,e,e.children),s.a.createElement(B,null,r?s.a.createElement(R,null):s.a.createElement(F,null)))}:void 0;return s.a.createElement(s.a.Fragment,null,s.a.createElement(n("gV9P").a,{onMount:e=>Object(n("yy8q").b)(e,"commentVisibilitySelect rendered")}),s.a.createElement(q,null,s.a.createElement(X,{onClose:h,onOpen:e=>{f();const a=c()(t,"type");Object(n("yy8q").h)(e,H,{roleCount:a.role||0,groupCount:a.group||0,totalCount:null==t?1:t.length+1})},maxMenuWidth:300,minMenuWidth:175,maxMenuHeight:340,formatOptionLabel:({type:e,value:t,selected:n})=>{const a="public"===e;return s.a.createElement(J,{isPublic:a,selected:n,
value:a?l(L.visibleToAllUsers):t})},popperProps:Z(),components:O,styles:Y,formatGroupLabel:G,options:y,target:({ref:e})=>s.a.createElement("div",{ref:e},s.a.createElement(I,{selectedOption:p,isSelected:b})),isLoading:e,error:r,onChange:(e,t,a)=>{(e=>{o(e),m(e)})(M(e)),Object(n("yy8q").h)(a,H)},isSearchable:null!=t&&t.length+1>30,searchThreshold:30})))},ee=Object(n("v5q+").a)([i.injectIntl])((e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(n("gV9P").a,{onMount:t=>{Object(n("yy8q").b)(t,"commentVisibilitySelect mounted",{isLoading:e.isLoading})}}),s.a.createElement(z,e))));var te=Object(n("5WHm").a)(n("jZBU").a,(e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(n("ho8o").a,{prefixOverride:"issue",id:"safe(CommentVisibilityViewWithAnalytics)"},s.a.createElement(n("gV9P").a,{onMount:t=>{Object(n("yy8q").b)(t,"commentVisibilitySelect mounted",{isLoading:e.isLoading})}}),s.a.createElement(Q,e)))),ee)
;const ne=({initialValue:e,onChange:t})=>s.a.createElement(n("cyMh").a,null,(({loading:n,error:a,data:i})=>s.a.createElement(te,{initialValue:e,onChange:t,isLoading:n,error:a,options:i?i.commentVisibilities:null})));ne.displayName="CommentVisibilitySelect";t.a=Object(n("YNh8").a)()(ne)},"5Gpo":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=()=>({type:"LOGIN"}),s=e=>({type:"LOGIN_SUCCESSFUL",payload:e})},"5JtD":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const a=({fromIssueKey:e,toIssueKey:t})=>({type:"NAVIGATE_TO_NEW_ISSUE",payload:{fromIssueKey:e,toIssueKey:t}}),s=(e,t)=>({type:"NAVIGATE_TO_PROJECT",payload:{projectUrl:e,pushAction:t}}),i=e=>({type:"NAVIGATE_TO_SPRINT",payload:{sprintId:e}}),o=e=>({type:"LOAD_NEW_ISSUE",payload:{issueKey:e}}),r=(e,t)=>({
type:"LOAD_RECENT_ISSUE",payload:{issueKey:e,issueState:t}})},"5QTM":function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("JRPe");class o extends a.Component{renderButton(){return s.a.createElement(n("340+").a,{onClick:this.props.onClick,appearance:"subtle",iconBefore:s.a.createElement(n.n(n("ggBa")).a,{label:this.props.iconLabel})},this.props.children)}render(){return s.a.createElement("div",null,this.props.tooltip?s.a.createElement(n("Yto1").a,{content:this.props.tooltip,position:"top"},this.renderButton()):this.renderButton())}}o.displayName="BentoFeedbackTriggerButton",o.defaultProps={children:null,tooltip:null,iconLabel:"",onClick:null};class r extends a.Component{renderFeedbackButton(e){const t={collectorId:this.props.collectorId,feedbackGroupId:this.props.feedbackGroupId,feedbackType:n("mRGU").a,optOut:!0};return s.a.createElement(n("MJlJ").a,null,((n,{openFeedbackDialog:a})=>s.a.createElement(i.FormattedMessage,{id:"software-issue.labs-feature-button-text",
defaultMessage:"Give feedback"},(n=>this.props.isCompact?s.a.createElement(o,{iconLabel:String(n),tooltip:e,onClick:()=>a(t)}):s.a.createElement(o,{onClick:()=>a(t)},n)))))}render(){return s.a.createElement(i.FormattedMessage,{id:"software-backlog-issue.labs-feature-button-tooltip",defaultMessage:"Give feedback"},(e=>this.renderFeedbackButton(e)))}}r.displayName="Feedback",r.defaultProps={isCompact:!1};var l=r;const c=e=>s.a.createElement(n("y2a/").a,null,s.a.createElement(n("PvT5").a,null,s.a.createElement(l,e)));c.displayName="FeedbackButton";t.a=c},"6HDI":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l}));var a=n("44Ds"),s=n.n(a);const i=e=>{if(!e)return null;const{id:t,value:n,child:a}=e;return{value:t,label:n,child:a&&{value:a.id,label:a.value}}},o=s()((e=>e.map((({id:e,value:t})=>({value:e,label:t}))))),r=s()((e=>e.reduce(((e,{id:t,children:n})=>(e[t]=n?o(n):[],
e)),{}))),l=e=>{if(!e)return null;const{label:t,value:n}=e,a=e.child||void 0;return{id:n,value:t,child:a&&{id:a.value,value:a.label}}}},"6P8Q":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n("OFL0"),s=n.n(a),i=n("J2iB"),o=n.n(i);const r=e=>e&&s()(e,"schema.custom")&&!o()(e.schema.custom)&&e.schema.custom.includes("ari:cloud:ecosystem::extension"),l=e=>r(e)?{id:e.key,type:"forgeCustomField"}:null,c=e=>r(e)?"forgeCustomField":null},"6oEo":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return b}));var a=n("3tO9"),s=n.n(a);const i=(e,t)=>t.includes("http")?t:e+t,o=(e,t)=>{if(t&&"icon"===t.type){const n=s()({},t);return n.value.label=i(e,t.value.label),n}return t},r=(e,t)=>{const n=Object.keys(t)[0];return s()(s()({},e),{},{[n]:s()(s()({},t[n]),e[n])})},l=e=>"string"==typeof e?JSON.parse(e):e,c=(e=[])=>e.map((e=>({[e.iframe.addonKey]:{[e.iframe.moduleKey]:{
name:e.name,appKey:e.iframe.addonKey,moduleKey:e.iframe.moduleKey,options:l(e.iframe.options),icon:e.icon&&{url:e.icon.url},label:{type:"text",value:e.content||e.name},status:o(l(e.iframe.options).origin,e.status),type:e.type}}}))).reduce(r,{}),d=(e=[])=>e.map((e=>({[e.iframe.addonKey]:{[e.iframe.moduleKey]:{name:e.name,appKey:e.iframe.addonKey,moduleKey:e.iframe.moduleKey,options:l(e.iframe.options),icon:e.icon&&{url:e.icon.url},tooltip:e.tooltip,type:e.type,showByDefault:!!e.showByDefault}}}))).reduce(r,{}),u=(e=[])=>e.map((({iframe:e,shouldReloadOnRefresh:t})=>({appKey:e.addonKey,moduleKey:e.moduleKey,options:l(e.options),shouldReloadOnRefresh:t}))),p=(e=[])=>e.map((e=>({[e.iframe.addonKey]:{[e.iframe.moduleKey]:{name:e.name,appKey:e.iframe.addonKey,moduleKey:e.iframe.moduleKey,options:l(e.iframe.options)}}}))).reduce(r,{}),m=(e=[])=>e.map((e=>({name:e.name,url:e.url,tooltip:e.tooltip,styleClass:e.styleClass}))),b=e=>({glances:c(e.glances),contentPanels:d(e.contentPanels),
backgroundScripts:u(e.backgroundScripts),operations:m(e.operations),activityPanels:p(e.activityPanels),ecosystemOnDate:e.ecoSystemOnDate,canInstallAddons:e.canInstallAddons||!1})},"6uvl":function(e,t,n){"use strict";var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("lSCD"),l=n.n(r);t.a=(e,t,a)=>{const r=l()(e)?e:()=>e||null;class c extends i.Component{constructor(e){super(e),this.startTime=void 0,this.mountTime=void 0,this.startTime=n("SHpS").d.now()}componentDidMount(){this.mountTime=n("SHpS").d.now()}componentWillUnmount(){const e=n("SHpS").d.now(),t=e-this.startTime,s=this.mountTime-this.startTime,i=e-this.mountTime;t>0&&this.props.onWillUnmount(t,s,i,a)}render(){return r()}}c.displayName="LoadingWrapper",c.defaultProps={onWillUnmount:()=>{}};const d=Object(n("BxXc").a)((e=>({onWillUnmount:(t,n,a,i)=>e("loading-component",s()({duration:t,initializationTime:n,mountingTime:a},i||{}))})))(c);return o.a.createElement(d,{externalId:t})}},"7/nq":function(e,t,n){"use strict"
;n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return I})),n.d(t,"a",(function(){return C})),n.d(t,"d",(function(){return S}));var a=n("peh1"),s=n("Z0cm"),i=n.n(s),o=n("J2iB"),r=n.n(o),l=n("YO3V"),c=n.n(l)
;const d=["devSummary","SLA_PANEL","KNOWLEDGE_BASE","ASSET_ONBOARDING"],u=()=>[...d,"LINKED_ALERTS",...Object(n("d90y").isJsmChatChannelEnabled)()?["CHAT_CHANNEL"]:[],...Object(n("d90y").isManageStakeholderMajorIncidentEnabled)()?["MANAGE_STAKEHOLDERS"]:[],...Object(n("d90y").isJsmConferenceCallEnabled)()?["CONFERENCE_CALL"]:[]],p=e=>r()(e)||i()(e)&&0===e.length||c()(e)&&0===Object.keys(e).length,m=(e,t,a)=>!(!e||!p(Object(n("2p4G").a)(e))||Object(n("KSj7").F)(e))&&("assignee"!==e.key&&"com.atlassian.servicedesk:vp-origin"!==Object(n("eNla").a)(e)&&"com.atlassian.servicedesk.servicedesk-lingo-integration-plugin:sd-request-language"!==Object(n("eNla").a)(e)&&("timetracking"!==e.key||((e,t)=>!!t&&!e)(t,a))),b=(e,t)=>{if(u().includes(e.id))return{id:e.id,type:e.id};if("TAB"===e.type)return e;const a=Object(n("6P8Q").a)(t[e.id]);if(a)return a;const s=Object(n("KSj7").v)(e.id,t),i=Object(n("eNla").a)(s);return s&&i?{id:s.key,type:i}:null
},g=Object(a.createSelector)(n("KSj7").t,(e=>Object.keys(e).filter((t=>{const a=Object(n("eNla").a)(e[t]);return a&&Object(n("iJ/Y").e)().includes(a)})))),f=Object(a.createSelector)(n("KSj7").t,(e=>Object.keys(e).filter((t=>{const a=Object(n("eNla").a)(e[t]);return a&&n("iJ/Y").f.includes(a)})))),h=Object(a.createSelector)(n("KSj7").t,n("4dgq").z,n("4dgq").C,g,n("4dgq").l,((e,t,a,s,i)=>{if(!i)return null;return[...t,...s,...a].find((t=>{const a=Object(n("KSj7").v)(t.id,e);return a&&a.key===i}))||null})),E=Object(a.createSelector)(n("4dgq").z,h,((e,t)=>t&&!e.includes(t)?e.concat([t]):e)),y=Object(a.createSelector)(n("4dgq").C,h,((e,t)=>t?e.filter((e=>e!==t)):e)),O=Object(a.createSelector)(g,h,((e,t)=>t?e.filter((e=>e!==t)):e)),v=Object(a.createSelector)(E,y,O,n("4dgq").m,n("/LFc").G,((e,t,n,a)=>[...e,...t,...a?[{id:"devSummary",type:"DEV_SUMMARY"}]:[]])),j=Object(a.createSelector)(n("KSj7").t,v,y,n("gnYg").b,n("gnYg").c,((e,t,a,s,i)=>t.filter((t=>{const o=!!a.find((e=>e.id===t.id))
;if(u().includes(t.id)||"TAB"===t.type)return!o;if(Object(n("6P8Q").c)(e[t.id]))return!0;const r=Object(n("KSj7").v)(t.id,e);return!!Object(n("KSj7").E)(r)||!m(r,s,i)&&(r&&Object(n("eNla").a)(r)&&!(o&&p(Object(n("2p4G").a)(r))))})).map((t=>b(t,e))).filter(Boolean))),I=Object(a.createSelector)(n("KSj7").t,n("4dgq").j,((e,t)=>t.filter((t=>{const a=Object(n("KSj7").v)(t.id,e);return!(!a||!Object(n("eNla").a)(a))})).map((t=>b(t,e))).filter(Boolean))),C=Object(a.createSelector)(n("KSj7").t,y,n("gnYg").b,n("gnYg").c,((e,t,a,s)=>t.filter((t=>{if(u().includes(t.id)||"TAB"===t.type)return!0;const i=Object(n("KSj7").v)(t.id,e);return!Object(n("KSj7").E)(i)&&(!m(i,a,s)&&(i&&Object(n("eNla").a)(i)&&p(Object(n("2p4G").a)(i))))})).map((t=>b(t,e))).filter(Boolean))),S=Object(a.createSelector)(C,(e=>e.length>0))},"7J+s":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));const a="INLINE",s="LOZENGE",i="NORMAL"},
"7i6c":function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return d}));const a=()=>({type:"SUBTASK_QUICK_ADD_CLICKED"}),s=()=>({type:"ISSUE_IN_EPIC_QUICK_ADD_CLICKED"}),i=()=>({type:"CHILD_ISSUE_QUICK_ADD_CLICKED"}),o=()=>({type:"RESET_QUICK_ADD_CLICKED_COUNT"}),r=(e,t)=>({type:"CHILD_ISSUE_ADD_SUCCESS",payload:{childIssue:e,fieldsData:t}}),l=(e,t)=>({type:"SUBTASK_ADD_SUCCESS",payload:{childIssue:e,fieldsData:t}}),c=({issueIds:e,rankId:t,isRankAfter:n})=>({type:"ISSUE_CHILDREN_ORDER_CHANGE_SUCCESS",payload:{issueIds:e,rankId:t,isRankAfter:n}}),d=()=>({type:"CHILD_ISSUE_PANEL_ADD_CLICKED"})},"7w0A":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a="CONNECT_ENTITY_TYPE",s=["FORGE_ENTITY_TYPE",a]},
"8/Id":function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("sEfC"),o=n.n(i),r=n("pVnL"),l=n.n(r),c=n("3tO9"),d=n.n(c),u=n("J2iB"),p=n.n(u),m=n("EcEN"),b=n.n(m),g=n("6ajc"),f=n.n(g);const h=e=>Object(n("hhxX").a)(e.toString()).toString(),E=e=>(Array.isArray(e)?e:[e]).filter((e=>e.value)).map((({value:e})=>h(e))),y=e=>(Array.isArray(e)?e:[e]).filter((e=>e.value)).map((({value:e})=>null!=e?`${e}`.length:0)),O=Object(n("wW5i").a)("select",{onChange:"valueChanged",onInputChange:"inputChanged",onMenuOpen:"menuOpened",onMenuClose:"menuClosed"})(n("CF39").a),v=e=>{
const{fieldId:t,isLoading:i,onChange:o,onInputChange:r,options:c=[],value:u,sessionId:m,canCreateNewItem:g=!1}=e,v=Object(a.useRef)(!0),j=Object(a.useRef)(!1),I=Object(a.useRef)(m),C=Object(a.useRef)(0),S=Object(a.useRef)(void 0),[k,w]=Object(a.useState)(""),[T,D]=Object(a.useState)(""),{createAnalyticsEvent:R}=Object(n("rZ/p").a)(),L=Object(a.useMemo)((()=>(e=>f()(e.map((e=>e.options?e.options:[e]))))(c)),[c]),M=Object(a.useCallback)((e=>{const a=p()(u)?[]:u;let s=((e,t)=>e.filter((e=>"string"==typeof e.value&&e.value.toLowerCase().includes((t||"").toLowerCase())||"string"==typeof e.label&&e.label.toLowerCase().includes((t||"").toLowerCase()))))(L,e);const o=s.length;s=s.slice(0,20);const r=E(s);return{fieldId:t,isLoading:i,optionsLength:o,componentName:"select",packageName:"@atlaskit/select",optionValuesSafeForAnalytics:!1,options:r,optionsLengths:y(s),queryLength:e.length,queryHash:""===e?e:Object(n("hhxX").a)(e),selectedOptions:E(a),selectedOptionsLengths:y(a),sessionId:I.current,
truncationSize:20}}),[t,L,i,I,u]),A=Object(a.useCallback)((e=>{const t=[];return L.forEach(((n,a)=>{n.value===e.value&&t.push(a)})),t.length>0?t[0]:-1}),[L]),_=Object(a.useCallback)(((e,t,a)=>{const s=d()(d()({},M(t)),a);Object(n("yy8q").h)(e,s)}),[M]),N=Object(a.useCallback)(((e,t,a,s)=>{const i=d()(d()({},M(T)),s);Object(n("yy8q").f)(e,`${a} ${t}`,i)}),[M,T]),x=Object(a.useCallback)((()=>{void 0===I.current&&(I.current=b.a.v4()),C.current=n("SHpS").d.now(),N(R({action:"started"}),"started","optionSelectionSession")}),[R,N,I,C]),U=Object(a.useCallback)((()=>{if(void 0!==I.current){const e=C.current,t=0===e?n("SHpS").d.now()-e:0;N(R({action:"ended"}),"ended","optionSelectionSession",{elapsedTime:t})}I.current=void 0,C.current=0}),[R,N,I,C]),F=Object(a.useCallback)((()=>{U(),x()}),[U,x]),P=Object(a.useCallback)(((e,t,n)=>{"set-value"===t.action&&w(T),D(e),n.update({action:"changed",actionSubject:"filter"}),_(n,e)}),[_,T,D,w]),V=Object(a.useCallback)((e=>{e.update({action:"loaded",
actionSubject:"options"}),_(e,T)}),[_,T]),K=Object(a.useCallback)(((e,t)=>{t.update({action:"created",actionSubject:"option"});const n=I.current;F(),_(t,k,{selectedOption:h(e.value),sessionId:n})}),[_,k,F,I]),$=Object(a.useCallback)(((e,t)=>{t.update({action:"removed",actionSubject:"option"}),_(t,T,{removedItem:e?h(e.value):void 0})}),[_,T]),W=Object(a.useCallback)(((e,t)=>{t.update({action:"changed",actionSubject:"option"});const n=I.current;F(),_(t,k,{selectedOption:h(e.value),selectedOptionLength:null!==e.value?`${e.value}`.length:0,selectedOrder:A(e),sessionId:n})}),[_,A,k,F,I]),B=Object(a.useCallback)(((e,t,n)=>{const a=Array.isArray(e)?e[e.length-1]:e;switch(t.action){case"create-option":null!==a&&K(a,n);break;case"remove-value":case"pop-value":case"deselect-option":$(t.removedValue||t.option,n);break;case"select-option":null!==a&&W(a,n)}o&&o(e,t)}),[K,$,W,o]),q=Object(a.useCallback)(((e,t,n)=>{"input-change"!==t.action&&"set-value"!==t.action||P(e,t,n),r&&r(e,I.current)
}),[P,r,I]),H=Object(a.useCallback)((()=>!!g),[g]);return Object(a.useEffect)((()=>{j.current||(x(),P("",{action:"fake-action"},R({})),j.current=!0)}),[R,P,x]),Object(a.useEffect)((()=>{S.current=U}),[U]),Object(a.useEffect)((()=>()=>{S.current&&S.current()}),[]),Object(a.useEffect)((()=>{v.current?v.current=!1:V(R({}))}),[c]),s.a.createElement(O,l()({},e,{onChange:B,onInputChange:q,isValidNewOption:H}))};v.displayName="CreatableSelectWithAnalyticsView";var j=v;var I=n("cr+I");const C=Object(I.stringify)({maxActiveSprints:5,maxResults:10}),S=async(e,t)=>{const a=`${encodeURIComponent(t)}&${C}`;return Object(n("/rpS").b)(`${e}${a}`)};var k=n("JRPe"),w=Object(k.defineMessages)({placeholder:{id:"issue-field-sprint.edit.placeholder",defaultMessage:"Select sprint"},empty:{id:"issue-field-sprint.edit.empty",defaultMessage:"No matches found"},failedFetch:{id:"issue-field-sprint.edit.failed-fetch",defaultMessage:"Search failed. Please try again."},loading:{id:"issue-field-sprint.edit.loading",
defaultMessage:"Searching..."}});const T=e=>{const{autoCompleteUrl:t,autoFocus:i,onChange:r,onFocus:l,onBlur:c,spacing:d,value:u,options:p,noOptionsMessage:m,loadingMessage:b,onCloseMenuOnScroll:g,isDropdownMenuFixedAndLayered:f,useTransformSuggestions:h,onPostTransformSuggestions:E,getSuggestions:y,fetchSuggestionsOnMount:O=!0,fieldId:v="com.pyxis.greenhopper.jira:gh-sprint",isInvalid:I=!1,menuPosition:C,isDisabled:k=!1}=e,[T,D]=Object(a.useState)(!1),[R,L]=Object(a.useState)(),[M,A]=Object(a.useState)(),[_,N]=Object(a.useState)(!1),x=Object(a.useRef)(""),{formatMessage:U}=Object(n("NRyt").d)(),[{isLoadingSuggestions:F},{getSprintSuggestions:P,setIsLoadingSuggestions:V}]=(e=>{const{getSuggestions:t=S}=e||{},[n,s]=Object(a.useState)(!1),i=Object(a.useCallback)((async(e,n)=>{try{const a=await t(e,n);return s(!1),a}catch(a){throw s(!1),a}}),[t,s]);return[{isLoadingSuggestions:n},Object(a.useMemo)((()=>({getSprintSuggestions:i,setIsLoadingSuggestions:s})),[i,s])]})({getSuggestions:y
}),K=Object(a.useCallback)(((e,t)=>{if(x.current===t){const a=(h||n("PzPv").j)(e,U);E&&E(a,t),L(a),""===t&&A(a)}}),[U,h,E]),$=Object(a.useCallback)((()=>s.a.createElement(n("YO9v").b,null,U(w.failedFetch))),[U]),W=Object(a.useCallback)((async(e="")=>{try{const n=await P(t,e);K(n,e)}catch(n){N(!0);const e=[{label:$(),value:"",isDisabled:!0}];L(e)}}),[t,$,P,K]);Object(a.useMemo)((()=>{O&&(p||M?p&&!M?(A(p),L(p)):(x.current="",V(!0),W()):(V(!0),W()))}),[]);const B=Object(a.useCallback)(o()(W,300),[]),q=Object(a.useCallback)((()=>void 0!==m?m:U(w.empty)),[U,m]),H=Object(a.useCallback)((()=>void 0!==b?b:U(w.loading)),[U,b]),G=Object(a.useCallback)(((e,t)=>!!_||Object(n("XXsi").a)(e,t||"")),[_]),Y=Object(a.useCallback)((e=>{B.cancel(),N(!1),e?(x.current=e,V(!0),B(e)):(x.current="",V(!1),L(M))}),[B,M,V,L]),Z=Object(a.useCallback)((e=>{D(!0),V(!0),W(""),l&&l(e)}),[W,l,V,D]),X=Object(a.useCallback)((e=>{D(!1),c&&c(e)}),[c]),J=Object(a.useCallback)((e=>{
(()=>Object(n("D3TY").a)("issue.details.extracted-field.sprint",!1))()&&D(!1),r&&r(e,R)}),[r,R]);let z;return z=(()=>Object(n("D3TY").a)("issue.details.dot-dialog-fields-milestone-1",!1))()&&"string"==typeof C?C:!0===f?"fixed":void 0,s.a.createElement(j,{isClearable:!0,hideSelectedOptions:!0,autoFocus:i,fieldId:v,options:R,value:u,onBlur:X,menuIsOpen:T,menuPosition:z,styles:!0===f?n("YO9v").f:void 0,onFocus:Z,noOptionsMessage:q,closeMenuOnScroll:g,loadingMessage:H,placeholder:U(w.placeholder),onInputChange:Y,onChange:J,spacing:d,isLoading:T&&F,filterOption:G,formatOptionLabel:n("vWB2").a,validationState:!0===I?"error":null,isDisabled:k})};T.displayName="SprintEdit";t.a=T},"84KE":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=(e,t)=>({type:"APPLINK_AUTHENTICATION_REQUEST",payload:e,meta:{analyticsEvent:t}}),s=()=>({type:"APPLINK_AUTHENTICATION_SUCCESS"})},"86TH":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),
n.d(t,"b",(function(){return u}));var a=n("3tO9"),s=n.n(a),i=n("J2m7"),o=n.n(i),r=n("QVEU"),l=n.n(r);const c=e=>{if(null!=e){const{avatarUrl:t,displayName:a}=Object(n("gbrB").c)(e);return{assigneeUrl:t,assigneeDisplayName:a}}return{assigneeUrl:null,assigneeDisplayName:null}},d=(e,t)=>Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()?(e=>{var t,a,i,o,r,d,u,p,m,b,g,f;const h=l()(e.fields,(e=>e.schema.system)),E=h.issuetype,y=h.priority,O=h.summary,v=h.status,j=h.assignee,I=e.fields.find((e=>"com.pyxis.greenhopper.jira:jsw-story-points"===e.schema.custom)),C=h.timetracking,S=h.created,k=h.updated,w=j?c(j.value):{};return s()(s()({id:e.id,issueLink:Object(n("XtNG").f)(Object(n("Rp3N").c)(""),e.key),issueTypeIconUrl:null==E?void 0:E.value.iconUrl,issueTypeName:null==E?void 0:E.value.name,issuePriorityUrl:null!==(t=null==y||null===(a=y.value)||void 0===a?void 0:a.iconUrl)&&void 0!==t?t:void 0,
issuePriorityName:null!==(i=null==y||null===(o=y.value)||void 0===o?void 0:o.name)&&void 0!==i?i:void 0,issueKey:e.key,issueSummary:null==O?void 0:O.value,statusCategory:(null==v?void 0:v.value)&&Object(n("RQwY").statusCategoryForId)(v.value.statusCategory.id),statusCategoryId:null==v||null===(r=v.value)||void 0===r?void 0:r.statusCategory.id,statusName:null!==(d=null==v||null===(u=v.value)||void 0===u?void 0:u.name)&&void 0!==d?d:void 0,statusId:null!==(p=null==v||null===(m=v.value)||void 0===m?void 0:m.id)&&void 0!==p?p:void 0,estimateFieldId:null!==(b=null==I?void 0:I.key)&&void 0!==b?b:void 0,estimateValue:null!==(g=null==I?void 0:I.value)&&void 0!==g?g:void 0,assigneeDisplayName:w.assigneeDisplayName,assigneeUrl:w.assigneeUrl,isLoading:!1,issueTimeTracking:null!==(f=null==C?void 0:C.value)&&void 0!==f?f:void 0},(null==S?void 0:S.value)&&{created:new Date(S.value)}),(null==k?void 0:k.value)&&{updated:new Date(k.value)})})(e):((e,t)=>{
const{fields:a}=e,i=o()(a,(e=>"issuetype"===e.schema.system)),r=o()(a,(e=>"priority"===e.schema.system)),l=o()(a,(e=>"summary"===e.schema.system)),d=o()(a,(e=>"status"===e.schema.system)),u=o()(a,(e=>"assignee"===e.schema.system)),p=u?c(u.value):{},m=o()(a,(e=>"com.pyxis.greenhopper.jira:jsw-story-points"===e.schema.custom)),b=o()(a,(e=>"timetracking"===e.schema.system)),g=o()(a,(e=>"created"===e.schema.system)),f=o()(a,(e=>"updated"===e.schema.system));return s()(s()({id:e.id,issueLink:Object(n("XtNG").f)(t,e.key),issueTypeIconUrl:i&&i.value.iconUrl,issueTypeName:i&&i.value.name,issuePriorityUrl:r&&r.value&&r.value.iconUrl||void 0,issuePriorityName:r&&r.value&&r.value.name||void 0,issueKey:e.key,issueSummary:l&&l.value,statusCategory:d&&d.value&&Object(n("RQwY").statusCategoryForId)(d.value.statusCategory.id),statusCategoryId:d&&d.value&&d.value.statusCategory.id,statusName:d&&d.value&&d.value.name||void 0,statusId:d&&d.value&&d.value.id||void 0,estimateFieldId:m&&m.key||void 0,
estimateValue:m&&m.value||void 0,assigneeDisplayName:p.assigneeDisplayName,assigneeUrl:p.assigneeUrl,isLoading:!1,issueTimeTracking:b&&b.value||void 0},g&&g.value&&{created:new Date(g.value)}),f&&f.value&&{updated:new Date(f.value)})})(e,t),u=(e=[],t)=>e?e.map((e=>d(e,t))):[]},"87wI":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));const a="FIELD_CHANGE_REQUESTED",s="FIELD_CHANGED",i="FIELD_CHANGE_FAILED",o="ISSUE_TYPE_CHANGED",r="ISSUE_RELATIONSHIP_UPDATED",l="ISSUE_LINKS_CREATED",c="ISSUE_LINK_DELETED",d="CHILD_ISSUE_ADDED",u="ISSUE_CHILDREN_ORDER_CHANGED",p={[a]:a,[i]:i,[s]:s,[o]:o,[r]:r,[l]:l,[c]:c,[d]:d,[u]:u}},"8c2Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("u6S6"),r=n.n(o);const l=Object(i.createSelector)(Object(n("KSj7").r)("servicedesk-practices"),(e=>{if(e&&e.value&&e.value.length>0)return e.value[0]
})),c=e=>Object(n("0Lwy").a)(...n("Hh3U").g)(e),d=e=>Object(n("0Lwy").a)(...n("Hh3U").c)(e),u=e=>Object(n("0Lwy").a)(...n("Xq2n").a)(e),p=e=>Object(n("0Lwy").a)(...n("RQwY").STATUS_CATEGORIES)(e),m=Object(i.createSelector)(Object(n("KSj7").r)("assignee"),(e=>e&&e.value?e.value.accountId:null)),b=Object(i.createSelector)(n("4dgq").b,n("/LFc").l,n("/LFc").D,n("/LFc").G,n("/LFc").u,n("SXNk").g,n("OGP8").a,n("4dgq").h,n("4dgq").g,n("/LFc").D,n("4dgq").v,m,l,((e,t,a,i,o,l,m,b,g,f,h,E,y)=>{const O={};e&&(O.analyticsSource=e),"serviceDesk"===c(r()(i))&&y&&(O.itsmPractice=y);const v={};return Object(n("d90y").isDotDialogFieldsMilestone1Enabled)()&&(null!==a&&(v.project={id:`${a}`,type:r()(i)}),null!==t&&(v.issue={id:`${t}`})),s()(s()({containerType:Object(n("0Lwy").a)("project")("project"),containerId:f},Object(n("d90y").isDotDialogFieldsMilestone1Enabled)()&&{containers:v}),{},{objectType:Object(n("0Lwy").a)("issue")("issue"),objectId:h,attributes:s()(s()({},O),{},{
designVersion:Object(n("0Lwy").a)("v2-bento")("v2-bento"),projectId:a,issueId:t,projectConfig:d(o?"next-gen":"classic"),projectType:c(r()(i)),nextGenProject:Boolean(o),statusCategory:p(m),statusCategoryId:m?Object(n("RQwY").categoryIdForStatusCategory)(m):null,issueTypeId:l,boardType:u(b),boardId:g,assigneeId:E?Object(n("0Lwy").a)(E)(E):E})})}))},"9EVx":function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=n("J2iB"),r=n.n(o),l=n("vN+2"),c=n.n(l);const d=n("vOnD").default.span.withConfig({componentId:"sc-6vgjjy-0"})`cursor:${({canSwitchDisplaySetting:e})=>e?"pointer":"default"};${({extraStyles:e})=>e.always};${({canSwitchDisplaySetting:e,extraStyles:{whenDisplaySettingSwitchable:t}})=>e?t:""};`;d.displayName="TimestampWrapper";const u=e=>(e=>(Date.now()-new Date(e))/864e5)(e)<8?"RELATIVE":"ABSOLUTE",p=e=>{
const{value:t,extraStyles:o={},tooltipPosition:l="top"}=e,[{data:p}]=Object(n("NvmA").b)(),m=(p?p.timeZone:void 0)||Object(n("/EHM").a)(),b="RELATIVE"===u(t),{createAnalyticsEvent:g}=Object(n("rZ/p").a)(),{formatDate:f}=Object(n("NRyt").d)(),[h,{setValue:E}]=Object(n("F0wu").b)("jira.user.issue.details.timestamp-display-setting"),y=r()(h)||""===h?"RELATIVE":h,O=Object(a.useMemo)((()=>f(t,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZone:m})),[f,m,t]),v=Object(a.useCallback)((()=>{const e=g({action:"clicked",actionSubject:"button"});Object(n("yy8q").h)(e,"absoluteTimeButton"),E("RELATIVE").catch((e=>{n("fnbV").a.safeErrorWithoutCustomerData("issue.fields.components.timestamp","Failed to set timestamp display to RELATIVE",e)}))}),[g,E]),j=Object(a.useCallback)((()=>{const e=g({action:"clicked",actionSubject:"button"});Object(n("yy8q").h)(e,"relativeTimeButton"),E("ABSOLUTE").catch((e=>{
n("fnbV").a.safeErrorWithoutCustomerData("issue.fields.components.timestamp","Failed to set timestamp display to ABSOLUTE",e)}))}),[g,E]),I=Object(a.useCallback)((e=>s.a.createElement(d,{canSwitchDisplaySetting:e,onClick:e?v:c.a,extraStyles:o},O)),[o,O,v]),C=Object(a.useCallback)((()=>s.a.createElement(d,{canSwitchDisplaySetting:!0,onClick:j,extraStyles:o},s.a.createElement(n("Yto1").a,{tag:"span",content:O,position:l},s.a.createElement(i.FormattedRelative,{value:t})))),[o,O,j,l,t]);return b&&"RELATIVE"===y?C():I(b)};p.displayName="TimestampView";var m=p;t.a=m},"9IPv":function(e,t,n){"use strict";n.r(t);var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n.n(i);const r=e=>{const{formatMessage:t}=Object(n("NRyt").d)(),{siteId:a,defaultValue:i,isClearable:r=!0,isDisabled:l=!1,autoFocus:c=!1,width:d="100%",debounceTime:u=300,onChange:p,placeholder:m=t(n("VrLr").a.placeholderTeamEditSelector),isDropdownMenuFixedAndLayered:b=!1,styles:g}=e;let f=g;return!0===b&&(f=s()(s()({},n("YO9v").f),g||{})),
o.a.createElement(n("RatK").a,{width:d,autoFocus:c,appearance:"compact",debounceTime:u,fieldId:"team",includeGroups:!1,includeTeams:!0,includeUsers:!1,isClearable:r,isMulti:!1,isDisabled:l,productKey:"jira",siteId:a,value:i,onChange:p,placeholder:m,menuPosition:!0===b?"fixed":void 0,styles:f})};r.displayName="TeamPickerEdit",t.default=r},"9PSx":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n("q1tI"),s=n.n(a),i=n("6xe2");const o=({defaultValue:e,mediaContext:t})=>s.a.createElement(n("cAiP").a,{mediaContext:t,adf:e});o.displayName="IssueEditorReadonly";const r=({children:e,fallback:t,packageName:a})=>s.a.createElement(n("ho8o").a,{id:"issue-editor",packageName:a,render:()=>t},s.a.createElement(i.a,{fallback:t},e));r.displayName="IssueEditorBoundary"},"9mKt":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=({issueKey:e})=>Object(n("j3bG").b)({issueKey:e,
fieldKey:"servicedesk-practices"}),s=()=>{const e=Object(n("ovRs").h)(),[t]=a({issueKey:e});return Array.isArray(t)&&(null==t?void 0:t.includes(n("o4hb").c))}},AFBP:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return p}));var a=n("vOnD");const s=1.5*n("ZpU/").e,i=a.default.div.withConfig({componentId:"mffpf0-0"
})`padding:0 ${4*n("ZpU/").e}px ${n("0YYc").c}px;${({issueMaxWidth:e})=>void 0!==e?`padding-top: ${n("0YYc").b}px;`:""} ${({isLeftmost:e,isRightmost:t})=>e?`\n                padding-left: ${n("E4Jw").d}px;\n                padding-right: ${3*n("ZpU/").e}px;\n                `:t?`\n                padding-left: ${2*n("ZpU/").e}px;\n                padding-right: ${n("E4Jw").d-1.5*n("ZpU/").e}px;\n                `:""}`,o=a.default.div.withConfig({componentId:"mffpf0-1"})`flex-grow:1;${({scrollHidden:e})=>e?a.css`overflow:hidden;${i}{border-right:${15}px solid transparent;}`:"\n        overflow-x: hidden; /* 2 value shorthand syntax is not supported in IE11 */\n        overflow-y: auto;\n   "};${({medium:e,isLeftmost:t,isRightmost:a,issueMaxWidth:i})=>{const o=e/10,r=a?s:t?-s:0,l=void 0!==i
;return`\n            width: ${`${(100*o).toFixed(3)}%`};\n            width: ${`calc(${o} * min(${Object(n("Kn7U").a)()}px, 100%) + ${r}px)`};\n            ${t&&l?Object(n("E4Jw").c)("padding-left",i):""}\n            ${a&&l?Object(n("E4Jw").c)("padding-right",i):""}\n        `}}`,r=a.default.div.withConfig({componentId:"mffpf0-2"})`margin-top:${3*n("ZpU/").e}px;`,l=a.default.div.withConfig({componentId:"mffpf0-3"})`position:relative;height:100%;`,c=a.default.div.withConfig({componentId:"mffpf0-4"})`display:flex;flex-wrap:wrap;flex-direction:row;align-items:flex-start;justify-content:space-between;align-content:stretch;margin-left:${-n("ZpU/").e}px;margin-bottom:${3*n("ZpU/").e}px;padding-left:${1.25*n("ZpU/").e}px;`,d=a.default.div.withConfig({componentId:"mffpf0-5"})`visibility:${e=>e.show?"visible":"hidden"};`,u=a.default.div.withConfig({componentId:"mffpf0-6"
})`height:100%;${({scrollHidden:e})=>e?a.css`overflow:hidden;border-right:${15}px solid transparent;`:"\n        overflow: auto;\n   "};`,p=a.default.div.withConfig({componentId:"mffpf0-7"})`${({issueMaxWidth:e})=>void 0===e?`padding: 0 ${2.5*n("ZpU/").e}px;`:`padding: ${n("0YYc").b}px ${4*n("ZpU/").e}px ${n("0YYc").c}px;`}`;a.default.div.withConfig({componentId:"mffpf0-8"})``},AJ6X:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return l}));var a=n("q1tI");const s=e=>{const[t,{setProjectPermissions:s}]=Object(n("0+GB").b)({projectKey:e});return[t,Object(a.useMemo)((()=>({setProjectPermissions:s})),[s])]},i=e=>{const[t]=Object(n("0+GB").b)({projectKey:e});return t.canAdministerProject},o=e=>{const t=i(e),a=(e=>{const[t]=Object(n("0+GB").b)({projectKey:e});return t.canAdministerJira})(e);return t||a},r=e=>{const[t]=Object(n("0+GB").b)({projectKey:e
}),{appPermissions:a}=Object(n("rBSy").c)();return t.canUseServiceDeskAgentFeatures&&(null==a?void 0:a.hasServiceDeskAccess)},l=()=>{const[,{setProjectPermissions:e}]=Object(n("0+GB").c)();return[null,Object(a.useMemo)((()=>({setProjectPermissions:e})),[e])]}},APBy:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({fetchVotersListFailedTitle:{id:"issue-field-voters.fetch-voters-list-failed-title",defaultMessage:"We couldn't load the voters list"},fetchVotersListFailedDescription:{id:"issue-field-voters.fetch-voters-list-failed-description",defaultMessage:"Check your connection, then give it another try."},updateVoteFailedTitle:{id:"issue-field-voters.update-vote-failed-title",defaultMessage:"We couldn't update your vote status"},updateVoteFailedDescription:{id:"issue-field-voters.update-vote-failed-description",defaultMessage:"Check your connection, then try clicking vote again."},addVoteLabel:{id:"issue-field-voters.add-vote-label",
defaultMessage:"Vote for this issue"},removeVoteLabel:{id:"issue-field-voters.remove-vote-label",defaultMessage:"Remove Vote"},voteOptionsTooltip:{id:"issue-field-voters.vote-options-tooltip",defaultMessage:"Vote options"},emptyVotersMessage:{id:"issue-field-voters.empty-voters-message",defaultMessage:"No one has voted for this issue"},votersListLabel:{id:"issue-field-voters.voters-list-label",defaultMessage:"Voted for this issue"}})},AQ1v:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=async e=>{const t=Object(n("oFMY").a)(e,["jira:issueAction","jira:issueGlance","jira:issuePanel","jira:issueActivity","jira:customField","jira:customFieldType"]),a=await t,[s,i,o,r,l,c]=a;return{issueAction:s,issueGlance:i,issuePanel:o,issueActivity:r,customField:l,customFieldType:c}}},"AS+m":function(e,t,n){"use strict";var a=n("q1tI");const s=e=>{const[t,n,s]=((e=!1)=>{const[t,n]=Object(a.useState)(e);return[t,()=>{n(!0)},()=>{n(!1)}]})(e.defaultIsVisible);return e.children({
isVisible:t,show:n,hide:s})};s.defaultProps={defaultIsVisible:!1};t.a=s},AWZZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={type:"public",value:""}},AmUS:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"t",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"p",(function(){return c})),n.d(t,"B",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"M",(function(){return p})),n.d(t,"y",(function(){return m})),n.d(t,"J",(function(){return b})),n.d(t,"I",(function(){return g})),n.d(t,"C",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"K",(function(){return E})),n.d(t,"A",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"m",(function(){return v})),n.d(t,"z",(function(){return j})),n.d(t,"g",(function(){return I})),n.d(t,"f",(function(){return C})),n.d(t,"o",(function(){return S})),
n.d(t,"b",(function(){return k})),n.d(t,"L",(function(){return w})),n.d(t,"w",(function(){return T})),n.d(t,"v",(function(){return D})),n.d(t,"s",(function(){return R})),n.d(t,"r",(function(){return L})),n.d(t,"D",(function(){return M})),n.d(t,"E",(function(){return A})),n.d(t,"F",(function(){return _})),n.d(t,"n",(function(){return N})),n.d(t,"q",(function(){return x})),n.d(t,"h",(function(){return U})),n.d(t,"G",(function(){return F})),n.d(t,"H",(function(){return P})),n.d(t,"u",(function(){return V})),n.d(t,"x",(function(){return K}))
;const a="COMMENT_ADD_ERROR_GENERIC",s="COMMENT_ADD_ERROR_INVALID",i="COMMENT_CONTENT_EXCEEDED_ERROR",o="COMMENT_DELETE_ERROR",r="EDITOR_ERROR",l="ATTACHMENT_ADD_ERROR",c="DELETE_LINKED_ISSUE_ERROR",d="REMOTE_LINK_VALIDATION_ERROR",u="ATTACHMENT_DELETE_ERROR",p="WATCH_TOGGLE_UPDATE_ERROR",m="FETCH_WATCHERS_ERROR",b="STOP_WATCHING_SUCCESS",g="START_WATCHING_SUCCESS",f="REMOVE_WATCHER_ERROR",h="ADD_WATCHER_ERROR",E="SUBTASKS_REORDER_ERROR_GENERIC",y="LOG_WORK_CONFIRM_ERROR",O="ASSIGN_TO_ME_SUCCESS",v="CREATE_CHILD_ISSUE_ERROR",j="LINK_CHILD_ISSUE_ERROR",I="CHANGE_ISSUE_TYPE_SUCCESS",C="CHANGE_ISSUE_TYPE_ERROR",S="DELETE_ISSUE_ERROR",k="ADD_WORKLOG_FAILURE",w="UPDATE_TIME_REMAINING_FAILURE",T="EDIT_WORKLOG_SUCCESS",D="EDIT_WORKLOG_FAILURE",R="DELETE_WORKLOG_SUCCESS",L="DELETE_WORKLOG_FAILURE",M="RICH_CONTENT_FIELD_CONFIRM_ERROR",A="RICH_CONTENT_FIELD_MAXIMUM_LENGTH_EXCEEDED_ERROR",_="RICH_CONTENT_FIELD_REQUIRED_ERROR",N="DELETE_CONFLUENCE_PAGE_LINK_FAILED",x="DELETE_WEB_LINK_FAILED",U="CLICKTHROUGH_BANNER_DISMISS_SUCCESS",F="SAVE_APPROVAL_ANSWER_ERROR",P="SAVE_APPROVAL_ANSWER_SUCCESS",V="EDIT_EPIC_COLOUR_ERROR",K="FETCH_JIRA_APP_LINKS_ERROR"
},BNlF:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));const a=e=>e?e.map((e=>({value:e,label:e}))):[],s=e=>e.map((({value:e})=>e)),i=e=>{const{suggestions:t}=e;return t?t.map((({label:e})=>({label:e,value:e}))):[]}},BxuJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>Object(n("D3TY").a)("issue.details.layout-containers-api",!1)},C0VN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.displayName||e.name||"Component"},C6cy:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("q1tI"),s=n.n(a),i=n("vN+2"),o=n.n(i),r=n("JRPe"),l=Object(r.defineMessages)({editSummary:{id:"issue-field-summary.inline-read.edit-summary",defaultMessage:"Edit Summary"},noPermission:{id:"issue-field-summary.inline-read.no-permission",defaultMessage:"Contact your admin for the Edit Issues permission to edit this summary"}}),c=n("3tO9"),d=n.n(c)
;const u=e=>d()(d()({},e),{},{display:"flex",padding:"0 6px 1px",backgroundColor:"transparent",border:"2px solid transparent",color:n("5kDX").a.N800,"&:hover":{color:n("5kDX").a.N800,backgroundColor:"transparent",cursor:"pointer",textDecoration:"underline"},"&:focus, &:active":{color:n("5kDX").a.N800,outline:"none",boxShadow:"none",backgroundColor:"transparent"},"& [data-item-elem-after]":{marginLeft:"8px",opacity:"1"},"& span":{flexGrow:0},'&[aria-disabled="true"]':{cursor:"not-allowed",backgroundColor:"transparent!important",textDecoration:"none"},"& [data-item-title]:hover":{textDecoration:"underline"},"& button":{height:"24px",width:"24px"}}),p=({value:e,setIsEditing:t,isEditable:i,isConfigLoading:r,isInlineEditEnabled:c=!0,onClick:d=o.a})=>{const p=null===e?"":e.toString(),[m,b]=Object(a.useState)(!1),{formatMessage:g}=Object(n("NRyt").d)(),f=Object(a.useCallback)((()=>{b(!0)}),[]),h=Object(a.useCallback)((()=>{b(!1)}),[]);return s.a.createElement(n("Yto1").a,{content:p,
position:"bottom",hideTooltipOnMouseDown:!0},s.a.createElement(n("1Pq/").a,{cssFn:u,onClick:d,onMouseOver:f,onMouseLeave:h,onFocus:f,iconAfter:c&&m&&s.a.createElement(n("Yto1").a,{content:(()=>void 0===r||r?"":g(!r&&i?l.editSummary:l.noPermission))()},s.a.createElement(n("340+").a,{onClick:e=>{e.stopPropagation(),h(),i&&t&&t(!0)},iconAfter:s.a.createElement(n.n(n("ubpr")).a,{size:"medium",label:g(l.editSummary),primaryColor:i?void 0:n("5kDX").a.N60}),appearance:void 0===r||r||!i?"link":"subtle",onBlur:h})),tabIndex:"0"},p))};p.displayName="InlineSummaryRead"},CBUp:function(t,n,a){"use strict";a.d(n,"d",(function(){return I})),a.d(n,"a",(function(){return S})),a.d(n,"n",(function(){return k})),a.d(n,"m",(function(){return w})),a.d(n,"k",(function(){return T})),a.d(n,"e",(function(){return D})),a.d(n,"f",(function(){return R})),a.d(n,"c",(function(){return L})),a.d(n,"l",(function(){return M})),a.d(n,"h",(function(){return A})),a.d(n,"g",(function(){return N})),a.d(n,"i",(function(){
return U})),a.d(n,"o",(function(){return F})),a.d(n,"j",(function(){return P})),a.d(n,"p",(function(){return V})),a.d(n,"b",(function(){return K}));var s=a("3tO9"),i=a.n(s),o=a("EcEN"),r=a.n(o),l=a("peh1");const c=Object(l.createSelector)((e=>e.timing),a("/LFc").r,((e,t)=>t?void 0:e.server)),d=({isInitial:e,issueViewLoad:t})=>{let n=0,a=0;var s,i;if(e)n=null!==(s=window.ISSUE_DATA_AVAILABLE)&&void 0!==s?s:0,a=null!==(i=window.ISSUE_READY_FOR_DATA)&&void 0!==i?i:0;else if(t.marks){var o,r;const e=t.marks;a=null!==(o=e.ISSUE_START_FETCHING_DATA)&&void 0!==o?o:t.startTime,n=null!==(r=e.ISSUE_FETCHED_MARK)&&void 0!==r?r:0}return t.mark("ISSUE_DATA_AVAILABLE",n),t.mark("ISSUE_READY_FOR_DATA",a),{issueDataAvailable:n,issueReadyForData:a}};var u=a("lSCD"),p=a.n(u);const m=()=>{const e={};return Object.entries(a("d90y")).forEach((([t,n])=>{p()(n)&&(e[t]=n())})),e
},b=e=>Object.values(Object(a("KSj7").t)(e)).filter((e=>"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect"===e.schema.custom)),g=e=>{const t=b(e);return 0===t.length?0:t.reduce(((e,t)=>e+((e=>0===e.length?0:Object.values(e).reduce(((e,t)=>{var n;return e+((null==t||null===(n=t.children)||void 0===n?void 0:n.length)||1)}),0))(t.allowedValues)||1)),0)},f=(e,t)=>()=>{const n=e.getState(),{permalinkType:s}=Object(a("LcR/").b)()||{},o=Object(a("KSj7").r)("children-issues")(n),r=t?t.getUserPreferenceValue("jira.user.issue.attachment.view"):null;return i()({visibleContextItem:Object(a("7/nq").f)(n).length,conditionallyVisibleContextItems:Object(a("7/nq").a)(n).length,visibleContentItems:Object(a("7/nq").e)(n).length,ecosystemGlances:Object(a("mIpc").m)(n).length,ecosystemContentPanels:Object(a("mIpc").b)(n).length,ecosystemActivityPanels:Object(a("mIpc").a)(n).length,ecosystemOperations:Object(a("mIpc").q)(n).length,ecosystemCustomsFields:Object(a("7/nq").b)(n).length,
childIssues:o?o.value.length:0,linkIssueCount:Object(a("TstH").b)(n),subtaskCount:Object(a("OEhx").d)(n).length,commentsTotalCount:Object(a("ejT3").L)(n),hasCommentPermalink:"Comments"===s,cascadingSelectCount:b(n).length,cascadingSelectOptionsTotalCount:g(n)},null!=r?{attachmentView:r}:{})};class h{constructor(e){this.immutableState=void 0,this.isLoadedWithPage=void 0,this.hasLoadedEditor=!1,this.startTime=Math.floor(performance.now()),this.previewEnd=void 0,this.fmp=void 0,this.interactiveEnd=void 0,this.trueInteractiveEnd=void 0,this.immutableState=e,this.isLoadedWithPage=e.isLoadedWithPage}lazyMetricsProps(){return this.immutableState.lazyMetricsProps}getDataProvider(){return this.immutableState.dataProvider}getIsFullIssue(){return"full-issue"===this.immutableState.analyticsSource}getIsLoadedWithPage(){return this.immutableState.isLoadedWithPage}setIsLoadedWithPage(e){this.isLoadedWithPage=e}getIsSPA(){return this.immutableState.isSPA}getIsRecentIssue(){
return this.immutableState.isRecentIssue}getRecentIssuesCount(){return this.immutableState.recentIssuesCount}getAnalyticsSource(){return Object(a("0Lwy").a)(...a("wpii").b)(this.immutableState.analyticsSource)}getCorrelationId(){return this.immutableState.correlationId}getIssueScaleabilityReporter(){return this.immutableState.issueScaleabilityReporter}getStartTime(){return this.startTime}setPreviewEnd(e){this.previewEnd=null===e?0:Math.floor(e)}getPreviewEnd(){return this.previewEnd}setFMP(e){this.fmp=null===e?0:Math.floor(e)}getFMP(){return this.fmp}setInteractiveEnd(e){this.interactiveEnd=e}getInteractiveEnd(){return this.interactiveEnd}setTrueInteractiveEnd(e){this.trueInteractiveEnd=Math.floor(e)}getTrueInteractiveEnd(){return Math.floor(this.trueInteractiveEnd)}getHasLoadedEditor(){return this.hasLoadedEditor}getIsInitial(){return this.getIsFullIssue()&&!this.getIsSPA()}getLocation(){const{route:e}=this.immutableState;return(null==e?void 0:e.name)||""}}
var E=(e=null)=>Object(a("0Lwy").a)("sidebar","modal","default")((e=>{switch(e){case a("f2q/").a:return"modal";case a("f2q/").b:return"sidebar";default:return null}})(e)||(()=>window.localStorage&&window.localStorage.getItem("gh.ghx-issue-fragment-view-mode")||"default")().replace(/"/g,""));const y=Object(l.createSelector)(a("4dgq").e,a("4dgq").G,a("4dgq").v,((e,t,n)=>({analyticsKey:e,viewMode:E(t),issueId:n}))),O="issue.metrics";let v;const j=e=>{try{Object(a("SHpS").f)(e)}catch(t){a("fnbV").a.safeErrorWithoutCustomerData(O,"Setting performance mark failed",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:t}))}},I=()=>{j("ISSUE_FRAGMENT_READY_MARK")},C=()=>{window.ISSUE_DATA_AVAILABLE=null,window.ISSUE_READY_FOR_DATA=null},S=e=>{try{const{isLoadedWithPage:t,isSPA:n,isRecentIssue:s,recentIssuesCount:o,dataProvider:l,analyticsSource:d,store:u,route:p}=e;v=new h({isLoadedWithPage:t,isSPA:n,isRecentIssue:s,analyticsSource:d,recentIssuesCount:o,
correlationId:r.a.v4(),lazyMetricsProps:()=>y(u.getState()),timingDataReporter:()=>i()(i()({},c(u.getState())),Object(a("zLCk").b)()),issueScaleabilityReporter:f(u,e.userPreferenceActions),dataProvider:l,route:p}),n&&C(),a("ZT6O").b.mark("metrics_init"),Object(a("d90y").isNewExperimentalMetricEnabled)()&&a("ZT6O").c.mark("metrics_init")}catch(t){a("fnbV").a.safeErrorWithoutCustomerData(O,"Failed to initialise issue metrics",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:t}))}},k=()=>{j("ISSUE_START_RENDERING_MARK"),a("ZT6O").b.mark("ISSUE_START_RENDERING_MARK")},w=()=>{j("ISSUE_START_FETCHING_DATA"),a("ZT6O").b.mark("ISSUE_START_FETCHING_DATA")},T=()=>{window.ISSUE_READY_FOR_DATA||(window.ISSUE_READY_FOR_DATA=performance.now())},D=()=>{window.ISSUE_DATA_AVAILABLE||(window.ISSUE_DATA_AVAILABLE=performance.now())},R=()=>{j("ISSUE_FETCHED_MARK"),a("ZT6O").b.mark("ISSUE_FETCHED_MARK")},L=()=>{j("ISSUE_MOUNTED"),a("ZT6O").c.mark("ISSUE_MOUNTED")},M=()=>{
j("ISSUE_RENDERED"),a("ZT6O").c.mark("ISSUE_RENDERED")},A=()=>{j("ISSUE_LEGACY_INTERACTIVE"),a("ZT6O").b.mark("ISSUE_LEGACY_INTERACTIVE")},_=()=>i()(i()(i()(i()({},v.getIssueScaleabilityReporter()()),m()),d({isInitial:v.getIsInitial(),issueViewLoad:a("ZT6O").b})),{isBentoRecentIssue:v.getIsRecentIssue(),bentoRecentIssuesCount:v.getRecentIssuesCount(),correlationId:v.getCorrelationId()}),N=({lastTransitionTime:e})=>{const t=v.getIsFullIssue();if(v.setInteractiveEnd(performance.now()),v){const n=e||v.getStartTime();v.getIsFullIssue()&&Object(a("BdgM").d)("product",a("O+K0").b,!0),a("ZT6O").b.stop({stopTime:v.getInteractiveEnd(),customData:Object(a("d90y").isNewExperimentalMetricEnabled)()?i()(i()({},_()),t?{}:{embeddedIssueFMP:Math.floor(v.getFMP()),embeddedIssueTTI:Math.floor(v.getInteractiveEnd()-n),analyticsSource:v.getAnalyticsSource()}):i()(i()(i()(i()(i()({},v.getIssueScaleabilityReporter()()),m()),d({isInitial:v.getIsInitial(),issueViewLoad:a("ZT6O").b})),t?{}:{
embeddedIssueFMP:Math.floor(v.getFMP()),embeddedIssueTTI:Math.floor(v.getInteractiveEnd()-n),analyticsSource:v.getAnalyticsSource()}),{isBentoRecentIssue:v.getIsRecentIssue(),bentoRecentIssuesCount:v.getRecentIssuesCount(),correlationId:v.getCorrelationId()})}),C(),t||Object(a("3J3W").b)()&&Object(a("7eT9").c)()}},x=()=>{const e=performance.getEntriesByType("navigation");if(0===e.length||!(e[0]instanceof PerformanceNavigationTiming))return null;const t=e[0];return{connectEnd:Math.round(t.connectEnd),connectStart:Math.round(t.connectStart),domComplete:Math.round(t.domComplete),domContentLoadedEventEnd:Math.round(t.domContentLoadedEventEnd),domContentLoadedEventStart:Math.round(t.domContentLoadedEventStart),domInteractive:Math.round(t.domInteractive),domainLookupEnd:Math.round(t.domainLookupEnd),domainLookupStart:Math.round(t.domainLookupStart),fetchStart:Math.round(t.fetchStart),loadEventStart:Math.round(t.loadEventStart),requestStart:Math.round(t.requestStart),
responseEnd:Math.round(t.responseEnd),responseStart:Math.round(t.responseStart),unloadEventEnd:Math.round(t.unloadEventEnd),unloadEventStart:Math.round(t.unloadEventStart),redirectStart:Math.round(t.redirectStart),redirectEnd:Math.round(t.redirectEnd),secureConnectionStart:Math.round(t.secureConnectionStart),redirectCount:t.redirectCount,type:t.type}},U=()=>{if(v.getIsFullIssue()&&v){try{new PerformanceObserver((e=>{e.getEntries().forEach((e=>(e=>{a("ZT6O").c.mark("LCP_CANDIDATE",e)})(e.startTime)))})).observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}a("ZT6O").c.stop({customData:i()(i()({},_()),{},{browserNavigationMetrics:x()})})}},F=(e=!1)=>{e||(a("ZT6O").a.start({startTime:performance.now()}),Object(a("3J3W").b)()&&Object(a("7eT9").b)()),Object(a("d90y").isNewExperimentalMetricEnabled)()&&e&&a("ZT6O").c.start({startTime:0}),a("ZT6O").b.start()},P=({isInitialRender:e,lastTransitionStartTime:t})=>{const n=(()=>{
const e=Object(a("SHpS").e)(a("GLo5").SPA_SSR_RENDERED_MARK);return null!=e?Math.floor(e.startTime):null})(),s=performance.now(),i=v.getStartTime();let o=0;o=v.getIsFullIssue()?e?n:s-(t||i):s-i,a("ZT6O").b.mark("ISSUE_PREVIEW_RENDERED"),Object(a("d90y").isNewExperimentalMetricEnabled)()&&a("ZT6O").c.mark("ISSUE_PREVIEW_RENDERED"),v.setFMP(o),v.setPreviewEnd(s),j("ISSUE_PREVIEW_RENDERED")},V=e=>{v&&v.setIsLoadedWithPage(e)},K=()=>v&&v.getIsFullIssue()},CRYU:function(e,t,n){"use strict"
;t.a=()=>`mediaContext(issueKey: $issueKey) {\n    userToken {\n      token\n      id\n      issueId\n      tokenDurationInMins\n    }\n    uploadToken {\n      __typename\n      ... on MediaUploadToken {\n        endpointUrl\n        token\n        targetCollection\n        tokenDurationInMins\n        clientId\n      }\n      ... on FailedMediaUploadToken {\n        error\n      }\n    }\n    readToken(maxTokenLength: ${Object(n("NdSv").a)()}) {\n      clientId\n      endpointUrl\n      tokensWithFiles {\n        files {\n          issueId\n          attachmentId\n          attachmentMediaApiId\n        }\n        token\n      }\n      tokenLifespanInSeconds\n    }\n  }`},CVeC:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return b}));var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("/MKj");const l=e=>e.ui.viewMountStatus.hasIssueViewMounted,c="NEVER_TRACKING",d="requestDetailsPanel",u={
description:"ALWAYS_TRACKING",ecosystemGlance:c,forgeGlance:c,assignee:c,reporter:c,"com.pyxis.greenhopper.jira:gh-sprint":c,"com.atlassian.jira.plugin.system.customfieldtypes:storypoint":c,"com.pyxis.greenhopper.jira:gh-epic-link":c,fixVersions:c,versions:c,devSummary:c,releases:c,"com.atlassian.servicedesk.assets-plugin:assetfield":c,ASSET_ONBOARDING:c,"com.atlassian.jira.plugins.service-entity:service-entity-field-cftype":c,labels:[d],components:[d],duedate:[d],priority:[d],environment:[d],labels:[d],components:[d],"com.atlassian.servicedesk.approvals-plugin:sd-approvals":[d],KNOWLEDGE_BASE:[d],SLA_PANEL:[d],timeoriginalestimate:[d],timetracking:[d],"com.atlassian.jpo:jpo-custom-field-parent":[d],"com.atlassian.jpo:jpo-custom-field-baseline-start":[d],"com.atlassian.jpo:jpo-custom-field-baseline-end":[d],"com.atlassian.jira.plugin.system.customfieldtypes:labels":[d],"com.atlassian.jira.plugin.system.customfieldtypes:textfield":[d],
"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker":[d],"com.atlassian.jira.plugin.system.customfieldtypes:url":[d],"com.atlassian.jira.plugin.system.customfieldtypes:float":[d],"com.pyxis.greenhopper.jira:jsw-story-points":[d],"com.atlassian.jira.plugin.system.customfieldtypes:select":[d],"com.atlassian.jira.plugin.system.customfieldtypes:multiselect":[d],"com.atlassian.jira.plugin.system.customfieldtypes:textarea":[d],"com.atlassian.jira.plugin.system.customfieldtypes:multiversion":[d],"com.atlassian.jira.plugin.system.customfieldtypes:version":[d],"com.atlassian.jira.plugin.system.customfieldtypes:datepicker":[d],"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker":[d],"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker":[d],"com.atlassian.jira.plugin.system.customfieldtypes:userpicker":[d],"com.atlassian.jira.plugin.system.customfieldtypes:datetime":[d],"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes":[d],
"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons":[d],"com.atlassian.teams:rm-teams-custom-field-team":[d],number:[d],datetime:[d],string:[d],option2:[d],array:[d],"com.atlassian.servicedesk:vp-origin":[d],"com.atlassian.servicedesk:sd-request-participants":[d],"com.atlassian.servicedesk:sd-customer-organizations":[d],"com.atlassian.servicedesk:sd-request-feedback":[d],"com.pyxis.greenhopper.jira:jsw-issue-color":[d],"com.atlassian.jira.plugin.system.customfieldtypes:people":[d],"com.atlassian.servicedesk.servicedesk-lingo-integration-plugin:sd-request-language":[d],"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect":[d],"com.atlassian.jira.plugin.system.customfieldtypes:project":[d],"com.atlassian.jira.toolkit:viewmessage":[d],"com.atlassian.jira.toolkit:message":[d]},p=Object(r.connect)((e=>({experience:"viewIssue",experienceId:Object(n("4dgq").w)(e),application:Object(n("M425").b)(e),edition:Object(n("M425").a)(e),
analyticsSource:Object(n("4dgq").b)(e),isExperienceReady:Object(n("/LFc").n)(e)&&l(e)})),{})(n("2X9E").e),m=e=>t=>{const a=a=>o.a.createElement(n("2X9E").d,{location:e},(({onExperienceSuccess:e})=>o.a.createElement(t,s()({onExperienceSuccess:e},a))));return a.displayName=`WithViewExperienceTracker(${Object(n("C0VN").a)(t)})`,a},b=e=>t=>{const a=({fieldType:a,ownProps:s})=>{const i=a&&(e=>{const t=u[e];return void 0===t?c:t})(a);if(null==a||"NEVER_TRACKING"===i)return o.a.createElement(t,s);const r=Array.isArray(i)?i:null,l=["field",a,...e?[e]:[]].join("-");return o.a.createElement(n("2X9E").c,{location:l,parentProviders:r},o.a.createElement(t,s))};return a.displayName=`WithFieldViewExperienceTracker(${Object(n("C0VN").a)(t)}`,Object(r.connect)(((e,t)=>({fieldType:Object(n("KSj7").s)(t.fieldId)(e)})),null,(({fieldType:e},t,n)=>({fieldType:e,ownProps:n})))(a)}},CWFQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n("peh1")
;const s=e=>Object(a.createSelector)(n("/LFc").a,(t=>t&&e?`${t}:comment/${e}`:null)),i=Object(a.createSelector)(n("nGHA").h,n("4dgq").i,((e,t)=>!(!e.canAddComments||!t)))},CfTs:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return L}));var a=n("/MKj");var s=n("q1tI"),i=n.n(s),o=n("JRPe"),r=Object(o.defineMessages)({removeApproverError:{id:"issue-field-approval-panel.approval-glance.remove-approver-error",defaultMessage:"We couldn\u2019t remove the approver"},addApproverError:{id:"issue-field-approval-panel.approval-glance.add-approver-error",defaultMessage:"We couldn\u2019t add the approver"},saveSuccess:{id:"issue-field-approval-panel.approval-panel.save-success",defaultMessage:"We've saved your response."},saveError:{id:"issue-field-approval-panel.approval-panel.save-error",defaultMessage:"We couldn\u2019t save your approval response"}}),l=n("3tO9"),c=n.n(l),d=n("Jlc5"),u=n.n(d),p=n("duPW"),m=n.n(p),b=n("hxiM"),g=n.n(b)
;const f=(e,t,n)=>(e=>void 0===e)(m()(t,n))?e:m()(t,n),h=(e,t,n)=>t.filter((t=>n.some((n=>e(t)===e(n))))),E=(e,t,n)=>t.filter((t=>!n.some((n=>e(t)===e(n))))),y=e=>{if(void 0===e.accountId||void 0===e.displayName)return null;const{accountId:t,displayName:n}=e;return c()(c()({},e),{},{accountId:t,displayName:n})},O=e=>Object(n("dE2h").e)(e).flatMap((e=>"group"===e.type?[e]:[])),v=({key:e,accountId:t,displayName:a,avatarUrls:s})=>({approver:{accountId:t,key:e,displayName:a,isFromLinkedField:!0,avatarUrl:f(n.n(n("JuH2")).a,"24x24",s)}}),j=({approver:{key:e,accountId:t,displayName:n},approverDecision:a})=>({approver:{accountId:t,key:e,displayName:n},approverDecision:a}),I=(e,t,n=[])=>{const a=u()(t,(e=>e.approver.accountId));return((e,t)=>{const n=e.map((e=>e.approver.accountId));return t.map((e=>n.includes(e.approver.accountId)?{approverDecision:e.approverDecision,approver:c()(c()({},e.approver),{},{isFromLinkedField:!0})}:e))
})(t,g()(e,t,(e=>a?e.approver.accountId:null)).filter((e=>!n.some((t=>t.accountId===e.approver.accountId)))))},C=(e,t)=>{if(t&&t.value){const n=+t.value;if("number"===t.type)return n;if("percent"===t.type)return Math.ceil(e*(n/100))}return e},S=({name:e})=>({name:e,type:"group",meta:{memberCount:NaN,approvedCount:NaN},id:void 0}),k=(e,t)=>{const n=e||[];return[...h(m()("name"),n,t),...E(m()("name"),t,n).map(S)]},w=(e,t,n,a)=>"multi_group_picker"!==e.configuration.approvers.type?((e,t,n,a)=>{const s=(t?e.approvers.filter((e=>"pending"!==e.approverDecision)):e.approvers).map(j),i=t&&!Array.isArray(t)?[t]:t,o=(null!=i?i:[]).map(v),r=I(s,o,e.excludedApprovers),l=m()(["configuration","condition"],e),c=C(r.length,l),d="com.atlassian.jira.plugin.system.customfieldtypes:userpicker"===a,{id:u,name:p,finalDecision:b,canAnswerApproval:g,decisions:f,approverPrincipals:h,excludedApprovers:E}=e;return{id:u,name:p,finalDecision:b,approvers:r,minApprovalsRequired:c,canAnswerApproval:g,
linkedFieldName:n,isSingleUserPicker:d,decisions:(f||[]).map(j),approverPrincipals:h,configuration:e.configuration,pendingApprovalCount:e.pendingApprovalCount,excludedApprovers:E}})(e,(e=>null==e?[]:Array.isArray(e)?e.map(y).filter(Boolean):[e])(t),n,a):(({id:e,name:t,finalDecision:n,approvers:a,configuration:s,canAnswerApproval:i,decisions:o,approverPrincipals:r,pendingApprovalCount:l,excludedApprovers:c},d,u)=>({id:e,name:t,finalDecision:n,approvers:a.map(j),minApprovalsRequired:C(a.length,s.condition),canAnswerApproval:i,linkedFieldName:u,isSingleUserPicker:!1,decisions:(o||[]).map(j),approverPrincipals:k(O(r),d),pendingApprovalCount:l,configuration:s,excludedApprovers:c}))(e,(e=>Array.isArray(e)?e.flatMap((e=>"string"==typeof e.name&&void 0===e.accountId?[{name:e.name}]:[])):[])(t),n);var T=({issueKey:e,approvalFieldId:t="servicedesk-approvals"})=>{var a;const[{value:s},{saveValue:i}]=Object(n("35XP").a)({fieldKey:t,issueKey:e,fieldType:"servicedesk-approvals",initialValue:null
}),o=null==s?void 0:s.activeApproval,r=o?o.configuration:null,l=null!==(a=null==r?void 0:r.approvers.customFieldId)&&void 0!==a?a:"",[{value:c}]=Object(n("MoW5").a)(e,l),{isEditable:d,title:u,autoCompleteUrl:p,schema:m}=c||{},{custom:b}=m||{},[{value:g},{saveValue:f}]=Object(n("35XP").a)({fieldKey:l,fieldType:l,issueKey:e,initialValue:null});return{approval:((e,t,n,a)=>e&&null!=a?w(e,t,n,a):null)(o,g,u,b),isEditable:d,saveApprovers:i,saveLinkedFieldValue:f,linkedFieldId:l,autoCompleteUrl:p}};const D=(e,t)=>!(!e||!t||Object(n("d90y").isJSMExcludeApproversEnabled)()&&!e.canAnswerApproval||!e.approvers||!e.approvers.length)&&e.approvers.some((e=>e.approver.accountId===t&&(!e.approverDecision||"pending"===e.approverDecision)));const R=Object(a.connect)(null,{renderApproverList:n("dPO5").g,updateApprovalLinkedUserPickerField:(e,t)=>({type:"UPDATE_APPROVAL_LINKED_USER_PICKER_FIELD",payload:{linkedUserPickerFieldId:e,newApproverList:t}})})((e=>{
const{showFlag:t}=Object(n("uS5k").f)(),a=Object(n("ovRs").h)(),o=Object(n("tpMn").a)()||document.body,[,{setIssueViewLayoutContextPanel:l}]=Object(n("pvIb").b)(),c=e.payload&&e.payload.approvalFieldId||"servicedesk-approvals",d=Object(s.useCallback)((()=>{l(a,void 0)}),[a,l]),u=Object(s.useCallback)((()=>{t({type:"error",title:r.addApproverError})}),[t]),p=Object(s.useCallback)((()=>{t({type:"error",title:r.removeApproverError})}),[t]),{approval:m,linkedFieldId:b,saveLinkedFieldValue:g,autoCompleteUrl:f,isEditable:h}=T({issueKey:a,approvalFieldId:c}),{createAnalyticsEvent:E}=Object(n("rZ/p").a)(),[y]=Object(n("j3bG").b)({issueKey:a,fieldKey:"status"}),O={fieldId:b,fieldMetaKey:b,approval:m,issueKey:a,fieldAutoCompleteUrl:null!=f?f:"",hasLinkedFieldEditPermissions:h,issueStatusId:y.id,portalElement:o,onRemoveApproverError:p,onAddApproverError:u,onHidePanel:d,renderApproverList:e.renderApproverList,onApproverListUpdated:t=>{
const n="multi_group_picker"===(null==m?void 0:m.configuration.approvers.type)?(e=>null==e?[]:(Array.isArray(e)?e:[e]).flatMap((e=>"group"===e.type&&"string"==typeof e.name?[{name:e.name}]:[])))(t):(e=>null==e?null:Array.isArray(e)?e.flatMap((e=>"group"===e.type?[]:[e])):e)(t);g(n,null,E({approverSourceFieldType:null==m?void 0:m.configuration.approvers.type})),e.updateApprovalLinkedUserPickerField(b,t)}};return i.a.createElement(n("lYe3").a,O)})),L=Object(a.connect)(null,{setRefreshIssue:n("dPO5").g})((e=>{const{setRefreshIssue:t}=e,a=Object(n("ovRs").h)(),{showFlag:o}=Object(n("uS5k").f)(),l=Object(n("94cx").a)(),c=e.payload&&e.payload.approvalFieldId||"servicedesk-approvals",[,{setIssueViewLayoutContextPanel:d}]=Object(n("pvIb").b)(),u=Object(s.useCallback)((()=>{t(),o({type:"success",title:r.saveSuccess})}),[o,t]),p=Object(s.useCallback)((()=>{o({type:"error",title:r.saveError})}),[o]),{approval:m,isEditable:b}=T({issueKey:a,approvalFieldId:c});if(null==m)return null;const g={
approval:m,fieldId:c,hasLinkedFieldEditPermissions:b,canCurrentUserApprove:D(m,l),onOpenPanel:(e,t)=>{d(a,{key:"approval-panel",type:"approval-panel",title:t,payload:{approvalFieldId:e}})},onSaveApprovalAnswerSuccess:u,onSaveApprovalAnswerError:p,onZeroApprovalRequired:t};return i.a.createElement(n("lYe3").b,g)}))},ChVR:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("3tO9"),s=n.n(a),i=n("mwIZ"),o=n.n(i);const{statusCategoryForId:r}=n("0gK+").a,l=(e,t)=>{const{id:a,key:s,fields:i}=e;var l,c,d,u,p,m,b,g,f,h,E,y;return Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()?{id:a,issueKey:s,issueLink:Object(n("XtNG").f)(t,s),issueSummary:i.summary,statusCategory:r(null===(l=i.status)||void 0===l||null===(c=l.statusCategory)||void 0===c?void 0:c.id),statusCategoryId:null===(d=i.status)||void 0===d||null===(u=d.statusCategory)||void 0===u?void 0:u.id,statusName:i.status&&i.status.name,statusId:i.status&&i.status.id,
issuePriorityUrl:null!==(p=null===(m=i.priority)||void 0===m?void 0:m.iconUrl)&&void 0!==p?p:null,issuePriorityName:null!==(b=null===(g=i.priority)||void 0===g?void 0:g.name)&&void 0!==b?b:null,issueTypeIconUrl:null!==(f=null===(h=i.issuetype)||void 0===h?void 0:h.iconUrl)&&void 0!==f?f:null,issueTypeName:null!==(E=null===(y=i.issuetype)||void 0===y?void 0:y.name)&&void 0!==E?E:null,assigneeDisplayName:i.assignee?Object(n("gbrB").c)(i.assignee).displayName:null,assigneeUrl:i.assignee?Object(n("gbrB").c)(i.assignee).avatarUrl:null}:{id:a,issueKey:s,issueLink:Object(n("XtNG").f)(t,e.key),issueSummary:i.summary,statusCategory:r(o()(e.fields,"status.statusCategory.id")),statusCategoryId:o()(e.fields,"status.statusCategory.id"),statusName:i.status&&i.status.name,statusId:i.status&&i.status.id,issuePriorityUrl:o()(i,"priority.iconUrl",null),issuePriorityName:o()(i,"priority.name",null),issueTypeIconUrl:o()(i,"issuetype.iconUrl",null),issueTypeName:o()(i,"issuetype.name",null),
assigneeDisplayName:i.assignee?Object(n("gbrB").c)(i.assignee).displayName:null,assigneeUrl:i.assignee?Object(n("gbrB").c)(i.assignee).avatarUrl:null}},c=(e,t=[])=>{let a={},i={};t&&t.filter(Boolean).forEach((({id:t,inwardIssue:o,outwardIssue:r,type:c})=>{let d,u,p=null;if(o?(u="inward",p=c.inward,d=o):r&&(u="outward",p=c.outward,d=r),p&&null!=d){const o={id:Object(n("Rp3N").l)(t),linkedIssueKey:d.key,direction:u,typeName:p,typeId:c.id};if(Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()){a[t]=o;const e=l(d,Object(n("Rp3N").c)(""));i[e.issueKey]=e}else{a=s()(s()({},a),{},{[t]:o});const n=l(d,e);i=s()(s()({},i),{},{[n.issueKey]:n})}}}));const o=a?Object.values(a).map((({linkedIssueKey:e})=>e)):[];return{issueLinks:a,linkedIssueKeys:o,linkedIssues:i}},d=e=>e.map((e=>{const{id:t,type:a}=e;return{id:t,type:a,inwardIssue:e.inwardIssue?Object(n("E+PD").b)(e.inwardIssue):null,outwardIssue:e.outwardIssue?Object(n("E+PD").b)(e.outwardIssue):null}}))},CtgM:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return a}));const a=e=>"blogpost"===e?"blogpost":"page"},"D+Fw":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>`${e}/rest/api/2/attachment/read/issue/${t}/credentials?maxTokenLength=${n}`},DNQi:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").f,(e=>e.childrenIssues))},DbuN:function(e,t,n){"use strict";n.r(t),n.d(t,"DateTimeFieldReadView",(function(){return l}));var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=Object(i.defineMessages)({defaultNoValueText:{id:"issue-field-date-time.default-no-value-text",defaultMessage:"None"}});const r=n("vOnD").default.span.withConfig({componentId:"vag4j7-0"})`color:${n("5kDX").a.N200};`,l=({timeZone:e,value:t,noValueText:a,onFormatDateTime:i})=>{const{formatMessage:l}=Object(n("NRyt").d)(),{formatDateTime:c}=Object(n("0yF3").a)(e);if(null==t||""===t)return s.a.createElement(r,null,null!=a?a:l(o.defaultNoValueText));try{
return i?i(t):c(t)}catch(d){return null}}},"E+PD":function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n("3tO9"),s=n.n(a);const i={[n("Ge78").s]:"com.atlassian.jira.plugin.system.customfieldtypes:float",[n("Ge78").w]:"com.pyxis.greenhopper.jira:jsw-story-points",[n("Ge78").z]:"com.atlassian.jira.plugin.system.customfieldtypes:url",[n("Ge78").x]:"com.atlassian.jira.plugin.system.customfieldtypes:textfield",[n("Ge78").y]:"com.atlassian.jira.plugin.system.customfieldtypes:textarea",[n("Ge78").m]:"com.atlassian.jira.plugin.system.customfieldtypes:labels",[n("Ge78").c]:"com.atlassian.jira.plugin.system.customfieldtypes:datepicker",[n("Ge78").d]:"com.atlassian.jira.plugin.system.customfieldtypes:datetime",[n("Ge78").u]:"com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons",[n("Ge78").n]:"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes",[n("Ge78").p]:"com.atlassian.jira.plugin.system.customfieldtypes:multiselect",
[n("Ge78").v]:"com.atlassian.jira.plugin.system.customfieldtypes:select",[n("Ge78").r]:"com.atlassian.jira.plugin.system.customfieldtypes:multiversion",[n("Ge78").B]:"com.atlassian.jira.plugin.system.customfieldtypes:version",[n("Ge78").l]:"com.atlassian.jira.plugin.system.customfieldtypes:grouppicker",[n("Ge78").o]:"com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker",[n("Ge78").A]:"com.atlassian.jira.plugin.system.customfieldtypes:userpicker",[n("Ge78").q]:"com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker",[n("Ge78").k]:"string",[n("Ge78").i]:"number",[n("Ge78").f]:"datetime",[n("Ge78").j]:"option2",[n("Ge78").h]:"array",[n("Ge78").b]:"com.pyxis.greenhopper.jira:jsw-issue-color",[n("Ge78").e]:"com.pyxis.greenhopper.jira:gh-epic-color",[n("Ge78").a]:"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect",[n("Ge78").t]:"com.atlassian.jira.plugin.system.customfieldtypes:project",[n("Ge78").g]:"com.pyxis.greenhopper.jira:gh-epic-status"},o={
[n("3SIk").c]:"com.pyxis.greenhopper.jira:gh-epic-link",[n("3SIk").d]:"com.pyxis.greenhopper.jira:gh-epic-label",[n("3SIk").g]:"com.pyxis.greenhopper.jira:gh-sprint",[n("3SIk").h]:"com.atlassian.jira.plugin.system.customfieldtypes:storypoint",[n("3SIk").i]:"com.atlassian.teams:rm-teams-custom-field-team",[n("3SIk").f]:"com.atlassian.jpo:jpo-custom-field-parent",[n("3SIk").b]:"com.atlassian.jpo:jpo-custom-field-baseline-start",[n("3SIk").a]:"com.atlassian.jpo:jpo-custom-field-baseline-end",[n("Ge78").b]:"com.pyxis.greenhopper.jira:jsw-issue-color",[n("3SIk").e]:"com.atlassian.jira.plugin.system.customfieldtypes:flagged"},r=e=>({editable:e.editable,required:!1,autoCompleteUrl:void 0,allowedValues:[],schema:{system:e.systemType,custom:e.customType,type:e.type?e.type:"",renderer:e.renderer},title:e.title||e.key,renderedValue:e.value,value:e.value,adfValue:e.adfValue,key:e.key}),l=e=>{const t={};return e&&e.fields.forEach(((e,a)=>{try{switch(e.type){case n("TuCe").a:case n("TuCe").b:
case n("TuCe").e:case n("TuCe").h:case n("TuCe").j:case n("TuCe").p:case n("TuCe").r:case n("TuCe").s:case n("TuCe").u:case n("TuCe").t:t[a]=r({key:a,systemType:a,customType:null,value:e.value,title:e.title,editable:!!e.editable});break;case n("TuCe").B:t.timeoriginalestimate=r({key:"timeoriginalestimate",systemType:"timeoriginalestimate",customType:null,title:e.title,editable:!!e.editable,value:e.value&&e.value.originalEstimateSeconds}),t[a]=r({key:a,systemType:a,customType:null,title:e.title,editable:!!e.editable,value:e.value});break;case n("TuCe").f:t[a]=r({key:a,systemType:a,customType:null,title:e.title,value:void 0,renderedValue:void 0,adfValue:e.value,editable:!!e.editable,renderer:e.renderer});break;case n("TuCe").i:t[a]=r({key:a,systemType:a,customType:null,title:e.title,value:"atlassian-wiki-renderer"===e.renderer?void 0:e.value,adfValue:"atlassian-wiki-renderer"===e.renderer?e.value:void 0,editable:!!e.editable,renderer:e.renderer});break;case n("TuCe").y:case n("TuCe").n:
case n("TuCe").v:t[a]=r({key:a,systemType:a,customType:null,value:e.value,editable:!!e.editable});break;case n("3SIk").c:case n("3SIk").g:case n("3SIk").h:case n("3SIk").i:case n("3SIk").f:case n("3SIk").b:case n("3SIk").a:case n("3SIk").e:t[a]=r({key:a,systemType:null,customType:o[e.type],value:e.value,title:e.title,editable:!!e.editable});break;case n("3SIk").d:t[a]=r({key:a,systemType:null,customType:o[e.type],value:e.value,title:e.title,editable:!!e.editable,renderer:e.renderer,type:"string"});break;case n("Ge78").y:{const n="atlassian-wiki-renderer"===e.renderer?{adfValue:e.value}:{value:e.value};t[a]=r(s()({key:a,systemType:null,customType:i[e.type],title:e.title,editable:!!e.editable,renderer:e.renderer},n));break}case n("Ge78").a:t[a]=r({systemType:null,customType:i[e.type],key:a,title:e.title,value:e.value,editable:!!e.editable});break;case n("Ge78").b:case n("Ge78").e:case n("Ge78").s:case n("Ge78").w:case n("Ge78").z:case n("Ge78").x:case n("Ge78").m:case n("Ge78").c:
case n("Ge78").d:case n("Ge78").u:case n("Ge78").n:case n("Ge78").p:case n("Ge78").v:case n("Ge78").r:case n("Ge78").B:case n("Ge78").l:case n("Ge78").o:case n("Ge78").A:case n("Ge78").q:case n("Ge78").g:t[a]=r({systemType:null,customType:i[e.type],key:a,title:e.title,value:e.value,editable:!!e.editable});break;case n("Ge78").k:case n("Ge78").i:case n("Ge78").j:case n("Ge78").h:case n("Ge78").f:t[a]=r({systemType:null,customType:null,type:e.type,key:a,title:e.title,value:e.value,editable:!!e.editable});break;case n("Ge78").t:t[a]=r({systemType:null,customType:i[e.type],type:e.type,title:e.title,key:a,editable:!!e.editable,value:e.value});break;case n("TuCe").l:case n("TuCe").d:case n("TuCe").x:case n("TuCe").o:t[a]=r({systemType:null,customType:null,key:a,title:e.title,value:e.value,editable:!1})}}catch(l){n("RDfz").a.safeErrorWithoutCustomerData("issue.details.field.initial-data-transformer",`Failed to map field: ${e.type}`,new(n("8r8e").a)({eventNameSuffix:"issue.error",type:"js",
app:"issue",event:l}))}})),t},c=e=>{const t=Object.entries(l(e)).reduce(((e,[t,n])=>s()(s()({},e),{},{[t]:n.value})),{});return s()(s()({},e),{},{fields:t})};t.a=l},E4Jw:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n("vOnD");const s=4*n("ZpU/").e,i=e=>`calc((100% - ${e}px) / 2)`,o=(e,t)=>`\n        ${e}: ${i(t)}; /* for browsers which do not support max(); negative padding is ignored by browsers */\n        ${e}: max(${i(t)}, 0px); /* for browsers which support max() */\n        \n        .msie-11 & { /* IE11 is the only browser which does not ignore negative padding */\n            ${e}: 0;\n        }\n    `,r=a.default.div.withConfig({componentId:"pt6h3e-0"})`flex-shrink:0;${({issueMaxWidth:e})=>void 0!==e?`\n        ${o("padding-left",e)}\n        ${o("padding-right",e)}    \n        `:""}`,l=a.default.div.withConfig({componentId:"pt6h3e-1"
})`padding:0 ${s}px;`},EY1J:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("44Ds"),r=n.n(o);const l=r()(((e,t,n)=>({objectId:e,containerId:t,childObjectId:n})),((...e)=>e.join("_"))),c=Object(i.createSelector)(n("4dgq").v,n("/LFc").D,((e,{commentId:t})=>t||"NEW_OPTIMISTIC_COMMENT"),((e,t,n)=>l(e,t,n))),d=r()(((e,t,n)=>s()({objectId:String(e),containerId:String(t)},"string"==typeof n&&{childObjectId:n})),((e,t,n)=>`${String(e)}-${String(t)}-${String(n)}`)),u=(e,t)=>{const{objectId:n,containerId:a,childObjectId:s}=c(e,{commentId:t});return d(n,a,s)}},EfFP:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("peh1");const s=Object(a.createSelector)(n("nGHA").h,(e=>e.canCreateAttachments)),i=Object(a.createSelector)(n("/LFc").I,(e=>e.attachments))},Ek2V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var a=n("q1tI"),s=n.n(a),i=n("IlP+"),o=n("6xe2");Object(i.asyncComponent)({resolve:()=>n.e("async-number-inline-edit-view").then(n.bind(null,"XJP3")),name:"AsyncIssueNumberField",LoadingComponent:n("Wsbr").a,ErrorComponent:n("Wsbr").a});const r=({children:e,fallback:t,packageName:a})=>s.a.createElement(n("ho8o").a,{id:"issue-number-field",packageName:a,render:()=>t},s.a.createElement(o.a,{fallback:t},e));r.displayName="IssueNumberFieldBoundary"},Elcl:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r}));const a=e=>e.length>0?e[0].token:null,s=e=>({clientId:e.clientId,serviceHost:e.endpointUrl,token:a(e.tokensWithFiles),areTokenPermissionsUpToDate:!0,tokenLifespanInMs:1e3*e.tokenLifespanInSeconds,tokenIssueTimestamp:Date.now()-1e4,collection:null}),i=e=>null!=e.clientId&&null!=e.endpointUrl&&null!=e.token&&null!=e.tokenDurationInMins&&null!=e.targetCollection?{clientId:e.clientId,serviceHost:e.endpointUrl,
token:e.token,tokenLifespanInMs:60*e.tokenDurationInMins*1e3,collection:e.targetCollection,tokenIssueTimestamp:Date.now()-1e4}:null!=e.error?{error:e.error}:null,o=e=>({clientId:e.id,token:e.token,tokenLifespanInMs:60*Number(e.tokenDurationInMins)*1e3,tokenIssueTimestamp:Date.now()-1e4}),r=({readToken:e,uploadToken:t,userToken:n})=>({viewContext:e?s(e):null,uploadContext:t?i(t):null,userAuth:n?o(n):null})},F0wu:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var a=n("q1tI"),s=n("QILm"),i=n.n(s),o=n("o5UB"),r=n.n(o),l=n("3tO9"),c=n.n(l);const d={setUserPreferenceValue:(e,t)=>({setState:n,getState:a})=>{n({preferences:c()(c()({},a().preferences),{},{[e]:t})})},deleteUserPreferenceValue:e=>({setState:t,getState:n})=>{const a=n().preferences,{[e]:s}=a;t({preferences:i()(a,[e].map(r.a))})},setUserPreferences:e=>({setState:t})=>{t({preferences:e})},getUserPreferenceValue:e=>({getState:t})=>{const{preferences:n}=t();return n[e]}
},u=Object(n("0b8M").a)({name:"user-preferences",initialState:{preferences:{}},actions:d}),p=Object(n("dq9g").a)(u,{selector:(e,t)=>e.preferences[t]}),m=Object(n("dq9g").a)(u,{selector:null}),b=async(e,t,a)=>Object(n("/rpS").e)(`${e}/rest/api/2/mypreferences?key=${t}`,{body:a}),g=async(e,t)=>Object(n("/rpS").a)(`${e}/rest/api/2/mypreferences?key=${t}`),f=e=>{const[t,{setUserPreferenceValue:n,deleteUserPreferenceValue:s}]=p(e);return[t,{setValue:Object(a.useCallback)((t=>(n(e,t),b("",e,t))),["",n,e]),deleteValue:Object(a.useCallback)((()=>(s(e),g("",e))),["",s,e])}]},h=()=>{const[,e]=m();return[null,Object(a.useMemo)((()=>({setUserPreferenceValue:(t,n)=>{e.setUserPreferenceValue(t,n),b("",t,n)},setUserPreferences:t=>{t&&0!==Object.keys(t).length&&e.setUserPreferences(t)},deleteUserPreferenceValue:t=>{e.deleteUserPreferenceValue(t),g("",t)},getUserPreferenceValue:e.getUserPreferenceValue})),[e,""])]}},F1GU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),
n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n("peh1");const s=Object(n("KSj7").r)("security"),i=Object(a.createSelector)(s,(e=>e&&e.value||null)),o=Object(a.createSelector)(s,(e=>e&&e.allowedValues||[])),r=Object(a.createSelector)(i,o,((e,t)=>e||t&&t.length>0)),l=Object(a.createSelector)(Object(n("KSj7").G)("security"),n("OEhx").c,((e,t)=>e&&!t)),c=Object(a.createSelector)(i,o,l,((e,t,n)=>({hasSecurityLevel:null!=e,securityLevelAllowedValuesCount:t.length,hasSecurityLevelEditPermissions:n})))},F82P:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mwIZ"),s=n.n(a);const i=({issueKey:e,onFailure:t})=>{const[{value:a}]=Object(n("MoW5").a)(e,"resolution"),i=s()(a,"schema.type","resolution"),[{error:o,value:r,loading:l},{resetError:c,saveValue:d}]=Object(n("35XP").a)({fieldType:i,issueKey:e,initialValue:null,fieldKey:"resolution",onFailure:t});return[{error:o,value:r,loading:l,fieldConfig:a},{resetError:c,
saveValue:d}]}},Ff2O:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("q1tI");const s=()=>{const[e,{setState:t}]=Object(n("Mr31").d)();return[e,t]},i=()=>{const[e]=Object(n("Mr31").c)();return e},o=()=>{const[,e]=Object(n("Mr31").b)();return[null,Object(a.useMemo)((()=>({setState:t=>{e.setState(t)},setTransitionInProgress:t=>{e.setTransitionInProgress(t)}})),[e])]}},FmaL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("3tO9"),s=n.n(a),i=n("q1tI");const o=(e,t,a,o,r,l,c)=>{const[d,u]=Object(i.useState)(!1),p=Object(n("VtkN").a)(),m=Object(n("/J2q").c)(a),b=Object(n("/J2q").a)(a),g=Object(n("/J2q").f)(e||m),[{data:f}]=Object(n("NvmA").b)(),{createAnalyticsEvent:h}=Object(n("rZ/p").a)(),E=f?s()(s()({},Object(n("/J2q").f)(f)),{},{publicName:a.formatMessage(n("MhXd").a.assignToMe)
}):null,y=void 0===r||""===r,O=y?Boolean(null==e?void 0:e.accountId):m.displayName.toLowerCase().startsWith((r||"").toLowerCase());let v=!1;!0===c&&(v=y?Boolean("-1"!==(null==e?void 0:e.accountId)):b.displayName.toLowerCase().startsWith((r||"").toLowerCase()));const j=null!==E&&g.id===E.id,I=t.some((e=>null!==E&&e.accountId===E.id)),C=y?!j&&(o||I):I,S=t.filter((e=>!(y&&e.accountId===g.id||null!==E&&e.accountId===E.id))).map(n("/J2q").f),k=[];!0===l&&!y&&S.length<3&&(d||(u(!0),((e,t,a)=>{if(null==e)return;const s=e({action:"exposed",actionSubject:"feature"}),i={fieldId:"assignee",flagKey:"invite.from.assign",value:Object(n("OURh").a)(),userRole:a?"admin":"basic",suggestionsCount:t,source:"assigneeField"};Object(n("yy8q").b)(s,"feature exposed",i)})(h,S.length,p)),Object(n("OURh").c)()&&(((e,t,a)=>{if(null==e)return;const s=e({action:"rendered",actionSubject:"inviteItem"}),i={fieldId:"assignee",userRole:a?"admin":"basic",suggestionsCount:t,source:"assigneeField"}
;Object(n("yy8q").h)(s,"inviteItem rendered",i)})(h,S.length,p),k.push(Object(n("/J2q").f)(Object(n("/J2q").b)(a,p)))));const w=[...O?[Object(n("/J2q").f)(m)]:[],...v?[Object(n("/J2q").f)(b)]:[],...C&&null!==E?[E]:[],...S,...k];return[g,w]}},FsMS:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI");const s=()=>{const[{isTourActive:e},{setTourIsActive:t,setTourIsInactive:s}]=Object(n("b+mQ").b)();return[{isTourActive:e},Object(a.useMemo)((()=>({setTourIsActive:t,setTourIsInactive:s})),[t,s])]}},"G+I/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l}));var a=n("3tO9"),s=n.n(a);const i=(e,t,a,s)=>`\n    comments (first: ${t}, maxResults: ${e}, orderBy: "${a}",${(()=>{const{hasPermalink:e,permalinkId:t}=Object(n("LcR/").a)(n("bLfd").a);return e?`commentId: ${t}`:""
})()}) {\n        nodes {\n            id\n            author {\n                accountId\n                displayName\n                avatarUrl\n            }\n            updateAuthor {\n                accountId\n                displayName\n                avatarUrl\n            }\n            visibility {\n                type\n                value\n            }\n            created\n            updated\n            renderedBody\n            jsdPublic\n            bodyAdf\n            ${s?"jsdAuthorCanSeeRequest":""}\n        }\n        totalCount\n        startIndex\n    }\n`,o=()=>i(5,0,"-created",Object(n("d90y").isOutsiderCommentFFEnabled)()),r=e=>{const{comments:t}=e;if(!t)return{users:{},comments:{},totalComments:0,commentsStartIndex:0,loadedComments:0};const{totalCount:a,startIndex:i}=t,o={data:{issueComments:t}};return s()(s()({},Object(n("0jFE").b)(Object(n("0jFE").f)(o),0,i)),{},{totalComments:a,commentsStartIndex:i})},l=(e,t,a,i,o)=>{const{comments:r}=e
;if(!r)return{users:{},comments:{},totalComments:0,commentsStartIndex:0,loadedComments:0};const{totalCount:l}=r,c={data:{issueComments:r}};return s()(s()({},Object(n("0jFE").c)(Object(n("0jFE").f)(c),t,a,i,o)),{},{totalComments:l})}},GVPk:function(t,n,a){"use strict";a.r(n),a.d(n,"Issue",(function(){return EC}));var s={};a.r(s),a.d(s,"setSortableIssueIds",(function(){return Eu})),a.d(s,"setSortBy",(function(){return yu}));var i={};a.r(i),a.d(i,"onClickAddFormButton",(function(){return pO}));var o=a("3tO9"),r=a.n(o),l=a("q1tI"),c=a.n(l),d=a("/MKj"),u=a("vN+2"),p=a.n(u),m=a("cr+I"),b=a.n(m),g=a("6xe2");const f=Object(g.g)((()=>a.e("async-issue-details-agg-shadow-read").then(a.bind(null,"xR/o"))),{ssr:!1,moduleId:"./src/packages/issue/agg-shadow-read/src/services/index.js"}),h=()=>c.a.createElement(a("ho8o").a,{id:"issue-agg-shadow-read",packageName:"jiraIssueAggShadowRead"},c.a.createElement(g.a,{fallback:null},c.a.createElement(f,null)));h.displayName="AsyncAggShadowRead"
;const E=Object(g.g)((()=>a.e("async-issue-details-field-descriptions").then(a.bind(null,"vDh9"))),{ssr:!1,moduleId:"./src/packages/issue/fields/field-description/src/ui/services/main.js"}),y=()=>c.a.createElement(a("ho8o").a,{id:"jira-issue-field-description",packageName:"jiraIssueFieldDescription"},c.a.createElement(g.a,{fallback:null},c.a.createElement(E,null)));y.displayName="AsyncFieldDescriptionService";var O=y;var v=a("pVnL"),j=a.n(v),I=a("QILm"),C=a.n(I),S=a("JRPe"),k=e=>""===e.trim()||Object(a("3RwP").a)(e),w=Object(S.defineMessages)({save:{id:"issue.log-time.modal.log-time-action.save",defaultMessage:"Save"},cancel:{id:"issue.log-time.modal.log-time-action.cancel",defaultMessage:"Cancel"}}),T=a("vOnD");const D=T.default.div.withConfig({componentId:"sc-4ej3cw-0"})`display:inline-flex;justify-content:flex-end;align-items:center;width:100%;>:not(:first-child){margin-left:${a("ZpU/").e/2}px;}`,R=T.default.div.withConfig({componentId:"sc-4ej3cw-1"
})`> *{display:flex;}margin-right:${a("ZpU/").e}px;`,L=()=>c.a.createElement(R,null,c.a.createElement(a("6UK4").a,{size:"small"}));L.displayName="renderSpinner";const M=e=>{const t=Object(a("NRyt").d)(),{formState:n,onConfirm:s,onCancel:i}=e;return c.a.createElement(D,null,"submitting"===n?L():null,c.a.createElement(a("340+").a,{appearance:"primary",onClick:s,isDisabled:"invalid"===n||"submitting"===n},t.formatMessage(w.save)),c.a.createElement(a("340+").a,{appearance:"subtle",onClick:i,isDisabled:"submitting"===n},t.formatMessage(w.cancel)))};M.displayName="LogTimeModalFooter";const A=e=>{const{formState:t,onConfirm:n,onCancel:s,intl:i}=e;return c.a.createElement(D,null,"submitting"===t?L():null,c.a.createElement(a("340+").a,{appearance:"primary",onClick:n,isDisabled:"invalid"===t||"submitting"===t},i.formatMessage(w.save)),c.a.createElement(a("340+").a,{appearance:"subtle",onClick:s,isDisabled:"submitting"===t},i.formatMessage(w.cancel)))};A.displayName="LogTimeModalFooterOld"
;const _=Object(S.injectIntl)(A);var N=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,M,_);const x=(e,t,n,s)=>{const i=null!==e&&""!==e&&s&&Object(a("Se/U").a)(new Date(e))?Object(a("eLKX").a)(e,s):null;return null!==i&&s&&Object(a("Se/U").a)(i)?{dateValue:Object(a("J+st").a)(i,"yyyy-MM-dd",{timeZone:s}),timeValue:Object(a("J+st").a)(i,"HH:mm",{timeZone:s}),zoneValue:Object(a("J+st").a)(i,"XX",{timeZone:s})}:{dateValue:t,timeValue:n,zoneValue:s?Object(a("J+st").a)(new Date,"XX",{timeZone:s}):null}};var U=a("GODc"),F=a.n(U),P=a("J2iB"),V=a.n(P);const K=({isDisabled:e=!1,value:t,autoFocus:n=!1,timeZone:s,parseValue:i,onChange:o})=>{const{formatMessage:r}=Object(a("NRyt").d)(),d=Object(l.useCallback)((e=>{const t=Object(a("hyjV").a)(e);o(F()(Date.parse(t))?null:t)}),[o]),u=Object(l.useCallback)(((e,t,n)=>i(e,t,n,s)),[i,s]);return c.a.createElement(a("3WD9").a,{autoFocus:n,isDisabled:e,value:t||"",onChange:d,timeIsEditable:!0,parseValue:V()(s)||""===s?void 0:u,
datePickerSelectProps:{placeholder:r(a("VNP5").a.placeholderDate)},timePickerSelectProps:{formatCreateLabel:e=>e,filterOption:(e,t)=>!t||e.value===t||e.label===t},times:a("1WEW").a})};K.displayName="LegacyDateTimeFieldView";class $ extends l.Component{constructor(...e){super(...e),this.onChange=e=>{const t=Object(a("hyjV").a)(e);this.props.onChange(F()(Date.parse(t))?null:t)},this.parseValue=(e,t,n)=>this.props.parseValue(e,t,n,this.props.timeZone)}render(){const{autoFocus:e,isDisabled:t,value:n,timeZone:s,intl:{formatMessage:i}}=this.props;return c.a.createElement(a("3WD9").a,{autoFocus:e,isDisabled:t,value:n||"",onChange:this.onChange,timeIsEditable:!0,parseValue:V()(s)||""===s?void 0:this.parseValue,datePickerSelectProps:{placeholder:i(a("VNP5").a.placeholderDate)},timePickerSelectProps:{formatCreateLabel:e=>e,filterOption:(e,t)=>!t||e.value===t||e.label===t},times:a("1WEW").a})}}$.displayName="LegacyDateTimeFieldViewOld",$.defaultProps={isDisabled:!1,value:void 0,autoFocus:!1}
;var W=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,K,Object(S.injectIntl)($)),B=Object(S.defineMessages)({label:{id:"issue.log-time.modal.work-description.label",defaultMessage:"Work description"}});const q=Object(g.h)((()=>a.e("async-editor-view").then(a.bind(null,"lRD8"))),{moduleId:"./src/packages/issue/issue-view/src/common/component/editor/index.js"});class H extends l.Component{render(){const e=c.a.createElement(a("9PSx").b,{useDeprecatedGetScrollParent:!0,mediaContext:this.props.mediaContext,defaultValue:this.props.defaultValue});return c.a.createElement(a("cTxr").b,{name:"work-description",label:this.props.intl.formatMessage(B.label)},(()=>c.a.createElement(a("9PSx").a,{packageName:"issue",fallback:e},c.a.createElement(q,{isExpanded:!0,externalId:this.props.externalId,isDisabled:this.props.isDisabled,defaultValue:this.props.defaultValue,portalElement:this.props.portalElement,onChange:this.props.onChange,onChangeFailure:this.props.onChangeFailure,
mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider}))))}}H.displayName="WorkDescription",H.defaultProps={portalElement:void 0};var G=Object(S.injectIntl)(H),Y=Object(S.defineMessages)({timeRemaining:{id:"issue.log-time.modal.time-remaining",defaultMessage:"Time remaining"},timeSpent:{id:"issue.log-time.modal.time-spent",defaultMessage:"Time spent"},dateStarted:{id:"issue.log-time.modal.date-started",defaultMessage:"Date started"}});const Z=T.default.div.withConfig({componentId:"sc-1a3rced-0"})`align-items:center;display:flex;flex-direction:row;>:not(:first-child){margin-left:${a("ZpU/").e}px;}`,X=T.default.div.withConfig({componentId:"sc-1a3rced-1"})`width:50%;`,J=T.default.div.withConfig({componentId:"sc-1a3rced-2"})`width:100%;`,z=T.default.div.withConfig({componentId:"sc-1a3rced-3"})`display:${e=>e.isCollapsed?"none":"block"};`;class Q extends l.Component{
constructor(...e){super(...e),this.state={shouldAppearInvalid:!this.props.isValid},this.onBlur=()=>{this.setState({shouldAppearInvalid:!this.props.isValid})}}UNSAFE_componentWillReceiveProps(e){!this.props.isValid&&e.isValid&&this.setState({shouldAppearInvalid:!1})}render(){return c.a.createElement("div",{onBlur:this.onBlur},this.props.children(this.state.shouldAppearInvalid))}}Q.displayName="WithValidationOnBlur";class ee extends l.Component{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){return c.a.createElement(a("iSg+").a,{value:this.props.value,label:this.props.label,placeholder:this.props.placeholder,isInvalid:this.props.isInvalid,invalidMessage:this.props.isInvalid?this.props.invalidMessage:void 0,disabled:this.props.isDisabled,required:this.props.isRequired,autoFocus:this.props.autoFocus,onChange:this.onChange,onBlur:this.props.onBlur,shouldFitContainer:!0})}}ee.displayName="TimeLogTextField",ee.defaultProps={isInvalid:!1,
isRequired:!1,isDisabled:!1,autoFocus:!1,placeholder:void 0,invalidMessage:void 0,onBlur:p.a};const te=T.default.div.withConfig({componentId:"sc-1hm079h-0"})`padding:${a("ZpU/").e-2}px ${a("ZpU/").e-6}px;`,ne=T.default.div.withConfig({componentId:"sc-1hm079h-1"})`list-style:inside;margin-top:${a("ZpU/").e}px;padding-left:${a("ZpU/").e/2}px;padding-bottom:${a("ZpU/").e/2}px;`;class ae extends l.Component{tooltipContentRender(){const{intl:e}=this.props;return c.a.createElement(te,null,c.a.createElement("p",null,e.formatMessage(a("KcFa").a.exampleFormat,{formatExample:"2w 4d 6h 45m"})),c.a.createElement(ne,null,c.a.createElement("li",null,e.formatMessage(a("KcFa").a.weeks,{w:"w"})),c.a.createElement("li",null,e.formatMessage(a("KcFa").a.days,{d:"d"})),c.a.createElement("li",null,e.formatMessage(a("KcFa").a.hours,{h:"h"})),c.a.createElement("li",null,e.formatMessage(a("KcFa").a.minutes,{m:"m"}))))}render(){const{children:e,shouldRenderContent:t}=this.props
;return c.a.createElement(a("Yto1").a,{content:t?this.tooltipContentRender():null},e)}}ae.displayName="TimeTrackingTooltip";var se=ae;const ie=e=>{const{isValid:t,value:n,onChange:s,onBlur:i,isDisabled:o,intl:r}=e;return c.a.createElement(Q,{isValid:t},(e=>c.a.createElement(se,{shouldRenderContent:t&&!o,intl:r},c.a.createElement(ee,{value:n,isInvalid:e,invalidMessage:a("KcFa").b,onChange:s,onBlur:i,isDisabled:o,label:r.formatMessage(Y.timeSpent),placeholder:"2w 4d 6h 45m",autoFocus:!0}))))};ie.displayName="ValidatedLogTimeInput";var oe=ie,re=({isValid:e,value:t,onChange:n,onBlur:s,isDisabled:i,intl:o})=>c.a.createElement(Q,{isValid:e},(r=>c.a.createElement(ae,{shouldRenderContent:e&&!i,intl:o},c.a.createElement(ee,{value:t,isInvalid:r,invalidMessage:a("KcFa").b,onChange:n,onBlur:s,isDisabled:i,label:o.formatMessage(Y.timeRemaining),placeholder:"2w 4d 6h 45m"}))));class le extends l.Component{constructor(...e){super(...e),this.onDateStartedChange=e=>{this.props.onDateStartedChange(e)}}
getWorklogDetailsNew(){const{value:{dateStarted:e,workDescription:t},isCollapsed:n,intl:s,timeZone:i,mediaContext:o,mentionProvider:r,mentionEncoder:l,activityProvider:d,isDisabled:u,portalElement:p,onWorkDescriptionChange:m,onWorkDescriptionChangeFailure:b,externalId:g}=this.props;return c.a.createElement(z,{isCollapsed:n},c.a.createElement(J,null,c.a.createElement(a("cTxr").b,{name:"date-started",label:s.formatMessage(Y.dateStarted),isRequired:!0},(()=>c.a.createElement(W,{value:e||null,timeZone:i,parseValue:x,onChange:this.onDateStartedChange,isDisabled:u})))),c.a.createElement(G,{defaultValue:t,isDisabled:u,portalElement:p,onChange:m,onChangeFailure:b,externalId:g,mediaContext:o,mentionProvider:r,mentionEncoder:l,activityProvider:d}))}getWorklogDetailsOld(){return c.a.createElement(c.a.Fragment,null,!this.props.isCollapsed&&c.a.createElement(c.a.Fragment,null,c.a.createElement(J,null,c.a.createElement(a("cTxr").b,{name:"date-started",
label:this.props.intl.formatMessage(Y.dateStarted),isRequired:!0},(()=>c.a.createElement(W,{value:this.props.value.dateStarted||null,timeZone:this.props.timeZone,parseValue:x,onChange:this.onDateStartedChange,isDisabled:this.props.isDisabled})))),c.a.createElement(G,{defaultValue:this.props.value.workDescription,isDisabled:this.props.isDisabled,portalElement:this.props.portalElement,onChange:this.props.onWorkDescriptionChange,onChangeFailure:this.props.onWorkDescriptionChangeFailure,externalId:this.props.externalId,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider})))}render(){const{value:{timeLogged:e,timeRemaining:t}}=this.props;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Z,null,c.a.createElement(X,{"data-test-id":"issue.common.component.log-time-modal.modal.form.time-spent"},c.a.createElement(oe,{value:e,isDisabled:this.props.isDisabled,
isValid:this.props.isTimeLoggedValid,onChange:this.props.onTimeLoggedChange,onBlur:this.props.onTimeLoggedBlur,intl:this.props.intl})," "),c.a.createElement(X,{"data-test-id":"issue.common.component.log-time-modal.modal.form.time-remaining"},c.a.createElement(re,{value:t,isDisabled:this.props.isDisabled,isValid:this.props.isTimeRemainingValid,onChange:this.props.onTimeRemainingChange,onBlur:this.props.onTimeRemainingBlur,intl:this.props.intl}))),Object(a("d90y").isTimeTrackingModalNoDelayFixEnabled)()?this.getWorklogDetailsNew():this.getWorklogDetailsOld())}}le.displayName="LogTimeModalForm",le.defaultProps={portalElement:void 0};var ce=Object(S.injectIntl)(le),de=Object(S.defineMessages)({includeSubtasksLabel:{id:"issue.log-time-modal.include-subtasks",defaultMessage:"Include subtasks"},includeChildIssueLabel:{id:"issue.log-time-modal.include-child-issues",defaultMessage:"Include child issues"}});const ue=T.default.p.withConfig({componentId:"sc-74lw5j-0"
})`margin-top:${2*a("ZpU/").e}px;`,pe=T.default.div.withConfig({componentId:"sc-74lw5j-1"})`margin-left:-${a("ZpU/").e/2}px;padding-top:${a("ZpU/").e}px;& > label > span{color:${a("5kDX").a.N500};}`;var me=e=>{const{config:t,value:n,isDone:s,estimatedTime:i,shouldDisplayRollUpDataControl:o,isRollingUpData:r,onToggleRollingUpData:d,isClassicProject:u}=e,p=Object(a("NRyt").d)(),{formatMessage:m}=p,b=Object(l.useCallback)((e=>{const n=Object(a("/1v1").a)(e,{workingHoursPerDay:t.hoursPerDay,workingDaysPerWeek:t.daysPerWeek,timeFormat:t.format||"pretty",defaultUnit:t.defaultUnit},p),s=u?()=>c.a.createElement(S.FormattedMessage,{id:"issue.log-time.modal.original-estimate.with-rollup-subtasks",defaultMessage:"The original estimate for this issue and subtasks was {time}.",values:{time:c.a.createElement(a("hBol").a,{value:n})}}):()=>c.a.createElement(S.FormattedMessage,{id:"issue.log-time.modal.original-estimate.with-rollup-child-issues",
defaultMessage:"The original estimate for this issue and child issues was {time}.",values:{time:c.a.createElement(a("hBol").a,{value:n})}});return c.a.createElement(ue,null,r&&o?c.a.createElement(s,null):c.a.createElement(S.FormattedMessage,{id:"issue.log-time.modal.original-estimate",defaultMessage:"The original estimate for this issue was {time}.",values:{time:c.a.createElement(a("hBol").a,{value:n})}}))}),[t,p,u,r,o]),g=Object(l.useCallback)((()=>c.a.createElement(pe,null,c.a.createElement(a("epHX").a,{isChecked:r,onChange:({target:{checked:e}},t)=>{d(e,t)},label:m(u?de.includeSubtasksLabel:de.includeChildIssueLabel),name:"roll-up-time-tracking-toggle-from-dialog"}),c.a.createElement(a("02VO").a,{action:"exposed",actionSubject:"feature",actionSubjectId:"toggleRollUpDataControlFromWorklogDialog"}))),[m,u,r,d]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(a("r7NI").a,{config:t,value:n,estimatedTime:i,isDone:s,isCompact:!1,isEditable:!1
}),o&&g(),"number"==typeof i?b(i):null)};class be extends l.Component{constructor(...e){super(...e),this.state={containerRef:void 0},this.setContainerRef=e=>{this.state.containerRef||this.setState({containerRef:e})},this.renderHeader=()=>c.a.createElement("h3",null,this.props.header),this.renderFooter=()=>c.a.createElement(N,{formState:this.props.formState,onConfirm:this.props.onSubmit,onCancel:this.props.onCancel})}secondsToTimeString(e){const{daysPerWeek:t,hoursPerDay:n}=this.props.config;return Object(a("jR8K").a)(t,n)(e)}timeStringToSeconds(e){const{daysPerWeek:t,hoursPerDay:n}=this.props.config;return Object(a("rYoG").a)(t,n)(e)}renderProgressTracker(){const{progressTrackerValue:e,progressTrackerValue:{loggedTime:t,remainingTime:n},estimatedTime:a,rolledUpEstimatedTime:s,config:i,isDone:o,shouldDisplayRollUpDataControl:r,isRollingUpData:l,onToggleRollingUpData:d,isClassicProject:u}=this.props;return void 0===t&&void 0===n&&void 0===a&&!1===r?null:c.a.createElement(me,{config:i,
value:e,estimatedTime:l?s:a,isDone:o,shouldDisplayRollUpDataControl:r,isRollingUpData:l,onToggleRollingUpData:d,isClassicProject:u})}renderForm(){return c.a.createElement(ce,{value:this.props.value,isCollapsed:this.props.isCollapsed,isDisabled:"submitting"===this.props.formState,isTimeLoggedValid:this.props.isTimeLoggedValid,onTimeLoggedBlur:this.props.onTimeLoggedBlur,isTimeRemainingValid:this.props.isTimeRemainingValid,onTimeRemainingBlur:this.props.onTimeRemainingBlur,timeZone:this.props.timeZone,portalElement:this.state.containerRef,onTimeLoggedChange:this.props.onTimeLoggedChange,onTimeRemainingChange:this.props.onTimeRemainingChange,onDateStartedChange:this.props.onDateStartedChange,onWorkDescriptionChange:this.props.onWorkDescriptionChange,onWorkDescriptionChangeFailure:this.props.onWorkDescriptionChangeFailure,mediaContext:this.props.mediaContext,mentionEncoder:this.props.mentionEncoder,mentionProvider:this.props.mentionProvider,activityProvider:this.props.activityProvider,
externalId:this.props.externalId})}render(){return c.a.createElement(a("ugic").a,{header:this.renderHeader,footer:this.renderFooter,isOpen:!0,width:"small",onDialogDismissed:this.props.onCancel},c.a.createElement(a("iAtd").a,{onEscape:this.props.onCancel},c.a.createElement("div",{ref:this.setContainerRef,"data-testid":"issue.issue-view.common.log-time-modal-dialog.contents"},this.renderProgressTracker(),this.renderForm())))}}be.displayName="LogTimeModal",be.defaultProps={isDone:!1,progressTrackerValue:{},estimatedTime:void 0};class ge extends l.Component{constructor(e){super(e),this.onTimeLoggedBlur=()=>{this.applyDefaultTimeFormat(this.state.value.timeLogged,this.onTimeLoggedChange)},this.onTimeRemainingBlur=()=>{this.applyDefaultTimeFormat(this.state.value.timeRemaining,this.onTimeRemainingChange)},this.onTimeLoggedChange=e=>{const t=k(e),n=this.timeStringToSeconds(e)||0;this.setState((({value:a})=>{let s={value:r()(r()({},a),{},{timeLogged:e,timeLoggedSeconds:n}),
hasUserInteracted:!0,isTimeLoggedValid:t};if(t&&this.props.initialValue.timeRemaining){const e=(this.timeStringToSeconds(this.props.initialValue.timeLogged)||0)+(this.props.initialValue.timeRemainingSeconds||0)-n,t=e>0?e:0,a=this.secondsToTimeString(t);s=r()(r()({},s),{},{value:r()(r()({},s.value),{},{timeRemaining:a,timeRemainingSeconds:t}),isTimeRemainingValid:!0})}return s}))},this.onTimeRemainingChange=e=>{const t=this.timeStringToSeconds(e)||0;this.setState((({value:n})=>({value:r()(r()({},n),{},{timeRemaining:e,timeRemainingSeconds:t}),hasUserInteracted:!0,isTimeRemainingValid:k(e)})))},this.onDateStartedChange=e=>{this.setState((({value:t})=>({value:r()(r()({},t),{},{dateStarted:e}),defaultDateStarted:null,hasUserInteracted:!0})))},this.onWorkDescriptionChange=e=>{this.setState((({value:t})=>({value:r()(r()({},t),{},{workDescription:e}),hasUserInteracted:!0})))},this.onSubmit=(e,t)=>{
const{value:{workDescription:n}}=this.state,s="string"!=typeof this.state.value.workDescription?Object(a("IJwP").i)(n):n,i=r()(r()({},this.getValue()),{},{workDescription:s});this.props.onSubmit(i,t)},this.applyDefaultTimeFormat=(e,t)=>{let n=e.trim();if(Object(a("N/HC").a)(n)){const{defaultUnit:e}=this.props.config;n=`${n}${Object(a("dUcG").a)(e)}`}n!==e&&t(n)},this.state={value:e.initialValue,defaultDateStarted:Date.now(),isTimeLoggedValid:!0,isTimeRemainingValid:!0,hasUserInteracted:!1}}getIsCollapsed(){return this.props.isCollapsible&&!this.state.value.timeLogged}getDateStarted(){const{defaultDateStarted:e,value:{dateStarted:t,timeLogged:n}}=this.state;if(!this.props.shouldUpdateDate||t)return t;if(!e)return null;const a=this.timeStringToSeconds(n)||0;try{return new Date(e-1e3*a).toISOString()}catch(s){return new Date(e).toISOString()}}getValue(){return r()(r()({},this.state.value),{},{dateStarted:this.getDateStarted()})}getFormState(){
return this.props.isWaiting?"submitting":this.state.hasUserInteracted&&this.props.validator(this.getValue())?"valid":"invalid"}getProgressTrackerValue(){const{value:{timeLogged:e,timeRemaining:t}}=this.state,{initialValue:n,isRollingUpData:a}=this.props,s=a?this.props.rolledUpTimeTracking:this.props.timeTracking,i=(this.timeStringToSeconds(e)||0)-(this.timeStringToSeconds(n.timeLogged)||0),o=i||s.loggedTime?(i||0)+(s.loggedTime||0):void 0,r=this.timeStringToSeconds(t),l=(r||0)-(this.timeStringToSeconds(n.timeRemaining)||0),c="number"==typeof r;let{remainingTime:d}=s;return c&&(d=a?(s.remainingTime||0)+l:r||0),{loggedTime:o,remainingTime:d}}secondsToTimeString(e){const{config:t,intl:n}=this.props,s=r()(r()({},n),{},{formatMessage:({defaultMessage:e})=>e||""});return Object(a("/1v1").a)(e,{workingHoursPerDay:t.hoursPerDay,workingDaysPerWeek:t.daysPerWeek,timeFormat:t.format||"pretty",defaultUnit:t.defaultUnit},s)}timeStringToSeconds(e){const{daysPerWeek:t,hoursPerDay:n}=this.props.config
;return Object(a("rYoG").a)(t,n)(e)}render(){return c.a.createElement(be,{value:this.getValue(),progressTrackerValue:this.getProgressTrackerValue(),estimatedTime:this.props.estimatedTime,rolledUpEstimatedTime:this.props.rolledUpEstimatedTime,config:this.props.config,header:this.props.header,formState:this.getFormState(),timeZone:this.props.timeZone,isCollapsed:this.getIsCollapsed(),isDone:this.props.isDone,isTimeLoggedValid:this.state.isTimeLoggedValid,isTimeRemainingValid:this.state.isTimeRemainingValid,onSubmit:this.onSubmit,onCancel:this.props.onCancel,onTimeLoggedChange:this.onTimeLoggedChange,onTimeLoggedBlur:this.onTimeLoggedBlur,onTimeRemainingChange:this.onTimeRemainingChange,onTimeRemainingBlur:this.onTimeRemainingBlur,onDateStartedChange:this.onDateStartedChange,onWorkDescriptionChange:this.onWorkDescriptionChange,onWorkDescriptionChangeFailure:this.props.onWorkDescriptionChangeFailure,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,
mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider,externalId:this.props.externalId,shouldDisplayRollUpDataControl:this.props.shouldDisplayRollUpDataControl,isRollingUpData:this.props.isRollingUpData,onToggleRollingUpData:this.props.onToggleRollingUpData,isClassicProject:this.props.isClassicProject})}}ge.displayName="LogTimeModalWithValidation",ge.defaultProps={isCollapsible:!1,isDone:!1,isWaiting:!1,shouldUpdateDate:!1};const fe=Object(a("4zF2").a)({onSubmit:"clicked",onCancel:"clicked",onToggleRollingUpData:"toggleRollingUpData"})(Object(a("SGpu").b)("worklogModal")(Object(S.injectIntl)(ge)));var he,Ee=e=>c.a.createElement(a("ho8o").a,{id:"issue.issue-view.common.worklog-dialog"},c.a.createElement(a("PF8x").a,{id:"common.worklog-dialog",packageName:"jiraIssueView",sendToPrivacyUnsafeSplunk:!0},c.a.createElement(fe,e))),ye=Object(S.defineMessages)({title:{id:"issue.activity.worklog.add-modal.title",defaultMessage:"Time tracking"}})
;const Oe=({timeLogged:e,timeRemaining:t,dateStarted:n})=>(!!e||!!t)&&(k(e)||"0"===e)&&k(t)&&!!n;let ve=Object(a("SGpu").a)("addWorklog",a("kJVM").a.MODAL)(he=class extends l.Component{render(){const{timeTracking:e,rolledUpTimeTracking:t,timeTrackingConfiguration:n,intl:s}=this.props,{timeSpentSeconds:i,remainingEstimateSeconds:o,originalEstimateSeconds:l}=e;let d="";if("number"==typeof o){const e=r()(r()({},s),{},{formatMessage:({defaultMessage:e})=>e||""});d=Object(a("/1v1").a)(o,{workingHoursPerDay:n.hoursPerDay,workingDaysPerWeek:n.daysPerWeek,timeFormat:n.format||"pretty",defaultUnit:n.defaultUnit},e)}const u={timeLogged:"",timeRemaining:d,timeRemainingSeconds:o,workDescription:a("IJwP").c,dateStarted:null},m={loggedTime:i,remainingTime:o};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,{initialValue:u,timeTracking:m,rolledUpTimeTracking:{loggedTime:t.timeSpentSeconds,remainingTime:t.remainingEstimateSeconds},estimatedTime:l,
rolledUpEstimatedTime:t.originalEstimateSeconds,config:n,header:s.formatMessage(ye.title),timeZone:this.props.timeZone,isCollapsible:!0,isDone:this.props.isDone,isWaiting:this.props.isSaving,shouldUpdateDate:!0,validator:Oe,onSubmit:this.props.onSubmit,onCancel:this.props.onCancel,onWorkDescriptionChangeFailure:p.a,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider||{},mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider,externalId:this.props.externalId,shouldDisplayRollUpDataControl:this.props.shouldDisplayRollUpDataControl,isRollingUpData:this.props.isRollingUpData,onToggleRollingUpData:this.props.onToggleRollingUpData,isClassicProject:this.props.isClassicProject}),c.a.createElement(a("VF8P").a,null))}})||he;const je=["timeTrackingValue","rolledUpTimeTrackingValue"],Ie=["timeTrackingValue","rolledUpTimeTrackingValue"],Ce=e=>{
const{timeTrackingValue:t,rolledUpTimeTrackingValue:n}=e,s=C()(e,je),[i,{markRollingUpData:o,unmarkRollingUpData:r}]=Object(a("vmHj").a)(),d=Object(l.useCallback)((e=>{e?o():r()}),[o,r]);return c.a.createElement(ve,j()({},s,{timeTracking:t,rolledUpTimeTracking:n,isRollingUpData:i,onToggleRollingUpData:d}))};Ce.displayName="WrappedWorklogModalOld";const Se=e=>{const t=Object(a("NRyt").d)(),{timeTrackingValue:n,rolledUpTimeTrackingValue:s}=e,i=C()(e,Ie),[o,{markRollingUpData:r,unmarkRollingUpData:d}]=Object(a("vmHj").a)(),u=Object(l.useCallback)((e=>{e?r():d()}),[r,d]);return c.a.createElement(ve,j()({},i,{intl:t,timeTracking:n,rolledUpTimeTracking:s,isRollingUpData:o,onToggleRollingUpData:u}))};Se.displayName="WrappedWorklogModal";const ke=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(a("4zF2").a)({onSubmit:"submitAddWorklog",onCancel:"cancelAddWorklog"})(Object(a("SGpu").b)("worklog")(Se)),Object(S.injectIntl)(Object(a("4zF2").a)({onSubmit:"submitAddWorklog",
onCancel:"cancelAddWorklog"})(Object(a("SGpu").b)("worklog")(Ce))));var we=Object(d.connect)((e=>({timeTrackingConfiguration:Object(a("gnYg").h)(e),rolledUpTimeTrackingValue:Object(a("gnYg").j)(e)(!0),timeTrackingValue:Object(a("gnYg").i)(e),timeZone:Object(a("/LFc").A)(e),isDone:"DONE"===Object(a("OGP8").a)(e),isSaving:Object(a("gnYg").d)(e),mediaContext:Object(a("gjKp").a)(e),mentionEncoder:Object(a("zlLD").a)(Object(a("4dgq").f)(e)),mentionProvider:Object(a("K/wP").a)(e),shouldDisplayRollUpDataControl:Object(a("gnYg").f)(e),isClassicProject:Object(a("/LFc").m)(e)})),(e=>({onSubmit:(t,n)=>{const{timeLogged:s,timeRemaining:i}=t||{};e(!s&&i?Object(a("M+5/").O)(i,n):Object(a("M+5/").n)(t,n))},onCancel:()=>{e(Object(a("M+5/").p)())}})))(ke),Te=a("56YH"),De=a.n(Te),Re=Object(S.defineMessages)({delete:{id:"issue.activity.worklog.delete-modal.delete",defaultMessage:"Delete"},deleteHeading:{id:"issue.activity.worklog.delete-modal.delete-heading",defaultMessage:"Delete worklog entry?"},
cancel:{id:"issue.activity.worklog.delete-modal.cancel",defaultMessage:"Cancel"},deleteWarning:{id:"issue.activity.worklog.delete-modal.delete-warning",defaultMessage:"Once you delete, it's gone for good."},adjustCheckboxLabel:{id:"issue.activity.worklog.delete-modal.adjust-checkbox-label",defaultMessage:"Adjust time remaining"},adjustCurrentLabel:{id:"issue.activity.worklog.delete-modal.adjust-current-label",defaultMessage:"Current"},adjustNewLabel:{id:"issue.activity.worklog.delete-modal.adjust-new-label",defaultMessage:"New time remaining"},adjustNewSubtext:{id:"issue.activity.worklog.delete-modal.adjust-new-subtext",defaultMessage:"By default, deleted time ({timeSpent}) is added to the time remaining."}});const Le=T.default.div.withConfig({componentId:"sc-1dhj788-0"})`display:flex;margin-top:-${3*a("ZpU/").e}px;`,Me=T.default.div.withConfig({componentId:"sc-1dhj788-1"
})`display:flex;flex-direction:column;align-items:center;max-width:${11*a("ZpU/").e}px;`,Ae=T.default.div.withConfig({componentId:"sc-1dhj788-2"})`color:#6b778c;font-size:${3*a("ZpU/").e/2}px;font-weight:600;line-height:1.3333333333333333;padding:${5*a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px 0;`,_e=T.default.div.withConfig({componentId:"sc-1dhj788-3"})`text-align:center;padding:${1.25*a("ZpU/").e}px;`,Ne=T.default.div.withConfig({componentId:"sc-1dhj788-4"})`margin:${6*a("ZpU/").e}px ${2*a("ZpU/").e}px ${6*a("ZpU/").e}px ${a("ZpU/").e}px;`,xe=T.default.div.withConfig({componentId:"sc-1dhj788-5"})`margin:${2*a("ZpU/").e}px 0 ${2*a("ZpU/").e}px -${.5*a("ZpU/").e}px;`,Ue=T.default.div.withConfig({componentId:"sc-1dhj788-6"})`width:50%;`,Fe=T.default.div.withConfig({componentId:"sc-1dhj788-7"})`font-size:${1.25*a("ZpU/").e}px;margin-top:${a("ZpU/").e/2}px;color:${a("5kDX").a.N90};`;var Pe;let Ve=Object(a("SGpu").a)("deleteWorklog",a("kJVM").a.MODAL)(Pe=class extends l.Component{
constructor(...e){super(...e),this.secondsToTimeString=e=>{const{intl:t,timeTrackingConfig:n}=this.props,s=r()(r()({},t),{},{formatMessage:({defaultMessage:e})=>e||""});return Object(a("/1v1").a)(e,{workingHoursPerDay:n.hoursPerDay,workingDaysPerWeek:n.daysPerWeek,timeFormat:n.format||"pretty",defaultUnit:n.defaultUnit},s)},this.timeStringToSeconds=Object(a("rYoG").a)(this.props.timeTrackingConfig.daysPerWeek,this.props.timeTrackingConfig.hoursPerDay),this.state={isAdjustTimeRemainingChecked:!0,timeRemaining:this.secondsToTimeString(this.props.timeRemainingSeconds+this.timeStringToSeconds(this.props.worklog.timeSpent))},this.onTimeRemainingChange=e=>this.setState({timeRemaining:e.target.value}),this.onCheckboxChange=()=>this.setState({isAdjustTimeRemainingChecked:!this.state.isAdjustTimeRemainingChecked}),
this.onConfirm=(e,t)=>this.props.onConfirm(this.state.isAdjustTimeRemainingChecked?this.state.timeRemaining:this.secondsToTimeString(this.props.timeRemainingSeconds),this.state.isAdjustTimeRemainingChecked,t),this.originalTimeRemaining=this.secondsToTimeString(this.props.timeRemainingSeconds)}renderTimeRemainingInput(e){const{isDeleting:t,intl:{formatMessage:n}}=this.props,{timeRemaining:s}=this.state;return c.a.createElement(Q,{isValid:e},(e=>c.a.createElement(a("iSg+").a,{value:s,isInvalid:e,invalidMessage:e?a("KcFa").b:void 0,onChange:this.onTimeRemainingChange,label:n(Re.adjustNewLabel),placeholder:n(a("KcFa").a.timeInputPlaceholder),disabled:t,required:!0,shouldFitContainer:!0})))}renderContent(e){const{isDeleting:t,worklog:{timeSpent:n},intl:{formatMessage:s}}=this.props,{isAdjustTimeRemainingChecked:i}=this.state;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,s(Re.deleteWarning)),c.a.createElement(xe,null,c.a.createElement(a("epHX").a,{isChecked:i,
isDisabled:t,onChange:this.onCheckboxChange,label:s(Re.adjustCheckboxLabel),name:"adjust-checkbox"})),i&&c.a.createElement(Le,null,c.a.createElement(Me,null,c.a.createElement(Ae,null,s(Re.adjustCurrentLabel)),c.a.createElement(_e,null,this.originalTimeRemaining)),c.a.createElement(Ne,null,c.a.createElement(a.n(a("/u5F")).a,null)),c.a.createElement(Ue,null,this.renderTimeRemainingInput(e),c.a.createElement(Fe,null,s(Re.adjustNewSubtext,{timeSpent:n})))))}render(){const{isDeleting:e,onCancel:t,intl:{formatMessage:n}}=this.props,{timeRemaining:s,isAdjustTimeRemainingChecked:i}=this.state,o=Object(a("3RwP").a)(s);return c.a.createElement(a("66ob").b,{headerMessage:n(Re.deleteHeading),appearance:"danger",contentMessage:this.renderContent(o),confirmActionText:n(Re.delete),cancelActionText:n(Re.cancel),onConfirm:this.onConfirm,onCancel:t,isLoading:e,isConfirmDisabled:e||i&&!o,isCancelDisabled:e,externalId:"issue.activity.worklog.delete-modal"},c.a.createElement(a("VF8P").a,null))}})||Pe
;var Ke,$e=De()(Object(a("SGpu").b)("worklog"),Object(a("4zF2").a)({onConfirm:"confirmDeleteWorklog",onCancel:"cancelDeleteWorklog"}),S.injectIntl,Object(d.connect)((e=>({isDeleting:Object(a("gnYg").d)(e),worklog:Object(a("gnYg").a)(e),timeTrackingConfig:Object(a("gnYg").h)(e),timeRemainingSeconds:Object(a("ne1n").c)(e)})),{dispatchDeleteWorklog:a("M+5/").r,onCancel:a("M+5/").p},((e,{dispatchDeleteWorklog:t,onCancel:n})=>r()(r()({},e),{},{onCancel:n,onConfirm:(n,a,s)=>{e.worklog&&t(e.worklog.id,n,a,s)}}))))(Ve),We=Object(S.defineMessages)({title:{id:"issue.activity.worklog.edit-modal.title",defaultMessage:"Edit work log"}});const Be=()=>({timeLogged:e,timeRemaining:t,dateStarted:n})=>(Object(a("3RwP").a)(e)||"0"===e)&&k(t)&&!!n;let qe=Object(a("SGpu").a)("editWorklog",a("kJVM").a.MODAL)(Ke=class extends l.Component{constructor(...e){super(...e),this.onSubmit=(e,t)=>{const{worklog:n}=this.props;n&&this.props.onSubmit(n.id,e,t)}}render(){
const{worklog:e,timeTracking:t,rolledUpTimeTracking:n,timeTrackingConfiguration:s,intl:i}=this.props;if(!e)return null;const{timeSpentSeconds:o,remainingEstimateSeconds:l,originalEstimateSeconds:d}=t,{daysPerWeek:u,hoursPerDay:m}=s;let b="";if("number"==typeof l){const e=r()(r()({},i),{},{formatMessage:({defaultMessage:e})=>e||""});b=Object(a("/1v1").a)(l,{workingHoursPerDay:s.hoursPerDay,workingDaysPerWeek:s.daysPerWeek,timeFormat:s.format||"pretty",defaultUnit:s.defaultUnit},e)}const g={timeLogged:e.timeSpent,timeLoggedSeconds:Object(a("rYoG").a)(u,m)(e.timeSpent)||0,timeRemaining:b,timeRemainingSeconds:l,dateStarted:new Date(e.started).toISOString(),workDescription:e.comment||a("IJwP").c},f={loggedTime:o,remainingTime:l};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee,{initialValue:g,timeTracking:f,rolledUpTimeTracking:{loggedTime:n.timeSpentSeconds,remainingTime:n.remainingEstimateSeconds},estimatedTime:d,rolledUpEstimatedTime:n.originalEstimateSeconds,config:s,
header:i.formatMessage(We.title),timeZone:this.props.timeZone,isCollapsible:!1,isDone:this.props.isDone,isWaiting:this.props.isSaving,shouldUpdateDate:!1,validator:Be(),onSubmit:this.onSubmit,onCancel:this.props.onCancel,onWorkDescriptionChangeFailure:p.a,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider||{},mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider,externalId:this.props.externalId,shouldDisplayRollUpDataControl:this.props.shouldDisplayRollUpDataControl,isRollingUpData:this.props.isRollingUpData,onToggleRollingUpData:this.props.onToggleRollingUpData,isClassicProject:this.props.isClassicProject}),c.a.createElement(a("VF8P").a,null))}})||Ke;const He=["timeTrackingValue","rolledUpTimeTrackingValue"],Ge=e=>{const{timeTrackingValue:t,rolledUpTimeTrackingValue:n}=e,s=C()(e,He),[i,{markRollingUpData:o,unmarkRollingUpData:r}]=Object(a("vmHj").a)(),d=Object(l.useCallback)((e=>{e?o():r()}),[o,r])
;return c.a.createElement(qe,j()({},s,{timeTracking:t,rolledUpTimeTracking:n,isRollingUpData:i,onToggleRollingUpData:d}))};Ge.displayName="WrappedWorklogModal";const Ye=Object(S.injectIntl)(Object(a("4zF2").a)({onSubmit:"submitEditWorklog",onCancel:"cancelEditWorklog"})(Object(a("SGpu").b)("worklog")(Ge)));var Ze=Object(d.connect)((e=>({worklog:Object(a("gnYg").a)(e),timeTrackingConfiguration:Object(a("gnYg").h)(e),rolledUpTimeTrackingValue:Object(a("gnYg").j)(e)(!0),timeTrackingValue:Object(a("gnYg").i)(e),timeZone:Object(a("/LFc").A)(e),isDone:"DONE"===Object(a("OGP8").a)(e),isSaving:Object(a("gnYg").d)(e),mediaContext:Object(a("gjKp").a)(e),mentionEncoder:Object(a("zlLD").a)(Object(a("4dgq").f)(e)),mentionProvider:Object(a("K/wP").a)(e),shouldDisplayRollUpDataControl:Object(a("gnYg").f)(e),isClassicProject:Object(a("/LFc").m)(e)})),(e=>({onSubmit:(t,n,s)=>{e(Object(a("M+5/").v)(t,n,s))},onCancel:()=>{e(Object(a("M+5/").p)())}})))(Ye);const Xe=T.default.div.withConfig({
componentId:"z43n84-0"})`display:flex;align-items:center;flex-shrink:0;padding:${a("ZpU/").e/2}px 0 ${a("ZpU/").e}px;box-sizing:border-box;`,Je=T.default.span.withConfig({componentId:"z43n84-1"})`margin:0 0 5px 5px;color:${"#6B778C"};`,ze=()=>{const e=Object(a("ovRs").h)(),[{value:t}]=Object(a("+MRk").a)({issueKey:e});return c.a.createElement(Xe,null,c.a.createElement(a("Yto1").a,{content:(null==t?void 0:t.name)||"",position:"left"},c.a.createElement(a("Opng").a,{alt:(null==t?void 0:t.name)||"",url:null==t?void 0:t.iconUrl})),c.a.createElement(Je,null,e))};ze.displayName="Header";var Qe=ze,et=a("hJd6");const tt=({metrics:e})=>(Object(l.useEffect)((()=>{Object(a("CBUp").c)(),window.addEventListener("load",(()=>{e.onMarkIssueOnPageLoadEvent()}))})),null),nt=({metrics:e,isInitialRender:t,endOfCriticalPath:n,hasErrored:s,isComplete:i,lastTransitionStartTime:o})=>(Object(a("d90y").isNewExperimentalMetricEnabled)()&&Object(l.useEffect)((()=>{Object(a("CBUp").l)(),
window.addEventListener("load",(()=>{e.onMarkIssueOnPageLoadEvent()}))})),Object(l.useEffect)((()=>{!s&&t&&Object(a("CBUp").b)()&&i&&(e.onInteractive({lastTransitionStartTime:o}),n&&n())}),[]),null);class at extends l.Component{constructor(...e){super(...e),this.hasErrored=!1,this.endOfCriticalPath=void 0,this.errorOnCriticalPath=void 0,this.hasSubmittedMetrics=!1,this.spaState=void 0}componentDidMount(){const{isPreview:e,isComplete:t,metrics:n,lastTransitionStartTime:s,isInitialRender:i}=this.props;this.hasErrored||((e||t)&&n.onPreviewRendered({isInitialRender:i,lastTransitionStartTime:s}),t&&(Object(a("d90y").isTTIAccuracyChangeImplemented)()?(Object(a("CBUp").h)(),i&&Object(a("CBUp").b)()||(n.onInteractive({lastTransitionStartTime:s}),this.endOfCriticalPath&&this.endOfCriticalPath())):(n.onInteractive({lastTransitionStartTime:s}),this.endOfCriticalPath&&this.endOfCriticalPath())))}componentDidUpdate(e){
const{error:t,metrics:n,isLoading:s,lastTransitionStartTime:i,issueKey:o,isInitialRender:r}=this.props;t&&(this.hasErrored=!0,this.errorOnCriticalPath&&this.errorOnCriticalPath()),this.resetSubmissionStateIfNewView(s,e,o),this.hasErrored||((this.isPreviewModeAfterBentoSpaTransition(e)||this.didBentoMoveOutOfLoadingState(e))&&n.onPreviewRendered({isInitialRender:r,lastTransitionStartTime:i}),(this.didJustMoveToComplete(e)||this.isFirstLoadOfRecentIssue(e))&&(Object(a("d90y").isTTIAccuracyChangeImplemented)()&&Object(a("CBUp").h)(),n.onInteractive({lastTransitionStartTime:i}),this.endOfCriticalPath&&this.endOfCriticalPath()))}isFirstLoadOfRecentIssue(e){return this.props.issueKey!==e.issueKey&&this.props.isComplete}resetSubmissionStateIfNewView(e,t,n){(e&&!t.isLoading||n!==t.issueKey)&&(this.hasSubmittedMetrics=!1)}didBentoMoveOutOfLoadingState(e){const{isPreview:t,isComplete:n}=this.props;return e.isLoading&&(t||n)}isPreviewModeAfterBentoSpaTransition(e){
const{isPreview:t,issueKey:n}=this.props;return e.issueKey!==n&&t}didJustMoveToComplete(e){const{isComplete:t}=this.props;return t&&!e.isComplete}render(){return c.a.createElement(c.a.Fragment,null,!Object(a("d90y").isTTIAccuracyChangeImplemented)()&&Object(a("d90y").isNewExperimentalMetricEnabled)()&&c.a.createElement(tt,{metrics:this.props.metrics}),Object(a("d90y").isTTIAccuracyChangeImplemented)()&&c.a.createElement(nt,{metrics:this.props.metrics,isInitialRender:this.props.isInitialRender,endOfCriticalPath:this.endOfCriticalPath,hasErrored:this.hasErrored,isPreview:this.props.isPreview,isComplete:this.props.isComplete,lastTransitionStartTime:this.props.lastTransitionStartTime}),c.a.createElement(a("UJ3k").b,null,((e,{setAppReady:t,setAppErrorReady:n})=>(this.endOfCriticalPath=t,this.errorOnCriticalPath=n,this.spaState=e,null))))}}at.displayName="BentoMetrics";var st=at;const it=e=>null!=e?e-performance.timing.navigationStart:e,ot=e=>{
const[{isTransitionCurrentlyAllowed:t}]=Object(a("KAh5").b)(),[{isInitialRender:n,lastTransitionStartTime:s}]=Object(a("EJ2t").b)();return c.a.createElement(et.f,null,(({route:i})=>c.a.createElement(st,j()({},e,{bentoTransitionCheck:t,isInitialRender:n,lastTransitionStartTime:it(s),hasBentoEnabledCheck:!!i&&Object(a("JOmS").a)(i)}))))};ot.displayName="BentoMetricsWithSpaTimingInfoOld";const rt=e=>{const[{isInitialRender:t,lastTransitionStartTime:n}]=Object(a("EJ2t").b)();return c.a.createElement(st,j()({},e,{isInitialRender:t,lastTransitionStartTime:it(n)}))};rt.displayName="BentoMetricsWithSpaTimingInfoNew";var lt=Object(a("5WHm").a)(a("d90y").isMagmaRenderCostOptimisationEnabled,rt,ot);const ct=Object(S.defineMessages)({upload:{id:"issue.attachment-dropzone-message",defaultMessage:"Drop file anywhere to upload to this issue"},uploadImage:{id:"issue.attachment-dropzone-message-image",defaultMessage:"Upload Attachment"}}),dt=T.default.div.withConfig({componentId:"sc-1ixwt20-0"
})`display:flex;align-items:center;position:absolute;width:290px;height:64px;bottom:${8*a("ZpU/").e}px;z-index:101;background:#ffffff;box-shadow:0px 3px 5px rgba(9,30,66,0.2),0px 0px 1px rgba(9,30,66,0.31);border-radius:3px;right:0;left:0;margin-left:auto;margin-right:auto;${Object(a("SEwL").b)()};`,ut=T.default.div.withConfig({componentId:"sc-1ixwt20-1"})`width:184px;font-size:16px;font-weight:500;line-height:20px;color:#172b4d;`,pt=T.default.img.withConfig({componentId:"sc-1ixwt20-2"})`height:51px;padding:0 20px;`,mt=()=>{const{formatMessage:e}=Object(a("NRyt").d)();return c.a.createElement(a("MJMf").a,{appear:!0},c.a.createElement(a("Auoo").a,{enterFrom:"bottom",fade:"inout",duration:800},(t=>c.a.createElement(dt,t,c.a.createElement(pt,{src:a.n(a("H+Rz")).a,alt:e(ct.uploadImage)}),c.a.createElement(ut,null,e(ct.upload))))))};mt.displayName="DropzoneOverlay";var bt=mt,gt=a("J2m7"),ft=a.n(gt);const ht=T.default.span.withConfig({componentId:"sc-4uakfa-0"
})`color:${e=>e.color};`,Et=c.a.createElement(ht,{size:"medium",color:a("5kDX").a.R300},c.a.createElement(a.n(a("Gnel")).a,{label:""})),yt=c.a.createElement(ht,{size:"medium",color:a("5kDX").a.G300},c.a.createElement(a.n(a("2MZH")).a,{label:""})),Ot={[a("AmUS").i]:{messages:Object(S.defineMessages)({title:{id:"issue.generic-server-error-when-adding-comment-title",defaultMessage:"Comment could not be updated"},description:{id:"issue.generic-server-error-when-adding-comment-description",defaultMessage:"There was a connection problem and your comment was not successfully updated. Check your network before trying to update or add another comment."}}),icon:Et,type:"error"},[a("AmUS").j]:{messages:Object(S.defineMessages)({title:{id:"issue.server-validation-error-when-adding-comment-title",defaultMessage:"We couldn't save your comment"},description:{id:"issue.server-validation-error-when-adding-comment-description",
defaultMessage:"It might be empty or have invalid formatting. If you copy-pasted, try removing the formatting and adding it directly in the editor."}}),icon:Et,type:"error"},[a("AmUS").k]:{messages:Object(S.defineMessages)({title:{id:"issue.content-exceeded-error-when-adding-comment-title",defaultMessage:"We couldn't save your comment"},description:{id:"issue.content-exceeded-error-when-adding-comment-description",defaultMessage:"The comment is too long. Try reducing its length, splitting it, or attaching a file to the issue."}}),icon:Et,type:"error"},[a("AmUS").l]:{messages:Object(S.defineMessages)({title:{id:"issue.server-error-when-deleting-comment-title",defaultMessage:"Comment could not be deleted"},description:{id:"issue.server-error-when-deleting-comment-description",defaultMessage:"There was a connection problem and the comment was not successfully deleted. Try checking your network connection."}}),icon:Et,type:"error"},[a("AmUS").t]:{messages:Object(S.defineMessages)({title:{
id:"issue.error-when-retrieving-editor-value-title",defaultMessage:"The text editor failed"},description:{id:"issue.error-when-retrieving-editor-value-description",defaultMessage:"Retry your last action, or refresh the page."}}),icon:Et,type:"error"},[a("AmUS").D]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-confirming-rich-text-field-value-title",defaultMessage:"We couldn't save your content"},description:{id:"issue.error-when-confirming-rich-text-field-value-description",defaultMessage:"It may contain formatting we don\u2019t recognize. Try removing the formatting before saving."}}),icon:Et,type:"error"},[a("AmUS").E]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-confirming-rich-text-field-value-title",defaultMessage:"We couldn't save your content"},description:{id:"issue.error-when-confirming-rich-text-field-value-description-maximum-length-exceeded",
defaultMessage:"It's too long for the field. Try attaching a file or page to the issue, or adding part of the content as comments."}}),icon:Et,type:"error"},[a("AmUS").F]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-saving-empty-required-rich-text-field-title",defaultMessage:"We couldn't save your content"},description:{id:"issue.error-when-saving-empty-required-rich-text-field",defaultMessage:"This field is required and cannot be empty."}}),icon:Et,type:"error"},[a("AmUS").d]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-adding-attachment-title",defaultMessage:"We couldn't save your attachment"},description:{id:"issue.error-when-adding-attachment-description",defaultMessage:"Reload the issue then try adding it again."}}),icon:Et,type:"error"},[a("AmUS").p]:{messages:Object(S.defineMessages)({title:{id:"issue.server-error-when-deleting-issue-link-title",defaultMessage:"We couldn't remove the issue link"},description:{
id:"issue.server-error-when-deleting-issue-link-description",defaultMessage:"Try reloading the page and removing the issue link again."}}),icon:Et,type:"error"},[a("AmUS").e]:{messages:Object(S.defineMessages)({title:{id:"issue.server-error-when-deleting-attachment-title",defaultMessage:"Attachment could not be deleted"},description:{id:"issue.server-error-when-deleting-attachment-description",defaultMessage:"There was a connection problem and the attachment was not successfully deleted. Try checking your network connection."}}),icon:Et,type:"error"},[a("AmUS").M]:{messages:Object(S.defineMessages)({title:{id:"issue.server-error-when-toggle-watch-title",defaultMessage:"We couldn't update your watch status"},description:{id:"issue.server-error-when-toggle-watch-description",defaultMessage:"Check your connection and try clicking watch again."}}),icon:Et,type:"error"},[a("AmUS").y]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-fetching-watchers-title",
defaultMessage:"We couldn't load the watchers list"},description:{id:"issue.error-when-fetching-watchers-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").I]:{messages:Object(S.defineMessages)({title:{id:"issue.start-watching-success-title",defaultMessage:"You're watching this issue"},description:{id:"issue.start-watching-success-description",defaultMessage:"We'll notify you when there's activity on it."}}),icon:yt,type:"success"},[a("AmUS").J]:{messages:Object(S.defineMessages)({title:{id:"issue.stop-watching-success-title",defaultMessage:"You stopped watching this issue"},description:{id:"issue.stop-watching-success-description",defaultMessage:"We won't notify you about activity on it."}}),icon:yt,type:"success"},[a("AmUS").C]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-removing-watcher-title",defaultMessage:"We couldn't remove that watcher"},description:{
id:"issue.error-when-removing-watcher-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").a]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-adding-watcher-title",defaultMessage:"We couldn't add that watcher"},description:{id:"issue.error-when-adding-watcher-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").K]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-reordering-subtask",defaultMessage:"We couldn't reorder those subtasks"},description:{id:"issue.error-when-reordering-subtask-description",defaultMessage:"Wait a few moments, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").A]:{messages:Object(S.defineMessages)({title:{id:"issue.server-error-when-logging-work-title",defaultMessage:"We couldn't add your time spent"},description:{id:"issue.server-error-when-logging-work-description",
defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").c]:{messages:Object(S.defineMessages)({title:{id:"issue.assign-to-me-flag-title",defaultMessage:"Successfully assigned to you"},description:{id:"issue.assign-to-me-flag-description",defaultMessage:"You're now the assignee for {issueKey}."}}),icon:yt,type:"success",shouldAutoDismiss:!0},[a("AmUS").m]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-creating-child-issue-title",defaultMessage:"We couldn't create the child issue"},description:{id:"issue.error-when-creating-child-issue-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").z]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-linking-child-issue-title",defaultMessage:"We couldn't link the child issue"},description:{id:"issue.error-when-linking-child-issue-description",
defaultMessage:"The issue was created but the linking failed. Head over to your board and try again."}}),icon:Et,type:"error"},[a("AmUS").g]:{messages:Object(S.defineMessages)({title:{id:"change.issue.type.success.title",defaultMessage:"Issue type changed to {destType}"},description:{id:"change.issue.type.success.description",defaultMessage:"Issue type changed"}}),icon:yt,type:"success",shouldAutoDismiss:!1},[a("AmUS").f]:{messages:Object(S.defineMessages)({title:{id:"change.issue.type.error.title",defaultMessage:"Error changing issue type"},description:{id:"change.issue.type.error.description",defaultMessage:"There was an error changing the issue type. Please try again."}}),icon:Et,type:"error",shouldAutoDismiss:!1},[a("AmUS").o]:{messages:Object(S.defineMessages)({title:{id:"issue.error-when-deleting-issue-title",defaultMessage:"We couldn't delete {issueKey}"},description:{id:"issue.error-when-deleting-issue-description",
defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error",actions:[{messages:Object(S.defineMessages)({content:{id:"issue.error-when-deleting-issue-call-to-action",defaultMessage:"Try again"}}),onClick:({closeFlag:e,retryIssueDelete:t,deleteFailureIssueKey:n})=>{t&&null!=n&&""!==n&&t(n),e()}}]},[a("AmUS").w]:{messages:Object(S.defineMessages)({title:{id:"issue.activity.worklog.flags.edit-success-title",defaultMessage:"Work log entry updated"}}),icon:yt,type:"success",shouldAutoDismiss:!0},[a("AmUS").s]:{messages:Object(S.defineMessages)({title:{id:"issue.activity.worklog.flags.delete-success-title",defaultMessage:"Work log entry deleted"}}),icon:yt,type:"success",shouldAutoDismiss:!0},[a("AmUS").h]:{messages:Object(S.defineMessages)({title:{id:"issue.clickthrough-banner.flags.dismissed.title",defaultMessage:"Banner be gone!"},description:{id:"issue.clickthrough-banner.flags.dismissed.description",
defaultMessage:"You can still open the old view through the \u2022\u2022\u2022 menu on an issue."}}),icon:yt,type:"success",shouldAutoDismiss:!0},[a("AmUS").b]:{messages:Object(S.defineMessages)({title:{id:"issue.activity.worklog.flags.add-failure-title",defaultMessage:"We couldn't save your changes"},description:{id:"issue.activity.worklog.flags.add-failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").L]:{messages:Object(S.defineMessages)({title:{id:"issue.activity.worklog.flags.update-time-remaining-failure-title",defaultMessage:"We couldn't save your edit"},description:{id:"issue.activity.worklog.flags.update-time-remaining-failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").v]:{messages:Object(S.defineMessages)({title:{id:"issue.activity.worklog.flags.edit-failure-title",defaultMessage:"We couldn't save your edit"},description:{
id:"issue.activity.worklog.flags.failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").r]:{messages:Object(S.defineMessages)({title:{id:"issue.activity.worklog.flags.delete-failure-title",defaultMessage:"We couldn't delete the work log entry"},description:{id:"issue.activity.worklog.flags.failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").n]:{messages:Object(S.defineMessages)({title:{id:"issue.confluence-pages.delete-failure-title",defaultMessage:"We couldn\u2019t remove the page link"},description:{id:"issue.confluence-pages.delete-failure-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"error"},[a("AmUS").G]:{messages:Object(S.defineMessages)({title:{id:"issue.approval.action.save-error-title",defaultMessage:"We couldn\u2019t save your approval response"},description:{
id:"issue.approval.action.save-error-description",defaultMessage:"Give it a few seconds, then try again."}}),icon:Et,type:"error",shouldAutoDismiss:!0},[a("AmUS").H]:{messages:Object(S.defineMessages)({title:{id:"issue.approval.action.save-success-title",defaultMessage:"We've saved your response."}}),icon:yt,type:"success",shouldAutoDismiss:!0},[a("AmUS").u]:{messages:Object(S.defineMessages)({title:{id:"issue.color.action.change-color-title",defaultMessage:"We couldn\u2019t change the epic color"},description:{id:"issue.color.action.change-color-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,type:"success",shouldAutoDismiss:!0},[a("AmUS").x]:{messages:Object(S.defineMessages)({title:{id:"issue.link.jira-app-link-fetch-error-title",defaultMessage:"We couldn\u2019t fetch remote Jira application links"},description:{id:"issue.link.jira-app-link-fetch-error-description",defaultMessage:"Check your connection, then give it another try."}}),icon:Et,
type:"error",shouldAutoDismiss:!0},[a("AmUS").B]:{messages:Object(S.defineMessages)({title:{id:"issue.link.jira-remote-link-server-error-title",defaultMessage:"We couldn't link the issue to {remoteIssueKey}."},description:{id:"issue.link.jira-remote-link-server-error-description",defaultMessage:"Reason: {i18nServerErrorMessage}"}}),icon:Et,type:"error",shouldAutoDismiss:!0}};class vt extends l.Component{constructor(...e){super(...e),this.onFlagDismissed=e=>{const{flags:t,onFlagDismissed:n,fireAnalyticsEvent:a}=this.props,s=ft()(t,{id:e});if(s){const e=Ot[s.type];e.onDismissed&&e.onDismissed({fireAnalyticsEvent:a})}n(e)}}render(){const{onFlagDismissed:e,flags:t,retryIssueDelete:n,fireAnalyticsEvent:s,deleteFailureIssueKey:i,FlagServiceSubscriber:o}=this.props;return c.a.createElement(o,null,(({showFlag:o})=>t.map((t=>{
const l=Ot[t.type],d=t.titleI18nValues?[l.messages.title,t.titleI18nValues]:l.messages.title,u=t.descriptionI18nValues&&l.messages.description?[l.messages.description,t.descriptionI18nValues]:l.messages.description,p=(l.actions||[]).map((({messages:a,onClick:o})=>({content:a.content,onClick:()=>o({closeFlag:()=>e(t.id),retryIssueDelete:n,deleteFailureIssueKey:i,fireAnalyticsEvent:s})}))),m=r()(r()({title:d},u&&{description:u}),{},{type:l.type,actions:p,isAutoDismiss:l.shouldAutoDismiss});return c.a.createElement(a("SVYO").a,{key:t.id,args:[m],op:o})}))))}}vt.displayName="UnsafeFlags",vt.displayName="Flags";var jt=De()(Object(a("BxXc").a)((e=>({fireAnalyticsEvent:(t,n)=>e(t,n)}))),Object(a("QURJ").a)("deleteIssueRetry",{retryIssueDelete:"deleteIssueRetry"}),Object(d.connect)((e=>({flags:Object(a("/LFc").j)(e),deleteFailureIssueKey:Object(a("4dgq").w)(e),FlagServiceSubscriber:a("nWQD").a})),(e=>({onFlagDismissed:t=>e((e=>({type:"DISMISS_FLAG",payload:e}))(t)),retryIssueDelete:(t,n)=>{
e(Object(a("zhmH").c)(t,n))}}))),Object(a("YNh8").a)())(vt),It=a("ga5A");const Ct=["onUploadStart","onUploadEnd","onUploadError","onGeneralError","uploadContext","eventHandlers","config","onDragEnter","onDragLeave","onDrop"];var St=e=>De()([Object(d.connect)((e=>({uploadContext:Object(a("gjKp").a)(e).uploadContext})),(e=>({onUploadStart:t=>e(Object(a("4Rwi").c)(t)),onUploadEnd:t=>e(Object(a("4Rwi").d)(t)),onUploadError:t=>e(Object(a("4Rwi").e)(t)),onGeneralError:t=>e(Object(a("4Rwi").f)(t)),requestUploadToken:()=>e(Object(a("h2xQ").c)())})))])((e=>t=>{const{onUploadStart:n,onUploadEnd:s,onUploadError:i,onGeneralError:o,uploadContext:d,eventHandlers:u,config:p,onDragEnter:m,onDragLeave:b,onDrop:g}=t,f=C()(t,Ct),h=Object(l.useRef)([]),E=Object(l.useCallback)((()=>{if(!d)return!1;const{tokenIssueTimestamp:e,tokenLifespanInMs:t}=d;return e+t>Date.now()}),[d]),y=Object(l.useCallback)((([e,t])=>{if(!d||!E())return void t();const{serviceHost:n,clientId:a,token:s}=d;e({clientId:a,token:s,
baseUrl:n})}),[E,d]),O=Object(l.useCallback)((()=>{h.current.forEach(y),h.current=[]}),[y]),v={authProvider:()=>new Promise(((e,n)=>{E()?y([e,n]):(t.requestUploadToken(),h.current=[...h.current,[e,n]])}))},I=r()(r()({uploadParams:{collection:null==d?void 0:d.collection}},p),{},{multiple:!0}),S=Object(a("ovRs").h)(),[,{addNewAttachments:k}]=Object(a("hWW6").b)(),w=u?u["upload-error"]:e=>{const{error:t}=e;["upload_fail","object_create_fail"].includes(t.name)?i(t):o(t)},T=u?u["uploads-start"]:e=>{const t=Object(a("d90y").isIssueAttachmentDateFixEnabled)()?Math.floor(Date.now()/1e3):Date.now(),{files:s}=e;s.forEach((e=>{n({id:`${e.id}`,createdDate:t})}));const i=s.map((e=>({filename:e.name,filesize:e.size,mimetype:e.type,mediaApiFileId:e.id,createdDate:t})));k(S,i)},D=u&&u["upload-end"]?u["upload-end"]:e=>{const{file:t}=e;s({id:`${t.id}`})},R=u&&u["upload-preview-update"];return Object(l.useEffect)((()=>{O()}),[O,d]),d?c.a.createElement(e,j()({mediaClientConfig:v,config:I,onUploadsStart:T,
onError:w,onEnd:D,onPreviewUpdate:R,onDragEnter:()=>{m()},onDragLeave:()=>{b()},onDrop:()=>{g()}},f)):null})(e));var kt=St(It.a),wt=Object(d.connect)((e=>({isOpen:Object(a("Rlz6").a)(e)})),(e=>({onClose:()=>e(Object(a("cjK0").a)())})))(kt);const Tt=e=>{const{eventHandlers:t}=e;return c.a.createElement(wt,{eventHandlers:t})};Tt.displayName="PopupAttachmentPicker";var Dt=Tt,Rt=a("xaJk"),Lt=a.n(Rt),Mt=a("D1y2"),At=a.n(Mt),_t=a("MJIl"),Nt=a.n(_t);const xt="issue.issue-base.content.attachment.picker.servicedesk";class Ut extends l.Component{constructor(...e){super(...e),this.onUploadsStart=({files:e})=>{this.props.setCommentAttachmentInProgress(!0),this.commentAttachments=e.map((e=>({file:e,isUploadFinished:!1})))},this.onUploadFinished=({file:e})=>{this.injectAttachmentsToCommentEditor(this.commentAttachments),this.markAttachmentAsUploadFinished(e.id),Object(a("d90y").isIssueDetailsSloCommentsEnabled)()&&Object(a("/dKO").a)(Object(a("pixR").a)({wasSuccessful:!0,action:"ATTACH",
analyticsSource:"servicedeskAttachmentPicker",projectType:this.props.projectType}))},this.onUploadError=({file:e,fileId:t})=>{a("RDfz").a.safeErrorWithoutCustomerData(xt,"Failed to upload an attachment.",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue"})),Object(a("d90y").is2afErrorCleanupGroup2Enabled)()?this.markAttachmentAsUploadFinished(t):this.markAttachmentAsUploadFinished(e.id),Object(a("d90y").isIssueDetailsSloCommentsEnabled)()&&Object(a("/dKO").a)(Object(a("pixR").a)({wasSuccessful:!1,action:"ATTACH",analyticsSource:"servicedeskAttachmentPicker",projectType:this.props.projectType}))},this.getAttachmentsDocNode=(e,t)=>{const n=this.separateImageAndNonImageAttachments(e),s=this.getMediaSingleNodes(n.images,t),i=n.nonImages.length>0?this.getMediaGroupNode(n.nonImages,t):null;return i?Object(a("tur2").a)(i,...s,Object(a("KENz").a)()):Object(a("tur2").a)(...s,Object(a("KENz").a)())},this.getMediaSingleNodes=(e,t)=>e.map((e=>this.getMediaSingleNode(e,t))),
this.getMediaSingleNode=(e,t)=>{const n=this.getMediaNode(e,200,200,t);return Object(a("A93U").a)({layout:"center"})(n)},this.getMediaGroupNode=(e,t)=>Object(a("tiAy").a)(...e.map((e=>this.getMediaNode(e,null,null,t)))),this.getMediaNode=({file:e},t,n,s)=>Object(a("jC4X").a)({id:e.id,collection:s,type:"file",name:e.name,size:e.size,width:t,height:n,__key:e.id,__fileName:e.name,__fileSize:e.size,__fileMimeType:e.type,__displayType:null}),this.markAttachmentAsUploadFinished=e=>{At()(ft()(this.commentAttachments,(t=>t.file.id===e)),"isUploadFinished",!0),Nt()(this.commentAttachments,{isUploadFinished:!1})||(this.props.setCommentAttachmentInProgress(!1),this.commentAttachments=[])},this.commentAttachments=void 0,this.separateImageAndNonImageAttachments=e=>Lt()(e,((e,t)=>(this.isImageAttachment(t.file.type)?e.images.push(t):e.nonImages.push(t),e)),{images:[],nonImages:[]}),this.injectAttachmentsToCommentEditor=e=>{const{uploadContext:t}=this.props
;if(!t)return void a("RDfz").a.safeErrorWithoutCustomerData(xt,"Failed to upload attachments. Upload context not available.",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue"}));const n=this.getAttachmentsDocNode(e,t.collection);this.props.onEditCommentUpdate(n)},this.isImageAttachment=e=>!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1),this.eventHandlers={"uploads-start":this.onUploadsStart,"upload-end":this.onUploadFinished,"upload-error":this.onUploadError}}render(){const{render:e}=this.props;return e(this.eventHandlers)}}Ut.displayName="EventHandlersProvider";var Ft=De()([Object(d.connect)((e=>{var t;return{uploadContext:Object(a("gjKp").a)(e).uploadContext,projectType:Object(a("d90y").isIssueDetailsSloCommentsEnabled)()?null===(t=e.entities.project)||void 0===t?void 0:t.projectType:void 0}}),(e=>({onEditCommentUpdate:t=>{e(Object(a("Rc4V").d)("NEW_OPTIMISTIC_COMMENT",!0)),e(Object(a("Rc4V").l)("NEW_OPTIMISTIC_COMMENT",t))},
setCommentAttachmentInProgress:t=>e(Object(a("Rc4V").E)(t))})))])(Ut),Pt=()=>c.a.createElement(Ft,{render:e=>c.a.createElement(Dt,{eventHandlers:e})}),Vt=a("peh1");const Kt=Object(Vt.createSelector)(a("KSj7").L,a("ejT3").z,a("Rlz6").a,Object(a("KSj7").H)("timetracking"),a("gnYg").e,((e,t,n,a,s)=>!(e||t||n||a||"EDIT_MODAL"===s))),$t=["isEnabled"],Wt=St(It.b),Bt=e=>{let{isEnabled:t}=e,n=C()(e,$t);return c.a.createElement(a("jt4F").a,null,(e=>t&&0===e?c.a.createElement(Wt,n):null))};Bt.displayName="CommonClipboardMediaPicker";var qt=De()([Object(d.connect)((e=>({isEnabled:Kt(e)})),{})])(Bt),Ht=()=>c.a.createElement(Ft,{render:e=>c.a.createElement(qt,{eventHandlers:e})});const Gt=["isEnabled"],Yt=St(It.c);var Zt=De()([Object(d.connect)((e=>({isEnabled:Kt(e)})),{})])((e=>{const{isEnabled:t}=e,n=C()(e,Gt);return t?c.a.createElement(Yt,n):null}));class Xt extends l.Component{getConfig(){return{container:this.props.container}}render(){return c.a.createElement(Ft,{
render:e=>c.a.createElement(Zt,{config:this.getConfig(),onDragEnter:this.props.onDragEnter,onDragLeave:this.props.onDragLeave,onDrop:this.props.onDrop,eventHandlers:e})})}}Xt.displayName="ServiceDeskDropzonePicker";class Jt extends l.Component{getConfig(){return{container:this.props.container}}render(){return c.a.createElement(Zt,{config:this.getConfig(),onDragEnter:this.props.onDragEnter,onDragLeave:this.props.onDragLeave,onDrop:this.props.onDrop})}}Jt.displayName="DropzoneMediaPicker";class zt extends l.Component{constructor(e){super(e),this.didMount=!1,this.state={noErrorsAfterTimeout:!1,caughtError:!1}}componentDidMount(){this.props.isReady&&setTimeout((()=>{this.setState({noErrorsAfterTimeout:!0})}),1e3),Object(a("d90y").isDragAndDragBrokenOnTransitionEnabled)()&&(this.didMount=!0)}shouldComponentUpdate(e,t){if(t.caughtError)return!0;if(!this.state.noErrorsAfterTimeout&&t.noErrorsAfterTimeout){
const{experience:e,analyticsSource:t}=this.props,{application:n,edition:s}=this.getApplicationAndEdition();return Object(a("/dKO").a)({experience:e,wasExperienceSuccesful:!0,analyticsSource:t,application:n,edition:s}),!1}return!!(Object(a("d90y").isDragAndDragBrokenOnTransitionEnabled)()?!this.props.isReady&&e.isReady||this.didMount:!this.props.isReady&&e.isReady)&&(setTimeout((()=>{this.setState({noErrorsAfterTimeout:!0})}),1e3),Object(a("d90y").isDragAndDragBrokenOnTransitionEnabled)()&&(this.didMount=!1),!0)}componentDidCatch(e){const{experience:t,analyticsSource:n}=this.props,{application:s,edition:i}=this.getApplicationAndEdition();Object(a("/dKO").a)({experience:t,wasExperienceSuccesful:!1,analyticsSource:n,application:s,edition:i,additionalAttributes:{errorMessage:e.message||"unknown"}}),this.setState({caughtError:!0})}getApplicationAndEdition(){const{projectType:e}=this.props;if(null==e)return{application:null,edition:null}
;const t=Object(a("YXYM").f)(e),n=a("S57X").h&&Object(a("S57X").h)(),s=n&&n.appEditions;return{application:t,edition:s?Object(a("JMkI").f)(t,s):null}}render(){const{caughtError:e}=this.state;return e?null:this.props.children}}zt.displayName="AddAttachmentFrontendSlaTracker";class Qt extends l.Component{constructor(...e){super(...e),this.fireAnalytics=()=>{const{glances:e,contentPanels:t,activityPanels:n,operations:a,ecosystemCustomFieldIds:s}=this.props;this.props.ecosystemLoadedAnalytics(e,t,n,a,s.length)}}componentDidMount(){this.fireAnalytics()}componentDidUpdate(){this.fireAnalytics()}render(){return null}}Qt.displayName="EcosystemAnalyticsView";var en=De()(Object(a("BxXc").a)((e=>({ecosystemLoadedAnalytics:(t,n,s,i,o)=>e("addons-loaded",Object(a("riXy").e)(t,n,s,i,o))}))),Object(d.connect)((e=>({glances:Object(a("mIpc").i)(e),contentPanels:Object(a("mIpc").g)(e),activityPanels:Object(a("mIpc").a)(e),operations:Object(a("mIpc").j)(e),ecosystemCustomFieldIds:Object(a("7/nq").b)(e)
})),{}),Object(a("YNh8").a)())(Qt);const tn=e=>{const{appKey:t,moduleKey:n,options:s,appName:i,refreshedOn:o,location:r}=e,l=o?`connect-iFrame-${t}-${n}-${o}`:`connect-iFrame-${t}-${n}`;return c.a.createElement(a("hCQZ").a,{key:l,appKey:t,moduleKey:n,options:s,appName:i,location:r})};tn.displayName="EcosystemModuleBase",tn.defaultProps={refreshedOn:0};const nn=e=>c.a.createElement(tn,e);nn.displayName="EcosystemModuleBaseWithoutRefresh";const an=Object(a("YNh8").a)()(nn);var sn=Object(a("v5q+").a)([Object(d.connect)((e=>({refreshedOn:Object(a("/LFc").e)(e)})),{})])(tn);const on=T.default.div.withConfig({componentId:"ipvrcf-0"})`display:none;`;class rn extends l.Component{constructor(...e){super(...e),this.state={connectHost:null}}componentDidMount(){Object(a("c1BK").b)((e=>this.setState({connectHost:e})))}render(){const{connectHost:e}=this.state,{scripts:t}=this.props;return e?c.a.createElement(on,null,t.map((({appKey:e,moduleKey:t,options:n,shouldReloadOnRefresh:a})=>{
const s=a?sn:an,i=`${e}-${t}`;return c.a.createElement(s,{key:i,appKey:e,moduleKey:t,options:n,appName:i,location:"issueViewBackgroundScript"})}))):null}}rn.displayName="EcosystemBackgroundScriptsView";var ln=Object(a("v5q+").a)([Object(d.connect)((e=>({scripts:Object(a("mIpc").h)(e)})),{})])(rn);const cn=T.default.div.withConfig({componentId:"xhpzxv-0"})`text-align:center;flex-direction:column;color:${a("5kDX").a.N800};display:flex;justify-content:center;align-items:center;${()=>T.css`padding-top:${8*a("ZpU/").e}px;${a("pbdj").e} &{padding-bottom:${8*a("ZpU/").e}px;padding-top:0;}`}`,dn=T.default.h2.withConfig({componentId:"xhpzxv-1"})`font-size:20px;font-weight:bold;margin-top:${1.5*a("ZpU/").e}px;margin-bottom:${1.5*a("ZpU/").e}px;max-width:100%;`,un=T.default.p.withConfig({componentId:"xhpzxv-2"})`max-width:100%;`,pn=e=>c.a.createElement(cn,null,e.image,c.a.createElement(dn,null,e.header),c.a.createElement(un,null,e.description),e.children);pn.displayName="ErrorDisplay",
pn.defaultProps={description:void 0,children:null};var mn=pn;const bn=Object(S.defineMessages)({authErrorHeader:{id:"issue.text-for-header-in-authentication-error",defaultMessage:"Log in to Jira to see this issue"},authBtn:{id:"issue.text-for-login-button-in-authentication-error",defaultMessage:"Log in"}}),gn=T.default.img.withConfig({componentId:"sc-170rcje-0"})`width:160px;margin-bottom:14px;`,fn=e=>{const t=Object(a("NRyt").d)();return c.a.createElement(mn,{header:t.formatMessage(bn.authErrorHeader),image:c.a.createElement(gn,{src:a.n(a("kJe6")).a,alt:""})},c.a.createElement(a("Xuhx").a,{externalId:"issue.login",appearance:"primary",onClick:e.login},t.formatMessage(bn.authBtn)))};fn.displayName="AuthenticationError";var hn=Object(d.connect)(null,(e=>({login:()=>e(Object(a("5Gpo").a)())})))(fn);const En=Object(S.defineMessages)({permissionErrorHeader:{id:"issue.text-for-header-in-permission-error",defaultMessage:"You don't have access to this issue"},permissionErrorDescription:{
id:"issue.text-for-description-in-permission-error",defaultMessage:"Make sure the issue exists in this project. If it does, ask a project admin for permission to see the project's issues."}}),yn=T.default.img.withConfig({componentId:"qhz123-0"})`height:100px;width:145px;`,On=()=>{const e=Object(a("NRyt").d)();return c.a.createElement(mn,{header:e.formatMessage(En.permissionErrorHeader),description:e.formatMessage(En.permissionErrorDescription),image:c.a.createElement(yn,{src:a.n(a("aIcr")).a,alt:""})})};On.displayName="HoistedComponent";var vn=On;const jn=Object(S.defineMessages)({unknownErrorHeader:{id:"issue.text-for-header-in-generic-error",defaultMessage:"We couldn't connect to that issue"},unknownErrorDescription:{id:"issue.text-for-description-in-generic-error",defaultMessage:"Make sure that this issue actually exists in that project. If it does, try again in a few minutes. If you still can't link to the issue, contact your Jira admin."}}),In=T.default.img.withConfig({
componentId:"sc-18wwhqk-0"})`height:130px;width:120px;`,Cn=()=>{const e=Object(a("NRyt").d)();return c.a.createElement(mn,{header:e.formatMessage(jn.unknownErrorHeader),description:e.formatMessage(jn.unknownErrorDescription),image:c.a.createElement(In,{src:a.n(a("zXlL")).a,alt:""})})};Cn.displayName="HoistedComponent";var Sn=Cn;const kn=()=>Object(a("/NfZ").a)()?c.a.createElement(c.a.Fragment,null,(()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(a("0LNV").a,null),c.a.createElement(a("Gjef").a,null),c.a.createElement(a("FMlw").a,null)))(),Object(a("d90y").isJsmReplacingMajorIncidentEnabled)()&&c.a.createElement(a("tre0").a,null)):null;var wn=a("Y+p1"),Tn=a.n(wn),Dn=a("Lx3f"),Rn=a.n(Dn);const Ln=(e,t=0)=>{const[n,a]=Object(l.useState)(!1),s=Object(l.useRef)(0),i=Object(l.useRef)({}),o=Object(l.useCallback)((()=>{const e=Object.values(i.current).reduce(((e,t)=>{var n;return e+(null!==(n=null==t?void 0:t.clientWidth)&&void 0!==n?n:0)}),0);return s.current<e&&(s.current=e),
s.current}),[]),r=Object(l.useCallback)((()=>{const n=o();void 0!==e&&0!==n&&a(e<=n+t)}),[e,t,o]);Object(l.useEffect)((()=>{void 0!==e&&r()}),[e,r]);return{shouldBeCompact:n,setMeasuredRef:Object(l.useCallback)((e=>t=>{i.current[e]=t}),[]),forceUpdate:r}},Mn="FORGE_ENTITY_TYPE",An="CONNECT_ENTITY_TYPE",_n=T.default.div.withConfig({componentId:"sc-1tkoj60-0"})`display:flex;`,Nn=Object(T.default)(a("gIl3").a).withConfig({componentId:"sc-1tkoj60-1"})`width:8px;`;var xn=()=>c.a.createElement(a("tCgR").a,null,c.a.createElement(a("gIl3").b,null),c.a.createElement(a("4Kfa").a,{paddingTop:0,paddingBottom:0},c.a.createElement(a("4Kfa").a,{paddingTop:32,paddingBottom:12},c.a.createElement(a("hBQX").a,{fontSize:14,lineHeight:16,intrusion:300})),c.a.createElement(_n,null,c.a.createElement(a("RfvQ").a,null),c.a.createElement(Nn,null),c.a.createElement(a("hBQX").a,{fontSize:40,lineHeight:40,intrusion:0}))))
;const Un=Object(g.h)((()=>a.e("async-jsm-activity-feed-filter").then(a.bind(null,"YFd3")).then((e=>e.ActivityFeedFilter))),{moduleId:"./src/packages/issue/issue-actions/activity-feed-filter/src/ui/index.js"}),Fn=e=>c.a.createElement(g.a,{fallback:null},c.a.createElement(Un,e));Fn.displayName="AsyncActivityFeedFilter";const Pn=()=>Object(a("D3TY").a)("issue.details.field-description",!1),Vn=["buttonStyles"],Kn=T.default.div.withConfig({componentId:"sc-150qlwp-0"})`align-self:flex-end;`,$n=Object(T.default)(a("vPcr").c).withConfig({componentId:"sc-150qlwp-1"})`margin-top:${a("ZpU/").e/2}px;`;$n.displayName="ActivityItemHeading";const Wn=T.default.div.withConfig({componentId:"sc-150qlwp-2"})`display:flex;`,Bn=e=>(t,n)=>{const s=t(n),{buttonStyles:i}=s,o=C()(s,Vn);return r()(r()({},o),{},{buttonStyles:r()(r()({},i),{},{padding:`0 ${a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px`,margin:`0 ${a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px`,
backgroundColor:e?`var(--ds-background-selected-resting, ${a("5kDX").a.N400})`:`var(--ds-background-subtleNeutral-resting, ${a("5kDX").a.N20})`,"&:hover":{backgroundColor:e?`var(--ds-background-selected-hover, ${a("5kDX").a.N400})`:`var(--ds-background-subtleNeutral-hover, ${a("5kDX").a.N30})`},"&:active":{backgroundColor:e?`var(--ds-background-selected-pressed, ${a("5kDX").a.N400})`:`var(--ds-background-subtleNeutral-pressed, ${a("5kDX").a.B50})`}})})},qn=Object(S.defineMessages)({tooltip:{id:"issue-activity-feed.activity-sorting-toggle.tooltip",defaultMessage:"Reverse sort direction"},newestFirstLabel:{id:"issue-activity-feed.activity-sorting-toggle.newest-first-label",defaultMessage:"Newest first"},oldestFirstLabel:{id:"issue-activity-feed.activity-sorting-toggle.oldest-first-label",defaultMessage:"Oldest first"}}),Hn=e=>c.a.createElement("svg",j()({},e,{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),c.a.createElement("g",{
stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("path",{d:"M6.8,4.3 C6.6,4.1 6.3,4 6,4 C5.7,4 5.4,4.1 5.2,4.3 L2.3,7.2 C1.9,7.6 1.9,8.3 2.3,8.7 C2.7,9.1 3.3,9.1 3.7,8.7 L5,7.4 L5,19.1 C5,19.6 5.4,20 6,20 C6.6,20 7,19.6 7,19.1 L7,7.4 L8.3,8.7 C8.7,9.1 9.3,9.1 9.7,8.7 C10.1,8.3 10.1,7.6 9.7,7.2 C9.04754611,6.54754611 8.5582057,6.0582057 8.23197876,5.73197876 C7.91376126,5.41376126 7.436435,4.936435 6.8,4.3 Z",id:"Path",fill:"currentColor",fillRule:"nonzero",transform:"translate(6.000000, 12.000000) rotate(180.000000) translate(-6.000000, -12.000000) "}),c.a.createElement("path",{d:"M21,5 L13,5 C12.4,5 12,5.4 12,6 C12,6.6 12.4,7 13,7 L21,7 C21.6,7 22,6.6 22,6 C22,5.4 21.6,5 21,5 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"}),c.a.createElement("path",{d:"M13,13 L18,13 C18.6,13 19,12.6 19,12 C19,11.4 18.6,11 18,11 L13,11 C12.4,11 12,11.4 12,12 C12,12.6 12.4,13 13,13 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"}),c.a.createElement("path",{
d:"M13,19 L16,19 C16.6,19 17,18.6 17,18 C17,17.4 16.6,17 16,17 L13,17 C12.4,17 12,17.4 12,18 C12,18.6 12.4,19 13,19 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"})));Hn.displayName="ArrowDownGlyph";const Gn=({label:e})=>c.a.createElement(a("UnwW").b,{size:"small",label:e,glyph:Hn});Gn.displayName="ArrowDownIcon";const Yn=e=>c.a.createElement("svg",j()({},e,{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("path",{d:"M7.8,4.3 C7.6,4.1 7.3,4 7,4 C6.7,4 6.4,4.1 6.2,4.3 L3.3,7.2 C2.9,7.6 2.9,8.3 3.3,8.7 C3.7,9.1 4.3,9.1 4.7,8.7 L6,7.4 L6,19.1 C6,19.6 6.4,20 7,20 C7.6,20 8,19.6 8,19.1 L8,7.4 L9.3,8.7 C9.7,9.1 10.3,9.1 10.7,8.7 C11.1,8.3 11.1,7.6 10.7,7.2 C10.0475461,6.54754611 9.5582057,6.0582057 9.23197876,5.73197876 C8.91376126,5.41376126 8.436435,4.936435 7.8,4.3 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"
}),c.a.createElement("path",{d:"M21,17 L13,17 C12.4,17 12,17.4 12,18 C12,18.6 12.4,19 13,19 L21,19 C21.6,19 22,18.6 22,18 C22,17.4 21.6,17 21,17 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"}),c.a.createElement("path",{d:"M13,13 L18,13 C18.6,13 19,12.6 19,12 C19,11.4 18.6,11 18,11 L13,11 C12.4,11 12,11.4 12,12 C12,12.6 12.4,13 13,13 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"}),c.a.createElement("path",{d:"M13,7 L16,7 C16.6,7 17,6.6 17,6 C17,5.4 16.6,5 16,5 L13,5 C12.4,5 12,5.4 12,6 C12,6.6 12.4,7 13,7 Z",id:"Path",fill:"currentColor",fillRule:"nonzero"})));Yn.displayName="ArrowUpGlyph";const Zn=({label:e})=>c.a.createElement(a("UnwW").b,{size:"small",label:e,glyph:Yn});Zn.displayName="ArrowUpIcon";const Xn=e=>{const{selectedSortOrder:t,onSelectSortOrder:n,isDisabled:s=!1}=e,{formatMessage:i}=Object(a("NRyt").d)(),{createAnalyticsEvent:o}=Object(a("rZ/p").a)(),r=(e=>[{key:"NEWEST_FIRST",type:"NEWEST_FIRST",name:e(qn.newestFirstLabel),icon:c.a.createElement(Gn,{
label:e(qn.newestFirstLabel)})},{key:"OLDEST_FIRST",type:"OLDEST_FIRST",name:e(qn.oldestFirstLabel),icon:c.a.createElement(Zn,{label:e(qn.newestFirstLabel)})}])(i).find((e=>e.type===t));if(!r)return a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.activity-sorting.select-sort-order",`Failed to select a sort option with selected sort of ${t}`),null;return c.a.createElement(a("HlQC").a,{sourceType:a("CU8z").g,sourceName:"activityFeedSort"},c.a.createElement(a("gV9P").a,{onMount:a("yy8q").d}),c.a.createElement(a("Yto1").a,{content:i(qn.tooltip),hideTooltipOnMouseDown:!0,position:"bottom"},c.a.createElement(a("340+").a,{appearance:"subtle",isDisabled:s,onClick:()=>{const e=o({action:"clicked",actionSubject:"button"});"NEWEST_FIRST"===t&&n("OLDEST_FIRST",e,"sortOrderItemToggled"),"OLDEST_FIRST"===t&&n("NEWEST_FIRST",e,"sortOrderItemToggled")},iconAfter:r.icon,spacing:"compact",testId:"issue-activity-feed.ui.activity-sorting-toggle.sorting-button"},r.name)))}
;Xn.displayName="ActivitySortingToggle";var Jn=Xn;const zn=({item:e,component:t})=>{const n=t;return c.a.createElement(n,null,c.a.createElement(a("hd2M").a,{extensionName:e.name,extensionEnvType:e.extension.environmentType}))};zn.displayName="ForgeIssueActivityTrigger";const Qn=({component:e,item:t,onClick:n,isSelected:s})=>{const i=e,o=Object(l.useCallback)(((e,t)=>{Object(a("cCl4").a)(),n(e,t)}),[n]);return c.a.createElement(i,{onClick:o,isSelected:!!s},c.a.createElement(a("hd2M").a,{extensionName:t.name,extensionEnvType:t.extension.environmentType}),c.a.createElement(a("W0w5").b,null))};Qn.displayName="ForgeIssueActivityView";const ea=e=>c.a.createElement(a("/Nf9").a,null,c.a.createElement(Qn,e));ea.displayName="ForgeIssueActivityItem";const ta=T.default.span.withConfig({componentId:"x0e1n1-0"})`max-width:${20*a("ZpU/").e}px;display:inline-block;line-height:normal;vertical-align:text-bottom;${a("gVzX").e};`;ta.displayName="DropdownTrigger"
;const na=Object(T.default)(a("ourr").a).withConfig({componentId:"x0e1n1-1"})`min-width:${16*a("ZpU/").e}px;`;na.displayName="DropdownItem";const aa=["buttonStyles"],sa=({children:e,onClick:t})=>c.a.createElement(oa,{onClick:t},e);sa.displayName="DropdownItemComponent";const ia=({items:e,selectedItem:t,onSelectActivityItem:n})=>{const[s,i]=Object(l.useState)(!1),o=Object(l.useMemo)((()=>"FORGE_ENTITY_TYPE"===t.type?c.a.createElement(zn,{item:t,component:ta}):c.a.createElement(ta,null,t.name)),[t]);return c.a.createElement(a("HlQC").a,{sourceType:a("CU8z").c,sourceName:"activityFeed"},c.a.createElement(a("gV9P").a,{onMount:a("yy8q").d}),c.a.createElement(a("BI20").a,{isOpen:s,onOpenChange:({isOpen:e},t)=>{i(e),Object(a("yy8q").h)(t,{isOpen:e})},trigger:o,triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",theme:(e,t)=>{const n=e(t),{buttonStyles:i}=n,o=C()(n,aa);return r()(r()({},o),{},{buttonStyles:r()(r()({},i),{},{
padding:`0 ${a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px`,margin:`0 ${a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px`,backgroundColor:s?`var(--ds-background-selected-resting, ${a("5kDX").a.N400})`:`var(--ds-background-subtleNeutral-resting, ${a("5kDX").a.N20})`,"&:hover":{backgroundColor:s?`var(--ds-background-selected-hover, ${a("5kDX").a.N400})`:`var(--ds-background-subtleNeutral-hover, ${a("5kDX").a.N30})`},"&:active":{backgroundColor:s?`var(--ds-background-selected-pressed, ${a("5kDX").a.N400})`:`var(--ds-background-subtleNeutral-pressed, ${a("5kDX").a.B50})`}})})}},position:"bottom left"},c.a.createElement(a("6IoW").a,null,e.filter((e=>e.key!==t.key)).map((e=>{const t={key:e.key,onClick:(t,a)=>n(e,a,"dropdownItemSelected")};return"FORGE_ENTITY_TYPE"===e.type?c.a.createElement(ea,j()({},t,{component:sa,item:e})):c.a.createElement(sa,t,e.name)})))))};ia.displayName="ActivityFeedDropdown";const oa=Object(a("wW5i").a)("dropdownItem",{onClick:"clicked"
})(na),ra=({children:e,onClick:t,isSelected:n,testId:s})=>c.a.createElement(a("0+Gd").a,{appearance:"subtle",spacing:"compact",isSelected:n,theme:Bn(n),onClick:t,testId:s},e);ra.displayName="ButtonComponent";const la=({items:e,selectedItem:t,onSelectActivityItem:n})=>c.a.createElement(a("HlQC").a,{sourceType:a("CU8z").g,sourceName:"activityFeedButtons"},c.a.createElement(a("gV9P").a,{onMount:e=>Object(a("yy8q").e)(e)}),e.map((e=>{const a={key:e.key,isSelected:t.key===e.key,onClick:(t,a)=>n(e,a,"buttonItemSelected")};return"FORGE_ENTITY_TYPE"===e.type?c.a.createElement(ea,j()({},a,{component:ra,item:e})):c.a.createElement(ra,j()({},a,{testId:`issue-activity-feed.ui.buttons.${e.key}`}),e.name)})));la.displayName="ActivityFeedButtons";var ca=Object(a("UCyb").a)(a("o3Xf").a,{displayName:"CommentVisibilitiesContainer"});var da=e=>t=>{const{baseUrl:n,issueKey:s,shouldFetchCommentVisibilities:i,createAnalyticsEvent:o}=t;return c.a.createElement(ca,{baseUrl:n,issueKey:s,createAnalyticsEvent:o,
scope:s},c.a.createElement(a("cyMh").a,null,((n,{fetch:a})=>c.a.createElement(e,j()({},t,{fetchCommentVisibilities:i?a:void 0})))))};const ua=Object(g.h)((()=>a.e("async-comment-item").then(a.bind(null,"5ILe"))),{moduleId:"./src/packages/issue/issue-actions/issue-comment-base/src/index.js"}),pa=e=>c.a.createElement(g.a,{fallback:c.a.createElement(c.a.Fragment,null)},c.a.createElement(ua,e));pa.displayName="IssueComment";const ma=e=>{const t=Object(a("NRyt").d)();return c.a.createElement(a("ho8o").a,{id:"comment-item",packageName:"issue",render:()=>c.a.createElement(c.a.Fragment,null)},c.a.createElement(pa,j()({},e,{intl:t})))};ma.displayName="CommentWithMonitoring";const ba=e=>c.a.createElement(a("ho8o").a,{id:"comment-item",packageName:"issue",render:()=>c.a.createElement(c.a.Fragment,null)},c.a.createElement(pa,e));ba.displayName="CommentWithMonitoringOld";const ga=e=>e.includes("NEW_OPTIMISTIC_COMMENT"),fa=(e,t)=>({baseUrl:Object(a("4dgq").f)(e),
isReactionsFeatureActive:Object(a("CWFQ").b)(e),issueAri:Object(a("/LFc").v)(e),commentAri:Object(a("CWFQ").a)(t)(e),projectType:Object(a("/LFc").G)(e),mentionProvider:Object(a("K/wP").a)(e),mediaContext:Object(a("gjKp").a)(e),contextIdentifier:Object(a("EY1J").b)(e,t),sharedAtTimestamp:Object(a("0USP").a)(e),sharedValue:Object(a("0USP").b)(e),getEncodedMention:Object(a("zlLD").a)(Object(a("4dgq").f)(e)),activityProvider:Object(a("NMw1").a)(e)}),ha=e=>({onEditorExpandedFailure:()=>{e(Object(a("jCiC").b)())},onEditorSaveFailure:()=>{e(Object(a("jCiC").c)())},onEditorClearSharedValues:()=>{e(Object(a("xlxo").a)())}});var Ea=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(a("v5q+").a)([Object(a("QURJ").a)("issueFields",{onEditSave:"updated",onDeleteConfirm:"deleted",onScrolledToPermalink:"scrolled"}),Object(a("4zF2").a)({onCopyClick:"copyCommentUrl"}),Object(d.connect)(((e,{commentId:t})=>(e,{isHighlighted:n})=>r()({jsdAuthorCanSeeRequest:Object(a("ejT3").p)(t)(e),
bodyAdf:Object(a("ejT3").j)(t)(e),bodyHtml:Object(a("ejT3").f)(t)(e),hasDraft:Object(a("UZ8N").a)(Object(a("RRLO").a)(t))(e),author:Object(a("ejT3").e)(t)(e),updateAuthor:Object(a("ejT3").r)(t)(e),createdDate:Object(a("ejT3").g)(t)(e),updatedDate:Object(a("ejT3").s)(t)(e),edited:Object(a("ejT3").h)(t)(e),isOptimistic:Object(a("ejT3").o)(t)(e),hasSaveFailed:Object(a("ejT3").q)(t)(e),canEdit:Object(a("ejT3").d)(t)(e),isEditing:Object(a("ejT3").C)(t)(e),canDelete:Object(a("ejT3").c)(t)(e),hasDeleteModal:Object(a("ejT3").m)(t)(e),visibility:Object(a("ejT3").t)(t)(e),visibilityEdited:Object(a("ejT3").k)(t)(e),isInternal:Object(a("ejT3").E)(t)(e),showReactions:Object(a("CWFQ").b)(e),shouldShowCommentVisibility:Object(a("ejT3").A)(e),shouldScrollAfterAsyncComponentsLoaded:n&&Object(a("+a7Z").a)(e),hasScrolledPermalink:Object(a("ejT3").w)(e)},fa(e,t))),((e,{commentId:t})=>r()({getOnEditClick:n=>e(Object(a("Rc4V").i)(t,n)),onEditCancel:()=>e(Object(a("Rc4V").j)(t)),
onEditUpdate:n=>e(Object(a("Rc4V").l)(t,n)),onEditPaste:n=>e(Object(a("Rc4V").w)(t,n)),onBlur:()=>e(Object(a("Rc4V").k)(t)),getOnEditSave:(n,s)=>e(Object(a("Rc4V").A)(r()({id:t},n),s)),onCommentVisibilityChange:n=>{e(Object(a("Rc4V").m)(t,n))},onDeleteClick:()=>e(Object(a("Rc4V").G)(t)),getOnDeleteConfirm:n=>e(Object(a("Rc4V").g)(t,n)),onDeleteCancel:()=>e(Object(a("Rc4V").e)()),onSaveRetry:()=>e(Object(a("Rc4V").B)(t,(new Date).toISOString(),ga(t))),onSaveEdit:()=>e(Object(a("Rc4V").y)(t)),onSaveCancel:()=>e(Object(a("Rc4V").x)(t)),setScrollStatus:t=>e(Object(a("Rc4V").F)(t))},ha(e))),((e,t,n)=>r()(r()(r()({},e),t),n)))])(ma),Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("issueFields",{onEditSave:"updated",onDeleteConfirm:"deleted",onScrolledToPermalink:"scrolled"}),Object(a("4zF2").a)({onCopyClick:"copyCommentUrl"}),Object(d.connect)(((e,{commentId:t})=>(e,{isHighlighted:n})=>r()({jsdAuthorCanSeeRequest:Object(a("ejT3").p)(t)(e),bodyAdf:Object(a("ejT3").j)(t)(e),
bodyHtml:Object(a("ejT3").f)(t)(e),hasDraft:Object(a("UZ8N").a)(Object(a("RRLO").a)(t))(e),author:Object(a("ejT3").e)(t)(e),updateAuthor:Object(a("ejT3").r)(t)(e),createdDate:Object(a("ejT3").g)(t)(e),updatedDate:Object(a("ejT3").s)(t)(e),edited:Object(a("ejT3").h)(t)(e),isOptimistic:Object(a("ejT3").o)(t)(e),hasSaveFailed:Object(a("ejT3").q)(t)(e),canEdit:Object(a("ejT3").d)(t)(e),isEditing:Object(a("ejT3").C)(t)(e),canDelete:Object(a("ejT3").c)(t)(e),hasDeleteModal:Object(a("ejT3").m)(t)(e),visibility:Object(a("ejT3").t)(t)(e),visibilityEdited:Object(a("ejT3").k)(t)(e),isInternal:Object(a("ejT3").E)(t)(e),showReactions:Object(a("CWFQ").b)(e),shouldShowCommentVisibility:Object(a("ejT3").A)(e),shouldScrollAfterAsyncComponentsLoaded:n&&Object(a("+a7Z").a)(e),hasScrolledPermalink:Object(a("ejT3").w)(e)},fa(e,t))),((e,{commentId:t})=>r()({getOnEditClick:n=>e(Object(a("Rc4V").i)(t,n)),onEditCancel:()=>e(Object(a("Rc4V").j)(t)),onEditUpdate:n=>e(Object(a("Rc4V").l)(t,n)),
onEditPaste:n=>e(Object(a("Rc4V").w)(t,n)),onBlur:()=>e(Object(a("Rc4V").k)(t)),getOnEditSave:(n,s)=>e(Object(a("Rc4V").A)(r()({id:t},n),s)),onCommentVisibilityChange:n=>{e(Object(a("Rc4V").m)(t,n))},onDeleteClick:()=>e(Object(a("Rc4V").G)(t)),getOnDeleteConfirm:n=>e(Object(a("Rc4V").g)(t,n)),onDeleteCancel:()=>e(Object(a("Rc4V").e)()),onSaveRetry:()=>e(Object(a("Rc4V").B)(t,(new Date).toISOString(),ga(t))),onSaveEdit:()=>e(Object(a("Rc4V").y)(t)),onSaveCancel:()=>e(Object(a("Rc4V").x)(t)),setScrollStatus:t=>e(Object(a("Rc4V").F)(t))},ha(e))),((e,t,n)=>r()(r()(r()({},e),t),n)))])(ba)),ya=a("DzJC"),Oa=a.n(ya);const va=T.default.button.withConfig({componentId:"z0kpr2-0"
})`text-align:left;color:grey;font:inherit;background:white;width:100%;height:40px;padding-left:${2.5*a("ZpU/").e}px;padding-right:${2.5*a("ZpU/").e}px;padding-top:${1.5*a("ZpU/").e}px;padding-bottom:${1.5*a("ZpU/").e}px;border:1px solid ${a("5kDX").a.N40};border-radius:${a("ZpU/").a}px;box-sizing:border-box;`,ja=T.default.div.withConfig({componentId:"z0kpr2-1"})`display:flex;justify-content:space-between;align-items:center;height:14px;padding-top:1px;letter-spacing:-0.005em;`,Ia=T.default.span.withConfig({componentId:"z0kpr2-2"})`padding-top:${a("ZpU/").e/2}px;`,Ca=T.default.div.withConfig({componentId:"z0kpr2-3"})`text-align:center;`;class Sa extends l.Component{constructor(...e){super(...e),this.state={changed:!1},this.onClick=()=>{this.props.onExpanded(),this.setState({changed:!0})}}static getServiceDeskFallbackEditor(){return c.a.createElement(Ca,null,c.a.createElement(a("6UK4").a,{size:"medium"}))}getGeneralFallbackEditor(){return c.a.createElement(va,{onClick:this.onClick
},c.a.createElement(ja,null,this.props.placeholder,this.state.changed&&c.a.createElement(Ia,null,c.a.createElement(a("6UK4").a,{size:"small"}))))}render(){return this.props.isServiceDesk?Sa.getServiceDeskFallbackEditor():this.getGeneralFallbackEditor()}}Sa.displayName="FallbackAddCommentEditor",Sa.defaultProps={placeholder:"",onExpanded:p.a};const ka=Object(a("v5q+").a)([Object(d.connect)((e=>({isServiceDesk:Object(a("4dgq").t)(e)})),{})])(Sa),wa=({children:e,fallback:t,packageName:n})=>c.a.createElement(a("ho8o").a,{id:"issue-add-comment-editor",packageName:n,render:()=>t},c.a.createElement(g.a,{fallback:t},e));wa.displayName="IssueAddCommentEditorBoundary";const Ta=Object(S.defineMessages)({placeholder:{id:"issue.placeholder-for-empty-comment-editor",defaultMessage:"Add a comment\u2026"},draftPlaceholder:{id:"issue.draft-placeholder-for-empty-comment-editor",defaultMessage:"You have an unsaved comment"},commentShortcutHintHeading:{id:"issue.comment.shortcut-hint-pro-tip-text",
defaultMessage:"Pro tip:"},commentShortcutHintMessage:{id:"issue.comment.shortcut-hint-message-with-pro-tip-text",defaultMessage:"{proTipText} press {shortcutKey} to comment"},userAvatarAriaLabel:{id:"issue.comment.user-avatar-aria-label",defaultMessage:"Profile image of {displayName}"}}),Da=3*a("ZpU/").e+"px",Ra=T.default.small.withConfig({componentId:"g2cr8q-0"
})`color:${a("5kDX").a.N200};display:block;margin-top:${a("ZpU/").e}px;white-space:nowrap;font-size:12px;line-height:1.33333333333333;`,La=T.css`@supports (position:sticky) or (position:-webkit-sticky){position:sticky;z-index:${e=>e.isKeylineVisible?e.shouldApplyTopSticky?a("wUly").b+1:10:0};transition:transform 0.3s cubic-bezier(0.86,0,0.07,1) 0.1s;transform:translate( 0,${e=>e.isHidden?("OLDEST_FIRST"===e.sortOrder?100:-100)+"px":"0"} );bottom:-1px;${e=>e.shouldApplyTopSticky?"top: 0px;":""} background:white;padding-left:${a("ZpU/").e}px;margin-left:-${a("ZpU/").e}px;${a("R4cy").c.toString()} &{bottom:-2px;}${e=>e.isHidden?(()=>Object(a("QU8M").c)()?"":"display: contents;")():""}}`,Ma=T.css`@supports (position:sticky) or (position:-webkit-sticky){box-shadow:${e=>"NEWEST_FIRST"===e.sortOrder&&e.shouldApplyTopSticky?`0 2px 0 0 ${a("5kDX").a.N30}, 0 -2px 0 0 ${a("5kDX").a.N30}`:`0 -2px 0 0 ${a("5kDX").a.N30}`};margin-top:${Da};}`,Aa=T.default.div.withConfig({componentId:"g2cr8q-1"
})`${e=>e.shouldApplySticky&&La};`,_a=T.default.div.withConfig({componentId:"g2cr8q-2"})`display:flex;padding-top:${2*a("ZpU/").e}px;padding-bottom:${2*a("ZpU/").e}px;background:white;${e=>e.isKeylineVisible&&e.shouldApplySticky?Ma:""} margin-bottom:${e=>"NEWEST_FIRST"===e.sortOrder?-2*a("ZpU/").e:0}px;margin-top:${e=>"NEWEST_FIRST"===e.sortOrder?a("ZpU/").e:0}px;`,Na=T.default.div.withConfig({componentId:"g2cr8q-3"})`margin-right:${1.5*a("ZpU/").e}px;margin-top:${a("ZpU/").e/4}px;`,xa=["avatarUrl","hasDraft","isExpanded","isServiceDesk","isEditorFocused","isLoading"],Ua=Object(g.h)((()=>a.e("async-editor-view").then(a.bind(null,"e93I"))),{moduleId:"./src/packages/issue/issue-view/src/activity/comment/comment-add/add-comment-editor/index.js"});class Fa extends l.Component{constructor(...e){super(...e),this.state={isKeylineVisible:!1,shouldHide:!1},this.onSave=e=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.COMMENTS.TIME_TO_RENDER_SAVED_COMMENT,cancelExisting:!0})
;Object(a("IJwP").g)(e)||(this.props.onSave(e),this.props.onCancel())},this.setAddCommentContainerRef=e=>{this.addCommentContainer=e},this.setEditorContainerRef=e=>{this.editorContainer=e},this.setContainerBottomRef=e=>{this.containerBottom=e},this.setContainerTopRef=e=>{this.containerTop=e},this.getScrollParent=e=>e&&"_issue-app-modal-dialog-wrapper"!==e.className?"auto"===window.getComputedStyle(e).overflowY||"scroll"===window.getComputedStyle(e).overflowY?e:this.getScrollParent(e.parentElement):null,this.setOverflowNode=()=>{this.overflowNode||(this.overflowNode=this.getScrollParent(this.containerBottom)),this.setSticky()},this.setSticky=()=>{const{containerTop:e,containerBottom:t}=this,{sortOrder:n}=this.props;if("OLDEST_FIRST"===n){if(this.overflowNode&&t){const e=this.overflowNode.getBoundingClientRect(),n=t.getBoundingClientRect(),a=Math.min(e.bottom,window.innerHeight),s=!this.props.isExpanded&&n.bottom>=a;s!==this.state.isKeylineVisible&&this.setState({isKeylineVisible:s})}
}else if("NEWEST_FIRST"===n&&this.overflowNode&&e&&t){const n=this.overflowNode.getBoundingClientRect(),a=e.getBoundingClientRect(),s=t.getBoundingClientRect(),i=Math.min(n.bottom,window.innerHeight),o=Math.min(n.top,window.innerHeight),r=!this.props.isExpanded&&a.top<=o,l=!this.props.isExpanded&&s.bottom>=i,c=r||l;c!==this.state.isKeylineVisible&&this.setState({isKeylineVisible:c})}},this.addCommentContainer=void 0,this.editorContainer=void 0,this.containerBottom=void 0,this.containerTop=void 0,this.editorEndOrStartElement=void 0,this.overflowNode=void 0,this.observer=void 0,this.onEditorExpandedWithAnalytics=()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR,cancelExisting:!0}),this.props.onEditorExpandedWithAnalytics()},this.onExpand=()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR,cancelExisting:!0}),this.props.onExpand()}}componentDidMount(){
requestAnimationFrame((()=>this.deferredComponentDidMount()))}shouldComponentUpdate(e,t){const n=!xa.every((t=>this.props[t]===e[t])),a=!Object.entries(this.state).every((([e,n])=>n===t[e]));return n||a}componentDidUpdate(e){!e.isExpanded&&this.props.isExpanded&&(Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR}),this.scrollEditorIntoView()),e.isEditorFocused!==this.props.isEditorFocused&&(this.props.isEditorFocused?this.setupStickyHidingObserver():this.removeStickyHidingObserver())}componentWillUnmount(){Object(a("QU8M").e)()||(window.removeEventListener("resize",this.setOverflowNode),this.overflowNode&&this.overflowNode.removeEventListener("scroll",this.setSticky)),this.observer&&this.containerBottom&&this.observer.unobserve(this.containerBottom),this.observer&&this.containerTop&&this.observer.unobserve(this.containerTop),this.observer&&this.editorEndOrStartElement&&this.observer.unobserve(this.editorEndOrStartElement)}
deferredComponentDidMount(){this.overflowNode=this.getScrollParent(this.containerBottom),Object(a("QU8M").e)()||(window.addEventListener("resize",this.setOverflowNode),this.overflowNode&&(this.overflowNode.addEventListener("scroll",Oa()(this.setSticky,100)),this.setSticky())),this.props.isExpanded&&this.scrollEditorIntoView(),this.setupStickyObserver(),this.props.isEditorFocused&&this.setupStickyHidingObserver()}setupStickyObserver(){if(window.IntersectionObserver&&this.containerBottom&&this.containerTop){const{containerTop:e,containerBottom:t}=this,n=e=>{e.forEach((e=>{const t=!this.props.isExpanded&&!e.isIntersecting;switch(e.target){case this.containerBottom:case this.containerTop:this.state.isKeylineVisible!==t&&this.setState({isKeylineVisible:t});break;case this.editorEndOrStartElement:{
const t=Object(a("d90y").is2afErrorCleanupGroup2Enabled)()&&!e.rootBounds||!e.isIntersecting&&e.boundingClientRect.y>=0&&e.boundingClientRect.y>=e.rootBounds.y,n=Object(a("d90y").is2afErrorCleanupGroup2Enabled)()&&!e.rootBounds||!e.isIntersecting&&e.boundingClientRect.y<=e.rootBounds.y,s="OLDEST_FIRST"===this.props.sortOrder?t:n;this.state.shouldHide!==s&&this.setState({shouldHide:s});break}}}))},s={root:this.overflowNode,rootMargin:"0px",threshold:0};this.observer=new IntersectionObserver(n,s);const{observer:i}=this;i.observe(t),i.observe(e)}}setupStickyHidingObserver(){window.IntersectionObserver&&this.observer&&(()=>a.e("async-editor-view").then(a.bind(null,"e93I")))().then((()=>setTimeout((()=>{this.editorEndOrStartElement="OLDEST_FIRST"===this.props.sortOrder?document.getElementsByClassName("issue-editor-end")[0]:document.getElementsByClassName("issue-editor-start")[1],this.editorEndOrStartElement&&this.observer&&this.observer.observe(this.editorEndOrStartElement)}))))}
removeStickyHidingObserver(){window.IntersectionObserver&&this.observer&&this.editorEndOrStartElement&&this.observer.unobserve(this.editorEndOrStartElement)}scrollEditorIntoView(){setTimeout((()=>{Object(a("eS/l").b)(this.addCommentContainer,{scrollMode:"if-needed",behavior:"auto",block:"end"})}))}renderAddCommentEditor(){const{hasDraft:e,newCommentDraft:t,isExpanded:n,intl:s,onEdit:i,onCancel:o,onPaste:r,onBlur:l,isServiceDesk:d,isLoading:u,editorSecondaryToolbarComponents:p}=this.props,m=e&&!Object(a("IJwP").g)(t)?`\u2022 ${s.formatMessage(Ta.draftPlaceholder)}`:s.formatMessage(Ta.placeholder),b=c.a.createElement(ka,{placeholder:m,onExpanded:this.onEditorExpandedWithAnalytics}),g=c.a.createElement(wa,{packageName:"issue",fallback:b},c.a.createElement(Ua,{externalId:"issue.comment.add-form",defaultValue:t,isExpanded:n,shouldFocus:!0,collapsedPlaceholder:m,placeholder:s.formatMessage(Ta.placeholder),onExpanded:this.onEditorExpandedWithAnalytics,onChange:i,onSave:this.onSave,onPaste:r,
onBlur:l,onCancel:o,isLoading:u,secondaryToolbarComponents:p,scrollParent:this.overflowNode}));return d?c.a.createElement(a("Ko4t").a,{isExpanded:n,onExpanded:this.onExpand,commentId:"NEW_OPTIMISTIC_COMMENT"},g):g}render(){const{isExpanded:e,isEditorFocused:t,avatarUrl:n,sortOrder:s,isCompact:i,intl:o,displayName:r}=this.props,l=t&&this.state.shouldHide&&!e,d="OLDEST_FIRST"!==s&&!i,u=c.a.createElement(a("EFQh").a,null,"M"),p=c.a.createElement("strong",null,c.a.createElement(S.FormattedMessage,Ta.commentShortcutHintHeading)),m=null!==r&&""!==r?o.formatMessage(Ta.userAvatarAriaLabel,{displayName:r}):void 0,b=()=>!e&&c.a.createElement(Ra,null,c.a.createElement(S.FormattedMessage,j()({},Ta.commentShortcutHintMessage,{values:{shortcutKey:u,proTipText:p}})));return c.a.createElement("span",{ref:this.setAddCommentContainerRef},c.a.createElement("span",{ref:this.setContainerTopRef}),c.a.createElement(Aa,{isHidden:l,isKeylineVisible:this.state.isKeylineVisible,shouldApplySticky:!e,
shouldApplyTopSticky:d},c.a.createElement(_a,{isKeylineVisible:this.state.isKeylineVisible,sortOrder:s,shouldApplySticky:!e,shouldApplyTopSticky:d},c.a.createElement(Na,null,c.a.createElement(a("1JKq").a,{size:"medium",src:n,name:m})),c.a.createElement(a("OxSL").a,{innerRef:this.setEditorContainerRef,"data-test-id":"issue.activity.comment"},this.renderAddCommentEditor(),c.a.createElement(b,null)))),c.a.createElement("span",{ref:this.setContainerBottomRef}))}}Fa.displayName="AddCommentForm",Fa.displayName="AddCommentForm",Fa.defaultProps={isServiceDesk:!1,isLoading:!1,hasDraft:!1,avatarUrl:void 0,displayName:null,newCommentDraft:null,onExpand:p.a,onSave:p.a,onEdit:p.a,onPaste:p.a,onBlur:p.a,onCancel:p.a};var Pa=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("issueFields",{onSave:"created",onEditorExpandedWithAnalytics:"commentExpanded"}),Object(d.connect)((e=>({authorId:Object(a("4dgq").a)(e),avatarUrl:Object(a("/LFc").x)(e),displayName:Object(a("/LFc").z)(e),
newCommentDraft:Object(a("ejT3").j)("NEW_OPTIMISTIC_COMMENT")(e),hasDraft:Object(a("UZ8N").a)(Object(a("RRLO").a)("NEW_OPTIMISTIC_COMMENT"))(e),isExpanded:Object(a("ejT3").x)(e)||null!=Object(a("ejT3").i)("NEW_OPTIMISTIC_COMMENT")(e),isServiceDesk:Object(a("4dgq").t)(e),isEditorFocused:Object(a("KSj7").L)(e)||Object(a("ejT3").B)(e),isLoading:Object(a("4dgq").t)(e)&&Object(a("ejT3").y)(e),shouldShowCommentVisibilitySelect:Object(a("ejT3").A)(e),visibility:Object(a("ejT3").l)("NEW_OPTIMISTIC_COMMENT")(e)||a("AWZZ").a,sortOrder:Object(a("Hc0Y").b)(e)})),(e=>({onExpand:()=>e(Object(a("Rc4V").c)()),onEdit:t=>e(Object(a("Rc4V").l)("NEW_OPTIMISTIC_COMMENT",t)),onVisibilityChange:t=>e(Object(a("Rc4V").m)("NEW_OPTIMISTIC_COMMENT",t)),onPaste:t=>e(Object(a("Rc4V").w)("NEW_OPTIMISTIC_COMMENT",t)),onBlur:()=>e(Object(a("Rc4V").b)()),onCancel:()=>e(Object(a("Rc4V").a)()),getOnSave:(t,n)=>e(Object(a("Rc4V").A)(r()({id:`NEW_OPTIMISTIC_COMMENT_${(new Date).getTime()}`,
createdDate:(new Date).toISOString(),isNewComment:!0},t),n))})),((e,t,n)=>r()(r()(r()(r()({},n),e),t),{},{editorSecondaryToolbarComponents:e.shouldShowCommentVisibilitySelect?[c.a.createElement(a("51zu").a,{key:"commentVisibilitySelect",initialValue:e.visibility,onChange:t.onVisibilityChange})]:void 0,onSave:(n,a)=>{e.shouldShowCommentVisibilitySelect&&a.update({isCommentRestricted:"public"!==e.visibility.type}),t.getOnSave({authorId:e.authorId,bodyAdf:n,bodyHtml:void 0,richContent:void 0,visibility:e.visibility},a)},onEditorExpandedWithAnalytics:n=>{t.onExpand(),Object(a("yy8q").b)(n,"addCommentEditor expanded",{hasDraft:e.hasDraft})}})))])(Object(a("q06Z").a)(Fa));const Va=T.default.div.withConfig({componentId:"sc-15of90x-0"})``;var Ka=e=>{const{list:t,loadingStage:n,canAddComments:s,numPrevCommentsToLoad:i,selectedSortOrder:o}=e,[,{register:r}]=Object(a("k3RX").b)(),d=Object(l.useCallback)((e=>{r("PERMALINK",e)}),[r])
;return"LOADING"===n||"SAVE_COMMENT_LOADING"===n&&i>0?c.a.createElement(a("Qu5z").d,null,c.a.createElement(a("ZBti").a,null)):c.a.createElement("span",null,c.a.createElement(a("J5tv").a,{name:"PERMALINK"},c.a.createElement(Va,{innerRef:d})," "),s&&"NEWEST_FIRST"===o&&c.a.createElement(Pa,null),t,s&&"OLDEST_FIRST"===o&&c.a.createElement(Pa,null))};const $a="jira.fe.issue.activity.comments.time-to.render-load-more",Wa=T.default.div.withConfig({componentId:"hyxutn-0"})`margin:${Da} 0 ${1.5*a("ZpU/").e}px 0;`;class Ba extends l.Component{constructor(...e){super(...e),this.state={loadMoreButtonTypeClicked:void 0},this.onLoadOlderButtonClick=(e,t)=>{const{fetchMoreOlderComments:n}=this.props;Object(a("yy8q").h)(t,"loadMoreButtonClicked",{loadMoreButtonType:"LOAD_OLDER_BUTTON"}),Object(a("B2Rg").b)().cancel({key:$a},!0),Object(a("B2Rg").b)().markStartOfInteraction({key:$a}),this.setState({loadMoreButtonTypeClicked:"LOAD_OLDER_BUTTON"}),n()},this.onLoadNewerButtonClick=(e,t)=>{
const{fetchMoreNewerComments:n}=this.props;Object(a("yy8q").h)(t,"loadMoreButtonClicked",{loadMoreButtonType:"LOAD_NEWER_BUTTON"}),Object(a("B2Rg").b)().cancel({key:$a},!0),Object(a("B2Rg").b)().markStartOfInteraction({key:$a}),this.setState({loadMoreButtonTypeClicked:"LOAD_NEWER_BUTTON"}),n()}}componentDidMount(){const{fetchCommentVisibilities:e}=this.props;e&&e()}UNSAFE_componentWillReceiveProps(e){e.loadedComments!==this.props.loadedComments&&0===e.loadedComments&&e.totalComments>0&&(0===e.startIndex?e.fetchMoreOlderComments():e.fetchMoreNewerComments()),e.isLoadingMoreComments||this.setState({loadMoreButtonTypeClicked:void 0}),this.props.isLoadingMoreComments&&!e.isLoadingMoreComments&&setTimeout((()=>{Object(a("B2Rg").b)().markTimeToFinishTask({key:$a})}))}renderLoadOlderButton(e){const{isLoadingMoreComments:t}=this.props,{loadMoreButtonTypeClicked:n}=this.state,{onLoadOlderButtonClick:s}=this,i="LOAD_OLDER_BUTTON"===n&&t;return c.a.createElement(a("JHbh").a,{onClick:s,
numberToLoad:e,isDisabled:t,isLoading:i},e<100?c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-sorted-older-remaining-comments-text",defaultMessage:"View {numberToLoad, plural, one {1 older comment} other {{numberToLoad} remaining older comments}}",values:{numberToLoad:e}}):c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-sorted-older-comments-text",defaultMessage:"View {numberToLoad, plural, one {1 older comment} other {{numberToLoad} older comments}}",values:{numberToLoad:e}}))}renderLoadNewerButton(e){const{isLoadingMoreComments:t}=this.props,{loadMoreButtonTypeClicked:n}=this.state,{onLoadNewerButtonClick:s}=this,i="LOAD_NEWER_BUTTON"===n&&t;return c.a.createElement(a("JHbh").a,{onClick:s,numberToLoad:e,isDisabled:t,isLoading:i},e<100?c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-sorted-newer-remaining-comments-text",defaultMessage:"View {numberToLoad, plural, one {1 newer comment} other {{numberToLoad} remaining newer comments}}",values:{
numberToLoad:e}}):c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-sorted-newer-comments-text",defaultMessage:"View {numberToLoad, plural, one {1 newer comment} other {{numberToLoad} newer comments}}",values:{numberToLoad:e}}))}render(){const{commentIds:e,canAddComments:t,totalComments:n,loadedComments:s,fullIssueUrl:i,startIndex:o,loadingStage:r,selectedSortOrder:l}=this.props;if(!e.length&&!t)return null;const{numPrevCommentsToLoad:d,numNextCommentsToLoad:u}=Object(a("qNKP").a)(n,s,o),{hasPermalink:p,permalinkId:m}=Object(a("LcR/").a)("Comments"),b=e.length?c.a.createElement(c.a.Fragment,null,"NEWEST_FIRST"===l&&this.renderLoadNewerButton(d),"OLDEST_FIRST"===l&&this.renderLoadOlderButton(u),c.a.createElement(Wa,{"data-test-id":"issue.activity.comments-list"},e.map((e=>c.a.createElement(Ea,{key:e,commentId:e,fullIssueUrl:i,isHighlighted:p&&e===m})))),"NEWEST_FIRST"===l&&this.renderLoadOlderButton(u),"OLDEST_FIRST"===l&&this.renderLoadNewerButton(d)):null
;return c.a.createElement(a("HlQC").a,{sourceType:a("CU8z").g,sourceName:"commentsActivityFeed"},c.a.createElement(Ka,{loadingStage:r,canAddComments:t,list:b,numPrevCommentsToLoad:d,selectedSortOrder:l}))}}Ba.displayName="Comments",Ba.displayName="Comments",Ba.defaultProps={canAddComments:!1};const qa=Object(d.connect)((e=>({commentIds:Object(a("ejT3").J)(e),canAddComments:Object(a("ejT3").b)(e),totalComments:Object(a("ejT3").L)(e),startIndex:Object(a("ejT3").K)(e),loadedComments:Object(a("ejT3").G)(e),isLoadingMoreComments:Object(a("ejT3").F)(e),baseUrl:Object(a("4dgq").f)(e),issueKey:Object(a("4dgq").w)(e),shouldFetchCommentVisibilities:Object(a("ejT3").A)(e),fullIssueUrl:Object(a("SXNk").b)(e),loadingStage:Object(a("ejT3").H)(e),selectedSortOrder:Object(a("Hc0Y").b)(e)})),(e=>({fetchMoreOlderComments:()=>{e(Object(a("Rc4V").s)())},fetchMoreNewerComments:()=>{e(Object(a("Rc4V").r)())}})))(da(Ba)),Ha=Object(a("SGpu").b)("comment")(Object(a("VHV8").a)()(qa))
;var Ga=()=>c.a.createElement(a("ho8o").a,{id:"issue.issue-view.activity.comments"},c.a.createElement(Ha,null)),Ya=a("mwIZ"),Za=a.n(Ya);const Xa=Object(Vt.createSelector)(Object(a("KSj7").r)("servicedesk-approvals"),(e=>e&&e.value&&e.value.completedApprovals||[])),Ja=(e,t)=>(e.sort(((e,n)=>"OLDEST_FIRST"===t?e.timestamp-n.timestamp:n.timestamp-e.timestamp)),e),za=Object(Vt.createSelector)(a("ejT3").a,a("ejT3").J,a("Hc0Y").b,a("ejT3").L,a("ejT3").G,a("ejT3").K,Xa,((e,t,n,a,s,i,o)=>{const r=[];Object.keys(e).filter((e=>t.includes(e))).forEach((t=>{const n=e[t],a={comment:n,timestamp:new Date(n.createdDate).getTime(),type:"COMMENT"};r.push(a)})),o&&o.forEach((e=>{const t={approval:e,timestamp:Za()(e,"completedDate.epochMillis"),type:"APPROVAL"};r.push(t)})),r.sort(((e,t)=>e.timestamp-t.timestamp));let l=r.slice();const c=s+i;return i&&a>s&&l[l.length-1]&&"APPROVAL"===l[l.length-1].type&&(l=l.slice(0,l.map((e=>e.type)).lastIndexOf("COMMENT")+1)),
a>c&&l[0]&&"APPROVAL"===l[0].type?(l=l.slice(l.map((e=>e.type)).indexOf("COMMENT")),Ja(l,n)):Ja(l,n)}));var Qa=Object(S.defineMessages)({approvalDecisionIconLabel:{id:"issue-view.activity.servicedesk.comments.approval-decision.approval-decision-icon-label",defaultMessage:"Jira Service Management icon"}});const es=e=>{const t=Object(a("NRyt").d)(),{approval:n}=e;if(!n)return null;const s=n.completedDate||n.createdDate||{},i=new Date(s.epochMillis).toJSON();return c.a.createElement(a("Q+Yh").a,{icon:c.a.createElement(a("xCKE").a,{size:"small",label:t.formatMessage(Qa.approvalDecisionIconLabel)}),finalDecision:n.finalDecision,status:n.status,time:i,approvers:n.approvers})};es.displayName="ServicedeskApprovalDecision";const ts=e=>{const{approval:t,intl:n}=e;if(!t)return null;const s=t.completedDate||t.createdDate||{},i=new Date(s.epochMillis).toJSON();return c.a.createElement(a("Q+Yh").a,{icon:c.a.createElement(a("xCKE").a,{size:"small",label:n.formatMessage(Qa.approvalDecisionIconLabel)
}),finalDecision:t.finalDecision,status:t.status,time:i,approvers:t.approvers})};ts.displayName="ServicedeskApprovalDecisionOld";var ns=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,es,Object(S.injectIntl)(ts));const as="jira.fe.issue.activity.jsd-comments.time-to.render-load-more",ss=T.default.div.withConfig({componentId:"sc-1bq6rii-0"})`margin:${Da} 0 ${1.5*a("ZpU/").e}px 0;`;class is extends l.Component{constructor(...e){super(...e),this.state={loadMoreButtonTypeClicked:void 0},this.onLoadOlderButtonClick=(e,t)=>{const{fetchMoreOlderComments:n}=this.props;Object(a("yy8q").h)(t,"loadMoreButtonClicked",{loadMoreButtonType:"LOAD_OLDER_BUTTON"}),Object(a("B2Rg").b)().cancel({key:as},!0),Object(a("B2Rg").b)().markStartOfInteraction({key:as}),this.setState({loadMoreButtonTypeClicked:"LOAD_OLDER_BUTTON"}),n()},this.onLoadNewerButtonClick=(e,t)=>{const{fetchMoreNewerComments:n}=this.props;Object(a("yy8q").h)(t,"loadMoreButtonClicked",{loadMoreButtonType:"LOAD_NEWER_BUTTON"
}),Object(a("B2Rg").b)().cancel({key:as},!0),Object(a("B2Rg").b)().markStartOfInteraction({key:as}),this.setState({loadMoreButtonTypeClicked:"LOAD_NEWER_BUTTON"}),n()},this.renderJsdActivityItems=e=>{const{fullIssueUrl:t}=this.props,{hasPermalink:n,permalinkId:s}=Object(a("LcR/").a)("Comments");return c.a.createElement(ss,{"data-test-id":"issue.issue-view.activity.servicedesk.jsd-activity-items-list"},e.map((e=>{switch(e.type){case"COMMENT":return e.comment&&c.a.createElement(Ea,{key:e.comment.id,commentId:e.comment.id,fullIssueUrl:t,isHighlighted:n&&e.comment.id===s});case"APPROVAL":return e.approval&&c.a.createElement(ns,{key:e.approval.id,approval:e.approval});default:return null}})))}}UNSAFE_componentWillReceiveProps(e){e.loadedComments!==this.props.loadedComments&&0===e.loadedComments&&e.totalComments>0&&(0===e.startIndex?e.fetchMoreOlderComments():e.fetchMoreNewerComments()),e.isLoadingMoreComments||this.setState({loadMoreButtonTypeClicked:void 0}),
this.props.isLoadingMoreComments&&!e.isLoadingMoreComments&&setTimeout((()=>{Object(a("B2Rg").b)().markTimeToFinishTask({key:as})}))}renderLoadMoreOlderButton(e){const{isLoadingMoreComments:t}=this.props,{loadMoreButtonTypeClicked:n}=this.state,{onLoadOlderButtonClick:s}=this,i="LOAD_OLDER_BUTTON"===n&&t;return c.a.createElement(a("JHbh").a,{onClick:s,numberToLoad:e,isDisabled:t,isLoading:i},c.a.createElement("div",{"data-test-id":"issue.issue-view.activity.servicedesk.comments-view.view-older-comments-button"},e<100?c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-sorted-older-remaining-comments-text",defaultMessage:"View {numComments, plural, one {1 older comment} other {{numComments} remaining older comments}}",values:{numComments:e}}):c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-older-comments-text",defaultMessage:"View {numComments, plural, one {1 older comment} other {{numComments} older comments}}",values:{numComments:e}})))}
renderLoadMoreNewerButton(e){const{isLoadingMoreComments:t}=this.props,{loadMoreButtonTypeClicked:n}=this.state,{onLoadNewerButtonClick:s}=this,i="LOAD_NEWER_BUTTON"===n&&t;return c.a.createElement(a("JHbh").a,{onClick:s,numberToLoad:e,isDisabled:t,isLoading:i},e<100?c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-sorted-newer-remaining-comments-text",defaultMessage:"View {numComments, plural, one {1 newer comment} other {{numComments} remaining newer comments}}",values:{numComments:e}}):c.a.createElement(S.FormattedMessage,{id:"issue.comments-view-newer-comments-text",defaultMessage:"View {numComments, plural, one {1 newer comment} other {{numComments} newer comments}}",values:{numComments:e}}))}render(){const{canAddComments:e,jsdActivityItems:t,startIndex:n,totalComments:s,loadedComments:i,totalApprovalDecisionsItems:o,loadingStage:r,selectedSortOrder:l}=this.props;if(!t.length&&!e)return null
;const{numPrevActivityItemsToLoad:d,numNextActivityItemsToLoad:u}=Object(a("qNKP").b)(s,i,n,t,o),p=t.length?c.a.createElement(c.a.Fragment,null,"NEWEST_FIRST"===l&&this.renderLoadMoreNewerButton(d),"OLDEST_FIRST"===l&&this.renderLoadMoreOlderButton(u),this.renderJsdActivityItems(t),"NEWEST_FIRST"===l&&this.renderLoadMoreOlderButton(u),"OLDEST_FIRST"===l&&this.renderLoadMoreNewerButton(d)):null;return c.a.createElement(a("HlQC").a,{sourceType:a("CU8z").g,sourceName:"jsdCommentsActivityFeed"},c.a.createElement(Ka,{loadingStage:r,canAddComments:e,list:p,numPrevCommentsToLoad:d,selectedSortOrder:l}))}}is.displayName="ServicedeskComments",is.displayName="ServicedeskComments",is.defaultProps={canAddComments:!1};const os=Object(d.connect)((e=>({canAddComments:Object(a("ejT3").b)(e),totalComments:Object(a("ejT3").L)(e),startIndex:Object(a("ejT3").K)(e),loadedComments:Object(a("ejT3").G)(e),isLoadingMoreComments:Object(a("ejT3").F)(e),jsdActivityItems:za(e),totalApprovalDecisionsItems:Xa(e),
fullIssueUrl:Object(a("SXNk").b)(e),loadingStage:Object(a("ejT3").H)(e),selectedSortOrder:Object(a("Hc0Y").b)(e)})),(e=>({fetchMoreOlderComments:()=>{e(Object(a("Rc4V").s)())},fetchMoreNewerComments:()=>{e(Object(a("Rc4V").r)())}})))(is),rs=Object(a("SGpu").b)("ServicedeskComments")(os);var ls=()=>c.a.createElement(a("ho8o").a,{id:"issue.issue-view.activity.servicedesk-comments"},c.a.createElement(rs,null));const cs=T.default.div.withConfig({componentId:"sc-1u1r17x-0"})`margin-top:${Da};`,ds=({source:e,extension:t,extensionData:n})=>c.a.createElement(cs,null,c.a.createElement(a("3IVG").a,{extension:t,extensionData:n,analyticsAttributes:{source:e}}));ds.displayName="ForgeIssueActivity";const us=e=>c.a.createElement(a("/Nf9").b,{attributes:{source:e.source}},c.a.createElement(ds,e));us.displayName="ForgeIssueActivityWithAnalytics";var ps=us;const ms=e=>t=>n=>c.a.createElement(a("ho8o").a,{id:e,packageName:"issue"},c.a.createElement(g.a,{
fallback:c.a.createElement(a("Qu5z").d,null,c.a.createElement(a("ZBti").a,null))},c.a.createElement(t,n))),bs=ms("activity-feed-all-activity")(Object(g.h)((()=>a.e("async-activity-feed-item-all-activity").then(a.bind(null,"atWg"))),{moduleId:"./src/packages/issue/issue-actions/issue-all-activity/src/index.js"}));bs.displayName="AllActivity";const gs=ms("activity-feed-item-history")(Object(g.h)((()=>a.e("async-activity-feed-item-history").then(a.bind(null,"Nyjy"))),{moduleId:"./src/packages/issue/issue-actions/issue-history/src/index.js"}));gs.displayName="History";const fs=ms("activity-feed-item-worklog")(Object(g.h)((()=>a.e("async-activity-feed-item-worklog").then(a.bind(null,"JXjv"))),{ssr:!1,moduleId:"./src/packages/issue/issue-view/src/activity/worklog/index.js"}));fs.displayName="Worklog";var hs=Object(d.connect)((e=>({baseUrl:Object(a("4dgq").f)(e),issueKey:Object(a("4dgq").w)(e),timeZone:void 0,extensionData:Object(a("T8UA").g)(e),source:Object(a("4dgq").b)(e),
mediaContext:Object(a("gjKp").a)(e)})),{})((({selectedItem:e,baseUrl:t,issueKey:n,timeZone:s,selectedSortOrder:i,extensionData:o,source:r,mediaContext:l})=>{if(!e)return null;switch(e.type){case"AllActivity":return c.a.createElement(bs,{sortOrder:i,mediaContext:l});case"JSDComments":return c.a.createElement(ls,null);case"Comments":return c.a.createElement(Ga,null);case An:return c.a.createElement(sn,{appKey:e.appKey,moduleKey:e.moduleKey,options:e.options,appName:e.name,location:"issueActionsActivityFeed"});case"FORGE_ENTITY_TYPE":return c.a.createElement(ps,{key:e.extension.id,source:r,extensionData:o,extension:e.extension});case"History":return c.a.createElement(gs,{baseUrl:Object(a("Rp3N").c)(t),issueKey:Object(a("Rp3N").n)(n),timeZone:s,sortOrder:i});case"Worklog":return c.a.createElement(fs,{timeZone:s});default:return null}}));const Es=["AllActivity","Comments","JSDComments","History","Worklog"];class ys extends l.Component{constructor(...e){super(...e),this.getAnalyticsData=e=>{
switch(e.type){case Mn:return{extensionId:e.extension.id};case An:return Object(a("riXy").a)(e.appKey,e.moduleKey);default:return{}}},this.getEcosystemActivity=()=>this.props.ecosystemModules.map((e=>{switch(e.type){case Mn:return r()({key:Object(a("UKEq").e)(e.appKey,e.moduleKey)},e);case An:return r()({key:`${e.moduleKey}${e.appKey}`},e);default:return a("RDfz").a.safeErrorWithoutCustomerData("issue.issue-actions.activity-feed","Tried to show ecosystem activity with other type than connect or forge"),null}})).filter(Boolean),this.getAllActivity=()=>{const{intl:e}=this.props;return[{key:"AllActivity",type:"AllActivity",name:e.formatMessage(a("16vn").a.allActivity)}]},this.getJSDCommentActivity=()=>{const{commentIds:e,canAddComments:t,intl:n}=this.props;return e.length||t?[{key:"JSDComments",type:"JSDComments",name:n.formatMessage(a("16vn").a.comments)}]:[]},this.getCommentActivity=()=>{const{commentIds:e,canAddComments:t,intl:n}=this.props;return e.length||t?[{key:"Comments",
type:"Comments",name:n.formatMessage(a("16vn").a.comments)}]:[]},this.getHistoryActivity=()=>[{key:"History",type:"History",name:this.props.intl.formatMessage(a("16vn").a.history)}],this.getWorklogActivity=()=>this.props.shouldShowWorklog?[{key:"Worklog",type:"Worklog",name:this.props.intl.formatMessage(a("16vn").a.worklog)}]:[],this.getActivityItems=()=>{const{isServiceDesk:e}=this.props;return[...this.getAllActivity(),...e?this.getJSDCommentActivity():this.getCommentActivity(),...this.getHistoryActivity(),...this.getWorklogActivity(),...this.getEcosystemActivity()]},this.getSelectedItem=(e=[])=>{if(this.props.selectedItem)return this.props.selectedItem;const t=Object(a("LcR/").b)();if(t){const{permalinkType:n}=t,a=e.find((e=>e.type===n));if(a)return this.props.onInitialSelectedActivityItem(a),a}return e[1]},this.selectActivityItem=(e,t,n)=>{const s=[n,this.getAnalyticsData(e)];Object(a("yy8q").h)(t,...s),this.props.onSwitchSelectedActivityItem(e)},this.selectSortOrder=(e,t,n)=>{var s
;Object(a("yy8q").h)(t,n,{selectedSortOrder:e,selectedActivityFeed:null===(s=this.props.selectedItem)||void 0===s?void 0:s.key}),this.props.onSwitchSelectedActivitySortOrder(e)},this.renderChangeboardingMount=()=>{const{permalinkType:e}=Object(a("LcR/").b)()||{};return"Comments"===e||"Worklog"===e?c.a.createElement(a("gV9P").a,{onMount:t=>{Object(a("yy8q").b)(t,"Comments"===e?"permalinkWithChangeboardingModalComments mounted":"permalinkWithChangeboardingModalWorklog mounted")}}):null},this.renderActivitySortDropdown=(e,t)=>{const{selectedSortOrder:n,setActivitySortRef:a}=this.props;if(!n)return null;const s=e.length>1?Kn:$n,i=!Es.includes(t.type);return c.a.createElement(s,{innerRef:a},c.a.createElement(Jn,{selectedSortOrder:n,onSelectSortOrder:this.selectSortOrder,isDisabled:i}))},this.renderActvityHeadingRow=(e,t)=>{const{intl:{formatMessage:n},setActivityItemsRef:s,shouldDisplayDropdown:i}=this.props;return e.length>1?c.a.createElement($n,null,c.a.createElement(Wn,{innerRef:s
},c.a.createElement(a("vPcr").b,{isFieldDescriptionEnabled:Pn()},n(a("16vn").a.filterBy)),c.a.createElement(a("vPcr").d,{leftAlign:!0},i?c.a.createElement(ia,{items:e,selectedItem:t,onSelectActivityItem:this.selectActivityItem}):c.a.createElement(la,{items:e,selectedItem:t,onSelectActivityItem:this.selectActivityItem}))),this.renderActivitySortDropdown(e,t)):this.renderActivitySortDropdown(e,t)}}componentDidMount(){const e=this.getActivityItems(),t=this.getSelectedItem(e);this.props.onInitialSelectedActivityItem(t)}render(){const{permalinkType:e}=Object(a("LcR/").b)()||{};if(("Worklog"===e||!this.props.commentIds.length)&&this.props.isPreview)return c.a.createElement(xn,null);const t=this.getActivityItems(),n=this.getSelectedItem(t);if(!t.length||!n)return null;const{intl:{formatMessage:s}}=this.props;return c.a.createElement(a("HlQC").a,{sourceType:a("CU8z").g,sourceName:"activityFeed"},this.renderChangeboardingMount(),c.a.createElement(a("vPcr").c,{leftAlign:!0,
isFieldDescriptionEnabled:Pn()},c.a.createElement(a("vPcr").e,{"data-test-id":"issue-activity-feed.heading"},t.length>1?s(a("16vn").a.activity):n.name)),this.renderActvityHeadingRow(t,n),c.a.createElement(Fn,{selectedActivityFeed:n.key}),c.a.createElement(hs,{selectedItem:n,selectedSortOrder:this.props.selectedSortOrder}))}}ys.displayName="FeedDisplay",ys.defaultProps={isServiceDesk:!1,shouldDisplayDropdown:!1,canAddComments:!1,selectedItem:null,ecosystemModules:[]},ys.displayName="FeedDisplay";var Os=Object(a("v5q+").a)([S.injectIntl,Object(d.connect)((e=>({isPreview:Object(a("/LFc").s)(e),isServiceDesk:Object(a("4dgq").t)(e),shouldShowWorklog:Object(a("gnYg").c)(e),canAddComments:Object(a("ejT3").b)(e),commentIds:Object(a("ejT3").M)(e),ecosystemModules:Object(a("mIpc").e)(e),selectedItem:Object(a("Hc0Y").a)(e),selectedSortOrder:Object(a("Hc0Y").b)(e),projectKey:Object(a("4dgq").A)(e)})),(e=>({onSwitchSelectedActivityItem:t=>{e(Object(a("c/pv").d)(t))},
onInitialSelectedActivityItem:t=>{e(Object(a("c/pv").c)(t))},onSwitchSelectedActivitySortOrder:t=>{e(Object(a("c/pv").e)(t)),e(Object(a("c/pv").f)(t))}})))])(ys);const vs=({containerWidth:e})=>{const{shouldBeCompact:t,setMeasuredRef:n}=Ln(e,15);return c.a.createElement(Os,{shouldDisplayDropdown:t,setActivityItemsRef:n("activity-items"),setActivitySortRef:n("activity-sort")})};vs.displayName="ActivityFeed";var js=Object(a("v5q+").a)([a("Hxd8").a])(vs);const Is=Object(Vt.createSelector)(Object(a("KSj7").r)("issuetype"),(e=>e&&e.value.id)),Cs=Object(Vt.createSelector)(Object(a("KSj7").f)("com.pyxis.greenhopper.jira:jsw-issue-color"),Object(a("KSj7").f)("com.pyxis.greenhopper.jira:gh-epic-color"),((e,t)=>e&&e.key||t&&t.key)),Ss=Object(Vt.createSelector)(Object(a("KSj7").f)("com.pyxis.greenhopper.jira:gh-epic-color"),Object(a("KSj7").f)("com.pyxis.greenhopper.jira:jsw-issue-color"),((e,t)=>e||t));Object(Vt.createSelector)(Is,Cs,a("P82W").d,((e,t,n)=>{if(!n)return!1
;const a=n.find((t=>t.id===e));return!(!a||!a.fields)&&t in a.fields}));var ks=(e,t)=>Object(a("/rpS").d)(`${e.baseUrl}/secure/AjaxIssueAction.jspa?decorator=none`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(m.stringify)({[e.fieldId]:e.value,issueId:Object(a("/LFc").l)(t),skipScreenCheck:!0,atl_token:Object(a("sN5M").a)(),singleFieldEdit:!0})}),ws=a("k4m5"),Ts=Object(S.defineMessages)({readOnlyLabel:{id:"issue.views.issue-base.foundation.read-only-label",defaultMessage:"Read-only Color, {color} selected"},label:{id:"issue.views.issue-base.foundation.label",defaultMessage:"Edit color"},purple:{id:"issue.views.issue-base.foundation.purple",defaultMessage:"purple"},darkPurple:{id:"issue.views.issue-base.foundation.dark-purple",defaultMessage:"dark purple"},blue:{id:"issue.views.issue-base.foundation.blue",defaultMessage:"blue"},darkBlue:{id:"issue.views.issue-base.foundation.dark-blue",defaultMessage:"dark blue"},green:{
id:"issue.views.issue-base.foundation.green",defaultMessage:"green"},darkGreen:{id:"issue.views.issue-base.foundation.dark-green",defaultMessage:"dark green"},teal:{id:"issue.views.issue-base.foundation.teal",defaultMessage:"teal"},darkTeal:{id:"issue.views.issue-base.foundation.dark-teal",defaultMessage:"dark teal"},yellow:{id:"issue.views.issue-base.foundation.yellow",defaultMessage:"yellow"},darkYellow:{id:"issue.views.issue-base.foundation.dark-yellow",defaultMessage:"dark yellow"},orange:{id:"issue.views.issue-base.foundation.orange",defaultMessage:"orange"},darkOrange:{id:"issue.views.issue-base.foundation.dark-orange",defaultMessage:"dark orange"},grey:{id:"issue.views.issue-base.foundation.grey",defaultMessage:"grey"},darkGrey:{id:"issue.views.issue-base.foundation.dark-grey",defaultMessage:"dark grey"}});a("lfCk");const Ds=T.default.div.withConfig({componentId:"u5emq5-0"
})`margin-left:-2px;padding-top:${a("ZpU/").e}px;padding-right:${a("ZpU/").e}px;height:${4*a("ZpU/").e}px;button:focus{box-shadow:none;}`,Rs=T.default.div.withConfig({componentId:"u5emq5-1"})`position:absolute;top:1px;left:1px;width:${3*a("ZpU/").e}px;height:${3*a("ZpU/").e}px;border-radius:3px;background:${e=>e.selectedColor};`,Ls=T.default.button.withConfig({componentId:"u5emq5-2"})`display:inline-block;position:relative;width:${3.75*a("ZpU/").e}px;height:${3.75*a("ZpU/").e}px;border:2px solid transparent;box-sizing:border-box;border-radius:6px;border-color:transparent;background-color:transparent;padding:0;outline:none;transition:box-shadow 0.2s cubic-bezier(0.47,0.03,0.49,1.38);&:focus.focus-visible{border-color:${a("5kDX").a.B100};}`;class Ms extends l.Component{constructor(...e){super(...e),this.onChange=e=>{const{onChange:t,onConfirm:n}=this.props;t(e),n()},this.generatePalette=Object(a("Wwog").a)(((e,t)=>e.map((({value:e,label:n})=>({value:e,label:t.formatMessage(Ts[n])})))))}
render(){const{value:e,intl:t,isEditable:n}=this.props,s=Object(a("noGj").g)();return c.a.createElement(Ds,{"data-test-id":"issue.views.issue-base.foundation.color.color-picker-wrapper"},n?c.a.createElement(ws.c,{label:t.formatMessage(Ts.label),popperProps:{positionFixed:!0,modifiers:{offset:{offset:"-10 5"}}},cols:s.length/2,selectedColor:e,palette:this.generatePalette(s,t),onChange:this.onChange}):c.a.createElement(As,{intl:t,value:e,palette:this.generatePalette(s,t)}))}}Ms.displayName="UnsafeColorPicker",Ms.displayName="ColorPicker";const As=e=>{const t=e.palette.filter((t=>t.value===e.value))[0].label,n=e.intl.formatMessage(Ts.readOnlyLabel,{color:t});return c.a.createElement(Ls,{"aria-label":n},c.a.createElement(Rs,{selectedColor:e.value}))};As.displayName="ReadOnlyColorPicker";const _s=(e,t)=>{const n=Object(a("KSj7").r)(t.fieldId)(e),s=!!n&&"com.pyxis.greenhopper.jira:gh-epic-color"===n.schema.custom;let i={shouldDiscardChangeOnFailure:!0,onSaveFailureFlagType:a("AmUS").u}
;return s&&(i=r()({saveField:ks},i)),r()(r()({},i),{},{fieldId:t.fieldId,transformFromStateValue:e=>((e,t=!1)=>t?Object(a("noGj").h)(Object(a("noGj").e)(e)):Object(a("noGj").h)(Object(a("noGj").j)(e)))(e,s),transformToStateValue:e=>((e,t=!1)=>t?Object(a("noGj").d)(Object(a("noGj").f)(e)):Object(a("noGj").i)(Object(a("noGj").f)(e)))(e,s)})},Ns=Object(a("v5q+").a)([S.injectIntl,Object(a("/cyb").a)(((e,t)=>_s(e,t)))])(Ms);var xs=Object(a("v5q+").a)([Object(d.connect)((e=>({field:Ss(e)})),{})])((e=>e.field?c.a.createElement(Ns,{fieldId:e.field.key}):null));const Us=["forField","issueKey","failureEventAttributes","allowList"],Fs=e=>t=>{const{forField:n,issueKey:s,failureEventAttributes:i,allowList:o}=t,r=C()(t,Us),d=Object(l.useContext)(a("+o5/").a),u=Object(l.useContext)(a("/Omr").a),p=u?u.onFailure:void 0;return null==d?c.a.createElement(e,j()({issueKey:s,onEditFailure:p},r)):c.a.createElement(a("h5cq").a,{location:n,experienceContext:d,failureEventAttributes:null!=i?i:null,
parentProvidersWhitelist:null!=o?o:null},(({onExperienceSuccess:t})=>c.a.createElement(e,j()({onRenderSuccess:t,issueKey:s,onEditFailure:p},r))))};const Ps=Fs(a("yMqG").a),Vs=e=>{const t=Object(a("ovRs").h)(),n=Object(a("ovRs").a)();return c.a.createElement(Ps,j()({forField:"summary",issueKey:t,source:n,appearance:a("rDg7").a},e))};Vs.displayName="ExtractedSummaryField";var Ks=Object(d.connect)(null,(e=>({onUpdate:t=>e(Object(a("QNn4").h)("summary",t))})))(Vs),$s=Object(S.defineMessages)({readOnlyIssueTitle:{id:"read-only-issue-info.read-only-issue-title",defaultMessage:"This issue can't be edited"},readOnlyIssueLink:{id:"read-only-issue-info.read-only-issue-link",defaultMessage:"Go to archived projects"},readOnlyIssueMessage:{id:"read-only-issue-info.read-only-issue-message",defaultMessage:"Because it belongs to an archived project. Jira admins can restore projects from the archive."},jsmReadOnlyIssueMessage:{id:"read-only-issue-info.jsm-read-only-issue-message",
defaultMessage:"Because it belongs to an archived service project. Jira admins can restore service projects from the archive."}});const Ws=({title:e})=>c.a.createElement("h3",null,e);Ws.displayName="Header";const Bs=({message:e})=>c.a.createElement("p",null,e);Bs.displayName="MainContent";const qs=({text:e})=>c.a.createElement("p",null,c.a.createElement("a",{href:"/jira/settings/projects/archive"},e));qs.displayName="ArchivedProjectsLink";const Hs=()=>{const{formatMessage:e}=Object(a("NRyt").d)(),t=Object(a("VtkN").a)(),n=Object(a("ovRs").h)(),s=Object(a("IFiJ").g)(n),i=Object(a("IFiJ").i)(s),o=Object(a("IFiJ").c)(s);if("PROJECT_ARCHIVED"!==(null==o?void 0:o.projectStatus))return null;const r=e(i===a("Hh3U").h?$s.jsmReadOnlyIssueMessage:$s.readOnlyIssueMessage);return c.a.createElement(a("79ji").a,{appearance:"information"},c.a.createElement(Ws,{title:e($s.readOnlyIssueTitle)}),c.a.createElement(Bs,{message:r}),t?c.a.createElement(qs,{text:e($s.readOnlyIssueLink)}):null)}
;Hs.displayName="ReadOnlyIssueInfo";var Gs=Hs;const Ys=T.default.div.withConfig({componentId:"iy9k0c-0"})`display:flex;flex:1 1 auto;min-width:0;width:100%;`,Zs=T.default.div.withConfig({componentId:"iy9k0c-1"})`display:flex;flex:1 1 auto;> div{display:flex;flex:1 1 auto;}`;var Xs=()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(Gs,null),c.a.createElement(Ys,null,c.a.createElement(xs,null),c.a.createElement(Zs,{key:"SUMMARY"},c.a.createElement(Ks,null))));const Js=e=>c.a.createElement(a("pTOk").a,e);Js.displayName="ActionsMenu";var zs=Js;const Qs=25*a("ZpU/").e,ei=T.default.div.withConfig({componentId:"sc-1b9jtkm-0"})`margin-top:${a("ZpU/").e/2}px;display:inline-flex;vertical-align:baseline;margin-left:-${a("ZpU/").e/4}px;height:${3*a("ZpU/").e}px;`,ti=T.default.span.withConfig({componentId:"sc-1b9jtkm-1"})`color:${a("5kDX").a.N200};display:inline-block;overflow:hidden;line-height:${3*a("ZpU/").e}px;text-overflow:ellipsis;white-space:nowrap;max-width:${Qs}px;`
;class ni extends l.Component{constructor(...e){super(...e),this.state={hasOverflow:!1},this.altStatusLabel=null,this.renderAltStatus=()=>c.a.createElement(ti,{innerRef:e=>{this.altStatusLabel=e}},this.props.name),this.renderAltStatusWithTooltip=()=>c.a.createElement(a("Yto1").a,{content:this.props.name,position:"bottom"},this.renderAltStatus())}componentDidMount(){this.updateOverflow()}UNSAFE_componentWillReceiveProps(){this.setState({hasOverflow:!1})}componentDidUpdate(){this.updateOverflow()}updateOverflow(){if(!this.altStatusLabel)return!1;const e=this.altStatusLabel.clientWidth>=Qs;return e!==this.state.hasOverflow&&this.setState({hasOverflow:e}),e}render(){return c.a.createElement(ei,{onClick:this.props.onClick,"data-test-id":"issue.views.issue-base.foundation.status.alt-view"},this.props.icon,this.state.hasOverflow?this.renderAltStatusWithTooltip():this.renderAltStatus())}}ni.displayName="AltStatusField",ni.defaultProps={onClick:p.a};const ai=Object(S.defineMessages)({flagged:{
id:"issue.status-field.flagged",defaultMessage:"Flagged"}}),si=({onClick:e})=>{const{formatMessage:t}=Object(a("NRyt").d)(),n=t(ai.flagged);return c.a.createElement(ni,{onClick:e,name:n,icon:c.a.createElement(a.n(a("PeCb")).a,{size:"medium",primaryColor:a("5kDX").a.R300,label:n})})};si.displayName="FlaggedField";var ii=Object(a("BxXc").a)((e=>({onClick:()=>{e("click")}})))(si);const oi=e=>c.a.createElement(a("aOsC").a,{id:"status-spotlight"},c.a.createElement(a("0krZ").a,e));oi.displayName="StatusWithRef";var ri=oi;T.default.div.withConfig({componentId:"yaa79-0"})`padding-top:${1.5*a("ZpU/").e}px;`,T.default.div.withConfig({componentId:"yaa79-1"})`display:flex;flex-wrap:wrap;padding-bottom:unset;& > *:not(:last-child){margin-right:${a("ZpU/").e}px;}`,T.default.div.withConfig({componentId:"yaa79-2"})`padding-right:unset;padding-bottom:${a("ZpU/").e}px;`;const li=T.default.div.withConfig({componentId:"yaa79-3"
})`padding-bottom:${a("ZpU/").e}px;display:inline-flex;flex-wrap:nowrap;overflow:hidden;`,ci=T.default.div.withConfig({componentId:"sc-1njt3iw-0"})`display:flex;flex-wrap:wrap;padding-top:${1.5*a("ZpU/").e}px;padding-bottom:unset;& > *:not(:last-child){margin-right:${a("ZpU/").e}px;}`,di=T.default.div.withConfig({componentId:"sc-1njt3iw-1"})`padding-right:unset;padding-bottom:${a("ZpU/").e}px;`,ui=({isEditable:e,onStatusChanged:t,onEditCancel:n})=>{const s=Object(a("ovRs").h)(),i=Object(a("ovRs").j)(),o=Object(a("IFiJ").i)(i),r=Object(l.useContext)(a("+o5/").a),[d]=Object(a("j3bG").b)({issueKey:s,fieldKey:"status"}),[{value:u,fieldConfig:p}]=Object(a("F82P").a)({issueKey:s}),m=null==u?void 0:u.name,b=Object(a("Ff2O").b)(),[,g]=Object(a("Ff2O").a)(),f=Object(l.useMemo)((()=>(e=>null==e?{name:"",id:"",statusCategory:{id:0,name:""}}:{name:e.name,id:e.id,statusCategory:{id:e.statusCategory.id,name:e.statusCategory.name}})(d)),[d]),[h]=Object(a("j3bG").b)({issueKey:s,
fieldKey:"hierarchy-level-same-level"}),E=null==h?void 0:h.level,[y]=Object(a("UJwn").a)(s,"com.atlassian.jira.plugin.system.customfieldtypes:flagged")||"",[{value:O}]=Object(a("zyW1").a)({issueKey:s,fieldKey:y}),v=(e,t,n,s)=>{g.setTransitionInProgress(!0),Object(a("yy8q").f)(s,"issueStatus updated",{oldValId:e.id,oldStatusCategoryId:e.statusCategory.id,oldStatusCategoryName:e.statusCategory.name,newValId:t.id,newStatusCategoryId:t.statusCategory.id,newStatusCategoryName:t.statusCategory.name,hasScreen:n.transition.hasScreen,isConditional:n.transition.isConditional,issueHierarchyLevel:E})};return Object(l.useEffect)((()=>{null==r||r.consumerCallbacks.onSuccess()}),[]),c.a.createElement(a("ho8o").a,{onError:(e,t)=>{null==r||r.consumerCallbacks.onFailure("status",{errorMessage:t.message})}},c.a.createElement(ci,null,c.a.createElement(di,{"data-test-id":"issue.views.issue-base.foundation.status.status-field-wrapper"},c.a.createElement(ri,{issueKey:s,projectType:o,initialValue:f,
isEditable:e,appearance:"button",onSubmit:v,onSuccess:t,onEditCancel:n,onFailure:()=>{g.setTransitionInProgress(!1)},preFetchTransitions:!0})),O&&c.a.createElement(li,null,c.a.createElement(ii,{externalId:"issue.status.flagged"})),!b&&(null!=m||(null==p?void 0:p.isEditable)&&f.statusCategory.id===Object(a("RQwY").categoryIdForStatusCategory)("DONE"))&&c.a.createElement("div",{"data-test-id":"issue.views.issue-base.foundation.status.resolution"},c.a.createElement(a("qvH8").a,{issueKey:s})),!b&&c.a.createElement(li,{"data-test-id":"issue.views.issue-base.foundation.status.actions-wrapper"},c.a.createElement(zs,{initialStatusValue:f,onSubmit:v,onSuccess:t}))))};ui.displayName="StatusView";const pi={canContainMediaContent:!1,isOptimistic:!1,isRichTextField:!1,shouldSaveDraft:!1,shouldDiscardChangeOnFailure:!1,onSaveFailureFlagType:null,onSaveSuccessFlagType:null,saveField:()=>Promise.resolve()};var mi=Object(a("v5q+").a)([Object(d.connect)((e=>({isEditable:Object(a("/LFc").n)(e)})),(e=>({
onStatusChanged:(t,n)=>{e(Object(a("QNn4").e)("status",pi,t)),e(Object(a("QNn4").h)("status",t,{viaDialog:n}))},onEditCancel:()=>{e(Object(a("mUiE").c)("status",pi))}}))),Object(a("CVeC").c)("status"),Object(a("U9/e").b)("status")])(ui);const bi=T.default.div.withConfig({componentId:"l85bb2-0"})`margin-bottom:0;`;var gi=()=>c.a.createElement(bi,{"data-test-id":"issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"},c.a.createElement(mi,{key:"STATUS"}));const fi=e=>{const t=`tabs.state.${e}`,[n,s]=Object(l.useState)((()=>{try{var e;return null===(e=window.localStorage)||void 0===e?void 0:e.getItem(t)}catch(n){return}}));Object(l.useEffect)((()=>{var e;s(null===(e=window.localStorage)||void 0===e?void 0:e.getItem(t))}),[t]);return[n,e=>{try{var n;s(e),null===(n=window.localStorage)||void 0===n||n.setItem(t,e)}catch(i){Object(a("omoN").a)(i,"issue.issue-view-layout-templates.components.tab-view","issue.templates.tab-view")}}]};var hi=Object(S.defineMessages)({
defaultTabName:{id:"issue-view-layout-templates-tab-view.default-tab-name",defaultMessage:"General"}});const Ei=T.default.div.withConfig({componentId:"nla5ek-0"})`padding-top:${2*a("ZpU/").e}px;display:flex;flex-direction:column;width:100%;`,yi=T.default.div.withConfig({componentId:"nla5ek-1"})`position:relative;margin-left:-${a("ZpU/").e}px;width:calc(100% + ${2*a("ZpU/").e}px);div[role='tablist']{flex-wrap:wrap;}`,Oi=T.default.div.withConfig({componentId:"nla5ek-2"})`overflow:hidden;text-overflow:ellipsis;`,vi=T.default.div.withConfig({componentId:"nla5ek-3"})`visibility:hidden;position:absolute;z-index:-1;width:100%;`,ji="TemplatesTabViewOnboardingSpotlightTarget",Ii=e=>e.elementProps["aria-setsize"]>2?c.a.createElement(Oi,null,c.a.createElement(a("Yto1").a,{content:e.data.label,position:"bottom"},c.a.createElement(a("M/KO").a,e))):c.a.createElement(Oi,null,c.a.createElement(a("M/KO").a,e));Ii.displayName="TooltipItem";const Ci=({tabsContent:e})=>{
const{createAnalyticsEvent:t}=Object(a("rZ/p").a)(),n=Object(a("ovRs").h)(),s=Object(a("IFiJ").g)(n),[i,o]=fi(s),r=e.findIndex((e=>e&&e.id===i));return c.a.createElement(a("4iLm").a,{components:{Item:Ii},selected:r,onSelect:(n,s)=>{const i={totalTabCount:e.length,selectedTabPosition:s+1},r=t({action:"selected",actionSubject:"tab",actionSubjectId:"issueFieldTabs"});Object(a("yy8q").h)(r,"issueFieldTabs",i),o(n.id)},tabs:e})};Ci.displayName="StaticTabs";const Si=({tabsContent:e})=>c.a.createElement(a("4iLm").a,{components:{Content:()=>null},tabs:e});Si.displayName="StaticTabsSpotlight";var ki=({items:e,area:t})=>{const n=Object(a("NRyt").d)(),s=e.reduce(((e,t)=>(t.type!==a("Kv+q").a.tab?e.looseItems.push(t):e.tabItems.push(t),e)),{looseItems:[],tabItems:[]}),i={label:n.formatMessage(hi.defaultTabName),content:c.a.createElement(Ei,null,c.a.createElement(a("qUQc").a,{items:s.looseItems,area:t}))
},o=Object(a("ovRs").h)(),[{value:r}]=Object(a("MoW5").c)(o),[d]=Object(a("j3bG").d)(o),u=Object(a("tnWI").bb)(),p=Object(l.useCallback)((e=>{const t=r&&r[e];if(!t)return!1;const n=d&&(null===d[e]||void 0===d[e]);if(!t.isEditable&&n)return!1;const{custom:s,system:i,type:o}=t.schema||{},l=null!==i?i:"",c=Object(a("6P8Q").b)(t)||"",p=Object(a("1bbY").b)(s)||c||l||o;return void 0!==p&&Object.values(u).includes(p)}),[r,d,u]),m=s.tabItems.map((e=>{const n=e.items.nodes.filter((e=>p(Object(a("pvIb").a)(e))));return 0!==n.length?{id:Object(a("pvIb").a)(e),label:e.name,content:c.a.createElement(Ei,null,c.a.createElement(a("qUQc").a,{items:n,area:t}))}:null})).filter((e=>null!==e)),b=s.looseItems.length>0?[i,...m]:m;if(0===b.length)return null;if(1===b.length){const e=b[0];return e&&e.content}return c.a.createElement(yi,null,c.a.createElement(vi,null,c.a.createElement(a("J5tv").a,{name:ji},c.a.createElement(Si,{tabsContent:b}))),c.a.createElement(a("gjp6").a,{engagementId:ji
}),c.a.createElement(a("gV9P").a,{onMount:e=>Object(a("yy8q").b)(e,"TemplatesTabViewOnboarding mounted")}),c.a.createElement(Ci,{tabsContent:b}))};const wi="TemplatesTabViewOnboardingSpotlightTarget",Ti=e=>e.elementProps["aria-setsize"]>2?c.a.createElement(Oi,null,c.a.createElement(a("Yto1").a,{content:e.data.label,position:"bottom"},c.a.createElement(a("M/KO").a,e))):c.a.createElement(Oi,null,c.a.createElement(a("M/KO").a,e));Ti.displayName="TooltipItem";const Di=({tabsContent:e})=>{const{createAnalyticsEvent:t}=Object(a("rZ/p").a)(),n=Object(a("ovRs").h)(),s=Object(a("IFiJ").g)(n),[i,o]=fi(s),r=e.findIndex((e=>e&&e.id===i));return c.a.createElement(a("4iLm").a,{components:{Item:Ti},selected:r,onSelect:(n,s)=>{const i={totalTabCount:e.length,selectedTabPosition:s+1},r=t({action:"selected",actionSubject:"tab",actionSubjectId:"issueFieldTabs"});Object(a("yy8q").h)(r,"issueFieldTabs",i),o(n.id)},tabs:e})};Di.displayName="StaticTabs"
;const Ri=({tabsContent:e})=>c.a.createElement(a("4iLm").a,{components:{Content:()=>null},tabs:e});Ri.displayName="StaticTabsSpotlight";var Li=({items:e,area:t})=>{const n=Object(a("NRyt").d)(),s=e.filter((e=>"TabLayout"!==e.type)),i={label:n.formatMessage(hi.defaultTabName),content:c.a.createElement(Ei,null,c.a.createElement(a("qUQc").a,{items:s,area:t}))},o=e.filter((e=>"TabLayout"===e.type)),r=Object(a("ovRs").h)(),[{issueTabs:d}]=Object(a("bXka").b)(r),[{value:u}]=Object(a("MoW5").c)(r),[p]=Object(a("j3bG").d)(r),m=Object(a("tnWI").bb)(),b=Object(l.useCallback)((e=>{const t=u&&u[e];if(!t)return!1;const n=p&&(null===p[e]||void 0===p[e]);if(!t.isEditable&&n)return!1;const{custom:s,system:i,type:o}=t.schema||{},r=null!==i?i:"",l=Object(a("6P8Q").b)(t)||"",c=Object(a("1bbY").b)(s)||l||r||o;return void 0!==c&&Object.values(m).includes(c)}),[u,p,m]);if(0===Object.keys(d).length)return null;const g=o.map((({id:e})=>{const n=d[e];if(void 0!==n&&n.name&&n.items&&n.items.length>0){
const e=n.items.filter((e=>b(e.id)));return e.length<1?null:{id:n.id,label:n.name,content:c.a.createElement(Ei,null,c.a.createElement(a("qUQc").a,{items:e,area:t}))}}return null})).filter((e=>null!==e)),f=s.length>0?[i,...g]:g;if(0===f.length)return null;if(1===f.length){const e=f[0];return e&&e.content}return c.a.createElement(yi,null,c.a.createElement(vi,null,c.a.createElement(a("J5tv").a,{name:wi},c.a.createElement(Ri,{tabsContent:f}))),c.a.createElement(a("gjp6").a,{engagementId:wi}),c.a.createElement(a("gV9P").a,{onMount:e=>Object(a("yy8q").b)(e,"TemplatesTabViewOnboarding mounted")}),c.a.createElement(Di,{tabsContent:f}))};const Mi=({items:e})=>{const t=e.map((e=>e.type!==a("Kv+q").a.tab?e:null)).filter(Boolean);return t.length!==e.length?c.a.createElement(ki,{items:e,area:"content"}):c.a.createElement(a("qUQc").a,{items:t,area:"content"})};Mi.displayName="ContentSectionView";const Ai=({items:e})=>e.find((({type:e})=>"TabLayout"===e))?c.a.createElement(Li,{items:e,area:"content"
}):c.a.createElement(a("qUQc").a,{items:e,area:"content"});Ai.displayName="ContentSectionViewOld";const _i=()=>{var e;const t=Object(a("ovRs").h)(),[{contentSection:n}]=Object(a("pvIb").f)(t);return c.a.createElement(Ai,{items:null!==(e=null==n?void 0:n.items)&&void 0!==e?e:[]})};_i.displayName="ContentTemplateOld";var Ni=_i;const xi=()=>{const e=Object(a("ovRs").h)(),[t]=Object(a("pvIb").g)(e,"CONTENT");return c.a.createElement(Mi,{items:t})};xi.displayName="ContentTemplate";var Ui=Object(a("5WHm").a)((()=>Object(a("D3TY").a)("issue.details.layout-containers-api",!1)),xi,Ni),Fi=a("qPyV"),Pi=a.n(Fi);const Vi=(e,t)=>{const n=t[e],s=Object(a("iJ/Y").n)();if(!n&&Object.prototype.hasOwnProperty.call(s,e)){return((e,t)=>ft()(t,(t=>(t.schema&&t.schema.custom)===e)))(s[e],t)}return n},Ki=(e,t,n,s,i)=>{const o=Vi(e,t),r=Object(a("1bbY").c)(o)
;return!Object(a("7/nq").c)().includes(e)&&(!o||void 0===r||!(!Object(a("1bbY").d)(n)||o.isEditable)&&("assignee"!==e&&"com.atlassian.servicedesk:vp-origin"!==r&&"com.atlassian.servicedesk.servicedesk-lingo-integration-plugin:sd-request-language"!==r&&("timetracking"!==e||Object(a("1bbY").f)(s,i))))},$i=e=>Object.keys(e).reduce(((t,n)=>{const a=e[n];return[...t,...Object.keys(a).map((e=>a[e]))]}),[]).map((e=>({id:`ecosystemGlance__${e.appKey}__${e.moduleKey}`,type:"ecosystemGlance",payload:r()(r()({},e),{},{glanceType:a("7w0A").a})}))),Wi=(e,t)=>e.filter((e=>Object(a("RMTU").a)(e,t))),Bi=()=>{const[e]=Object(a("eau+").b)(),t=(()=>{const e=Object(a("ovRs").h)(),t=Object(a("ovRs").g)(),n=Object(a("IFiJ").g)(e),[s]=Object(a("AJ6X").d)(n),i=Object(a("IFiJ").i)(n),o=Object(a("IFiJ").e)(n),[r]=Object(a("j3bG").b)({issueKey:e,fieldKey:"issuetype"});return{issueId:t||null,issueKey:e,issueType:r&&r.name,projectId:o,projectKey:n,projectType:i||null,canAddComments:s.canAddComments,
canAdministerJira:s.canAdministerJira,canAdministerProjects:s.canAdministerProject,canAssignIssues:s.canAssignIssues,canBeAssignedToIssues:s.canBeAssignedToIssues,canCloneIssues:s.canCloneIssue,canCreateAttachments:s.canCreateAttachments,canCreateChildren:s.canCreateChildren,canCreateSubtasks:s.canCreateSubtask,canDeleteAllAttachments:s.canDeleteAllAttachments,canDeleteAllComments:s.canDeleteAllComments,canDeleteAllWorklogs:s.canDeleteAllWorklogs,canDeleteIssues:s.canDeleteIssue,canDeleteOwnAttachments:s.canDeleteOwnAttachments,canDeleteOwnComments:s.canDeleteOwnComments,canDeleteOwnWorklogs:s.canDeleteOwnWorklogs,canEditAllComments:s.canEditAllComments,canEditAllWorklogs:s.canEditAllWorklogs,canEditIssues:s.canEditIssues,canEditOwnComments:s.canEditOwnComments,canEditOwnWorklogs:s.canEditOwnWorklogs,canLinkIssues:s.canLinkIssues,canLogWork:s.canLogWork,canManageWatchers:s.canManageWatchers,canModifyReporters:s.canModifyReporter,canMoveIssues:s.canMoveIssue,
canScheduleIssues:s.canScheduleIssues,canUseServiceManagementAgentFeatures:s.canUseServiceDeskAgentFeatures,canBrowseUsers:s.canBrowseUsers,canViewDevTools:s.canViewDevTools,canViewWatchers:s.canViewWatchers}})();return Wi(e,t).map((e=>{const{id:t,properties:{title:n,label:a,status:s,icon:i}}=e;return{id:t,type:"forgeGlance",payload:{label:a,title:n,status:s,icon:i,extension:e,glanceType:"FORGE_ENTITY_TYPE",moduleKey:t,appKey:t}}}))},qi=e=>{let t=!1;const n=Object(a("IvvV").c)()?[a("Kv+q").a.field,a("Kv+q").a.panel]:["FieldSectionItem","PanelSectionItem"],s=["assignee","SLA_PANEL"];return e.map((e=>{const a=void 0!==e.type?e.type:"";return t||s.includes(e.id)||!n.includes(a)?e:(t=!0,r()(r()({},e),{},{globalRef:"PIN_FIELD"}))}))},Hi=()=>({primaryItems:[],secondaryItems:[],ecosystemItems:[],forgeItems:[],pinnedFields:[]}),Gi=[{type:"PanelSectionItem",id:"devSummary"}],Yi=()=>({primaryItems:[],secondaryItems:[],ecosystemItems:[],forgeItems:[],pinnedFields:[]}),Zi=[{type:a("Kv+q").a.panel,
panelItemId:"devSummary"}],Xi=(e=[])=>{const t=Object(a("ovRs").h)(),n=Object(a("IFiJ").g)(t),{ecosystemEnabled:s}=Object(a("IFiJ").b)(n),i=Object(a("IFiJ").c)(n),[o]=Object(a("Um2r").c)(t),[r]=Object(a("/wd9").b)(),[l]=Object(a("pvIb").g)(t,"PRIMARY"),[c]=Object(a("pvIb").g)(t,"SECONDARY"),[d]=Object(a("j3bG").d)(t),[{value:u}]=Object(a("MoW5").c)(t),[p]=Object(a("uC67").c)(),[m]=Object(a("AJ6X").d)(n),b=Object(a("ovRs").a)(),g=Bi(),f=void 0!==i&&i.isSimplified,h=Object(a("ovRs").c)();if(!u)return Yi();const E=$i(r),y=!0===s?g:[],O=p.isTimeTrackingEnabled&&void 0!==u.timetracking,v=b===a("wpii").a.MOBILE_ISSUE,j=O&&m.canLogWork&&!v,I=[...l,...c,...f?Zi:[]],C=Pi()(I,a("pvIb").a),S=Yi(),k=new Set(o),w=new Set(e),T=new Set(c.map((e=>Object(a("pvIb").a)(e)))||[]);return C.forEach((e=>{const t=Object(a("pvIb").a)(e);k.has(t)||(t===h||w.has(t)||Object(a("6P8Q").c)(u[t])?S.primaryItems.push(e):Ki(t,u,d[t],j,O)||(T.has(t)?S.secondaryItems.push(e):S.primaryItems.push(e)))})),
S.primaryItems=qi([...S.primaryItems]),S.ecosystemItems=E,S.forgeItems=y,S.pinnedFields=((e,t)=>t.reduce(((t,n)=>{const s=e.find((e=>e.type===a("Kv+q").a.field&&e.fieldItemId===n||e.type===a("Kv+q").a.panel&&e.panelItemId===n));return void 0!==s&&t.push(s),t}),[]))(C,o),S};var Ji=(e=[])=>Object(a("IvvV").c)()?Xi(e):((e=[])=>{var t,n,s,i,o,r;const l=Object(a("ovRs").h)(),c=Object(a("IFiJ").g)(l),{ecosystemEnabled:d}=Object(a("IFiJ").b)(c),u=Object(a("IFiJ").c)(c),[p]=Object(a("Um2r").c)(l),[m]=Object(a("/wd9").b)(),[b]=Object(a("pvIb").f)(l),[g]=Object(a("j3bG").d)(l),[{value:f}]=Object(a("MoW5").c)(l),[h]=Object(a("uC67").c)(),[E]=Object(a("AJ6X").d)(c),y=Object(a("ovRs").a)(),O=Bi(),v=void 0!==u&&u.isSimplified,j=Object(a("ovRs").c)();if(!f)return Hi()
;const I=$i(m),C=!0===d?O:[],S=h.isTimeTrackingEnabled&&void 0!==f.timetracking,k=y===a("wpii").a.MOBILE_ISSUE,w=S&&E.canLogWork&&!k,T=[...null!==(t=null===(n=b.primaryContextSection)||void 0===n?void 0:n.items)&&void 0!==t?t:[],...null!==(s=null===(i=b.secondaryContextSection)||void 0===i?void 0:i.items)&&void 0!==s?s:[],...v?Gi:[]],D=Pi()(T,"id"),R=Hi(),L=new Set(p),M=new Set(e),A=new Set((null===(o=b.secondaryContextSection)||void 0===o||null===(r=o.items)||void 0===r?void 0:r.map((e=>e.id)))||[]);return D.forEach((e=>{L.has(e.id)||(e.id===j||M.has(e.id)||Object(a("6P8Q").c)(f[e.id])?R.primaryItems.push(e):Ki(e.id,f,g[e.id],w,S)||(A.has(e.id)?R.secondaryItems.push(e):R.primaryItems.push(e)))})),R.primaryItems=qi([...R.primaryItems]),R.ecosystemItems=I,R.forgeItems=C,R.pinnedFields=((e,t)=>t.reduce(((t,n)=>{const a=e.find((({id:e})=>e===n));return void 0!==a&&t.push(a),t}),[]))(D,p),R})(e);var zi=(e=[])=>Object(a("IvvV").c)()?((e=[])=>{
const t=Ji(e),{pinnedFields:n,primaryItems:s,secondaryItems:i,forgeItems:o,ecosystemItems:r}=t,c=Object(a("ovRs").h)(),d=[...n,...s,...i],[u,p]=Object(l.useState)([]),[m,b]=Object(l.useState)([]),[g,f]=Object(l.useState)(n.length),[h,E]=Object(l.useState)(d.length),[y]=Object(a("j3bG").d)(c),O=()=>{const e=i.filter((e=>Object(a("1bbY").d)(y[Object(a("pvIb").a)(e)]))),t=i.filter((e=>!Object(a("1bbY").d)(y[Object(a("pvIb").a)(e)])));p(e),b(t)};return Object(l.useEffect)((()=>{O()}),[]),g!==n.length&&(f(n.length),O()),h!==d.length&&(E(d.length),O()),[{pinnedFields:n,visibleItems:[...s,...m,...o,...r],hiddenItems:u},O]})(e):((e=[])=>{const t=Ji(e),{pinnedFields:n,primaryItems:s,secondaryItems:i,forgeItems:o,ecosystemItems:r}=t,c=Object(a("ovRs").h)(),d=[...n,...s,...i],[u,p]=Object(l.useState)([]),[m,b]=Object(l.useState)([]),[g,f]=Object(l.useState)(n.length),[h,E]=Object(l.useState)(d.length),[y]=Object(a("j3bG").d)(c),O=()=>{
const e=i.filter((e=>Object(a("1bbY").d)(y[e.id]))),t=i.filter((e=>!Object(a("1bbY").d)(y[e.id])));p(e),b(t)};return Object(l.useEffect)((()=>{O()}),[]),g!==n.length&&(f(n.length),O()),h!==d.length&&(E(d.length),O()),[{pinnedFields:n,visibleItems:[...s,...m,...o,...r],hiddenItems:u},O]})(e);const Qi=Object(S.defineMessages)({title:{id:"issue-view-layout-templates-pinned-fields-banner.common.with-grouping.title",defaultMessage:"Your pinned fields"},groupingTitle:{id:"issue-view-layout-templates-pinned-fields-banner.common.with-grouping.grouping-title",defaultMessage:"Pinned fields"},description:{id:"issue-view-layout-templates-pinned-fields-banner.common.with-grouping.description",defaultMessage:"Click on the {pinnedIcon} next to a field label to start pinning."},dismissTooltip:{id:"issue-view-layout-templates-pinned-fields-banner.common.with-grouping.dismiss-tooltip",defaultMessage:"Hide message"}}),eo=T.default.div.withConfig({componentId:"gvybh4-0"})``,to=T.default.div.withConfig({
componentId:"gvybh4-1"})`display:flex;justify-content:space-between;margin-bottom:${a("ZpU/").e}px;padding:${a("ZpU/").e}px ${a("ZpU/").e}px ${a("ZpU/").e}px ${1.5*a("ZpU/").e}px;border:1px solid ${a("5kDX").a.N40};border-radius:3px;&:hover ~ ${eo} ${a("2Fh1").a}{visibility:visible;animation:${a("gEry").h} 0.15s linear forwards;& ${a("2Fh1").c}{color:${a("5kDX").a.N800};}}`,no=T.default.div.withConfig({componentId:"gvybh4-2"})`${a("5kDX").d.h200} margin-top:${.5*a("ZpU/").e}px;margin-bottom:${2*a("ZpU/").e}px;color:${a("5kDX").a.N800};font-size:14px;`,ao=T.default.div.withConfig({componentId:"gvybh4-3"})`margin-bottom:${.5*a("ZpU/").e}px;color:${a("5kDX").a.N800};`,so=T.default.div.withConfig({componentId:"gvybh4-4"})`flex-shrink:0;`,io=Object(T.default)(a("MHIu").a).withConfig({componentId:"gvybh4-5"})`vertical-align:text-bottom;`,oo=(T.default.div.withConfig({componentId:"pyqvvh-0"
})`display:flex;justify-content:space-between;background-color:${a("5kDX").a.N20};margin:-8px -12px 12px;padding:8px 12px 16px;border-radius:3px;&:hover ~ div ${a("2Fh1").a}{visibility:visible;animation:${a("gEry").h} 0.15s linear forwards;& ${a("2Fh1").c}{color:${a("5kDX").a.N800};}}`,T.default.div.withConfig({componentId:"pyqvvh-1"})`${a("5kDX").d.h300};margin-top:6px;margin-bottom:16px;color:${a("5kDX").a.N200};font-size:11px;`,T.default.div.withConfig({componentId:"pyqvvh-2"})`flex-shrink:0;height:${3*a("ZpU/").e}px;cursor:pointer;`,T.default.div.withConfig({componentId:"pyqvvh-3"})`flex-shrink:0;color:${a("5kDX").a.N500};`,Object(T.default)(a("MHIu").a).withConfig({componentId:"pyqvvh-4"})`vertical-align:text-bottom;`,(e,t)=>{if(!(e=>null!=e&&!Number.isNaN(Number(e)))(e))return!1;const n=parseInt(null!==e&&e.toString(),10);return Object(a("NoME").a)(new Date,n)>t}),ro=({children:e})=>{const[t,n]=(()=>{
const[e,{setValue:t}]=Object(a("F0wu").b)("jira.user.issue.pinned-fields-banner.lastinteracted"),{createAnalyticsEvent:n}=Object(a("rZ/p").a)(),s=Object(l.useCallback)((()=>{const e=n({eventName:"pinnedFieldsBanner closed",action:"clicked",actionSubject:"button",actionSubjectId:"pinnedFieldsBanner"});Object(a("yy8q").h)(e,"pinnedFieldsBannerDismissSectionMessage"),t("jira.user.issue.pinned-fields-banner.user_hidden_action")}),[n,t]),i=Object(l.useCallback)((()=>{const e=n({eventName:"pinnedFieldsBanner viewed",action:"viewed",actionSubject:"banner",actionSubjectId:"pinnedFieldsBannerViewed"});Object(a("yy8q").h)(e,"pinnedFieldsBannerDismissSectionMessage")}),[n]),o=!(oo(e,7)||"jira.user.issue.pinned-fields-banner.user_hidden_action"===e);return Object(l.useEffect)((()=>{null===e&&t(Date.now().toString()),o&&i()}),[]),[o,s]})();return t?e({onClick:n}):null},lo=()=>{const{formatMessage:e}=Object(a("NRyt").d)(),t=e(Qi.dismissTooltip),n=Qi.groupingTitle
;return c.a.createElement(ro,null,(({onClick:s})=>c.a.createElement(to,null,c.a.createElement("div",null,c.a.createElement(no,null,e(n)),c.a.createElement(ao,null,c.a.createElement(S.FormattedMessage,j()({},Qi.description,{values:{pinnedIcon:c.a.createElement(io,null)}})))),c.a.createElement(so,null,c.a.createElement(a("Yto1").a,{content:t},c.a.createElement(a("340+").a,{spacing:"none",appearance:"subtle",onClick:s,iconBefore:c.a.createElement(a.n(a("8m3F")).a,{label:t})}))))))};lo.displayName="PinnedFieldsBanner";const co=e=>e.children.length?Array.prototype.every.call(e.children,co):""===e.innerHTML,uo=(e,t=0)=>{const[n,a]=(e=>{const t=[],n=[];return e&&Array.isArray(e)&&e.length>0&&e.forEach((e=>{var a;null!==(a=e.id)&&void 0!==a&&a.startsWith("customfield_")?n.push(e.id):t.push(e.id)})),[t,n]})(e);return{numHiddenWhenEmptyItems:t,systemFieldTypes:n,customFieldTypes:a,numOfFields:e.length}},po=(T.default.div.withConfig({componentId:"j9h7gw-0"})``,T.default.div.withConfig({
componentId:"j9h7gw-1"})``,a("ZpU/").a+1),mo=T.default.div.withConfig({componentId:"j9h7gw-2"})`box-sizing:border-box;margin-bottom:${a("ZpU/").e}px;`,bo=(T.default.div.withConfig({componentId:"j9h7gw-3"})`border-radius:${po}px;position:absolute;width:100%;height:100%;top:0;left:0;`,Object(T.default)(a("340+").a).withConfig({componentId:"j9h7gw-4"})`display:none !important;margin-right:${a("ZpU/").e}px;padding:0 !important;svg{margin-bottom:-2px;}`),go=T.default.div.withConfig({componentId:"j9h7gw-5"})`min-width:24px;margin-bottom:-3px;`,fo=T.default.strong.withConfig({componentId:"j9h7gw-6"})`color:${a("5kDX").a.N800};font-size:14px;padding-right:${a("ZpU/").e/2}px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:60%;font-weight:600;flex-shrink:0;`,ho=T.default.span.withConfig({componentId:"j9h7gw-7"
})`color:${a("5kDX").a.N90};font-size:12px;padding-right:${a("ZpU/").e}px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;@-moz-document url-prefix(){&&{margin-bottom:-1px;}}`,Eo=T.default.div.withConfig({componentId:"j9h7gw-8"})`padding:${a("ZpU/").e}px ${1.5*a("ZpU/").e}px ${a("ZpU/").e}px ${12}px;box-sizing:border-box;${a("gEry").c}{color:${a("5kDX").a.N500};}${a("gEry").d}{margin-bottom:${1.5*a("ZpU/").e}px;}> div > ${a("gEry").d}:last-child{margin-bottom:0;}${({isOpen:e})=>e?T.css`border:1px solid ${a("5kDX").a.N40};border-top:0;border-bottom-right-radius:${po}px;border-bottom-left-radius:${po}px;`:T.css`display:none;`}`,yo={Title:fo,SubTitle:ho,Header:Object(T.default)(Eo).withConfig({componentId:"j9h7gw-9"
})`position:relative;display:flex;padding-top:11px;padding-bottom:11px;height:48px;border-radius:${po}px;border:1px solid ${a("5kDX").a.N40};align-items:center;&:hover{background:${a("5kDX").a.N20};cursor:pointer;${bo}{display:block !important;}}&:focus{outline:0;}&:active{background-color:${a("5kDX").a.B50};border-color:${a("5kDX").a.B300};${ho},${fo},svg{color:${a("5kDX").a.B300} !important;}}${({isOpen:e})=>e?T.css`border-bottom-right-radius:0;border-bottom-left-radius:0;`:""}`,HeaderRightAligned:T.default.div.withConfig({componentId:"j9h7gw-10"})`margin-left:auto;display:flex;`,Body:Eo,Group:mo},Oo=({Group:e=mo,Header:t,children:n})=>c.a.createElement(e,null,c.a.createElement(t,null),n);Oo.displayName="BaseGroup";var vo=Oo;const jo=e=>{const{title:t,subTitle:n,children:a,isOpen:s,onHeaderClick:i,id:o,renderHeaderActions:l,components:d}=e,u=r()(r()({},yo),d),{Group:p,Title:m,SubTitle:b,Header:g,Body:f,HeaderRightAligned:h}=u,E=null==o?void 0:{
"data-test-id":`issue-view-layout-group.common.ui.collapsible-group-factory.${o}`};return c.a.createElement(vo,{Header:()=>c.a.createElement(g,j()({isOpen:s,onClick:i,tabIndex:0},E),c.a.createElement(m,null,t),void 0!==n&&!s&&c.a.createElement(b,null,n),"function"==typeof l&&c.a.createElement(h,null,l())),Group:p},void 0!==a&&c.a.createElement(f,{isOpen:s},a))};jo.displayName="CollapsibleGroupFactory";var Io=jo;var Co=Object(S.defineMessages)({arrowRight:{id:"issue-view-layout-group.arrow-right",defaultMessage:"Right Arrow"},arrowDown:{id:"issue-view-layout-group.arrow-down",defaultMessage:"Down Arrow"},configure:{id:"issue-view-layout-group.configure",defaultMessage:"Configure"}});const So=({children:e,title:t,subTitle:n,onChange:s,components:i,projectKey:o,id:d,onConfigButtonClick:u,initialOpened:p,additionalEventAttributes:m})=>{const{formatMessage:b}=Object(a("NRyt").d)(),[g,f]=((e,t,n)=>{const a=((e,t)=>`group.state.${e}.${t}`)(e,t),[s,i]=Object(l.useState)((()=>{try{
const e=window.localStorage.getItem(a);if("true"===e)return!0;if("false"===e)return!1;throw Error("Invalid group state value")}catch(e){return n}}));return[s,e=>{try{i(e),window.localStorage.setItem(a,e)}catch(t){}}]})(o,d,!!p),{createAnalyticsEvent:h}=Object(a("rZ/p").a)(),E=e=>{e.preventDefault(),e.stopPropagation(),u&&u(e)};return c.a.createElement(Io,{id:d,title:t,subTitle:n,isOpen:g,onHeaderClick:()=>{f(!g);const e=g?"closed":"opened",n=h({eventName:`bentoCollapsibleGroup ${e}`,action:"clicked",actionSubject:"button",actionSubjectId:"bentoCollapsibleGroup"}),i=r()({groupTitle:t,groupState:e},m);Object(a("yy8q").h)(n,"bentoCollapsibleGroup",i),"function"==typeof s&&s(!g)},components:i,renderHeaderActions:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(a("Yto1").a,{content:b(Co.configure)},"function"==typeof u&&c.a.createElement(bo,{spacing:"compact",appearance:"subtle",onClick:E},c.a.createElement(a.n(a("YC+5")).a,{label:b(Co.configure),size:"small",
primaryColor:a("5kDX").a.N90}))),c.a.createElement(go,null,g?c.a.createElement(a.n(a("OV2Y")).a,{label:b(Co.arrowDown),primaryColor:a("5kDX").a.N500}):c.a.createElement(a.n(a("1YpF")).a,{label:b(Co.arrowRight),primaryColor:a("5kDX").a.N500})))},e)};So.displayName="CollapsibleGroup";var ko=So;const wo=T.default.div.withConfig({componentId:"sc-1s1hvgf-0"})`margin-bottom:${a("ZpU/").e}px;`,To=({alwaysVisible:e=!1,onChange:t,children:n,subTitle:s,groupId:i,title:o,initialOpened:r,additionalEventAttributes:d})=>{const u=Object(a("ovRs").h)(),p=Object(a("IFiJ").g)(u),[m,b]=Object(l.useState)(!1),g=Object(l.useRef)(null);Object(l.useEffect)((()=>{null!=g&&g.current&&(co(g.current)?m&&b(!1):!m&&b(!0))}),[g,n,m]);const f=document.getElementById("sla-panel"),h=((e,t,n)=>a=>{a.forEach((a=>{"childList"===a.type&&null!==e&&(co(e)?t&&n(!1):!t&&n(!0))}))})(f,m,b);Object(l.useEffect)((()=>{const e={attributes:!0,childList:!0,subtree:!0},t=new MutationObserver(h);return null!==f&&t.observe(f,e),()=>{
t.disconnect()}}),[f]);const E=!0!==e&&!m;return c.a.createElement(wo,{hidden:E},c.a.createElement(ko,{id:i,projectKey:p,title:o,onChange:t,subTitle:s,initialOpened:r,additionalEventAttributes:d},c.a.createElement("div",{ref:g,"data-test-id":`issue-view-layout-templates-views.ui.context.visible-hidden.ui.context-group.${i}`},n)))};To.displayName="ContextGroupOld";const Do=({onChange:e,children:t,subTitle:n,groupId:s,title:i,initialOpened:o,additionalEventAttributes:r})=>{const l=Object(a("ovRs").h)(),d=Object(a("IFiJ").g)(l);return c.a.createElement(wo,null,c.a.createElement(ko,{id:s,projectKey:d,title:i,onChange:e,subTitle:n,initialOpened:o,additionalEventAttributes:r},c.a.createElement("div",{"data-test-id":`issue-view-layout-templates-views.ui.context.visible-hidden.ui.context-group.${s}`},t)))};Do.displayName="ContextGroupNew";var Ro=Object(S.defineMessages)({moreFieldsText:{id:"issue-view-layout-templates-views.context.visible-hidden.more-fields-text",defaultMessage:"More fields"
},pinnedFieldsText:{id:"issue-view-layout-templates-views.context.visible-hidden.pinned-fields-text",defaultMessage:"Pinned fields"},detailsText:{id:"issue-view-layout-templates-views.context.visible-hidden.details-text",defaultMessage:"Details"}});const Lo="SHOW_MORE",Mo=({items:e,onToggleExpanded:t})=>{const{formatMessage:n}=Object(a("NRyt").d)(),s=Object(a("ovRs").h)(),[{value:i}]=Object(a("MoW5").c)(s),{createAnalyticsEvent:o}=Object(a("rZ/p").a)();Object(l.useEffect)((()=>{Object(a("yy8q").f)(o({action:"success"}),"onboarding initialized","bentoCollapsibleGroup")}),[]);const r=(e,t)=>{const n=(e=>Object(a("IvvV").c)()?Object(a("pvIb").a)(e):e.id)(t);return i&&i[n]?0===e.length?`${i[n].title}`:`${e}, ${i[n].title}`:e};let d={},u={},p={};Object(a("IvvV").a)()&&(p=uo(e.hiddenItems,e.hiddenItems.length),d=uo(e.pinnedFields),u=uo(e.visibleItems));const m=e.hiddenItems.reduce(r,""),b=e.visibleItems.reduce(r,""),g=e.pinnedFields.reduce(r,"")
;return Object(a("IvvV").b)()?c.a.createElement("div",{"data-test-id":"issue-view-layout-templates-views.ui.context.visible-hidden.ui.context-items"},0===e.pinnedFields.length&&c.a.createElement(lo,null),c.a.createElement(eo,null,c.a.createElement("div",{"data-test-id":"issue-view-layout-templates-views.ui.context.visible-hidden.ui.primary-items"},e.pinnedFields.length>0&&c.a.createElement(Do,{title:n(Ro.pinnedFieldsText),groupId:"pinned-context-items",subTitle:g,initialOpened:!0,additionalEventAttributes:d},c.a.createElement(a("qUQc").a,{items:e.pinnedFields,area:"context"})),e.visibleItems.length>0&&c.a.createElement(Do,{title:n(Ro.detailsText),groupId:"details-group",subTitle:b,initialOpened:!0,additionalEventAttributes:u},c.a.createElement(a("qUQc").a,{items:e.visibleItems,area:"context"}))),e.hiddenItems.length>0&&c.a.createElement(a("J5tv").a,{name:Lo},c.a.createElement(Do,{title:n(Ro.moreFieldsText),groupId:"secondary-context-items",onChange:t,subTitle:m,initialOpened:!1,
additionalEventAttributes:p},c.a.createElement(a("qUQc").a,{items:e.hiddenItems,area:"context"}))))):c.a.createElement("div",{"data-test-id":"issue-view-layout-templates-views.ui.context.visible-hidden.ui.context-items"},0===e.pinnedFields.length&&c.a.createElement(lo,null),c.a.createElement(eo,null,c.a.createElement("div",{"data-test-id":"issue-view-layout-templates-views.ui.context.visible-hidden.ui.primary-items"},e.pinnedFields.length>=1&&c.a.createElement(To,{title:n(Ro.pinnedFieldsText),groupId:"pinned-context-items",subTitle:g,alwaysVisible:!0,initialOpened:!0,additionalEventAttributes:d},c.a.createElement(a("qUQc").a,{items:e.pinnedFields,area:"context"})),c.a.createElement(To,{title:n(Ro.detailsText),groupId:"details-group",subTitle:b,initialOpened:!0,additionalEventAttributes:u},c.a.createElement(a("qUQc").a,{items:e.visibleItems,area:"context"}))),e.hiddenItems.length>=1&&c.a.createElement(a("J5tv").a,{name:Lo},c.a.createElement(To,{title:n(Ro.moreFieldsText),
groupId:"secondary-context-items",onChange:t,subTitle:m,initialOpened:!1,additionalEventAttributes:p},c.a.createElement(a("qUQc").a,{items:e.hiddenItems,area:"context"})))))};Mo.displayName="VisibleHiddenContextSectionView";const Ao=e=>c.a.createElement(a("IOWA").b,null,c.a.createElement(Mo,e));Ao.displayName="VisibleHiddenContextSectionViewInternal";const _o=Object(l.memo)(Ao,Tn.a);_o.displayName="MemoisedVisibleHiddenContextSectionView";var No=Object(a("5WHm").a)(a("IvvV").d,_o,Ao);const xo=["devSummary"],Uo=()=>{const[e,t]=zi(xo);let n=t;return(()=>Object(a("D3TY").a)("jff.magma.render-cost-optimisation",!1))()&&(n=Object(l.useCallback)((()=>{t()}),[e.hiddenItems])),c.a.createElement(No,{items:e,onToggleExpanded:n})};Uo.displayName="ContextItems";var Fo=Uo;const Po=()=>Object(a("D3TY").a)("issue.details.2af.error-cleanup.group-1",!1),Vo=()=>Object(a("D3TY").a)("jsm-risk-improvement-m1_z820o",!1),Ko=T.default.div.withConfig({componentId:"sc-1s4nl9d-0"
})`display:flex;flex:1 1 auto;min-width:0;width:100%;flex-direction:column;`,$o=T.default.div.withConfig({componentId:"sc-1s4nl9d-1"})`display:flex;flex:1 1 auto;> div{display:flex;flex:1 1 auto;}`;var Wo=()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(Gs,null),c.a.createElement(Ko,null,(()=>Object(a("D3TY").a)("jsm-replacing-major-incident",!1))()&&c.a.createElement(a("0JfS").b,null),c.a.createElement(xs,null),c.a.createElement($o,{key:"SUMMARY"},c.a.createElement(Ks,null))));var Bo=()=>{const{data:e}=Object(et.p)(a("JHXK").a);return!(null!=e&&e.isProjectArchived)&&c.a.createElement(a("CfTs").b,null)};const qo=T.default.div.withConfig({componentId:"caaq53-0"})`margin-bottom:0;`,Ho=()=>c.a.createElement(a("aOsC").a,{id:"status-and-approval-spotlight"},c.a.createElement(qo,{"data-test-id":"issue.views.issue-base.context.status-and-approvals-wrapper.status-and-approval"},c.a.createElement(mi,{key:"WRAPPED_STATUS"}),c.a.createElement(Bo,null)));Ho.displayName="FoundationContext"
;var Go=Ho;const Yo=["com.atlassian.jira.plugin.system.customfieldtypes:select","description","com.atlassian.jira.plugins.service-entity:service-entity-field-cftype"],Zo=(e,t)=>e.map((e=>{const{type:n,id:s}=Object(a("1bbY").a)(t[(e=>Object(a("BxuJ").a)()?Object(a("pvIb").a)(e):e.id)(e)],e);return Yo.includes(n)?r()(r()({},e),{},{globalRef:`global-spotlight-target-${s}`}):e}));var Xo=()=>{var e,t,n,s;const i=Object(a("ovRs").h)(),[o]=Object(a("pvIb").f)(i),[{value:r}]=Object(a("MoW5").c)(i),l=Zo(null!==(e=null===(t=o.requestPortalSection)||void 0===t?void 0:t.items)&&void 0!==e?e:[],r),d={id:"JSM_REQUEST_PANEL",type:"CustomItem",item:c.a.createElement(a("xGE0").a,{requestPanelItems:l})},[u]=Object(a("j3bG").b)({issueKey:i,fieldKey:"servicedesk-practices"}),p=[d,...(e=>Vo()&&(null==e?void 0:e[0])===a("o4hb").a)(u)?[{id:"JSM_RISK_IMPROVEMENT_ITEM_ID",type:"CustomItem",item:c.a.createElement(a("kPdI").a,{issueKey:i})
}]:[],...null!==(n=null===(s=o.contentSection)||void 0===s?void 0:s.items)&&void 0!==n?n:[]];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ai,{items:p}),c.a.createElement(a("mYii").d,null))};var Jo=Object(a("5WHm").a)((()=>Object(a("D3TY").a)("issue.details.layout-containers-api",!1)),(()=>{const e=Object(a("ovRs").h)(),[t]=Object(a("pvIb").g)(e,"CONTENT"),[n]=Object(a("pvIb").g)(e,"REQUEST_PORTAL"),[{value:s}]=Object(a("MoW5").c)(e),i=Zo(n,s),o={id:"JSM_REQUEST_PANEL",type:"CustomItem",item:c.a.createElement(a("xGE0").a,{requestPanelItems:i})},[r]=Object(a("j3bG").b)({issueKey:e,fieldKey:"servicedesk-practices"}),l=[o,...(e=>Vo()&&(null==e?void 0:e[0])===a("o4hb").a)(r)?[{id:"JSM_RISK_IMPROVEMENT_ITEM_ID",type:"CustomItem",item:c.a.createElement(a("kPdI").a,{issueKey:e})}]:[],...t];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Mi,{items:l}),c.a.createElement(a("mYii").d,null))}),Xo),zo=Object(S.defineMessages)({slaText:{
id:"issue-view-layout-templates-servicedesk.context.sla-text",defaultMessage:"SLAs"}});const Qo=["com.atlassian.jira.plugin.system.customfieldtypes:select","description","com.atlassian.jira.plugins.service-entity:service-entity-field-cftype"],er=e=>Object(a("BxuJ").a)()?Object(a("pvIb").a)(e):e.id,tr=(e,t,n,s,i)=>{if((()=>Object(a("D3TY").a)("issue.details.2af.error-cleanup.group-2",!1))()){if(!t)return[];if(!(t.visibleItems&&s&&i&&n))return t}if(!e)return t;const o=t.visibleItems.find((e=>{var t;const n=s[er(e)];return"com.atlassian.servicedesk:sd-request-feedback"===(null==n||null===(t=n.schema)||void 0===t?void 0:t.custom)}));if(void 0===o)return t;const l=t.visibleItems.filter((e=>{var t;const n=s[er(e)];return"com.atlassian.servicedesk:sd-request-feedback"!==(null==n||null===(t=n.schema)||void 0===t?void 0:t.custom)})),c=void 0!==i[er(o)]&&null!==i[er(o)];return n.statusCategory.id===Object(a("RQwY").categoryIdForStatusCategory)("DONE")&&c?r()(r()({},t),{},{visibleItems:[o,...l]
}):r()(r()({},t),{},{visibleItems:l})},nr=(e,t)=>!Po()||e&&t?e.map((e=>{const{type:n,id:s}=Object(a("1bbY").a)(t[er(e)],e);return Qo.includes(n)?r()(r()({},e),{},{globalRef:`global-spotlight-target-${s}`}):e})):[],ar=["SLA_PANEL","ASSET_ONBOARDING"];var sr=()=>{const[e,t]=zi(ar),{formatMessage:n}=Object(a("NRyt").d)(),s=Object(a("ovRs").h)(),i=Object(a("IFiJ").g)(s),[o]=Object(a("j3bG").b)({issueKey:s,fieldKey:"status"}),[{value:r}]=Object(a("MoW5").c)(s),[l]=Object(a("j3bG").d)(s),d=Object(a("IFiJ").c)(i),[u,p]=Object(a("JLIk").b)(),m=Object(a("AJ6X").c)(i),b=void 0!==d&&d.isSimplified,g=((e,t)=>Po()?{hiddenItems:nr(null==e?void 0:e.hiddenItems,t),pinnedFields:nr(null==e?void 0:e.pinnedFields,t),visibleItems:nr(null==e?void 0:e.visibleItems,t)}:{hiddenItems:nr(e.hiddenItems,t),pinnedFields:nr(e.pinnedFields,t),visibleItems:nr(e.visibleItems,t)})(tr(b,e,o,r,l),r),f=g.visibleItems.findIndex((e=>"SLA_PANEL"===e.id)),h=-1!==f&&g.visibleItems.splice(f,1)
;let E=!Object(a("IvvV").b)()||(p||u&&0!==u.goalViews.length);Object(a("IvvV").b)()&&(m||(null==d?void 0:d.projectStatus)===a("mJbZ").b||(E=!1));const y=!!h&&(Object(a("IvvV").b)()?c.a.createElement(Do,{title:n(zo.slaText),groupId:"sla-group",initialOpened:!0},c.a.createElement(a("qUQc").a,{items:h,area:"context"})):c.a.createElement(To,{title:n(zo.slaText),groupId:"sla-group",initialOpened:!0,alwaysVisible:Boolean(u&&0!==u.goalViews.length)},c.a.createElement(a("qUQc").a,{items:h,area:"context"})));return c.a.createElement(c.a.Fragment,null,Boolean(E)&&y,c.a.createElement(No,{items:g,onToggleExpanded:t}))};const ir=()=>{const e=Object(a("ovRs").h)(),t=Object(a("IFiJ").g)(e);return Object(a("IFiJ").i)(t)===a("Hh3U").h?"JSD_TEMPLATE":"DEFAULT_TEMPLATE"},or=()=>{switch(ir()){case"JSD_TEMPLATE":return c.a.createElement(Wo,null);default:return c.a.createElement(Xs,null)}},rr=()=>{switch(ir()){case"JSD_TEMPLATE":return c.a.createElement(Go,null);default:return c.a.createElement(gi,null)}
},lr=()=>{switch(ir()){case"JSD_TEMPLATE":return c.a.createElement(Jo,null);default:return c.a.createElement(Ui,null)}},cr=()=>{switch(ir()){case"JSD_TEMPLATE":return c.a.createElement(sr,null);default:return c.a.createElement(Fo,null)}};var dr=a("EcEN"),ur=a.n(dr),pr=a("44Ds"),mr=a.n(pr);const br=()=>Object(a("D3TY").a)("jsm-similar-requests-panel-query-text-from-frontend",!1),gr=e=>e.issues.map((e=>({id:e.id}))),fr=mr()(((e,t,n,s)=>{const i=a("SHpS").d.now(),o=`${t}/gateway/api/similarity/issue/project`,l={subProduct:"serviceDesk",product:"jira",sessionId:e.sessionId,containerId:e.projectId,objectId:e.issueId,principalId:"context",tenantId:e.cloudId},c=br()?r()(r()({},l),{},{queryText:e.queryText}):l;return Object(a("QNWr").a)(o,{body:JSON.stringify({context:c,filter:n,limit:15,estimatedTotalIssues:1e3}),headers:{"Content-Type":"application/json"},method:"POST"}).then((e=>(Object(a("yy8q").b)(s({}),"fetchRelatedIssues succeeded",{elapsedTimeMilli:Math.floor(a("SHpS").d.now()-i),
results:gr(e),resultsSize:e.issues.length}),e))).catch((e=>{throw Object(a("yy8q").b)(s({}),"fetchRelatedIssues failed",{elapsedTimeMilli:Math.floor(a("SHpS").d.now()-i),traceId:e.traceId,statusCode:e.statusCode}),e}))}),((e,t,n)=>{var a;return`${e.issueId} - ${null!==(a=e.queryText)&&void 0!==a?a:""} - ${n.jql}`})),hr=["summary","issuetype"],Er=fr,yr={data:void 0,isLoading:!1,error:void 0,baseUrl:Object(a("Rp3N").c)(""),issueId:Object(a("Rp3N").l)(""),projectId:Object(a("Rp3N").s)(""),projectKey:Object(a("Rp3N").t)(""),cloudId:Object(a("Rp3N").d)(""),status:"OPEN"},Or=async(e,t,n,a,s)=>{const{projectId:i,issueId:o,cloudId:r,projectKey:l,baseUrl:c}=n,d={projectId:i,issueId:o,sessionId:t,cloudId:r,queryText:s},u={jql:(e=>"OPEN"===e?"statusCategory != Done":"statusCategory = Done")(e),fields:hr,projectKey:l,columnTypesAsJson:hr};return(e=>e.issues.map(((e,t)=>({id:e.id,issueKey:e.key,issueLink:e.self,issueTypeIconUrl:e.fields.issuetype.iconUrl,issueTypeName:e.fields.issuetype.name,
issueSummary:e.fields.summary,position:t}))))(await Er(d,c,u,a))},vr={fetchRelatedIssuesForIssue:(e,t,n)=>async({getState:a,setState:s})=>{const i=a();s({isLoading:!0,error:void 0});try{const{status:o}=i;let r,l;if("OPEN"===o){r=await Or("OPEN",e,i,t,n);const o=a();s({data:{OPEN:r,RESOLVED:void 0===o.data?[]:o.data.RESOLVED},isLoading:!1,error:void 0})}else if("RESOLVED"===o){l=await Or("RESOLVED",e,i,t,n);const o=a();s({data:{OPEN:void 0===o.data?[]:o.data.OPEN,RESOLVED:l},isLoading:!1,error:void 0})}}catch(r){var o;null===(o=Er.cache)||void 0===o||o.clear(),s({isLoading:!1,error:r})}},setContext:()=>({setState:e},t)=>{e(t)},setIssueStatus:e=>({getState:t,setState:n})=>{const{status:a}=t();e!==a&&n({status:e})}},jr=Object(a("0b8M").a)({name:"FetchRelatedIssuesForIssue",initialState:yr,actions:vr}),Ir=Object(a("UCyb").a)(jr,{onInit:vr.setContext}),Cr=Object(a("dq9g").a)(jr),Sr=()=>{const e=Object(a("ovRs").h)(),[t,n]=Object(l.useState)(),[s]=Object(a("j3bG").b)({issueKey:e,
fieldKey:a("TuCe").g}),[i]=Object(a("j3bG").b)({issueKey:e,fieldKey:a("TuCe").z});return Object(l.useEffect)((()=>{br()&&(async()=>{var e;let t=s;"object"==typeof s&&null!==s&&(t=await Object(a("IJwP").b)(s)),n(`${i} ${null!==(e=t)&&void 0!==e?e:""}`.substring(0,1e4))})()}),[i,s]),t},kr=["buttonStyles"],wr=e=>(t,n)=>{const s=t(n),{buttonStyles:i}=s,o=C()(s,kr);return r()(r()({},o),{},{buttonStyles:r()(r()({},i),{},{padding:`0 ${a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px`,margin:`0 ${a("ZpU/").e/2}px 0 ${a("ZpU/").e/2}px`,backgroundColor:e?a("5kDX").a.N400:a("5kDX").a.N20,"&:hover":{backgroundColor:e?a("5kDX").a.N400:a("5kDX").a.N30},"&:active":{backgroundColor:e?a("5kDX").a.N400:a("5kDX").a.B50}})})},Tr=({children:e,onClick:t,isSelected:n})=>c.a.createElement(a("0+Gd").a,{appearance:"subtle",spacing:"compact",isSelected:n,theme:wr(n),onClick:t},e);Tr.displayName="ButtonComponent"
;const Dr=({items:e,selectedItem:t,onSelectIssueStatusItem:n})=>c.a.createElement(c.a.Fragment,null,e.map((e=>c.a.createElement(Tr,{key:e.key,isSelected:t.key===e.key,onClick:(t,a)=>n(e,a,"IssueStatusButton")},e.name))));var Rr=Object(S.defineMessages)({show:{id:"smart-related-issues-panel.header.expander.show",defaultMessage:"Show"},hide:{id:"smart-related-issues-panel.header.expander.hide",defaultMessage:"Hide"}});var Lr=({isContentExpanded:e,onExpand:t,onCollapse:n})=>{const{formatMessage:s}=Object(a("NRyt").d)(),i=(e,n)=>{t(),Object(a("yy8q").h)(n,"showRelatedIssues")},o=(e,t)=>{n(),Object(a("yy8q").h)(t,"hideRelatedIssues")};return e?(()=>c.a.createElement(a("340+").a,{"aria-label":s(Rr.hide),appearance:"subtle-link",spacing:"default",iconBefore:c.a.createElement(a.n(a("OV2Y")).a,{label:"",size:"large"}),onClick:o}))():(()=>c.a.createElement(a("340+").a,{"aria-label":s(Rr.show),appearance:"subtle-link","data-test-id":"smart-related-issues-panel.ui.header.expander.expand-button",
spacing:"default",iconBefore:c.a.createElement(a.n(a("1YpF")).a,{label:"",size:"large"}),onClick:i}))()},Mr=Object(S.defineMessages)({feedback:{id:"smart-related-issues-panel.header.feedback",defaultMessage:"Give feedback"},hideSimilarRequests:{id:"smart-related-issues-panel.header.hide-similar-requests",defaultMessage:"Hide similar requests"},title:{id:"smart-related-issues-panel.header.title",defaultMessage:"Similar requests"}});const Ar=T.default.div.withConfig({componentId:"u06h2f-0"})`display:flex;flex-direction:row;justify-content:space-between;`,_r=T.default.div.withConfig({componentId:"u06h2f-1"})`margin-right:${1*a("ZpU/").e}px;`,Nr=T.default.div.withConfig({componentId:"u06h2f-2"})`display:flex;flex-direction:row;align-items:center;`,xr=Object(T.default)(a("vPcr").c).withConfig({componentId:"u06h2f-3"})`${a("cOE5").a};${a("5kDX").d.h400()};margin:0;min-width:0;`,Ur=({onExpand:e,onCollapse:t,isExpanded:n})=>{
const{formatMessage:s}=Object(a("NRyt").d)(),i=Object(a("ovRs").j)(),o=Object(a("AJ6X").a)(i),[r,d]=Object(l.useState)(!1),u=({isOpen:e})=>{d(e)},p=`/jira/servicedesk/projects/${i}/settings/itsm-features`,m={feedbackGroupId:"jira-servicedesk-related-issues",feedbackType:a("mRGU").a,additionalFeedbackEntries:[{key:a("F5EH").a.FEEDBACK_COLLECTOR_LOCATION,value:"jsm.issue-view"},{key:a("F5EH").a.FEEDBACK_COLLECTOR_ID,value:"bento-similar-requests-panel"}]};return c.a.createElement(Ar,null,c.a.createElement(Nr,null,c.a.createElement(_r,null,c.a.createElement(a.n(a("xjlz")).a,{size:"medium",label:""})),c.a.createElement(xr,null,s(Mr.title))),c.a.createElement(a("/HJ0").a,null,(()=>c.a.createElement(a("MJlJ").a,null,((e,{openFeedbackDialog:t})=>c.a.createElement(c.a.Fragment,null,o?(e=>c.a.createElement(a("Yc37").a,{onOpenChange:u,shouldFlip:!0,triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"default",isSelected:r,iconBefore:c.a.createElement(a.n(a("eaSS")).a,{label:"",
size:"medium"})},boundariesElement:"scrollParent",position:"bottom center"},c.a.createElement(a("6IoW").a,null,c.a.createElement(a("ourr").a,{onClick:()=>e(m)},s(Mr.feedback)),c.a.createElement(a("ourr").a,{href:p},s(Mr.hideSimilarRequests)))))(t):(e=>n?c.a.createElement(a("340+").a,{appearance:"link",onClick:()=>e(m)},s(Mr.feedback)):null)(t)))))(),c.a.createElement(Lr,{isContentExpanded:n,onExpand:e,onCollapse:t})))};Ur.displayName="PanelHeader";var Fr=Ur,Pr=Object(S.defineMessages)({errorMessage:{id:"smart-related-issues-panel.issue-line-card-group.error-feedback.error-message",defaultMessage:"We couldn't load any similar requests."},tryAgainLink:{id:"smart-related-issues-panel.issue-line-card-group.error-feedback.try-again-link",defaultMessage:"Try again?"}});const Vr=T.default.div.withConfig({componentId:"sc-197a2s2-0"})`margin-right:${a("ZpU/").e}px;`,Kr=T.default.div.withConfig({componentId:"sc-197a2s2-1"
})`display:flex;align-items:center;`,$r=({onTryAgain:e,useIntl:t=a("NRyt").d})=>{const{formatMessage:n}=t();return c.a.createElement(Kr,null,(()=>c.a.createElement(Vr,null,c.a.createElement(a.n(a("425I")).a,{label:"error",primaryColor:"#FF5630"})))(),n(Pr.errorMessage),(()=>c.a.createElement(a("Xuhx").a,{appearance:"link",onClick:e},n(Pr.tryAgainLink)))())};$r.displayName="ErrorFeedback";var Wr=$r;const Br=Object(S.defineMessages)({issueTypeName:{id:"smart-related-issues-panel.issue-line-card-group.issue-line-card.issue-type-name",defaultMessage:"{issueTypeName}"}}),qr=Object(T.default)(a("340+").a).withConfig({componentId:"vkd300-0"})`&&{margin-top:4px;}`,Hr=({issueTypeIconUrl:e,issueTypeName:t,issueKey:n,issueSummary:s})=>{const{formatMessage:i}=Object(a("NRyt").d)(),o=i(Br.issueTypeName,{issueTypeName:t});return c.a.createElement(qr,{appearance:"link",href:n,iconBefore:c.a.createElement(a("Opng").a,{alt:o,url:e})},n," ",s)};Hr.displayName="IssueLineCard"
;var Gr=Hr,Yr=Object(S.defineMessages)({errorMessage:{id:"smart-related-issues-panel.issue-line-card-group.no-issues-feedback.error-message",defaultMessage:"We couldn't find any similar requests."},searchLink:{id:"smart-related-issues-panel.issue-line-card-group.no-issues-feedback.search-link",defaultMessage:"Search instead?"}});const Zr=T.default.div.withConfig({componentId:"mfqcq6-0"})`margin-right:${a("ZpU/").e}px;`,Xr=T.default.div.withConfig({componentId:"mfqcq6-1"})`display:flex;align-items:center;`,Jr=({useIntl:e=a("NRyt").d})=>{const{formatMessage:t}=e(),n=`/jira/servicedesk/projects/${Object(a("ovRs").j)()}/issues`;return c.a.createElement(Xr,null,(()=>c.a.createElement(Zr,null,c.a.createElement(a.n(a("mER7")).a,{label:"info",primaryColor:"#0747A6"})))(),t(Yr.errorMessage),(()=>c.a.createElement(a("Xuhx").a,{appearance:"link",target:"_blank",href:n},t(Yr.searchLink)))())};Jr.displayName="NoIssuesFeedback";var zr=Jr,Qr=Object(S.defineMessages)({show:{
id:"smart-related-issues-panel.issue-line-card-group.show-more.show",defaultMessage:"Show more"}});const el=T.default.div.withConfig({componentId:"sc-4l43h1-0"})`margin:${a("ZpU/").e}px 0px;`;var tl=({issuesLength:e,isShowMoreExpanded:t,onExpand:n})=>{const{formatMessage:s}=Object(a("NRyt").d)(),i=(t,s)=>{n(),Object(a("yy8q").h)(s,"showMoreRelatedIssues",{issuesLength:e})};return t?null:(()=>c.a.createElement(el,null,c.a.createElement(a("Xuhx").a,{appearance:"link",onClick:i},s(Qr.show))))()};const nl=T.default.div.withConfig({componentId:"sc-12p1g4z-0"})`padding-left:${2*a("ZpU/").e}px;padding-right:${2*a("ZpU/").e}px;`,al=T.default.div.withConfig({componentId:"sc-12p1g4z-1"})`display:flex;flex-direction:row;justify-content:space-between;margin-bottom:${a("ZpU/").e}px;`,sl=()=>c.a.createElement(nl,null,c.a.createElement(al,null,c.a.createElement(a("0IkZ").l,{height:"16px",width:"6%"}),c.a.createElement(a("0IkZ").l,{height:"16px",width:"90%"
})),c.a.createElement(al,null,c.a.createElement(a("0IkZ").l,{height:"16px",width:"6%"}),c.a.createElement(a("0IkZ").l,{height:"16px",width:"90%"})),c.a.createElement(al,null,c.a.createElement(a("0IkZ").l,{height:"16px",width:"6%"}),c.a.createElement(a("0IkZ").l,{height:"16px",width:"90%"})),c.a.createElement(al,null,c.a.createElement(a("0IkZ").l,{height:"16px",width:"6%"}),c.a.createElement(a("0IkZ").l,{height:"16px",width:"90%"})),c.a.createElement(al,null,c.a.createElement(a("0IkZ").l,{height:"16px",width:"6%"}),c.a.createElement(a("0IkZ").l,{height:"16px",width:"90%"})));sl.displayName="LoadingSkeleton";var il=sl;const ol=T.default.div.withConfig({componentId:"nynbds-0"})`display:flex;`,rl=Object(T.default)(ol).withConfig({componentId:"nynbds-1"})`display:block;width:100%;max-height:${30*a("ZpU/").e}px;${({isExpanded:e})=>e&&"\n        overflow-y: scroll;\n    "} ul{box-shadow:none;}ul div{border-bottom:0px;}`,ll=({sessionId:e})=>{
const[t,n]=Object(l.useState)(!1),{createAnalyticsEvent:s}=Object(a("rZ/p").a)(),i=Sr(),[{data:o,isLoading:r,error:d,status:u},{fetchRelatedIssuesForIssue:p}]=Cr();if(d)return c.a.createElement(Wr,{onTryAgain:()=>{p(e,s,i)}});if(r||!o)return c.a.createElement(il,null);const m=o[u];if(m&&0===m.length)return c.a.createElement(zr,null);const b=t?m:m.slice(0,5);return c.a.createElement(ol,null,c.a.createElement(rl,{isExpanded:t},c.a.createElement(a("a0QS").a,{items:b,groupId:e,onClick:(e,t)=>{null!=e&&(Object(a("sKDb").e)(t)||Object(a("sKDb").a)(t)?Object(a("yy8q").h)(s({}),"relatedIssue clicked",{newTabOpened:!0,position:e.position,relatedIssueId:e.id}):(Object(a("yy8q").h)(s({}),"relatedIssue clicked",{newTabOpened:!1,position:e.position,relatedIssueId:e.id}),window.location.assign(e.issueKey)))}},((e,t,n,a)=>c.a.createElement(Gr,a))),(()=>m.length>5&&c.a.createElement(tl,{isShowMoreExpanded:t,onExpand:()=>n(!0),issuesLength:m.length}))()))};ll.displayName="IssueLineCardGroup"
;var cl=ll,dl=Object(S.defineMessages)({filterBy:{id:"smart-related-issues-panel.filter-by",defaultMessage:"Show:"},open:{id:"smart-related-issues-panel.open",defaultMessage:"Open"},resolved:{id:"smart-related-issues-panel.resolved",defaultMessage:"Resolved"}}),ul=Object(S.defineMessages)({header:{id:"smart-related-issues-panel.onboarding.popper-content.header",defaultMessage:"Discover similar issues"},secondaryButton:{id:"smart-related-issues-panel.onboarding.popper-content.secondary-button",defaultMessage:"No thanks"},primaryButton:{id:"smart-related-issues-panel.onboarding.popper-content.primary-button",defaultMessage:"Try it now"}}),pl=Object(S.defineMessages)({modalBody:{id:"smart-related-issues-panel.onboarding.popper-content.spotlight-messages.modal-body",defaultMessage:"Save time triaging and finding related solutions directly from the request view."},adminModalBody:{id:"smart-related-issues-panel.onboarding.popper-content.spotlight-messages.admin-modal-body",
defaultMessage:'Save time triaging and finding related solutions directly from the request view. You can disable this feature at any time in your <a href="{url}" target="_blank" tabindex="-1">project settings</a>.'}});const ml=T.default.p.withConfig({componentId:"sc-1iu91ez-0"})`margin:0px;a{&:hover{color:${a("5kDX").a.P200};}&:active:{color:${a("5kDX").a.B400};}&:visited,&:link{color:${a("5kDX").a.N0};font-weight:bold;}}`,bl=()=>{const{formatMessage:e}=Object(a("NRyt").d)();return c.a.createElement(ml,null,e(pl.modalBody))};bl.displayName="ModalBodyMessage";const gl=({featuresPageUrl:e})=>c.a.createElement(ml,null,c.a.createElement(S.FormattedHTMLMessage,j()({},pl.adminModalBody,{values:{url:e}})));gl.displayName="AdminModalBodyMessage";const fl=T.default.div.withConfig({componentId:"sc-11zpjd5-0"})`margin:0px 4px;`,hl=T.default.div.withConfig({componentId:"sc-11zpjd5-1"
})`background:${"#6554C0"};box-shadow:0 4px 8px -2px ${"rgba(9, 30, 66, 0.25)"},0 0 1px ${"rgba(9, 30, 66, 0.31)"};color:${"#FFFFFF"};display:flex;flex-direction:column;padding:${Object(a("9Z+d").multiply)(a("7w+A").h,2)}px ${Object(a("9Z+d").multiply)(a("7w+A").h,2.5)}px;max-width:${Object(a("9Z+d").multiply)(a("7w+A").h,34)}px;border-radius:3px;`,El=T.default.div.withConfig({componentId:"sc-11zpjd5-2"})`${a("PFik").h600};font-size:20px;font-style:inherit;font-weight:500;letter-spacing:-0.008em;line-height:1.2;margin-bottom:${a("7w+A").h}px;margin-top:0px;color:${"#FFFFFF"};`,yl=T.default.div.withConfig({componentId:"sc-11zpjd5-3"})`display:flex;justify-content:flex-end;align-items:center;padding-top:${a("7w+A").h}px;`,Ol={default:{background:{default:{light:a("5kDX").a.P400,dark:a("5kDX").a.P400},hover:{light:a("5kDX").a.P200,dark:a("5kDX").a.P200},active:{light:a("5kDX").a.P500,dark:a("5kDX").a.P500},disabled:{light:a("5kDX").a.P400,dark:a("5kDX").a.P400},selected:{
light:a("5kDX").a.R500,dark:a("5kDX").a.R500},focus:{light:a("5kDX").a.P400,dark:a("5kDX").a.P400}},boxShadow:{focus:{light:`${a("5kDX").a.P100} 0 0 0 2px`,dark:`${a("5kDX").a.P100} 0 0 0 2px`}},color:{default:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},hover:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},active:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},disabled:{light:a("5kDX").a.N0,dark:a("5kDX").a.DN30},selected:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},focus:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0}},outline:{focus:{light:"none",dark:"none"}}},subtle:{background:{default:{light:"none",dark:"none"},hover:{light:a("5kDX").a.P200,dark:a("5kDX").a.P200},active:{light:a("5kDX").a.P500,dark:a("5kDX").a.P500},disabled:{light:"none",dark:"none"},selected:{light:a("5kDX").a.N700,dark:a("5kDX").a.DN0},focusSelected:{light:a("5kDX").a.N700,dark:a("5kDX").a.DN0}},boxShadow:{focus:{light:`${a("5kDX").a.P100} 0 0 0 2px`,dark:`${a("5kDX").a.P100} 0 0 0 2px`}},color:{default:{light:a("5kDX").a.N0,
dark:a("5kDX").a.N0},hover:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},active:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},disabled:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},selected:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0},focus:{light:a("5kDX").a.N0,dark:a("5kDX").a.N0}},outline:{focus:{light:"none",dark:"none"}}}},vl=()=>(e,t)=>{const{buttonStyles:n,spinnerStyles:a}=e(t),{appearance:s,state:i,mode:o}=t,l=Ol[`${s||""}`];let c={};return l&&(c=Object.keys(l).reduce(((e,t)=>{const n=l[t];return n[i]&&(e[t]=n[i][o]),e}),{})),{buttonStyles:r()(r()({},n),c),spinnerStyles:a}},jl=({onPrimaryActionClick:e,onSecondaryActionClick:t})=>{const{formatMessage:n}=Object(a("NRyt").d)(),s=Object(a("ovRs").j)(),i=Object(a("AJ6X").a)(s),o=`/jira/servicedesk/projects/${s}/settings/itsm-features`;return c.a.createElement(hl,null,c.a.createElement(El,null,n(ul.header)),i?c.a.createElement(gl,{featuresPageUrl:o
}):c.a.createElement(bl,null),c.a.createElement(yl,null,c.a.createElement(fl,null,c.a.createElement(a("0+Gd").a,{theme:vl(),appearance:"subtle",onClick:t},n(ul.secondaryButton))),c.a.createElement(fl,null,c.a.createElement(a("0+Gd").a,{theme:vl(),onClick:e,autoFocus:!0},n(ul.primaryButton)))))};jl.displayName="PopperContent";var Il=jl;const Cl=T.default.div.withConfig({componentId:"sc-1js68ii-0"})`${e=>e.styling};background-color:white;border-radius:4px;box-shadow:0 0 0 1px ${a("5kDX").a.N40A},0 4px 11px ${a("5kDX").a.N40A};opacity:${({isReferenceHidden:e,active:t})=>e||!t?0:1};transition:opacity 200ms ease-in-out;z-index:${a("ZpU/").f.layer};`,Sl=T.default.div.withConfig({componentId:"sc-1js68ii-1"
})`${e=>r()({},e.extraStyles)};`,kl=a("5kDX").a.P75,wl=T.keyframes`0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}`,Tl=T.css`animation:${wl} 3000ms ${"cubic-bezier(0.55, 0.055, 0.675, 0.19)"} infinite;`,Dl=T.css`content:'';position:absolute;top:0;left:0;width:100%;height:100%;`,Rl=T.default.span.withConfig({componentId:"sc-1js68ii-2"})`display:block;> *{position:relative;&::before{${Dl} border-radius:${a("ZpU/").e/2}px;box-shadow:${({pulseColor:e=kl})=>`0 0 0 0px ${e}`};opacity:${e=>e.hasPulse?1:0};transition:opacity 0.1s ease-in-out;pointer-events:none;}&::after{${Dl} border-radius:${a("ZpU/").e/2}px;box-shadow:${({pulseColor:e=kl,pulseShadowColor:t="rgba(101, 84, 192, 1)"})=>`0 0 0 0px ${e} , 0 0 ${a("ZpU/").e}px ${t}`};opacity:0;pointer-events:none;${e=>e.isPulsing&&Tl}}}`,Ll=({children:e,isExpanded:t,onPrimaryActionClick:n})=>{
const s=Object(a("+2Qm").a)(),i=Object(l.useMemo)((()=>new(a("qDKq").a)(s,"/gateway/api")),[s]),[o,r]=Object(a("SKoM").a)(i,"related-issues-panel"),[d,u]=Object(l.useState)(!0),[p,m]=Object(l.useState)(!1),[b,g]=Object(l.useState)(!1),f=Object(l.useRef)(null),h=Object(l.useCallback)((()=>{u(!1),r&&r()}),[r]),E=()=>{h(),n()},y=d&&p&&o&&r&&!t;Object(l.useEffect)((()=>{y&&(Object(a("ZpRC").a)(f.current,{inline:"end",behavior:"smooth"}),setTimeout((()=>{g(!0)}),300))}),[p,d,y]),Object(l.useEffect)((()=>{u(!!o)}),[o]),Object(l.useEffect)((()=>{t&&(h(),u(!1),r&&r())}),[h,t,r]);return c.a.createElement(a("9y0v").d,null,c.a.createElement(a("LLx9").a,null,c.a.createElement(a("2FJR").a,null,(({ref:n})=>c.a.createElement(c.a.Fragment,null,c.a.createElement(Rl,{isPulsing:o&&r&&d&&!t},c.a.createElement("div",{ref:n,onMouseEnter:()=>m(!0)},e)),c.a.createElement(Sl,{innerRef:f}),(()=>y?c.a.createElement(a("IV4f").a,{placement:"top-end"},(({ref:e,style:t,isReferenceHidden:n})=>c.a.createElement(Cl,{
innerRef:e,styling:t,isReferenceHidden:n,active:b},c.a.createElement(Il,{onPrimaryActionClick:E,onSecondaryActionClick:h})))):null)())))))};Ll.displayName="OnboardingController";const Ml=T.default.div.withConfig({componentId:"cb0xo6-0"})`margin-top:${a("ZpU/").e}px;margin-bottom:${3*a("ZpU/").e}px;display:flex;flex-direction:column;border-radius:${a("ZpU/").e/2}px;border:1px solid #dfe1e6;background-color:${a("5kDX").a.N0};padding:16px;${({isExpanded:e,hasContentItems:t})=>e&&t&&"padding-bottom: 0"};`,Al=(T.default.div.withConfig({componentId:"cb0xo6-1"})`display:flex;flex-direction:row;justify-content:space-between;`,T.default.div.withConfig({componentId:"cb0xo6-2"})`margin-right:${1*a("ZpU/").e}px;`,T.default.div.withConfig({componentId:"cb0xo6-3"})`display:flex;flex-direction:row;align-items:center;`,T.default.div.withConfig({componentId:"cb0xo6-4"})`padding-top:${2*a("ZpU/").e}px;`),_l=(Object(T.default)(a("vPcr").c).withConfig({componentId:"cb0xo6-5"
})`${a("cOE5").a};${a("5kDX").d.h400()};margin:0;min-width:0;`,T.default.div.withConfig({componentId:"cb0xo6-6"})`display:flex;margin-top:${a("ZpU/").e}px;`),Nl=T.default.div.withConfig({componentId:"cb0xo6-7"})`${a("cOE5").a};min-width:0;`,xl=({sessionId:e})=>{const{formatMessage:t}=Object(a("NRyt").d)(),{createAnalyticsEvent:n}=Object(a("rZ/p").a)(),[s,i]=Object(l.useState)(!1),o=Sr(),r={OPEN:{key:"OPEN",name:t(dl.open)},RESOLVED:{key:"RESOLVED",name:t(dl.resolved)}},d=[r.OPEN,r.RESOLVED],[{status:u},{setIssueStatus:p,fetchRelatedIssuesForIssue:m}]=Cr();Object(l.useEffect)((()=>{s&&m(e,n,o)}),[n,m,s,e,o]);const b=c.a.createElement(_l,null,c.a.createElement(Nl,null,t(dl.filterBy)),c.a.createElement(Dr,{items:d,selectedItem:r[u],onSelectIssueStatusItem:(t,s,i)=>{Object(a("yy8q").h)(s,i,{selectedStatusFilter:t.key}),p(t.key),m(e,n,o)}}));return c.a.createElement(a("HlQC").a,{attributes:{selectedStatusFilter:u}},c.a.createElement(Ll,{isExpanded:s,onPrimaryActionClick:()=>{
Object(a("yy8q").h)(n({action:"clicked",actionSubject:"button"}),"showRelatedIssues",{fromOnboarding:!0,selectedStatusFilter:u}),i(!0)}},c.a.createElement(Ml,{isExpanded:s},c.a.createElement(Fr,{onExpand:()=>i(!0),onCollapse:()=>i(!1),isExpanded:s}),s&&c.a.createElement(c.a.Fragment,null,b,c.a.createElement(Al,{"data-test-id":"smart-related-issues-panel.ui.fields-container"},c.a.createElement(cl,{sessionId:e}))))))};xl.displayName="RelatedIssuesPanelView";var Ul=xl;const Fl=e=>null!=e,Pl=e=>Fl(e)&&""!==e;var Vl=()=>{const e=ur.a.v4(),t=Object(a("ovRs").g)(),n=Object(a("ovRs").j)(),s=Object(a("Rp3N").s)(Object(a("IFiJ").e)(n)||""),i=Object(a("IFiJ").h)(n),o=Object(a("+2Qm").a)(),r=Object(a("Rp3N").c)(""),l=Object(a("ovRs").h)(),[d]=Object(a("j3bG").b)({issueKey:l,fieldKey:"similar-issues"}),u=((e,t,n,s,i)=>{if(Pl(t)&&t!==Object(a("Rp3N").s)("")&&Fl(e)&&e!==Object(a("Rp3N").l)("")&&Pl(i))return{issueId:e,projectId:t,projectKey:n,baseUrl:s,cloudId:i}})(t,s,n,r,o)
;return d&&void 0!==u&&!("PROJECT_ARCHIVED"===i)?c.a.createElement(a("cU7O").a,{id:"relatedIssuesPanel",packageName:"issueSmartRelatedIssuesPanel",fallback:"unmount",teamName:"smart-experiences"},c.a.createElement(Ir,u,c.a.createElement(a("HlQC").a,{sourceName:"RelatedIssuesPanel",attributes:{smartSessionId:e}},c.a.createElement(Ul,{sessionId:e})))):null};const Kl=T.default.div.withConfig({componentId:"ei7vuq-0"})`margin-top:${e=>e.isCompactMode?2.5*a("ZpU/").e:5*a("ZpU/").e}px;`,$l=T.default.div.withConfig({componentId:"ei7vuq-1"})`margin-top:${e=>e.isCompactMode?null:`${a("ZpU/").e}px`};`,Wl=T.default.div.withConfig({componentId:"ei7vuq-2"
})`margin-bottom:${e=>e.isCompactMode||e.isPanelCollapsed?2*a("ZpU/").e:5*a("ZpU/").e}px;`,Bl=Object(Vt.createSelector)(a("/LFc").I,(e=>e.childPanel)),ql=Object(Vt.createSelector)(Bl,(e=>e.subtaskQuickAddClickCount)),Hl=Object(Vt.createSelector)(Bl,(e=>e.issueInEpicQuickAddClickCount)),Gl=Object(Vt.createSelector)(Bl,(e=>e.childIssueQuickAddClickCount)),Yl=(e,t,n)=>t||e&&n>0,Zl=Object(Vt.createSelector)(a("KSj7").y,a("KSj7").x,Gl,Yl),Xl=Object(Vt.createSelector)(a("KSj7").C,a("KSj7").D,ql,Yl),Jl=Object(Vt.createSelector)(a("KSj7").B,a("KSj7").A,Gl,Yl);var zl=a("g48e");const Ql=Object(a("iY3i").b)("issue-ecosystem"),ec="collapsed-panels",tc="issue.ecosystem.local-storage",nc=()=>{try{return Ql.get(ec)||[]}catch(e){return a("RDfz").a.safeErrorWithoutCustomerData(tc,`getCollapsedPanels failed: ${e}`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),[]}},ac=({children:e,isLoading:t=!1})=>c.a.createElement("span",null,c.a.createElement(a("Yc37").a,{
triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",iconBefore:t?c.a.createElement(a("6UK4").a,{size:"small"}):c.a.createElement(a.n(a("eaSS")).a,{size:"small",label:"meatball menu"})},position:"bottom right"},e));ac.displayName="MeatBallMenu";const sc=T.default.div.withConfig({componentId:"sc-185kjqv-0"})`display:flex;align-items:center;height:${4*a("ZpU/").e}px;cursor:${e=>e.clickable?"pointer":void 0};`,ic=T.default.div.withConfig({componentId:"sc-185kjqv-1"})`align-items:center;display:flex;flex-flow:row-reverse wrap;& > * + *{margin-left:${a("ZpU/").e}px;}`,oc=T.default.span.withConfig({componentId:"sc-14ib96m-0"})`color:${a("5kDX").a.link};margin-left:5px;display:${e=>e.alwaysShow?void 0:"none"};${sc}:hover &{display:inline;}`,rc=T.default.div.withConfig({componentId:"sc-14ib96m-1"
})`max-height:${e=>e.isCollapsed?"0":"1500px"};overflow-y:${e=>e.isCollapsed?"hidden":"auto"};overflow-x:hidden;${Object(a("gVzX").f)("&")};transition:max-height 1s ease-out;`,lc=T.default.h1.withConfig({componentId:"sc-14ib96m-2"})`flex:1;${a("gVzX").e};${a("5kDX").d.h400()};color:${a("5kDX").a.heading};`,cc=T.default.h2.withConfig({componentId:"sc-14ib96m-3"})`flex:1;${a("gVzX").e};${a("5kDX").d.h400()};color:${a("5kDX").a.heading};`,dc=Object(S.defineMessages)({actions:{id:"issue.content.ecosystem-panels.meatballs.actions",defaultMessage:"Actions"},hide:{id:"issue.content.ecosystem-panels.meatballs.hide",defaultMessage:"Hide {appName}"},collapse:{id:"issue.content.ecosystem-panels.collapse-content",defaultMessage:"hide"},expand:{id:"issue.content.ecosystem-panels.expand-content",defaultMessage:"show"}});class uc extends l.Component{constructor(e){super(e),this.setupConnectHost=e=>{e&&e.onIframeUnload((({extension:t})=>{e.destroy(t.id)}))},this.contentPanelContainer=void 0,
this.handleRemoveContentPanel=()=>{const{appKey:e,moduleKey:t,removeContentPanel:n,onContentPanelRemoveAnalytics:s}=this.props;s(Object(a("riXy").b)(e,t)),n(`${e}_${t}`)},this.toggleCollapsedState=()=>{const{appKey:e,moduleKey:t,onToggleCollapsedStateAnalytics:n}=this.props,{isCollapsed:s}=this.state,i=Object(a("+9A+").b)(`${e}_${t}`,10);n(Object(a("riXy").f)(e,t,s?"expand":"collapse")),s?(e=>{const t=nc();try{Ql.set(ec,t.filter((t=>t!==e)))}catch(n){a("RDfz").a.safeErrorWithoutCustomerData(tc,`unsetCollapsedPanel failed: ${n}`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:n}))}})(i):(e=>{const t=nc();try{Ql.set(ec,[...t,e])}catch(n){a("RDfz").a.safeErrorWithoutCustomerData(tc,`setCollapsedPanel failed: ${n}`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:n}))}})(i),this.setState({isCollapsed:!s})},this.state={connectHost:window.connectHost,isCollapsed:nc().includes(Object(a("+9A+").b)(`${e.appKey}_${e.moduleKey}`,10))},
this.setupConnectHost(this.state.connectHost)}componentDidMount(){this.state.connectHost||Object(a("c1BK").b)((e=>{this.setupConnectHost(e),this.setState({connectHost:e})}))}componentDidUpdate(){this.props.isSelected&&(Object(a("eS/l").a)(this.contentPanelContainer),this.props.unSelectContentPanel(`${this.props.appKey}_${this.props.moduleKey}`))}renderHidePanelOption(){const{intl:e}=this.props;return c.a.createElement(a("6IoW").a,{title:e.formatMessage(dc.actions)},c.a.createElement(a("ourr").a,{onClick:this.handleRemoveContentPanel},e.formatMessage(dc.hide,{appName:this.props.name})))}renderMeatBallMenu(){return c.a.createElement(ac,null,this.renderHidePanelOption())}renderHeader(){const{showByDefault:e}=this.props.contentPanel,t=Object(a("d90y").issueDetailsContentpanelviewHeading)()?cc:lc;if(!e)return c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()
},c.a.createElement(sc,null,c.a.createElement(t,null,this.props.name)),c.a.createElement(ic,null,this.renderMeatBallMenu()));const{intl:n}=this.props,{isCollapsed:s}=this.state;return c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},c.a.createElement(sc,{clickable:!0,onClick:this.toggleCollapsedState},c.a.createElement(t,null,this.props.name),c.a.createElement(oc,{alwaysShow:s},s?n.formatMessage(dc.expand):n.formatMessage(dc.collapse))),e?null:c.a.createElement(ic,null,this.renderMeatBallMenu()))}render(){const{appKey:e,moduleKey:t}=this.props,{isCollapsed:n}=this.state,{options:s,options:{url:i,origin:o},showByDefault:r}=this.props.contentPanel,l=new(a("zJdM").a);return c.a.createElement("div",{ref:e=>{this.contentPanelContainer=e}},this.renderHeader(),c.a.createElement(rc,{isCollapsed:n&&r},this.state.connectHost&&c.a.createElement(zl.a,{key:`connect-iFrame-${o}-${this.props.refreshedOn}`,connectHost:this.state.connectHost,
appKey:e,moduleKey:t,url:i,options:l.convertConnectOptions(s),connectIframeProvider:l,width:"100%",height:"100%",timeoutIndicator:()=>c.a.createElement(a("hCQZ").b,{appName:this.props.contentPanel.name,appKey:e})})))}}uc.displayName="ConnectContentPanel",uc.displayName="ContentPanel",uc.defaultProps={isSelected:!1,unSelectContentPanel:p.a,removeContentPanel:p.a,refreshedOn:0,onContentPanelRemoveAnalytics:p.a};var pc=Object(a("v5q+").a)([S.injectIntl,Object(a("BxXc").a)((e=>({onContentPanelRemoveAnalytics:t=>e("remove",r()({},t)),onToggleCollapsedStateAnalytics:t=>e("toggleCollapsedState",r()({},t))}))),Object(d.connect)(((e,t)=>({contentPanel:Object(a("mIpc").d)(t.appKey,t.moduleKey)(e),isSelected:Object(a("mIpc").r)(t.appKey,t.moduleKey)(e),refreshedOn:Object(a("/LFc").e)(e)})),(e=>({unSelectContentPanel:t=>e(Object(a("H/9g").e)(t)),removeContentPanel:t=>e(Object(a("H/9g").h)(t))})))])(uc),mc=Object(S.defineMessages)({title:{id:"issue.content.ecosystem.forge.panel.actions.title",
defaultMessage:"Actions"},remove:{id:"issue.content.ecosystem.forge.panel.actions.remove",defaultMessage:"Remove"},collapse:{id:"issue.content.ecosystem.forge.panel.actions.collapse",defaultMessage:"Collapse"},expand:{id:"issue.content.ecosystem.forge.panel.actions.expand",defaultMessage:"Expand"}});const bc=["extensionData","source","onContentPanelRemoveAnalytics","onRemove","appKey","moduleKey","issueKey","name","isPanelCollapsed"],gc=({actions:e})=>{const[t,n]=Object(l.useState)(!1),{formatMessage:s}=Object(a("NRyt").d)();if(0===e.length)return null;const i=e.map((e=>r()(r()({},e),{},{onClick:()=>(n(!0),e.onClick().finally((()=>{n(!1)})))})));return c.a.createElement(ac,{isLoading:t},c.a.createElement(a("6IoW").a,{title:s(mc.title)},i.map((e=>c.a.createElement(a("ourr").a,{onClick:e.onClick,key:e.key},e.text)))))};gc.displayName="Actions"
;const fc=({name:e,extension:{environmentType:t},actions:n})=>c.a.createElement(a("vPcr").c,null,c.a.createElement(sc,null,c.a.createElement(a("vPcr").e,null,c.a.createElement(a("hd2M").a,{extensionName:e,extensionEnvType:t}))),c.a.createElement(ic,null,c.a.createElement(gc,{actions:n})));fc.displayName="ForgeContentPanelHeader";const hc=e=>{let{extensionData:t,source:n,onContentPanelRemoveAnalytics:s,onRemove:i,appKey:o,moduleKey:d,issueKey:u,name:p,isPanelCollapsed:m}=e,b=C()(e,bc);const{extension:g,panelKey:f,isJustAdded:h,isCompactMode:E,removeFromJustAdded:y,removeFromNewPanels:O,updatePanel:v}=b,j=Object(l.useRef)(null),{formatMessage:I}=Object(a("NRyt").d)();Object(l.useEffect)((()=>{h&&j&&j.current&&(Object(a("eS/l").a)(j.current),y(f))}),[h,f,y]),Object(l.useEffect)((()=>()=>{t.isNewToIssue&&O(f)}),[t.isNewToIssue,f,O]);const S=Object(l.useMemo)((()=>({source:n,isNewToIssue:t.isNewToIssue})),[t.isNewToIssue,n]),[k,w]=Object(l.useState)([]),T=Object(l.useMemo)((()=>({
onClick:()=>(s(Object(a("riXy").b)(o,d)),Object(a("BxKc").l)(n),i(f),Promise.resolve()),text:I(mc.remove),key:"internal__remove-action"})),[o,I,d,s,i,f,n]),D=Object(l.useCallback)((e=>(Object(a("BxKc").k)(n,{collapsed:e}),e&&w([]),v({issueKey:u,panelKey:f,collapsed:e}),Promise.resolve())),[u,f,n,v]),R=Object(l.useMemo)((()=>({onClick:()=>D(!1),text:I(mc.expand),key:"internal__expand-action"})),[I,D]),L=Object(l.useMemo)((()=>({onClick:()=>D(!0),text:I(mc.collapse),key:"internal__collapse-action"})),[I,D]),M=m?R:L,A=[...k.slice(0,5).map((e=>r()(r()({},e),{},{onClick:()=>(Object(a("BxKc").j)(n),e.onClick())}))),M,T];return c.a.createElement("div",{ref:j},c.a.createElement(Wl,{isCompactMode:E,isPanelCollapsed:m},c.a.createElement(fc,{actions:A,extension:g,name:p}),!m&&c.a.createElement(a("q/Pj").a,{extensionData:t,extension:g,localId:f,setCustomActions:w,analyticsAttributes:S})))};hc.displayName="ForgeContentPanelView";const Ec=e=>c.a.createElement(a("lQ8s").a,{attributes:{
source:e.source,isNewToIssue:e.extensionData.isNewToIssue,isPanelCollapsed:e.isPanelCollapsed}},c.a.createElement(hc,e));Ec.displayName="ForgeContentPanelViewWithAnalytics";var yc=Object(a("v5q+").a)([Object(a("BxXc").a)((e=>({onContentPanelRemoveAnalytics:t=>e("remove",r()({},t))}))),Object(d.connect)(((e,t)=>({isJustAdded:Object(a("T8UA").i)(t.panelKey)(e),issueKey:Object(a("4dgq").w)(e),extensionData:Object(a("T8UA").h)(t.panelKey)(e),source:Object(a("4dgq").b)(e),isPanelCollapsed:Object(a("T8UA").d)(t.panelKey)(e)})),(e=>({removeFromJustAdded:t=>{e(Object(a("H/9g").e)(t))},removeFromNewPanels:t=>{e(Object(a("dlXB").i)(t))},onRemove:t=>{e(Object(a("H/9g").h)(t))},updatePanel:t=>{e(Object(a("dlXB").g)(t))}})))])(Ec),Oc=Object(S.defineMessages)({errorStateTitle:{id:"issue-attachments-table.error.error-state-title",defaultMessage:"We couldn't load your attachments"},errorStateDescription:{id:"issue-attachments-table.error.error-state-description",
defaultMessage:"Check your network connection, then try reloading your attachments."},primaryButton:{id:"issue-attachments-table.error.primary-button",defaultMessage:"Reload Attachments"}});const vc=T.default.div.withConfig({componentId:"sc-1n57uym-0"})`& > div{margin:auto;}`,jc=({onClick:e,shouldHideImage:t})=>{const{formatMessage:n}=Object(a("NRyt").d)(),s=t?void 0:a.n(a("lDDJ")).a,i=c.a.createElement(a("340+").a,{appearance:"primary",onClick:()=>e()},n(Oc.primaryButton));return c.a.createElement(vc,null,c.a.createElement(a("Z+5E").a,{imageUrl:s,header:n(Oc.errorStateTitle),description:n(Oc.errorStateDescription),primaryAction:i}))};jc.displayName="AttachmentsError",jc.defaultProps={shouldHideImage:!1};var Ic=jc;const Cc=T.default.div.withConfig({componentId:"sc-12ov3s6-0"})`width:100%;display:flex;position:relative;&&{min-height:initial;}`,Sc=T.keyframes`0%{background-position:-300px 0;}100%{background-position:2000px 0;}`,kc=T.default.div.withConfig({componentId:"sc-12ov3s6-1"
})`animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:${Sc};animation-timing-function:linear;background-color:${a("5kDX").a.N30};background-image:linear-gradient( to right,${a("5kDX").a.N30} 10%,${a("5kDX").a.N20} 30%,${a("5kDX").a.N30} 50% );background-repeat:no-repeat;position:absolute;left:0;right:0;top:0;bottom:0;`,wc=T.default.div.withConfig({componentId:"sc-12ov3s6-2"})`min-height:${e=>e.height}px;min-width:${e=>e.minWidth}px;width:${e=>e.width};border-top:${e=>(e.lineHeight-e.height)/2}px solid ${a("5kDX").a.N0};border-bottom:${e=>(e.lineHeight-e.height)/2}px solid ${a("5kDX").a.N0};border-right:${e=>e.borderRight}px solid ${a("5kDX").a.N0};border-left:${e=>e.borderLeft}px solid ${a("5kDX").a.N0};`,Tc=T.default.div.withConfig({componentId:"sc-12ov3s6-3"
})`position:relative;width:100%;border-top:${e=>e.paddingTop}px solid ${a("5kDX").a.N0};border-bottom:${e=>e.paddingBottom}px solid ${a("5kDX").a.N0};`,Dc=T.default.div.withConfig({componentId:"sc-12ov3s6-4"})`background:${a("5kDX").a.N0};width:${e=>e.width};`,Rc=({nameTextWidthPercentage:e,dateAddedWidth:t})=>c.a.createElement(Cc,null,c.a.createElement(wc,{height:24,minWidth:24,lineHeight:40,borderLeft:6}),c.a.createElement(wc,{height:14,width:`${e}%`,lineHeight:40,borderLeft:8,borderRight:20}),c.a.createElement(Dc,{width:100-e+"%"}),c.a.createElement(wc,{height:14,minWidth:50,lineHeight:40}),c.a.createElement(wc,{height:14,minWidth:t,lineHeight:40,borderLeft:16}),c.a.createElement(wc,{height:24,minWidth:24,lineHeight:40,borderLeft:170-t+62,borderRight:12}));Rc.displayName="TableItem";const Lc=e=>{const{pageNumber:t,totalCount:n}=e,a=n-6*(t-1),s=Math.min(a,6),i=[{nameTextWidthPercentage:80,dateAddedWidth:170},{nameTextWidthPercentage:70,dateAddedWidth:150},{nameTextWidthPercentage:80,
dateAddedWidth:160},{nameTextWidthPercentage:60,dateAddedWidth:140},{nameTextWidthPercentage:70,dateAddedWidth:155},{nameTextWidthPercentage:80,dateAddedWidth:170}],o=n>6?55:23;return c.a.createElement(Cc,null,c.a.createElement(kc,null),c.a.createElement(Tc,{paddingTop:0,paddingBottom:o},c.a.createElement(Cc,null,c.a.createElement(wc,{height:14,minWidth:50,lineHeight:26}),c.a.createElement(Dc,{width:"100%"}),c.a.createElement(wc,{height:14,minWidth:40,lineHeight:26,borderLeft:16}),c.a.createElement(wc,{height:14,minWidth:100,lineHeight:26,borderLeft:26}),c.a.createElement(wc,{height:0,minWidth:24,lineHeight:26,borderLeft:144})),c.a.createElement(wc,{height:2,lineHeight:2}),c.a.createElement(Tc,{paddingTop:0,paddingBottom:0},Array.from({length:s}).map(((e,t)=>c.a.createElement(Rc,j()({},i[t],{key:`table-item--${t}`}))))),c.a.createElement(wc,{height:2,lineHeight:2})))};Lc.displayName="AttachmentsTableSkeleton",Lc.defaultProps={pageNumber:1,totalCount:6}
;var Mc=Lc,Ac=a("sEfC"),_c=a.n(Ac),Nc=Object(S.defineMessages)({confirmationHeader:{id:"issue-attachments-base.with-issue-attachments-delete.confirmation-header",defaultMessage:"Delete this attachment?"},confirmationContent:{id:"issue-attachments-base.with-issue-attachments-delete.confirmation-content",defaultMessage:"Once you delete, it's gone for good."}});var xc=(e,t="filmStripView")=>n=>{const s=Object(a("ovRs").h)(),[{value:{attachments:i}},{deleteAttachment:o}]=Object(a("hWW6").a)(s),[d,u]=Object(l.useState)(),{formatMessage:p}=Object(a("NRyt").d)(),m=Object(a("ovRs").j)(),[b]=Object(a("AJ6X").d)(m),{createAnalyticsEvent:g}=Object(a("rZ/p").a)(),f=Object(a("94cx").a)(),h=Object(l.useCallback)((e=>{if(void 0!==d){e.stopPropagation();const n=g({action:"clicked",actionSubject:"button"});Object(a("yy8q").h)(n,"deleteAttachmentConfirm",{view:t}),o(s,d),u()}}),[g,o,d,s]),E=Object(l.useCallback)((e=>{e.stopPropagation(),u()
}),[]),y=Object(l.useMemo)((()=>(({attachments:e,canDeleteAllAttachments:t,canDeleteOwnAttachments:n,accountIdLoggedInUser:a})=>e.reduce(((e,s)=>r()(r()({},e),{},{[s.id]:"issue"===s.parentName&&(t||null!==a&&null!==s.author&&n&&s.author.accountId===a)})),{}))({attachments:i,canDeleteAllAttachments:b.canDeleteAllAttachments,canDeleteOwnAttachments:b.canDeleteOwnAttachments,accountIdLoggedInUser:f})),[f,i,b.canDeleteAllAttachments,b.canDeleteOwnAttachments]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(e,j()({},n,{onDeleteAttachment:u,canDeleteAttachmentMap:y})),void 0!==d&&c.a.createElement(a("66ob").b,{appearance:"danger",headerMessage:p(Nc.confirmationHeader),contentMessage:p(Nc.confirmationContent),onConfirm:h,onCancel:E,externalId:"issue.attachment.card.delete"}))};const Uc=["tokenProvider"];var Fc=e=>Object(a("TB06").a)((e=>t=>{const{tokenProvider:n}=t,s=C()(t,Uc),{mediaContext:i}=s;if(!i.viewContext)return null;const{clientId:o,serviceHost:r}=i.viewContext,l={
authProvider:Object(a("xwVU").a)(n,o,r)};return c.a.createElement(e,j()({viewMediaClientConfig:l},s))})(e));const Pc=()=>({type:"SCROLL_TO_ATTACHMENT_COMMENT"}),Vc=()=>({type:"SCROLL_TO_ATTACHMENT_WORKLOG"}),Kc="listView";var $c=Object(S.defineMessages)({goToComment:{id:"issue-attachments-base.goto-button.go-to-comment",defaultMessage:"Go to the comment with this attachment"},goToWorklog:{id:"issue-attachments-base.goto-button.go-to-worklog",defaultMessage:"Go to the work log entry with this attachment"},goToField:{id:"issue-attachments-base.goto-button.go-to-field",defaultMessage:"You can find this attachment in the {field} field"}});const Wc=(e,t)=>e!==a("RTuT").a.customfield?e:t&&t.title||"custom field",Bc=({attachmentParent:e,attachmentParentId:t,onScrollToComments:n,onScrollToWorklogs:s,attachmentView:i,issueKey:o,component:d})=>{
const{formatMessage:u}=Object(a("NRyt").d)(),[,{setScrollTarget:p}]=Object(a("ecXv").a)(),[{value:m}]=Object(a("MoW5").a)(o,`customfield_${t}`),b=e!==a("RTuT").a.comment&&e!==a("RTuT").a.worklog,g=Object(l.useCallback)(((o,r)=>{o.stopPropagation(),o.preventDefault();const l=(e,n)=>{p({type:e,id:t}),n()};switch(e){case a("RTuT").a.comment:l(a("nk0S").a.COMMENT,n),Object(a("yy8q").h)(r,"gotoComment",{view:i});break;case a("RTuT").a.worklog:l(a("nk0S").a.WORKLOG,s),Object(a("yy8q").h)(r,"gotoWorklog",{view:i})}}),[e,p,t,n,i,s]),f=Object(l.useCallback)((e=>{"Enter"===e.key&&e.stopPropagation()}),[]),h=Object(l.useMemo)((()=>{switch(e){case a("RTuT").a.comment:return u($c.goToComment);case a("RTuT").a.worklog:return u($c.goToWorklog);default:return u($c.goToField,{field:Wc(e,m)})}}),[e,m,u]),E=()=>b?{}:"listView"===i?{background:"#DFE1E6"}:{background:"#FFFFFF"};return c.a.createElement(a("Yto1").a,{content:h,position:"top"},c.a.createElement(a("0+Gd").a,{appearance:"subtle",
iconBefore:c.a.createElement(a.n(a("+6wN")).a,{label:h}),onClick:g,onKeyPress:f,theme:(e,t)=>{const{buttonStyles:n,spinnerStyles:a}=e(t);return r()({buttonStyles:r()(r()({},n),{},{display:"flex",justifyContent:"center","&:hover":E(),paddingLeft:"filmStripView"===i?"0px":void 0,paddingRight:"filmStripView"===i?"0px":void 0,margin:"0"})},a)},isDisabled:b,component:d}))};Bc.displayName="GoToButton",Bc.defaultProps={component:"button"};var qc=Bc;const Hc="show-icon",Gc=e=>c.a.createElement("svg",j()({},e,{viewBox:"0 0 24 24"}),c.a.createElement("g",{transform:"translate(3 3)",fill:"currentColor",fillRule:"evenodd"},c.a.createElement("path",{d:"M2 11v5h14v-5H2zM0 1.995C0 .893.893 0 1.995 0h14.01C17.107 0 18 .893 18 1.995v14.01A1.995 1.995 0 0 1 16.005 18H1.995A1.995 1.995 0 0 1 0 16.005V1.995z",fillRule:"nonzero"}),c.a.createElement("rect",{x:"3",y:"12",width:"8",height:"2",rx:"1"}),c.a.createElement("rect",{x:"13",y:"12",width:"2",height:"2",rx:"1"})));Gc.displayName="hideIcon"
;const Yc=e=>c.a.createElement("svg",j()({},e,{viewBox:"0 0 24 24"}),c.a.createElement("g",{transform:"translate(3 3)",fill:"currentColor",fillRule:"evenodd"},c.a.createElement("path",{d:"M2 11v5h14v-5H2zm0-1V9h14v1-8H2v8zM0 1.995C0 .893.893 0 1.995 0h14.01C17.107 0 18 .893 18 1.995v14.01A1.995 1.995 0 0 1 16.005 18H1.995A1.995 1.995 0 0 1 0 16.005V1.995z",fillRule:"nonzero"}),c.a.createElement("rect",{x:"3",y:"12",width:"8",height:"2",rx:"1"}),c.a.createElement("rect",{x:"13",y:"12",width:"2",height:"2",rx:"1"})));Yc.displayName="showIcon";const Zc=({icon:e,label:t})=>{const n=e===Hc?Yc:Gc;return c.a.createElement(a("Yto1").a,{position:"top",content:t},c.a.createElement(a("UnwW").b,{glyph:n,label:t,size:"small"}))};Zc.displayName="CardCoverIcon";var Xc=Zc,Jc=Object(S.defineMessages)({delete:{id:"attachments.delete-attachment-from-attachment-panel",defaultMessage:"Delete"},goto:{id:"attachments.goto-attachment-from-attachment-panel",defaultMessage:"GoTo"},show:{
id:"attachments.show-on-card",defaultMessage:"Show on card"},hide:{id:"attachments.hide-on-card",defaultMessage:"Hide on card"},confirmationHeader:{id:"attachments.confirm-delete-attachment-modal-header",defaultMessage:"Delete this attachment?"},confirmationContent:{id:"attachments.confirm-delete-attachment-modal-text",defaultMessage:"Once you delete, it's gone for good."}});const zc=(e,t,n,s,i,o,r,l,d)=>{const u=i.formatMessage(Jc.delete);return t===a("RTuT").b?s?[{label:u,handler:()=>r(e),icon:c.a.createElement(a.n(a("IFVh")).a,{label:u})}]:[]:[{label:i.formatMessage(Jc.goto),handler:p.a,icon:c.a.createElement(qc,{attachmentParent:t,attachmentParentId:n,attachmentView:"filmStripView",onScrollToComments:l,onScrollToWorklogs:d,issueKey:o,component:"div"})}]},Qc=(e,t,n,a,s)=>{const i=Number(e),o=n.formatMessage(Jc.hide),r=n.formatMessage(Jc.show);return t&&t.isEnabled&&t.availableAttachmentIds.includes(i)?i===t.attachmentId?[{label:o,handler:()=>{s(i)},icon:c.a.createElement(Xc,{
icon:"hide-icon",label:o})}]:[{label:r,handler:()=>{a(t.attachmentId,i)},icon:c.a.createElement(Xc,{icon:Hc,label:r})}]:[]},ed={width:156,height:125},td=e=>c.a.createElement(a("2euv").a,{key:e,dimensions:ed});td.displayName="fakeCard";const nd=e=>{const[t,n]=Object(l.useState)(0),[s,i]=Object(l.useState)(0),[o,d]=Object(l.useState)([]),[u,p]=Object(l.useState)(!1),{cardCover:m,intl:b,isMobile:g,isPreview:f,mediaContext:h,onCardCoverHide:E,onCardCoverShow:y,onScrollToComments:O,onScrollToWorklogs:v,viewMediaClientConfig:I,onDeleteAttachment:C,canDeleteAttachmentMap:S}=e,k=Object(a("ovRs").h)(),[{value:{attachments:w,totalCount:T},meta:{startAt:D},error:R},{refreshAttachments:L}]=Object(a("hWW6").a)(k),M=Object(l.useCallback)((({offset:e,offsets:t})=>{d(t),n(e)}),[]),A=Object(l.useCallback)(_c()(L,300),[L]);Object(l.useEffect)((()=>{0===D&&n(0)}),[D]);const _=Object(l.useCallback)((({animate:e,offset:t})=>{const a=o.findIndex((e=>e.left>t))-1;p(e),i(a),n(t),A(k,{startAt:a})
}),[o,A,k]),N=w||[],x=Object(l.useMemo)((()=>N.map((e=>({identifier:r()({mediaItemType:"file",id:e.mediaApiFileId},h.viewContext&&null!==h.viewContext.collection?{collectionName:h.viewContext.collection}:{}),selectable:!1,actions:((e,t,n,a,s,i,o,r,l,c,d,u)=>[...zc(e,t,n,s,i,o,r,d,u),...Qc(e,a,i,l,c)])(e.id,e.parentName,e.parentId,m,S[e.id],b,k,C,y,E,O,v),isLazy:!g,isParentCommentJsdInternal:e.isParentCommentJsdInternal})))),[N,S,m,b,g,k,h.viewContext,E,y,C,O,v]),U=Object(l.useCallback)((e=>{const t={list:e.map((e=>e.identifier))},n=e.map(((e,n)=>{if(f||R)return td(`card-${n}`);const s=e.isParentCommentJsdInternal;return c.a.createElement(a("7jlN").a,j()({key:e.identifier.id,mediaClientConfig:I,mediaViewerDataSource:t,useInlinePlayer:!1,dimensions:ed,shouldOpenMediaViewer:!0,featureFlags:Object(a("Sudk").a)(),titleBoxBgColor:s?a("5kDX").a.Y75:void 0,titleBoxIcon:s?"LockFilledIcon":void 0,shouldEnableDownloadButton:!0},e))})),s=T-n.length-D,i=Array.from({length:D
}).map(((e,t)=>td(`card-${t}`))),o=Array.from({length:s}).map(((e,t)=>td(`card-${T-s+t}`)));return[...i,...n,...o]}),[D,R,f,T,I]),F=Object(l.useCallback)((()=>{L(k,{startAt:s})}),[s,k,L]);return R?c.a.createElement(Ic,{shouldHideImage:!0,onClick:F}):c.a.createElement("div",{"data-test-id":"issue.views.issue-base.content.attachment.filmstrip-panel"},c.a.createElement(a("S8d9").a,{offset:t,animate:u,onSize:M,onScroll:_,mediaClientConfig:I,featureFlags:Object(a("Sudk").a)()},U(x)))};nd.displayName="AttachmentFilmstrip";var ad=De()([xc,Fc,S.injectIntl,Object(a("BxXc").a)((e=>({onCardCoverShow:()=>{e("card-cover-show.click")},onCardCoverHide:()=>{e("card-cover-hide.click")}}))),Object(a("HKs7").a)({externalId:"issue.attachment.card"}),Object(d.connect)((e=>({mediaContext:Object(a("gjKp").a)(e),isMobile:Object(a("4dgq").r)(e),cardCover:Object(a("fdGr").c)(e)?Object(a("fdGr").a)(e):null,isPreview:Object(a("/LFc").s)(e)})),(e=>({onCardCoverShow:(t,n)=>{e(Object(a("YoD6").d)(t,n))},
onCardCoverHide:t=>{e(Object(a("YoD6").d)(t))},onScrollToComments:()=>{e(Pc())},onScrollToWorklogs:()=>{e(Vc())}}))),Object(a("YNh8").a)()])(nd),sd=Object(S.defineMessages)({emptyStateTitle:{id:"issue-attachments-table.empty.empty-state-title",defaultMessage:"All your attachments in one place"},emptyStateDescription:{id:"issue-attachments-table.empty.empty-state-description",defaultMessage:"Attachments can be added to paragraph fields, comments, and worklog entries. When you have attachments on this issue, you can view and download them here."}});const id=()=>{const{formatMessage:e}=Object(a("NRyt").d)();return c.a.createElement(a("Z+5E").a,{imageUrl:a.n(a("nwkT")).a,header:e(sd.emptyStateTitle),description:e(sd.emptyStateDescription)})};id.displayName="NoAttachments";var od=id,rd=Object(S.defineMessages)({fileName:{id:"issue-attachments-table.file-name",defaultMessage:"Name"},size:{id:"issue-attachments-table.size",defaultMessage:"Size"},date:{id:"issue-attachments-table.date",
defaultMessage:"Date added"},loadingAriaLabel:{id:"issue-attachments-table.loading-aria-label",defaultMessage:"loading attachments"},loadedAriaLabel:{id:"issue-attachments-table.loaded-aria-label",defaultMessage:"Attachments table loaded. Press tab to enter the table"},internalOnlyLabel:{id:"issue-attachments-table.internal-only-label",defaultMessage:"Internal only"}});const ld=T.default.span.withConfig({componentId:"sc-1du3joh-0"})`white-space:nowrap;`,cd=T.default.div.withConfig({componentId:"sc-1du3joh-1"})`margin:0 -${a("ZpU/").e}px;min-width:calc(100% + ${2*a("ZpU/").e}px);.${"jira-issue-view-attachments-table"} &{opacity:0;}.${"jira-issue-view-attachments-table"}:hover &,.${"jira-issue-view-attachments-table"}:focus &,.${"jira-issue-view-attachments-table"}:focus-within &{opacity:1;}`,dd=T.default.div.withConfig({componentId:"sc-1du3joh-2"
})`display:flex;flex-direction:column;align-items:center;.${"media-table-row-highlighted"}{background-color:${a("5kDX").a.Y50};&:hover{background-color:${a("5kDX").a.Y75};}button:hover{background:${a("5kDX").a.Y100};}}`,ud="date",pd="deleteOrGoto",md="download",bd="file",gd="size";var fd=Object(S.defineMessages)({delete:{id:"issue-attachments-table.delete-button.delete",defaultMessage:"Delete attachment"}});const hd=({attachmentId:e,onDeleteAttachment:t})=>{const n=Object(a("NRyt").d)(),{createAnalyticsEvent:s}=Object(a("rZ/p").a)(),i=Object(l.useCallback)((n=>{n.stopPropagation();const i=s({action:"clicked",actionSubject:"button"});Object(a("yy8q").h)(i,"deleteAttachment"),t(e)}),[e,s,t]),o=Object(l.useCallback)((e=>{"Enter"===e.key&&e.stopPropagation()}),[]);return c.a.createElement(a("0+Gd").a,{appearance:"subtle",iconAfter:c.a.createElement(a.n(a("IFVh")).a,{label:n.formatMessage(fd.delete)}),onClick:i,onKeyPress:o,theme:(e,t)=>{const{buttonStyles:n,spinnerStyles:a}=e(t)
;return r()({buttonStyles:r()(r()({},n),{},{display:"flex",justifyContent:"center","&:hover":{background:"#DFE1E6"},margin:"0"})},a)}})};hd.displayName="DeleteButton";var Ed=hd;const yd=T.default.div.withConfig({componentId:"sc-7t3fe4-0"})`display:flex;align-content:center;align-items:center;padding-right:4px;`,Od=()=>{const{formatMessage:e}=Object(a("NRyt").d)(),t=e(rd.internalOnlyLabel);return c.a.createElement(a("Yto1").a,{content:t},c.a.createElement(yd,null,c.a.createElement(a.n(a("ncU9")).a,{primaryColor:a("5kDX").a.DN80A,label:t})))};Od.displayName="InternalAttachmentIcon";var vd=Od;const jd=T.default.div.withConfig({componentId:"sc-7cs18z-0"})`display:flex;align-content:center;align-items:center;`,Id=T.default.div.withConfig({componentId:"sc-7cs18z-1"})`min-width:0;width:100%;span:first-of-type{&::first-letter{text-transform:capitalize;}}`,Cd=({mediaType:e,icon:t,text:n,startFixedChars:s,endFixedChars:i})=>c.a.createElement(jd,null,e&&c.a.createElement(a("OzZW").b,{type:e
}),t,c.a.createElement(Id,null,c.a.createElement(a("Yto1").a,{content:n},c.a.createElement(a("E+Hr").a,{text:n,startFixedChars:s,endFixedChars:i}))));Cd.displayName="NameCell";var Sd=Cd;const kd=(e,t,n,{formatMessage:s})=>c.a.createElement("div",{"aria-label":`${e} ${n?`- ${s(rd.internalOnlyLabel)}`:""}`},c.a.createElement(ld,{"aria-hidden":!0},c.a.createElement(Sd,{text:e,mediaType:Object(a("/Sn5").getMediaTypeFromMimeType)(null==t?"":t),startFixedChars:3,endFixedChars:4,icon:n?c.a.createElement(vd,null):void 0})));kd.displayName="createNameCell";const wd=(e,t,n,s,i,o,r,l,d)=>t===a("RTuT").b?s?c.a.createElement(cd,null,c.a.createElement(Ed,{attachmentId:e,onDeleteAttachment:i})):null:l?null:c.a.createElement(cd,null,c.a.createElement(qc,{attachmentParent:t,attachmentParentId:n,attachmentView:Kc,onScrollToComments:o,onScrollToWorklogs:r,issueKey:d}));wd.displayName="createDeleteOrGoToCell";const Td=e=>void 0===e||e>=430,Dd=Object(a("Wwog").a)(((e,t,n,s,i,o,l,c,d,u)=>{const p=Td(t)
;return e.map((e=>({data:r()(r()({file:kd(e.filename,e.mimetype,e.isParentCommentJsdInternal,u),date:Object(a("PPno").f)(new Date(1e3*e.createdDate),"dd MMM yyyy h:mmaaa",n)},p?{size:Object(a("f8I8").a)(e.filesize)}:{}),{},{deleteOrGoto:wd(e.id,e.parentName,e.parentId,i[e.id],s,l,o,c,d)}),identifier:{mediaItemType:"file",id:e.mediaApiFileId},rowProps:{className:e.isParentCommentJsdInternal?"media-table-row-highlighted":""}})))})),Rd=e=>{
const{viewMediaClientConfig:t,onPreviewOpen:n=p.a,onPreviewClose:s=p.a,onDeleteAttachment:i,canDeleteAttachmentMap:o,onScrollToComments:r=p.a,onScrollToWorklogs:d=p.a,isInModal:u=!1}=e,m=Object(a("NRyt").d)(),{createAnalyticsEvent:b}=Object(a("rZ/p").a)(),g=Object(l.useRef)(!1),f=Object(a("ovRs").h)(),[{error:h,loading:E,meta:y,value:O},v]=Object(a("hWW6").a)(f),{orderDirection:j,orderField:I,startAt:C}=y,{attachments:S,totalCount:k}=O,{refreshAttachments:w,setOrderDirection:T,setOrderField:D}=v,R=Object(a("Wwog").a)(_c()(w,50)),L=Object(l.useMemo)((()=>Math.ceil((C+1)/6)),[C]),[M,A]=Object(l.useState)(L),[_,N]=Object(l.useState)(void 0),x=_c()(N,100),U=Object(l.useCallback)((()=>{w(f,{orderDirection:j,orderField:I,startAt:6*(L-1)})}),[f,j,I,L,w]),F=Object(l.useCallback)((e=>{g.current=!0,A(e),R(f,{orderDirection:j,orderField:I,startAt:6*(e-1)})}),[R,f,j,I]),P=Object(l.useCallback)(((e,t)=>{g.current=!0;const n=(e=>{switch(e){case gd:return a("RTuT").e.FILESIZE;case bd:
return a("RTuT").e.FILENAME;default:return a("RTuT").e.CREATED}})(e),s=b({action:"sorted",actionSubject:"dynamicTable"});D(n),T(t),Object(a("yy8q").h)(s,"issueAttachments",{key:e}),R(f,{orderDirection:t,orderField:n})}),[b,R,f,T,D]),V=Object(a("I51c").a)();if(h)return c.a.createElement(Ic,{shouldHideImage:e.shouldHideErrorImage,onClick:U});if(0===k)return c.a.createElement(od,null);const K=Dd(S||[],_,V,i,o,d,r,u,f,m),$=((e,{formatMessage:t})=>({cells:[{key:bd,content:c.a.createElement(ld,null,t(rd.fileName)),isSortable:!0},...Td(e)?[{key:gd,content:t(rd.size),isSortable:!0,inlineStyles:{width:"66px"}}]:[],{key:ud,content:t(rd.date),isSortable:!0,inlineStyles:{width:"188px"}},{key:pd,content:"",inlineStyles:{width:"36px"},width:10},{key:md,content:"",inlineStyles:{width:"48px"}}]}))(_,m),W=(e=>{switch(e){case a("RTuT").e.FILESIZE:return gd;case a("RTuT").e.FILENAME:return bd;case a("RTuT").e.CREATED:return ud;default:return}})(I)
;return c.a.createElement(c.a.Fragment,null,c.a.createElement(a("qBu9").a,{offscreen:!0,setWidth:e=>{x(e)}}),E&&c.a.createElement(c.a.Fragment,null,g.current&&c.a.createElement(a("7N8r").a,{"aria-live":"assertive"},m.formatMessage(rd.loadingAriaLabel)),c.a.createElement(Mc,{pageNumber:M,totalCount:k})),!E&&c.a.createElement(c.a.Fragment,null,g.current&&c.a.createElement(a("7N8r").a,{"aria-live":"assertive"},m.formatMessage(rd.loadedAriaLabel)),c.a.createElement(dd,null,c.a.createElement(a("MdMM").a,{items:K,mediaClientConfig:t,columns:$,itemsPerPage:6,totalItems:k||0,pageNumber:L,onSetPage:F,onSort:P,sortKey:W,sortOrder:j,onPreviewOpen:n,onPreviewClose:s,rowProps:{className:"jira-issue-view-attachments-table"}}))))};Rd.defaultProps={shouldHideErrorImage:!1};var Ld=xc(Rd,Kc);const Md=T.default.div.withConfig({componentId:"sc-1oufxv0-0"
})`padding:${a("ZpU/").e/2}px;min-width:${37*a("ZpU/").e}px;position:relative;table{width:100%;}`,Ad=({viewMediaClientConfig:e,onScrollToWorklogs:t,onScrollToComments:n})=>c.a.createElement(a("LefY").b,{id:"issue.details.attachment.list-view"},c.a.createElement(Md,null,c.a.createElement(Ld,{shouldHideErrorImage:!0,viewMediaClientConfig:e,onScrollToWorklogs:t,onScrollToComments:n})));Ad.displayName="ListView";const _d=Fc(Ad);var Nd=Object(d.connect)((e=>({issueKey:Object(a("4dgq").w)(e),mediaContext:Object(a("gjKp").a)(e)})),(e=>({onScrollToComments:()=>e(Pc()),onScrollToWorklogs:()=>e(Vc())})))(_d);var xd=({attachmentError:e,refreshAttachments:t,isPreview:n,totalCount:s})=>{const[i]=Object(a("F0wu").b)("jira.user.issue.attachment.view"),o=Object(a("ovRs").h)(),r=Object(l.useCallback)((()=>{t(o)}),[o,t]);if(e)return c.a.createElement(Ic,{shouldHideImage:!0,onClick:r});switch(i){case"list-view":return n?c.a.createElement(Mc,{totalCount:s}):c.a.createElement(Nd,null);case"strip-view":
default:return c.a.createElement(ad,null)}},Ud=Object(d.connect)((e=>({isPreview:Object(a("/LFc").s)(e)})),{})(xd);const Fd=Object(a("dq9g").a)(a("ekdV").a,{selector:e=>e.meta.isDeleteAllDialogOpen}),Pd={isDeleting:!1,didDelete:!1,error:void 0};var Vd=Object(S.defineMessages)({heading:{id:"attachments.delete-all-dialog.heading",defaultMessage:"Delete attachments"},deleteDetailsMessage:{id:"attachments.delete-all-dialog.delete-details-message",defaultMessage:"You can't delete {nonDeletableCount} of these attachments. Either you don't have permission, or they're in issue fields and comments."},deletingAllAttachmentsMessage:{id:"attachments.delete-all-dialog.deleting-all-attachments",defaultMessage:"This action will permanently delete all {deletableCount} attachments in the attachments panel."},deletingAllAttachmentsMessageSingle:{id:"attachments.delete-all-dialog.deleting-all-attachments-single",
defaultMessage:"This action will permanently delete the 1 attachment in the attachments panel."},deletingSomeAttachmentsMessage:{id:"attachments.delete-all-dialog.deleting-some-attachments",defaultMessage:"This action will permanently delete all other attachments in the attachments panel."},cancelButton:{id:"attachments.delete-all-dialog.cancel-button-label",defaultMessage:"Cancel"},deleteButton:{id:"attachments.delete-all-dialog.delete-button-label",defaultMessage:"Delete"},deletingButton:{id:"attachments.delete-all-dialog.deleting-button-label",defaultMessage:"Deleting"},deleteAllFailedNotificationTitle:{id:"attachments.delete-all-dialog.delete-all-failed-notification-title",defaultMessage:"We couldn\u2019t delete all your attachments"},deleteAllFailedNotificationDescription:{id:"attachments.delete-all-dialog.delete-all-failed-notification-description",defaultMessage:"We didn\u2019t finish deleting all your attachments for {issueKey}. Check your connection and then try again."}})
;const Kd=T.default.div.withConfig({componentId:"sc-13kkzqd-0"})`background-color:${a("5kDX").a.Y50};display:flex;margin-bottom:${2*a("ZpU/").e}px;padding:${a("ZpU/").e}px;`,$d=T.default.div.withConfig({componentId:"sc-13kkzqd-1"})`padding-left:${a("ZpU/").e}px;`,{safeErrorWithoutCustomerData:Wd}=a("RDfz").a,Bd=()=>{const e=Object(a("ovRs").h)(),{formatMessage:t}=Object(a("NRyt").d)(),{createAnalyticsEvent:n}=Object(a("rZ/p").a)(),[{value:{totalCount:s,deletableCount:i}},{refreshAttachments:o}]=Object(a("hWW6").a)(e),[r,{setDeleteAllDialogOpen:d}]=Fd(),{showFlag:u}=Object(a("uS5k").f)(),[{isDeleting:p,error:m},b]=(e=>{const[t,{setDeleteAllDialogOpen:n}]=Fd(),[,{refreshAttachments:s}]=Object(a("hWW6").b)(),[i,o]=Object(l.useState)(Pd);return Object(l.useEffect)((()=>{t||o(Pd)}),[t]),[i,Object(l.useCallback)((async()=>{o({isDeleting:!0,didDelete:!1,error:void 0});try{await Object(a("/rpS").a)(((e,t)=>`${""}/rest/api/2/issue/${t}/attachments`)(0,e)),n(!1),s(e),o({isDeleting:!1,
didDelete:!0,error:void 0})}catch(t){o({isDeleting:!1,didDelete:!1,error:t})}}),["",e,s,n])]})(e),g="number"==typeof i?i:0,f="number"==typeof s?s:0,h=g===f;Object(l.useEffect)((()=>{m&&(Wd("issue.attachments.delete-all",m.message||m.toString()),Object(a("v/G6").a)({error:m,meta:{id:"deleteAllDialog",packageName:"jiraIssueView",teamName:"bento"}}),u({type:"error",title:Vd.deleteAllFailedNotificationTitle,description:[Vd.deleteAllFailedNotificationDescription,{issueKey:e}],isAutoDismiss:!0}))}),[m,e,u]);const E=Object(l.useCallback)((()=>{const t=b(),s=n({action:"submitted",actionSubject:"form"});Object(a("yy8q").h)(s,"deleteAllAttachmentsDialog",{deletableCount:g}),t&&o(e)}),[n,g,e,b,o]),y=Object(l.useCallback)((()=>{d(!1);const e=n({action:"closed",actionSubject:"modalDialog"});Object(a("yy8q").h)(e,"deleteAllAttachmentsDialog",{deletableCount:g})}),[n,g,d]),O=Object(l.useCallback)((()=>h?1===g?t(Vd.deletingAllAttachmentsMessageSingle):t(Vd.deletingAllAttachmentsMessage,{
deletableCount:g}):t(Vd.deletingSomeAttachmentsMessage)),[h,g,t]);return"number"==typeof f&&0!==g&&r?c.a.createElement(a("ugic").f,null,c.a.createElement(a("ugic").g,{actions:[{text:t(p?Vd.deletingButton:Vd.deleteButton),onClick:E,isDisabled:p},{text:t(Vd.cancelButton),onClick:y}],heading:t(Vd.heading),appearance:"danger",width:"small",onClose:y,shouldCloseOnOverlayClick:!0,isHeadingMultiline:!1,body:()=>c.a.createElement(a("ugic").b,null,!h&&c.a.createElement(Kd,null,c.a.createElement(a.n(a("DWq1")).a,{primaryColor:a("5kDX").a.Y500,label:""}),c.a.createElement($d,null,t(Vd.deleteDetailsMessage,{nonDeletableCount:f-g}))),c.a.createElement("p",null,O()))})):null};Bd.displayName="Dialog";var qd=Object(l.memo)(Bd),Hd=Object(S.defineMessages)({title:{id:"attachments.heading.title",defaultMessage:"Attachments {totalCount}"},attachmentsMenuAriaLabel:{id:"attachments.heading.attachmentsMenuLabel",defaultMessage:"Attachments Menu"},addAttachmentAriaLabel:{
id:"attachments.heading.addAttachmentLabel",defaultMessage:"Add Attachment"}});const Gd=T.default.div.withConfig({componentId:"rljhjo-0"})`margin-left:${.75*a("ZpU/").e}px;`,Yd=({canCreateAttachment:e,onClick:t})=>{const{createAnalyticsEvent:n}=Object(a("rZ/p").a)(),{formatMessage:s}=Object(a("NRyt").d)(),i=Object(l.useCallback)((()=>{t();const e=n({action:"clicked",actionSubject:"button"});Object(a("yy8q").h)(e,"addAttachment")}),[n,t]);return e?c.a.createElement(Gd,null,c.a.createElement(a("QYt/").a,{label:s(Hd.addAttachmentAriaLabel),onClick:i})):null};Yd.displayName="AddAttachments";var Zd=Object(d.connect)((e=>({canCreateAttachment:!Object(a("4dgq").t)(e)&&Object(a("EfFP").b)(e)})),(e=>({onClick:()=>e(Object(a("cjK0").b)())})))(Yd),Xd=Object(S.defineMessages)({deleteAll:{id:"attachments.heading.delete-all",defaultMessage:"Delete all"}});const Jd=()=>{
const e=Object(a("ovRs").h)(),{formatMessage:t}=Object(a("NRyt").d)(),{createAnalyticsEvent:n}=Object(a("rZ/p").a)(),[{value:s}]=Object(a("hWW6").a)(e),[,{setDeleteAllDialogOpen:i}]=Fd();if("number"!=typeof s.deletableCount||s.deletableCount<=0)return null;const{deletableCount:o}=s;return c.a.createElement(a("ourr").a,{key:"delete-all-attachments",onClick:()=>{i(!0);const e=n({action:"clicked",actionSubject:"dropdownItem"});Object(a("yy8q").h)(e,"deleteAllAttachmentsDialog",{deletableCount:o})}},t(Xd.deleteAll))};Jd.displayName="DeleteAllItem";var zd=Jd,Qd=a("JEAp");const eu=Object(a("dq9g").a)(a("ekdV").a,{selector:(e,t)=>((e,t)=>e.issueAttachments[t]||a("vFHr").c)(e,t).isDownloading});var tu=Object(S.defineMessages)({downloadAll:{id:"attachments.heading.download-all",defaultMessage:"Download all"},downloading:{id:"attachments.heading.downloading",defaultMessage:"Downloading attachments"}});const nu=Object(l.memo)((e=>{
const{issueId:t,issueKey:n}=e,{formatMessage:s}=Object(a("NRyt").d)(),{createAnalyticsEvent:i}=Object(a("rZ/p").a)();if(!t)return null;const[{value:{totalCount:o}}]=Object(a("hWW6").a)(n),[r,d]=((e,t)=>{const n=`${t}_attachments.zip`,[s,{setIsDownloading:i}]=eu(t),o=`/secure/issueAttachments/${e}.zip`,{createAnalyticsEvent:r}=Object(a("rZ/p").a)(),{showFlag:c,dismissFlag:d}=Object(a("uS5k").f)(),u=Object(l.useRef)();let p=Object(l.useCallback)((()=>{}),[]);const m=Object(l.useCallback)((()=>{u.current&&d(u.current)}),[d]),b=Object(l.useCallback)(((e,n)=>{let s=null,o=e.toString();e instanceof a("HQr3").b&&(s=e.statusCode,o=e.message),i(t,!1),Object(a("v/G6").a)({error:e,meta:{id:n,packageName:"jiraIssueAttachmentsBase",teamName:"bento"}}),a("fnbV").a.safeErrorWithoutCustomerData("issue.attachments.download-all",o);const r=500===s?a("jwyz").a.downloadFailedExceedFileSizeDescription:a("jwyz").a.downloadFailedDescription;u.current=c({type:"error",title:a("jwyz").a.downloadFailedTitle,
description:[r,{issueKey:t}],actions:[{onClick:p,content:a("jwyz").a.tryAgain}]})}),[t,p,i,c]),g=Object(l.useCallback)((async()=>{i(t,!0),Object(a("yy8q").b)(r({}),"downloadAll requested"),c({type:"success",title:a("jwyz").a.downloadStartTitle,description:a("jwyz").a.downloadStartDescription,isAutoDismiss:!0}),fetch(o).then((e=>{if(!e.ok)throw new(a("HQr3").b)(e.status,e.statusText);return Object(a("yy8q").b)(r({}),"downloadAll started"),e.blob()})).then((e=>{try{Object(Qd.saveAs)(e,n),i(t,!1),Object(a("yy8q").b)(r({}),"downloadAll completed")}catch(s){b(s,"useDownloadAllService-save-file")}})).catch((e=>b(e,"useDownloadAllService-fetch")))}),[r,n,t,b,o,i,c]);return p=Object(l.useCallback)((()=>{g(),m()}),[g,m]),[s,g]})(t,n),u=Object(l.useCallback)((()=>{d();const e=i({action:"clicked",actionSubject:"dropdownItem"});Object(a("yy8q").h)(e,"downloadAllAttachments",{totalMedia:o})}),[i,d,o]);return c.a.createElement(a("ourr").a,{key:"download-all-attachments",onClick:u,
elemAfter:c.a.createElement(a("7QTw").a,null,o),isDisabled:r},s(r?tu.downloading:tu.downloadAll))}));var au=Object(d.connect)((e=>({issueId:Object(a("4dgq").v)(e),issueKey:Object(a("4dgq").w)(e)})),{})(nu),su=Object(S.defineMessages)({switchToListView:{id:"attachments.heading.switch-to-listView",defaultMessage:"Switch to list view"},switchToStripView:{id:"attachments.heading.switch-to-strip-view",defaultMessage:"Switch to strip view"}});var iu=Object(l.memo)((({refreshAttachments:e})=>{const t=Object(a("ovRs").h)(),{formatMessage:n}=Object(a("NRyt").d)(),[s,{setValue:i}]=Object(a("F0wu").b)("jira.user.issue.attachment.view"),{createAnalyticsEvent:o}=Object(a("rZ/p").a)(),r=Object(l.useCallback)((n=>()=>{i(n),e(t);const s=o({action:"clicked",actionSubject:"dropdownItem"});Object(a("yy8q").h)(s,"switchAttachmentsView",{view:n})}),[o,t,e,i]);switch(s){case"list-view":return c.a.createElement(a("ourr").a,{onClick:r("strip-view")},n(su.switchToStripView));case"strip-view":default:
return c.a.createElement(a("ourr").a,{onClick:r("list-view")},n(su.switchToListView))}}));var ou=({refreshAttachments:e,isPreview:t})=>{const{formatMessage:n}=Object(a("NRyt").d)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(a("Yc37").a,{triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",iconBefore:c.a.createElement(a.n(a("eaSS")).a,{size:"small",label:n(Hd.attachmentsMenuAriaLabel)}),isDisabled:t},position:"bottom right"},c.a.createElement(a("6IoW").a,null,c.a.createElement(iu,{refreshAttachments:e}),c.a.createElement(au,null),c.a.createElement(zd,null))),c.a.createElement(a("gV9P").a,{onMount:e=>Object(a("yy8q").b)(e,"AttachmentListViewOnboarding mounted")}))},ru=Object(d.connect)((e=>({isPreview:Object(a("/LFc").s)(e)})),{})(ou);var lu=({totalCount:e,refreshAttachments:t})=>{const{formatMessage:n}=Object(a("NRyt").d)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(a("vPcr").e,null,n(Hd.title,{totalCount:e>0?`(${e})`:""
})),c.a.createElement(a("vPcr").d,null,c.a.createElement(ru,{refreshAttachments:t}),c.a.createElement(Zd,null)))};const cu=()=>{const e=Object(a("ovRs").h)(),[{error:t,value:{totalCount:n}},{refreshAttachments:s}]=Object(a("hWW6").a)(e);return 0===n?null:c.a.createElement("div",{"data-test-id":"issue.views.issue-base.content.attachment.panel"},c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},c.a.createElement(lu,{totalCount:n,refreshAttachments:s})),c.a.createElement(Ud,{attachmentError:t,totalCount:n,refreshAttachments:s}),c.a.createElement(qd,null))};cu.displayName="Attachments";const du=()=>c.a.createElement(a("ho8o").a,{id:"issue.base.content.attachments-panel"},c.a.createElement(a("PF8x").a,{id:"base.content.attachments-panel",packageName:"jiraIssueView",sendToPrivacyUnsafeSplunk:!0},c.a.createElement(cu,null)));du.displayName="AttachmentsWithMonitoring";var uu=du
;const pu=Object(Vt.createSelector)(a("OEhx").d,a("DNQi").a,a("KSj7").b,((e,t,n)=>s=>!Boolean(n(s))&&e.length+t.length>a("4sMs").a)),mu="CHILD_ISSUE_ADDED",bu="ISSUE_CHILDREN_ORDER_CHANGED",gu={[mu]:mu,[bu]:bu};var fu=Object(S.defineMessages)({linkParentErrorTitle:{id:"issue.views.common.child-issues-panel.flags.link-parent-error-title",defaultMessage:"We couldn't link the child issue"},linkParentErrorDescription:{id:"issue.views.common.child-issues-panel.flags.link-parent-error-description",defaultMessage:"The issue was created but the linking failed. Head over to your board and try again."},reorderErrorTitle:{id:"issue.views.common.child-issues-panel.flags.reorder-error-title",defaultMessage:"We couldn't reorder those issues"},reorderErrorDescription:{id:"issue.views.common.child-issues-panel.flags.reorder-error-description",defaultMessage:"Wait a few moments, then give it another try."}}),hu=e=>{switch(e.type){case"state.entities.LINK_PARENT_FAILURE":return{type:"error",
title:fu.linkParentErrorTitle,description:fu.linkParentErrorDescription};case"state.entities.REORDER_CHILDREN_FAILED":return{type:"error",title:fu.reorderErrorTitle,description:fu.reorderErrorDescription};default:return}};const Eu=e=>({setState:t})=>{t({sortableIssueIds:e})},yu=e=>({setState:t})=>{t({sortBy:e})},Ou=Object(a("0b8M").a)({name:"child-issues",initialState:{sortableIssueIds:[],sortBy:null},actions:s}),vu=Object(a("dq9g").a)(Ou,{selector:e=>e.sortableIssueIds}),ju=Object(a("dq9g").a)(Ou,{selector:e=>e.sortBy}),Iu=Object(a("dq9g").a)(Ou,{selector:null}),Cu=Object(a("UCyb").a)(Ou),Su=()=>{const[e,{setSortableIssueIds:t}]=vu(),n=Object(l.useCallback)((e=>t(e)),[t]);return[e,Object(l.useMemo)((()=>({setSortableIssueIds:n})),[n])]},ku=()=>{const[e,{setSortBy:t}]=ju(),n=Object(l.useCallback)((e=>{t(e)}),[t]);return[e,Object(l.useMemo)((()=>({setSortBy:n})),[n])]
},wu=["fields"],Tu=["summary","issuetype","parent","project"],Du=e=>!!Object.keys(e).find((t=>!(e=>Tu.find((t=>e===t)))(t)&&!e[t].hasDefaultValue&&e[t].required));var Ru=a("L+FH")
;const Lu=e=>e.context,Mu=e=>e.entities,Au=e=>e.ui,_u=Object(Vt.createSelector)(Mu,(e=>e.issues||[])),Nu=Object(Vt.createSelector)(_u,(e=>e.filter((e=>"DONE"===e.statusCategory)))),xu=Object(Vt.createSelector)(_u,(e=>e.filter((e=>"DONE"!==e.statusCategory)))),Uu=Object(Vt.createSelector)(_u,(e=>e.filter((e=>"IN_PROGRESS"===e.statusCategory)))),Fu=Object(Vt.createSelector)(Mu,(e=>e.issueHierarchyLevel)),Pu=e=>Object(Vt.createSelector)(_u,(t=>ft()(t,(t=>t.id===e)))),Vu=Object(Vt.createSelector)(Mu,(e=>e.issueTypes)),Ku=Object(Vt.createSelector)(Vu,(e=>`issuetype in (${e.map((e=>e.id)).join(",")})`)),$u=Object(Vt.createSelector)(Au,(e=>e.addClickCount)),Wu=Object(Vt.createSelector)(Au,(e=>e.childPanelView)),Bu=Object(Vt.createSelector)(Au,(e=>e.childCreateSummary)),qu=Object(Vt.createSelector)(Au,Vu,((e,t)=>e.selectedIssueType||t[0])),Hu=Object(Vt.createSelector)(Au,(e=>e.hideDone)),Gu=Object(Vt.createSelector)(Au,(e=>e.fetchIssueTypesStatus)),Yu=Object(Vt.createSelector)(Gu,(e=>"COMPLETE"===e)),Zu=Object(Vt.createSelector)(Lu,(e=>e.baseUrl)),Xu=(Object(Vt.createSelector)(Lu,(e=>e.locale)),
Object(Vt.createSelector)(Lu,(e=>e.childIssuesPanelType))),Ju=Object(Vt.createSelector)(Xu,(e=>!!e&&"classicSubtasks"===e)),zu=Object(Vt.createSelector)(Xu,(e=>!!e&&"classicProjectEpicChildren"===e)),Qu=Object(Vt.createSelector)(Xu,(e=>!!e&&"nextGenChildren"===e)),ep=Object(Vt.createSelector)(Lu,(e=>e.supportsIssueCreation)),tp=Object(Vt.createSelector)(Lu,Yu,((e,t)=>e.requiresFullCreate||!t)),np=Object(Vt.createSelector)(Lu,(e=>e.parentKey)),ap=Object(Vt.createSelector)(Lu,(e=>e.parentId)),sp=Object(Vt.createSelector)(Lu,(e=>e.customFieldIdRank)),ip=Object(Vt.createSelector)(Lu,(e=>e.epicLinkFieldKey)),op=Object(Vt.createSelector)(Lu,(e=>e.projectId)),rp=Object(Vt.createSelector)(Lu,(e=>e.messages||{})),lp=Object(Vt.createSelector)(rp,(e=>e.title)),cp=Object(Vt.createSelector)(rp,(e=>e.noValueText||null)),dp=Object(Vt.createSelector)(Lu,(e=>e.onNavigateToNewIssue)),up=Object(Vt.createSelector)(Lu,(e=>e.onChange)),pp=(Object(Vt.createSelector)(Lu,(e=>e.isIssueViewComplete)),
Object(Vt.createSelector)(Lu,(e=>null===e.user||""===e.user))),mp=Object(Vt.createSelector)(Lu,(e=>e.projectType)),bp=Object(Vt.createSelector)(Lu,(e=>e.application)),gp=Object(Vt.createSelector)(Lu,(e=>e.edition)),fp=e=>"nextGenChildren"===e||"classicProjectEpicChildren"===e,hp=Object(Vt.createSelector)(Xu,fp);var Ep=(e,t)=>e.ofType("state.entities.LINK_CHILD_SUCCESS","state.entities.REORDER_CHILDREN_REQUEST","state.entities.REORDER_CHILDREN_FAILED","state.entities.FETCH_GRAPHQL_ISSUE_SUCCESS").do((e=>{try{const n=t.getState(),s=up(n),i=Xu(n);switch(e.type){case"state.entities.FETCH_GRAPHQL_ISSUE_SUCCESS":s({type:gu.CHILD_ISSUE_ADDED,meta:{childIssue:e.payload.childIssue,fieldsData:e.payload.fieldsData}});break;case"state.entities.LINK_CHILD_SUCCESS":s({type:gu.CHILD_ISSUE_ADDED,meta:{childIssue:e.payload.linkedChild}});break;case"state.entities.REORDER_CHILDREN_REQUEST":{
const{currentOrder:t,newOrder:n,currentIndex:o,newIndex:r}=e.payload,{id:l}=t[o],c=l?[Object(a("Rp3N").l)(l)]:[],d=r>o,u=Number((n[d?r-1:r+1]||{}).id);"nextGenChildren"===i&&s({type:gu.ISSUE_CHILDREN_ORDER_CHANGED,meta:{issueIds:c,rankId:u,isRankAfter:d}});break}case"state.entities.REORDER_CHILDREN_FAILED":{const{originalOrder:t,originalIndex:n,newIndex:o}=e.payload,{id:r}=t[n],l=r?[Object(a("Rp3N").l)(r)]:[],c=n>o,d=Number((t[c?n-1:n+1]||{}).id);"nextGenChildren"===i&&d&&s({type:gu.ISSUE_CHILDREN_ORDER_CHANGED,meta:{issueIds:l,rankId:d,isRankAfter:c}});break}}}catch(n){a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.change-notification","Failed to call onChange callback",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:n}))}})).ignoreElements(),yp=a("M6kn");const Op=e=>({type:"state.entities.UPDATE_ISSUE",payload:e}),vp=(e,t)=>({type:"state.entities.CREATE_CHILD_REQUEST",payload:{optimisticUiChildIssue:e},meta:{
analyticsEvent:t}}),jp=(e,t,n,a=!1)=>({type:"state.entities.CREATE_CHILD_SUCCESS",payload:{optimisticId:e,createdChild:t,usedGlobalCreateDialog:a},meta:{analyticsEvent:n}}),Ip=(e,t,n)=>({type:"state.entities.LINK_CHILD_SUCCESS",payload:{issueId:e,linkedChild:t},meta:{analyticsEvent:n}}),Cp=(e,t)=>({type:"state.entities.LINKING_ISSUE_RETRY",payload:{issueId:e},meta:{analyticsEvent:t}}),Sp=e=>({type:"state.entities.LINKING_ISSUE_RETRY_FAILURE",payload:{issueId:e}}),kp=(e,t)=>({type:"state.entities.CREATE_CHILD_RETRY",payload:{optimisticId:e},meta:{analyticsEvent:t}}),wp=e=>({type:"state.entities.FETCH_SINGLE_CHILD_SUCCESS",payload:{childIssue:e}}),Tp=e=>({type:"state.entities.CANCEL_OPTIMISTIC_CHILD",payload:{optimisticId:e}}),Dp=()=>({type:"state.entities.FETCH_DETAILS_FOR_ISSUES_REQUEST"}),Rp=(e,t,n,a,s)=>({type:"state.entities.REORDER_CHILDREN_REQUEST",payload:{currentOrder:e,newOrder:t,currentIndex:n,newIndex:a},meta:{analyticsEvent:s}}),Lp=(e,t,n,a)=>({
type:"state.entities.REORDER_CHILDREN_FAILED",payload:{originalOrder:e,newOrder:t,originalIndex:n,newIndex:a}}),Mp=e=>({type:"state.entities.REORDER_CHILDREN_SUCCESS",payload:{newOrder:e}});var Ap=(e,t)=>e.ofType("state.entities.CHILD_CREATED_IN_FULL_DIALOG").mergeMap((({payload:e,meta:n})=>{const s=t.getState(),{optimisticId:i,createdChild:o}=e;if(!Qu(s))return yp.Observable.of(jp(i,o,n.analyticsEvent,!0));const r=Zu(s),l=op(s),c=ap(s);if(!l||!c)throw new Error("Attempted to link a child issue without a project or parent issue ID");return yp.Observable.from(((e,t,n,s)=>Object(a("/rpS").d)(`${e}/rest/internal/simplified/1.0/projects/${t}/issues/${n}/children`,{body:JSON.stringify({issueIds:[s]})}))(r,l,c,o.id)).map((()=>jp(i,o,n.analyticsEvent,!0))).catch((e=>yp.Observable.of(((e,t)=>({type:"state.entities.LINK_PARENT_FAILURE",payload:{optimisticId:e,error:t}}))(i,e))))
})),_p=(e,t)=>e.ofType("state.entities.CREATE_CHILD_FAILURE","state.entities.LINK_PARENT_FAILURE","state.entities.LINKING_ISSUE_FAILURE").do((({type:e,payload:{error:n}})=>{const s=t.getState(),i=Xu(s)||"unknown_child",o=bp(s),r=gp(s);"state.entities.CREATE_CHILD_FAILURE"===e&&"ValidationError"===n.name?Object(a("/dKO").a)({experience:"createIssue",wasExperienceSuccesful:!0,analyticsSource:i,application:o,edition:r}):"AbortError"===n.name||Object(a("HQr3").c)(n)||Object(a("/dKO").a)({experience:"createIssue",wasExperienceSuccesful:!1,analyticsSource:i,application:o,edition:r,additionalAttributes:{traceId:n.traceId,errorMessage:`${e} ${n.message}`}})})).switchMap((()=>yp.Observable.empty()));const Np=(e,t,n)=>Object(a("/rpS").e)(`${e}/rest/greenhopper/1.0/epics/${t}/add`,{body:JSON.stringify({ignoreEpics:!0,issueKeys:[n]})});var xp=(e,t,n)=>((e,t)=>Object(a("/rpS").d)(`${e}/rest/api/2/issue`,{body:JSON.stringify(t)}))(e,t).then((t=>({id:t.id,issueKey:t.key,
issueLink:`${e}/browse/${t.key}`,issueSummary:n.issueSummary,issueTypeIconUrl:n.issueTypeIconUrl,issueTypeName:n.issueTypeName,assigneeUrl:n.assigneeUrl,assigneeDisplayName:n.assigneeDisplayName,isLoading:!1,errorType:void 0})));var Up=(e,t)=>e.ofType("state.entities.CREATE_CHILD_REQUEST").mergeMap((({payload:e,meta:n})=>{const s=t.getState(),{optimisticUiChildIssue:i}=e;return((e,t,n)=>{const s=Zu(e),i=op(e),o=ap(e),l=Ju(e),c=Qu(e),d=zu(e),u=qu(e);if(!i||!o)throw new Error("Attempted to create a new child issue without a project or parent issue ID");const p=l||c||Object(a("d90y").isMigrateEpicLinkFieldToParentForChildIssueCreationEnabled)()&&d,{hasEpicLinkField:m}=u,b=d&&m,g=ip(e),f=Object(a("d90y").isMigrateEpicLinkFieldToParentForChildIssueCreationEnabled)()?{fields:r()({project:{id:i},issuetype:{id:t.issueTypeId},summary:t.issueSummary},p?{parent:{id:o}}:null)}:{fields:r()(r()({project:{id:i},issuetype:{id:t.issueTypeId},summary:t.issueSummary},p?{parent:{id:o}}:{}),b&&g?{[g]:np(e)
}:{})};return yp.Observable.from(xp(s,f,t)).mergeMap((e=>d&&!m?yp.Observable.from(Np(s,o,e.id)).map((()=>jp(t.id,e,n))).catch((n=>yp.Observable.of(((e,t,n)=>({type:"state.entities.LINKING_ISSUE_FAILURE",payload:{createdChild:e,optimisticId:t,error:n}}))(e,t.id,n)))):yp.Observable.of(jp(t.id,e,n)))).catch((e=>yp.Observable.of(((e,t)=>({type:"state.entities.CREATE_CHILD_FAILURE",payload:{optimisticId:e,error:t}}))(t.id,e))))})(s,i,n.analyticsEvent)}));const Fp=["isLoading","hasError"];var Pp=(e,t)=>e.ofType("state.entities.CREATE_CHILD_RETRY").map((({payload:{optimisticId:e},meta:n})=>{const a=t.getState(),s=Pu(e)(a),{isLoading:i,hasError:o}=s,r=C()(s,Fp);return vp(r,n.analyticsEvent)}));var Vp=(e,t)=>Object(a("QNWr").a)(Object(a("hr7V").d)(e),{method:"POST",body:JSON.stringify({
query:"\nquery fetchChildIssue($issueKey: String!) {\n  viewIssue(issueKey:$issueKey) {\n    issueId\n    fields {\n      __typename\n      ... on TextField {\n        fieldKey\n        textValue\n      }\n      ... on IssueKeyField {\n        stringValue\n      }\n      ... on IssueTypeField {\n        name\n        iconUrl\n      }\n      ... on StatusField {\n        statusId\n        name\n        statusCategoryId\n      }\n      ... on UserField {\n        fieldKey\n        userValue {\n          avatarUrl\n          displayName\n        }\n      }\n      ... on PriorityField {\n        name\n        iconUrl\n      }\n    }\n  }\n}\n",variables:{issueKey:t}})});var Kp=(e,t)=>{let n="",s="";const i={};return t.fields.forEach((e=>{switch(e.__typename){case"IssueKeyField":n=e.stringValue;break;case"TextField":"summary"===e.fieldKey&&(s=e.textValue);break;case"IssueTypeField":i.issueTypeIconUrl=e.iconUrl,i.issueTypeName=e.name;break;case"StatusField":i.statusId=e.statusId,
i.statusName=e.name,i.statusCategoryId=e.statusCategoryId,i.statusCategory=Object(a("RQwY").statusCategoryForId)(e.statusCategoryId);break;case"UserField":"assignee"===e.fieldKey&&e.userValue&&(i.assigneeUrl=e.userValue.avatarUrl,i.assigneeDisplayName=e.userValue.displayName);break;case"PriorityField":i.issuePriorityName=e.name,i.issuePriorityUrl=e.iconUrl}})),r()({id:Object(a("Rp3N").l)(t.issueId.toString()),issueKey:Object(a("Rp3N").n)(n),issueLink:Object(a("XtNG").f)(e,Object(a("Rp3N").n)(n)),isLoading:!1,issueSummary:s},i)};const $p=(e,t)=>{const n=e.get(t);return n?n.value:void 0};var Wp=(e,t,n)=>{if(Object(a("d90y").isDataProviderRemovedFromChildIssuesEnabled)())return Vp(t,n).then((({data:e,errors:n})=>{if(n&&!e)throw new Error(n[0].message);if(!e||!e.viewIssue)throw new Error("No issue view data.");return Kp(t,e.viewIssue)}));if(!e){const e="No data provider instance.",t=new Error(e)
;throw a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.fetch-single-issue.no-data-provider",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:t})),t}return((e,t)=>e.getIssue$(t,!0).toPromise().then((({error:e,issue:t})=>e?Promise.reject(e):t?Promise.resolve(t):Promise.reject(new Error("Unexpected response from the dataprovider, expected an issue or an error but got neither")))))(e,n).then((e=>{const{id:n,key:s,fields:i}=e,o=$p(i,"summary"),r=$p(i,"issuetype"),l=$p(i,"priority"),c=$p(i,"status"),d=$p(i,"assignee")||null;return{id:n?n.toString():"",issueKey:s,issueLink:Object(a("XtNG").f)(Object(a("Rp3N").c)(t),Object(a("Rp3N").n)(s)),issueSummary:o,issueTypeIconUrl:r&&r.iconUrl,issueTypeName:r&&r.name,issuePriorityUrl:l&&l.iconUrl,issuePriorityName:l&&l.name,statusName:c&&c.name,statusId:c&&c.id,statusCategory:c&&Object(a("RQwY").statusCategoryForId)(c.statusCategory.id),statusCategoryId:c&&c.statusCategory.id,
assigneeUrl:d&&Object(a("gbrB").c)(d).avatarUrl,assigneeDisplayName:d&&d.displayName,errorType:void 0,isLoading:!1}}))},Bp=(e,t)=>((e,t)=>Object(a("Z+f9").b)(e,t,["assignee"]).toPromise())(e,t).then((e=>e.map((({id:e,fields:t})=>({id:e,assigneeUrl:t&&t.assignee&&Object(a("gbrB").c)(t.assignee).avatarUrl,assigneeDisplayName:t&&t.assignee&&Object(a("gbrB").c)(t.assignee).displayName}))))),qp=(e,t)=>e.ofType("state.entities.FETCH_DETAILS_FOR_ISSUES_REQUEST").switchMap((()=>{const e=t.getState(),n=Zu(e),s=_u(e).map((e=>e.issueKey)).filter((e=>void 0!==e));return yp.Observable.from(Bp(n,s)).map((e=>(e=>({type:"state.entities.FETCH_DETAILS_FOR_ISSUES_SUCCESS",payload:{issues:e}}))(e))).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.fetch-details-for-issues","Failed to fetch details for issues",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),yp.Observable.empty())))}));const Hp=(e,t,n)=>{
const s=Zu(t),i=ap(t),o=Pu(e)(t);if(!i)throw new Error("Attempted to link a next-gen issue to a parent without issue ID ");return yp.Observable.from(((e,t,n)=>Object(a("/rpS").e)(`${e}/rest/api/3/issue/${n}`,{body:JSON.stringify({fields:{parent:{id:t}}})}))(s,i,e)).map((()=>Ip(e,o,n))).catch((t=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.add-existing-issue","Failed to link a next-gen issue to a parent",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:t})),yp.Observable.of(Sp(e)))))};var Gp=Object(Ru.combineEpics)(((e,t)=>e.ofType("state.entities.LINKING_ISSUE_RETRY").mergeMap((({payload:{issueId:e},meta:{analyticsEvent:n}})=>{const s=t.getState();switch(Xu(s)){case"classicProjectEpicChildren":{const t=Zu(s),i=ap(s),o=Pu(e)(s);if(!i)throw new Error("Attempted to link a classic issue to an epic without a parent issue ID")
;return yp.Observable.from(Np(t,i,e)).map((()=>Ip(e,o,n))).catch((t=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.link-child-issue","Failed to link a classic issue to a parent",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:t})),yp.Observable.of(Sp(e)))))}case"nextGenChildren":return Hp(e,s,n);default:return yp.Observable.empty()}}))),((e,t)=>e.ofType("state.entities.ADD_EXISTING_CHILD_ISSUE_REQUEST").mergeMap((({payload:{issueId:e},meta:{analyticsEvent:n}})=>{const a=t.getState();switch(Xu(a)){case"nextGenChildren":return Hp(e,a,n);default:return yp.Observable.empty()}})))),Yp=(e,t)=>{const{id:n,key:s,fields:i}=e;return{id:n,issueKey:s,issueLink:Object(a("XtNG").f)(Object(a("Rp3N").c)(t),Object(a("Rp3N").n)(s)),issueSummary:i.summary,issueTypeIconUrl:i.issuetype.iconUrl,issueTypeName:i.issuetype.name,issuePriorityUrl:i.priority&&i.priority.iconUrl||void 0,issuePriorityName:i.priority&&i.priority.name||void 0,
statusCategory:Object(a("RQwY").statusCategoryForId)(i.status.statusCategory.id),statusCategoryId:i.status.statusCategory.id,statusName:i.status.name,statusId:i.status.id,assigneeUrl:i.assignee&&Object(a("gbrB").c)(i.assignee).avatarUrl,assigneeDisplayName:i.assignee&&Object(a("gbrB").c)(i.assignee).displayName,isLoading:!1,errorType:void 0}};const Zp=e=>a("em5f").a`query {
      issue(issueIdOrKey: "${e}", latestVersion: true, screen:"view", fields:"subtasks") {
        fields {
          key
          value
        }
      }
    }`,Xp=e=>{if(!e||!e.data||!e.data.issue)return[];const t=e.data.issue.fields.find((e=>"children-issues"===e.key));return t&&t.value?t.value.map((({id:e,key:t,self:n,fields:{assignee:a,issuetype:s,priority:i,summary:o,status:r}})=>({id:e,key:t,self:n,fields:{issueType:s,priority:i,status:r,summary:o,assignee:a}}))):[]};var Jp=(e,t)=>((e,t)=>Object(a("K4VI").a)((e=>`${e}/rest/graphql/1/`)(e),{method:"POST",body:JSON.stringify({query:Zp(t)})}))(e,t).map(Xp);var zp=(e,t,n,s)=>((e,t,n,s)=>Object(a("IMeA").a)((e=>`${e}/rest/greenhopper/1.0/api/rank/after`)(e),{method:"PUT",body:JSON.stringify({customFieldId:t,issueIds:n,rankAfterId:s})}))(e,t,n,s);var Qp=(e,t,n,s)=>((e,t,n,s)=>Object(a("IMeA").a)((e=>`${e}/rest/greenhopper/1.0/api/rank/before`)(e),{method:"PUT",body:JSON.stringify({customFieldId:t,issueIds:n,rankBeforeId:s})}))(e,t,n,s)
;const em=({event:e,currentOrder:t,optimisticOrder:n,currentIndex:s,newIndex:i})=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.reorder-children","Failed to reorder children",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),yp.Observable.of(Lp(t,n,s,i)));var tm=(e,t)=>((e,t)=>Object(a("/rpS").b)(`${e}/rest/api/2/issue/${t}?fields=subtasks`))(e,t).then((e=>{const t=e&&e.fields;return t&&t.subtasks||[]})),nm=(e,t)=>{const n=Zu(e),s=ap(e);if(!s)throw new Error("Attempted to reorder subtasks without parentId");const{currentOrder:i,newOrder:o,currentIndex:l,newIndex:c}=t;return yp.Observable.from(((e,t,n,s)=>{const i=`${e}/secure/MoveSubtask.jspa?id=${t}&currentSubTaskSequence=${n}&subTaskSequence=${s}&atl_token=${Object(a("sN5M").a)()||""}`;return fetch(i).then((e=>e.ok?null:e.text().then((t=>{throw new(a("tHEo").a)(e.status,t)}))))})(n,s,l,c)).switchMap((()=>tm(n,s))).flatMap(((e=[])=>{
const t=e.map((({id:e})=>e)),a=o.map((({id:e})=>e));if(Tn()(t,a))return yp.Observable.of(Mp(o));if(Tn()(t.slice().sort(),a.slice().sort())){const e=t.map((e=>o.find((t=>t.id===e))));return yp.Observable.of(Mp(e))}const s=e.map((e=>{const{id:t}=e,a=o.find((e=>e.id===t))||{};return r()(r()({},a),Yp(e,n))}));return yp.Observable.of(Mp(s),Dp())})).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.reorder-subtask","Failed to reorder subtasks",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),yp.Observable.of(Lp(i,o,l,c)))))},am=(e,t)=>e.ofType("state.entities.REORDER_CHILDREN_REQUEST").mergeMap((e=>{const n=t.getState();switch(Xu(n)){case"classicSubtasks":return nm(n,e.payload);case"nextGenChildren":return((e,t,n)=>{const s=Zu(e),i=ap(e),o=sp(e),{currentOrder:l,newOrder:c,currentIndex:d,newIndex:u}=t;if(!i)return em({event:{error:"Attempted to reorder children without parentId"},currentOrder:l,optimisticOrder:c,
currentIndex:d,newIndex:u});if(!o)return em({event:{error:"Attempted to reorder children without customFieldId"},currentOrder:l,optimisticOrder:c,currentIndex:d,newIndex:u});const{analyticsEvent:p}=n,{id:m}=l[d],b=m?[+m]:[],g=u>d,f=Number((c[g?u-1:u+1]||{}).id);return f?(g?zp(s,o,b,f):Qp(s,o,b,f)).switchMap((()=>Jp(s,i))).flatMap(((e=[])=>{const t=e.map((({id:e})=>e)),n=c.map((({id:e})=>e));if(Object(a("yy8q").f)(p,"issueRank updated",{numIssues:1,previousIssueIndex:d,currentIssueIndex:u,isRankAfter:g}),Tn()(t,n))return yp.Observable.of(Mp(c));if(Tn()([...t].sort(),[...n].sort())){const e=t.map((e=>c.find((t=>t.id===e))));return yp.Observable.of(Mp(e))}const i=e.map((e=>{const{id:t}=e,n=c.find((e=>e.id===t))||{};return r()(r()({},n),Yp(e,s))}));return yp.Observable.of(Mp(i),Dp())})).catch((e=>em({event:e,currentOrder:l,optimisticOrder:c,currentIndex:d,newIndex:u}))):em({event:{error:"Attempted to reorder children without rankId"},currentOrder:l,optimisticOrder:c,currentIndex:d,
newIndex:u})})(n,e.payload,e.meta);default:return yp.Observable.empty()}}));const sm=e=>({type:"state.context.REQUIRES_FULL_CREATE_CHECK_SUCCESS",payload:{requiresFullCreate:e}}),im=()=>({type:"state.context.REQUIRES_FULL_CREATE_CHECK_FAILED"});var om=(e,t)=>t?yp.Observable.from(((e,t)=>Object(a("/rpS").b)(`${e}/rest/internal/2/project/${t}/hasValidatorsOnSubtasks`))(e,t)).map((e=>sm(e))).catch((e=>(Object(a("be7s").a)("issue.views.common.child-issues-panel.has-validators-on-subtasks","Failed to check if project has validators on subtasks",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),yp.Observable.of(im())))):yp.Observable.of(im()),rm=(e,t)=>e.ofType("state.context.REQUIRES_FULL_CREATE_CHECK").switchMap((()=>{const e=t.getState();switch(Xu(e)){case"classicSubtasks":{const t=Zu(e),n=op(e);return pp(e)?yp.Observable.of(sm(!0)):om(t,n)}default:return yp.Observable.empty()}
})),lm=e=>Object(Ru.combineEpics)(Up,(e=>(t,n)=>t.ofType("state.entities.CREATE_CHILD_SUCCESS").do((({payload:{createdChild:e,usedGlobalCreateDialog:t},meta:s})=>{const i=n.getState(),o=Ju(i),r={action:"created",actionSubjectId:e.id,attributes:{isInlineCreatedOnIssue:!0,isClassicSubtask:o}};Object(a("w49h").a)(s.analyticsEvent,r);const l=Xu(i)||"unknown_child",c=bp(i),d=gp(i);Object(a("/dKO").a)({experience:"createIssue",wasExperienceSuccesful:!0,analyticsSource:l,application:c,edition:d,additionalAttributes:{isCreated:!0,wasCreatedInline:!t}})})).switchMap((({payload:{createdChild:t}})=>{const s=n.getState(),i=Zu(s),o=void 0!==t.issueKey&&null!==t.issueKey?Object(a("Rp3N").n)(t.issueKey):void 0,r=void 0!==o?Object(a("J4oe").a)(o):void 0;if(!o||!r){const e="Issue or project key missing when handling create child success";return a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.create-child-success.missing-key",e,new(a("8r8e").a)({
eventNameSuffix:"issue.error",type:"js",app:"issue",event:new Error(e)})),yp.Observable.empty()}const l=()=>yp.Observable.from(Object(a("JeS9").a)(i,o,r)).map((({data:e})=>{const t=Object(a("SuPg").a)(e),n={id:e.issue.id,key:o,self:"",fields:Object.values(t)};return(e=>({type:"state.entities.FETCH_GRAPHQL_ISSUE_SUCCESS",payload:e}))({childIssue:Object(a("86TH").a)(n,i),fieldsData:t})})).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.create-child-success.fetch-issue-graphql","Failed to fetch issue after a successful create",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),yp.Observable.empty())))
;return Object(a("d90y").isDataProviderRemovedFromChildIssuesEnabled)()||r?l():yp.Observable.from(Wp(e,i,o)).map((e=>wp(e))).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.create-child-success.fetch-single-issue","Failed to fetch single issue after a successful create",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),yp.Observable.empty())))})))(e),_p,Pp,qp,Ap,rm,am,Ep,Gp,(e=>(t,n)=>t.ofType("state.entities.LINK_CHILD_SUCCESS").do((({payload:{linkedChild:e},meta:t})=>{const s=n.getState(),i=Xu(s),o={action:"linked",actionSubjectId:e.id,attributes:{isInlineChildAdded:!0,panelType:i}};Object(a("w49h").a)(t.analyticsEvent,o)})).switchMap((({payload:{linkedChild:t}})=>{const s=n.getState(),i=Zu(s)
;return yp.Observable.from(Wp(e,i,t.issueKey)).map((e=>wp(e))).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.views.common.child-issues-panel.link-child-success.fetch-single-issue","Failed to fetch single issue after a successful child issue linking",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),yp.Observable.empty())))})))(e)),cm=a("fvjX");const dm={baseUrl:Object(a("Rp3N").c)(""),locale:"en_US",user:null,childIssuesPanelType:null,supportsIssueCreation:!1,requiresFullCreate:!1,parentKey:null,customFieldIdRank:null,epicLinkFieldKey:null,parentId:null,projectId:null,messages:null,onNavigateToNewIssue:p.a,onChange:p.a,isIssueViewComplete:!1,projectType:null,application:null,edition:null};const um="create",pm="linkIssue",mm={issues:[],issueTypes:[],issueHierarchyLevel:void 0};const bm=()=>({type:"state.ui.SHOW_INLINE_CREATE"}),gm=()=>({type:"state.ui.HIDE_ADD_CHILD_ISSUE"}),fm=Object.freeze({InlineCreate:"InlineCreate",
AddExistingIssue:"AddExistingIssue"}),hm=e=>({type:"state.ui.SET_CHILD_PANEL_VIEW",view:e}),Em=e=>({type:"state.ui.SET_CHILD_CREATE_SUMMARY",summary:e}),ym=e=>({type:"state.ui.SET_FETCH_ISSUE_TYPES_STATUS",payload:e}),Om={addClickCount:0,hideDone:!1,selectedIssueType:null,childPanelView:fm.InlineCreate,childCreateSummary:"",fetchIssueTypesStatus:"NONE"};var vm=Object(cm.combineReducers)({context:(e=dm,t)=>{switch(t.type){case"state.context.SET_CONTEXT":return r()(r()({},e),t.payload);case"state.context.SET_ONCHANGE":return r()(r()({},e),{},{onChange:t.payload});case"state.context.REQUIRES_FULL_CREATE_CHECK_SUCCESS":return r()(r()({},e),t.payload);case"state.context.REQUIRES_FULL_CREATE_CHECK_FAILED":return r()(r()({},e),{},{requiresFullCreate:!0});case"state.context.SET_IS_ISSUE_VIEW_COMPLETE":return r()(r()({},e),{},{isIssueViewComplete:t.payload});default:return e}},ui:(e=Om,t)=>{switch(t.type){case"state.ui.SHOW_INLINE_CREATE":return r()(r()({},e),{},{addClickCount:e.addClickCount+1
});case"state.ui.HIDE_ADD_CHILD_ISSUE":return r()(r()({},e),{},{addClickCount:0,childPanelView:fm.InlineCreate,childCreateSummary:""});case"state.ui.SET_CHILD_PANEL_VIEW":return r()(r()({},e),{},{childPanelView:t.view});case"state.ui.SET_CHILD_CREATE_SUMMARY":return r()(r()({},e),{},{childCreateSummary:t.summary});case"state.ui.TOGGLE_HIDE_DONE":return r()(r()({},e),{},{hideDone:!e.hideDone});case"state.ui.SELECTED_ISSUE_TYPE_CHANGED":return r()(r()({},e),{},{selectedIssueType:t.payload});case"state.ui.SET_FETCH_ISSUE_TYPES_STATUS":return r()(r()({},e),{},{fetchIssueTypesStatus:t.payload});default:return e}},entities:(e=mm,t)=>{switch(t.type){case"state.entities.SET_ENTITIES":{const{issueTypes:n,issues:a,issueHierarchyLevel:s}=t.payload;return r()(r()({},e),{},{issues:a,issueTypes:n,issueHierarchyLevel:s})}case"state.entities.UPDATE_ISSUE":return e;case"state.entities.CREATE_CHILD_REQUEST":{const n=r()(r()({},t.payload.optimisticUiChildIssue),{},{isLoading:!0,errorType:void 0})
;return r()(r()({},e),{},{issues:e.issues.filter((e=>e.id!==n.id)).concat(n)})}case"state.entities.CREATE_CHILD_SUCCESS":{const{optimisticId:n,createdChild:a}=t.payload;return r()(r()({},e),{},{issues:e.issues.filter((e=>e.id!==n)).concat(a)})}case"state.entities.FETCH_SINGLE_CHILD_SUCCESS":{const{childIssue:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>e.id===n.id?n:e))})}case"state.entities.FETCH_GRAPHQL_ISSUE_SUCCESS":{const{childIssue:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>e.id===n.id?n:e))})}case"state.entities.CREATE_CHILD_FAILURE":{const{optimisticId:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>e.id===n?r()(r()({},e),{},{errorType:um,isLoading:!1}):e))})}case"state.entities.LINKING_ISSUE_FAILURE":{const{optimisticId:n,createdChild:a}=t.payload;return r()(r()({},e),{},{issues:e.issues.filter((e=>e.id!==n)).concat(r()(r()({},a),{},{errorType:pm,isLoading:!1}))})}case"state.entities.CREATE_CHILD_RETRY":{
const{optimisticId:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>e.id===n?r()(r()({},e),{},{errorType:void 0,isLoading:!0}):e))})}case"state.entities.LINKING_ISSUE_RETRY":{const{issueId:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>e.id===n?r()(r()({},e),{},{errorType:void 0,isLoading:!0}):e))})}case"state.entities.LINKING_ISSUE_RETRY_FAILURE":{const{issueId:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>e.id===n?r()(r()({},e),{},{errorType:pm,isLoading:!1}):e))})}case"state.entities.LINK_PARENT_FAILURE":case"state.entities.CANCEL_OPTIMISTIC_CHILD":{const{optimisticId:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.filter((e=>e.id!==n))})}case"state.entities.FETCH_DETAILS_FOR_ISSUES_SUCCESS":{const{issues:n}=t.payload;return r()(r()({},e),{},{issues:e.issues.map((e=>r()(r()({},e),ft()(n,(t=>t.id===e.id)))))})}case"state.entities.REORDER_CHILDREN_REQUEST":case"state.entities.REORDER_CHILDREN_SUCCESS":{const{newOrder:n}=t.payload
;return r()(r()({},e),{},{issues:n})}case"state.entities.REORDER_CHILDREN_FAILED":{const{originalOrder:n}=t.payload;return r()(r()({},e),{},{issues:n})}case"state.entities.ADD_EXISTING_CHILD_ISSUE_REQUEST":{const n={id:t.payload.issueId,issueKey:t.payload.issueKey,issueSummary:t.payload.issueSummary,issueTypeIconUrl:t.payload.issueTypeIconUrl,assigneeUrl:null,assigneeDisplayName:null,isLoading:!0,errorType:void 0};return r()(r()({},e),{},{issues:e.issues.filter((e=>e.id!==n.id)).concat(n)})}default:return e}}});var jm=a("3zPy"),Im=a.n(jm),Cm=a("NluS"),Sm=a.n(Cm);const km=({sections:e},t)=>{const n=e[0],s=e[1],i=n.issues,o=s?s.issues:[],r=Pi()([...i,...o],"key");return[{label:s?t.matchingIssues:t.recentIssues,options:r.map((e=>({issueId:Object(a("Rp3N").l)(String(e.id)),value:e.key,issueKey:e.key,summary:e.summaryText,imageUrl:e.img})))}]};class wm extends l.Component{constructor(...e){super(...e),this.state={options:[],isLoading:!1,error:null},this.fetchData=e=>{
const{baseUrl:t,issueKey:n,projectId:s,jql:i,labels:o}=this.props,r=Object(a("cGl+").a)(e,window.location.host,t)||e;return this.setState({isLoading:!0,error:null}),Object(a("QNWr").a)(`${t}/rest/api/3/issue/picker?currentIssueKey=${n}&currentProjectId=${s}&showSubTasks=true&showSubTaskParent=true&currentJQL=${i}&query=${r}`).then((e=>(this.setState({options:km(e,o),isLoading:!1}),e))).catch((e=>this.setState({isLoading:!1,options:[],error:e})))},this.debouncedFetchData=Sm()(this.fetchData,300,{leading:!0})}componentDidMount(){this.fetchData(this.props.initialValue)}render(){const{children:e}=this.props,{options:t,isLoading:n,error:a}=this.state;return e({options:t,isLoading:n,error:a,loadOptions:this.debouncedFetchData})}}wm.displayName="IssueOptionService",wm.defaultProps={initialValue:""};const Tm=T.default.div.withConfig({componentId:"sc-1hatli-0"})`display:flex;align-items:center;`,Dm=T.default.div.withConfig({componentId:"sc-1hatli-1"
})`margin-right:${a("ZpU/").e}px;width:${2*a("ZpU/").e}px;height:${2*a("ZpU/").e}px;`,Rm=T.default.div.withConfig({componentId:"sc-1hatli-2"})`overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1 1 100%;min-width:0;`,Lm=["children"],Mm=({imageUrl:e,children:t})=>c.a.createElement(Tm,null,c.a.createElement(Dm,null,c.a.createElement("img",{src:e,alt:""})),t);Mm.displayName="IssueCard";const Am=({label:e})=>c.a.createElement(Tm,null,c.a.createElement(a.n(a("9fHu")).a,{label:"",size:"small",primaryColor:`var(--ds-icon-brand, ${a("5kDX").a.B400})`}),c.a.createElement(a("340+").a,{appearance:"link",isSelected:!1},e));Am.displayName="CreateIssueOption";const _m=({imageUrl:e,issueKey:t,summary:n})=>c.a.createElement(Mm,{imageUrl:e},c.a.createElement(Rm,null,t," ",n));_m.displayName="IssueOption";const Nm=({imageUrl:e,issueKey:t,summary:n})=>c.a.createElement(Mm,{imageUrl:e},c.a.createElement(Rm,null,`${t} ${n}`));Nm.displayName="SelectedValue";const xm=e=>{
let{children:t}=e,n=C()(e,Lm);return c.a.createElement(a("gniW").m.SingleValue,n,c.a.createElement(Nm,{imageUrl:n.data.imageUrl,issueKey:n.data.issueKey,summary:n.data.summary}))};xm.displayName="SingleValue";var Um=Object(S.defineMessages)({defaultPlaceholder:{id:"issue-picker.default-placeholder",defaultMessage:"Search by issue key or summary"},defaultRecentIssues:{id:"issue-picker.default-recent-issues",defaultMessage:"Recent Issues"},defaultMatchingIssues:{id:"issue-picker.default-matching-issues",defaultMessage:"Matching Issues"},defaultFailedLoadingIssues:{id:"issue-picker.default-failed-loading-issues",defaultMessage:"Failed to load issues"},createIssue:{id:"issue-picker.create-issue",defaultMessage:"Create an issue for '{value}'"}});class Fm extends l.Component{constructor(...e){super(...e),this.onBlur=e=>{e("")},this.onChange=(e,{action:t},n)=>{switch(t){case"select-option":{const{issueId:t,issueKey:a,summary:s,imageUrl:i}=e;this.props.onChange&&this.props.onChange({issueId:t,
issueKey:a,issueSummary:s,issueTypeIconUrl:i}),n("");break}case"clear":this.props.onClear&&this.props.onClear()}},this.onCreate=e=>{this.props.onCreate&&this.props.onCreate(e)},this.onInputChange=e=>(t,{action:n})=>{"input-change"===n&&e(t)},this.onSetSelectRef=e=>{this.akSelect=e},this.formatOptionLabel=(e,{context:t})=>{if(e.__isNew__){const t=this.props.intl.formatMessage(Um.createIssue,{value:e.value});return c.a.createElement(Am,{label:t})}return"menu"===t?c.a.createElement(_m,{imageUrl:e.imageUrl,issueKey:e.issueKey,summary:e.summary}):e.label},this.akSelect=void 0,this.filterOption=()=>!0,this.renderNoOptionsMessage=e=>{if(!e)return;const{intl:t}=this.props;return c.a.createElement(a("FuwG").a,{description:t.formatMessage(Um.defaultFailedLoadingIssues),imageWidth:56,isSubtle:!0})}}focus(){this.akSelect.focus()}reset(){this.akSelect.select.select.select.clearValue(),this.akSelect.blur(),this.akSelect.focus()}render(){
const{initialValue:e,issueKey:t,projectId:n,jql:s,intl:i}=this.props;return c.a.createElement(a("rBSy").b,null,(({tenantContext:{baseUrl:o}})=>c.a.createElement(wm,{labels:{recentIssues:i.formatMessage(Um.defaultRecentIssues),matchingIssues:i.formatMessage(Um.defaultMatchingIssues)},baseUrl:o,issueKey:t,projectId:n,jql:s,initialValue:e},(({loadOptions:t,options:n,isLoading:s,error:o})=>c.a.createElement(a("CF39").a,{ref:this.onSetSelectRef,styles:a("JQsD").f,isLoading:s,formatOptionLabel:this.formatOptionLabel,options:n,defaultInputValue:e,autoFocus:!0,allowCreateWhileLoading:!0,defaultOptions:!0,onCreateOption:this.onCreate,placeholder:i.formatMessage(Um.defaultPlaceholder),components:{SingleValue:xm},onChange:(e,n)=>this.onChange(e,n,t),onInputChange:this.onInputChange(t),onBlur:()=>this.onBlur(t),isClearable:!0,filterOption:this.filterOption,noOptionsMessage:()=>this.renderNoOptionsMessage(o),openMenuOnFocus:!0})))))}}Fm.displayName="IssuePicker",Fm.defaultProps={initialValue:""}
;var Pm=Fm,Vm=Object(S.defineMessages)({childLinkButton:{id:"issue.views.common.child-issues-panel.add-existing-issue.child-link-button",defaultMessage:"Add"},childCancelButton:{id:"issue.views.common.child-issues-panel.add-existing-issue.child-cancel-button",defaultMessage:"Cancel"}});const Km=Object(T.default)(a("340+").a).withConfig({componentId:"w8wqbk-0"})`margin-left:${a("ZpU/").e}px !important;`,$m=T.default.div.withConfig({componentId:"w8wqbk-1"})`margin-top:${a("ZpU/").e}px;display:flex;justify-content:flex-end;`;class Wm extends l.Component{constructor(...e){super(...e),this.state={selectedIssue:void 0,isDisabled:!0},this.onChildContainerRefSet=e=>{this.childContainer=e},this.onAdd=()=>{this.state.selectedIssue&&(this.props.onAdd(this.state.selectedIssue),this.resetPicker())},this.onChange=e=>{this.setState({selectedIssue:e,isDisabled:!1})},this.onClear=()=>this.setState({selectedIssue:void 0,isDisabled:!0}),this.onCancelClicked=()=>{this.onClear(),this.props.onCancel()},
this.onSetSelectRef=e=>{this.issuePicker=e},this.onKeyDown=e=>{e.keyCode===Im()("enter")&&(this.onAdd(),e.stopPropagation())},this.issuePicker=void 0,this.childContainer=void 0}async componentDidMount(){Object(a("eS/l").a)(this.childContainer)}componentDidUpdate(e){this.props.addClickCount!==e.addClickCount&&(Object(a("eS/l").a)(this.childContainer),this.focusPicker())}resetPicker(){this.issuePicker&&this.issuePicker.reset()}focusPicker(){this.issuePicker&&this.issuePicker.focus()}render(){const{initialValue:e,issueKey:t,projectId:n,jql:s,intl:i}=this.props;return t&&n?c.a.createElement(a("iAtd").a,{onEscape:this.onCancelClicked},c.a.createElement("div",{onKeyDown:this.onKeyDown,ref:this.onChildContainerRefSet},c.a.createElement(Pm,{ref:this.onSetSelectRef,initialValue:e,issueKey:t,projectId:n,jql:s,onChange:this.onChange,onClear:this.onClear,intl:i,onCreate:this.props.onCreate}),c.a.createElement($m,null,c.a.createElement(Km,{appearance:"primary",onClick:this.onAdd,
isDisabled:this.state.isDisabled},i.formatMessage(Vm.childLinkButton)),c.a.createElement(Km,{appearance:"subtle",onClick:this.onCancelClicked},i.formatMessage(Vm.childCancelButton))))):null}}Wm.displayName="AddExistingIssue",Wm.defaultProps={initialValue:""};var Bm=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("button",{onAdd:"clicked",onCancel:"clicked",onCreate:"clicked"}),Object(a("4zF2").a)({onAdd:"addExistingChildIssueRequest",onCancel:"hideAddExistingChildIssue",onCreate:"switchToCreateChildIssue"}),Object(d.connect)((e=>({addClickCount:$u(e),initialValue:Bu(e),issueKey:np(e),jql:Ku(e),projectId:op(e)})),(e=>({onAdd:(t,n)=>e(((e,t)=>({type:"state.entities.ADD_EXISTING_CHILD_ISSUE_REQUEST",payload:e,meta:{analyticsEvent:t}}))(t,n)),onCancel:()=>e(gm()),onCreate:t=>{e(Em(t)),e(hm(fm.InlineCreate))}})))])(Wm),qm=Object(S.defineMessages)({createChildLabel:{id:"issue.views.common.child-issues-panel.heading.add-child.create-child-label",defaultMessage:"Create child"},
createSubtaskLabel:{id:"issue.views.common.child-issues-panel.heading.add-child.create-subtask-label",defaultMessage:"Create subtask"}});const Hm=T.default.div.withConfig({componentId:"sc-15cuulh-0"})`margin-left:${.75*a("ZpU/").e}px;`;class Gm extends l.Component{render(){const{intl:{formatMessage:e},onClick:t,isClassicSubtaskPanel:n}=this.props,s=n?qm.createSubtaskLabel:qm.createChildLabel;return c.a.createElement(Hm,null,c.a.createElement(a("QYt/").a,{onClick:t,label:e(s)}))}}Gm.displayName="AddChild",Gm.defaultProps={isClassicSubtaskPanel:!1};var Ym=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("button",{onClick:"clicked"}),Object(a("4zF2").a)({onClick:"showChildIssuesInlineCreate"}),Object(d.connect)((e=>({isClassicSubtaskPanel:Ju(e)})),((e,t)=>({onClick:(...n)=>{e(bm()),t.onClick(...n)}})))])(Gm),Zm=a("E+oP"),Xm=a.n(Zm);const Jm=(e,t)=>{switch(t){case"portfolioChildren":return`/issues/?jql=${encodeURIComponent(`"Parent Link"=${e}`)}`;case"classicProjectEpicChildren":
return`/issues/?jql=${encodeURIComponent(`"Epic Link"=${e}`)}`;case"nextGenChildren":case"classicSubtasks":default:return`/issues/?jql=${encodeURIComponent(`parent=${e}`)}`}},zm=e=>e===a("4sMs").b,Qm=e=>e===a("4sMs").c;var eb=Object(S.defineMessages)({actions:{id:"issue.views.common.child-issues-panel.heading.meatballs.actions",defaultMessage:"Actions"},filter:{id:"issue.views.common.child-issues-panel.heading.meatballs.filter",defaultMessage:"Filter"},bulkEdit:{id:"issue.views.common.child-issues-panel.heading.meatballs.bulk-edit",defaultMessage:"Bulk edit"},hideDone:{id:"issue.views.common.child-issues-panel.heading.meatballs.hide-done",defaultMessage:"Hide done"},search:{id:"issue.views.common.child-issues-panel.heading.meatballs.search",defaultMessage:"View in search"},tooltip:{id:"issue.views.common.child-issues-panel.heading.meatballs.tooltip",defaultMessage:"Issue actions"},disabledHideDone:{id:"issue.views.common.child-issues-panel.heading.meatballs.disabled-hide-done",
defaultMessage:"To filter more than 100 child issues, select ... -> View in Search"}});const tb=T.default.div.withConfig({componentId:"sc-4iyeeh-0"})`.childIssuesPanelMeatballButton{padding:0 ${.75*a("ZpU/").e}px;}`,nb="/secure/views/bulkedit/BulkEdit1!default.jspa?reset=true&new=true";class ab extends l.Component{constructor(...e){super(...e),this.onHideDoneClickedAnalytics=e=>{const{onHideDoneClicked:t,allIssues:n,incompleteIssues:a,hideDone:s}=this.props;t(n.length,a.length,!s,e)}}onBulkEditClickedAnalytics(e){return t=>{this.props.onBulkEditClicked(e,t)}}onViewInSearchClickedAnalytics(e){return t=>{this.props.onViewInSearchClicked(e,t)}}isHideDoneCheckboxVisible(){const{allIssues:e,incompleteIssues:t,childIssuesLimitStatus:n}=this.props;return!(Xm()(t)||t.length===e.length||Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&Qm(n))}generateBulkEditLinkOld(e){return`${this.props.baseUrl}/secure/GHBulkChange.jspa?issueKeys=${encodeURIComponent(e)}`}generateSearchLinkOld(e){
const t=encodeURIComponent(`issueKey in (${e})`);return`${this.props.baseUrl}/issues/?jql=${t}`}renderHideDoneCheckboxOld(){const{intl:{formatMessage:e},hideDone:t}=this.props;return this.isHideDoneCheckboxVisible()?c.a.createElement(a("bLPp").a,{title:e(eb.filter),id:"child-issues-panel-checkbox-group"},c.a.createElement(a("NPh+").a,{id:"hideDone",key:"hideDone",onClick:this.onHideDoneClickedAnalytics,isSelected:t},e(eb.hideDone))):null}renderHideDoneCheckbox(){const{intl:{formatMessage:e},hideDone:t,childIssuesLimitStatus:n}=this.props,s=zm(n),i=c.a.createElement(a("NPh+").a,{id:"hideDone",key:"hideDone",onClick:this.onHideDoneClickedAnalytics,isSelected:t,isDisabled:s},e(eb.hideDone));return this.isHideDoneCheckboxVisible()?c.a.createElement(a("bLPp").a,{title:e(eb.filter),id:"child-issues-panel-checkbox-group"},s?c.a.createElement(a("Yto1").a,{content:e(eb.disabledHideDone),position:"top"},i):i):null}renderActionLinks(){
const{intl:{formatMessage:e},hideDone:t,allIssues:n,incompleteIssues:s,parentKey:i,childIssuesPanelType:o,childIssuesLimitStatus:r}=this.props,l=t?s:n,d=Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&Qm(r)?">100":l.length,u=l.map((e=>e.issueKey)).join(","),p=Object(a("d90y").isIssueViewAggChildPanelEnabled)()?((e,t)=>{switch(t){case"portfolioChildren":return`${nb}&jql=${encodeURIComponent(`"Parent Link"=${e}`)}`;case"classicProjectEpicChildren":return`${nb}&jql=${encodeURIComponent(`"Epic Link"=${e}`)}`;case"nextGenChildren":case"classicSubtasks":default:return`${nb}&jql=${encodeURIComponent(`parent=${e}`)}`}})(i,o):this.generateBulkEditLinkOld(u),m=Object(a("d90y").isIssueViewAggChildPanelEnabled)()?Jm(i,o):this.generateSearchLinkOld(u),b=this.isHideDoneCheckboxVisible()?e(eb.actions):"";return c.a.createElement(a("6IoW").a,{title:b},c.a.createElement(a("ourr").a,{onClick:this.onBulkEditClickedAnalytics(d),href:p,
"data-testid":"issue.views.common.child-issues-panel.heading.meatballs.bulk-edit-dropdown-item"},e(eb.bulkEdit)),c.a.createElement(a("ourr").a,{onClick:this.onViewInSearchClickedAnalytics(d),href:m,"data-testid":"issue.views.common.child-issues-panel.heading.meatballs.view-in-search-dropdown-item"},e(eb.search)))}render(){return c.a.createElement(tb,{"data-testid":Object(a("d90y").isIssueViewAggChildPanelEnabled)()?"issue.views.common.child-issues-panel.heading.meatballs.dropdown.trigger-button":""},c.a.createElement(a("Yc37").a,{triggerType:"button",triggerButtonProps:{appearance:"subtle",spacing:"compact",iconBefore:c.a.createElement(a.n(a("eaSS")).a,{size:"small",label:this.props.intl.formatMessage(eb.tooltip)})},position:"bottom right"},Object(a("d90y").isIssueViewAggChildPanelEnabled)()?this.renderHideDoneCheckbox():this.renderHideDoneCheckboxOld(),this.renderActionLinks()))}}ab.displayName="Meatballs",ab.defaultProps={hideDone:!1}
;var sb=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("item",{onBulkEditClicked:"clicked",onViewInSearchClicked:"clicked",onHideDoneClicked:"clicked"}),Object(a("4zF2").a)({onBulkEditClicked:e=>({name:"bulkEdit",issueCount:e}),onViewInSearchClicked:e=>({name:"viewInSearch",issueCount:e}),onHideDoneClicked:(e,t,n)=>({name:"toggleHideDone",totalIssues:e,incompleteIssues:t,hideDone:n})}),Object(d.connect)((e=>r()(r()({baseUrl:Zu(e)},Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&{childIssuesPanelType:Xu(e)}),{},{parentKey:np(e),hideDone:Hu(e),allIssues:_u(e),incompleteIssues:xu(e)})),{onHideDoneClicked:()=>({type:"state.ui.TOGGLE_HIDE_DONE"})})])(ab),ib=Object(S.defineMessages)({sortByLabel:{id:"issue.views.common.child-issues-panel.heading.sort-by.label",defaultMessage:"Order by {option}"},created:{id:"issue.views.common.child-issues-panel.heading.created.label",defaultMessage:"Created"},key:{id:"issue.views.common.child-issues-panel.heading.key.label",defaultMessage:"Key"
},priority:{id:"issue.views.common.child-issues-panel.heading.priority.label",defaultMessage:"Priority"},status:{id:"issue.views.common.child-issues-panel.heading.status.label",defaultMessage:"Status"},assignee:{id:"issue.views.common.child-issues-panel.heading.assignee.label",defaultMessage:"Assignee"},ranking:{id:"issue.views.common.child-issues-panel.heading.ranking.label",defaultMessage:"Rank"},defaultOptionLabel:{id:"issue.views.common.child-issues-panel.heading.default-option.label",defaultMessage:"{option} (default)"},exceededChildIssuesLimit:{id:"issue.views.common.child-issues-panel.heading.sort-by.exceeded-child-issues-limit",defaultMessage:"To order more than 100 child issues, select \xb7\xb7\xb7 > View in search."}});const ob=T.default.span.withConfig({componentId:"sc-3v5xte-0"})`padding-right:${.75*a("ZpU/").e}px;`,rb=T.default.div.withConfig({componentId:"sc-3v5xte-1"})`min-width:${20*a("ZpU/").e}px;`,lb=T.default.div.withConfig({componentId:"sc-3v5xte-2"
})`border-top:1px solid ${"#EBECF0"};padding:${a("ZpU/").e/2}px 0;span{color:${"#0052CC"};}`,cb=Object(a("wW5i").a)("dropdownItem",{onClick:"clicked"})(a("ourr").a),db="ranking",ub=["created","key","priority","status","assignee"],pb="defaultOptionLabel",mb=e=>{var t;const{sortedBy:n,onSelect:s,childIssuesLimitStatus:i}=e;let o=ub;const r=Object(a("ovRs").h)(),{formatMessage:d}=Object(a("NRyt").d)(),[u,p]=Object(l.useState)(!1),[{value:m}]=Object(a("MoW5").a)(r,"priority");(!m||!m.allowedValues||m.allowedValues.length<=1)&&(o=ub.filter((e=>"priority"!==e)));const b=Object(l.useMemo)((()=>{const e=new Map,t=d(ib.ranking),n=d(ib.defaultOptionLabel,{option:t});return e.set(db,t),e.set(pb,n),o.forEach((t=>{e.set(t,d(ib[t]))})),e}),[o,d]),g=Object(l.useMemo)((()=>o.filter((e=>e!==n))),[o,n]),f=Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&zm(i),h=c.a.createElement(a("340+").a,{appearance:"subtle",isSelected:u,iconAfter:c.a.createElement(a.n(a("1YpF")).a,{label:""}),
testId:"issue.views.common.child-issues-panel.heading.sort-by-menu.trigger-button",isDisabled:f},c.a.createElement(ob,null,d(ib.sortByLabel,{option:null!==n&&n!==db?null===(t=b.get(n))||void 0===t?void 0:t.toLowerCase():""})));return Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&Qm(i)?null:f?c.a.createElement(a("Yto1").a,{content:d(ib.exceededChildIssuesLimit),position:"top"},c.a.createElement(a("cjzN").a,{isDisabled:f},h)):c.a.createElement(a("BI20").a,{trigger:h,isOpen:u,onOpenChange:()=>{p(!u)}},c.a.createElement(rb,null,c.a.createElement(a("6IoW").a,null,g.map((e=>c.a.createElement(cb,{key:e,"data-testId":`issue.views.common.child-issues-panel.heading.sort-by-menu.option-${e}`,onClick:(t,n)=>s(e,n)},b.get(e)))),n&&n!==db&&c.a.createElement(lb,null,c.a.createElement(cb,{key:db,"data-testId":"issue.views.common.child-issues-panel.heading.sort-by-menu.default-option",onClick:(e,t)=>s(db,t)},b.get(pb))))))};mb.displayName="SortByMenu"
;const bb=({allIssueIds:e,childIssuesLimitStatus:t})=>{const[n,{setSortBy:s}]=ku(),[,{setSortableIssueIds:i}]=Su(),{createAnalyticsEvent:o}=Object(a("rZ/p").a)(),r=Object(l.useCallback)((t=>{Object(a("yy8q").h)(o({action:"clicked",actionSubject:"dropdown"}),"childIssuesSortBy",{selection:t}),i(e),s(t)}),[e,o,s,i]);return c.a.createElement(mb,{sortedBy:n,onSelect:r,childIssuesLimitStatus:t})};bb.displayName="ConnectedComponent";var gb=Object(d.connect)((e=>({allIssueIds:_u(e).map((e=>Object(a("Rp3N").l)(e.id)))})),{})(bb),fb=Object(S.defineMessages)({title:{id:"issue.views.common.child-issues-panel.heading.title.title",defaultMessage:"Child issues"}});class hb extends l.Component{render(){const{intl:{formatMessage:e},title:t}=this.props;return c.a.createElement(a("vPcr").e,null,e(t))}}hb.displayName="Title",hb.defaultProps={title:fb.title};var Eb=Object(a("v5q+").a)([S.injectIntl,Object(d.connect)((e=>({title:lp(e)})),{})])(hb);class yb extends l.Component{render(){
const{Title:e,Meatballs:t,AddChild:n,SortByMenu:s,supportsIssueCreation:i,allIssues:o,onAddChildClick:r,sourceName:l,isSortingAvailable:d,childIssuesLimitStatus:u}=this.props,p=Object(a("d90y").isIssueViewAggChildPanelEnabled)()?i:i&&0!==o.length,m=Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&Qm(u)||o.length>0;return c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},c.a.createElement("label",{htmlFor:l},c.a.createElement(e,null)),c.a.createElement(a("vPcr").d,null,d&&c.a.createElement(s,{childIssuesLimitStatus:u}),m?c.a.createElement(t,{childIssuesLimitStatus:u}):null,p?c.a.createElement(n,{onClick:r}):null))}}yb.displayName="Heading",yb.defaultProps={isSortingAvailable:!1,supportsIssueCreation:!1,allIssues:[]};var Ob=Object(a("v5q+").a)([Object(d.connect)((e=>({Title:Eb,Meatballs:sb,AddChild:Ym,SortByMenu:gb,allIssues:_u(e),supportsIssueCreation:ep(e),isSortingAvailable:hp(e)})),{})])(yb),vb=Object(S.defineMessages)({
typesPlaceholder:{id:"issue.views.common.child-issues-panel.inline-create.child-types-select.types-placeholder",defaultMessage:"Issue type"}});T.default.div.withConfig({componentId:"sc-13ov7lj-0"})`border:solid ${a("5kDX").a.N50} ${a("ZpU/").e}px;padding:${a("ZpU/").e}px;`;const jb=T.default.div.withConfig({componentId:"sc-13ov7lj-1"})`display:flex;align-items:center;`,Ib=T.default.span.withConfig({componentId:"sc-13ov7lj-2"})`padding-left:${a("ZpU/").e}px;display:inline-block;`,Cb={singleValue:e=>r()(r()({},e),{},{position:"static",transform:"none"})},Sb=e=>e.name,kb=e=>e.id,wb=e=>c.a.createElement(jb,null,c.a.createElement(a("Opng").a,{url:e.iconUrl,title:e.name}),c.a.createElement(Ib,null,e.name));wb.displayName="formatOptionLabel";class Tb extends l.Component{constructor(...e){super(...e),this.onChange=(e,t)=>{"select-option"===t.action&&null!=e&&this.props.onChange(e)}}render(){const{intl:{formatMessage:e},issueTypes:t,selectedIssueType:n}=this.props
;return c.a.createElement(a("Jyfm").a,j()({},a("gWdf").b,{styles:Object(a("jYqf").a)(a("JQsD").f,Cb),options:t,value:n,getOptionLabel:Sb,getOptionValue:kb,formatOptionLabel:wb,onChange:this.onChange,placeholder:e(vb.typesPlaceholder)}))}}Tb.displayName="ChildTypesSelect",Tb.defaultProps={issueTypes:[]};var Db=Object(a("v5q+").a)([S.injectIntl,Object(d.connect)((e=>({selectedIssueType:qu(e),issueTypes:Vu(e)})),(e=>({onChange:t=>e((e=>({type:"state.ui.SELECTED_ISSUE_TYPE_CHANGED",payload:e}))(t))})))])(Tb),Rb=a("Zsd2"),Lb=a.n(Rb);const Mb=e=>{const{children:t,onClick:n}=e;return c.a.createElement(a("340+").a,{appearance:"subtle-link",iconBefore:c.a.createElement(a.n(a("UN/d")).a,{label:""}),isSelected:!1,onClick:n},t)};Mb.displayName="AddExistingIssueButton",Mb.displayName="AddExistingIssueButton";var Ab=Object(S.defineMessages)({summaryLabel:{id:"issue.views.common.child-issues-panel.inline-create.summary-label",defaultMessage:"Child summary"},summaryPlaceholder:{
id:"issue.views.common.child-issues-panel.inline-create.summary-placeholder",defaultMessage:"What needs to be done?"},summaryTooLong:{id:"issue.views.common.child-issues-panel.inline-create.summary-too-long",defaultMessage:"Summary must be less than 255 characters."},childCreateButton:{id:"issue.views.common.child-issues-panel.inline-create.child-create-button",defaultMessage:"Create"},childCancelButton:{id:"issue.views.common.child-issues-panel.inline-create.child-cancel-button",defaultMessage:"Cancel"},addExistingIssuePlaceholder:{id:"issue.views.common.child-issues-panel.inline-create.add-existing-issue-placeholder",defaultMessage:"Choose an existing issue"}}),_b=a("wTIg");const Nb=T.default.div.withConfig({componentId:"sc-10p591b-0"})`display:flex;align-items:center;background-color:${a("5kDX").a.N10};width:100%;`,xb=T.default.div.withConfig({componentId:"sc-10p591b-1"})`flex-grow:1;`,Ub=Object(_b.a)(a("340+").a,{target:"e1o0mbwp0"
})("margin-left:",a("ZpU/").e,"px !important;"),Fb=T.default.div.withConfig({componentId:"sc-10p591b-2"})`margin-top:${a("ZpU/").e}px;display:flex;justify-content:space-between;`,Pb=T.default.div.withConfig({componentId:"sc-10p591b-3"})`justify-content:flex-end;display:flex;`,Vb=e=>Lb()(e).length>255,Kb=e=>{const t=Lb()(e);return Xm()(t)||Vb(e)};class $b extends l.Component{constructor(e){super(e),this.onSubmitClicked=()=>{this.createChild(),this.props.onSubmitClickAnalytics()},this.onCancelClicked=()=>{this.closeAndReset(),this.props.onCancelClickAnalytics()},this.onEnterPressed=()=>{this.createChild(),this.props.onEnterKeyPressedAnalytics()},this.onEscPressed=()=>{this.closeAndReset(),this.props.onEscapeKeyPressedAnalytics()},this.onUpdateChildSummary=e=>{const t=e.target.value;this.props.onChangeSummary(t)},this.onChildContainerRefSet=e=>{this.childContainer=e},this.onFieldContainerRefSet=e=>{this.fieldContainer=e},this.onAddExisting=()=>{this.props.onAddExistingIssue(),
this.props.onAddExistingClickAnalytics()},this.childContainer=void 0,this.fieldContainer=void 0,this.createIssueFormFactory=void 0,this.createIssueFormFactory=null}async componentDidMount(){Object(a("eS/l").a)(this.childContainer),this.fieldContainer&&this.fieldContainer.focus();const e="classicSubtasks"===this.props.childIssuesPanelType?"quick-edit/form/factory/create-subtask":"quick-edit/form/factory/create-issue";this.createIssueFormFactory=await Object(a("oGf9").a)({name:e,wrmKeys:"wrc!com.atlassian.jira.jira-quick-edit-plugin:quick-form"})}componentDidUpdate(e){this.props.addClickCount!==e.addClickCount&&(Object(a("eS/l").a)(this.childContainer),this.fieldContainer&&this.fieldContainer.focus())}createChild(){const e=`OPTIMISTIC_CHILD_${Date.now()}`,{baseUrl:t,epicLinkFieldKey:n,selectedIssueType:s,projectId:i,parentIssueId:o,parentIssueKey:l,childIssuesPanelType:c,requiresFullCreate:d,summary:u}=this.props
;if((Object(a("d90y").is2afErrorCleanupGroup2Enabled)()?!Kb(u)&&"function"==typeof this.createIssueFormFactory:!Kb(u))&&s){const b={id:e,issueSummary:u,issueTypeId:`${s.id}`,issueTypeIconUrl:`${s.iconUrl}`,issueTypeName:`${s.name}`,assigneeUrl:null,assigneeDisplayName:null};if(s.hasRequiredField||d){const d="classicProjectEpicChildren"===c,b=r()({pid:i,issueType:s&&s.id,fields:r()({issuetype:s.id,summary:u||""},d&&n?{[n]:l}:{}),customFieldsToPreserveOnFormRecreation:[...d&&n?[n]:[]]},"classicSubtasks"===c?{parentIssueId:o}:{});if(Object(a("d90y").isModernGICEnabledForSubtask)()&&window.IssueCreate&&window.IssueCreate.Visibility.isEnabled){var p,m;const{pid:s,issueType:i,fields:c}=b,u=d&&n&&l?{epic:{fieldId:n,fieldValue:l}}:null,g=Object(a("MBvp").b)({prefilledFields:r()({pid:s,parentId:o,issuetype:i,summary:c.summary},u)});null===(p=(m=this.props).openIssueCreateModal)||void 0===p||p.call(m,{payload:g,fieldsToAddInPublishedData:[n],isSubTaskCreationOpen:!d,onIssueCreate:a=>{
d&&(n&&a.createdIssueDetails.fields[n])!==l||this.props.onFullDialogCreate(e,Yp(a.createdIssueDetails,t)),this.resetAndFocus()}})}else{const a=this.createIssueFormFactory(b);a.bind("issueCreated",((a,s)=>{d&&s.createdIssueDetails.fields[n]!==l||this.props.onFullDialogCreate(e,Yp(s.createdIssueDetails,t)),this.resetAndFocus()})),a.asDialog({id:"classicSubtasks"===c?"create-subtask-dialog":"create-issue-dialog"}).show()}}else this.props.onSubmit(b),this.resetAndFocus()}}closeAndReset(){this.reset(),this.props.onCancel()}resetAndFocus(){this.reset(),this.fieldContainer&&this.fieldContainer.focus()}reset(){this.props.onChangeSummary("")}renderAddExistingIssueButton(){const{intl:{formatMessage:e}}=this.props;switch(this.props.childIssuesPanelType){case"nextGenChildren":return c.a.createElement(a("Yto1").a,{content:e(Ab.addExistingIssuePlaceholder)},c.a.createElement(Mb,{onClick:this.onAddExisting},e(Ab.addExistingIssuePlaceholder)));case"portfolioChildren":case"classicProjectEpicChildren":
case"classicSubtasks":default:return c.a.createElement("div",null)}}render(){const{intl:{formatMessage:e},issueTypes:t,ChildTypesSelect:n,summary:s,inputId:i}=this.props,o=Vb(s)?e(Ab.summaryTooLong):"";return c.a.createElement("div",{ref:this.onChildContainerRefSet},c.a.createElement(Nb,null,t.length>1?c.a.createElement(n,null):null,c.a.createElement(xb,null,c.a.createElement(a("iAtd").a,{onEnter:this.onEnterPressed,onEscape:this.onEscPressed},c.a.createElement(a("iSg+").a,{ref:this.onFieldContainerRefSet,placeholder:e(Ab.summaryPlaceholder),label:e(Ab.summaryLabel),onChange:this.onUpdateChildSummary,value:s,isInvalid:Vb(s),invalidMessage:o,isLabelHidden:!0,shouldFitContainer:!0,id:i})))),c.a.createElement(Fb,null,this.renderAddExistingIssueButton(),c.a.createElement(Pb,null,c.a.createElement(Ub,{appearance:"primary",onClick:this.onSubmitClicked,isDisabled:Kb(s),
"data-testId":Object(a("d90y").isIssueViewAggChildPanelEnabled)()?"issue.views.common.child-issues-panel.inline-create.add-child-trigger-button":""},e(Ab.childCreateButton)),c.a.createElement(Ub,{appearance:"subtle",onClick:this.onCancelClicked},e(Ab.childCancelButton)))))}}$b.displayName="InlineCreate",$b.defaultProps={addClickCount:0,requiresFullCreate:!1,parentIssueKey:void 0,epicLinkFieldKey:null};var Wb=Object(a("5WHm").a)(a("d90y").isModernGICEnabledForSubtask,Object(a("SGpu").b)("issue")(Object(a("/rL4").c)($b)),Object(a("SGpu").b)("issue")($b)),Bb=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("button",{onSubmitClickAnalytics:"clicked",onCancelClickAnalytics:"clicked",onAddExistingClickAnalytics:"clicked"}),Object(a("QURJ").a)("keyboardShortcut",{onEnterKeyPressedAnalytics:"pressed",onEscapeKeyPressedAnalytics:"pressed"}),Object(a("QURJ").a)("childIssuePanelInlineCreate",{onSubmit:"onSubmit",onFullDialogCreate:"onFullDialogCreate"}),Object(a("4zF2").a)({
onSubmitClickAnalytics:"createChildIssue",onCancelClickAnalytics:"hideChildIssueInlineCreate",onEnterKeyPressedAnalytics:"confirmChildIssueCreate",onEscapeKeyPressedAnalytics:"cancelChildIssueCreate",onAddExistingClickAnalytics:"addExistingChildClick"}),Object(d.connect)((e=>({ChildTypesSelect:Db,baseUrl:Zu(e),issues:_u(e),addClickCount:$u(e),issueTypes:Vu(e),selectedIssueType:qu(e),projectId:op(e),parentIssueId:ap(e),parentIssueKey:np(e),epicLinkFieldKey:ip(e),childIssuesPanelType:Xu(e),requiresFullCreate:tp(e),summary:Bu(e)})),{onCancel:gm,onAddExistingIssue:()=>hm(fm.AddExistingIssue),onChangeSummary:e=>Em(e),onSubmit:(e,t)=>vp(e,t),onFullDialogCreate:(e,t,n)=>((e,t,n)=>({type:"state.entities.CHILD_CREATED_IN_FULL_DIALOG",payload:{optimisticId:e,createdChild:t},meta:{analyticsEvent:n}}))(e,t,n)})])(Wb),qb=a("Mn35"),Hb=a.n(qb);const Gb=Object(S.defineMessages)({retry:{id:"issue.issue-line-card-retry",defaultMessage:"Try again"},cancel:{id:"issue.issue-line-card-cancel",
defaultMessage:"Cancel"}}),Yb=T.default.h1.withConfig({componentId:"sc-1yohshg-0"})`${a("5kDX").d.h400()} margin-bottom:${2*a("ZpU/").e}px;`,Zb=T.default.div.withConfig({componentId:"sc-1yohshg-1"})`margin-bottom:${2*a("ZpU/").e}px;`,Xb=T.default.div.withConfig({componentId:"sc-1yohshg-2"})`display:flex;justify-content:flex-start;`,Jb=T.default.div.withConfig({componentId:"sc-1yohshg-3"})`margin-left:${a("ZpU/").e}px;`,zb=(e,t,n,s,i)=>c.a.createElement(a("J6PP").a,{type:"warning",placement:"bottom-end"},c.a.createElement("div",null,c.a.createElement(Yb,null,t),c.a.createElement(Zb,null,n),c.a.createElement(Xb,null,c.a.createElement(a("340+").a,{onClick:s},e.formatMessage(Gb.retry)),c.a.createElement(Jb,null,c.a.createElement(a("340+").a,{appearance:"subtle",onClick:i},e.formatMessage(Gb.cancel))))));zb.displayName="renderInlineMessage";var Qb=Object(S.defineMessages)({createChildErrorTitle:{id:"issue.views.common.child-issues-panel.issues.create-child-error-title",
defaultMessage:"We couldn't create the child issue"},createSubtaskErrorTitle:{id:"issue.views.common.child-issues-panel.issues.create-subtask-error-title",defaultMessage:"We couldn't create the subtask"},createErrorBody:{id:"issue.views.common.child-issues-panel.issues.create-error-body",defaultMessage:"Check your connection, then give it another try"},linkIssueErrorTitle:{id:"issue.views.common.child-issues-panel.issues.link-issue-error-title",defaultMessage:"We couldn't link the child issue"},linkIssueErrorBody:{id:"issue.views.common.child-issues-panel.issues.link-issue-error-body",defaultMessage:"Check your connection, then give it another try"},restrictedReorderingMessage:{id:"issue.views.common.child-issues-panel.issues.restricted-reordering-message",defaultMessage:"To order these issues manually, choose 'Order by rank'"}});const eg=T.default.div.withConfig({componentId:"sc-1wm62xq-0"})`width:${5*a("ZpU/").e}px;position:relative;`
;var tg=({issueTimeTracking:e,statusCategory:t})=>{const[n]=Object(a("uC67").c)(),{remainingEstimateSeconds:s,originalEstimateSeconds:i,timeSpentSeconds:o}=e,r={loggedTime:o,remainingTime:s},l=i,d=t===a("0gK+").a.DONE;return c.a.createElement(eg,{"data-testid":"issue.views.common.issue-line-card.issue-line-card.mini-time-log-graph"},c.a.createElement(a("+NO+").a,{value:r,estimatedTime:l,config:n,isDone:d,isCompact:!0,shouldHighlightOnHover:!0}))};const ng=T.default.div.withConfig({componentId:"sc-17mfhod-0"})`margin-top:${a("ZpU/").e}px;margin-bottom:${a("ZpU/").e}px;padding-right:1px;`;class ag extends l.Component{constructor(...e){super(...e),this.onChildIssueClick=(e,t)=>{const n=e.issueKey;"string"==typeof n&&Object(a("sKDb").d)(t)?this.props.onNavigateToNewIssue({fromIssueKey:this.props.parentKey,toIssueKey:n}):"string"==typeof n&&(Object(a("sKDb").e)(t)||Object(a("sKDb").a)(t))&&window.open(e.issueLink,"_blank")},this.onOrderChange=(e,t,n,a,s)=>{
this.props.onReorderChildren(this.props.allIssues,e,n,a,s)}}inlineErrorMessage(e,t){const{intl:n,onInlineErrorCreateRetry:a,onInlineErrorLinkingRetry:s,onInlineErrorCancel:i,isClassicSubtaskPanel:o}=this.props;switch(t){case pm:return zb(n,n.formatMessage(Qb.linkIssueErrorTitle),n.formatMessage(Qb.linkIssueErrorBody),((t,n)=>s(e,n)),(()=>i(e)));case um:default:{const t=o?Qb.createSubtaskErrorTitle:Qb.createChildErrorTitle;return zb(n,n.formatMessage(t),n.formatMessage(Qb.createErrorBody),((t,n)=>a(e,n)),(()=>i(e)))}}}renderIssueLineCardGroup({groupId:e,issues:t,projectType:n,isReorderEnabled:s,isInteractive:i,onEditIssue:o,shouldDisplayWorklogGraph:l,restrictedReorderingMessage:d}){return c.a.createElement(a("a0QS").a,{items:t,onOrderChange:this.onOrderChange,groupId:e,isReorderEnabled:s,isInteractive:i,onClick:this.onChildIssueClick},((e,t,u,m)=>{
const{id:b,issueKey:g,issueLink:f,issueTypeIconUrl:h,issueTypeName:E,issuePriorityUrl:y,issuePriorityName:O,issueSummary:v,statusCategory:j,statusCategoryId:I,statusId:C,statusName:S,assigneeUrl:k,assigneeDisplayName:w,isLoading:T,errorInlineMessage:D,hasError:R,estimateFieldId:L,issueTimeTracking:M}=m,A=[];return l&&void 0!==(null==M?void 0:M.timeSpentSeconds)&&M.timeSpentSeconds>0&&A.push(c.a.createElement(tg,{issueTimeTracking:M,statusCategory:m.statusCategory})),c.a.createElement(a("vya7").a,{id:Object(a("Rp3N").l)(b),issueKey:Object(a("Rp3N").n)(null!=g?g:""),issueLink:f,issueTypeIconUrl:h,issueTypeName:E,issuePriorityUrl:y,issuePriorityName:O,issueSummary:v,statusCategory:j,statusCategoryId:I,statusId:C,statusName:S,assigneeUrl:k,assigneeDisplayName:w,isLoading:T,errorInlineMessage:D,hasError:R,estimateFieldId:L,isHovering:e,isActive:t,isFocused:u,isDraggable:s,isInteractive:i,projectType:n,onEdit:o&&(e=>o&&o(r()(r()({},m),e))),
onClick:Object(a("d90y").isInlineEditBumpEnabled)()?e=>this.onChildIssueClick(r()({},m),e):p.a,restrictedReorderingMessage:d,additionalItems:A,isInlineEditEnabled:!0})}))}render(){const{allIssues:e,incompleteIssues:t,hideDone:n,isClassicSubtaskPanel:a,isNextGenChildrenPanel:s,projectType:i,onEditIssue:o,shouldDisplayWorklogGraph:l,intl:{formatMessage:d},restrictReordering:u=!1}=this.props,p=e.length>1,m=e.filter((e=>e.isLoading)).length>0,b=(s||a)&&!n&&p&&!m&&!u,g=(n?t:e).map((e=>e.errorType?r()(r()({},e),{},{errorInlineMessage:this.inlineErrorMessage(e.id,e.errorType)}):e)),f={"data-testid":"issue.issue-view.views.common.child-issues-panel.issues-container"},h=(s||a)&&p&&u&&{restrictedReorderingMessage:d(Qb.restrictedReorderingMessage)};return c.a.createElement(ng,f,this.renderIssueLineCardGroup(r()({groupId:"child-issues-panel",issues:g,projectType:i,isReorderEnabled:b,onEditIssue:o,shouldDisplayWorklogGraph:l},h)))}}ag.displayName="IssuesInternal",ag.defaultProps={
isClassicSubtaskPanel:!1,isNextGenChildrenPanel:!1,shouldDisplayWorklogGraph:!1,allIssues:[],incompleteIssues:[],projectType:null,restrictReordering:!1,onReorderChildren:p.a,onEditIssue:p.a};const sg=Object(l.memo)(ag,Tn.a);sg.displayName="Issues";const ig=Object(a("5WHm").a)(a("d90y").isMagmaRenderCostOptimisationEnabled,sg,ag),og=e=>[...e].sort(((e,t)=>void 0===e.created?1:void 0===t.created?-1:t.created-e.created)),rg=e=>[...e].sort(((e,t)=>{const[n="",a=0]=(e.issueKey||"").split("-"),[s="",i=0]=(t.issueKey||"").split("-");return n.localeCompare(s)||parseInt(a,10)-parseInt(i,10)})),lg={UNDEFINED:0,TODO:1,IN_PROGRESS:2,DONE:3
},cg=e=>lg[null==e?"UNDEFINED":e]||0,dg=e=>[...e].sort(((e,t)=>cg(e.statusCategory)-cg(t.statusCategory)||(e.statusName||"").localeCompare(t.statusName||""))),ug=e=>[...e].sort(((e,t)=>""===e.assigneeDisplayName||null==e.assigneeDisplayName?1:""===t.assigneeDisplayName||null==t.assigneeDisplayName?-1:e.assigneeDisplayName.localeCompare(t.assigneeDisplayName))),pg=(e,t)=>{const n=e.indexOf(t);return n>=0?n:Number.MAX_SAFE_INTEGER},mg=["allIssues","incompleteIssues","sortBy"],bg=e=>{let{allIssues:t,incompleteIssues:n,sortBy:s}=e,i=C()(e,mg);const o=Object(a("ovRs").h)(),[{value:r}]=Object(a("MoW5").a)(o,"priority"),d=(null==r?void 0:r.allowedValues)||[],u=Object(l.useMemo)((()=>d.map((e=>e.name))),[d]),[p]=Su(),[m,b]=Object(l.useMemo)((()=>Hb()(t,(e=>p.includes(e.id)))),[t,p]),[g,f]=Object(l.useMemo)((()=>Hb()(n,(e=>p.includes(e.id)))),[n,p]),h=Object(l.useMemo)((()=>{switch(s){case"created":return og;case"key":return rg;case"status":return dg;case"assignee":return ug;case"priority":
return e=>((e,t)=>[...e].sort(((e,n)=>pg(t,e.issuePriorityName)-pg(t,n.issuePriorityName))))(e,u);case"ranking":default:return e=>e}}),[u,s]),E=Object(l.useMemo)((()=>h(m)),[m,h]),y=Object(l.useMemo)((()=>h(g)),[g,h]),O=null!==s&&"ranking"!==s;return c.a.createElement(ig,j()({},i,{allIssues:[...E,...b],incompleteIssues:[...y,...f],restrictReordering:O}))};bg.displayName="SortedIssues",bg.defaultProps={isClassicSubtaskPanel:!1,isNextGenChildrenPanel:!1,shouldDisplayWorklogGraph:!1,allIssues:[],incompleteIssues:[],projectType:null,onReorderChildren:p.a,onEditIssue:p.a};const gg=Object(a("SGpu").b)("issue")(bg),fg=e=>{const{allIssues:t,onReorderChildren:n}=e,[,{setSortableIssueIds:s}]=Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?Iu():Su(),i=Object(l.useCallback)(((...e)=>{s(t.map((e=>Object(a("Rp3N").l)(e.id)))),n(...e)}),[t,n,s]);return c.a.createElement(gg,j()({},e,{onReorderChildren:i}))};fg.displayName="ReorderingObserverComponent";const hg=e=>{
const t=Object(a("NRyt").d)(),[n]=ku();return c.a.createElement(fg,j()({},e,{sortBy:n,intl:t}))};hg.displayName="ConnectedIssuesList";const Eg=e=>{const[t]=ku();return c.a.createElement(fg,j()({},e,{sortBy:t}))};Eg.displayName="ConnectedIssuesListOld";var yg=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(a("v5q+").a)([Object(a("QURJ").a)("button",{onInlineErrorCancel:"clicked",onInlineErrorCreateRetry:"clicked"}),Object(a("QURJ").a)("inlineIssue",{onNavigateToNewIssue:"clicked",onReorderChildren:"dragged"}),Object(a("4zF2").a)({onInlineErrorCancel:"cancelInlineErrorCreate",onInlineErrorCreateRetry:"retryInlineErrorCreate",onNavigateToNewIssue:"navigateToNewIssue",onReorderChildren:"reorderChildren"}),Object(d.connect)((e=>({allIssues:_u(e),incompleteIssues:xu(e),hideDone:Hu(e),parentKey:np(e),projectType:mp(e),isClassicSubtaskPanel:Ju(e),isNextGenChildrenPanel:Qu(e),onNavigateToNewIssue:dp(e),shouldDisplayWorklogGraph:Ju(e)||Qu(e)&&0===Fu(e)})),{
onInlineErrorCancel:Tp,onInlineErrorCreateRetry:kp,onInlineErrorLinkingRetry:Cp,onReorderChildren:Rp,onEditIssue:Op})])(hg),Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("button",{onInlineErrorCancel:"clicked",onInlineErrorCreateRetry:"clicked"}),Object(a("QURJ").a)("inlineIssue",{onNavigateToNewIssue:"clicked",onReorderChildren:"dragged"}),Object(a("4zF2").a)({onInlineErrorCancel:"cancelInlineErrorCreate",onInlineErrorCreateRetry:"retryInlineErrorCreate",onNavigateToNewIssue:"navigateToNewIssue",onReorderChildren:"reorderChildren"}),Object(d.connect)((e=>({allIssues:_u(e),incompleteIssues:xu(e),hideDone:Hu(e),parentKey:np(e),projectType:mp(e),isClassicSubtaskPanel:Ju(e),isNextGenChildrenPanel:Qu(e),onNavigateToNewIssue:dp(e),shouldDisplayWorklogGraph:Ju(e)||Qu(e)&&0===Fu(e)})),{onInlineErrorCancel:Tp,onInlineErrorCreateRetry:kp,onInlineErrorLinkingRetry:Cp,onReorderChildren:Rp,onEditIssue:Op})])(Eg)),Og=Object(S.defineMessages)({completionPercentageText:{
id:"issue.views.common.child-issues-panel.progress-summary.completion-percentage-text",defaultMessage:"{completionPercentage}% Done"},todoIssuesSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.todo-issues-segment-tooltip-text",defaultMessage:"To Do: {todoIssueCount} of {totalIssueCount} issues"},todoSubtasksSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.todo-subtasks-segment-tooltip-text",defaultMessage:"To Do: {todoIssueCount} of {totalIssueCount} subtasks"},inProgressIssuesSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.in-progress-issues-segment-tooltip-text",defaultMessage:"In Progress: {inProgressIssueCount} of {totalIssueCount} issues"},inProgressSubtasksSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.in-progress-subtasks-segment-tooltip-text",defaultMessage:"In Progress: {inProgressIssueCount} of {totalIssueCount} subtasks"},
completedIssuesSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.completed-issues-segment-tooltip-text",defaultMessage:"Done: {completedIssueCount} of {totalIssueCount} issues"},completedSubtasksSegmentTooltipText:{id:"issue.views.common.child-issues-panel.progress-summary.completed-subtasks-segment-tooltip-text",defaultMessage:"Done: {completedIssueCount} of {totalIssueCount} subtasks"}});const vg=a("5kDX").a.N30,jg=a("5kDX").a.B400,Ig=a("5kDX").a.G300,Cg=T.default.div.withConfig({componentId:"sc-1aqy3r5-0"})`display:flex;align-items:center;`,Sg=T.default.div.withConfig({componentId:"sc-1aqy3r5-1"})`flex-grow:1;`,kg=T.default.div.withConfig({componentId:"sc-1aqy3r5-2"})`margin-left:${2*a("ZpU/").e}px;margin-right:${.25*a("ZpU/").e}px;flex-shrink:0;color:${a("5kDX").a.N200};`,wg=T.default.span.withConfig({componentId:"sc-1aqy3r5-3"})`display:inline-block;width:${3*a("ZpU/").e}px;text-align:right;`,Tg={remainingTooltip:Og.todoSubtasksSegmentTooltipText,
completedTooltip:Og.completedSubtasksSegmentTooltipText,inProgressTooltip:Og.inProgressSubtasksSegmentTooltipText},Dg={remainingTooltip:Og.todoIssuesSegmentTooltipText,completedTooltip:Og.completedIssuesSegmentTooltipText,inProgressTooltip:Og.inProgressIssuesSegmentTooltipText},Rg=e=>{const{formatMessage:t}=Object(a("NRyt").d)(),{isClassicSubtaskPanel:n,totalIssueCount:s,inProgressIssueCount:i,completedIssueCount:o}=e,r=s-i-o,l=Math.floor(o/s*100),{remainingTooltip:d,completedTooltip:u,inProgressTooltip:p}=n?Tg:Dg;return c.a.createElement(Cg,null,c.a.createElement(Sg,null,c.a.createElement(a("CV/R").b,{sum:s,backgroundColor:vg,remainingTooltipContent:t(d,{todoIssueCount:r,totalIssueCount:s})},c.a.createElement(a("CV/R").a,{value:o,color:Ig,tooltipContent:t(u,{completedIssueCount:o,totalIssueCount:s})}),c.a.createElement(a("CV/R").a,{value:i,color:jg,tooltipContent:t(p,{inProgressIssueCount:i,totalIssueCount:s})
}))),c.a.createElement(kg,null,c.a.createElement(S.FormattedMessage,j()({},Og.completionPercentageText,{values:{completionPercentage:c.a.createElement(wg,null,l)}}))))};Rg.displayName="ProgressSummaryView";const Lg=e=>{const{isClassicSubtaskPanel:t,intl:{formatMessage:n},totalIssueCount:s,inProgressIssueCount:i,completedIssueCount:o}=e,r=s-i-o,l=Math.floor(o/s*100),{remainingTooltip:d,completedTooltip:u,inProgressTooltip:p}=t?Tg:Dg;return c.a.createElement(Cg,null,c.a.createElement(Sg,null,c.a.createElement(a("CV/R").b,{sum:s,backgroundColor:vg,remainingTooltipContent:n(d,{todoIssueCount:r,totalIssueCount:s})},c.a.createElement(a("CV/R").a,{value:o,color:Ig,tooltipContent:n(u,{completedIssueCount:o,totalIssueCount:s})}),c.a.createElement(a("CV/R").a,{value:i,color:jg,tooltipContent:n(p,{inProgressIssueCount:i,totalIssueCount:s})}))),c.a.createElement(kg,null,c.a.createElement(S.FormattedMessage,j()({},Og.completionPercentageText,{values:{
completionPercentage:c.a.createElement(wg,null,l)}}))))};Lg.displayName="ProgressSummaryViewOld";var Mg=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(a("v5q+").a)([Object(d.connect)((e=>({isClassicSubtaskPanel:Ju(e),totalIssueCount:_u(e).length,inProgressIssueCount:Uu(e).length,completedIssueCount:Nu(e).length})),{})])(Rg),Object(a("v5q+").a)([S.injectIntl,Object(d.connect)((e=>({isClassicSubtaskPanel:Ju(e),totalIssueCount:_u(e).length,inProgressIssueCount:Uu(e).length,completedIssueCount:Nu(e).length})),{})])(Lg));const Ag={[a("Hh3U").a]:"2uhc4ieBPinkLJlWbdhXkC",[a("Hh3U").i]:"z6BNb3cPucF3fi5UA85Ma",[a("Hh3U").h]:"6feRxZzkYUHez8TwHTjSut",[a("Hh3U").b]:null},_g=()=>{const e=Object(l.useRef)(Object(a("HUZs").b)()),t=Object(a("ovRs").h)(),n=Object(a("IFiJ").g)(t),s=Object(a("IFiJ").i)(n),i=Object(a("ovRs").e)(),o=Object(l.useCallback)((()=>{var t;void 0!==s&&(null===(t=e.current)||void 0===t||t.call(e,Ag[s]||""))}),[e,s])
;if(!Boolean(e.current&&void 0!==s&&Ag[s]&&!i))return{type:"HREF",href:"https://support.atlassian.com/jira-cloud-administration/docs/what-are-issue-types/"};return{type:"IN_PRODUCT_HELP",articleId:void 0!==s&&Ag[s]?Ag[s]:"",href:"https://support.atlassian.com/jira-cloud-administration/docs/what-are-issue-types/",openInProductHelp:o}},Ng=["href","innerRef","testId","target"],xg=e=>{let{href:t,innerRef:n,testId:s,target:i}=e,o=C()(e,Ng);return c.a.createElement(a("340+").a,j()({},o,{appearance:"link",href:t,iconAfter:"_blank"===i?c.a.createElement(a.n(a("WhJf")).a,{label:"",size:"small"}):null,testId:s}))};xg.displayName="ButtonLinkWithShortcutIcon";var Ug=Object(S.defineMessages)({title:{id:"issue.views.common.child-issues-panel.child-issues-limit-flag.title",defaultMessage:"Best practice: Limit child issues to 100"},withoutTimetrackingDescription:{id:"issue.views.common.child-issues-panel.child-issues-limit-flag.without-timetracking-description",
defaultMessage:"The issue view can only display up to 100 child issues. If you add more, you'll have to view them in search."},withTimetrackingDescription:{id:"issue.views.common.child-issues-panel.child-issues-limit-flag.with-timetracking-description",defaultMessage:"The issue view can only display up to 100 child issues. If you add more, you'll have to view them in search and won't be able to include them in time tracking."},learnMoreLink:{id:"issue.views.common.child-issues-panel.child-issues-limit-flag.learn-more-link",defaultMessage:"Learn more"}});const Fg="issue.views.common.child-issues-panel.child-issues-limit-flag",Pg=`${Fg}.learn-more-link`,Vg=({stop:e,children:t})=>t(e),Kg=Object(l.forwardRef)(((e,t)=>c.a.createElement(xg,j()({},e,{innerRef:t,testId:Pg})))),$g=Object(a("32OE").c)("child-issues-limit-flag"),Wg=({childIssuesLimitStatus:e})=>{const{formatMessage:t}=Object(a("NRyt").d)(),n=_g(),{showFlag:s,dismissFlag:i,hasFlag:o}=Object(a("uS5k").f)(),d=e=>{
Object(a("yy8q").f)(e,"ChildIssuesLimitFlag mounted")},u=Object(l.useCallback)(((e,t)=>{"IN_PRODUCT_HELP"===n.type&&(Object(a("yy8q").h)(t,"childIssuesLimitFlagLearnMoreLink"),n.openInProductHelp())}),[n]),[p,{setValue:m}]=Object(a("F0wu").b)("jira.user.issue.child-issues-limit.best-practice-flag.dismissed"),b=Object(l.useCallback)(((e,t)=>{Object(a("yy8q").h)(t,"childIssuesLimitFlagDismissButton"),m("dismissed"),null==e||e(),i($g)}),[i,m]),g=Object(a("ovRs").h)(),[{value:f,loading:h}]=Object(a("MoW5").a)(g,"timetracking"),E=Boolean(f)?Ug.withTimetrackingDescription:Ug.withoutTimetrackingDescription;return Qm(e)?h||"dismissed"===p?null:c.a.createElement(a("qDKq").b,{messageId:"issue-details-child-issue-panel-limit"},c.a.createElement(Vg,null,(e=>(null!=o&&o($g)||s({id:$g,render:()=>c.a.createElement(c.a.Fragment,null,c.a.createElement(a("gV9P").a,{onMount:d}),c.a.createElement(a("rQpS").a,{id:Object(a("32OE").b)($g),icon:c.a.createElement(a.n(a("DWq1")).a,{primaryColor:"#FFC400",
label:""}),title:t(Ug.title),description:t(E),onDismissed:(t,n)=>{b(e,n)},linkComponent:Kg,actions:[r()({content:t(Ug.learnMoreLink)},"HREF"===n.type?{href:n.href,target:"_blank"}:{onClick:u})],testId:Fg}))}),null)))):null};Wg.displayName="ChildIssuesLimitFlag",Wg.displayName="ChildIssuesLimitFlag";var Bg=Object(S.defineMessages)({viewInSearchButton:{id:"issue.views.common.child-issues-panel.child-issues-limit-panel.view-in-search-button",defaultMessage:"View in search"},withTimetrackingChildIssuesLimitDescription:{id:"issue.views.common.child-issues-panel.child-issues-limit-panel.with-timetracking-child-issues-limit-description",defaultMessage:"The issue view can only display up to 100 child issues. You can still add and bulk edit them from here, but you'll have to view them in search and won't be able to include them in time tracking. {learnMoreLink}"},withoutTimetrackingChildIssuesLimitDescription:{
id:"issue.views.common.child-issues-panel.child-issues-limit-panel.without-timetracking-child-issues-limit-description",defaultMessage:"The issue view can only display up to 100 child issues. You can still add and bulk edit them from here, but you'll have to view them in search. {learnMoreLink}"},childIssuesLimitTitle:{id:"issue.views.common.child-issues-panel.child-issues-limit-panel.child-issues-limit-title",defaultMessage:"View child issues in search"},learnMoreAboutChildIssuesLink:{id:"issue.views.common.child-issues-panel.child-issues-limit-panel.learn-more-about-child-issues-link",defaultMessage:"Learn more about child issues"}});const qg=T.default.div.withConfig({componentId:"paiv58-0"})`display:flex;align-items:center;padding:${a("ZpU/").e}px;background-color:${"#FFFFFF"};box-shadow:0px 1px 1px rgba(9,30,66,0.25),0px 0px 1px rgba(9,30,66,0.31);border-radius:${.375*a("ZpU/").e}px;margin-top:${1.5*a("ZpU/").e}px;margin-bottom:${a("ZpU/").e}px;`,Hg=T.default.img.withConfig({
componentId:"paiv58-1"})`width:${6.125*a("ZpU/").e}px;height:${8*a("ZpU/").e}px;`,Gg=T.default.div.withConfig({componentId:"paiv58-2"})`flex:1;margin-left:${2*a("ZpU/").e}px;`,Yg=T.default.div.withConfig({componentId:"paiv58-3"})`margin:${2*a("ZpU/").e}px;word-break:break-word;flex:9;`,Zg=T.default.p.withConfig({componentId:"paiv58-4"})`font-family:${a("ZpU/").c};margin:${a("ZpU/").e}px 0px;`,Xg="issue.views.common.child-issues-panel.child-issues-limit-panel",Jg=`${Xg}.learn-more-link`,zg="childIssueLimitReached",Qg=({viewInSearchLink:e})=>{const{formatMessage:t}=Object(a("NRyt").d)(),n=Object(a("ovRs").h)(),s=Object(a("ovRs").e)(),[{value:i}]=Object(a("MoW5").a)(n,"timetracking"),o=Boolean(i),r=Object(l.useCallback)(((e,t)=>{Object(a("yy8q").h)(t,"viewInSearch",{issueCount:">100"})}),[]),d=Object(l.useCallback)(((e,t)=>{Object(a("yy8q").h)(t,"learnMoreAboutChildIssues",{issueCount:">100"})}),[]),u=_g(),p=c.a.createElement(xg,{target:"_blank",href:u.href,testId:Jg
},t(Bg.learnMoreAboutChildIssuesLink));return c.a.createElement(a("HlQC").a,{sourceName:zg,sourceType:a("CU8z").g},c.a.createElement(a("02VO").b,{actionSubjectId:zg}),c.a.createElement(qg,{"data-testid":Xg},c.a.createElement(Gg,null,c.a.createElement(Hg,{src:a.n(a("i4YE")).a,alt:""})),c.a.createElement(Yg,null,c.a.createElement("h4",null,t(Bg.childIssuesLimitTitle)),c.a.createElement(Zg,null,c.a.createElement(S.FormattedMessage,j()({},o?Bg.withTimetrackingChildIssuesLimitDescription:Bg.withoutTimetrackingChildIssuesLimitDescription,{values:{learnMoreLink:"IN_PRODUCT_HELP"!==u.type||s?p:c.a.createElement(a("HUZs").a,{appearance:"link",spacing:"none",articleId:u.articleId,fallbackComponent:p,onClick:d,testId:Jg},t(Bg.learnMoreAboutChildIssuesLink))}}))),c.a.createElement(a("340+").a,{appearance:"default",href:e,onClick:r,testId:"issue.views.common.child-issues-panel.child-issues-limit-panel.view-in-search-button"},t(Bg.viewInSearchButton)))))};Qg.displayName="ChildIssuesLimitPanel"
;const ef=Object(a("v5q+").a)([Object(d.connect)((e=>{const t=np(e),n=Xu(e);return{viewInSearchLink:t&&n?Jm(t,n):""}}),{})])(Qg);class tf extends l.Component{hasIssues(){const{allIssues:e}=this.props;return e.length>0}hasExceededChildIssuesLimitInitialLoad(){return Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&Qm(this.getChildIssuesLimitStatus())}getChildIssuesLimitStatus(){const{childIssuesLimitUrl:e,hasExceededIssuesLimitAfterLoad:t}=this.props;return e?"EXCEEDED_LIMIT_INITIAL_LOAD":t?"EXCEEDED_LIMIT_AFTER_LOAD":"WITHIN_LIMIT"}hasContent(){const{noValueText:e,addClickCount:t}=this.props;return this.hasExceededChildIssuesLimitInitialLoad()||this.hasIssues()||t>0||!!e}renderEmptyValue(){const{noValueText:e,addClickCount:t,intl:{formatMessage:n}}=this.props;return this.hasIssues()||null===e||0!==t?null:c.a.createElement(a("gVzX").b,null,n(e))}renderIssues(){
const{ProgressSummary:e,Issues:t,allIssues:n}=this.props,a=!this.hasExceededChildIssuesLimitInitialLoad()&&n.length>=2?c.a.createElement(e,null):null;return n.length>0?c.a.createElement(c.a.Fragment,null,a,c.a.createElement(t,null)):null}renderCreate(){const{InlineCreate:e,addClickCount:t,AddExistingIssue:n,childPanelView:a,sourceName:s}=this.props;if(t>0)switch(a){case fm.InlineCreate:return c.a.createElement(e,{inputId:s});case fm.AddExistingIssue:return c.a.createElement(n,null);default:return null}return null}render(){const{Heading:e,onAddChildClick:t,sourceName:n,childIssuesLimitUrl:s}=this.props;return this.hasContent()?c.a.createElement(c.a.Fragment,null,c.a.createElement(e,{onAddChildClick:t,sourceName:n,childIssuesLimitStatus:this.getChildIssuesLimitStatus()}),this.hasExceededChildIssuesLimitInitialLoad()&&c.a.createElement(ef,{childIssuesLimitUrl:s}),Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&c.a.createElement(Wg,{
childIssuesLimitStatus:this.getChildIssuesLimitStatus()}),Object(a("d90y").isIssueViewAggChildPanelEnabled)()?null:this.renderEmptyValue(),this.renderIssues(),this.renderCreate()):null}}tf.displayName="ChildIssuesPanel",tf.defaultProps={addClickCount:0,noValueText:null};var nf=Object(a("v5q+").a)([S.injectIntl,Object(d.connect)((e=>Object(a("d90y").is2afErrorCleanupGroup2Enabled)()&&!e?{Heading:Ob,InlineCreate:Bb,Issues:yg,ProgressSummary:Mg,AddExistingIssue:Bm,childPanelView:fm.InlineCreate,allIssues:[],incompleteIssues:[],addClickCount:0,noValueText:null}:{Heading:Ob,InlineCreate:Bb,Issues:yg,ProgressSummary:Mg,AddExistingIssue:Bm,childPanelView:Wu(e),allIssues:_u(e),incompleteIssues:xu(e),addClickCount:$u(e),noValueText:cp(e)}),{})])(tf);class af extends l.Component{constructor(e){super(e),this.store=void 0;const{issues:t,parentKey:n,childIssuesPanelType:s}=this.props;this.store=((e,t,n)=>Object(a("PK9l").a)({appName:`${t}-child-issues-panel-${n}`,rootReducer:vm,rootEpic:e
}))(lm(this.props.dataProvider),n,s),this.dispatchContext(),this.store.dispatch((()=>({type:"state.context.REQUIRES_FULL_CREATE_CHECK"}))()),this.dispatchEntities(),"classicSubtasks"!==s&&t.length>0&&this.store.dispatch(Dp());const{fetchIssueTypesStatus:i}=e;i&&this.store.dispatch(ym(i))}componentDidMount(){const{quickAddClickCount:e}=this.props;Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()&&e>0&&this.store.dispatch(bm())}componentDidUpdate(e){if(Object(a("LHb4").a)(e,this.props))return;const{issues:t,quickAddClickCount:n,fetchIssueTypesStatus:s,onChange:i}=this.props;n>e.quickAddClickCount&&this.store.dispatch(bm()),!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&t.length&&this.dispatchEntities(),s!==e.fetchIssueTypesStatus&&(this.store.dispatch(ym(s||"NONE")),!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&this.dispatchEntities()),e.onChange!==i&&this.store.dispatch((e=>({type:"state.context.SET_ONCHANGE",payload:e}))(i)),
Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&(t.length||e.issues.length>0&&0===t.length||s!==e.fetchIssueTypesStatus)&&this.dispatchEntities()}dispatchEntities(){const{issueTypes:e,issues:t,epicLinkFieldKey:n,issueHierarchyLevel:a}=this.props;this.store.dispatch((e=>({type:"state.entities.SET_ENTITIES",payload:e}))({issueTypes:e.map((e=>((e,t)=>{const{fields:n}=e,a=C()(e,wu),s=!!n&&Du(n),i=!!n&&Object.keys(n).includes(t);return r()(r()({},a),{},{hasRequiredField:s,hasEpicLinkField:i})})(e,n))),issues:t,issueHierarchyLevel:a}))}dispatchContext(){const{supportsIssueCreation:e,baseUrl:t,locale:n,user:s,parentKey:i,customFieldIdRank:o,epicLinkFieldKey:r,parentId:l,projectId:c,projectType:d,messages:u,onNavigateToNewIssue:p,onChange:m,childIssuesPanelType:b,isIssueViewComplete:g}=this.props;let f=null,h=null;if(null!==d){const{appEditions:e}=Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?this.props:Object(a("S57X").h)();f=Object(a("YXYM").f)(d),h=Object(a("JMkI").f)(f,e)}
this.store.dispatch((e=>({type:"state.context.SET_CONTEXT",payload:e}))({baseUrl:t,locale:n,user:s,projectId:c,parentId:l,parentKey:i,customFieldIdRank:o,epicLinkFieldKey:r,supportsIssueCreation:e,messages:u,onNavigateToNewIssue:p,onChange:m,childIssuesPanelType:b,isIssueViewComplete:g,projectType:d,application:f,edition:h,requiresFullCreate:!1}))}render(){const{onAddChildClick:e,childIssuesPanelType:t,analyticsSource:n,issueHierarchyLevel:s,childIssuesLimitUrl:i,hasExceededIssuesLimitAfterLoad:o}=this.props;return c.a.createElement(a("y2a/").a,{store:this.store},c.a.createElement(a("HlQC").a,{sourceName:"childIssuesPanel",sourceType:a("CU8z").g,attributes:{childIssuesPanelType:t,issueHierarchyLevel:s-1,analyticsSource:`issue-view (${n})`}},c.a.createElement(a("PvT5").a,null,c.a.createElement(nf,{onAddChildClick:e,sourceName:"childIssuesPanel",childIssuesLimitUrl:i,hasExceededIssuesLimitAfterLoad:o}),c.a.createElement(a("waho").a,{mapper:hu}))))}}af.displayName="ChildIssuesPanel",
af.defaultProps={issues:[],issueTypes:[],isIssueViewComplete:!1};const sf=e=>{const{issues:t}=e,n=Object(l.useRef)(!0),[,{setSortableIssueIds:s}]=Su();return Object(l.useEffect)((()=>{!0===n.current&&(s(t.map((e=>Object(a("Rp3N").l)(e.id)))),n.current=!1)})),c.a.createElement(af,e)};sf.displayName="WrappedSortingChildIssuesPanel";const of={nextGenChildren:"children-issues",classicProjectEpicChildren:"epic-issues",classicSubtasks:"subtasks",portfolioChildren:"portfolio-child-issues"},rf=e=>{const{childIssuesPanelType:t,issues:n}=e,s=(e=>{const t=Object(a("ovRs").h)(),[n]=Object(a("j3bG").b)({issueKey:t,fieldKey:e}),s=(n||[]).map((e=>({key:e.key,id:e.id}))),i=s.map((e=>e.key)),[o]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"summary"}),[r]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"timetracking"}),[l]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"assignee"}),[c]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"priority"}),[d]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"issuetype"
}),[u]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"status"}),[p]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"created"}),[m]=Object(a("j3bG").c)({issueKeys:i,fieldKey:"updated"});return s.map(((e,t)=>{var n,s,i,b,g,f,h,E,y,O,v,j,I;return{assigneeDisplayName:null===(n=l[t])||void 0===n?void 0:n.displayName,assigneeUrl:null===(s=l[t])||void 0===s||null===(i=s.avatarUrls)||void 0===i?void 0:i["48x48"],created:p[t]&&new Date(p[t]),id:e.id,isLoading:!1,issueKey:e.key,issueLink:`/browse/${e.key}`,issuePriorityName:null===(b=c[t])||void 0===b?void 0:b.name,issuePriorityUrl:null===(g=c[t])||void 0===g?void 0:g.iconUrl,issueSummary:o[t],issueTimeTracking:r[t],issueTypeIconUrl:null===(f=d[t])||void 0===f?void 0:f.iconUrl,issueTypeName:null===(h=d[t])||void 0===h?void 0:h.name,statusCategory:Object(a("RQwY").statusCategoryForId)(null===(E=u[t])||void 0===E||null===(y=E.statusCategory)||void 0===y?void 0:y.id),
statusCategoryId:null===(O=u[t])||void 0===O||null===(v=O.statusCategory)||void 0===v?void 0:v.id,statusId:null===(j=u[t])||void 0===j?void 0:j.id,statusName:null===(I=u[t])||void 0===I?void 0:I.name,updated:m[t]&&new Date(m[t])}}))})(of[t]),i=s.every((e=>Boolean(e.issueSummary)));let o=n;return s.length>0&&i&&n.length===s.length&&fp(t)&&(o=s.map(((e,t)=>r()(r()({},e),{},{estimateFieldId:n[t].estimateFieldId,estimateValue:n[t].estimateValue})))),c.a.createElement(sf,j()({},e,{issues:o}))};rf.displayName="WrappedStateRefactorChildIssuesPanel";const lf=e=>{const{onNavigateToNewIssue:t}=e,n=Object(a("ovRs").i)(),s=Object(a("ovRs").h)(),i=Object(a("ovRs").j)(),o=Object(a("IFiJ").e)(i),r=Object(a("IFiJ").i)(i),d=Object(a("Rp3N").c)(""),u=Object(a("94cx").a)(),p=Object(a("I51c").a)(),m=Object(a("wJ3j").a)(),b=Object(l.useCallback)((e=>{t(e),null==n||n(e)}),[n,t]);return c.a.createElement(rf,j()({},e,{onNavigateToNewIssue:b,parentKey:s||Object(a("Rp3N").n)(""),
projectId:Object(a("Rp3N").s)(o||""),projectType:r||null,baseUrl:d,user:u,locale:p,appEditions:m}))};lf.displayName="ChildIssuesPanelWithHooks";const cf=e=>{const{childIssuesPanelType:t}=e,n=Object(a("ovRs").h)();return c.a.createElement(a("ho8o").a,{id:"issue.issue-view.common.child-issues-panel"},c.a.createElement(a("PF8x").a,{id:"common.child-issues-panel",packageName:"jiraIssueView",sendToPrivacyUnsafeSplunk:!0},c.a.createElement(Cu,{scope:`${n}-${t}`},c.a.createElement(lf,e))))};cf.displayName="DecoratedComponent";var df=Object(a("5WHm").a)(a("d90y").isDataProviderRemovedFromChildIssuesEnabled,cf,Object(a("mXmW").a)(cf));var uf=Object(S.defineMessages)({title:{id:"issue.children-issues.title",defaultMessage:"Child issues"}});const pf=["onNavigateToNewIssueDispatchProp"],mf=e=>{const t=e.onChange,n=Object(a("ovRs").h)(),[s,{setFieldValue:i}]=Object(a("j3bG").b)({issueKey:n,fieldKey:"children-issues"}),o=Object(l.useCallback)((e=>{switch(e.type){case gu.CHILD_ISSUE_ADDED:
i(n,"children-issues",s.concat({id:e.meta.childIssue.id,key:e.meta.childIssue.issueKey}))}t(e)}),[s,n,t,i]);return c.a.createElement(df,j()({},e,{onChange:o}))};mf.displayName="ConnectedComponent";var bf=Object(d.connect)((e=>({childIssuesPanelType:"nextGenChildren",parentId:Object(a("4dgq").v)(e),customFieldIdRank:Object(a("KSj7").c)("com.pyxis.greenhopper.jira:gh-lexo-rank")(e),issueTypes:Object(a("Hxy2").h)(e),issues:Object(a("DNQi").a)(e),supportsIssueCreation:Object(a("Hxy2").i)(e),quickAddClickCount:Gl(e),isIssueViewComplete:Object(a("/LFc").n)(e),messages:uf,fetchIssueTypesStatus:Object(a("P82W").a)(e),issueHierarchyLevel:Object(a("Hxy2").b)(e),analyticsSource:Object(a("4dgq").b)(e),childIssuesLimitUrl:Object(a("d90y").isIssueViewAggChildPanelEnabled)()?Object(a("KSj7").b)(e)("children-issues"):"",hasExceededIssuesLimitAfterLoad:!!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&pu(e)("children-issues")})),(e=>({onChange:t=>{switch(t.type){case gu.CHILD_ISSUE_ADDED:
e(Object(a("7i6c").a)(t.meta.childIssue,t.meta.fieldsData));break;case gu.ISSUE_CHILDREN_ORDER_CHANGED:e(Object(a("7i6c").d)(t.meta))}},onAddChildClick:()=>e(Object(a("7i6c").b)()),onNavigateToNewIssueDispatchProp:({fromIssueKey:t,toIssueKey:n})=>{__SPA__||e(Object(a("5JtD").c)({fromIssueKey:t,toIssueKey:n}))}})),((e,t)=>{const{onNavigateToNewIssueDispatchProp:n}=t,a=C()(t,pf);return r()(r()(r()({},e),a),{},{onNavigateToNewIssue:({fromIssueKey:e,toIssueKey:t})=>{n&&n({fromIssueKey:e,toIssueKey:t})}})}))(mf);const gf=Object(Vt.createSelector)(a("/LFc").f,(e=>e.confluenceAppLinks||[])),ff=Object(Vt.createSelector)(gf,(e=>e&&e.length>0)),hf=Object(Vt.createSelector)(ff,a("pKna").c,a("Q7bB").b,((e,t,n)=>e&&t&&n)),Ef=T.default.div.withConfig({componentId:"sc-1xt8jvj-0"})`height:100%;margin-left:${a("ZpU/").e/4}px;transform:scale(${({show:e})=>e?1:0});margin-right:${-a("ZpU/").e}px;`,yf=T.default.div.withConfig({componentId:"sc-1xt8jvj-1"
})`display:inline-block;vertical-align:middle;margin-top:${a("ZpU/").e}px;width:${4*a("ZpU/").e}px;height:${3*a("ZpU/").e}px;margin-left:${a("ZpU/").e}px;`,Of=e=>{const{show:t,onClick:n,icon:s}=e;return c.a.createElement(Ef,{show:t},c.a.createElement(yf,null,c.a.createElement(a("340+").a,{iconBefore:s,appearance:"subtle",onClick:n,spacing:"none"})))};Of.displayName="LineCardHiddenButton";const vf=e=>{const{show:t,onClick:n}=e;return c.a.createElement(Of,{show:t,icon:c.a.createElement(a.n(a("8m3F")).a,null),onClick:n})};vf.displayName="DeleteButton";const jf=T.default.div.withConfig({componentId:"sc-1jk1iqt-0"})`display:flex;align-items:center;`,If=Object(T.default)(jf).withConfig({componentId:"sc-1jk1iqt-1"})`width:100%;height:100%;position:relative;`,Cf=T.default.div.withConfig({componentId:"sc-1jk1iqt-2"})`margin-left:-2px;`,Sf=T.default.div.withConfig({componentId:"sc-1jk1iqt-3"})`margin-left:-1px;`,kf=T.default.div.withConfig({componentId:"sc-1jk1iqt-4"
})`padding-left:${a("ZpU/").e/2}px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,wf=T.default.div.withConfig({componentId:"sc-1jk1iqt-5"})`padding-left:${a("ZpU/").e}px;overflow:hidden;`,Tf=T.default.div.withConfig({componentId:"sc-1jk1iqt-6"})`padding-left:${a("ZpU/").e}px;`;class Df extends l.Component{constructor(...e){super(...e),this.onDeleteClick=e=>{const{onDeleteClick:t,globalId:n}=this.props;e.stopPropagation(),t(n)},this.authenticateApplink=e=>{const{error:t,repairLinkHref:n,onAuthenticateApplink:a}=this.props;"APPLINK_REQ_AUTH"===t&&n&&a&&a(n),e.stopPropagation()},this.openRepairApplink=e=>{const{repairLinkHref:t}=this.props;t&&window.open(t,"_blank"),e.stopPropagation()},this.openConfluenceLink=e=>{window.open(this.props.href,"_blank"),e.stopPropagation()},this.renderErrorIcon=()=>c.a.createElement(Cf,null,c.a.createElement(a.n(a("DWq1")).a,{label:"",primaryColor:a("5kDX").a.Y300})),
this.renderPadlockIcon=()=>c.a.createElement(Sf,null,c.a.createElement(a.n(a("ncU9")).a,{label:"",primaryColor:a("5kDX").a.B300})),this.renderErrorText=()=>c.a.createElement(kf,null,c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.loading-error",defaultMessage:"We couldn't load this page."})),this.renderAuthRequiredText=()=>c.a.createElement(kf,null,c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.auth-required",defaultMessage:"Authenticate with Confluence to see this page."})),this.renderMissingApplinkText=()=>c.a.createElement(kf,null,c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.missing-applink",defaultMessage:"Confluence site not linked."}))}renderIcon(){const{error:e}=this.props;return"APPLINK_REQ_AUTH"===e?this.renderPadlockIcon():this.renderErrorIcon()}renderText(){const{error:e}=this.props
;return"APPLINK_REQ_AUTH"===e?this.renderAuthRequiredText():"APPLINK_MISSING"===e?this.renderMissingApplinkText():this.renderErrorText()}renderAuthorizationRepairLink(){return c.a.createElement(Tf,null,c.a.createElement(a("340+").a,{appearance:"link",spacing:"none",onClick:this.authenticateApplink},c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.auth-repair-link",defaultMessage:"Authenticate"})))}renderApplinkRepairLink(){return c.a.createElement(Tf,null,c.a.createElement(a("340+").a,{appearance:"link",spacing:"none",onClick:this.openRepairApplink},c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.applink-repair-link",defaultMessage:"Repair"})))}renderRepairLink(){const{error:e,href:t,repairLinkHref:n}=this.props;if(n){let n;"APPLINK_MISSING"===e?n=this.renderApplinkRepairLink():"APPLINK_REQ_AUTH"===e&&(n=this.renderAuthorizationRepairLink());const a=t?c.a.createElement(wf,null,"\u2022"):null
;return c.a.createElement(c.a.Fragment,null,n,a)}return null}renderLink(){return c.a.createElement(Tf,null,c.a.createElement(a("340+").a,{appearance:"link",spacing:"none",onClick:this.openConfluenceLink},c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card-error.open-link",defaultMessage:"Open in Confluence"})))}renderDeleteButton(){const{isHovering:e,isFocused:t}=this.props;return c.a.createElement(vf,{show:e||t,onClick:this.onDeleteClick})}render(){return c.a.createElement(If,null,this.renderIcon(),this.renderText(),this.renderRepairLink(),this.renderLink(),this.renderDeleteButton())}}Df.displayName="ConfluencePageLineCardError";const Rf=T.default.div.withConfig({componentId:"sc-1lvfme5-0"})`display:flex;align-items:center;`,Lf=Object(T.default)(Rf).withConfig({componentId:"sc-1lvfme5-1"})`padding-left:${a("ZpU/").e}px;`,Mf=Object(T.default)(Rf).withConfig({componentId:"sc-1lvfme5-2"
})`width:100%;height:100%;position:relative;`,Af=T.default.div.withConfig({componentId:"sc-1lvfme5-3"})`height:${3.5*a("ZpU/").e}px;padding-right:2px;`,_f=T.default.div.withConfig({componentId:"sc-1lvfme5-4"})`${e=>e.isFocused&&`color: ${a("5kDX").a.B400};`} padding-left:${a("ZpU/").e}px;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`;class Nf extends l.Component{constructor(...e){super(...e),this.onDeleteClick=e=>{const{onDeleteClick:t,globalId:n}=this.props;e.stopPropagation(),t(n)}}renderPageIcon(){const e="blogpost"===this.props.pageType,t=e?c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card.blog-icon",defaultMessage:"Confluence blog post"}):c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.line-card.page-icon",defaultMessage:"Confluence page"});return c.a.createElement(a("Yto1").a,{content:t,position:"bottom"},e?c.a.createElement(a.n(a("dw6k")).a,{label:""}):c.a.createElement(a.n(a("CI1p")).a,{label:""}))}
renderPageTitle(){const{pageTitle:e,isFocused:t}=this.props;return c.a.createElement(_f,{isFocused:t},e)}renderLastUpdateAvatar(){const{userDisplayName:e,userAvatarUrl:t}=this.props;return t?e?c.a.createElement(Lf,null,c.a.createElement(a("Yto1").a,{content:e,position:"bottom"},c.a.createElement(Af,null,c.a.createElement(a("1JKq").a,{name:e,src:t,size:"small"})))):c.a.createElement(Lf,null,c.a.createElement(a("1JKq").a,{src:t,size:"small"})):null}renderDeleteButton(){const{isHovering:e,isFocused:t}=this.props;return c.a.createElement(vf,{show:e||t,onClick:this.onDeleteClick})}render(){return c.a.createElement(Mf,null,this.renderPageIcon(),this.renderPageTitle(),this.renderLastUpdateAvatar(),this.renderDeleteButton())}}Nf.displayName="ConfluencePageLineCard";var xf=Nf;class Uf extends l.Component{constructor(...e){super(...e),this.state={modalOpen:!1,linkToDeleteId:null},this.onCancelDelete=()=>{this.setState({modalOpen:!1,linkToDeleteId:null})},this.onConfirmDelete=()=>{
const{onDeleteConfluencePageLink:e}=this.props,{linkToDeleteId:t}=this.state;null!=t&&e(t),this.setState({modalOpen:!1,linkToDeleteId:null})},this.onDeleteClick=e=>{this.setState({modalOpen:!0,linkToDeleteId:e})},this.handleErrorLineCardClick=e=>{e.link&&e.link.href&&window.open(e.link.href,"_blank")},this.handleLineCardClick=e=>{e.href&&window.open(e.href,"_blank")},this.handleClick=(e,t)=>{this.props.onClick&&this.props.onClick(e,t),e.error?this.handleErrorLineCardClick(e):this.handleLineCardClick(e)},this.renderErrorLineCard=(e,t,n)=>c.a.createElement(Df,{globalId:e.link.globalId,error:e.error,href:e.link.href,repairLinkHref:e.repairLink?e.repairLink.href:null,onAuthenticateApplink:this.props.onAuthenticateApplink,onDeleteClick:this.onDeleteClick,isHovering:t,isFocused:n}),this.renderLineCard=(e,t,n)=>c.a.createElement(xf,{globalId:e.globalId,pageTitle:e.title,pageType:e.type,userDisplayName:e.lastUpdatedContext&&e.lastUpdatedContext.user.displayName,
userAvatarUrl:e.lastUpdatedContext&&e.lastUpdatedContext.user.avatarUrl,onDeleteClick:this.onDeleteClick,isHovering:t,isFocused:n})}render(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(a("a0QS").a,{items:this.props.pages,groupId:this.props.groupId,onClick:this.handleClick},((e,t,n,a)=>a.error?this.renderErrorLineCard(a,e,n):this.renderLineCard(a,e,n))),this.state.modalOpen&&c.a.createElement(a("66ob").a,{appearance:"danger",headerMessage:c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.title",defaultMessage:"Delete the Confluence page link?"}),contentMessage:c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.content",defaultMessage:"You can add the page later again if you need to."}),confirmActionText:c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.confirmation-text",defaultMessage:"Delete"}),
cancelActionText:c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.delete-confirmation-modal.cancellation-text",defaultMessage:"Cancel"}),onConfirm:this.onConfirmDelete,onCancel:this.onCancelDelete}))}}Uf.displayName="ConfluencePageLineCardGroup";var Ff=a("WjpJ"),Pf=a.n(Ff);class Vf extends l.Component{getItems(){return Pf()(this.props.itemCount).map((e=>c.a.createElement(a("hBQX").a,{key:e,fontSize:20,lineHeight:41,intrusion:0})))}render(){const{paddingTopInPixels:e,paddingBottomInPixels:t}=this.props;return c.a.createElement(a("tCgR").a,null,c.a.createElement(a("gIl3").b,null),c.a.createElement(a("4Kfa").a,{paddingTop:e,paddingBottom:t},this.getItems()))}}Vf.displayName="ItemLineCardGroup",Vf.defaultProps={paddingTopInPixels:0,paddingBottomInPixels:0};const Kf=Object(S.defineMessages)({label:{id:"issue.confluence-links-add-label",defaultMessage:"Link a Confluence Page"}}),$f=T.default.span.withConfig({componentId:"jm7c6k-0"})`margin-left:auto;`
;class Wf extends l.Component{render(){return c.a.createElement($f,null,c.a.createElement(a("QYt/").a,{label:this.props.intl.formatMessage(Kf.label),onClick:this.props.onClick}))}}Wf.displayName="AddButton",Wf.defaultProps={onClick:p.a};var Bf=Object(S.injectIntl)(Wf);const qf=Object(Vt.createSelector)(a("/LFc").I,a("pKna").h,a("pKna").j,((e,t=[],n=[])=>{const a=e.recentlyVisitedConfluencePages||[],s=t.concat(n).map((e=>e.href));return a.filter((e=>!s.includes(e.href)))}));var Hf=Object(S.defineMessages)({defaultRecentPages:{id:"issue.views.confluence-search-view.default-recent-view",defaultMessage:"Recently visited"},defaultMatchingPages:{id:"issue.views.confluence-search-view.default-matching-pages",defaultMessage:"Matching pages"}});const Gf=["blogpost","page"],Yf=Object(a("c0C3").c)(),Zf=(e,t,n=[],s=[],i=[])=>{const o=i.map((e=>e.page)),r=n.concat(o,s).map((e=>e.href||""));return[{label:t,options:e.filter((e=>Gf.includes(e.type))).map((e=>({label:e.title,value:e.url,page:{
id:Object(a("Rp3N").g)(e.id.toString()),globalId:Object(a("Rp3N").v)(""),href:Object(a("Rp3N").k)(e.url),title:e.title,type:Object(a("CtgM").a)(e.type),space:void 0!==e.spaceName?e.spaceName:"",lastModified:void 0!==e.lastModified?new Date(e.lastModified).getTime():0}}))).filter((e=>!r.includes(e.page.href)))}]},Xf=(e,t)=>{const{type:n,payload:a={}}=t,{options:s=[],error:i=null}=a,o={loading:!1,options:s,error:i,type:"search"};switch(n){case"SEARCH_API_LOADING":return r()(r()({},o),{},{loading:!0});case"SEARCH_API_DONE":case"SEARCH_API_ERROR":return o;case"SEARCH_API_CLEAR":return r()(r()({},o),{},{options:[]});case"SEARCH_API_RESET":return r()(r()({},o),{},{type:"recent"});default:return e}},Jf=(e,t,n)=>e.filter((e=>n?e.page.spaceKey===n&&Yf(e,t):Yf(e,t))),zf=(e,t)=>{if(t&&t.length>0&&e.length>0){const{options:n,label:a}=t[0];return[{label:a,options:[...e,...n].slice(0,20)}]}return t},Qf={value:0,input:""},eh=_c()(((e,t,n)=>{
const{inputValue:s,appId:i,spaceKey:o}=e,r=""!==o?`"${o}"`:"";Object(a("/rpS").b)(((e,t,n="")=>`/rest/confluenceIssueLink/1/confluence/search?query=${e}&appId=${t}&spaceKey=${n}&maxResults=20&_=${Date.now()}`)(s,i,r)).then(t).catch(n)}),300,{leading:!1});var th=e=>{const{appId:t,spaceKey:n="",children:s,recentOptions:i,labels:o,linkedPages:r,mentionedPages:c}=e,d=((e,t,n)=>[{label:t,options:e.filter((e=>!n||e.page.spaceKey===n))}])(i,o.recentPages,n),[u,p]=Object(l.useReducer)(Xf,{loading:!1,options:d,error:null,type:"recent"}),m=Object(l.useRef)(Qf);Object(l.useEffect)((()=>{"recent"!==u.type||Tn()(u.options,d)||p({type:"SEARCH_API_RESET",payload:{options:d}})}),[d,u.options,u.type]);const{loading:b,error:g,type:f,options:h}=u,E=Object(l.useCallback)((()=>{p({type:"SEARCH_API_CLEAR",payload:{options:[]}}),m.current=Qf}),[]),y=Object(l.useCallback)(((e,t)=>{if(t===m.current.value){const t=Jf(i,m.current.input,n),a=Zf(e.result,o.matchingPages,r,c,t);p({type:"SEARCH_API_DONE",payload:{
options:zf(t,a)}})}}),[o.matchingPages,r,c,i,n]),O=Object(l.useCallback)(((e,t)=>{if(Object(a("v/G6").a)({error:e,meta:{id:"getConfluenceSearchService",packageName:"jiraIssueView",teamName:"bento"},sendToPrivacyUnsafeSplunk:!0}),t===m.current.value){const t=Jf(i,m.current.input,n),a=Zf([],o.matchingPages),s=zf(t,a);m.current=Qf,p({type:"SEARCH_API_ERROR",payload:{options:s,error:0===s.length||0===s[0].options.length?e:null}})}}),[o.matchingPages,i,n]);return s({fetchSuggestions:Object(l.useCallback)((e=>{m.current.value+=1,m.current.input=e;const a=m.current.value;if(e&&""!==e)return p({type:"SEARCH_API_LOADING",payload:{options:Zf([],o.matchingPages)}}),void eh({inputValue:e,appId:t,spaceKey:n},(e=>y(e,a)),(e=>O(e,a)));a===m.current.value&&(m.current=Qf,p({type:"SEARCH_API_RESET",payload:{options:d}}))}),[t,O,y,o.matchingPages,d,n]),loading:b,error:g,type:f,options:h,clearState:E})};T.default.div.withConfig({componentId:"sc-59idel-0"
})`width:100%;display:flex;flex-direction:row;justify-content:start;flex-wrap:nowrap;`;const nh=T.default.div.withConfig({componentId:"sc-59idel-1"})`margin:${a("ZpU/").e}px 0;padding-right:1px;`,ah=T.default.div.withConfig({componentId:"sc-59idel-2"})`display:flex;flex-direction:${({isCompact:e})=>e?"column":"row"};justify-content:space-around;align-content:stretch;> *{margin-top:${a("ZpU/").e}px;}>:not(:last-child){margin-right:${({isCompact:e})=>e?"0":`${a("ZpU/").e}px`};}`,sh=T.default.div.withConfig({componentId:"sc-59idel-3"})`max-width:${({isCompact:e})=>e?"none":25*a("ZpU/").e+"px"};width:${({isCompact:e})=>e?"100%":"27%"};min-width:${17*a("ZpU/").e}px;`,ih=T.default.div.withConfig({componentId:"sc-59idel-4"})`flex:1;flex-basis:auto;`,oh=T.default.div.withConfig({componentId:"xij48g-0"})`display:flex;align-items:center;height:34px;`,rh=T.default.div.withConfig({componentId:"xij48g-1"})`margin-right:${2*a("ZpU/").e}px;line-height:1;`,lh=T.default.div.withConfig({
componentId:"xij48g-2"})`display:flex;flex-direction:column;`,ch=T.default.div.withConfig({componentId:"xij48g-3"})`line-height:1.25em;font-size:14px;font-weight:500;`;function dh(e){const{href:t,onSelect:n}=e;return c.a.createElement(oh,{onClick:()=>n&&n(t)},c.a.createElement(rh,null,c.a.createElement(a.n(a("IsJf")).a,{label:"",size:"medium",primaryColor:a("5kDX").a.B200})),c.a.createElement(lh,null,c.a.createElement(ch,null,c.a.createElement(a("gVzX").a,null,t))))}dh.displayName="LinkItem";var uh=dh,ph=Object(S.defineMessages)({updated:{id:"issue.views.confluence-pages.link-list.page-item.updated",defaultMessage:"Updated"},recent:{id:"issue.views.confluence-pages.link-list.page-item.recent",defaultMessage:"Recently viewed"}});const mh=T.default.div.withConfig({componentId:"v7o91n-0"})`display:flex;align-items:center;height:34px;`,bh=T.default.div.withConfig({componentId:"v7o91n-1"})`margin-right:${a("ZpU/").e}px;line-height:1;`,gh=(T.default.div.withConfig({componentId:"v7o91n-2"
})`display:flex;flex-direction:column;`,T.default.div.withConfig({componentId:"v7o91n-3"})`display:flex;flex-direction:column;flex-grow:1;overflow:hidden;`),fh=T.default.div.withConfig({componentId:"v7o91n-4"})`line-height:1.42em;font-size:14px;font-weight:500;`,hh=(T.default.div.withConfig({componentId:"v7o91n-5"})`font-size:12px;color:${a("5kDX").a.N200};`,T.default.div.withConfig({componentId:"v7o91n-6"})`font-size:11px;line-height:1.27em;color:${a("5kDX").a.N200};display:flex;flex-direction:row;justify-content:flex-start;`),Eh=T.default.div.withConfig({componentId:"v7o91n-7"})`color:${a("5kDX").a.N200};margin:0 ${a("ZpU/").e/2}px;`,yh=({page:e,parent:t})=>{const{formatMessage:n}=Object(a("NRyt").d)(),{lastModified:s=0,space:i}=e||{},o=e=>`${n(ph.updated)} ${e}`,{additionalProps:r={}}=t||{},{type:l="search",spaceKey:d=""}=r;let u=null;const p=""===d?c.a.createElement(a("gVzX").a,null,i):null;if("recent"!==l)if(s>0){
u=(Date.now()-new Date(s))/864e5<8?c.a.createElement(a("gVzX").a,null,c.a.createElement(S.FormattedRelative,{value:s},o)):c.a.createElement(a("gVzX").a,null,c.a.createElement(S.FormattedDate,{year:"numeric",month:"short",day:"2-digit",value:s},o))}else u=c.a.createElement(a("gVzX").a,null,n(ph.recent));return c.a.createElement(c.a.Fragment,null,p,null!==p&&null!==u?c.a.createElement(Eh,null,"\u2022"):null,u)};function Oh(e){if(!e.page)return null;const{title:t,type:n,href:s}=e.page;return c.a.createElement(mh,{onClick:()=>e.onSelect&&e.onSelect(s)},c.a.createElement(bh,null,"blogpost"===n?c.a.createElement(a.n(a("Rc4D")).a,{label:""}):c.a.createElement(a.n(a("/Rbx")).a,{label:""})),c.a.createElement(gh,null,c.a.createElement(fh,null,c.a.createElement(a("gVzX").a,null,t)),c.a.createElement(hh,null,c.a.createElement(yh,{page:e.page,parent:e.selectProps}))))}Oh.displayName="ConfluencePageItem";var vh=Oh,jh=Object(S.defineMessages)({enterOrSelectConfluenceLink:{
id:"issue.views.confluence-pages.link.selector.placeholder",defaultMessage:"Search pages or paste in a link"},noOptionsMessage:{id:"issue.views.confluence-pages.link.selector.noOptionsMessage",defaultMessage:"No recently visited pages"}});const Ih=T.default.div.withConfig({componentId:"sc-1gnwxmi-0"})`height:46px;`,Ch=e=>{const{innerProps:t,innerRef:n,getStyles:s,data:i,selectProps:o}=e,r=s("option",e);return c.a.createElement(Ih,{style:r},c.a.createElement("div",j()({},t,{ref:n}),i.page?c.a.createElement(vh,j()({key:`item_key-${i.page.href}`},i,{selectProps:o})):c.a.createElement(uh,{href:Object(a("Rp3N").k)(e.value)})))};Ch.displayName="Option";class Sh extends l.Component{constructor(...e){super(...e),this.state={isMenuOpen:!1,value:void 0},this.onKeyDown=e=>{switch(e.keyCode){case Im()("enter"):this.props.onEnter&&!this.state.isMenuOpen&&(this.props.onEnter(),e.stopPropagation())}},this.onMenuOpen=()=>{const{onMenuOpen:e}=this.props;e&&e(),this.setState({isMenuOpen:!0})},
this.onInputChange=(e,{action:t})=>{const{onInputChange:n}=this.props;"input-change"===t&&n&&n(e)},this.onBlur=()=>{const{onBlur:e}=this.props;e&&e()},this.onMenuClose=()=>{this.setState({isMenuOpen:!1});const{onMenuClose:e}=this.props;e&&e()},this.handleChange=e=>{e&&e.page&&this.props.onSelect&&this.props.onSelect(),this.setState({value:e}),this.props.onChange(e?e.value:null)},this.isValidNewOption=e=>{const{isValidNewOption:t}=this.props;return t&&t(e)}}render(){const{value:e}=this.state,{options:t,intl:{formatMessage:n},link:s,isLoading:i,isLoadingOptions:o,filterOption:l=Object(a("c0C3").c)(),customComponents:d={},additionalProps:u={}}=this.props,p=i||o;return c.a.createElement(a("4r6E").a,{validationState:this.props.validationState||"default",validationMessage:this.props.validationMessage},c.a.createElement(a("CF39").a,j()({isClearable:!0,isDisabled:i,filterOption:l,isLoading:p,onChange:this.handleChange,value:""!==s&&e?e:null,components:r()({Option:Ch},d),options:t,
placeholder:n(jh.enterOrSelectConfluenceLink),validationState:this.props.validationState||"default",getOptionLabel:e=>e.page?e.page.href:e.value,maxMenuHeight:256,autoFocus:!0,menuPlacement:"auto",minMenuHeight:256,onKeyDown:this.onKeyDown,onMenuOpen:this.onMenuOpen,onMenuClose:this.onMenuClose,noOptionsMessage:()=>n(jh.noOptionsMessage),isValidNewOption:this.isValidNewOption,additionalProps:u,onInputChange:this.onInputChange,onBlur:this.onBlur},this.props.noOptionsMessage?{noOptionsMessage:this.props.noOptionsMessage}:null)))}}Sh.displayName="LinkSelect",Sh.defaultProps={isLoading:!1,isLoadingOptions:!1,link:void 0};var kh=e=>c.a.createElement(Sh,e),wh=Object(S.defineMessages)({noRecentOptionsMessage:{id:"issue.views.confluence-search-view.noOptionsMessage",defaultMessage:"No recently visited pages"},noResultOptionsMessage:{id:"issue.views.confluence-search-view.noResultOptionsMessage",defaultMessage:"We can't find any pages matching your search"}});const Th=T.default.div.withConfig({
componentId:"sc-11bl2kc-0"})`height:${32*a("ZpU/").e}px;color:hsl(0,0%,60%);`,Dh=T.default.div.withConfig({componentId:"sc-11bl2kc-1"})``,Rh=T.default.div.withConfig({componentId:"sc-11bl2kc-2"})`display:flex;flex-direction:column;justify-content:start;flex-wrap:nowrap;height:calc(100% - ${2*a("ZpU/").e}px);`,Lh=(e,t,n)=>e||"search"===t?c.a.createElement("p",null,n(wh.noResultOptionsMessage)):c.a.createElement("p",null,n(wh.noRecentOptionsMessage));Lh.displayName="getNoOptions";const Mh=e=>{const{innerProps:t,innerRef:n,getStyles:a,options:s}=e,i=a("group",e),o=a("groupHeading",e);return c.a.createElement(Th,j()({ref:n},t),c.a.createElement(Rh,{style:i},s.length>0?c.a.createElement(Dh,{style:o},s[0].label):null))};Mh.displayName="LoadingMessage";const Ah=e=>{
const{spaceKey:t,isLoading:n,isLoadingOptions:s,options:i,onChange:o,validationState:r,validationMessage:d,onSelect:u,onEnter:p,link:m,fetchSuggestions:b,optionsError:g,resultType:f,clearSearchState:h}=e,{formatMessage:E}=Object(a("NRyt").d)(),y=Object(l.useCallback)((e=>{Object(a("v+vH").a)(e)?h():b(e)}),[h,b]),O=Object(l.useCallback)((()=>{u&&u(),b("")}),[b,u]),v=Object(l.useCallback)((()=>{b("")}),[b]),j=Object(l.useCallback)((e=>Object(a("v+vH").a)(e)),[]);return c.a.createElement(kh,{options:i,onChange:o,intl:Object(a("NRyt").d)(),validationMessage:d,validationState:r,onSelect:O,onEnter:p,link:m,isLoading:n,isLoadingOptions:s,filterOption:()=>!0,onInputChange:y,customComponents:{LoadingMessage:Mh},onBlur:v,onMenuClose:v,isValidNewOption:j,noOptionsMessage:()=>Lh(g,f,E),additionalProps:{error:g,type:f,spaceKey:t}})};Ah.displayName="ConfluenceSearchSelect";var _h=Ah;const Nh=(e,t,n="")=>{const s=Object(a("c0C3").c)();return{filtered:e.filter((e=>s(e,n))).slice(0,t),overall:e}}
;var xh=e=>{const{renderOptionsLimit:t=25,appId:n}=e,[s,i]=Object(l.useState)(!1),[o,r]=Object(l.useState)({filtered:[],overall:[]}),[c,d]=Object(l.useState)(null),[u,p]=Object(l.useState)(!1),m=Object(l.useCallback)((async()=>{try{i(!0);const e=await Object(a("/rpS").b)((e=>`/rest/confluenceIssueLink/1/confluence/space?appId=${e}&_=${Date.now()}`)(n));if(e.spaces){const n=(e=>e.map((e=>({label:e.name,value:e.key,space:e}))))(e.spaces);r(Nh(n,t))}i(!1)}catch(e){i(!1),Object(a("v/G6").a)({error:e,meta:{id:"getConfluenceSpaceService",packageName:"jiraIssueView",teamName:"bento"},sendToPrivacyUnsafeSplunk:!0}),d(e)}}),[n,t]),b=Object(l.useMemo)((()=>_c()((e=>{const{overall:n}=o;p(""!==e),r(Nh(n,t,e))}),300,{leading:!1})),[t,o]);return[{loading:s,spaces:o,error:c,isFilteredResult:u},{fetchSpaces:m,filterSpaces:b}]},Uh=Object(S.defineMessages)({filterBySpace:{id:"issue.views.confluence-search-view.filter-space",defaultMessage:"Filter by space"},allSpaces:{
id:"issue.views.confluence-search-view.all-space",defaultMessage:"All spaces"},matchingSpaces:{id:"issue.views.confluence-search-view.matching-space",defaultMessage:"Matching spaces"}});const Fh=T.default.div.withConfig({componentId:"sc-1ohktob-0"})``,Ph=["children"],Vh=e=>r()(r()({},a("JQsD").f),{},{menu:(t,n)=>{const s=a("JQsD").f.menu?a("JQsD").f.menu(t,n):{};return r()(r()({},s),{},{minWidth:e?"auto":"140%"})}}),Kh=e=>{let{children:t}=e,n=C()(e,Ph);const{formatMessage:s}=Object(a("NRyt").d)(),{data:i}=n;return c.a.createElement(a("gniW").m.SingleValue,n,c.a.createElement(a("Yto1").a,{content:i.label,position:"top"},i?c.a.createElement("div",null,i.label):c.a.createElement(a("gVzX").b,null,s(Uh.filterBySpace))))};Kh.displayName="SingleValue";const $h=e=>{const{innerProps:t,innerRef:n,getStyles:s,data:i}=e,o=s("option",e);return c.a.createElement(Fh,{style:o},c.a.createElement("div",j()({},t,{ref:n}),c.a.createElement(a("gVzX").a,null,i.label)))};$h.displayName="CustomOption"
;const Wh=()=>!0,Bh=e=>{const{formatMessage:t}=Object(a("NRyt").d)(),{appId:n,onSpaceKeyChange:s,spaceKey:i,isCompact:o}=e,[{loading:r,spaces:d,isFilteredResult:u},{fetchSpaces:p,filterSpaces:m}]=xh({appId:n}),{filtered:b}=d;Object(l.useEffect)((()=>{p()}),[p]);const g=Object(l.useCallback)((e=>{e&&e.space?s(e.value):s("")}),[s]),f=Object(l.useCallback)(((e,{action:t})=>{"input-change"===t&&m(e)}),[m]),h=Object(l.useCallback)((()=>{m("")}),[m]),E=t(u?Uh.matchingSpaces:Uh.allSpaces);return c.a.createElement(a("Jyfm").a,{options:[{label:E,options:b}],onInputChange:f,onChange:g,onMenuClose:h,filterOption:Wh,value:b.find((e=>e.value===i)),isClearable:!0,placeholder:t(Uh.filterBySpace),isLoading:r,maxMenuHeight:256,minMenuHeight:256,components:{SingleValue:Kh,Option:$h},styles:Vh(o)})};Bh.displayName="ConfluenceSpaceSelect";var qh=Bh;const Hh=e=>{
const{linkedPages:t,mentionedPages:n,recentOptions:s,validationState:i,validationMessage:o,onSelect:r,onEnter:d,link:u,confluenceAppLinks:p,isLoading:m,onChange:b,containerWidth:g}=e,[f]=Object(l.useState)(p.length>0?p[0].id:""),[h,E]=Object(l.useState)(""),{formatMessage:y}=Object(a("NRyt").d)(),O=void 0!==g&&g<=480;return c.a.createElement(a("cU7O").a,{id:"confluence-search",packageName:"jiraIssueViewConfluence",fallback:"unmount"},c.a.createElement(nh,null,c.a.createElement(ah,{isCompact:O},c.a.createElement(sh,{isCompact:O},c.a.createElement(qh,{onSpaceKeyChange:e=>{E(e)},spaceKey:h,appId:f,isCompact:O})),c.a.createElement(ih,null,c.a.createElement(th,{appId:f,spaceKey:h,linkedPages:t,mentionedPages:n,recentOptions:s,labels:{recentPages:y(Hf.defaultRecentPages),matchingPages:y(Hf.defaultMatchingPages)}},(({fetchSuggestions:e,options:t,loading:n,error:a,type:s,clearState:l})=>c.a.createElement(_h,{spaceKey:h,isLoading:m,isLoadingOptions:n,options:t,onChange:b,validationState:i,
validationMessage:o,onSelect:r,onEnter:d,link:u,fetchSuggestions:e,optionsError:a,resultType:s,clearSearchState:l})))))))};Hh.displayName="ConfluenceSearchGroupView";var Gh=Object(a("Hxd8").a)(Hh);const Yh="addconfluencelink.error.duplicate",Zh="addconfluencelink.error.page.forbidden",Xh="addconfluencelink.error.issueId.invalid",Jh="addconfluencelink.error.no.matching.app.link",zh="addconfluencelink.error.pageid.notfound",Qh="addconfluencelink.error.page.unauthorized",eE="addconfluencelink.error.url.invalid",tE="addconfluencelink.error.url.required";var nE=Object(S.defineMessages)({fieldLabel:{id:"issue.views.confluence-pages.link.label",defaultMessage:"Search pages or paste in a link"},fieldPlaceholder:{id:"issue.views.confluence-pages.link.placeholder",defaultMessage:"Search pages or paste in a link"},genericErrorText:{id:"issue.views.confluence-pages.link.error.generic",defaultMessage:"We're having trouble. Check your connection and try again."},duplicateErrorText:{
id:"issue.views.confluence-pages.link.error.duplicate",defaultMessage:"That page is already linked to this issue."},forbiddenErrorText:{id:"issue.views.confluence-pages.link.error.forbidden",defaultMessage:"You don't have permission to link to Confluence pages."},issueIdErrorText:{id:"issue.views.confluence-pages.link.error.issue-id",defaultMessage:"We're having trouble. Check your connection and try again."},noMatchingApplinkErrorText:{id:"issue.views.confluence-pages.link.error.no-matching-app-link",defaultMessage:"You don't have an application link set up for that Confluence site."},pageIdNotFoundErrorText:{id:"issue.views.confluence-pages.link.error.page-id-not-found",defaultMessage:"We can't find that page. It might be deleted or restricted."},unauthorizedErrorText:{id:"issue.views.confluence-pages.link.error.unauthorized",defaultMessage:"You need to authorize this pages' Confluence site."},urlInvalidErrorText:{id:"issue.views.confluence-pages.link.error.url-invalid",
defaultMessage:"That URL doesn't look right. Try entering it again."},urlRequiredErrorText:{id:"issue.views.confluence-pages.link.error.url-required",defaultMessage:"That URL doesn't look right. Try entering it again."},linkButton:{id:"issue.views.confluence-pages.link.link-button",defaultMessage:"Link"},cancelButton:{id:"issue.views.confluence-pages.link.cancel-button",defaultMessage:"Cancel"}});const aE={[Yh]:nE.duplicateErrorText,[Zh]:nE.forbiddenErrorText,[Xh]:nE.issueIdErrorText,[Jh]:nE.noMatchingApplinkErrorText,[zh]:nE.pageIdNotFoundErrorText,[Qh]:nE.unauthorizedErrorText,[eE]:nE.urlInvalidErrorText,[tE]:nE.urlRequiredErrorText};var sE=e=>aE[e]||nE.genericErrorText;const iE=Object(_b.a)(a("340+").a,{target:"eplslgz0"})("margin-left:",a("ZpU/").e,"px !important;"),oE=T.default.div.withConfig({componentId:"sc-1ljp9hl-0"})`margin-top:${a("ZpU/").e}px;display:flex;justify-content:flex-end;`;class rE extends l.Component{constructor(e){super(e),this.onChildContainerRefSet=e=>{
this.childContainer=e},this.onChange=e=>{const{isInvalid:t,onInvalidLinkModified:n}=this.props,a=Lb()(e),s=Xm()(a);this.setState({isDisabled:s,link:a}),t&&n()},this.onSubmitClicked=()=>{this.onSubmit(),this.props.onSubmitClickAnalytics()},this.onCancelClicked=()=>{this.closeAndReset(),this.props.onCancelClickAnalytics()},this.onEnterPressed=()=>{this.onSubmit(),this.props.onEnterKeyPressedAnalytics()},this.onEscPressed=()=>{this.closeAndReset(),this.props.onEscapeKeyPressedAnalytics()},this.onSelect=e=>{this.setState({link:e,isDisabled:!1}),this.props.onSelectAnalytics()},this.childContainer=void 0,this.initialState={link:"",isDisabled:!0,showList:!1},this.state=this.initialState}componentDidMount(){Object(a("eS/l").a)(this.childContainer),this.props.requestRecentlyViewedPages()}componentDidUpdate(e){this.props.createLinkClickedCount!==e.createLinkClickedCount&&Object(a("eS/l").a)(this.childContainer),
this.props.linkedPagesCount>e.linkedPagesCount&&!this.props.isLoading&&e.isLoading&&this.resetAndFocus()}onSubmit(){const{isDisabled:e,link:t}=this.state,{isLoading:n,onSubmit:a}=this.props;e||n||a(t)}closeAndReset(){this.props.isLoading||(this.reset(),this.props.onCancel())}resetAndFocus(){this.reset()}reset(){this.setState(this.initialState)}render(){const{intl:{formatMessage:e},errorMessage:t,isInvalid:n,isLoading:s,recentlyViewedPages:i,confluenceAppLinks:o,mentionedPages:r,linkedPages:l}=this.props,{link:d,isDisabled:u}=this.state,p=i.map((e=>({label:e.title,value:e.href,page:e})));return c.a.createElement("div",{ref:this.onChildContainerRefSet},c.a.createElement(a("iAtd").a,{onEscape:this.onEscPressed},c.a.createElement(Gh,{recentOptions:p,onChange:this.onChange,validationMessage:n?e(sE(t)):void 0,validationState:n?"error":"default",onSelect:this.props.onSelectAnalytics,onEnter:this.onEnterPressed,link:d,isLoading:s,confluenceAppLinks:o||[],linkedPages:l||[],mentionedPages:r||[]
})),c.a.createElement(oE,null,c.a.createElement(iE,{appearance:"primary",onClick:this.onSubmitClicked,isDisabled:u,isLoading:s},e(nE.linkButton)),c.a.createElement(iE,{appearance:"subtle",onClick:this.onCancelClicked},e(nE.cancelButton))))}}rE.displayName="ConfluencePageCreateLinkView";var lE=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("button",{onSubmitClickAnalytics:"clicked",onCancelClickAnalytics:"clicked"}),Object(a("QURJ").a)("keyboardShortcut",{onEnterKeyPressedAnalytics:"pressed",onEscapeKeyPressedAnalytics:"pressed"}),Object(a("QURJ").a)("confluencePagesCreateLinkView",{onSubmit:"onSubmit"}),Object(a("4zF2").a)({onSubmitClickAnalytics:"linkConfluencePage",onCancelClickAnalytics:"cancelLinkConfluencePage",onEnterKeyPressedAnalytics:"linkConfluencePage",onEscapeKeyPressedAnalytics:"cancelLinkConfluencePage"}),Object(a("QURJ").a)("recentlyVisitedPages",{onSelectAnalytics:"selected"}),Object(a("4zF2").a)({onSelectAnalytics:"selectConfluencePage"
}),Object(d.connect)((e=>({linkedPagesCount:Object(a("pKna").g)(e),errorMessage:Object(a("pKna").b)(e),isInvalid:Object(a("pKna").d)(e),isLoading:Object(a("pKna").e)(e),createLinkClickedCount:Object(a("pKna").a)(e),recentlyViewedPages:qf(e),confluenceAppLinks:gf(e),linkedPages:Object(a("pKna").h)(e),mentionedPages:Object(a("pKna").j)(e)})),(e=>({onInvalidLinkModified:()=>e(Object(a("pfYZ").b)()),onCancel:()=>e(Object(a("pfYZ").i)()),onSubmit:(t,n)=>e(Object(a("pfYZ").c)(Object(a("Rp3N").k)(t),n)),requestRecentlyViewedPages:()=>e(Object(a("Y53K").b)())})))])(rE);const cE=T.default.h3.withConfig({componentId:"vlrd2g-0"})`${a("5kDX").d.h200()} margin:0;`,dE=T.default.div.withConfig({componentId:"vlrd2g-1"})`margin:${a("ZpU/").e}px 0;padding-right:1px;`;class uE extends l.Component{constructor(...e){super(...e),this.renderHeading=()=>{const{canLinkConfluencePage:e,onAddButtonClicked:t}=this.props;return c.a.createElement(a("vPcr").c,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},c.a.createElement(a("vPcr").e,null,c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.heading",defaultMessage:"Confluence pages"})),c.a.createElement(a("vPcr").d,null,e&&this.hasLinkedPages()&&c.a.createElement(Bf,{onClick:t})))},this.renderLinkedPagesIfAny=()=>this.hasAnyLinkedPageLoaded()&&this.props.linkedPages?c.a.createElement(Uf,{groupId:"linked-confluence-pages",pages:this.props.linkedPages,onClick:this.props.onLinkedPageClicked,onAuthenticateApplink:this.props.onAuthenticateApplink,onDeleteConfluencePageLink:this.props.onDeleteConfluencePageLink}):null,this.renderMentionedPagesIfAny=()=>this.hasAnyMentionedPageLoaded()&&this.props.mentionedPages?c.a.createElement(Uf,{groupId:"mentioned-confluence-pages",pages:this.props.mentionedPages,onClick:this.props.onMentionedPageClicked,onAuthenticateApplink:this.props.onAuthenticateApplink,
onDeleteConfluencePageLink:this.props.onDeleteConfluencePageLink}):null}shouldShowConfluencePages(){return this.props.isCreateLinkedPageOpened||this.hasLinkedPages()||this.hasMentionedPages()}hasLinkedPages(){return this.props.linkedPages&&this.props.linkedPages.length>0}hasMentionedPages(){return this.props.mentionedPages&&this.props.mentionedPages.length>0}hasAnyLinkedPageLoaded(){return this.props.linkedPages&&this.props.linkedPages.length>0}hasAnyMentionedPageLoaded(){return this.props.mentionedPages&&this.props.mentionedPages.length>0}renderLinkedPages(){return c.a.createElement(dE,null,this.props.linkedPages?this.renderLinkedPagesIfAny():c.a.createElement(Vf,{itemCount:this.props.linkedPagesCachedCount}))}renderMentionedPages(){return c.a.createElement(dE,null,c.a.createElement(cE,null,c.a.createElement(S.FormattedMessage,{id:"issue.details.confluence-pages.mentioned-on",defaultMessage:"mentioned on"
})),this.props.mentionedPages?this.renderMentionedPagesIfAny():c.a.createElement(Vf,{itemCount:this.props.mentionedPagesCachedCount}))}renderCreateLinkedPage(){return this.props.isCreateLinkedPageOpened?c.a.createElement(lE,null):null}renderConfluencePageFragment(){return c.a.createElement(c.a.Fragment,null,this.renderHeading(),this.hasLinkedPages()&&this.renderLinkedPages(),this.hasMentionedPages()&&this.renderMentionedPages(),this.renderCreateLinkedPage())}render(){return this.props.isConfluencePageLinksEnabled&&this.shouldShowConfluencePages()?this.renderConfluencePageFragment():null}}uE.displayName="ConfluencePagesView",uE.defaultProps={isConfluencePageLinksEnabled:!1,linkedPagesCachedCount:0,mentionedPagesCachedCount:0};var pE=Object(a("v5q+").a)([Object(a("QURJ").a)("ItemLineCardGroup",{onMentionedPageClicked:"clicked",onLinkedPageClicked:"clicked"}),Object(a("4zF2").a)({onMentionedPageClicked:"MentionedConfluencePage",onLinkedPageClicked:"LinkedConfluencePage"
}),Object(a("QURJ").a)("DeleteConfluencePage",{onDeleteConfluencePageLink:"clicked"}),Object(a("4zF2").a)({onDeleteConfluencePageLink:e=>({name:"onDeleteConfluencePageLink",globalId:e})}),Object(d.connect)((e=>({isCreateLinkedPageOpened:Object(a("pKna").f)(e),linkedPages:Object(a("pKna").h)(e),linkedPagesCachedCount:Object(a("pKna").g)(e),mentionedPages:Object(a("pKna").j)(e),mentionedPagesCachedCount:Object(a("pKna").i)(e),isConfluencePageLinksEnabled:Object(a("pKna").c)(e),canLinkConfluencePage:hf(e)})),(e=>({onAuthenticateApplink:t=>e(Object(a("84KE").a)(t)),onDeleteConfluencePageLink:t=>e(Object(a("pfYZ").f)(t)),onAddButtonClicked:()=>e(Object(a("pfYZ").h)())})))])(uE);const mE=Object(Vt.createSelector)(a("P82W").c,(e=>!!e.find(a("P82W").b))),bE=Object(Vt.createSelector)(a("nGHA").h,mE,a("4dgq").r,a("4dgq").o,(({canCreateIssuesInClassicProjectEpic:e},t,n,a)=>e&&!(!!t&&(n||a))));var gE=Object(S.defineMessages)({title:{id:"issue.epic-issues-title",defaultMessage:"Issues in this epic"
}});const fE=["onNavigateToNewIssueDispatchProp"],hE=e=>{const t=e.onChange,n=Object(a("ovRs").h)(),[s,{setFieldValue:i}]=Object(a("j3bG").b)({issueKey:n,fieldKey:"epic-issues"}),o=Object(l.useCallback)((e=>{switch(e.type){case gu.CHILD_ISSUE_ADDED:i(n,"epic-issues",s.concat({id:e.meta.childIssue.id,key:e.meta.childIssue.issueKey}))}t(e)}),[s,n,t,i]);return c.a.createElement(df,j()({},e,{onChange:o}))};hE.displayName="ConnectedComponent";var EE=Object(d.connect)((e=>({childIssuesPanelType:"classicProjectEpicChildren",parentId:Object(a("4dgq").v)(e),epicLinkFieldKey:Object(a("/LFc").g)(e),issueTypes:Object(a("P82W").c)(e),issues:Object(a("DNQi").a)(e),messages:gE,quickAddClickCount:Hl(e),supportsIssueCreation:bE(e),isIssueViewComplete:Object(a("/LFc").n)(e),fetchIssueTypesStatus:Object(a("P82W").a)(e),childIssuesLimitUrl:Object(a("d90y").isIssueViewAggChildPanelEnabled)()?Object(a("KSj7").b)(e)("epic-issues"):"",
hasExceededIssuesLimitAfterLoad:!!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&pu(e)("epic-issues")})),(e=>({onChange:t=>{switch(t.type){case gu.CHILD_ISSUE_ADDED:e(Object(a("7i6c").a)(t.meta.childIssue,t.meta.fieldsData))}},onAddChildClick:()=>e(Object(a("7i6c").b)()),onNavigateToNewIssueDispatchProp:({fromIssueKey:t,toIssueKey:n})=>{__SPA__||e(Object(a("5JtD").c)({fromIssueKey:t,toIssueKey:n}))}})),((e,t)=>{const{onNavigateToNewIssueDispatchProp:n}=t,a=C()(t,fE);return r()(r()(r()({},e),a),{},{onNavigateToNewIssue:({fromIssueKey:e,toIssueKey:t})=>{n&&n({fromIssueKey:e,toIssueKey:t})}})}))(hE);const yE=Object(Vt.createSelector)(a("/LFc").f,(e=>e.incidentManagement)),OE=Object(Vt.createSelector)(yE,(e=>e.createMajorIncident)),vE=(Object(Vt.createSelector)(OE,(e=>e.clickedCount)),
Object(Vt.createSelector)(a("/LFc").I,(e=>e.incidentManagement))),jE=Object(Vt.createSelector)(vE,(e=>e.showCreateMajorIncidentModal)),IE=Object(Vt.createSelector)(vE,(e=>e.showInvestigateIncidentModal)),CE=Object(a("KSj7").f)("com.atlassian.jira.plugins.service-entity:service-entity-field-cftype"),SE=Object(Vt.createSelector)(CE,(e=>e&&e.renderedValue)),kE=Object(a("v5q+").a)([Object(d.connect)((e=>({issueSummary:Object(a("KSj7").h)("summary")(e),issueDescription:Object(a("KSj7").h)("description")(e),impactedServices:SE(e),issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),projectKey:Object(a("4dgq").A)(e),projectId:Object(a("/LFc").D)(e),isIncidentInvestigationModalVisible:IE(e)})),(e=>({onCloseIncidentInvestigationModal:()=>e((()=>({type:"INVESTIGATE_INCIDENT_MODAL_CLOSED"}))())})))])(a("6ZN7").a),wE=Object(Vt.createSelector)(a("/LFc").f,(e=>e.jiraAppLinks||{status:"NOT_LOADED",remoteLinks:[]
})),TE=Object(Vt.createSelector)(wE,(e=>e.status)),DE=Object(Vt.createSelector)(a("TstH").e,a("Q7bB").b,((e,t)=>e&&t)),RE=Object(Vt.createSelector)(wE,(e=>e.remoteLinks)),LE=/\/browse\/((?:\w+)-(?:\d+))/,ME=t=>{if(Xm()(t))return null;try{const e=new URL(t),n=e.origin,a=(e=>{const t=e.match(LE);return t&&t[1].match(/^(([A-Z][A-Z0-9]+)-([0-9]+))($|\?.*)/)&&t[1]||""})(e.pathname);return Xm()(a)?null:{host:n,issueKey:a}}catch(e){return null}},AE=e=>{const{selectItems:t,selectedItem:n,onChange:s}=e;return c.a.createElement(a("Jyfm").a,{options:t,defaultValue:n,styles:a("JQsD").f,onChange:s})};AE.displayName="IssueLinkTypeSelect",AE.defaultProps={selectedItem:null};const _E=Object(S.defineMessages)({remoteLinkAuthText:{id:"issues.issue-links.jira-app-link-option.auth-required",defaultMessage:"Authenticate to search"}}),NE=T.default.span.withConfig({componentId:"g72qtx-0"
})`margin-right:10px;`,xE=({value:e,intl:t,onAuthenticateAppLink:n})=>e.fullObject.requireCredentials?c.a.createElement(a("Yto1").a,{content:e.fullObject.baseUrl,position:"bottom"},c.a.createElement("p",null,c.a.createElement(NE,null,e.label),c.a.createElement(a("340+").a,{spacing:"none",appearance:"link",onClick:(t,s)=>((t,s)=>{t.preventDefault(),void 0!==n&&(n(e.fullObject.authUrl,s),s&&Object(a("yy8q").h)(s,"JiraApplinkSelectAuthentication",{appLinkId:e.fullObject.id}))})(t,s),iconBefore:c.a.createElement(a.n(a("ncU9")).a,{size:"small",label:""})},c.a.createElement("span",null,t.formatMessage(_E.remoteLinkAuthText))))):c.a.createElement(a("Yto1").a,{content:e.fullObject.baseUrl,position:"bottom"},c.a.createElement(NE,null,e.label));xE.displayName="JiraAppLinkOption";var UE=xE;const FE=Object(a("VHV8").a)({onMenuOpen:{action:"opened",component:"select"},onMenuClose:{action:"closed",component:"select"}})(a("Jyfm").a),PE=r()(r()({},a("JQsD").f),{},{menu:(e,t)=>{
const n=a("JQsD").f.menu?a("JQsD").f.menu(e,t):{};return r()(r()({},n),{},{minWidth:t.selectProps.containerWidth||"auto"})},option:(...e)=>{const t=a("JQsD").f.option?a("JQsD").f.option(...e):{};return r()(r()({},t),{},{overflow:"initial"})}});class VE extends l.Component{handleClick(e,t,n){e.preventDefault(),void 0!==this.props.onAuthenticateAppLink&&(this.props.onAuthenticateAppLink(t.fullObject.authUrl,n),n&&Object(a("yy8q").h)(n,"JiraApplinkSelectAuthentication",{appLinkId:t.fullObject.id}))}formatOptionLabel(e){return c.a.createElement(UE,{value:e,intl:this.props.intl,onAuthenticateAppLink:this.props.onAuthenticateAppLink})}getNumAppLinksRequiringAuth(){return this.props.selectItems.filter((e=>e.fullObject.requireCredentials)).length}sendMenuAnalytics(e,t){e&&Object(a("yy8q").h)(e,`issueView.JiraAppLinksSelect ${t}`,"JiraAppLinksSelect",{numAppLinks:this.props.selectItems.length-1,numAppLinksRequiringAuth:this.getNumAppLinksRequiringAuth()})}onChange(e,t){this.props.onChange(e),
t&&Object(a("yy8q").h)(t,"issueView.JiraAppLinksSelect changed","JiraAppLinksSelect",{appLinkId:e.fullObject.id})}render(){const{selectItems:e,value:t,containerWidth:n}=this.props;return c.a.createElement(a("ho8o").a,null,c.a.createElement(a("PF8x").a,{packageName:"jiraIssueView",id:"JiraAppLinksSelect"},c.a.createElement(FE,{options:e,value:t,onChange:(e,t,n)=>this.onChange(e,n),formatOptionLabel:e=>this.formatOptionLabel(e),isOptionDisabled:e=>e.fullObject.requireCredentials,styles:PE,onMenuOpen:e=>this.sendMenuAnalytics(e,"opened"),onMenuClose:e=>this.sendMenuAnalytics(e,"closed"),containerWidth:n}),c.a.createElement(a("gV9P").a,{onMount:t=>{t&&Object(a("yy8q").h)(t,"issueView.JiraAppLinksSelect mounted","JiraAppLinksSelect",{numAppLinks:e.length-1,numAppLinksRequiringAuth:this.getNumAppLinksRequiringAuth()})}})))}}VE.displayName="JiraAppLinksSelect";const KE=Object(S.injectIntl)(VE);var $E=De()([Object(d.connect)((()=>({})),(e=>({
onAuthenticateAppLink:(t,n)=>e(Object(a("84KE").a)(t,n))})))])(KE);const WE=/^(([A-Z][A-Z0-9]+)-([0-9]+))($|\?.*)/,BE=()=>""!==window.location.port?Object(a("Rp3N").c)(`${window.location.protocol}//${window.location.hostname}:${window.location.port}`):Object(a("Rp3N").c)(`${window.location.protocol}//${window.location.hostname}`);var qE=(e,t)=>{let n=e;if(void 0===n||void 0===t)return t||"";if(n.endsWith("/")||(n+="/"),n+="browse/",0!==t.indexOf(n))return t;const a=t.slice(n.length).match(WE);return null===a?t:a[1]||""};const HE="local",GE="Local",YE={label:GE,value:HE,fullObject:{id:HE,name:GE,baseUrl:BE(),authUrl:Object(a("Rp3N").k)(""),requireCredentials:!1}};var ZE=a("7GkX"),XE=a.n(ZE),JE=Object(S.defineMessages)({createLinkedIssueButtonLabel:{id:"issue.linked-issue-create.button-label",defaultMessage:"Create linked issue"},createLinkedIssueDialogTitle:{id:"issue.linked-issue-create.dialog-title",defaultMessage:"Create linked issue"}});const zE=(e,t)=>{let n={}
;const s=ft()(Za()(e,["fields","issuelinks"]),(e=>Za()(e.outwardIssue||e.inwardIssue,"id")===t));if(void 0!==s){const e=(e=>e.outwardIssue?a("LP4i").b:a("LP4i").c)(s);n={issueLink:{id:s.id,direction:e,linkType:{id:Za()(s,["type","id"],""),label:e===a("LP4i").b?Za()(s,["type","inward"],""):Za()(s,["type","outward"],"")}}}}return r()({id:Object(a("Rp3N").l)(e.id),key:Object(a("Rp3N").n)(e.key),summary:Za()(e,["fields","summary"],""),issueTypeIconUrl:Za()(e,["fields","issuetype","iconUrl"],"")},n)};var QE=(e,t,n)=>{const s=zE(e,t);if(void 0===s.issueLink)return{issueLinks:{},linkedIssues:{}};const{issueLink:i}=s;return{issueLinks:{[`${i.id}`]:{id:i.id,linkedIssueKey:s.key,direction:i.direction,typeName:i.linkType.label,typeId:i.linkType.id}},linkedIssues:{[`${s.key}`]:{id:s.id,issueKey:s.key,issueLink:Object(a("XtNG").f)(n,s.key),issueSummary:s.summary,issueTypeIconUrl:s.issueTypeIconUrl}}}};const ey="issue.views.issue-base-content.issue-links.add.create-linked-issue-button.view"
;class ty extends l.Component{constructor(...e){super(...e),this.showCreateLinkedIssueDialog=async()=>{const{baseUrl:e,sourceIssueId:t,sourceIssueKey:n,onLinkedIssueCreated:s}=this.props;this.showLoadingIndicator();try{const i=await Object(a("oGf9").a)({name:"wrm/require"});await new Promise((e=>{i("wr!com.atlassian.jira.jira-quick-edit-plugin:create-linked-issue",e)}));(await Object(a("oGf9").a)({name:"quick-edit/create-linked-issue/create-linked-issue-dialog"})).show({sourceIssueId:t,sourceIssueKey:n}).getQuickForm().bind("issueCreated",((n,{createdIssueDetails:a})=>{s(QE(a,t,e))}))}catch(i){this.hideLoadingIndicator(),a("RDfz").a.safeErrorWithoutCustomerData(ey,i)}},this.onCreateLinkedIssueClick=(e,t)=>{var n,s;!0===this.props.currentIssueCreateVisibility?null===(n=(s=this.props).openIssueCreateModal)||void 0===n||n.call(s,{onIssueCreate:e=>{this.props.onLinkedIssueCreated(QE(e.createdIssueDetails,this.props.sourceIssueId,this.props.baseUrl))},payload:{
customFieldsToPreserveOnFormRecreation:["issuelinks"],defaultValues:{issueLinks:{linkedIssueKeys:[this.props.sourceIssueKey]}}}}):this.showCreateLinkedIssueDialog();Object(a("QqZT").a)(t,{name:"createLinkedIssue"})},this.showLoadingIndicator=async()=>{try{(await Object(a("oGf9").a)({name:"quick-edit/util/loading-indicator",wrmKeys:"wrc!com.atlassian.jira.jira-quick-edit-plugin:loading-indicator"})).showLoadingIndicator()}catch(e){a("RDfz").a.safeErrorWithoutCustomerData(ey,e)}},this.hideLoadingIndicator=async()=>{try{(await Object(a("oGf9").a)({name:"quick-edit/util/loading-indicator",wrmKeys:"wrc!com.atlassian.jira.jira-quick-edit-plugin:loading-indicator"})).hideLoadingIndicator()}catch(e){a("RDfz").a.safeErrorWithoutCustomerData(ey,e)}}}render(){const{intl:{formatMessage:e}}=this.props;return c.a.createElement(a("340+").a,{spacing:"compact",onClick:this.onCreateLinkedIssueClick,appearance:"link",iconBefore:c.a.createElement(a.n(a("9fHu")).a,{size:"small",
label:e(JE.createLinkedIssueButtonLabel)})},e(JE.createLinkedIssueButtonLabel))}}ty.displayName="CreateLinkedIssueButton";var ny=Object(a("5WHm").a)((()=>Object(a("d90y").isModernGlobalIssueCreateTriggerEnabled)()&&Object(a("d90y").isModernGlobalIssueCreateTriggerLinkedIssueEnabled)()),Object(a("/rL4").c)(ty),ty);const ay="created";var sy=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("createLinkedIssueButton",{onLinkedIssueCreated:ay}),Object(d.connect)((e=>({baseUrl:Object(a("4dgq").f)(e),sourceIssueKey:Object(a("4dgq").w)(e),sourceIssueId:Object(a("Rp3N").l)(String(Object(a("4dgq").v)(e)))})),(e=>({onLinkedIssueCreated:(t,n)=>{e(Object(a("4geX").c)(t)),e(Object(a("4geX").b)()),(({issueLinks:e,linkedIssues:t},n)=>{const s=XE()(e)[0];if(void 0!==s){const i=e[s],o=t[i.linkedIssueKey],r={action:ay,actionSubjectId:o.id,attributes:{linkTypeName:Object(a("Nt94").a)(i.typeName),linkTypeId:i.typeId,issueLinkId:s}};Object(a("w49h").a)(n,r)}})(t,n)}
})))])(ny),iy=Object(S.defineMessages)({createReciprocalLinkCheckboxLabel:{id:"issue.create-reciprocal-link.checkbox-label",defaultMessage:"Create reciprocal link"},createReciprocalLinkCheckboxTooltip:{id:"issue.create-reciprocal-link.checkbox-tooltip",defaultMessage:"Jira will create a link from the issue on the remote Jira instance back to this issue"}});const oy=T.default.div.withConfig({componentId:"sc-1yosl4y-0"})`flex-grow:1;display:flex;`,ry=({isChecked:e,onChange:t,onShow:n})=>{const{formatMessage:s}=Object(a("NRyt").d)();return c.a.createElement(oy,null,c.a.createElement(a("epHX").a,{isChecked:e,onChange:t,label:s(iy.createReciprocalLinkCheckboxLabel),name:"create-reciprocal-link"}),c.a.createElement(a("Yto1").a,{content:s(iy.createReciprocalLinkCheckboxTooltip),onShow:n,position:"bottom"},c.a.createElement(a.n(a("hL5s")).a,{size:"medium",label:""})))};ry.displayName="CreateReciprocalLink";const ly=/^([A-Z][A-Z0-9]+)-([0-9]+)$/i,cy=(e,t)=>({sections:n=[]}={})=>{
const{baseUrl:s=Object(a("Rp3N").c)(""),id:i}=t||{};return n.map((e=>e.issues)).filter((e=>!!e)).reduce(((t,n)=>t.concat(n.map((t=>({content:`${t.key} ${t.summaryText}`,value:t.key,id:t.id?t.id.toString():"",elemBefore:Object(l.createElement)("img",{src:`${s}${t.img}`,width:16,height:16}),fullObject:t,filterValues:[e],iconUrl:`${s}${t.img}`,appLinkId:i}))))),[]).reduce(((e,t)=>e.findIndex((e=>e.value===t.value))<0?[...e,t]:e),[])},dy=(e,t,n,s)=>(e=>{if(e){const t=ly.exec(e);return!(!t||3!==t.length)}return!1})(n)?((e,t,n,s)=>{const i=void 0===s?Object(a("XtNG").a)(e,t,n):Object(a("XtNG").k)(e,n,s.id);return Object(a("K4VI").a)(i)})(e,t,Object(a("Rp3N").n)(n),s).map(cy(n,s)).catch((()=>yp.Observable.of([]))):yp.Observable.of([]);var uy=Object(S.defineMessages)({searchPlaceholder:{id:"issue.issue-links-search-placeholder",defaultMessage:"Search for issues"},openIssues:{id:"issue.issue-links-search-open-issues",defaultMessage:"Open Issues"},exactKey:{id:"issue.issue-links-exact-key",
defaultMessage:"Exact key"},noHistoryResults:{id:"issue.issue-link-no-history-results",defaultMessage:"Type to search for an issue summary or key"}});class py extends l.Component{constructor(...e){super(...e),this.fetchSuggestions=e=>{const{baseUrl:t,remoteAppLink:n,issueKey:s,intl:i}=this.props,o=i.formatMessage(uy.openIssues),r=i.formatMessage(uy.noHistoryResults);return((e,t,n,s)=>{const i=void 0===s?Object(a("XtNG").p)(e,t,n):Object(a("XtNG").l)(e,n,s.id);return Object(a("K4VI").a)(i).map(cy(n,s))})(t,s,e,n).map((e=>e.length?[{heading:o,items:e}]:[{items:[{content:r,isDisabled:!0,value:""}]}])).toPromise()},this.onChange=(e,t)=>{null!=t&&null!=t.action&&("select-option"===t.action?Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_REFLECT_SELECTED_ISSUE,cancelExisting:!0}):"remove-value"===t.action&&Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_REFLECT_REMOVED_ISSUE,cancelExisting:!0})),this.props.onChange(e)},
this.onDataRequest=({isInitial:e})=>{e||Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},this.onDataLoaded=({isInitial:e})=>{e||Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_REFLECT_INPUT_RESULT})},this.stripQueryValueToIssueKey=e=>{const{remoteAppLink:t}=this.props,n=void 0===t?BE():t.baseUrl;return qE(n,e)},this.filterIssueOptions=(e,t)=>this.filterIssueSuggestionByAppLink(e)&&Object(a("PaMy").a)(e,t),this.filterIssueSuggestionByAppLink=e=>{if(Boolean(e.data&&e.data.fullObject)){var t,n;return(null===(t=e.data)||void 0===t?void 0:t.appLinkId)===(null===(n=this.props.remoteAppLink)||void 0===n?void 0:n.id)}return!0}}componentDidUpdate(e){const t=this.props.value.length,n=e.value.length;n<t?Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_REFLECT_SELECTED_ISSUE}):n>t&&Object(a("B2Rg").b)().markTimeToFinishTask({
key:a("/kYB").a.ISSUE_LINKS.TIME_TO_REFLECT_REMOVED_ISSUE})}render(){const{value:e,intl:t,remoteAppLink:n,invalidMessage:s}=this.props,i={isRemote:void 0!==n};return c.a.createElement(a("gWdf").a,{fieldId:"issue-link-search",classNamePrefix:"issue-links-search",value:e,fetchSuggestions:this.fetchSuggestions,onChangeMulti:this.onChange,canCreateNewItem:!0,formatCreateLabel:e=>`${e} (${t.formatMessage(uy.exactKey)})`,placeholder:t.formatMessage(uy.searchPlaceholder),invalidMessage:s,changeQueryValue:this.stripQueryValueToIssueKey,isMulti:!0,autoFocus:!0,errorMessagePosition:"bottom",onDataLoaded:this.onDataLoaded,onDataRequest:this.onDataRequest,inputId:"issue-link-search",additionalAnalyticsProps:i,filterOption:this.filterIssueOptions})}}py.displayName="IssueSearchSelect";var my=Object(S.injectIntl)(py),by=Object(S.defineMessages)({selfLinkInvalidIssue:{id:"issue.issue-link-invalid-self-link",defaultMessage:"Can't link the issue {issueKey} to itself."},unauthenticatedAppLink:{
id:"issue.unauthenticated-app-link",defaultMessage:"Unauthenticated site. Try authenticating before, then link again."},unauthenticatedAppLinkWithSiteName:{id:"issue.unauthenticated-app-link-with-site-name",defaultMessage:"Unauthenticated site. Try authenticating the site {appLinkName}, then link again."},invalidIssue:{id:"issue.issue-link-invalid-issue",defaultMessage:"Can't find {issueKey}. Try searching for another issue key, or in another site."},twoInvalidIssues:{id:"issue.issue-link-two-invalid-issues",defaultMessage:"Can't find {issueKeys}. Try searching for other issue keys or in another site."},multipleInvalidIssues:{id:"issue.issue-link-multiple-invalid-issues",defaultMessage:"Can\u2019t find {firstTwoIssueKeys} and {countRemainingIssues} other {countRemainingIssues, plural, one {issue} other {issues}}. Try searching for other issue keys or in another site."},otherAppLink:{id:"issue.other-applink",
defaultMessage:"We can only link issues from one site at a time. Try linking issues from one site first."}});const gy=T.default.div.withConfig({componentId:"sc-1r9r2al-0"})`display:flex;flex-direction:${({isCompact:e})=>e?"column":"row"};justify-content:space-around;align-content:stretch;> *{margin-top:${a("ZpU/").e}px;}>:not(:last-child){margin-right:${({isCompact:e})=>e?"0":`${a("ZpU/").e}px`};}`,fy=T.default.div.withConfig({componentId:"sc-1r9r2al-1"})`flex:1;flex-basis:auto;`,hy=T.default.div.withConfig({componentId:"sc-1r9r2al-2"})`margin-top:${a("ZpU/").e}px;display:flex;flex-wrap:wrap;justify-content:flex-end;margin-left:auto;`,Ey=T.default.div.withConfig({componentId:"sc-1r9r2al-3"})`flex-grow:1;margin-left:-${1.5*a("ZpU/").e}px;`,yy=T.default.div.withConfig({componentId:"sc-1r9r2al-4"})`max-width:${({isCompact:e})=>e?"none":25*a("ZpU/").e+"px"};width:${({isCompact:e})=>e?"100%":"27%"};min-width:${17*a("ZpU/").e}px;`,Oy=(e,t,n,s)=>({issueLinks:{[e]:{id:e,linkedIssueKey:n.key,
direction:t.direction,typeName:t.label,typeId:t.id}},linkedIssues:{[`${n.key}`]:{id:n.key,issueKey:n.key,issueId:null!==n.id&&void 0!==n.id?n.id.toString():null,issueLink:Object(a("XtNG").f)(s,n.key),issueSummary:n.summaryText?n.summaryText:"",issueTypeIconUrl:n.img?n.img:""}}}),vy=(e,t)=>Object(a("Rp3N").v)(`appId=${e}&issueId=${t}`),jy={newIssueLinks:[],isDisabled:!0,invalidSelections:[],invalidSelectionsWithReason:[]},Iy=(e,t)=>{if(Xm()(t))return;let n=t[0].reason;t.some((({reason:e})=>"invalid"===e))?n="invalid":t.some((({reason:e})=>"unauthenticated"===e))&&(n="unauthenticated");const a=t.filter((e=>e.reason===n)),s=a.filter((e=>{var t;return(null==e||null===(t=e.jiraAppLink)||void 0===t?void 0:t.requireCredentials)||!1})).map((e=>{var t;return null==e||null===(t=e.jiraAppLink)||void 0===t?void 0:t.name})).pop();switch(n){case"self_link":return e.formatMessage(by.selfLinkInvalidIssue,{issueKey:t[0].value});case"other_applink":return e.formatMessage(by.otherAppLink)
;case"unauthenticated":return s?e.formatMessage(by.unauthenticatedAppLinkWithSiteName,{appLinkName:s}):e.formatMessage(by.unauthenticatedAppLink);case"invalid":return((e,t)=>1===t.length?e.formatMessage(by.invalidIssue,{issueKey:t[0]}):2===t.length?e.formatMessage(by.twoInvalidIssues,{issueKeys:t.join(", ")}):t.length>=3?e.formatMessage(by.multipleInvalidIssues,{firstTwoIssueKeys:t.slice(0,2).join(", "),countRemainingIssues:t.length-2}):"")(e,a.map((e=>e.value)));default:return}},Cy=e=>{const t=e.map((e=>(e=>({label:`${e.name}`,value:e.id,fullObject:e}))(e)));return[YE,...t]};class Sy extends l.Component{constructor(e){super(e),this.getInitialState=()=>r()({issueLinkType:this.transformIssueLinkTypesForSelect()[0],jiraAppLink:YE,createReciprocalLink:!0},jy),this.isLocalJira=e=>e.value===YE.value,this.getRemoteAppLink=()=>{const{jiraAppLink:e}=this.state;return this.isLocalJira(e)?void 0:e.fullObject},this.onIssueLinkTypeChange=e=>this.setState({issueLinkType:e}),
this.onJiraAppLinkChange=e=>this.setState(r()({jiraAppLink:e,createReciprocalLink:!this.isLocalJira(e)},jy)),this.getInvalidSelectionForIssuesWithDifferentAppLinks=e=>{if(e.some((e=>!Xm()(e.issueLink.fullObject)))&&e.some((e=>!Xm()(e.appLink)&&e.appLink.fullObject.baseUrl!==this.state.jiraAppLink.fullObject.baseUrl)))return{value:"",reason:"other_applink"}},this.getInvalidSelectionForUnauthenticatedAppLink=e=>{const t=e.filter((e=>{var t,n;return null===(t=e.appLink)||void 0===t||null===(n=t.fullObject)||void 0===n?void 0:n.requireCredentials})).shift();var n;if(t)return{value:t.issueKey,jiraAppLink:null==t||null===(n=t.appLink)||void 0===n?void 0:n.fullObject,reason:"unauthenticated"}},this.getInvalidSelectionForSelfLink=e=>{if(e.some((e=>this.props.issueKey===e.issueKey)))return{value:this.props.issueKey,reason:"self_link"}},this.getNewIssueLinksWrapperFrom=e=>{const{jiraAppLinks:t}=this.props,n=Cy(t);return e.map((e=>{if(Xm()(e.fullObject)){
const t=ME(e.value),a=t&&n.filter((e=>e.fullObject.baseUrl===t.host)).shift();return{issueLink:e,issueKey:a&&t?t.issueKey:e.value,appLink:a}}return{issueLink:e,issueKey:e.value}}))},this.getCommonAppLinkFromIssueCandidates=e=>{var t,n;return 1===e.length&&!1===(null===(t=e[0].appLink)||void 0===t||null===(n=t.fullObject)||void 0===n?void 0:n.requireCredentials)&&e[0].appLink},this.onIssueSearchChange=e=>{const t=[],n=this.getNewIssueLinksWrapperFrom(e),a=this.getInvalidSelectionForIssuesWithDifferentAppLinks(n)||this.getInvalidSelectionForUnauthenticatedAppLink(n)||this.getInvalidSelectionForSelfLink(n),s=this.getCommonAppLinkFromIssueCandidates(n)||this.state.jiraAppLink,i=n.map((e=>{const{issueLink:n,issueKey:i,appLink:o}=e,l=Xm()(o)||o.fullObject.baseUrl===s.fullObject.baseUrl;return!n.fullObject&&l&&(a&&a.value===i||t.push((()=>this.query$.next({queryIssueKey:i,remoteAppLink:this.isLocalJira(s)?void 0:s.fullObject})))),r()(r()({},n),{},{value:l?i:n.value,content:l?i:n.content,tag:{
elemBefore:n.elemBefore}})})),o=!(!a&&!Xm()(e));this.setState({newIssueLinks:i,isDisabled:o,invalidSelectionsWithReason:a&&[a]||[],jiraAppLink:s}),t.map((e=>e()))},this.updateInvalidSelections=e=>{const t=e?e.map((e=>e.value)):[];return this.state.invalidSelections.filter((e=>t.includes(e)))},this.onCreateReciprocalLinkChange=(e,t)=>{const n=!this.state.createReciprocalLink;this.setState({createReciprocalLink:n}),Object(a("yy8q").h)(t,"createReciprocalLink",{isChecked:n})},this.onShowReciprocalLinkTooltip=e=>{Object(a("yy8q").h)(e,"createReciprocalLink")},this.onSave=(e,t)=>{const{issueLinkType:n,newIssueLinks:s,jiraAppLink:i,createReciprocalLink:o}=this.state,{issueLinks:r}=this.props,l=this.isLocalJira(i);Object(a("yy8q").h)(t,"addLinkedIssueButton",{isRemote:!l,newLinkedIssueIds:s.map((e=>e.id))}),n&&s&&s.length>0&&(Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_RENDER_LINKED_ISSUE}),
l?this.saveLocalIssueLink(n,s,r):this.saveRemoteIssueLink(n,s,i,r,o))},this.saveLocalIssueLink=(e,t,n)=>{const{createAnalyticsEvent:a}=this.props,s=e.fullObject&&e.fullObject.label,i=(n&&n[s]||[]).filter((e=>!e.isRemote)).map((e=>e.linkedIssueKey));t.map((e=>e.fullObject?e:r()(r()({},e),{},{fullObject:{key:e.value}}))).filter((e=>!i.includes(e.fullObject.key))).forEach(((t,n)=>{const s=`OPTIMISTIC_LINKED_ISSUE_${Date.now()}_${n}`;this.props.onAdd({optimisticId:s,linkedIssueKey:t.fullObject.key,issueLinkType:e.fullObject,issueLinks:Oy(s,e.fullObject,t.fullObject,this.props.baseUrl)},a({action:"succeeded"}))})),this.props.onClose()},this.saveRemoteIssueLink=(e,t,n,s,i)=>{const{createAnalyticsEvent:o}=this.props,l=s?Object.keys(s).reduce(((e,t)=>[...e,...s[t]]),[]).filter((e=>e.isRemote)).map((e=>e.globalId)):[];t.filter((e=>e.fullObject)).map(((t,s)=>((e,t,n,s,i)=>{
const o=`OPTIMISTIC_LINKED_ISSUE_${Date.now()}_${e}`,{fullObject:{id:l,key:c,summaryText:d},iconUrl:u}=t,{id:p,name:m,baseUrl:b}=n,g={id:o,applicationType:"com.atlassian.jira",applicationName:m,issueLinkUrl:Object(a("XtNG").f)(b,c),relationship:s.label,summary:d,iconUrl:Object(a("XtNG").q)(u),issueKey:c,createReciprocalLink:i};if(!l)return r()(r()({},g),{},{appLinkId:p,payloadType:"WITHOUT_ISSUE_ID"});const f=Object(a("Rp3N").l)(l.toString());return r()(r()({},g),{},{globalId:vy(p,f),remoteIssueId:f,payloadType:"WITH_ISSUE_ID"})})(s,t,n.fullObject,e,i))).filter((e=>!e.globalId||!l.includes(e.globalId))).forEach((e=>{this.props.onAddRemote(e,o({action:"succeeded",isRemote:!0,withReciprocalLink:Boolean(e.createReciprocalLink)}))})),this.props.onClose()},this.handleUpdate=({issue:e,results:t})=>{if(Xm()(t))this.setState((t=>({newIssueLinks:t.newIssueLinks.slice(),isDisabled:!0,invalidSelectionsWithReason:[...t.invalidSelectionsWithReason,{value:e,reason:"invalid"}]})));else{
const e=t.map((e=>r()(r()({},e),{},{tag:{elemBefore:e.elemBefore}}))).pop();this.setState((t=>({newIssueLinks:t.newIssueLinks.map((t=>t.value.toLowerCase()===e.value.toLowerCase()?e:t))})))}},this.transformIssueLinkTypesForSelect=()=>this.props.issueLinkTypes.map((e=>({label:e.label,value:e.id+e.direction,fullObject:e}))),this.subscription=void 0,this.query$=void 0,this.addLinkContainer=void 0,this.renderLoading=()=>c.a.createElement(a("6UK4").a,null),this.state=this.getInitialState(),this.query$=new yp.Subject,this.subscription=this.query$.flatMap((({queryIssueKey:t,remoteAppLink:n})=>dy(e.baseUrl,e.issueKey,t,n).map((e=>({issue:t,results:e}))))).subscribe(this.handleUpdate)}componentDidMount(){this.addLinkContainer&&Object(a("eS/l").a)(this.addLinkContainer),!this.props.canLinkRemoteIssues||"NOT_LOADED"!==this.props.jiraAppLinksFetchStatus&&"ERROR"!==this.props.jiraAppLinksFetchStatus||this.props.fetchJiraAppLinks()}componentDidUpdate(e){
e.quickAddClickedCount!==this.props.quickAddClickedCount&&Object(a("eS/l").a)(this.addLinkContainer)}componentWillUnmount(){this.subscription.unsubscribe()}renderFullAddForm(){const{intl:e,baseUrl:t,issueKey:n,containerWidth:s,onClose:i,canCreateLinkedIssue:o,canLinkRemoteIssues:r,jiraAppLinks:l}=this.props,{jiraAppLink:d,issueLinkType:u,newIssueLinks:p,isDisabled:m,invalidSelectionsWithReason:b}=this.state,g=this.transformIssueLinkTypesForSelect(),f=Cy(l),h=s&&s<=480,E=f.length>1,y=this.isLocalJira(this.state.jiraAppLink)&&o;return c.a.createElement("div",{ref:e=>{this.addLinkContainer=e}},c.a.createElement(gy,{isCompact:h},r&&E&&c.a.createElement(yy,{isCompact:h},c.a.createElement($E,{selectItems:f,value:d,onChange:this.onJiraAppLinkChange,containerWidth:s})),c.a.createElement(yy,{isCompact:h},c.a.createElement(AE,{selectItems:g,selectedItem:u,onChange:this.onIssueLinkTypeChange})),c.a.createElement(fy,null,c.a.createElement(my,{value:p,baseUrl:t,issueKey:n,
onChange:this.onIssueSearchChange,remoteAppLink:this.getRemoteAppLink(),invalidMessage:Iy(e,b)}))),c.a.createElement(hy,null,!this.isLocalJira(this.state.jiraAppLink)&&c.a.createElement(ry,{isChecked:this.state.createReciprocalLink,onChange:this.onCreateReciprocalLinkChange,onShow:this.onShowReciprocalLinkTooltip}),y&&c.a.createElement(Ey,{"data-test-id":"issue.issue-view.views.issue-base.content.issue-links.add.issue-links-add-view.create-linked-issue"},c.a.createElement(sy,null)),c.a.createElement(a("/HJ0").a,null,c.a.createElement("div",{"data-test-id":"issue.issue-view.views.issue-base.content.issue-links.add.issue-links-add-view.link-button"},c.a.createElement(a("340+").a,{appearance:"primary",onClick:this.onSave,isDisabled:m},c.a.createElement(S.FormattedMessage,{id:"issue.issue-links-add-button-label",defaultMessage:"Link"}))),c.a.createElement(a("340+").a,{appearance:"subtle",onClick:i},c.a.createElement(S.FormattedMessage,{id:"issue.issue-links-cancel-button-label",
defaultMessage:"Cancel"})))))}render(){return!this.props.canLinkRemoteIssues||"LOADING"!==this.props.jiraAppLinksFetchStatus&&"NOT_LOADED"!==this.props.jiraAppLinksFetchStatus?this.renderFullAddForm():this.renderLoading()}}Sy.displayName="AddIssueLinkView",Sy.displayName="AddIssueLinkView",Sy.defaultProps={issueLinks:null,quickAddClickedCount:0,containerWidth:null,onAdd:p.a,onAddRemote:p.a,onClose:p.a};var ky=Object(a("v5q+").a)([S.injectIntl,Object(a("VHV8").a)({onAdd:{action:"added"},onAddRemote:{action:"added",isRemote:!0}}),Object(d.connect)((e=>({quickAddClickedCount:Object(a("TstH").j)(e),canCreateLinkedIssue:Object(a("TstH").a)(e),canLinkRemoteIssues:DE(e),jiraAppLinksFetchStatus:TE(e),jiraAppLinks:RE(e)})),(e=>({onAdd:(t,n,s)=>e(Object(a("4geX").n)(t,n,s)),onAddRemote:(t,n,s)=>e(Object(a("tY4a").f)(t,n,s.update({withReciprocalLink:Boolean(t.createReciprocalLink)}))),fetchJiraAppLinks:()=>e(Object(a("yKKQ").a)())}))),a("Hxd8").a])(Sy),wy=Object(S.defineMessages)({label:{
id:"issue.issue-links-add-label",defaultMessage:"Link an issue"}});const Ty=T.default.span.withConfig({componentId:"sc-1s47urc-0"})`margin-left:auto;`;class Dy extends l.Component{render(){return c.a.createElement(Ty,null,c.a.createElement(a("QYt/").a,{label:this.props.intl.formatMessage(wy.label),onClick:this.props.onClick}))}}Dy.displayName="AddIssueLinkButton",Dy.defaultProps={onClick:p.a};var Ry=Object(S.injectIntl)(Dy);const Ly=Object(S.defineMessages)({issueTypeTitle:{id:"issues.issue-links.remote-issue-link-error.issue-type.title",defaultMessage:"Issue type: {issueTypeName}"},remoteLinkAuthSummary:{id:"issues.issue-links.remote-issue-link-error.auth-required.summary",defaultMessage:"{tagStart}Authenticate{tagEnd} to see additional information"},remoteLinkGeneralError:{id:"issues.issue-links.remote-issue-link-error.general-error",defaultMessage:"Failed to load remote issue"},remoteLinkMissingApplink:{id:"issues.issue-links.remote-issue-link-error.missing-applink",
defaultMessage:"Failed to load remote issue because remote site is not linked"},remoteLinkAuthTooltip:{id:"issues.issue-links.remote-issue-link-error.auth-required.tooltip",defaultMessage:"Authenticate to {remoteServerHostname}"},remoteLinkOpenLinkTooltip:{id:"issues.issue-links.remote-issue-link-error.link-button.tooltip",defaultMessage:"Open link in a new tab"},remoteLinkDeleteLinkTooltip:{id:"issues.issue-links.remote-issue-link-error.delete-button.tooltip",defaultMessage:"Unlink remote issue"}}),My=T.default.div.withConfig({componentId:"sc-17yrz6r-0"})`display:flex;align-items:center;`,Ay=Object(T.default)(My).withConfig({componentId:"sc-17yrz6r-1"})`width:100%;height:100%;position:relative;`,_y=T.default.span.withConfig({componentId:"sc-17yrz6r-2"})`outline:none;margin-left:${a("ZpU/").e/2}px;color:${a("5kDX").a.N90};font-weight:600;font-size:12px;white-space:nowrap;&:hover,&:active,&:visited,&:link{outline:none;color:${a("5kDX").a.N90};}`,Ny=T.default.div.withConfig({
componentId:"sc-17yrz6r-3"})`margin-left:-${a("ZpU/").e/2}px;`,xy=T.default.div.withConfig({componentId:"sc-17yrz6r-4"})`padding-left:${a("ZpU/").e}px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-grow:1;color:${e=>"red"===e.color?a("5kDX").a.R400:"inherit"};`,Uy=T.default.div.withConfig({componentId:"sc-17yrz6r-5"})`overflow:hidden;text-overflow:ellipsis;display:block;`,Fy=T.default.span.withConfig({componentId:"sc-17yrz6r-6"})`color:${a("5kDX").a.B400};text-decoration:underline;`,Py=(T.default.div.withConfig({componentId:"sc-17yrz6r-7"})`background-color:${a("5kDX").a.N20};width:${5*a("ZpU/").e}px;height:${2*a("ZpU/").e}px;border-radius:3px;margin-left:${2*a("ZpU/").e}px;margin-right:${a("ZpU/").e/2}px;`,T.default.div.withConfig({componentId:"sc-17yrz6r-8"})`width:${3*a("ZpU/").e}px;height:${3*a("ZpU/").e}px;padding:${a("ZpU/").e/2}px;box-sizing:border-box;`),Vy="{tagStart}",Ky="{tagEnd}";class $y extends l.Component{constructor(...e){super(...e),
this.renderErrorIcon=()=>c.a.createElement(Ny,null,c.a.createElement(a.n(a("425I")).a,{label:"Issue link loading error",primaryColor:a("5kDX").a.R300})),this.renderIcon=()=>{const{error:e}=this.props;return"APPLINK_REQ_AUTH"===e?this.renderIssueTypeIcon():this.renderErrorIcon()},this.authLinkWithAnalytics=e=>c.a.createElement(Fy,{onClick:()=>{this.props.handleUserClickAnalytics("errorCard.authenticationLink")}},e.children),this.renderAuthRequiredText=()=>{const{intl:e,remoteServerHostname:t}=this.props;return c.a.createElement(xy,null,c.a.createElement(a("Yto1").a,{content:e.formatMessage(Ly.remoteLinkAuthTooltip,{remoteServerHostname:t}),position:"bottom"},c.a.createElement(Uy,null,c.a.createElement(a.n(a("ncU9")).a,{label:"",size:"small",primaryColor:a("5kDX").a.B400}),c.a.createElement(a("2eIE").a,{message:e.formatMessage(Ly.remoteLinkAuthSummary,{tagStart:Vy,tagEnd:Ky}),openingTag:Vy,closingTag:Ky,Component:this.authLinkWithAnalytics}))))},this.openIssueLink=e=>{
void 0!==this.props.issueLink&&window.open(this.props.issueLink,"_blank"),this.props.handleUserClickAnalytics("errorCard.linkIcon"),e.stopPropagation()},this.handleDelete=e=>{const{issueKey:t,globalId:n,onDelete:s}=this.props;null!=t&&null!=n&&s&&s(Object(a("Rp3N").n)(t),n),e.stopPropagation()}}renderIssueTypeIcon(){const{intl:e,issueTypeIconUrl:t,issueTypeName:n}=this.props,s=V()(n)?n:e.formatMessage(Ly.issueTypeTitle,{issueTypeName:n});return c.a.createElement(a("Yto1").a,{content:n||"",position:"bottom"},c.a.createElement(My,null,c.a.createElement(a("Opng").a,{alt:s,url:t})))}renderKey(){return c.a.createElement(_y,{onClick:()=>this.props.handleUserClickAnalytics("errorCard.issueKey")},this.props.issueKey)}renderText(){const{error:e}=this.props;switch(e){case"APPLINK_REQ_AUTH":return this.renderAuthRequiredText();case"APPLINK_MISSING":return c.a.createElement(xy,{color:"red"},this.props.intl.formatMessage(Ly.remoteLinkMissingApplink));default:return c.a.createElement(xy,{color:"red"
},this.props.intl.formatMessage(Ly.remoteLinkGeneralError))}}renderLinkButton(){const{isHovering:e,isFocused:t,intl:n}=this.props,s=c.a.createElement(a("Yto1").a,{content:n.formatMessage(Ly.remoteLinkOpenLinkTooltip),position:"bottom"},c.a.createElement(Py,null,c.a.createElement(a.n(a("WhJf")).a,{label:"Open remote issue",size:"small"})));return c.a.createElement(Of,{show:e||t,icon:s,onClick:this.openIssueLink})}renderDeleteButton(){const{canRemove:e,onDelete:t,isHovering:n,isFocused:s,intl:i}=this.props;return e&&t?c.a.createElement(Of,{show:n||s,icon:c.a.createElement(a("Yto1").a,{content:i.formatMessage(Ly.remoteLinkDeleteLinkTooltip),position:"bottom"},c.a.createElement(a.n(a("8m3F")).a,{label:"Remove issue link"})),onClick:this.handleDelete}):null}render(){return c.a.createElement(Ay,null,this.renderIcon(),this.renderKey(),this.renderText(),this.renderLinkButton(),this.renderDeleteButton())}}$y.displayName="RemoteIssueLinkLineCardError";var Wy=Object(S.injectIntl)($y)
;const By=({isHovering:e,isActive:t,isFocused:n,issue:s,groupId:i,isInteractive:o,onDelete:r,canAddIssueLinks:d,projectType:u})=>{const p=Object(l.useCallback)((()=>({projectType:u,groupId:i,linkedIssueId:s.id,isRemote:s.isRemote||!1,hasError:s.hasError||!1,errorType:s.errorType||"",remoteIssueLinkError:s.remoteIssueLinkError&&s.remoteIssueLinkError.error?s.remoteIssueLinkError.error:"NONE"})),[u,i,s]),{createAnalyticsEvent:m}=Object(a("rZ/p").a)(),b=Object(l.useCallback)((e=>{const t=m({action:"clicked",actionSubject:"issueView.IssueLinkLineCard"}),n=p();Object(a("yy8q").h)(t,e,n)}),[m,p]);return c.a.createElement(a("PF8x").a,{id:"IssueLinkLineCard",packageName:"jiraIssueView",attributes:p()},(()=>{const l=(e,t)=>r&&r(i,e,t);if(s.remoteIssueLinkError)return c.a.createElement(Wy,{issueTypeIconUrl:s.issueTypeIconUrl,issueTypeName:s.issueTypeName,issueKey:s.issueKey,remoteServerHostname:s.remoteServerHostname,globalId:s.globalId,isHovering:e,isFocused:n,issueLink:s.issueLink,
error:s.remoteIssueLinkError.error,handleUserClickAnalytics:b,canRemove:d,onDelete:r&&l});const p=o&&!s.remoteServerHostname,{id:m,issueKey:g,issueLink:f,issueTypeIconUrl:h,issueTypeName:E,issuePriorityUrl:y,issuePriorityName:O,issueSummary:v,statusCategory:j,statusCategoryId:I,statusId:C,statusName:S,assigneeUrl:k,assigneeDisplayName:w,isLoading:T,errorInlineMessage:D,hasError:R,estimateFieldId:L,isRemote:M,globalId:A,remoteServerHostname:_}=s;return c.a.createElement(a("vya7").a,{id:Object(a("Rp3N").l)(m),issueKey:Object(a("Rp3N").n)(null!=g?g:""),issueLink:f,issueTypeIconUrl:h,issueTypeName:E,issuePriorityUrl:y,issuePriorityName:O,issueSummary:v,statusCategory:j,statusCategoryId:I,statusId:C,statusName:S,assigneeUrl:k,assigneeDisplayName:w,isLoading:T,errorInlineMessage:D,hasError:R,estimateFieldId:L,isRemote:M,globalId:A,remoteServerHostname:_,isHovering:e,isActive:t,isFocused:n,isInteractive:p,onDelete:r&&l,canRemove:d,projectType:u,onHandleUserClickAnalytics:b,
isInlineEditEnabled:!1})})(),(()=>c.a.createElement(a("gV9P").a,{onMount:e=>Object(a("yy8q").b)(e,"issueView.IssueLinkLineCard loaded","IssueLinkLineCard",p())}))())};By.displayName="IssueLinkLineCard";var qy=Object(S.defineMessages)({removeIssueLinkHeader:{id:"issues.confirm-delete-issuelink-modal-header",defaultMessage:"Remove the link to {issueKey}?"},removeIssueLinkContent:{id:"issues.confirm-delete-issuelink-modal-text",defaultMessage:"You can add it again later if you need to."},removeIssueLinkButton:{id:"issues.conirm-delete-issue-link-confirm-btn-text",defaultMessage:"Remove"},issueLinkFailureHeader:{id:"issue.issue-links-failure-header",defaultMessage:"We couldn't link the issue"},issueLinkFailureContent:{id:"issue.issue-links-failure-content",defaultMessage:"Wait a few moments, then give it another try."}});const Hy=T.default.h3.withConfig({componentId:"sc-1s4g2ob-0"})`${a("5kDX").d.h200()};margin:0;`,Gy=T.default.div.withConfig({componentId:"sc-1s4g2ob-1"
})`margin:${a("ZpU/").e}px 0;padding-right:1px;`,Yy=T.default.div.withConfig({componentId:"sc-1s4g2ob-2"})`margin:${a("ZpU/").e}px 0;padding-right:1px;`,Zy=T.default.label.withConfig({componentId:"sc-1s4g2ob-3"})`display:flex;align-items:center;justify-content:space-between;`,Xy=(e={})=>e?Object.keys(e).reduce(((t,n)=>e[n].length+t),0):0,Jy=Object(a("SGpu").a)("removeLinkedIssue",a("kJVM").a.MODAL)(a("66ob").b);class zy extends l.Component{constructor(...e){super(...e),this.state={hasDeleteModal:!1,groupId:null,issueKey:null,globalId:void 0},this.onIssueClickNew=({id:e,issueKey:t,issueLink:n,remoteIssueLinkError:s,projectType:i=null,isRemote:o}={},r)=>{if(t){const{onIssueLinkClicked:t,linkActions:c,onAuthenticateApplink:d}=this.props,u="APPLINK_REQ_AUTH"===(null==s?void 0:s.error);if(t&&t(e,i,Xy(this.props.issueLinks)),Object(a("sKDb").d)(r))if(u){var l;const e=null==s||null===(l=s.repairLink)||void 0===l?void 0:l.href;e&&d&&d(Object(a("Rp3N").k)(e))
}else n&&Object(a("OM3v").a)(n,r.metaKey,c.push);(Object(a("sKDb").e)(r)||Object(a("sKDb").a)(r))&&!u&&n&&window.open(n,"_blank");const{createAnalyticsEvent:p}=this.props,m=p({action:"clicked",actionSubject:"card"});Object(a("yy8q").h)(m,"issueLinkedCard",{clickedIssueId:e,linkedIssuesCount:Xy(this.props.issueLinks),issueNeedsAuthentication:u,isRemote:o})}},this.onIssueClick=({id:e,issueKey:t,issueLink:n,projectType:s=null}={},i)=>{if(t){const{onIssueLinkClicked:t,linkActions:o}=this.props;t&&t(e,s,Xy(this.props.issueLinks)),Object(a("sKDb").d)(i)&&n&&Object(a("OM3v").a)(n,i.metaKey,o.push)}},this.getLinkByGroupAndIssueKey=(e,t,n)=>(this.props.issueLinks&&e&&this.props.issueLinks[e]||[]).find((e=>e.linkedIssueKey===t&&e.globalId===n)),this.renderIssueLinkInlineMessage=(e,t)=>{const{intl:n,retryLinkedIssue:a,cancelLinkedIssue:s,createAnalyticsEvent:i}=this.props;return zb(n,n.formatMessage(qy.issueLinkFailureHeader),n.formatMessage(qy.issueLinkFailureContent),((n,s)=>a(e,t,i({
action:"succeeded",isRemote:t}),s.update({isRemote:t}))),(()=>s(e,t)))}}componentDidMount(){const{issueLinks:e,onIssueLinkRendered:t,hasLinks:n,onMountCreatePermissionFetching:a}=this.props;n&&t(Xy(e)),a()}componentDidUpdate(e){const{displayAddIssueLinks:t}=this.props,n=!e.displayAddIssueLinks&&t,s=e.displayAddIssueLinks&&!t;n&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_RENDER_NEW_LINKED_ISSUE_INPUT}),s&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_RENDER_LINKED_ISSUE})}onDeleteConfirm(e,t,n){const a=this.getLinkByGroupAndIssueKey(e,t,n);if(a){const e=a.id;this.props.deleteLinkedIssue({linkId:e,globalId:n});const t=this.flattenedIssueLinks().findIndex((t=>t.id===e&&t.globalId===n));this.props.onRemoveIssueLinkInitiated(t)}this.modalClosedStateChanges()}onDeleteCancel(){this.modalClosedStateChanges()}onDeleteAction(e,t,n){this.setState({groupId:e,issueKey:t,globalId:n,hasDeleteModal:!0})
;const{createAnalyticsEvent:s}=this.props,i=this.getLinkByGroupAndIssueKey(e,t,n),o=s({action:"clicked",actionSubject:"button"});Object(a("yy8q").h)(o,"linkedIssueCardDeleteButton",{issueLinkToDeleteId:Za()(i,["linkedIssue","id"]),isRemote:!Xm()(n)})}getRemovalConfirmationText(e){const{intl:{formatMessage:t}}=this.props;return{confirmationHeader:t(qy.removeIssueLinkHeader,{issueKey:e}),confirmationContent:t(qy.removeIssueLinkContent)}}modalClosedStateChanges(){this.setState({groupId:null,issueKey:null,hasDeleteModal:!1,globalId:void 0})}flattenedIssueLinks(){const{issueLinks:e}=this.props;return e?Object.keys(e).reduce(((t,n)=>[...t,...e[n]]),[]):[]}renderDeleteConfirmationModal(){const{intl:{formatMessage:e}}=this.props,{groupId:t,issueKey:n,globalId:s}=this.state,i=this.getRemovalConfirmationText(n),{confirmationHeader:o,confirmationContent:r}=i;return c.a.createElement("div",null,c.a.createElement(Jy,{appearance:"warning",headerMessage:o,contentMessage:r,
onConfirm:()=>this.onDeleteConfirm(t,n,s),onCancel:()=>this.onDeleteCancel(),externalId:"issue.issueLinks.delete",confirmActionText:e(qy.removeIssueLinkButton)}),c.a.createElement(a("VF8P").a,null))}renderLineCardGroup(e,t){const{projectType:n}=this.props;return c.a.createElement(a("a0QS").a,{items:e,groupId:t,isInteractive:this.props.isIssueViewComplete,onClick:this.onIssueClickNew},((e,s,i,o)=>c.a.createElement(By,{isHovering:e,isActive:s,isFocused:i,issue:o,groupId:t,isInteractive:this.props.isIssueViewComplete,onDelete:(e,t,n)=>this.onDeleteAction(e,Object(a("Rp3N").n)(t),n),canAddIssueLinks:this.props.canAddIssueLinks,projectType:n})))}renderGroup(e,t){const n=t.map((e=>r()(r()({},e.linkedIssue),{},{projectType:e.linkedIssue.projectType||null,isLoading:e.isLoading||!1,hasError:e.hasError,errorInlineMessage:e.hasError?this.renderIssueLinkInlineMessage(e.id,!!e.isRemote):void 0,id:e.globalId||e.linkedIssue.id,isRemote:e.isRemote,globalId:e.isRemote?e.globalId:void 0,
remoteServerHostname:e.isRemote?e.remoteServerHostname:void 0,remoteIssueLinkError:e.isRemote?e.remoteIssueLinkError:void 0})));return c.a.createElement(Gy,{key:e},c.a.createElement(Hy,{"data-test-id":"issue.issue-view.views.issue-base.content.issue-links.issue-links-view.relationship-heading"},e),this.renderLineCardGroup(n,e))}renderHeading(){const{hasLinks:e,canAddIssueLinks:t,onIssueLinkAddClick:n}=this.props;return c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},c.a.createElement(Zy,{htmlFor:"issue-link-search"},c.a.createElement(a("vPcr").e,null,c.a.createElement(S.FormattedMessage,{id:"issue.issue-links-heading",defaultMessage:"Linked issues"}))),c.a.createElement(a("vPcr").d,null,t&&e&&c.a.createElement(Ry,{onClick:n})))}renderExistingLinks(){const{issueLinks:e}=this.props;return c.a.createElement("div",null,e&&Object.keys(e).sort().map((t=>this.renderGroup(t,e[t]))))}renderAddIssueLink(){
const{issueLinkTypes:e,baseUrl:t,issueKey:n,onIssueLinkAddClosed:a,issueLinks:s}=this.props;return c.a.createElement(Yy,null,c.a.createElement("div",null,c.a.createElement(ky,{issueLinkTypes:e,baseUrl:t,issueKey:n,onClose:a,issueLinks:s})))}render(){const{issueLinks:e,hasLinks:t,displayAddIssueLinks:n}=this.props,s=t&&!Xm()(e),i=this.state.hasDeleteModal;return c.a.createElement(a("ho8o").a,null,s||n?this.renderHeading():null,s?this.renderExistingLinks():null,n?this.renderAddIssueLink():null,i?this.renderDeleteConfirmationModal():null)}}zy.displayName="IssueLinksView",zy.displayName="IssueLinksView",zy.defaultProps={issueLinks:null,issueLinkTypes:[],isIssueViewComplete:!1,onIssueLinkClicked:p.a,onIssueLinkRendered:p.a,onIssueLinkAddClick:p.a,onIssueLinkAddClosed:p.a};var Qy=Object(a("v5q+").a)([S.injectIntl,Object(a("VHV8").a)({deleteLinkedIssue:{action:"deleted"},onAuthenticateApplink:{action:"authenticate"}}),Object(a("SGpu").b)("linkedIssue"),Object(a("BxXc").a)((e=>({
onIssueLinkClicked:(t,n,s)=>e("linked-issue-clicked",{targetIssueId:t,targetProjectType:Object(a("0Lwy").a)(...a("Hh3U").f)(n),linkedIssuesCount:s}),onIssueLinkRendered:t=>e("linked-issue-render",{linkedIssuesCount:t}),onRemoveIssueLinkInitiated:t=>e("linked-issue-removed",{indexOfDeletedLink:t})}))),a("pCe6").a,Object(d.connect)((e=>({canAddIssueLinks:Object(a("lJey").a)(e),hasLinks:Object(a("TstH").d)(e),issueLinks:Object(a("TstH").c)(e),issueLinkTypes:Object(a("lJey").b)(e),baseUrl:Object(a("4dgq").f)(e),issueKey:Object(a("4dgq").w)(e),externalId:"issue.issue-links",displayAddIssueLinks:Object(a("TstH").l)(e),projectType:Object(a("/LFc").G)(e),isIssueViewComplete:Object(a("/LFc").n)(e)})),(e=>({onAuthenticateApplink:(t,n)=>e(Object(a("84KE").a)(t,n)),deleteLinkedIssue:({linkId:t,globalId:n},s)=>{e(void 0!==n?Object(a("tY4a").b)(n,s):Object(a("4geX").e)(t,s))},cancelLinkedIssue:(t,n)=>{e(n?Object(a("tY4a").d)(t):Object(a("4geX").l)(t))},retryLinkedIssue:(t,n,s,i)=>{
e(n?Object(a("tY4a").g)(t,s,i):Object(a("4geX").o)(t,s,i))},onIssueLinkAddClick:()=>e(Object(a("4geX").a)()),onIssueLinkAddClosed:()=>e(Object(a("4geX").b)()),onMountCreatePermissionFetching:()=>e(Object(a("4geX").g)())})))])(zy);var eO=()=>{const e=Object(a("ovRs").h)(),t=Object(a("IFiJ").g)(e),n="service_desk"===Object(a("IFiJ").i)(t),s=Object(a("IFiJ").c)(t),i="PROJECT_ARCHIVED"===(null==s?void 0:s.projectStatus);return n&&!i?c.a.createElement(c.a.Fragment,null,c.a.createElement(a("5tLy").c,null),c.a.createElement(a("5tLy").b,null)):null};const tO=()=>({type:"LINK_INCIDENT_CLICKED"}),nO=Object(Vt.createSelector)(a("/LFc").f,(e=>e.incidentManagement)),aO=Object(Vt.createSelector)(nO,(e=>e.createLinkedIncident)),sO=(Object(Vt.createSelector)(aO,(e=>e.errorMessage)),Object(Vt.createSelector)(aO,(e=>e.isInvalid)),Object(Vt.createSelector)(aO,(e=>e.isLoading)),
Object(Vt.createSelector)(aO,(e=>e.clickedCount))),iO=Object(Vt.createSelector)(a("/LFc").I,(e=>e.incidentManagement)),oO=Object(Vt.createSelector)(iO,(e=>e.showCreateIncidentPanel)),rO=Object(a("v5q+").a)([Object(d.connect)((e=>({issueSummary:Object(a("KSj7").h)("summary")(e),issueDescription:Object(a("KSj7").h)("description")(e),impactedServices:SE(e),issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),projectKey:Object(a("4dgq").A)(e),projectId:Object(a("/LFc").D)(e),isCreateVisible:oO(e),isCreateMajorIncidentModalVisible:jE(e),createLinkedIncidentCount:sO(e)})),(e=>({onCreateLinkedIncidentClick:()=>e(tO()),onCloseLinkedIncidentPanelClick:()=>e((()=>({type:"LINK_INCIDENT_PANEL_CLOSED"}))()),onCloseCreateMajorIncidentModal:()=>e((()=>({type:"CREATE_MAJOR_INCIDENT_MODAL_CLOSED"}))())
})))])((({issueSummary:e,issueDescription:t,impactedServices:n,issueKey:s,useFieldValue:i=a("j3bG").b,issueId:o,isCreateVisible:r,isCreateMajorIncidentModalVisible:l,createLinkedIncidentCount:d,onCreateLinkedIncidentClick:u,onCloseLinkedIncidentPanelClick:p,onCloseCreateMajorIncidentModal:m,projectId:b,projectKey:g})=>{const[f]=i({issueKey:s,fieldKey:"servicedesk-incident-linking"}),h=(e=>e?e.map((e=>e.name)):null)(n);return!Object(a("d90y").isJsmReplacingMajorIncidentEnabled)()&&f&&void 0!==o?c.a.createElement(a("Bq74").a,{issueSummary:e,issueDescription:t,impactedServiceNames:h,issueKey:s,issueId:o,projectId:b,projectKey:g,isCreateVisible:r,isCreateMajorIncidentModalVisible:l,createLinkedIncidentCount:d,onCreateLinkedIncidentClick:u,onCloseLinkedIncidentPanelClick:p,onCloseCreateMajorIncidentModal:m}):null}));var lO=Object(l.memo)((()=>{var e
;const t=Object(a("ovRs").h)(),[n]=Object(a("UJwn").a)(t,"com.atlassian.jira.plugins.service-entity:service-entity-field-cftype"),[s]=Object(a("j3bG").b)({issueKey:t,fieldKey:n}),i=null!==(e=null==s?void 0:s.map((({id:e})=>e)))&&void 0!==e?e:[],[o]=Object(a("j3bG").b)({issueKey:t,fieldKey:"servicedesk-practices"});let r;return r=Object(a("d90y").isJsmRiskImprovementM1Enabled)()?(null==o?void 0:o[0])===a("o4hb").c?a("o4hb").c:null:(e=>{switch(e){case a("o4hb").a:return a("o4hb").a;case a("o4hb").c:return a("o4hb").c;default:return null}})(null==o?void 0:o[0]),n&&0!==i.length&&null!=r?c.a.createElement(a("cU7O").a,{id:"AsyncObjectRelatedRequestsPanel",packageName:"jiraIssueView",fallback:"unmount",sendToPrivacyUnsafeSplunk:!0},c.a.createElement(g.a,{fallback:c.a.createElement(a("0IkZ").l,{width:"100%",height:"60px"})},c.a.createElement(a("ytt0").a,{affectedServicesFieldId:n,itsmPractice:r,serviceIds:i}))):null})),cO=Object(S.defineMessages)({title:{
id:"issue.portfolio-child-issues.title",defaultMessage:"Child issues"}});const dO=Object(S.defineMessages)({title:{id:"issue.portfolio-child-issues.title",defaultMessage:"Child issues"},noValueText:{id:"issue.placeholder-for-empty-child-issues-field",defaultMessage:"There are no child issues."}});var uO=Object(a("v5q+").a)([Object(d.connect)((e=>({childIssuesPanelType:"portfolioChildren",baseUrl:Object(a("4dgq").f)(e),locale:Object(a("4dgq").x)(e),user:Object(a("4dgq").a)(e),projectId:Object(a("/LFc").D)(e),projectType:Object(a("/LFc").G)(e),parentKey:Object(a("4dgq").w)(e),parentId:Object(a("4dgq").v)(e),issues:Object(a("DNQi").a)(e),isIssueViewComplete:Object(a("/LFc").n)(e),childIssuesLimitUrl:Object(a("d90y").isIssueViewAggChildPanelEnabled)()?Object(a("KSj7").b)(e)("portfolio-child-issues"):"",messages:Object(a("d90y").isIssueViewAggChildPanelEnabled)()?cO:dO,supportsIssueCreation:!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&void 0,
hasExceededIssuesLimitAfterLoad:!!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&pu(e)("portfolio-child-issues")})),(e=>({onNavigateToNewIssue:({fromIssueKey:t,toIssueKey:n})=>{Object(a("d90y").isFieldDescriptionEnabled)()&&__SPA__||e(Object(a("5JtD").c)({fromIssueKey:t,toIssueKey:n}))},onChange:t=>{switch(t.type){case gu.CHILD_ISSUE_ADDED:e(Object(a("7i6c").a)(t.meta.childIssue))}}})))])(df);const pO=()=>({setState:e,getState:t})=>{e({issueViewAddFormButtonClickedCount:t().issueViewAddFormButtonClickedCount+1})},mO=Object(a("0b8M").a)({name:"issue-forms",initialState:{issueViewAddFormButtonClickedCount:0},actions:i}),bO=Object(a("dq9g").a)(mO,{selector:e=>e.issueViewAddFormButtonClickedCount}),gO=({issueKey:e,onSuccess:t,onFailure:n})=>{const[s]=Object(a("MoW5").a)(e,"proforma-forms"),i=Za()(s.value,"schema.type","proforma-forms"),[{value:o,error:r}]=Object(a("35XP").a)({fieldKey:"proforma-forms",issueKey:e,fieldType:i,initialValue:{hasIssueForms:void 0,hasProjectForms:void 0},
onSuccess:t,onFailure:n}),[l,{onClickAddFormButton:c}]=bO();return[{value:{hasIssueForms:o.hasIssueForms,hasProjectForms:o.hasProjectForms,issueViewAddFormButtonClickedCount:l},error:r,fieldConfig:s},{onClickAddFormButton:c}]};var fO=Object(S.defineMessages)({heading:{id:"issue-view.forms-panel.heading",defaultMessage:"Forms"}});const hO=e=>{const t=Object(a("ovRs").j)(),[{canEditIssues:n}]=Object(a("AJ6X").d)(t),s=Object(a("AJ6X").a)(t),{issueKey:i}=e,o=Object(l.useRef)(null),[r,d]=Object(l.useState)(0),{formatMessage:u}=Object(a("NRyt").d)(),[{value:{hasIssueForms:p,issueViewAddFormButtonClickedCount:m}}]=gO({issueKey:Object(a("Rp3N").n)(i)});Object(l.useEffect)((()=>{m>0&&Object(a("eS/l").a)(o.current)}),[m]);let b=!1;Object(a("d90y").isProformaIssueViewEnabled)()&&(b=m>0||!0===p);return b?c.a.createElement("div",{ref:o},c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()
},c.a.createElement(a("vPcr").e,null,u(fO.heading)),c.a.createElement(a("vPcr").d,null,n&&c.a.createElement(a("QYt/").a,{label:"",onClick:()=>{d(r+1)}}))),c.a.createElement(a("n2+b").a,{canEditIssues:n,isProjectAdmin:s,panelAddFormButtonClickedCount:m+r})):null};var EO=Object(l.memo)(hO),yO=Object(S.defineMessages)({title:{id:"issue.subtasks-heading",defaultMessage:"Subtasks"},createSubtaskErrorHeader:{id:"issue.subtask-error-header",defaultMessage:"We couldn't create the subtask"},createSubtaskErrorContent:{id:"issue.subtask-error-content",defaultMessage:"Wait a few moments, then give it another try."}});const OO=["onNavigateToNewIssueDispatchProp"],vO=e=>{const t=e.onChange,n=Object(a("ovRs").h)(),[s,{setFieldValue:i}]=Object(a("j3bG").b)({issueKey:n,fieldKey:"subtasks"}),o=Object(l.useCallback)((e=>{switch(e.type){case gu.CHILD_ISSUE_ADDED:i(n,"subtasks",s.concat({id:e.meta.childIssue.id,key:e.meta.childIssue.issueKey}))}t(e)}),[s,n,t,i]);return c.a.createElement(df,j()({},e,{
onChange:o}))};vO.displayName="ConnectedComponent";var jO=Object(d.connect)((e=>({childIssuesPanelType:"classicSubtasks",parentId:Object(a("4dgq").v)(e),issueTypes:Object(a("bQbD").c)(e),issues:Object(a("OEhx").d)(e),childIssuesLimitUrl:Object(a("d90y").isIssueViewAggChildPanelEnabled)()?Object(a("KSj7").b)(e)("subtasks"):"",messages:yO,supportsIssueCreation:Object(a("OEhx").a)(e),quickAddClickCount:ql(e),isIssueViewComplete:Object(a("/LFc").n)(e),fetchIssueTypesStatus:Object(a("P82W").a)(e),hasExceededIssuesLimitAfterLoad:!!Object(a("d90y").isIssueViewAggChildPanelEnabled)()&&pu(e)("subtasks")})),(e=>({onChange:t=>{switch(t.type){case gu.CHILD_ISSUE_ADDED:e(Object(a("7i6c").g)(t.meta.childIssue,t.meta.fieldsData))}},onAddChildClick:()=>e(Object(a("7i6c").b)()),onNavigateToNewIssueDispatchProp:({fromIssueKey:t,toIssueKey:n})=>{__SPA__||e(Object(a("5JtD").c)({fromIssueKey:t,toIssueKey:n}))}})),((e,t)=>{const{onNavigateToNewIssueDispatchProp:n}=t,a=C()(t,OO)
;return r()(r()(r()({},e),a),{},{onNavigateToNewIssue:({fromIssueKey:e,toIssueKey:t})=>{n&&n({fromIssueKey:e,toIssueKey:t})}})}))(vO),IO=a("9nhX"),CO=a.n(IO);const SO=Object(S.defineMessages)({heading:{id:"issue.details.web-links.heading",defaultMessage:"Web links"},showMoreLabel:{id:"issue.details.web-links.show-more-label",defaultMessage:"{nextPageCount, plural, one {Show {nextPageCount} more} other {Show {nextPageCount} more}}"},webLinkAddedFlagTitle:{id:"issue.details.web-links.web-link-added-flag-title",defaultMessage:"We\u2019ve added your web link"},webLinkAddedFlagDescription:{id:"issue.details.web-links.web-link-added-flag-description",defaultMessage:"If you can\u2019t find the web link, go to the issue\u2019s web links section and select Show more."}});const kO=Object(S.defineMessages)({headerMessage:{id:"issue.details.web-links.delete-confirmation-modal.title",defaultMessage:"Delete the web link?"},contentMessage:{
id:"issue.details.web-links.delete-confirmation-modal.content",defaultMessage:"You can add the link later again if you need to."},confirmActionText:{id:"issue.details.web-links.delete-confirmation-modal.confirmation-text",defaultMessage:"Delete"},cancelActionText:{id:"issue.details.web-links.delete-confirmation-modal.cancellation-text",defaultMessage:"Cancel"}});const wO=({onDelete:e,onCancel:t})=>{const n=Object(a("NRyt").d)();return c.a.createElement(a("66ob").b,{appearance:"danger",headerMessage:n.formatMessage(kO.headerMessage),contentMessage:n.formatMessage(kO.contentMessage),confirmActionText:n.formatMessage(kO.confirmActionText),cancelActionText:n.formatMessage(kO.cancelActionText),onConfirm:e,onCancel:t})};wO.displayName="DeleteModal";const TO=({intl:e,onDelete:t,onCancel:n})=>c.a.createElement(a("66ob").b,{appearance:"danger",headerMessage:e.formatMessage(kO.headerMessage),contentMessage:e.formatMessage(kO.contentMessage),
confirmActionText:e.formatMessage(kO.confirmActionText),cancelActionText:e.formatMessage(kO.cancelActionText),onConfirm:t,onCancel:n});TO.displayName="DeleteModalOld";var DO=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,wO,Object(S.injectIntl)(TO)),RO=a("je4i"),LO=Object(S.defineMessages)({createErrorHeading:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.create-error-heading",defaultMessage:"We couldn't create the web link"},deleteErrorHeading:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.delete-error-heading",defaultMessage:"We couldn't delete the web link"},errorBody:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.create-error-body",defaultMessage:"Wait a few moments, then give it another try."},retryAction:{id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.retry-action",defaultMessage:"Try again"},cancelAction:{
id:"issue-view.views.common.web-link-line-card-group.line-card.error-message.cancel-action",defaultMessage:"Cancel"}});const MO=e=>e.stopPropagation(),AO=({errorHeading:e,errorBody:t,onRetry:n,onCancel:s})=>{const i=Object(a("NRyt").d)();return c.a.createElement("div",{onClick:MO,onKeyPress:MO},zb(i,i.formatMessage(e),i.formatMessage(t),n,s))};AO.displayName="ErrorMessage";const _O=({errorHeading:e,errorBody:t,onRetry:n,onCancel:a,intl:s})=>c.a.createElement("div",{onClick:MO,onKeyPress:MO},zb(s,s.formatMessage(e),s.formatMessage(t),n,a));_O.displayName="ErrorMessageOld";var NO=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,De()([Object(a("QURJ").a)("webLinks",{onRetry:"retry"}),Object(d.connect)(null,((e,{webLink:t})=>({onCreateWebLinkRetry:()=>{e(Object(a("+VYr").d)(t.id))},onCreateWebLinkCancel:()=>{e(Object(a("+VYr").f)(t.id))},onDeleteWebLinkRetry:()=>{e(Object(a("+VYr").h)(t.id))},onDeleteWebLinkCancel:()=>{e(Object(a("+VYr").a)(t.id))}})),((e,t,n)=>({
errorHeading:!0===n.webLink.createFailed?LO.createErrorHeading:LO.deleteErrorHeading,errorBody:LO.errorBody,onRetry:(e,s,i)=>{!0===n.webLink.createFailed?(t.onCreateWebLinkRetry(),Object(a("QqZT").a)(i,{name:"createRetry"})):(t.onDeleteWebLinkRetry(),Object(a("QqZT").a)(i,{name:"deleteRetry"}))},onCancel:!0===n.webLink.createFailed?t.onCreateWebLinkCancel:t.onDeleteWebLinkCancel})))])(AO),De()([Object(a("QURJ").a)("webLinks",{onRetry:"retry"}),Object(d.connect)(null,((e,{webLink:t})=>({onCreateWebLinkRetry:()=>{e(Object(a("+VYr").d)(t.id))},onCreateWebLinkCancel:()=>{e(Object(a("+VYr").f)(t.id))},onDeleteWebLinkRetry:()=>{e(Object(a("+VYr").h)(t.id))},onDeleteWebLinkCancel:()=>{e(Object(a("+VYr").a)(t.id))}})),((e,t,n)=>({intl:n.intl,errorHeading:!0===n.webLink.createFailed?LO.createErrorHeading:LO.deleteErrorHeading,errorBody:LO.errorBody,onRetry:(e,s,i)=>{!0===n.webLink.createFailed?(t.onCreateWebLinkRetry(),Object(a("QqZT").a)(i,{name:"createRetry"})):(t.onDeleteWebLinkRetry(),
Object(a("QqZT").a)(i,{name:"deleteRetry"}))},onCancel:!0===n.webLink.createFailed?t.onCreateWebLinkCancel:t.onDeleteWebLinkCancel}))),S.injectIntl])(_O));const xO=T.default.div.withConfig({componentId:"sc-11glk4w-0"})`display:flex;align-items:center;`,UO=Object(T.default)(xO).withConfig({componentId:"sc-11glk4w-1"})`width:100%;height:100%;position:relative;`,FO=T.default.div.withConfig({componentId:"sc-11glk4w-2"})`flex:1;overflow:hidden;align-items:center;`,PO=T.default.div.withConfig({componentId:"sc-11glk4w-3"})`flex-grow:1;overflow:hidden;align-items:left;`,VO=T.default.div.withConfig({componentId:"sc-11glk4w-4"})`flex-shrink:0;max-width:80%;overflow:hidden;align-items:left;`,KO=T.default.div.withConfig({componentId:"sc-11glk4w-5"})`flex-grow:1;overflow:hidden;align-items:left;`,$O=T.default.div.withConfig({componentId:"sc-11glk4w-6"
})`${e=>e.isFocused&&`color: ${a("5kDX").a.B400};`} padding-left:${a("ZpU/").e}px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;${e=>!0===e.isResolved&&"text-decoration: line-through;"} ${e=>!0===e.isResolved&&`color: ${a("5kDX").a.N200};`}`,WO=T.default.div.withConfig({componentId:"sc-11glk4w-7"})`${e=>e.isFocused&&`color: ${a("5kDX").a.B400};`} padding-left:${a("ZpU/").e}px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:${a("5kDX").a.N200};`,BO=T.default.div.withConfig({componentId:"sc-11glk4w-8"})`display:inline-flex;flex-shrink:0;margin-left:${a("ZpU/").e/4}px;margin-right:${a("ZpU/").e/4}px;`,qO=e=>!(!e.createFailed&&!e.deleteFailed);class HO extends l.Component{constructor(...e){super(...e),this.state={validIconUrl:!1},this.onDeleteClick=e=>{const{onDelete:t,webLink:{id:n}}=this.props;e.stopPropagation(),t(n)}}componentDidMount(){const{iconUrl:e}=this.props.webLink;if(this.props.webLink.deleteFailed){
const{onDeleteWebLinkRetry:e,onDeleteWebLinkCancel:t}=this.props;this.showErrorFlag(LO.deleteErrorHeading,e,t),a("RDfz").a.safeErrorWithoutCustomerData("issue-view.web-links.line-card","failedToDelete")}if(null!=e){const t=new Image;t.onload=()=>this.setState({validIconUrl:!0}),t.onerror=()=>this.setState({validIconUrl:!1}),t.src=e}}componentDidUpdate(e){if(!e.webLink.createFailed&&this.props.webLink.createFailed){const{onCreateWebLinkRetry:e,onCreateWebLinkCancel:t}=this.props;this.showErrorFlag(LO.createErrorHeading,e,t),a("RDfz").a.safeErrorWithoutCustomerData("issue-view.web-links.line-card","failedToCreate")}}showErrorFlag(e,t,n){const{showFlag:s,dismissFlag:i}=this.props,o=Object(a("32OE").c)(Object(RO.generate)());s(((e,t,n,a)=>({id:e,title:t,description:LO.errorBody,type:"warning",isAutoDismiss:!0,actions:[{content:LO.retryAction,onClick:n},{content:LO.cancelAction,onClick:a}]}))(o,e,(()=>{i({id:o,command:"DISMISS"}),t()}),(()=>{i({id:o,command:"DISMISS"}),n()})))}
shouldRenderDeleteButton(){const{webLink:e,canDelete:t}=this.props;return t&&!(e.isCreating||qO(e))}renderLinkIcon(){const{webLink:{iconUrl:e,linkText:t=""}}=this.props;return this.state.validIconUrl?c.a.createElement(a("1JKq").a,{src:e,size:"small",appearance:"square"}):c.a.createElement(BO,null,c.a.createElement(a.n(a("lgle")).a,{label:t}))}renderLinkTextOld(){const{webLink:e,isFocused:t}=this.props,{linkText:n,href:s}=e;return c.a.createElement(FO,null,c.a.createElement(a("Yto1").a,{content:s,truncate:!0,position:"bottom"},c.a.createElement($O,{isFocused:t,isResolved:e.resolved},n||s)))}renderLinkText(){const{webLink:{linkText:e,href:t,summary:n,resolved:s},isFocused:i}=this.props,o=null==n?PO:VO,r=e===t||Xm()(e)?`${t}`:`${t} - ${e}`;return c.a.createElement(o,null,c.a.createElement(a("Yto1").a,{content:r,position:"bottom"},c.a.createElement($O,{isFocused:i,isResolved:s},e||t)))}renderLinkSummary(){const{webLink:{summary:e,href:t},isFocused:n}=this.props,s=Xm()(e)?t:`${t} - ${e}`
;return Xm()(e)?null:c.a.createElement(KO,null,c.a.createElement(a("Yto1").a,{content:s,position:"bottom"},c.a.createElement(WO,{isFocused:n},e||t)))}renderDeleteButton(){const{isHovering:e,isFocused:t}=this.props;return c.a.createElement(vf,{show:e||t,onClick:this.onDeleteClick})}render(){const{webLink:e}=this.props,t={"data-testId":"issue.views.common.web-link.line-card.card-container"};return Object(a("d90y").isWebAndIssueLinkSummaryEnabled)()?c.a.createElement(UO,t,this.renderLinkIcon(),this.renderLinkText(),this.renderLinkSummary(),this.shouldRenderDeleteButton()&&this.renderDeleteButton(),qO(e)&&c.a.createElement(NO,{webLink:e})):c.a.createElement(UO,t,this.renderLinkIcon(),this.renderLinkTextOld(),this.shouldRenderDeleteButton()&&this.renderDeleteButton(),qO(e)&&c.a.createElement(NO,{webLink:e}))}}HO.displayName="WebLinkLineCard";var GO=HO;const YO=e=>c.a.createElement(a("nWQD").a,null,(({showFlag:t,dismissFlag:n})=>c.a.createElement(GO,j()({showFlag:t,dismissFlag:n},e))))
;YO.displayName="WithFlagSubscriber";var ZO=De()([Object(a("QURJ").a)("webLinks",{onCreateWebLinkRetry:"retry",onDeleteWebLinkRetry:"retry"}),Object(d.connect)(null,((e,{webLink:t})=>({onCreateWebLinkRetry:n=>{e(Object(a("+VYr").d)(t.id)),Object(a("QqZT").a)(n,{name:"createRetry"})},onCreateWebLinkCancel:()=>{e(Object(a("+VYr").f)(t.id))},onDeleteWebLinkRetry:n=>{e(Object(a("+VYr").h)(t.id)),Object(a("QqZT").a)(n,{name:"deleteRetry"})},onDeleteWebLinkCancel:()=>{e(Object(a("+VYr").a)(t.id))}})))])(YO);const XO=T.default.div.withConfig({componentId:"fjuhoc-0"})`div[class*='item-line-card-view__Card']:focus{border-bottom-color:${a("5kDX").a.N30};}`,JO=e=>{const[t,n]=Object(l.useState)(!1),[s,i]=Object(l.useState)(null),o=e=>{n(!0),i(e)},r=()=>{n(!1),i(null)},d=r,{canDelete:u}=e;return c.a.createElement(XO,null,c.a.createElement(a("gV9P").a,{onMount:t=>Object(a("yy8q").b)(t,"webLinkLineCardGroup rendered",{linkCount:e.links.length})}),c.a.createElement(a("a0QS").a,{items:e.links,
groupId:"web-links",onClick:(t,n)=>{e.onClick&&e.onClick(t,n),n&&n.currentTarget&&n.currentTarget.blur(),(e=>{e.href&&window.open(e.href,"_blank")})(t)}},((e,t,n,a)=>(({link:e,isHovering:t,isFocused:n})=>c.a.createElement(ZO,{webLink:e,isHovering:t,isFocused:n,onDelete:o,canDelete:u}))({link:a,isHovering:e,isFocused:n}))),t?c.a.createElement(DO,{onDelete:()=>{s&&e.onDelete(s),r()},onCancel:d}):null)};JO.displayName="WebLinkLineCardGroup";var zO=JO;const QO=De()([Object(a("QURJ").a)("webLinkCard",{onClick:"clicked",onDelete:"deleted"}),Object(a("4zF2").a)({onClick:"visitWebLink",onDelete:"deleteWebLink"}),Object(d.connect)(null,(e=>({onDelete:t=>e(Object(a("+VYr").h)(t))})))])(zO),ev=e=>c.a.createElement(a("LefY").b,{id:"^web-links-card-group"},c.a.createElement(QO,e));ev.displayName="ConnectedView";var tv=ev;const nv=Object(S.defineMessages)({label:{id:"issue.web-links-add-label",defaultMessage:"Link to a web page"}}),av=T.default.span.withConfig({componentId:"vv7x55-0"
})`margin-left:auto;`,sv=({onClick:e})=>{const t=Object(a("NRyt").d)();return c.a.createElement(av,{"data-testId":"issue.views.issue-base.content.web-links.add-button"},c.a.createElement(a("QYt/").a,{label:t.formatMessage(nv.label),onClick:e}))};sv.displayName="AddButton";var iv=sv,ov=a("GBY4"),rv=a.n(ov);const lv="null",cv=e=>{const t=e.trim(),n=t.match(/^.+:\/\//),a=n?n[0]:n;return!![null,"http://","https://"].includes(a)&&!(t.length<2+((null==a?void 0:a.length)||0))},dv=T.default.span.withConfig({componentId:"gfz1xh-0"})`color:${a("5kDX").a.N300};font-weight:600;font-size:${1.5*a("ZpU/").e}px;`,uv=T.default.div.withConfig({componentId:"gfz1xh-1"})`flex:auto;`,pv=["headingText"],mv=e=>{let{headingText:t}=e,n=C()(e,pv);return c.a.createElement(uv,null,c.a.createElement(dv,null,t),c.a.createElement(a("I4Rc").a,n))};mv.displayName="InlineField";var bv=Object(S.defineMessages)({url:{id:"issue.views.web-links.addLink.label.url",defaultMessage:"URL"},linkText:{
id:"issue.views.web-links.addLink.label.linkText",defaultMessage:"Link text"},linkTextPlaceholder:{id:"issue.views.web-links.addLink.label.linkTextPlaceholder",defaultMessage:"Add a description..."},invalidUrlMessage:{id:"issue.views.web-links.addLink.label.invalidUrlMessage",defaultMessage:"Enter a valid URL starting with http:// or https://"},errorIconLabel:{id:"issue.views.web-links.addLink.label.errorIcon",defaultMessage:"Error icon"}});const gv=T.default.div.withConfig({componentId:"dfy01n-0"})`margin-top:${2*a("ZpU/").e}px;display:flex;`,fv=T.default.div.withConfig({componentId:"dfy01n-1"})`margin-right:${a("ZpU/").e}px;flex:1;`,hv=T.default.div.withConfig({componentId:"dfy01n-2"})`margin-left:${a("ZpU/").e}px;flex:1;`,Ev=T.default.div.withConfig({componentId:"dfy01n-3"})`align-items:center;color:${e=>e.colour};display:flex;margin-top:${a("ZpU/").e/2}px;`,yv=T.default.div.withConfig({componentId:"dfy01n-4"})`margin-left:${a("ZpU/").e/2}px;`;class Ov extends l.Component{
constructor(...e){super(...e),this.state={isHrefFocused:!0}}render(){const{href:e,linkText:t,onHrefChange:n,intl:s,onLinkTextChange:i,isHrefValid:o}=this.props;return c.a.createElement(gv,null,c.a.createElement(fv,null,c.a.createElement(mv,{value:e,headingText:s.formatMessage(bv.url),autoFocus:!0,placeholder:"https://www.example.com",onChange:n,onBlur:()=>{this.setState({isHrefFocused:!1})},onFocus:()=>this.setState({isHrefFocused:!0}),isInvalid:!o,testId:"issue.views.issue-base.content.web-links.create-link.inline-fields.url"}),!o&&!this.state.isHrefFocused&&c.a.createElement(Ev,{colour:a("5kDX").a.R400},c.a.createElement(a.n(a("425I")).a,{label:s.formatMessage(bv.errorIconLabel),role:"presentation"}),c.a.createElement(yv,null,s.formatMessage(bv.invalidUrlMessage)))),c.a.createElement(hv,null,c.a.createElement(mv,{value:t,headingText:s.formatMessage(bv.linkText),autoFocus:!1,placeholder:s.formatMessage(bv.linkTextPlaceholder),onChange:i,
testId:"issue.views.issue-base.content.web-links.create-link.inline-fields.text"})))}}Ov.displayName="InlineFields";var vv=Object(S.injectIntl)(Ov),jv=Object(S.defineMessages)({linkButton:{id:"issue.views.web-links.link.link-button",defaultMessage:"Link"},cancelButton:{id:"issue.views.web-links.link.cancel-button",defaultMessage:"Cancel"}});T.default.div.withConfig({componentId:"sc-97w2lf-0"})`display:flex;align-items:center;background-color:${a("5kDX").a.N10};width:100%;`,T.default.div.withConfig({componentId:"sc-97w2lf-1"})`flex-grow:1;`;const Iv=Object(T.default)(a("340+").a).withConfig({componentId:"sc-97w2lf-2"})`margin-left:${a("ZpU/").e}px !important;`,Cv=T.default.div.withConfig({componentId:"sc-97w2lf-3"})`margin-top:${a("ZpU/").e}px;display:flex;justify-content:flex-end;`,Sv={href:"",linkText:"",isDisabled:!0,isHrefValid:!0};class kv extends l.Component{constructor(...t){super(...t),this.state=Sv,this.onChildContainerRefSet=e=>{this.childContainer=e},this.onHrefChange=e=>{
const t=e.target.value;this.updateDisabledState(t),this.setState({href:t,isHrefValid:cv(t)})},this.onLinkTextChange=e=>{const t=e.target.value.slice(0,255);t!==this.state.linkText&&(this.updateDisabledState(this.state.href),this.setState({linkText:t}))},this.onSubmit=()=>{const{href:t,linkText:n}=this.state,s=(t=>{let n;try{const e=decodeURI(t);return n=encodeURI(e),n}catch(e){n=encodeURI(t)}return n})((e=>/^https?:\/\//.test(e)?e:`http://${e}`)(t.trim())),i=(e=>{const{origin:t}=new rv.a(e.trim(),lv),n=t===lv?"":`${t}/favicon.ico`;return Object(a("Rp3N").k)(n)})(s);this.props.onSubmit(s,Xm()(n.trim())?s:n.trim(),i)},this.childContainer=void 0,this.closeAndReset=()=>{this.resetState(),this.props.onCancel()}}componentDidMount(){Object(a("eS/l").a)(this.childContainer),this.updateDisabledState(this.state.href)}componentDidUpdate(e){this.props.createLinkClickedCount!==e.createLinkClickedCount&&(Object(a("eS/l").a)(this.childContainer),this.focusOnInput()),
this.props.linkedPagesCount>e.linkedPagesCount&&(this.resetState(),this.focusOnInput())}focusOnInput(){if(null!==this.childContainer){const e=this.childContainer.querySelector("input");null!==e&&e.focus()}}updateDisabledState(e){const t=Xm()(e)||!cv(e);this.setState({isDisabled:t})}resetState(){this.setState(Sv)}render(){const{intl:{formatMessage:e}}=this.props,{href:t,linkText:n,isDisabled:s,isHrefValid:i}=this.state,o=s?null:this.onSubmit;return c.a.createElement("div",{ref:this.onChildContainerRefSet},c.a.createElement(a("iAtd").a,{onEscape:this.closeAndReset,onEnter:o},c.a.createElement(vv,{href:t,linkText:n,isHrefValid:i,onHrefChange:this.onHrefChange,onLinkTextChange:this.onLinkTextChange})),c.a.createElement(Cv,null,c.a.createElement(Iv,{appearance:"primary",onClick:this.onSubmit,isDisabled:s,testId:"issue.views.issue-base.content.web-links.create-link.submit-button"},e(jv.linkButton)),c.a.createElement(Iv,{appearance:"subtle",onClick:this.closeAndReset,
testId:"issue.views.issue-base.content.web-links.create-link.cancel-button"},e(jv.cancelButton))))}}kv.displayName="WebLinkCreateLinkView";var wv=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("button",{onSubmit:"clicked",onCancel:"clicked"}),Object(a("4zF2").a)({onSubmit:"webLinkSubmit",onCancel:"webLinkCancel"}),Object(d.connect)((e=>({linkedPagesCount:Object(a("anlJ").f)(e),createLinkClickedCount:Object(a("anlJ").c)(e)})),(e=>({onCancel:()=>e(Object(a("+VYr").j)()),onSubmit:(t,n,s)=>e(Object(a("+VYr").c)(Object(a("Rp3N").k)(t),n,s))})))])(kv);const Tv=T.default.div.withConfig({componentId:"sc-17qx2ju-0"})`margin:${a("ZpU/").e}px 0;padding-right:1px;`,Dv=Object(T.default)(a("340+").a).withConfig({componentId:"sc-17qx2ju-1"})`margin-top:${a("ZpU/").e/2}px;padding-left:0 !important;padding-right:0 !important;`;class Rv extends l.Component{renderHeading(){
const{intl:e,isCreateWebLinkOpened:t,onAddButtonClicked:n,links:s,canAddWebLinks:i,applicationName:o,applicationId:r}=this.props,l=Boolean(s&&s.length),d=null==r||""===(null==r?void 0:r.trim());return t||l?c.a.createElement(a("vPcr").c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},c.a.createElement(a("vPcr").e,null,d?e.formatMessage(SO.heading):o),c.a.createElement(a("vPcr").d,null,i&&d&&c.a.createElement(iv,{onClick:n}))):null}renderLineCards(){const{links:e,canAddWebLinks:t}=this.props;return e&&e.length?c.a.createElement(Tv,null,c.a.createElement(tv,{links:e,canDelete:t})):null}renderCreateLinkView(){const{applicationId:e,isCreateWebLinkOpened:t}=this.props;return(null==e||""===(null==e?void 0:e.trim()))&&t?c.a.createElement(wv,null):null}renderShowMore(){const{onShowMore:e,nextPageCount:t,intl:n}=this.props;return c.a.createElement(Dv,{appearance:"link",onClick:e,testId:"issue.views.issue-base.content.web-links.show-more-link"
},n.formatMessage(SO.showMoreLabel,{nextPageCount:t}))}render(){const{applicationId:e,nextPageCount:t}=this.props,n="string"==typeof e?e:"generic";return c.a.createElement("div",{"data-testid":`issue.views.issue-base.content.web-links.top-container.scope-${n}`},this.renderHeading(),this.renderLineCards(),t>0&&this.renderShowMore(),this.renderCreateLinkView())}}Rv.displayName="WebLinksView";const Lv=e=>{const t=Object(a("NRyt").d)(),{createAnalyticsEvent:n}=Object(a("rZ/p").a)(),[s,i]=Object(l.useState)(0),{links:o}=e,r=Object(l.useCallback)((()=>{i(s+1);const e=n({action:"clicked",actionSubject:"button"});Object(a("yy8q").h)(e,"webLinksShowMore",{currentPage:s})}),[n,s]),d=10+50*s,u=Object(l.useMemo)((()=>o.slice(0,d)),[o,d]),p=Object(l.useMemo)((()=>CO()(o.length-d,0,50)),[o.length,d]),m=o.filter((e=>null==e.isCreating||!e.isCreating)).length,b=Object(l.useRef)(m),{showFlag:g}=Object(a("uS5k").f)();return Object(l.useEffect)((()=>{b.current>0&&m>10&&m>b.current&&g({type:"success",
title:SO.webLinkAddedFlagTitle,description:SO.webLinkAddedFlagDescription}),b.current=m}),[m,g]),c.a.createElement(Rv,j()({},e,{intl:t,links:u,nextPageCount:p,onShowMore:r}))};Lv.displayName="PaginationAwareView";const Mv=e=>{const{createAnalyticsEvent:t}=Object(a("rZ/p").a)(),[n,s]=Object(l.useState)(0),{links:i}=e,o=Object(l.useCallback)((()=>{s(n+1);const e=t({action:"clicked",actionSubject:"button"});Object(a("yy8q").h)(e,"webLinksShowMore",{currentPage:n})}),[t,n]),r=10+50*n,d=Object(l.useMemo)((()=>i.slice(0,r)),[i,r]),u=Object(l.useMemo)((()=>CO()(i.length-r,0,50)),[i.length,r]),p=i.filter((e=>null==e.isCreating||!e.isCreating)).length,m=Object(l.useRef)(p),{showFlag:b}=Object(a("uS5k").f)();return Object(l.useEffect)((()=>{m.current>0&&p>10&&p>m.current&&b({type:"success",title:SO.webLinkAddedFlagTitle,description:SO.webLinkAddedFlagDescription}),m.current=p}),[p,b]),c.a.createElement(Rv,j()({},e,{links:d,nextPageCount:u,onShowMore:o}))};Mv.displayName="PaginationAwareViewOld"
;const Av=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,De()([Object(a("4zF2").a)({onAddButtonClicked:"addWebLink"}),Object(d.connect)(((e,t)=>{const{applicationId:n}=t;return{isCreateWebLinkOpened:Object(a("anlJ").d)(e),links:Object(a("anlJ").h)(e,n),canAddWebLinks:Object(a("anlJ").b)(e)}}),(e=>({onAddButtonClicked:()=>e(Object(a("+VYr").k)())})))])(Lv),De()([S.injectIntl,Object(a("4zF2").a)({onAddButtonClicked:"addWebLink"}),Object(d.connect)(((e,t)=>{const{applicationId:n}=t;return{isCreateWebLinkOpened:Object(a("anlJ").d)(e),links:Object(a("anlJ").h)(e,n),canAddWebLinks:Object(a("anlJ").b)(e)}}),(e=>({onAddButtonClicked:()=>e(Object(a("+VYr").k)())})))])(Mv)),_v=e=>c.a.createElement(a("LefY").b,{id:"^web-links-general-container"},c.a.createElement(Av,e));_v.displayName="ConnectedView";var Nv=_v;class xv extends l.Component{maybeWrapInSectionWrapper(e){const{isCompactMode:t}=this.props;return e?c.a.createElement(Kl,{isCompactMode:t},e):e}
renderEcosystemContentPanels(){const{contentPanels:e,isCompactMode:t}=this.props,n=e.map((e=>{if("FORGE_ENTITY_TYPE"===e.type){const{name:n,appKey:s,moduleKey:i,dateAdded:o,panelInstanceId:r,extension:l}=e,d=Object(a("UKEq").g)(s,i,r,o);return c.a.createElement(yc,{key:d,panelKey:d,name:n,appKey:s,moduleKey:i,extension:l,isCompactMode:t,externalId:"issue.ecosystem.content-panel.forge"})}return c.a.createElement(pc,{key:e.name,name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,externalId:"issue.ecosystem.content-panel"})}));return c.a.createElement(c.a.Fragment,null,n)}renderAdditionalWebLinksSections(){const{additionalWebLinksSections:e}=this.props;return c.a.createElement(c.a.Fragment,null,e.length>0&&c.a.createElement(a("02VO").c,{eventName:"additionalWebLinksSections shown",componentName:"additionalWebLinksSections"}),e.map((({applicationId:e,applicationName:t})=>c.a.createElement(l.Fragment,{key:e},this.maybeWrapInSectionWrapper(c.a.createElement(Nv,{applicationId:e,
applicationName:t}))))))}render(){const{isComplete:e,isCompactMode:t,issueKey:n,isEpic:s,hasIssueLinks:i,hasSubtasks:o,hasChildrenIssues:r,shouldRenderChildrenIssues:l,shouldRenderPortfolioChildrenIssues:d,shouldRenderSubtasks:u,hasPortfolioChildIssues:p,isServiceDesk:m}=this.props,b=i?c.a.createElement(Qy,null):null;let g=null,f=null,h=null;Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?(g=u?c.a.createElement(jO,{key:n}):null,f=l?c.a.createElement(bf,{key:n}):null,h=d?c.a.createElement(uO,{key:n}):null):(g=o?c.a.createElement(jO,{key:n}):null,f=r?c.a.createElement(bf,{key:n}):null,h=p?c.a.createElement(uO,{key:n}):null);const E=s?c.a.createElement(EE,{key:n}):null,y=e?c.a.createElement(uu,null):null;return c.a.createElement($l,{isCompactMode:t
},c.a.createElement(lr,null),this.maybeWrapInSectionWrapper(y),this.maybeWrapInSectionWrapper(E),this.maybeWrapInSectionWrapper(f),this.maybeWrapInSectionWrapper(h),this.maybeWrapInSectionWrapper(g),this.maybeWrapInSectionWrapper(c.a.createElement(rO,null)),this.maybeWrapInSectionWrapper(b),Object(a("d90y").isIIVinJSMEnabled)()&&m&&this.maybeWrapInSectionWrapper(c.a.createElement(kE,null)),this.maybeWrapInSectionWrapper(c.a.createElement(lO,null)),this.maybeWrapInSectionWrapper(c.a.createElement(Vl,null)),this.maybeWrapInSectionWrapper(c.a.createElement(pE,null)),this.maybeWrapInSectionWrapper(c.a.createElement(Nv,null)),this.renderAdditionalWebLinksSections(),this.maybeWrapInSectionWrapper(this.renderEcosystemContentPanels()),this.maybeWrapInSectionWrapper(c.a.createElement(eO,null)),Object(a("d90y").isProformaIssueViewEnabled)()&&this.maybeWrapInSectionWrapper(c.a.createElement(EO,{issueKey:n})))}}xv.displayName="ContentItems",xv.displayName="ContentItems",xv.defaultProps={
isComplete:!1,isCompactMode:!1,isEpic:!1,hasIssueLinks:!1,hasSubtasks:!1,hasPortfolioChildIssues:!1,hasChildrenIssues:!1,contentPanels:[],additionalWebLinksSections:[]};var Uv=Object(d.connect)((e=>({issueKey:Object(a("4dgq").w)(e),contentPanels:Object(a("mIpc").f)(e),isComplete:Object(a("/LFc").n)(e),isEpic:Object(a("/LFc").q)(e),hasIssueLinks:Object(a("KSj7").z)(e),hasSubtasks:Object(a("KSj7").C)(e),hasPortfolioChildIssues:Object(a("KSj7").B)(e),hasChildrenIssues:Object(a("KSj7").y)(e),shouldRenderChildrenIssues:Zl(e),shouldRenderSubtasks:Xl(e),shouldRenderPortfolioChildrenIssues:Jl(e),additionalWebLinksSections:Object(a("anlJ").a)(e),isServiceDesk:Object(a("/LFc").t)(e)})),{})(xv);const Fv="issue.views.issue-base.context.tab-panel";var Pv=(e,t)=>{const n=Object(a("oUkA").a)();return e.reduce(((e,s)=>{switch(s.type){case"FIELD":{const i=Object(a("eNla").a)(Object(a("KSj7").v)(s.id,t))
;if(!i||!Object.keys(n).includes(i))return a("fnbV").a.safeErrorWithoutCustomerData(Fv,`Could not find a matching component for field '${i||"(unknown type)"}' with id '${s.id}'`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue"})),e;const o=n[i].item,r=c.a.createElement(o,{key:s.id,fieldId:s.id,area:"tab-panel"});return e.push({fieldType:i,component:r}),e}default:return a("fnbV").a.safeErrorWithoutCustomerData(Fv,`Unknown tab item '${JSON.stringify(s)}'`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue"})),e}}),[])};const Vv=T.default.div.withConfig({componentId:"sc-189sz4d-0"})`flex-shrink:0;background:${a("5kDX").a.N0};outline:0;min-height:40px;`,Kv=T.default.div.withConfig({componentId:"sc-189sz4d-1"
})`display:flex;align-items:center;position:relative;box-sizing:border-box;box-shadow:inset 0 ${-2}px 0 0 ${a("5kDX").a.N30};margin-left:${-a("wUly").c}px;padding-left:${a("wUly").c}px;${({maxWidth:e})=>`max-width: ${e}px;`} &:hover{cursor:pointer;}&:focus{box-shadow:inset 0 0 0 ${2}px ${a("5kDX").a.B100};outline:0;}`,$v=T.default.div.withConfig({componentId:"sc-189sz4d-2"})`height:100%;display:inline-block;width:100%;${({maxWidth:e})=>`max-width: ${e}px;`}`,Wv=T.default.button.withConfig({componentId:"sc-189sz4d-3"})`display:flex;height:28px;width:28px;border:none;border-radius:50%;background:${a("5kDX").a.N30};color:${a("5kDX").a.N60};align-items:center;padding-left:2px;margin-left:${a("ZpU/").e/2}px;&:hover{cursor:pointer;}`;var Bv=Object(S.defineMessages)({emptyStateHeader:{id:"issue.context.tab-panel.empty-state.header",defaultMessage:"No fields to show"},emptyStateMessage:{id:"issue.context.tab-panel.empty-state.message",
defaultMessage:"If you expect to see fields here, ask your Jira admin to check permissions and field configuration."},emptyStateMessageAdmin:{id:"issue.context.tab-panel.empty-state.message.admin",defaultMessage:"If you expect to see fields here, check your permission and field configuration settings."}});const qv=T.default.div.withConfig({componentId:"sc-1xqv8ny-0"})`padding:${2*a("ZpU/").e}px ${a("ZpU/").e}px ${a("ZpU/").e}px ${1.25*a("ZpU/").e}px;overflow:auto;height:100%;`;class Hv extends l.Component{componentDidMount(){const{renderedItems:e,tabItems:t}=this.props,n=new Set(e.map((e=>e.fieldType))),a=t.map((e=>e.id)).filter((e=>!n.has(e)));this.props.onComponentMounted({renderedFieldsCount:n.size,unrenderedFieldsCount:a.length,unrenderedFieldTypes:a.join(",")})}render(){const{renderedItems:e,isProjectAdmin:t,contentWidth:n,intl:{formatMessage:s}}=this.props;return e.every((e=>null==e.component))?c.a.createElement(a("FuwG").a,{size:"narrow",isSubtle:!0,
header:s(Bv.emptyStateHeader),description:s(t?Bv.emptyStateMessageAdmin:Bv.emptyStateMessage)}):c.a.createElement(qv,null,c.a.createElement($v,{maxWidth:n},e.map((e=>e.component))))}}Hv.displayName="TabPanel";var Gv=Object(a("v5q+").a)([S.injectIntl,Object(a("QURJ").a)("fieldTab",{onComponentMounted:"rendered"}),Object(d.connect)(((e,t)=>({onComponentMounted:(e,n)=>{Object(a("QqZT").a)(n,{name:t.panelKey,attributes:r()({contextPanelType:t.type},e)})}})),{})])(Hv),Yv=Object(a("v5q+").a)([Object(a("9MLi").a)({attributes:{contextPanelType:"TAB"}}),Object(d.connect)(((e,{type:t,panelKey:n,payload:{tabItems:s}})=>({renderedItems:Pv(s,Object(a("KSj7").t)(e)),tabItems:s,type:t,panelKey:n,isProjectAdmin:Object(a("nGHA").c)(e)})),{})])(Gv);const Zv=e=>{const{refs:t}=e,n=Object(a("ovRs").h)(),[s]=Object(a("pvIb").d)(n),[,{setIssueViewLayoutContextPanel:i}]=Object(a("pvIb").b)(),o=Object(a("oUkA").a)(),r=void 0!==s,d=Object(l.useCallback)((()=>{i(n,void 0)}),[n,i]);let u=null;if(s){
const e=o[s.type];u="TAB"===s.type?Yv:e&&e.panel}return c.a.createElement(a("LefY").b,{id:"issue.issue-view.issue-base.context.context-panel"},c.a.createElement(a("LHLl").a,{refs:t,isOpen:r},(e=>c.a.createElement(c.a.Fragment,null,c.a.createElement(Vv,{"data-test-id":"issue.views.issue-base.context.context-panel.back"},c.a.createElement(Kv,{maxWidth:e.headerWidth,onClick:d,tabIndex:"0"},c.a.createElement(Wv,null,c.a.createElement(a.n(a("TUgI")).a,{size:"medium",label:"Return"})),c.a.createElement(a("/QDG").c,null,s&&s.title))),u&&s?c.a.createElement(u,{contentWidth:e.contentWidth,type:s.type,panelKey:s.key,payload:s.payload}):null))))};Zv.displayName="ContextPanel",Zv.displayName="ContextPanel";const Xv=T.default.div.withConfig({componentId:"sc-71mhyq-0"})`${({panelWidth:e})=>`min-width: ${e}px;`};width:100%;height:100%;overflow:auto;position:relative;padding:${a("ZpU/").e}px;`,Jv=(e,t)=>{
const n=e.appKey!==t.appKey,a=e.moduleKey!==t.moduleKey,s=e.statusCategory!==t.statusCategory,i=e.refreshedOn!==t.refreshedOn,o=e.styles!==t.styles;return!(n||a||s||o||i)},zv=Object(l.memo)((({refreshedOn:e=0,onGlanceHideAnalytics:t=p.a,appKey:n,moduleKey:s,glance:i,styles:o,statusCategory:r})=>{if(!i)return null;const[d,u]=Object(l.useState)(window.connectHost),m=Object(a("ovRs").h)(),[,{setIssueViewLayoutGlance:b}]=Object(a("pvIb").b)(),{options:{origin:g}}=i;Object(l.useEffect)((()=>{d||(a("fnbV").a.safeInfoWithoutCustomerData("issue.ecosystem.glance.panel","Delayed initialization of ecosystem glance panel"),Object(a("c1BK").b)((e=>u(e))))}),[d]);const f=Object(a("zJdM").b)({isAutoresizeBugfixEnabled:!0});return c.a.createElement(c.a.Fragment,null,c.a.createElement(Vv,null,c.a.createElement(Kv,{maxWidth:o.headerWidth,onClick:()=>{t(Object(a("riXy").d)(n,s,i.status)),b(m,void 0)},tabIndex:"0"},c.a.createElement(Wv,null,c.a.createElement(a.n(a("TUgI")).a,{size:"medium",label:"Return"
})),c.a.createElement(a("/QDG").c,null,i.name))),d&&c.a.createElement(Xv,{panelWidth:o.contentWidth},c.a.createElement($v,{maxWidth:o.contentWidth},c.a.createElement(zl.a,{key:`connect-iFrame-${g}-${r}-${e}`,connectHost:d,appKey:n,moduleKey:s,url:i.options.url,options:f.convertConnectOptions(i.options),height:"100%",width:"100%",connectIframeProvider:f,timeoutIndicator:()=>c.a.createElement(a("hCQZ").b,{appName:i.name,appKey:n})}))))}),Jv);var Qv=Object(a("v5q+").a)([Object(a("BxXc").a)((e=>({onGlanceHideAnalytics:t=>e("hide",r()({},t))}))),Object(d.connect)(((e,t)=>({glance:Object(a("mIpc").l)(t.appKey,t.moduleKey)(e),statusCategory:Object(a("OGP8").a)(e),refreshedOn:Object(a("/LFc").e)(e)})),(e=>({onHideGlance:()=>{e(Object(a("l7n1").a)()),e(Object(a("dPO5").e)())}})))])(zv);const ej=({glance:e,extensionData:t,styles:n,source:s,isOpen:i})=>{const[o,r]=Object(l.useState)(!1),d=Object(a("ovRs").h)(),[,{setIssueViewLayoutGlance:u}]=Object(a("pvIb").b)(),p=Object(l.useCallback)((()=>{
u(d,void 0)}),[d,u]);return Object(l.useEffect)((()=>{i&&!o&&r(!0)}),[i,o]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Vv,{onClick:void 0,tabIndex:void 0},c.a.createElement(Kv,{maxWidth:n.headerWidth,onClick:p,tabIndex:"0"},c.a.createElement(Wv,null,c.a.createElement(a.n(a("TUgI")).a,{size:"medium",label:"Return"})),c.a.createElement(a("/QDG").c,null,e.title))),c.a.createElement(Xv,{panelWidth:n.contentWidth},c.a.createElement($v,{maxWidth:n.contentWidth},o&&c.a.createElement(a("OkQB").a,{extensionData:t,extension:e.extension,analyticsAttributes:{source:s}}))))};ej.displayName="ForgeGlancePanel";const tj=e=>c.a.createElement(a("y8z6").b,{attributes:{source:e.source}},c.a.createElement(ej,e));tj.displayName="ForgeGlancePanelWithAnalytics";var nj=Object(a("v5q+").a)([Object(d.connect)((e=>({extensionData:Object(a("T8UA").g)(e),source:Object(a("4dgq").b)(e)})),{onHideForgeGlance:a("l7n1").a})])(tj);class aj extends l.Component{renderGlance(e,t){const{glance:n}=this.props
;switch(n.glanceType){case"CONNECT_ENTITY_TYPE":return c.a.createElement(Qv,{panelWidth:e.panelWidth,styles:e,appKey:n.appKey,moduleKey:n.moduleKey,key:`issue.ecosystem.glance.panel_${n.appKey}_${n.moduleKey}`});case"FORGE_ENTITY_TYPE":return c.a.createElement(nj,{panelWidth:e.panelWidth,styles:e,key:`issue.forge.glance.panel_${n.appKey}_${n.moduleKey}`,glance:n,isOpen:t});default:return null}}render(){const{openedGlance:e,glance:t,refs:n}=this.props,s=!!e&&e.appKey===t.appKey&&e.moduleKey===t.moduleKey;return c.a.createElement(a("LHLl").a,{refs:n,isOpen:s},(e=>this.renderGlance(e,s)))}}aj.displayName="GlanceAnimatedPanel",aj.defaultProps={openedGlance:null};var sj=Object(a("BxXc").a)((e=>({onMount:t=>e("mounted",t)})))(aj),ij=Object(S.defineMessages)({move:{id:"issue.move",defaultMessage:"Move"},clone:{id:"issue.clone",defaultMessage:"Clone"},delete:{id:"issue.delete",defaultMessage:"Delete"},print:{id:"issue.print",defaultMessage:"Print"},exportXML:{id:"issue.export-xml",
defaultMessage:"Export XML"},exportDOC:{id:"issue.export-doc",defaultMessage:"Export Word"},switchToModal:{id:"issue.switch-to-modal",defaultMessage:"Open issues in dialog"},switchToSidebar:{id:"issue.switch-to-sidebar",defaultMessage:"Open issues in sidebar"},newIssueView:{id:"issue.title-for-new-issue-actions",defaultMessage:"New Jira issue view"},swiftLink:{id:"issue.swift-link",defaultMessage:"Configure"},swiftBacklink:{id:"issue.swift-backlink-title",defaultMessage:"Back to {issueKey}"},startTour:{id:"issue.start-guided-tour",defaultMessage:"Show me the highlights"},findOutMore:{id:"issue.find-out-more",defaultMessage:"Find out more"},seeOldView:{id:"issue.see-old-view",defaultMessage:"See the old view"},turnOffNewIssueView:{id:"issue.turn-off-new-issue-view",defaultMessage:"Turn off new issue view"},turnOffForNow:{id:"issue.turn-off-issue-view-for-now",defaultMessage:"Turn off for now"},triggerButtonLabel:{id:"issue.label-for-issue-actions-button",defaultMessage:"Actions"},
configure:{id:"issue.configure",defaultMessage:"Configure"},addToParentLevel:{id:"issue.add-to-parent-level",defaultMessage:"Add parent"},changeParentLevel:{id:"issue.change-parent-level",defaultMessage:"Change parent"},convertToSubtask:{id:"issue.convert-to-subtask",defaultMessage:"Convert to Subtask"},convertToIssue:{id:"issue.convert-to-issue",defaultMessage:"Convert to Issue"}}),oj=()=>{const e=Object(a("ovRs").j)(),t=Object(a("AJ6X").c)(e),n=Object(a("AJ6X").b)(e),s=Object(a("IFiJ").i)(e),i=!Object(a("IFiJ").a)(e),o=Object(a("ovRs").h)(),r=Object(a("ovRs").m)(),[{value:l}]=Object(a("MoW5").c)(o);let c="issuetype";i&&s===a("Hh3U").h&&(Object(a("d90y").is2afErrorCleanupGroup2Enabled)()?l:null!==l)&&(c=Object(a("W7ru").a)("com.atlassian.servicedesk:vp-origin",l));const d=void 0!==c?c:"issuetype",[u]=Object(a("j3bG").b)({issueKey:o,fieldKey:d}),[p]=Object(a("j3bG").b)({issueKey:o,fieldKey:"issuetype"});if(!n)return"disabled_permission";switch(s){case a("Hh3U").h:
if(!t)return"disabled_permission";if(i&&(null===c||null==u||void 0===u.requestType||void 0===u.requestType.id)||!i&&(!p||!p.id))return"disabled_no_request_type"}return null!=r&&0!==r||!i?"show":"disabled_no_screen_id"},rj=Object(S.defineMessages)({configureTooltipAdmin:{id:"issue.details.configuration-button.configure-fields.tooltip-admin",defaultMessage:"Configure fields"},configureTooltipEndUser:{id:"issue.details.configuration-button.configure-fields.tooltip-end-user",defaultMessage:"Contact your admin to change the field order & layout"},configureTooltipAdminNoRequestType:{id:"issue.details.configuration-button.configure-fields.tooltip-admin-no-request-type",defaultMessage:"You can\u2019t configure the layout of an issue while it doesn\u2019t have a request type."}});var lj=T.default.div.withConfig({componentId:"sc-10td9h3-0"
})`margin:${a("ZpU/").e/2}px ${1.5*a("ZpU/").e}px 0 0;display:block;min-width:0;max-width:50%;[type='button']{padding:0;font-size:12px;span{margin:0;text-overflow:unset;}span[class*='Icon__IconWrapper']{width:16px;}}margin-right:0;a{margin-right:0;}`;const cj=(e,t)=>{switch(e){case"show":return{tooltipText:t(rj.configureTooltipAdmin),isDisabled:!1};case"disabled_permission":return{tooltipText:t(rj.configureTooltipEndUser),isDisabled:!0};case"disabled_no_request_type":return{tooltipText:t(rj.configureTooltipAdminNoRequestType),isDisabled:!0};case"disabled_no_screen_id":return{tooltipText:"",isDisabled:!0};case"hide":default:return{isHidden:!0}}},dj=Object(l.memo)((()=>{const{formatMessage:e}=Object(a("NRyt").d)(),t=oj(),n=cj(t,e);if(n.isHidden)return null;const{tooltipText:s,isDisabled:i}=n,o=e(ij.configure),r=Object(a("Luli").a)(e);return c.a.createElement(a("ho8o").a,{prefixOverride:"issue",id:"Safe(ConfigurationButton)"},c.a.createElement(lj,null,c.a.createElement(a("Yto1").a,{
position:"mouse",mousePosition:"left",content:s},c.a.createElement(a("340+").a,{isDisabled:i,appearance:"subtle-link",iconBefore:c.a.createElement(a.n(a("YC+5")).a,{label:""}),href:r,target:"_blank",rel:"noopener noreferrer",onClick:(e,t)=>Object(a("yy8q").h)(t,"configureButton")},o))))})),uj=Object(l.memo)((e=>{const{intl:{formatMessage:t}}=e,n=oj(),s=cj(n,t);if(s.isHidden)return null;const{tooltipText:i,isDisabled:o}=s,r=t(ij.configure),l=Object(a("Luli").a)(t);return c.a.createElement(lj,null,c.a.createElement(a("Yto1").a,{position:"mouse",mousePosition:"left",content:i},c.a.createElement(a("340+").a,{isDisabled:o,appearance:"subtle-link",iconBefore:c.a.createElement(a.n(a("YC+5")).a,{label:""}),href:l,target:"_blank",rel:"noopener noreferrer",onClick:(e,t)=>Object(a("yy8q").h)(t,"configureButton")},r)))}));var pj=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,dj,Object(a("v5q+").a)([S.injectIntl])(uj));var mj=({issueKey:e})=>{const[t]=Object(a("j3bG").b)({issueKey:e,
fieldKey:"created"});return[{value:t}]};const bj=T.default.div.withConfig({componentId:"q5g49g-0"})`display:flex;margin-top:${a("ZpU/").e/2}px;`,gj=T.default.small.withConfig({componentId:"q5g49g-1"})`color:${a("5kDX").a.N200};padding-top:${a("ZpU/").e/4}px;white-space:nowrap;margin-top:0;font-size:${1.5*a("ZpU/").e}px;line-height:${a("ZpU/").e/6};`,fj={whenDisplaySettingSwitchable:T.css`:hover{color:${a("5kDX").a.N500};}`},hj=e=>{const{text:t,date:n}=e;return null==n?null:c.a.createElement(bj,null,c.a.createElement(gj,null,t,"\xa0",c.a.createElement(a("9EVx").a,{value:n,extraStyles:fj,tooltipPosition:"right"})))};hj.displayName="MetaDate";var Ej=hj,yj=Object(S.defineMessages)({createdLabel:{id:"created-date.read.created-label",defaultMessage:"Created"}});const Oj=({date:e})=>{const{formatMessage:t}=Object(a("NRyt").d)();return null!==e&&""!==e?c.a.createElement(a("LefY").b,null,c.a.createElement(Ej,{date:e,text:t(yj.createdLabel)})):null},vj=({issueKey:e})=>{const[{value:t}]=mj({
issueKey:e});return c.a.createElement(Oj,{date:t})};vj.displayName="CreatedDateField";var jj=vj;var Ij=({issueKey:e})=>{const[t]=Object(a("j3bG").b)({issueKey:e,fieldKey:"resolutiondate"});return[{value:t}]},Cj=Object(S.defineMessages)({resolvedLabel:{id:"resolved-date.read.resolved-label",defaultMessage:"Resolved"}});const Sj=({date:e})=>{const{formatMessage:t}=Object(a("NRyt").d)();return null!==e&&""!==e?c.a.createElement(a("LefY").b,null,c.a.createElement(Ej,{date:e,text:t(Cj.resolvedLabel)})):null},kj=({issueKey:e})=>{const[{value:t}]=Ij({issueKey:e});return c.a.createElement(Sj,{date:t})};kj.displayName="ResolvedDateField";var wj=kj;var Tj=({issueKey:e})=>{const[t]=Object(a("j3bG").b)({issueKey:e,fieldKey:"updated"});return[{value:t}]},Dj=Object(S.defineMessages)({updatedLabel:{id:"updated-date.read.updated-label",defaultMessage:"Updated"}});const Rj=({date:e})=>{const{formatMessage:t}=Object(a("NRyt").d)()
;return null!==e&&""!==e?c.a.createElement(a("LefY").b,null,c.a.createElement(Ej,{date:e,text:t(Dj.updatedLabel)})):null},Lj=({issueKey:e})=>{const[{value:t}]=Tj({issueKey:e});return c.a.createElement(Rj,{date:t})};Lj.displayName="UpdatedDateField";var Mj=Lj;const Aj=T.default.div.withConfig({componentId:"sc-19b1za8-0"})`margin-top:${a("ZpU/").e/2}px;margin-right:${2*a("ZpU/").e}px;flex:1;padding-left:10px;`;var _j=()=>{const e=Object(a("ovRs").h)();return c.a.createElement(Aj,null,c.a.createElement(jj,{issueKey:e}),c.a.createElement(Mj,{issueKey:e}),c.a.createElement(wj,{issueKey:e}))};var Nj=({fieldKey:e,propName:t,isEnabled:n=(()=>!0),FieldValueSubscriber:s=a("j3bG").a})=>a=>i=>{if(!n())return c.a.createElement(a,i);const{issueKey:o}=i;return c.a.createElement(s,{issueKey:o,fieldKey:e},(e=>{const n=r()(r()({},i),{},{[t]:e});return c.a.createElement(a,n)}))}
;const xj=Object(Vt.createSelector)(a("OEhx").a,bE,a("Hxy2").i,a("/LFc").q,a("EfFP").b,a("lJey").a,a("4dgq").t,hf,a("anlJ").b,a("Q7bB").a,((e,t,n,a,s,i,o,r,l,c)=>{const d=t&&!n&&a;return{canCreateAttachment:s,shouldShowCreateSubtaskButton:e&&!n&&!d,shouldShowIssueInEpicButton:d,supportsChildCreation:n,canCreateIssueLink:i,isServiceDesk:o,canLinkConfluencePage:r,canAddWebLinks:l,canEditIssues:c}}));var Uj=a("oSXT"),Fj=a.n(Uj);const Pj=3*a("ZpU/").e,Vj=T.default.span.withConfig({componentId:"lm5en9-0"})`padding:${a("ZpU/").e/2}px;`,Kj=T.default.div.withConfig({componentId:"lm5en9-1"})`display:inline-flex;`,$j=T.default.span.withConfig({componentId:"lm5en9-2"})`color:${a("5kDX").a.B400};`,Wj=Object(S.defineMessages)({quickAddAddonLabel:{id:"issue.quickadd.addon",defaultMessage:"Add app"},addMore:{id:"issue.quickadd.addon.add.more",defaultMessage:"Add apps"}}),Bj=e=>!!e.tooltip&&!!e.iconUrl;class qj extends l.Component{constructor(...e){super(...e),
this.getExtensionsToShowIconsFor=()=>this.props.availableAddons.filter(Bj).slice(0,3),this.getExtensionsToShowInDropdown=()=>Fj()(this.props.availableAddons,this.getExtensionsToShowIconsFor(),"moduleKey"),this.transformExtension=e=>{const t=c.a.createElement(a("/giV").b,{key:e.moduleKey,elemBefore:qj.getIcon(e),onClick:this.itemSelected(e)},e.name);return e.tooltip?c.a.createElement(a("Yto1").a,{content:e.tooltip,key:e.moduleKey},t):t},this.createDropdownItems=e=>c.a.createElement(a("6IoW").a,null,e.map(this.transformExtension),this.props.canInstallAddons&&c.a.createElement(a("/giV").b,{key:Wj.addMore.id,elemBefore:c.a.createElement($j,null,c.a.createElement(a.n(a("9fHu")).a,{label:this.props.intl.formatMessage(Wj.addMore)})),onClick:this.props.onAddExtensionsClick,href:`${this.props.baseUrl}/plugins/servlet/upm/marketplace/featured`,target:"_new"},c.a.createElement($j,null,this.props.intl.formatMessage(Wj.addMore)))),this.itemSelected=e=>()=>{
const t=Object(a("+9A+").b)(e.moduleKey,10),n="FORGE_ENTITY_TYPE"===e.type;let s=n?Object(a("UKEq").e)(e.appKey,e.moduleKey):Object(a("UKEq").c)(e.appKey,e.moduleKey);if(n){const t=`${s}-`,n=this.props.contentPanelsInIssue.find((e=>Object(a("UKEq").b)(e,t)));null!=n&&!1===e.allowMultiple&&(s=n)}e.showByDefault||this.props.contentPanelsInIssue.includes(`${e.appKey}_${t}`)||this.props.contentPanelsInIssue.includes(s)?(this.props.onContentPanelFocusAnalytics(Object(a("riXy").b)(e.appKey,e.moduleKey)),this.props.onSelectContentPanel(s),this.sendQuickAddClickedEvent(!1,e.appKey,e.moduleKey,n)):(this.props.onContentPanelAddAnalytics(Object(a("riXy").b)(e.appKey,e.moduleKey)),this.props.onAddExtension(s),this.sendQuickAddClickedEvent(!0,e.appKey,e.moduleKey,n))},this.sendQuickAddClickedEvent=(e,t,n,s)=>{this.props.onQuickAddClick("ISSUE_QUICK_ADD_CLICKED",{addon_key:t,key:n},{isNewToIssue:e.toString()}),s&&Object(a("BxKc").m)(this.props.source,{isNewToIssue:e})},
this.transformExtensionToQuickIcon=(e,t)=>this.props.createItemView({id:`${e.appKey}_${e.moduleKey}`,label:e.tooltip||e.name,icon:qj.getIcon(e),onClick:this.itemSelected(e),itemIndex:this.props.startIndex+t}),this.renderVisibleExtensionIcons=()=>this.getExtensionsToShowIconsFor().map(((e,t)=>this.transformExtensionToQuickIcon(e,t))),this.renderDropdownExtensions=()=>{const{intl:e,canInstallAddons:t}=this.props,n=this.getExtensionsToShowInDropdown();return n.length>0||t?c.a.createElement(a("Yc37").a,{key:"ecosystem-actions-dropdown",boundariesElement:"scrollParent",triggerType:"button",triggerButtonProps:{spacing:"none",theme:(e,t)=>{const n=e(t);return r()(r()({},n),{},{buttonStyles:r()(r()({},n.buttonStyles),{},{margin:0})})},iconBefore:c.a.createElement(Vj,null,c.a.createElement(a.n(a("eaSS")).a,{size:"medium",label:""})),"aria-label":e.formatMessage(Wj.quickAddAddonLabel)}},this.createDropdownItems(n)):null}}static getIcon(e){return e.iconUrl?c.a.createElement(a("Opng").a,{
title:e.name,url:e.iconUrl,width:Pj,height:Pj,fallback:()=>this.getFallbackIcon({name:e.name})}):this.getFallbackIcon({name:e.name})}componentDidMount(){const{availableAddons:e,contentPanelsInIssue:t,onContentPanelListLoadedAnalytics:n}=this.props;e.length>0&&n(Object(a("riXy").c)(e,t))}render(){const e=this.renderVisibleExtensionIcons(),t=this.renderDropdownExtensions();return c.a.createElement(Kj,null,[...e,t])}}qj.displayName="UnsafeAddonsQuickAdd",qj.defaultProps={canInstallAddons:!1,availableAddons:[],contentPanelsInIssue:[],onContentPanelListLoadedAnalytics:p.a,onContentPanelAddAnalytics:p.a,onContentPanelFocusAnalytics:p.a,onAddExtensionsClick:p.a,onQuickAddClick:p.a,onAddWebLinkClick:p.a},qj.getFallbackIcon=e=>c.a.createElement(a.n(a("ORCv")).a,{size:"medium",label:e.name});const Hj=(e,t,n)=>{Object(a("vs4d").a)(e,t,n)};var Gj=De()(Object(a("BxXc").a)((e=>({onContentPanelListLoadedAnalytics:t=>e("load",r()({},t)),onContentPanelAddAnalytics:t=>e("add",r()({},t)),
onContentPanelFocusAnalytics:t=>e("focus",r()({},t))}))),Object(a("4zF2").a)({onAddExtensionsClick:"quickAddDropdownMenuItem",onAddWebLinkClick:"quickAddWebLink"}),Object(d.connect)((e=>({availableAddons:Object(a("mIpc").k)(e),contentPanelsInIssue:Object(a("mIpc").p)(e),baseUrl:Object(a("4dgq").f)(e),canInstallAddons:Object(a("mIpc").c)(e),source:Object(a("4dgq").b)(e),onQuickAddClick:Hj})),(e=>({onAddWebLinkClick:()=>e(Object(a("+VYr").k)())}))),Object(a("YNh8").a)())(Object(S.injectIntl)(qj));const Yj=T.default.span.withConfig({componentId:"sc-5w3scg-0"})`margin-right:${a("ZpU/").e}px;`,Zj=T.default.span.withConfig({componentId:"sc-5w3scg-1"})`padding:${e=>e.compactMode?a("ZpU/").e/2:0}px;margin-left:${e=>e.compactMode?0:-4}px;margin-right:${e=>e.compactMode?0:-2}px;`,Xj=T.default.span.withConfig({componentId:"miy8ek-0"})`display:flex;margin-right:${a("ZpU/").e}px;`,Jj=T.default.span.withConfig({componentId:"miy8ek-1"})`padding:${a("ZpU/").e/2}px;`;var zj=Object(l.memo)((e=>{
const{id:t,icon:n,label:s,onClick:i,testId:o}=e.item,r=Object(l.useCallback)(((e,n)=>{Object(a("yy8q").h)(n,"createLink",{actionItemId:t,name:"linkDropdownListItem"}),i&&i()}),[t,i]);return c.a.createElement(a("/giV").b,{id:t,elemBefore:n,onClick:r,"data-test-id":o},s)}));const Qj=e=>{const[t,n]=Object(l.useState)(!1),{position:s,actions:i,tooltip:o,triggerButtonProps:r}=e,d=c.a.createElement(a("0+Gd").a,j()({spacing:"none","aria-label":o,"aria-expanded":t},r,{testId:"issue.views.issue-base.foundation.quick-add.link-button.ui.link-dropdown-button"})),u=void 0!==o?c.a.createElement(a("Yto1").a,{content:o,position:"bottom",hideTooltipOnClick:!0},d):d;return c.a.createElement(a("Yc37").a,{key:"web-link-actions-dropdown",position:s,trigger:u,onOpenChange:({isOpen:e},t)=>{n(e),Object(a("yy8q").h)(t,"moreLinksDropdownToggled",{isOpen:e,name:"linkDropdownListButton"})}},c.a.createElement(a("6IoW").a,null,i.map((e=>c.a.createElement(zj,{key:e.id,item:e})))))}
;Qj.displayName="DropdownListButton";var eI=Qj;const tI=["actions"],nI=({compactMode:e,actions:t,tooltipLabel:n})=>{if(e){const e={iconBefore:c.a.createElement(Jj,null,c.a.createElement(a.n(a("Ydou")).a,{size:"medium",label:""}))};return c.a.createElement(eI,{actions:t,triggerButtonProps:e,tooltip:n})}const[{id:s,onClick:i,label:o,tooltip:l,testId:d},...u]=t,p=c.a.createElement(Zj,{compactMode:e},c.a.createElement(a.n(a("Ydou")).a,{size:"medium",label:""})),m=(e,t)=>{Object(a("yy8q").h)(t,"AddLink",{name:"AddLinkButton"}),i()};return 0===u.length?c.a.createElement(a("Yto1").a,{content:l,position:"bottom",key:s},c.a.createElement(a("340+").a,{"aria-label":l,spacing:"default",iconBefore:p,onClick:m,testId:d},o)):c.a.createElement(c.a.Fragment,null,c.a.createElement(a("Yto1").a,{content:l,position:"bottom",key:s},c.a.createElement(a("0+Gd").a,{"aria-label":l,spacing:"default",iconBefore:p,onClick:m,testId:d,theme:(e,t)=>{const n=e(t);return r()(r()({},n),{},{
buttonStyles:r()(r()({},n.buttonStyles),{},{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:`2px solid ${a("5kDX").a.N40}`,margin:0})})}},o)),c.a.createElement(eI,{actions:u,position:"bottom right",tooltip:n,triggerButtonProps:{iconBefore:c.a.createElement(Jj,null,c.a.createElement(a.n(a("1YpF")).a,{size:"medium",label:""})),theme:(e,t)=>{const n=e(t);return r()(r()({},n),{},{buttonStyles:r()(r()({},n.buttonStyles),{},{borderTopLeftRadius:0,borderBottomLeftRadius:0,margin:0})})}}}))},aI=e=>{let{actions:t}=e,n=C()(e,tI);return 0===t.length?null:c.a.createElement(Xj,null,c.a.createElement(nI,j()({actions:t},n)))};aI.displayName="LinkButtonWithWrapper";var sI=aI;class iI extends l.Component{render(){const{id:e,icon:t,onClick:n,extraAttributes:s,label:i,compactMode:o,testId:l,hasGlobalSpotlightTarget:d,hasSpotlightPulse:u}=this.props,p=c.a.createElement(a("0+Gd").a,{"aria-label":i,spacing:o?"none":"default",iconBefore:c.a.createElement(Zj,{compactMode:o},t),onClick:n,
theme:(e,t)=>{const n=e(t);return r()(r()({},n),{},{buttonStyles:r()(r()({},n.buttonStyles),{},{margin:0})})}},!o&&i),m=c.a.createElement(a("aOsC").a,{id:`global-spotlight-target-${e}`},p),b={position:"inherit",marginRight:2*a("ZpU/").e+"px"};return d&&u?c.a.createElement(Yj,j()({},s,{"data-test-id":l}),c.a.createElement(a("aOsC").a,{id:`global-spotlight-target-${e}`},c.a.createElement(a("LEck").a,{targetRadius:3,style:b},p))):c.a.createElement(Yj,j()({},s,{"data-test-id":l}),d?m:p)}}iI.displayName="View",iI.defaultProps={hasGlobalSpotlightTarget:!1,hasSpotlightPulse:!1,extraAttributes:{},label:"",compactMode:!0,testId:void 0};const oI=Object(g.g)((()=>a.e("async-schedule-change-button").then(a.bind(null,"qdup")).then((e=>e.ScheduleChangeButton))),{ssr:!1,moduleId:"./src/packages/issue/issue-view/src/views/issue-base/foundation/quick-add/schedule-change-button/main.js"}),rI=e=>c.a.createElement(g.a,{fallback:null},c.a.createElement(oI,e));rI.displayName="ScheduleChangeButton"
;var lI=Object(S.defineMessages)({addFormTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-form-label",defaultMessage:"Add Form"},addAttachmentTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-attachment-label",defaultMessage:"Add attachment"},createSubtaskTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-subtask-label",defaultMessage:"Create subtask"},addIssueLinkTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-issue-link-label",defaultMessage:"Link issue"},createChildTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-child-label",defaultMessage:"Add a child issue"},linkConfluencePageTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-confluence-page-label",defaultMessage:"Link a Confluence page"},createIssueInEpicTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-issue-in-epic-label",defaultMessage:"Create issue in epic"},
addFormLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-form-button-label",defaultMessage:"Add Form"},addAttachmentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-attachment-button-label",defaultMessage:"Attach"},createSubtaskLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-subtask-button-label",defaultMessage:"Create subtask"},addIssueLinkLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.add-issue-link-button-label",defaultMessage:"Link issue"},createChildLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-child-button-label",defaultMessage:"Add a child issue"},linkConfluencePageLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-confluence-page-button-label",defaultMessage:"Link Confluence page"},createIssueInEpicLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-issue-in-epic-button-label",defaultMessage:"Create issue in epic"},linkAlertsLabel:{
id:"issue.issue-base.foundation.quick-add.quick-add-items.link-alerts-label",defaultMessage:"Link alerts"},linkAlertsTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-alerts-tooltip",defaultMessage:"Link alerts"},linkIncidentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-incident-label",defaultMessage:"Link major incident"},linkIncidentTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.link-incident-tooltip",defaultMessage:"Link major incident"},createIncidentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-incident-label",defaultMessage:"Create major incident"},createIncidentTooltip:{id:"issue.issue-base.foundation.quick-add.quick-add-items.create-incident-tooltip",defaultMessage:"Create major incident"},investigateIncidentLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.investigate-incident-label",defaultMessage:"Investigate"},investigateIncidentTooltip:{
id:"issue.issue-base.foundation.quick-add.quick-add-items.investigate-incident-tooltip",defaultMessage:"Investigate deployments and add them as potential causes to this incident"},addWebLinkLabel:{id:"issue.foundation.quick-add.quick-add-items.add-web-link-label",defaultMessage:"Add web link"},addWebLinkTooltip:{id:"issue.foundation.quick-add.quick-add-items.add-web-link-tooltip",defaultMessage:"Link web pages and more"},linkDropdownButtonLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.web-link-dropdown-label",defaultMessage:"Link web pages and more"},linkDropdownButtonCompactLabel:{id:"issue.issue-base.foundation.quick-add.quick-add-items.web-link-dropdown-compact-label",defaultMessage:"Link issues, web pages, and more"}});const cI=T.default.div.withConfig({componentId:"um2giz-0"})`margin-bottom:${a("ZpU/").e/2}px;padding:${a("ZpU/").e/2}px 0;display:inline-flex;`,dI=T.default.img.withConfig({componentId:"um2giz-1"
})`height:${3*a("ZpU/").e}px;width:${3*a("ZpU/").e}px;`,uI=e=>!!e&&e.alertLinking.enabled;var pI=e=>{const{formatMessage:t,canCreateAttachment:n,shouldShowCreateSubtaskButton:s,shouldShowIssueInEpicButton:i,canCreateIssueLink:o,onAddAttachmentClick:r,onCreateSubtaskClick:l,onCreateIssueInEpicClick:d,onChildCreateClick:u,supportsChildCreation:p,isServiceDesk:m,canLinkConfluencePage:b,onLinkConfluencePageClick:g,onCreateMajorIncidentClick:f,incidentLinking:h,incidentEscalate:E,incidentManagement:y,onLinkIncidentClick:O,onLinkAlertsClick:v,canAddWebLinks:j,onAddWebLinkClick:I,onAddIssueLinkClick:C,onInvestigateIncidentClick:S,practices:k}=e,w=[{id:"attachment",tooltip:t(lI.addAttachmentTooltip),label:t(lI.addAttachmentLabel),icon:c.a.createElement(a.n(a("q3YI")).a,{size:"medium",label:""}),onClick:r,itemIndex:0,shouldRender:!m&&n,testId:""},{id:"create-subtask",tooltip:t(lI.createSubtaskTooltip),label:t(lI.createSubtaskLabel),icon:c.a.createElement(a.n(a("D7DH")).a,{size:"medium",label:""
}),onClick:l,itemIndex:1,shouldRender:s,testId:""},{id:"create-issue-in-epic",tooltip:t(lI.createIssueInEpicTooltip),label:t(lI.createIssueInEpicLabel),icon:c.a.createElement(a.n(a("7HAD")).a,{size:"medium",label:""}),onClick:d,itemIndex:1,shouldRender:i,testId:""},{id:"create-child",tooltip:t(lI.createChildTooltip),label:t(lI.createChildLabel),icon:c.a.createElement(a.n(a("7HAD")).a,{size:"medium",label:""}),onClick:u,itemIndex:1,shouldRender:p,testId:""},{id:"create-incident",tooltip:t(lI.createIncidentTooltip),label:t(lI.createIncidentLabel),icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(a("02VO").d,{eventName:"escalateMajorIncidentButton viewed",componentName:"BentoQuickAddItems"}),c.a.createElement(dI,{src:a.n(a("4Of3")).a})),onClick:f,itemIndex:3,shouldRender:!Object(a("d90y").isJsmReplacingMajorIncidentEnabled)()&&!!E,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.create-incident",hasGlobalSpotlightTarget:!0},{id:"investigate-incident",
tooltip:t(lI.investigateIncidentTooltip),label:t(lI.investigateIncidentLabel),icon:c.a.createElement(c.a.Fragment,null,c.a.createElement(a("02VO").d,{eventName:"InvestigateIncidentButton viewed",componentName:"BentoQuickAddItems"}),c.a.createElement(a.n(a("kITC")).a,{size:"medium",label:""})),onClick:S,itemIndex:4,shouldRender:Object(a("d90y").isIIVinJSMEnabled)()&&m&&Array.isArray(k)&&k.includes("incident-management"),testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.investigate-incident",hasGlobalSpotlightTarget:!0}],T=[{id:"issue-links",tooltip:t(lI.addIssueLinkTooltip),label:t(lI.addIssueLinkLabel),icon:c.a.createElement(a.n(a("baJg")).a,{size:"medium",label:""}),onClick:C,itemIndex:2,shouldRender:o,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-issue"},{id:"link-confluence-page",tooltip:t(lI.linkConfluencePageTooltip),label:t(lI.linkConfluencePageLabel),icon:c.a.createElement(a.n(a("wmER")).a,{size:"medium",label:""
}),onClick:g,itemIndex:3,shouldRender:b,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-page"},{id:"link-incident",tooltip:t(lI.linkIncidentTooltip),label:t(lI.linkIncidentLabel),icon:c.a.createElement(dI,{src:a.n(a("eQ3J")).a}),onClick:O,itemIndex:3,shouldRender:!Object(a("d90y").isJsmReplacingMajorIncidentEnabled)()&&!!h,testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-incident"},{id:"link-alerts",tooltip:t(lI.linkAlertsTooltip),label:t(lI.linkAlertsLabel),icon:c.a.createElement(a("UnwW").b,{glyph:a("B/Ay").a,size:"medium",label:""}),onClick:v||(()=>{}),itemIndex:3,shouldRender:uI(y),testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-alerts"},{id:"add-web-link",tooltip:t(lI.addWebLinkTooltip),label:t(lI.addWebLinkLabel),icon:c.a.createElement(a.n(a("lgle")).a,{size:"medium",label:""}),onClick:I,itemIndex:3,shouldRender:j,
testId:"issue.issue-view.views.issue-base.foundation.quick-add.quick-add-item.link-web"}];return{issueActions:w.filter((e=>e.shouldRender)),linkingActions:T.filter((e=>e.shouldRender))}};const mI=e=>{var t;const{formatMessage:n}=Object(a("NRyt").d)(),{fetchConfluenceAppLinks:s,triggerButtonClickAnalytics:i,onSelectContentPanel:o,onAddExtension:d,issueKey:u,containerWidth:p,locale:m}=e,{shouldBeCompact:b,setMeasuredRef:g}=Ln(p),[,{openLinkAlertsModal:f}]=Object(a("cY80").f)();Object(l.useEffect)((()=>{s()}),[s,u]);const h=Object(l.useCallback)(((e,t,n)=>()=>{n(),i(e,t,4)}),[i]),E=Object(l.useCallback)((e=>{const{id:t,tooltip:n,label:s,icon:i,onClick:o,itemIndex:r,testId:l,hasGlobalSpotlightTarget:d,hasSpotlightPulse:u}=e;return c.a.createElement(a("Yto1").a,{content:n,position:"bottom",key:t},c.a.createElement(iI,{key:t,id:t,icon:i,onClick:h(t,r,o),label:s,compactMode:b,testId:l,hasGlobalSpotlightTarget:d,hasSpotlightPulse:u}))
}),[h,b]),y=Object(a("IFiJ").g)(u),[{canEditIssues:O}]=Object(a("AJ6X").d)(y),[v]=Object(a("d90y").isPracticeFieldRefactorEnabled)()?Object(a("/NfZ").b)({issueKey:u}):Object(a("9mKt").b)({issueKey:u}),j=O&&null!==(t=null==v?void 0:v.some((e=>e===a("o4hb").a)))&&void 0!==t&&t,I=Object(l.useCallback)((()=>{const{issueActions:t,linkingActions:s}=pI(r()(r()({},e),{},{formatMessage:n,onLinkAlertsClick:f})),l=t.map(E),u=b?lI.linkDropdownButtonCompactLabel:lI.linkDropdownButtonLabel,p=n(u),m=c.a.createElement(sI,{compactMode:b,actions:s,tooltipLabel:p}),g=c.a.createElement(a("J5tv").a,{key:"quick-add-web-link-button",name:"global-spotlight-target-issue-links"},m),h=[j&&c.a.createElement(rI,{key:"schedule-change",createItemView:E})].filter(Boolean),y=c.a.createElement(Gj,{key:"quick-add-content-panel",externalId:"issue.ecosystem.quick-add-content-panel",onSelectContentPanel:e=>{o(e),i("select_contentpanel",3,4)},onAddExtension:e=>{d(e),i("add_contentpanel",3,4)},createItemView:E,
startIndex:l.length});return[...l,g,...h,y]}),[E,n,d,f,o,e,j,b,i])();return Object(a("d90y").isRemoveWrmFromIssueViewCriticalPathEnabled)()?c.a.createElement(a("ho8o").a,{id:"jira.issuebase.quickadditems"},c.a.createElement(a("J5tv").a,{name:"QUICK_ADDS"},I.length?c.a.createElement(cI,{innerRef:g("quick-add-items")},I):c.a.createElement("div",null))):c.a.createElement(a("ho8o").a,{id:"jira.issuebase.quickadditems"},c.a.createElement(a("J5tv").a,{name:"QUICK_ADDS"},I.length?c.a.createElement(a("7LE1").a,{modules:[Object(a("cdli").a)(m)]},(()=>c.a.createElement(cI,{innerRef:g("quick-add-items")},I))):c.a.createElement("div",null)))};mI.displayName="QuickAddItems",mI.defaultProps={canCreateIssueLink:!1,canCreateAttachment:!1,canLinkConfluencePage:!1,canAddWebLinks:!1,triggerButtonClickAnalytics:p.a};const bI=e=>({onAddAttachmentClick:()=>{e(Object(a("cjK0").b)())},onCreateSubtaskClick:()=>{e(Object(a("7i6c").h)())},onCreateIssueInEpicClick:()=>{e(Object(a("7i6c").e)())},
onAddIssueLinkClick:()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ISSUE_LINKS.TIME_TO_RENDER_NEW_LINKED_ISSUE_INPUT,cancelExisting:!0}),e(Object(a("4geX").a)())},onChildCreateClick:()=>{e(Object(a("7i6c").c)())},onLinkConfluencePageClick:()=>{e(Object(a("pfYZ").h)())},onLinkIncidentClick:()=>{e(tO())},onCreateMajorIncidentClick:()=>{e((()=>({type:"CREATE_MAJOR_INCIDENT_CLICKED"}))())},onInvestigateIncidentClick:()=>{e((()=>({type:"INVESTIGATE_INCIDENT_CLICKED"}))())},onAddWebLinkClick:()=>{e(Object(a("+VYr").k)())}});var gI=De()(Nj({fieldKey:"servicedesk-incident-linking",propName:"incidentEscalate"}),Nj({fieldKey:"servicedesk-incident-linking",propName:"incidentLinking"}),Nj({fieldKey:"servicedesk-incident-management",propName:"incidentManagement"}),Nj({fieldKey:"servicedesk-practices",propName:"practices",isEnabled:()=>Object(a("d90y").isIIVinJSMEnabled)()}),Object(d.connect)((e=>r()(r()({},xj(e)),{},{locale:Object(a("4dgq").x)(e),
projectType:Object(a("/LFc").G)(e),issueKey:Object(a("4dgq").w)(e)})),(e=>r()(r()({},bI(e)),{},{onAddExtension:t=>{e(Object(a("H/9g").b)(t))},onSelectContentPanel:t=>{e(Object(a("H/9g").d)(t))},fetchConfluenceAppLinks:()=>{e(Object(a("GqMi").a)())}}))),Object(a("BxXc").a)((e=>({triggerButtonClickAnalytics:(t,n,a)=>e(`${t}.click`,{index:n,actions:a})}))),a("Hxd8").a)(mI);const fI=["refs"],hI=["refs"],EI="QUICK_ADD_ITEMS",yI="CONTEXT_ITEMS",OI="issue.context-items",vI="META_CONTAINER",jI="CONTENT_ITEMS",II="ACTIVITY_FEED",CI="issue.activity-feed",SI="issue.glance-panel",kI="CONFIGURE_FIELDS";class wI extends l.Component{constructor(e){super(e),this.setBreadcrumbsScrollContainer=e=>{this.setState({breadcrumbsScrollContainer:e})},this.setCompactHeaderScrollContainer=e=>{this.setState({compactHeaderScrollContainer:e})},this.setHeaderActionsScrollContainer=e=>{this.setState({headerActionsScrollContainer:e})},this.setSidePanelContainer=e=>{e&&this.setState((t=>({refs:r()(r()({},t.refs),{},{
refSidePanelContainerElement:this.props.isMobile&&this.props.isCompact?document.body:e})})))},this.setLayoutContainer=e=>{e&&this.setState((t=>({refs:r()(r()({},t.refs),{},{refLayoutContainer:e})})))},this.setPanelColumn=e=>{e&&this.setState((t=>({refs:r()(r()({},t.refs),{},{refPanelColumnElement:e})})))},this.setVisibilityContainer=e=>{e&&this.setState((t=>({refs:r()(r()({},t.refs),{},{refVisibilityContainer:e}),contextWidth:e.offsetWidth})))},this.getPassedDownRefs=()=>this.state.refs,this.shouldRenderHeaderFF=()=>this.props.shouldRenderHeader,this.renderFullSizeLayoutSideContent=()=>c.a.createElement(a("AFBP").h,{innerRef:this.setVisibilityContainer,show:this.props.arePanelsClosed,key:"sideContentWrapper"},c.a.createElement(rr,null),c.a.createElement(cr,{key:yI,externalId:OI}),c.a.createElement(a("AFBP").b,{"data-test-id":"issue.views.issue-details.issue-layout.footnote"},c.a.createElement(_j,{key:vI}),c.a.createElement(pj,{key:kI}))),
this.renderCompactHeader=()=>this.shouldRenderHeaderFF()?c.a.createElement(a("ZRZC").a,{key:"SPLIT_HEADER",elementId:"jira-issue-header",scrollContainer:this.state.compactHeaderScrollContainer||void 0},c.a.createElement(a("qxqX").a,{shouldShowCloseButton:this.props.shouldShowCloseButton,shouldShowProjectLevelBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:this.props.shouldShowRootProjectsBreadcrumb,issueDeleteCallbacks:this.props.issueDeleteCallbacks,renderFeedback:this.props.renderFeedback,viewModeOptions:this.props.viewModeOptions,onClose:this.props.onClose})):null,this.renderHeaderBreadcrumbs=()=>this.shouldRenderHeaderFF()?c.a.createElement(a("ZRZC").a,{elementId:"jira-issue-header",scrollContainer:this.state.breadcrumbsScrollContainer},c.a.createElement(a("ZMvX").a,{shouldShowProjectLevelBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:this.props.shouldShowRootProjectsBreadcrumb,
isCompact:this.props.isCompact})):null,this.renderHeaderActions=()=>this.shouldRenderHeaderFF()?c.a.createElement(a("ZRZC").a,{elementId:"jira-issue-header-actions",customStyles:"margin-right: -7px",scrollContainer:this.state.headerActionsScrollContainer||void 0},c.a.createElement(a("Q7Ko").a,{renderFeedback:this.props.renderFeedback,issueDeleteCallbacks:this.props.issueDeleteCallbacks,viewModeOptions:this.props.viewModeOptions,onClose:this.props.onClose,shouldShowCloseButton:this.props.shouldShowCloseButton})):null,this.renderFullSizeLayout=()=>{const e=a("AFBP").d,t=a("AFBP").c;return Object(a("d90y").isSwitcherooRealtimeExposuresTestFlagEnabled)(),c.a.createElement(a("XYfm").a,{hasMultipleScrollingColumns:!0},c.a.createElement(e,{issueMaxWidth:this.props.issueMaxWidth,medium:6.5,isLeftmost:!0,innerRef:this.setBreadcrumbsScrollContainer},c.a.createElement(t,{isLeftmost:!0,issueMaxWidth:this.props.issueMaxWidth,"data-test-id":"issue.views.issue-details.issue-layout.left-most-column"
},this.renderHeaderBreadcrumbs(),c.a.createElement(or,null),c.a.createElement(gI,{key:EI,externalId:"issue.quick-add"}),c.a.createElement(Uv,{key:jI,isCompactMode:!1}),c.a.createElement(js,{key:II,externalId:CI}))),c.a.createElement(e,{medium:3.5,issueMaxWidth:this.props.issueMaxWidth,isRightmost:!0,scrollHidden:!this.props.arePanelsClosed,innerRef:Rn()(this.setSidePanelContainer,this.setHeaderActionsScrollContainer)},c.a.createElement(t,{isRightmost:!0,innerRef:this.setPanelColumn,issueMaxWidth:this.props.issueMaxWidth,"data-test-id":"issue.views.issue-details.issue-layout.right-most-column"},this.renderHeaderActions(),this.renderFullSizeLayoutSideContent())))},this.renderCompactLayoutItems=()=>[c.a.createElement(or,{key:"FOUNDATION_CONTENT"}),c.a.createElement(gI,{key:EI,externalId:"issue.quick-add"}),c.a.createElement(rr,{key:"FOUNDATION_CONTEXT"}),c.a.createElement(Uv,{key:jI,isCompactMode:!0}),c.a.createElement(a("AFBP").a,{key:yI},c.a.createElement(cr,{externalId:OI
})),c.a.createElement(a("AFBP").b,{"data-test-id":"issue.views.issue-details.issue-layout.footnote",key:"FOOTNOTE_WRAPPER_KEY"},c.a.createElement(_j,{key:vI}),c.a.createElement(pj,{key:kI})),c.a.createElement(js,{key:II,externalId:CI})],this.renderCompactLayout=()=>c.a.createElement(a("AFBP").f,{scrollHidden:!this.props.arePanelsClosed,innerRef:Rn()(this.setSidePanelContainer,this.setCompactHeaderScrollContainer)},c.a.createElement(a("AFBP").e,{issueMaxWidth:this.props.issueMaxWidth,innerRef:this.setPanelColumn},this.renderCompactHeader(),c.a.createElement(a("AFBP").h,{innerRef:this.setVisibilityContainer,show:this.props.arePanelsClosed,key:"sideContentWrapper"},c.a.createElement(a("XYfm").a,{isCompact:!0},c.a.createElement(a("TuyW").a,null,this.renderCompactLayoutItems()))))),this.state={contextWidth:0,refs:{refVisibilityContainer:null,refSidePanelContainerElement:null,refPanelColumnElement:null,refLayoutContainer:null},breadcrumbsScrollContainer:void 0,
compactHeaderScrollContainer:void 0,headerActionsScrollContainer:void 0}}shouldComponentUpdate(e,t){return this.didPropsChange(e)||this.didStateChange(t)}didStateChange(e){const t=this.state,{refs:n}=t,a=C()(t,fI),{refs:s}=e,i=C()(e,hI);return(!this.props.arePanelsClosed||!Tn()(a,i))&&!Tn()(this.state,e)}didPropsChange(e){return!Tn()(this.props,e)}renderConnectGlancePanels(){return this.props.glances.map((e=>c.a.createElement(sj,{key:`connectGlanceAnimatedPanel-${e.appKey}__${e.moduleKey}`,glance:e,openedGlance:this.props.openedGlance,externalId:SI,glanceType:"CONNECT_ENTITY_TYPE",refs:this.getPassedDownRefs(),isCompact:this.props.isCompact})))}renderGlancePanels(){return this.props.glances.map((e=>c.a.createElement(sj,{key:`connectGlanceAnimatedPanel-${e.appKey}__${e.moduleKey}`,glance:e,openedGlance:this.props.openedGlance,externalId:SI,refs:this.getPassedDownRefs(),isCompact:this.props.isCompact})))}renderContextPanel(){return c.a.createElement(Zv,{key:"context-panel",
refs:this.getPassedDownRefs()})}render(){const e=this.props.isCompact?this.renderCompactLayout():this.renderFullSizeLayout();return c.a.createElement(a("AFBP").g,{innerRef:this.setLayoutContainer,"data-test-id":"issue.views.issue-details.issue-layout.issue-layout"},e,this.renderGlancePanels(),this.renderContextPanel())}}wI.displayName="IssueLayout",wI.displayName="IssueLayout",wI.defaultProps={isCompact:!1,shouldRenderHeader:!1,openedGlance:null,glances:[]};const TI=e=>{const t=Object(a("ovRs").h)(),[n]=Object(a("pvIb").d)(t),[s]=Object(a("pvIb").e)(t);return c.a.createElement(wI,j()({},e,{arePanelsClosed:void 0===n&&void 0===s,openedGlance:s}))};TI.displayName="IssueLayoutWithIssueLayoutState";var DI=Object(d.connect)((e=>({glances:Object(a("mIpc").i)(e),shouldRenderHeader:Object(a("4dgq").D)(e),isMobile:Object(a("4dgq").r)(e)})),{})(TI);const RI=T.default.div.withConfig({componentId:"sc-1nyj9su-0"})`height:100%;position:relative;`,LI=T.default.div.withConfig({
componentId:"sc-1nyj9su-1"})`position:absolute;height:100%;box-sizing:border-box;width:100%;${({attachmentHover:e})=>e?"\n                    border: 2px dashed #2684FF\n                    background: #deebff;\n                    mix-blend-mode: normal;\n                    opacity: 0.54;\n                    z-index: 100;\n                ":"border: 2px dashed transparent"}`,MI=Object(S.defineMessages)({nextIssue:{id:"issue.shortcuts.navigatingIssues.nextIssue",defaultMessage:"Next issue"},previousIssue:{id:"issue.shortcuts.navigatingIssues.previousIssue",defaultMessage:"Previous issue"},nextActivity:{id:"issue.shortcuts.navigatingIssues.nextActivity",defaultMessage:"Next activity"},previousActivity:{id:"issue.shortcuts.navigatingIssues.previousActivity",defaultMessage:"Previous activity"},editAssignee:{id:"issue.shortcuts.editAssignee",defaultMessage:"Edit assignee"},commentOnIssue:{id:"issue.shortcuts.commentOnIssue",defaultMessage:"Comment on issue"},editLabels:{
id:"issue.shortcuts.editLabels",defaultMessage:"Edit labels"},assignToMe:{id:"issue.shorctus.assignToMe",defaultMessage:"Assign to me"},openShortcutDialog:{id:"issue.shorctus.openShortcutDialog",defaultMessage:"Open shortcut dialog"}});var AI=e=>Object(l.useMemo)((()=>({a:{callback:()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0,collectors:[e=>r()(r()({},e),{},{viaShortcut:1})]});const t=Object(a("tK/r").d)(Object(a("tK/r").c)("assignee"));e(t,"assignIssue","a")},label:c.a.createElement(S.FormattedMessage,MI.editAssignee),priority:999},i:{callback:()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ASSIGNEE.TIME_TO_ASSIGN_TO_ME_VIA_SHORTCUT,cancelExisting:!0});const t=Object(a("tK/r").d)(Object(a("tK/r").b)());e(t,"assignToMe","i")},label:c.a.createElement(S.FormattedMessage,MI.assignToMe),priority:999},l:{callback:()=>{Object(a("B2Rg").b)().markStartOfInteraction({
key:a("/kYB").a.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0});const t=Object(a("tK/r").d)(Object(a("tK/r").c)("labels"));e(t,"editLabels","l")},label:c.a.createElement(S.FormattedMessage,MI.editLabels),priority:999},m:{callback:()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.COMMENTS.TIME_TO_RENDER_NEW_COMMENT_EDITOR,cancelExisting:!0});const t=Object(a("tK/r").d)(Object(a("tK/r").a)());e(t,"commentIssue","m")},label:c.a.createElement(S.FormattedMessage,MI.commentOnIssue),priority:999}})),[e]);var _I=e=>Object(l.useMemo)((()=>({".":{callback:()=>{e("triggerShortcutDialogOpen",".")},label:c.a.createElement(S.FormattedMessage,MI.openShortcutDialog),priority:999}})),[e]);const NI=(e,t)=>{const n=e.find((e=>e.length));return n&&(n[t]||n[n.length-1])},xI=(e,t)=>{const n=e.find((e=>e.includes(t)))||[],a=n.indexOf(t);return[n,a]},UI=(e,t)=>{const n=e.findIndex((e=>e.includes(t)));return[n,e[n].indexOf(t)]};var FI=e=>{
const t=Object(a("ovRs").h)(),n=Object(a("ovRs").l)();return Object(l.useMemo)((()=>n?{j:{callback:()=>{e(((e,t)=>{if(!e)return t;const[n,a]=xI(e,t);return n[a+1]||t})(n,t))},label:c.a.createElement(S.FormattedMessage,MI.nextIssue),priority:999},k:{callback:()=>{e(((e,t)=>{if(!e)return t;const[n,a]=xI(e,t);return n[a-1]||t})(n,t))},label:c.a.createElement(S.FormattedMessage,MI.previousIssue),priority:999},n:{callback:()=>{e(((e,t)=>{if(!e)return t;const[n,a]=UI(e,t),s=e.slice(n+1);return NI(s,a)||t})(n,t))},label:c.a.createElement(S.FormattedMessage,MI.nextActivity),priority:999},p:{callback:()=>{e(((e,t)=>{if(!e)return t;const[n,a]=UI(e,t),s=e.slice(0,n).reverse();return NI(s,a)||t})(n,t))},label:c.a.createElement(S.FormattedMessage,MI.previousActivity),priority:999}}:{}),[t,e,n])};const PI=e=>{const{dispatch:t}=e,n=Object(a("ovRs").h)(),{createAnalyticsEvent:s}=Object(a("rZ/p").a)(),[,{setShortcutsDialogVisibility:i}]=Object(a("cwUs").b)(),o=Object(l.useCallback)(((e,n,i)=>{
setTimeout((()=>t(e)),0),Object(a("yy8q").h)(s({}),"keyboardShortcut pressed",`${n}KeyboardShortcut`,{key:i})}),[s,t]),d=Object(l.useCallback)(((e,t)=>{requestAnimationFrame((()=>i(!0))),Object(a("yy8q").h)(s({}),"keyboardShortcut pressed",`${e}KeyboardShortcut`,{key:t}),Object(a("yy8q").h)(s({}),"keyboardShortcut pressed","dotDialogKeyboardShortcut",{key:t,view:"NEW_ISSUE_VIEW"})}),[s,i]),u=Object(l.useCallback)((e=>{e!==n&&t(Object(a("5JtD").c)({fromIssueKey:n,toIssueKey:e}))}),[t,n]),p=AI(o),m=_I(d),b=FI(u),g=Object(l.useMemo)((()=>r()(r()(r()({},p),b),m)),[b,p,m]);return c.a.createElement(a("1Bx6").a,{keyMap:g})};PI.displayName="KeyboardShortcutsView";var VI=Object(l.memo)(PI),KI=Object(d.connect)(null,(e=>({dispatch:e})))((e=>c.a.createElement(a("ho8o").a,{id:"keyboard-shortcuts",packageName:"issue-view"},c.a.createElement(VI,e))));const $I=()=>c.a.createElement(et.b,{to:`/login.jsp?os_destination=${window.location.href}`});$I.displayName="LoginRedirect"
;var WI=$I,BI=Object(S.defineMessages)({fieldsSectionLabel:{id:"issue.issue-view.issue-details.register-shortcuts.fields-section-label",defaultMessage:"Fields"},issueActionsSectionLabel:{id:"issue.issue-view.issue-details.register-shortcuts.issue-actions-section-label",defaultMessage:"Issue Actions"},issueWorkflowsSectionLabel:{id:"issue.issue-view.issue-details.register-shortcuts.issue-workflows-section-label",defaultMessage:"Workflow"},issueActionComment:{id:"issue.issue-view.issue-details.register-shortcuts.issue-action-comment",defaultMessage:"Comment"},issueActionAssignToMe:{id:"issue.issue-base.foundation.quick-add.quick-add-items.issue-action-assign-to-me",defaultMessage:"Assign to me"},assignToMeSuccessTitle:{id:"issue.issue-base.foundation.quick-add.quick-add-items.assign-to-me-success-title",defaultMessage:"Successfully assigned to you"},assignToMeSuccessDescription:{id:"issue.issue-base.foundation.quick-add.quick-add-items.assign-to-me-success-description",
defaultMessage:"You're now the assignee for {issueKey}."},assignToMeFailureTitle:{id:"issue.issue-base.foundation.quick-add.quick-add-items.assign-to-me-failure-title",defaultMessage:"We couldn't set the assignee"},assignToMeFailureDescription:{id:"issue.issue-base.foundation.quick-add.quick-add-items.assign-to-me-failure-description",defaultMessage:"Check your connection, then give it another try."}});const qI=({id:e})=>e,HI=e=>({type:t})=>t===e,GI=()=>(()=>Object(a("D3TY").a)("issue.details.layout-containers-api",!1))()?(()=>{const e=Object(a("ovRs").h)(),[t]=Object(a("pvIb").c)(e);return[{issueLayoutFields:Object(l.useMemo)((()=>t.reduce(((e,t)=>{var n;if(!Array.isArray(null==t||null===(n=t.items)||void 0===n?void 0:n.nodes)||0===t.items.nodes.length)return e
;const{nodes:s}=t.items,i=s.reduce(((e,t)=>t.type===a("Kv+q").a.field?e.concat(Object(a("pvIb").a)(t)):t.type===a("Kv+q").a.tab?e.concat(t.items.nodes.filter((e=>e.type===a("Kv+q").a.field)).map((e=>Object(a("pvIb").a)(e)))):e),[]);return e.concat(i)}),[])),[t])}]})():(()=>{const e=Object(a("ovRs").h)(),[t]=Object(a("pvIb").f)(e),[{issueTabs:n}]=Object(a("bXka").b)(e);return[{issueLayoutFields:Object(l.useMemo)((()=>Object.keys(t).reduce(((e,a)=>{const s=t[a];if(Array.isArray(null==s?void 0:s.items)){const t=s.items.filter(HI("FieldSectionItem")).map(qI),a=s.items.filter(HI("TabLayout")).reduce(((e,t)=>{const a=n[t.id];return a?e.concat(a.items.filter(HI("FIELD")).map(qI)):e}),[]);return e.concat(t,a)}return e}),[])),[t,n])}]})(),YI=Object(g.g)((()=>a.e("async-jira-issue-field-sprint-main").then(a.bind(null,"mePN"))),{ssr:!1,moduleId:"./src/packages/issue/fields/sprint/src/ui/index.js"}),ZI=e=>c.a.createElement(g.a,{fallback:null},c.a.createElement(YI,e))
;ZI.displayName="AsyncSprintField";var XI=()=>{const{LABELS_CF_TYPE:e,LABELS_TYPE:t,SPRINT_TYPE:n}=Object(a("tnWI").bb)(),s={actionId:"Labels",item:a("l/pY").a};return{[t]:s,[e]:s,[n]:{actionId:"Sprint",item:ZI}}};const JI=()=>{const e=Object(a("ovRs").h)(),t=Object(a("ovRs").g)(),n=Object(a("IFiJ").g)(e),s=Object(a("IFiJ").e)(n),[{value:i}]=Object(a("MoW5").c)(e),[,{setShortcutsDialogVisibility:o,setSelectedItemKey:r}]=Object(a("cwUs").a)(),d=Object(l.useCallback)((()=>{r(null),o(!1)}),[r,o]),u=Object(l.useMemo)((()=>XI()),[]),[{issueLayoutFields:p}]=GI();return Object(l.useMemo)((()=>p.reduce(((n,o)=>{const l=null==i?void 0:i[o];if(!l)return n;if(!l.isEditable)return n;const p=Object(a("1bbY").c)(l);if("string"!=typeof p)return n;const m=u[p];return m?[...n,{label:l.title,key:`field-${o}-${p}`,onClick:()=>{r(`field-${o}-${p}`)},type:a("IRz2").a,analytics:{attributes:{actionId:`editIssue${m.actionId}`,fieldType:p,issueFieldId:o},containers:{issueField:{id:o,type:p}}},render:()=>{
const n=m.item;return c.a.createElement(n,{fieldKey:o,issueId:t,issueKey:e,projectId:s,onCancel:d,onConfirm:d,onEscape:d,startWithEditViewOpen:!0,menuPosition:"fixed"})}}]:n}),[])),[u,i,t,e,p,d,s,r])};const zI=(e,t,n)=>e.filter((e=>e.to.id!==(null==t?void 0:t.id))).map((e=>({onClick:()=>n(e),label:e.name,key:String(e.id)}))),QI={},eC=[];var tC=({canCreateAttachment:e,shouldShowCreateSubtaskButton:t,shouldShowIssueInEpicButton:n,canCreateIssueLink:s,canEditIssues:i,onAddAttachmentClick:o,onCreateSubtaskClick:r,onCreateIssueInEpicClick:c,onChildCreateClick:d,supportsChildCreation:u,isServiceDesk:p,canLinkConfluencePage:m,onLinkConfluencePageClick:b,onCreateMajorIncidentClick:g,onInvestigateIncidentClick:f,onLinkIncidentClick:h,canAddWebLinks:E,onAddWebLinkClick:y,onAddIssueLinkClick:O,onChangeWorkflow:v,onAddComment:j,ecosystemActions:I,hasParent:C,practices:S})=>{
const{formatMessage:k}=Object(a("NRyt").d)(),w=Object(a("ovRs").g)(),T=Object(a("ovRs").h)(),D=Object(a("IFiJ").g)(T),[R]=Object(a("AJ6X").d)(D),[L]=Object(a("j3bG").b)({fieldKey:"servicedesk-incident-linking",issueKey:T}),[M]=Object(a("j3bG").b)({fieldKey:"servicedesk-incident-linking",issueKey:T}),[A]=Object(a("j3bG").b)({fieldKey:"servicedesk-incident-management",issueKey:T}),_=!!T&&!!w,[{isShortcutsDialogVisible:N},{registerShortcuts:x,setShortcutsLoading:U,setHasError:F}]=Object(a("cwUs").a)(),{onAssignToMeLinkClick:P,onAddCommentLinkClick:V,onWorkflowSelected:K}=(({onChangeWorkflow:e,onAddComment:t})=>{
const n=Object(a("ovRs").h)(),{createAnalyticsEvent:s}=Object(a("rZ/p").a)(),i=Object(a("IFiJ").g)(n),[o]=Object(a("AJ6X").d)(i),[{data:r}]=Object(a("NvmA").b)(),{onSuccess:c,onFailure:d}=Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()?Object(a("+PQg").a)():QI,{onSuccess:u,onFailure:p}=Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()?QI:Object(a("+PQg").b)(),m=Object(l.useCallback)((()=>{Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()?c({title:BI.assignToMeSuccessTitle,description:[BI.assignToMeSuccessDescription,{issueKey:n}]}):u(BI.assignToMeSuccessTitle,[BI.assignToMeSuccessDescription,{issueKey:n}])}),[c,u,n]),b=Object(l.useCallback)((e=>{Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()?d({error:e,title:BI.assignToMeFailureTitle,description:BI.assignToMeFailureDescription}):p(BI.assignToMeFailureTitle,BI.assignToMeFailureDescription)}),[d,p]),[{value:g,fieldConfig:f},{saveValue:h}]=Object(a("pncN").a)({issueKey:n,onSuccess:m,onFailure:b
}),E=Object(l.useCallback)((()=>{const e=s({});h(r,null,e)}),[r,h,s]),y=Object(l.useCallback)((async t=>{t.hasScreen?new(a("TptM").default)({baseUrl:Object(a("Rp3N").c)(""),transitionId:t.id,issueKey:n}).onDialogSuccess((()=>{e(t,!0)})).show():(await Object(a("/rpS").d)(`/rest/api/2/issue/${n}/transitions`,{body:JSON.stringify({transition:t})}),e(t,!1),Object(a("yy8q").f)(s({}),"issueStatus updated",{newValId:t.to.id,newStatusCategoryId:t.to.statusCategory.id,newStatusCategoryName:t.to.statusCategory.name,hasScreen:t.hasScreen,isConditional:t.isConditional}))}),[s,n,e]);return{onAssignToMeLinkClick:null!=f&&f.isEditable&&o.canBeAssignedToIssues&&(null==g?void 0:g.accountId)!==(null==r?void 0:r.accountId)?E:void 0,onAddCommentLinkClick:o.canAddComments?t:void 0,onWorkflowSelected:y}})({onChangeWorkflow:v,onAddComment:j});let $=!1,W=Object(l.useCallback)((()=>{}),[]);if(Object(a("d90y").isProformaIssueViewEnabled)()){const[{value:{hasProjectForms:e}},{onClickAddFormButton:t}]=gO({
issueKey:Object(a("Rp3N").n)(T)});W=t,$=!0===e}const[,{openLinkAlertsModal:B}]=Object(a("cY80").f)(),q=Object(a("oJcP").b)(I),H=Object(a("oj3Y").b)(C),[{value:G}]=Object(a("3YwS").a)({issueKey:T}),Y=Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()?JI():eC,Z=Object(l.useCallback)((async()=>{const l=(e=>Object.keys(e).map((t=>e[t])).flat().map((({id:e,label:t,onClick:n})=>({label:t,onClick:n,key:e}))))(pI({formatMessage:k,canCreateAttachment:e,canEditIssues:i,shouldShowCreateSubtaskButton:t,shouldShowIssueInEpicButton:n,canCreateIssueLink:s,onAddAttachmentClick:o,onCreateSubtaskClick:r,onCreateIssueInEpicClick:c,onChildCreateClick:d,supportsChildCreation:u,isServiceDesk:p,canLinkConfluencePage:m,onLinkConfluencePageClick:b,onCreateMajorIncidentClick:g,onInvestigateIncidentClick:f,incidentLinking:M,incidentEscalate:L,incidentManagement:A,onLinkIncidentClick:h,onLinkAlertsClick:B,canAddWebLinks:E,onAddWebLinkClick:y,onAddIssueLinkClick:O,practices:S
})),v=R.canEditIssues,j=(({onAddCommentLinkClick:e,onAssignToMeLinkClick:t,onClickAddForm:n,shouldShowProformaForms:a,formatMessage:s,canEdit:i})=>[...t?[{key:"assign-to-me",label:s(BI.issueActionAssignToMe),onClick:t}]:[],...e?[{key:"add-comment",label:s(BI.issueActionComment),onClick:e}]:[],...a&&i?[{key:"add-form",label:"Add form",onClick:n}]:[]])({onAddCommentLinkClick:V,onAssignToMeLinkClick:P,onClickAddForm:W,shouldShowProformaForms:$,formatMessage:k,canEdit:v}),I={key:"issueActions",label:k(BI.issueActionsSectionLabel),isLoaded:!0,weight:2,options:[...l,...j,...q,...H]},C=await Object(a("33X4").a)(T),w={key:"workflow",label:k(BI.issueWorkflowsSectionLabel),isLoaded:!0,weight:3,options:C?zI(C.transitions,G,K):[]};if(C||F(!0),Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()){const e={isLoaded:!0,key:"fields",label:k(BI.fieldsSectionLabel),weight:1,options:Y};x([e,I,w])}else x([I,w])
}),[k,e,i,t,n,s,o,r,c,d,u,p,m,b,g,f,M,L,A,H,h,B,E,y,O,V,P,T,q,G,K,x,F,Y,W,$,R.canEditIssues,S]);return Object(l.useEffect)((()=>{_&&N&&(U(!0),Z())}),[_,N,Z,U]),null};const nC=e=>c.a.createElement(a("ho8o").a,{id:"issue-register-shortcuts-dialog",packageName:"issue"},c.a.createElement(a("HlQC").a,{sourceName:"dotDialog",sourceType:a("CU8z").e},c.a.createElement(tC,e)));nC.displayName="RegisterShortcutsDialog";var aC=Object(d.connect)((e=>r()(r()({},xj(e)),{},{ecosystemActions:Object(a("mIpc").j)(e),hasParent:Object(a("ZseP").a)(e)})),(e=>r()(r()({},bI(e)),{},{onChangeWorkflow:(t,n)=>{e(Object(a("QNn4").e)("status",pi,t.to)),e(Object(a("QNn4").h)("status",t.to,{viaDialog:n}))},onAddComment:()=>{e(Object(a("c/pv").d)(a("c/pv").a)),e(Object(a("Rc4V").c)())}})))(nC),sC=a("dt0z"),iC=a.n(sC);const oC=mr()(((e,t,n)=>Object(a("QNWr").a)(((e,t,n="")=>`${t}/rest/api/3/user/assignable/search?issueKey=${e}&recommend=true&query=&sessionId=${n}`)(e,t,n)))),rC=mr()(((e,t,n,s,i)=>{
const o=`${e.baseUrl}/gateway/api/fields/v2/prefetch`;return Object(a("QNWr").a)(o,{body:JSON.stringify({context:{product:"jira",sessionId:s,containerId:e.projectId,objectId:e.issueId,principalId:e.accountIdloggedInUser,tenantId:e.cloudId,additionalContext:{properties:t,type:"issue",customPropertyMappings:n}},prefetchFields:i}),headers:{"Content-Type":"application/json"},method:"POST"})}),(e=>+e.issueId)),lC=mr()(((e,t,n,s)=>Object(a("QNWr").a)(((e,t,n="",a)=>`${t}/rest/api/1.0/labels/${a}/suggest?query=&sessionId=${n}`)(0,t,n,s)))),cC=e=>null!=e,dC=e=>cC(e)&&""!==e,uC={assignee:oC,labels:lC},pC=Object(l.memo)((e=>{const t=(e=>{if(dC(e.projectId)&&cC(e.issueId)&&e.issueId!==Object(a("Rp3N").l)("")&&dC(e.cloudId)&&dC(e.issueKey)&&cC(e.fields))return r()(r()({},e),{},{issueId:e.issueId,projectId:e.projectId})})(e);if(void 0===t)return null
;const[n,s]=Object(a("ShTA").b)(t.issueKey)(),{issueId:i,cloudId:o,projectId:c,accountIdloggedInUser:d,fields:u,baseUrl:p,issueKey:m,customFieldMappings:b,createAnalyticsEvent:g}=t,f={issueId:i,cloudId:o,projectId:c,accountIdloggedInUser:d,baseUrl:p};return Object(l.useEffect)((()=>{if(n&&Object.values(n).filter((e=>e)).length>0)return;const e=Object.keys(uC||{}),t=e.filter((e=>!!u[e]&&u[e].editable));if(!((e,t,n)=>!(e.length<t.length&&(n&&a("RDfz").a.safeInfoWithoutCustomerData("smart-field-prefetch.index","Prefetch request skipped for non-editable fields.",n({action:"skipped",actionSubject:"prefetch"}).update({prefetchableFields:t,permissiableFields:e})),0===e.length)))(t,e,g))return;const o=ur.a.v4();rC(f,u,b,o,t).then((({prefetchFields:e=[]})=>{((e,t,n,s)=>{if(null==e)return;const i=e({action:"requested",actionSubject:"prefetchFields",actionSubjectId:s}),o={prefetchSessionId:s,requestedFields:t,positiveFields:n};Object(a("yy8q").c)(i,"prefetchFields requested",s,o)})(g,t,e,o),
t.forEach((t=>{if(e.includes(t)){const e=ur.a.v4(),n=uC[t](m,p,e,i);s.setField(t,o,!0,e,n),((e,t,n,s)=>{if(null==e)return;const i="prefetched",o=e({action:i,actionSubject:"field"}),r={fieldFetchSessionId:s,prefetchSessionId:n,fieldId:t};Object(a("yy8q").c)(o,`field ${i}`,r)})(g,t,o,e)}else s.setField(t,o,!1,null,null)}))})).catch((e=>{a("RDfz").a.safeErrorWithoutCustomerData("smart-field-prefetch.index","error while calling frs prefetch",e)}))}),[p,f,u,m,b,s,g,i,n]),null}),((e,t)=>iC()(e.issueId)===iC()(t.issueId)&&iC()(e.projectId)===iC()(t.projectId))),mC=e=>{const t=Object(a("+2Qm").a)(),n=Object(a("ovRs").j)(),s=Object(a("IFiJ").e)(n),i=Object(a("ovRs").h)(),o=Object(a("Rp3N").c)(""),r=Object(a("94cx").a)();return c.a.createElement(pC,j()({},e,{cloudId:t,projectId:s,issueKey:i,baseUrl:o,accountIdloggedInUser:r}))};mC.displayName="SmartFieldPrefetchApp";var bC=mC
;const gC=["epic","sprint","storyPointsField","com.atlassian.teams:rm-teams-custom-field-team","com.atlassian.jpo:jpo-custom-field-parent","com.atlassian.jpo:jpo-custom-field-baseline-start","com.atlassian.jpo:jpo-custom-field-baseline-end","com.pyxis.greenhopper.jira:jsw-issue-color","com.pyxis.greenhopper.jira:jsw-story-points"],fC=e=>e?gC.map((t=>{const n=Object(a("KSj7").r)(t)(e);return n?{[t]:n.key}:{}})).reduce(((e,t)=>r()(r()({},e),t)),{}):{};var hC=Object(a("VHV8").a)()(Object(d.connect)(((e,t)=>({fields:Object(a("KSj7").t)(e),issueId:Object(a("4dgq").v)(e),customFieldMappings:fC(e),createAnalyticsEvent:t.createAnalyticsEvent})),{})(bC));class EC extends l.Component{constructor(...e){super(...e),this.state={isIssueContainerReady:!1,attachmentHover:!1},this.setIssueBodyContainerRef=e=>{e&&(this.issueBodyContainerRef=e,this.setState({isIssueContainerReady:!0}))},this.setAttachmentHover=e=>{this.setState({attachmentHover:e})},this.setAttachmentHoverFalse=()=>{this.setState({
attachmentHover:!1})},this.setAttachmentHoverTrue=()=>{this.setState({attachmentHover:!0})},this.hasErrored=!1,this.issueBodyContainerRef=void 0,this.renderError=(e,t)=>{const{isComplete:n,isAnonymous:s}=this.props,i=r()({},t);switch(e){case"AUTHENTICATION_ERROR":return n?c.a.createElement(a("2X9E").c,{location:"auth-error"},c.a.createElement(hn,null)):c.a.createElement(hn,null);case"NOT_FOUND_OR_NO_PERMISSION_ERROR":return Object(a("d90y").isTTFBRedirectToLoginOnAuthAndPermFailureEnabled)()&&s?c.a.createElement(WI,null):n?c.a.createElement(a("2X9E").c,{location:"not-found-or-no-permission-error"},c.a.createElement(vn,null)):c.a.createElement(vn,null);case"UNKNOWN_ERROR":case"CONNECTIVITY_ERROR":default:return n&&"CONNECTIVITY_ERROR"!==e?c.a.createElement(a("2X9E").a,{location:"unknown-error",failureEventAttributes:i},c.a.createElement(Sn,null)):c.a.createElement(Sn,null)}},this.renderAttachmentPickers=()=>{const{isServiceDesk:e,isComplete:t,projectType:n}=this.props
;return t?c.a.createElement(zt,{experience:"renderAttachmentPickers",analyticsSource:e?"issue-view-jsd":"issue-view-non-jsd",projectType:n,isReady:this.state.isIssueContainerReady&&!!this.issueBodyContainerRef},e?c.a.createElement(c.a.Fragment,null,c.a.createElement(Pt,null),c.a.createElement(Ht,null),this.state.isIssueContainerReady&&this.issueBodyContainerRef&&c.a.createElement(Xt,{container:this.issueBodyContainerRef,onDragEnter:this.setAttachmentHoverTrue,onDragLeave:this.setAttachmentHoverFalse,onDrop:this.setAttachmentHoverFalse})):c.a.createElement("div",null,c.a.createElement(Dt,null),c.a.createElement(qt,null),this.state.isIssueContainerReady&&this.issueBodyContainerRef&&c.a.createElement(Jt,{container:this.issueBodyContainerRef,onDragEnter:this.setAttachmentHoverTrue,onDragLeave:this.setAttachmentHoverFalse,onDrop:this.setAttachmentHoverFalse}))):null}}componentDidMount(){const{onRefresh:e,onMount:t}=this.props;t(),a("Kigm").a.addRefreshIssueListener(e),
this.props.isComplete&&this.props.onLoadedIssueView()}shouldComponentUpdate(e){const{error:t,isLoading:n}=this.props,a=n&&e.isLoading;return e.error!==t||!a}componentDidUpdate(e){const{error:t}=this.props;null!=t&&(this.hasErrored=!0),this.hasErrored||this.isCompleteStateForFirstTime(e)&&this.props.onLoadedIssueView()}componentWillUnmount(){a("Kigm").a.removeRefreshIssueListener(this.props.onRefresh)}isCompleteStateForFirstTime(e){const{isComplete:t}=this.props;return t&&!e.isComplete}renderWorklogModal(){switch(this.props.worklogModal){case"ADD_MODAL":return c.a.createElement(we,{externalId:""});case"EDIT_MODAL":return c.a.createElement(Ze,null);case"DELETE_MODAL":return c.a.createElement($e,null);case"NO_MODAL":default:return null}}renderMainContent(){const{error:e,errorMessage:t,isLoading:n,isCompact:s,issueMaxWidth:i,shouldShowCloseButton:o,onClose:r,isModal:l}=this.props;return null!=e?c.a.createElement(a("XYfm").a,{isCompact:s},c.a.createElement(a("TuyW").a,{medium:10
},o&&c.a.createElement(a("Q7Ko").a,{viewModeOptions:this.props.viewModeOptions,shouldShowCloseButton:!0,onClose:r}),this.renderError(e,t))):n?c.a.createElement(a("00Ls").a,{isEmbedView:i!==Object(a("Kn7U").a)(),isModalView:l}):c.a.createElement(RI,{innerRef:this.setIssueBodyContainerRef},c.a.createElement(LI,{attachmentHover:this.state.attachmentHover}),this.state.attachmentHover&&c.a.createElement(bt,null),c.a.createElement(DI,{renderFeedback:this.props.renderFeedback,issueDeleteCallbacks:this.props.issueDeleteCallbacks,viewModeOptions:this.props.viewModeOptions,isStickyHeaderOffset:this.props.isStickyHeaderOffset,onClose:r,isCompact:s,issueMaxWidth:i,shouldShowProjectLevelBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowCloseButton:o}),this.renderWorklogModal(),this.renderAttachmentPickers(),this.props.isServiceDesk&&this.props.isComplete&&c.a.createElement(kn,null),c.a.createElement(en,{
externalId:"issue.ecosystem"}),this.props.isComplete&&c.a.createElement(ln,null),c.a.createElement(hC,null),Object(a("d90y").isFieldDescriptionEnabled)()&&this.props.isComplete?c.a.createElement(O,{key:this.props.issueKey}):null)}render(){const{jql:e,filter:t}=b.a.parse(window.location.search),n=null!=e||null!=t;return c.a.createElement(c.a.Fragment,null,c.a.createElement(lt,{isLoading:this.props.isLoading,isPreview:this.props.isPreview,isComplete:this.props.isComplete,error:this.props.error,metrics:this.props.metrics,issueKey:this.props.issueKey}),this.props.isComplete?c.a.createElement(a("VF8P").a,null):null,c.a.createElement(jt,{externalId:"issue.flags"}),c.a.createElement(KI,null),c.a.createElement(a("v+Py").a,null,this.renderMainContent()),!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(a("XE29").a,{header:c.a.createElement(Qe,null),menuTitle:this.props.issueKey
}),c.a.createElement(aC,null)),Object(a("d90y").isAggShadowReadEnabled)()&&this.props.isComplete&&c.a.createElement(h,null))}}EC.displayName="Issue",EC.displayName="Issue",EC.defaultProps={projectType:null,onLoadedIssueView:p.a,onMount:p.a};n.default=Object(a("v5q+").a)([Object(a("VHV8").a)({onLoadedIssueView:{action:"mounted"}}),Object(d.connect)((e=>({isLoading:Object(a("/LFc").r)(e),isPreview:Object(a("/LFc").s)(e),isComplete:Object(a("/LFc").n)(e),isModal:Object(a("4dgq").s)(e),error:Object(a("/LFc").i)(e),errorMessage:Object(a("/LFc").h)(e),issueKey:Object(a("4dgq").w)(e),isServiceDesk:Object(a("4dgq").t)(e),projectType:Object(a("/LFc").G)(e),worklogModal:Object(a("gnYg").e)(e),isAnonymous:Object(a("4dgq").n)(e)})),(e=>({onRefresh:()=>e(Object(a("dPO5").g)()),onMount:()=>{e((()=>({type:"ISSUE_VIEW_MOUNTED"}))())},onLoadedIssueView:e=>{const t={action:"viewed",attributes:{isBacklogSearchFieldChangeboardingEnabled:Object(a("d90y").isBacklogSearchFieldChangeboardingEnabled)()}};try{
Object(a("w49h").a)(e,t)}catch(n){a("RDfz").a.safeErrorWithoutCustomerData("issue.viewed",n,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:n}))}}}))),a("q06Z").a,(()=>e=>{var t,n;return n=t=class extends l.Component{constructor(...e){super(...e),this.MetricsContext=Object(a("J3F1").c)()}render(){const{MetricsContext:t}=this;return c.a.createElement(t.Consumer,null,(t=>c.a.createElement(e,j()({},this.props,{metrics:t}))))}},t.displayName=`WithMetricsConsumer(${e.displayName||e.name})`,n})(),Object(a("jAv3").a)((e=>{const t=Object(a("8c2Y").a)(e),n=Object(a("F1GU").b)(e),s=r()(r()(r()({},t.attributes),n),{},{issueHierarchyLevel:Object(a("Hxy2").b)(e)});return r()(r()({},t),{},{attributes:s})}))])(EC)},Glcm:function(e,t,n){e.exports=n.p+"assets/Error.be0d40cfbcd6c064b92b9530fd4cf3ce.8.svg"},GqMi:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));const a=()=>({
type:"FETCH_CONFLUENCE_APP_LINKS_REQUEST"}),s=e=>({type:"FETCH_CONFLUENCE_APP_LINKS_SUCCESS",payload:e.applicationLinks}),i=()=>({type:"FETCH_CONFLUENCE_APP_LINKS_FAILED"})},Gsfr:function(e,t,n){"use strict";var a=n("q1tI");t.a=e=>{const[t,s]=Object(a.useState)([]),[i,o]=Object(a.useState)(void 0),[r,l]=Object(a.useState)(!1),c=Object(a.useRef)(""),d=Object(a.useCallback)(((t="")=>{if(["",null,void 0].includes(e))return Promise.resolve([]);const a=`${e||""}${t}`;return l(!0),c.current=t,i&&o(void 0),Object(n("QNWr").a)(a).then((e=>{t===c.current&&s(e)})).catch((e=>{t===c.current&&o(e),n("fnbV").a.safeErrorWithoutCustomerData("issue.fields.assigne","Failed to fetch users",e)})).finally((()=>l(!1)))}),[e,i]);return[{data:t,error:i,loading:r},d]}},"H+Rz":function(e,t,n){e.exports=n.p+"assets/upload.2b48c8308f51dfc6be4e460c86920fae.8.svg"},"H/9g":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),
n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u}));const a=e=>({type:"ADD_CONTENT_PANEL_REQUEST",payload:e}),s=e=>({type:"ADD_CONTENT_PANEL_SUCCESS",payload:e}),i=e=>({type:"ADD_CONTENT_PANEL_FAILURE",payload:e}),o=e=>({type:"REMOVE_CONTENT_PANEL_REQUEST",payload:e}),r=e=>({type:"REMOVE_CONTENT_PANEL_SUCCESS",payload:e}),l=e=>({type:"REMOVE_CONTENT_PANEL_FAILURE",payload:e}),c=e=>({type:"CONTENT_PANEL_SELECTED",payload:e}),d=e=>({type:"CONTENT_PANEL_UNSELECT",payload:e}),u=()=>({type:"CONTENT_PANELS_CUSTOMISED_SUCCESS"})},Hc0Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").I,(e=>e.activityFeed)),i=Object(a.createSelector)(s,(e=>e.selectedActivityItem)),o=Object(a.createSelector)(s,(e=>e.selectedActivitySortOrder))},
HlSV:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r);const c=["isFieldDescriptionEnabled","children"],d=["children","renderAfterOnHover"],u=e=>{let{isFieldDescriptionEnabled:t=!1,children:a}=e,i=o()(e,c);const d=Object(r.useContext)(n("IOWA").a);return l.a.createElement(n("gEry").b,s()({isFieldDescriptionEnabled:t,isCompact:d},(()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1))()&&i),a)};u.displayName="FieldHeading";const p=e=>{let{children:t,renderAfterOnHover:n}=e,a=o()(e,d);const[i,c]=Object(r.useState)(!1),p=Object(r.useCallback)((()=>c(!0)),[]),m=Object(r.useCallback)((()=>c(!1)),[]);return l.a.createElement(u,s()({},a,{onMouseEnter:p,onMouseLeave:m}),t,i&&n)};p.displayName="FieldHeadingWithHover"},HufU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=n("vOnD").default.div.withConfig({componentId:"sc-16wuws5-0"
})`display:flex;align-items:center;color:${e=>e.isActive?n("5kDX").a.N0:e.hasSecurityLevel?n("5kDX").a.R400:null};`},Hxd8:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("DzJC"),l=n.n(r);function c(e){return t=>{const[a,r]=Object(i.useState)(void 0),c=l()(r,50);return o.a.createElement(o.a.Fragment,null,o.a.createElement(n("4Ddp").a,null,o.a.createElement(n("qBu9").a,{setWidth:c})),o.a.createElement(e,s()({},t,{containerWidth:a})))}}},Hxy2:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return E}));var a=n("peh1")
;const s=Object(n("KSj7").p)("hierarchy-level-below")||null,i=Object(a.createSelector)(s,(e=>e&&e.issueTypes||[])),o=Object(a.createSelector)(n("/LFc").f,i,((e,t)=>{const n=e.issueTypes,a=t.map((e=>e.id));return n.filter((e=>-1!==a.indexOf(e.id)))
})),r=Object(a.createSelector)(n("nGHA").h,i,((e,t)=>e.canCreateChildren&&!!t.length)),l=Object(n("KSj7").p)("hierarchy-level-above")||null,c=Object(a.createSelector)(l,(e=>e&&(e.name||null))),d=Object(a.createSelector)(l,(e=>e&&e.issueTypeIds.map(String)||[])),u=Object(a.createSelector)(l,(e=>e&&e.issueTypes.map((e=>e.name)).filter((e=>e))||[])),p=Object(a.createSelector)(d,(e=>e.length>0)),m=Object(n("KSj7").p)("hierarchy-level-same-level")||null,b=Object(a.createSelector)(m,(e=>!!e&&Object(n("xinf").d)(e.level))),g=Object(a.createSelector)(m,(e=>e?e.issueTypeIds.map(String):[])),f=Object(a.createSelector)(m,(e=>e?Object(n("xinf").e)(e.level):null)),h=Object(a.createSelector)(f,(e=>null==e||Object(n("xinf").b)(e))),E=Object(a.createSelector)(c,n("Q7bB").a,p,((e,t,n)=>Boolean(e)&&t&&n))},I8nz:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("sEfC"),l=n.n(r),c=n("EcEN"),d=n.n(c)
;var u=n("3tO9"),p=n.n(u),m=n("Y+p1"),b=n.n(m),g=n("J2iB"),f=n.n(g),h=n("6ajc"),E=n.n(h);const y=e=>Object(n("hhxX").a)(e.toString()).toString(),O=e=>e.filter((e=>e.value)).map((({value:e})=>y(e))),v=e=>E()(e.map((e=>e.options))),j=e=>e.filter((e=>e.value)).map((({value:e})=>null!=e?`${e}`.length:0)),I=Object(n("wW5i").a)("select",{onChange:"valueChanged",onInputChange:"inputChanged",onMenuOpen:"menuOpened",onMenuClose:"menuClosed"})(n("CF39").a),C=e=>{const{fieldId:t,isLoading:a,onChange:r,onInputChange:l,options:c,value:u,sessionId:m,isMulti:g}=e,h=Object(i.useRef)(!0),E=Object(i.useRef)(m),C=Object(i.useRef)(0),[S,k]=Object(i.useState)(v(c)),[w,T]=Object(i.useState)(""),[D,R]=Object(i.useState)(""),{createAnalyticsEvent:L}=Object(n("rZ/p").a)(),M=Object(i.useCallback)((e=>{const s=f()(u)?[]:u
;let i=((e,t)=>e.filter((e=>"string"==typeof e.value&&e.value.toLowerCase().includes((t||"").toLowerCase())||"string"==typeof e.label&&e.label.toLowerCase().includes((t||"").toLowerCase()))))(S,e);const o=i.length;i=i.slice(0,20);const r=O(i);return{fieldId:t,isLoading:a,optionsLength:o,componentName:"select",packageName:"@atlaskit/select",optionValuesSafeForAnalytics:!1,options:r,optionsLengths:j(i),queryLength:e.length,queryHash:""===e?e:Object(n("hhxX").a)(e),selectedOptions:O(s),selectedOptionsLengths:j(s),sessionId:E.current,truncationSize:20}}),[t,S,a,E,u]),A=Object(i.useCallback)((e=>{const t=[];return S.forEach(((n,a)=>{n.value===e.value&&t.push(a)})),t.length>0?t[0]:-1}),[S]),_=Object(i.useCallback)(((e,t,a)=>{const s=p()(p()({},M(t)),a);Object(n("yy8q").h)(e,s)}),[M]),N=Object(i.useCallback)(((e,t,a,s)=>{const i=p()(p()({},M(D)),s);Object(n("yy8q").f)(e,`${a} ${t}`,i)}),[M,D]),x=Object(i.useCallback)((()=>{void 0===E.current&&(E.current=d.a.v4()),C.current=n("SHpS").d.now(),
N(L({action:"started"}),"started","optionSelectionSession")}),[L,N,E,C]),U=Object(i.useCallback)((()=>{if(void 0!==E.current){const e=C.current,t=0===e?n("SHpS").d.now()-e:0;N(L({action:"ended"}),"ended","optionSelectionSession",{elapsedTime:t})}E.current=void 0,C.current=0}),[L,N,E,C]),F=Object(i.useCallback)((()=>{U(),x()}),[U,x]),P=Object(i.useCallback)(((e,t,n)=>{"set-value"===t.action&&T(D),R(e),n.update({action:"changed",actionSubject:"filter"}),_(n,e)}),[_,D,R,T]),V=Object(i.useCallback)((e=>{e.update({action:"loaded",actionSubject:"options"}),_(e,D)}),[_,D]),K=Object(i.useCallback)(((e,t)=>{t.update({action:"created",actionSubject:"option"});const n=E.current;F(),_(t,w,{selectedOption:y(e.value),sessionId:n})}),[_,w,F,E]),$=Object(i.useCallback)(((e,t)=>{t.update({action:"removed",actionSubject:"option"}),_(t,D,{removedItem:e?y(e.value):void 0})}),[_,D]),W=Object(i.useCallback)(((e,t)=>{t.update({action:"changed",actionSubject:"option"});const n=E.current;F(),_(t,w,{
selectedOption:y(e.value),selectedOptionLength:null!==e.value?`${e.value}`.length:0,selectedOrder:A(e),sessionId:n})}),[_,A,w,F,E]),B=Object(i.useCallback)(((e,t,n)=>{const a=Array.isArray(e)?e[e.length-1]:e;switch(t.action){case"create-option":null!==a&&K(a,n);break;case"remove-value":case"pop-value":case"deselect-option":$(t.removedValue||t.option,n);break;case"select-option":null!==a&&W(a,n)}r&&r(g?e||[]:e,t)}),[K,$,W,r,g]),q=Object(i.useCallback)(((e,t,n)=>{"input-change"!==t.action&&"set-value"!==t.action||P(e,t,n),l(e,E.current)}),[P,l,E]);return Object(i.useEffect)((()=>(x(),P("",{action:"fake-action"},L({})),()=>{U()})),[]),Object(i.useEffect)((()=>{const e=v(c);(()=>Object(n("D3TY").a)("project.config.issue.create.flattenned-label-option-object-comparison",!1))()&&b()(S,e)||k(e),h.current?h.current=!1:V(L({}))}),[c]),o.a.createElement(I,s()({},e,{onChange:B,onInputChange:q}))};C.displayName="CreatableSelectWithAnalyticsView";var S=C,k=n("JRPe"),w=Object(k.defineMessages)({
empty:{id:"issue-field-labels.edit.empty",defaultMessage:"No matches found"},failedFetch:{id:"issue-field-labels.edit.failed-fetch",defaultMessage:"Search failed. Please try again."},placeholder:{id:"issue-field-labels.edit.placeholder",defaultMessage:"Select label"},createNewItem:{id:"issue-field-labels.edit.create-new-item",defaultMessage:"New label"},loading:{id:"issue-field-labels.edit.loading",defaultMessage:"Searching..."},recent:{id:"issue-field-labels.edit.recent",defaultMessage:"Recent labels"},all:{id:"issue-field-labels.edit.all",defaultMessage:"All labels"}});const T=Object(n("FM9U").a)(n("CF39").a),D=e=>{
const{autoCompleteUrl:t,autoFocus:a,onChange:r,onFocus:c,onBlur:u,spacing:p,value:m,options:b,cachedOptions:g=[],formatCreateLabel:f,noOptionsMessage:h,loadingMessage:E,onCloseMenuOnScroll:y,isDropdownMenuFixedAndLayered:O,issueId:v,projectId:j,getSuggestions:I,fetchSuggestionsOnMount:C=!0,fieldId:k="labels",isInvalid:D=!1,smartRank:R=!1,menuPosition:L,ariaLabel:M=""}=e,[A,_]=Object(i.useState)(!1),[N,x]=Object(i.useState)(),[U,F]=Object(i.useState)(),[P,V]=Object(i.useState)(!1),K=Object(i.useRef)(""),$=Object(i.useRef)(d.a.v4()),{formatMessage:W}=Object(n("NRyt").d)(),[{isLoadingSuggestions:B},{getLabelsSuggestions:q,setIsLoadingSuggestions:H}]=Object(n("u129").b)({fieldId:k,getSuggestions:I}),G=Object(i.useCallback)((()=>o.a.createElement(n("YO9v").b,null,W(w.failedFetch))),[W]),Y=Object(i.useCallback)((async(e="")=>{try{const a=await q(t,e,$.current);if(H(!1),K.current===e){const t=Object(n("BNlF").c)(a);x(t),""===e&&F(t)}}catch(a){H(!1),V(!0),x([{label:G(),value:"",isDisabled:!0
}])}}),[t,G,q,K,$,V,H]);Object(i.useMemo)((()=>{C&&(b||U?b&&!U?(F(b),x(b)):(K.current="",H(!0),Y()):(H(!0),Y()))}),[]);const Z=Object(i.useMemo)((()=>[{label:W(w.recent),options:g},{label:W(w.all),options:N||[]}]),[g,W,N]),X=Object(i.useCallback)(l()(Y,300),[]),J=Object(i.useCallback)((e=>`${e} (${void 0!==f?f:W(w.createNewItem)})`),[f,W]),z=Object(i.useCallback)((()=>void 0!==h?h:W(w.empty)),[W,h]),Q=Object(i.useCallback)((()=>void 0!==E?E:W(w.loading)),[W,E]),ee=Object(i.useCallback)(((e,t)=>!!P||Object(n("XXsi").a)(e,t||"")),[P]),te=Object(i.useCallback)((e=>{X.cancel(),V(!1),e?(K.current=e,H(!0),X(e)):(K.current="",H(!1),x(U))}),[X,U,H,x]),ne=Object(i.useCallback)((e=>{_(!0),!1===C&&(H(!0),Y("")),c&&c(e)}),[C,Y,c,H,_]),ae=Object(i.useCallback)((e=>{_(!1),u&&u(e)}),[u]),se=(()=>Object(n("D3TY").a)("issue.details.extracted-field.labels.with-smarts-hoc",!1))(),ie=se?T:S,oe=se?{issueId:v,projectId:j,smartRank:R}:{};let re
;return re=(()=>Object(n("D3TY").a)("issue.details.dot-dialog-fields-milestone-1",!1))()&&"string"==typeof L?L:!0===O?"fixed":void 0,o.a.createElement(ie,s()({isMulti:!0,autoFocus:a,fieldId:k,options:Z,value:m,menuIsOpen:A,onBlur:ae,menuPosition:re,styles:!0===O?n("YO9v").f:void 0,onFocus:ne,noOptionsMessage:z,closeMenuOnScroll:y,loadingMessage:Q,placeholder:W(w.placeholder),onInputChange:te,onChange:r,spacing:p,isLoading:A&&B,filterOption:ee,formatCreateLabel:J,validationState:!0===D?"error":null,sessionId:$.current,"aria-label":M},oe))};D.displayName="LabelsEdit";t.a=D},IFiJ:function(e,t,n){"use strict";n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"i",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return j})),n.d(t,"e",(function(){return I})),n.d(t,"h",(function(){return C})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return k}));var a={};n.r(a),n.d(a,"setProjectContext",(function(){return r})),
n.d(a,"mergeProjectProperty",(function(){return l}));var s=n("q1tI"),i=n("3tO9"),o=n.n(i);const r=(e,t)=>({setState:n})=>{n({[e]:t})},l=(e,t)=>({setState:n,getState:a})=>{const s=a()[e],i=o()(o()({},s),t);n({[e]:i})},c=Object(n("0b8M").a)({name:"project-context",initialState:{},actions:a}),d=Object(n("dq9g").a)(c,{selector:null}),u=(e,{projectKey:t})=>e[t],p=Object(n("dq9g").a)(c,{selector:u}),m=Object(n("dq9g").a)(c,{selector:(e,{projectKey:t})=>{const n=u(e,{projectKey:t});return null==n?void 0:n.projectType}}),b=(Object(n("dq9g").a)(c,{selector:(e,{projectKey:t})=>{const n=u(e,{projectKey:t});return null==n?void 0:n.projectName}}),Object(n("dq9g").a)(c,{selector:(e,{projectKey:t})=>{const n=u(e,{projectKey:t});return null==n?void 0:n.issueTypes}})),g="flagActions",f=()=>({applicationKey:n("koL6").a.SOFTWARE_ISSUE,issueActions:[g],ecosystemEnabled:!0}),h=e=>{if(e)switch(e.projectType){case"software":return e.isSimplified?(()=>({applicationKey:n("koL6").a.SIMPLE_SOFTWARE_BOARD,
issueActions:[g,"cardCoverActions"],ecosystemEnabled:!0}))():f();case"business":return(()=>({applicationKey:n("koL6").a.CORE_ISSUE,issueActions:[],ecosystemEnabled:!0}))();case"service_desk":return(()=>({applicationKey:n("koL6").a.SERVICE_DESK,issueActions:[],ecosystemEnabled:!0}))();default:return f()}return f()},E=e=>Object(n("Rp3N").t)(e.split("-")[0]),y=()=>{const[,{setProjectContext:e,mergeProjectProperty:t}]=d();return[null,Object(s.useMemo)((()=>({setProjectContext:e,mergeProjectProperty:t})),[e,t])]},O=e=>{const[t]=m({projectKey:e});return t},v=e=>{const[t]=p({projectKey:e});return t},j=e=>{const[t]=p({projectKey:e});return(null==t?void 0:t.isSimplified)||!1},I=e=>{const[t]=p({projectKey:e});return null==t?void 0:t.projectId},C=e=>{const[t]=p({projectKey:e});return null==t?void 0:t.projectStatus},S=e=>{const t=O(e),n=j(e);return h({isSimplified:n,projectType:t})},k=e=>{const[t]=b({projectKey:e});return t}},IOWA:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),
n.d(t,"b",(function(){return d}));var a=n("q1tI"),s=n.n(a),i=n("DzJC"),o=n.n(i);const r=n("vOnD").default.div.withConfig({componentId:"sc-1t7i1zu-0"})`position:relative;`,l=Object(a.createContext)(!1),{Provider:c}=l,d=({children:e,defaultIsCompact:t=!1})=>{const[i,l]=Object(a.useState)(t),d=Object(a.useMemo)((()=>o()(l,50)),[]),u=Object(a.useCallback)((e=>{d(null!=e&&e<=325)}),[d]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(r,null,s.a.createElement(n("qBu9").a,{setWidth:u})),s.a.createElement(c,{value:i},e))}},IPRs:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),s=n.n(a),i=n("/MKj"),o=n("peh1")
;const r=[n("wpii").a.FULL_ISSUE,n("wpii").a.SERVICEDESK_QUEUES_ISSUE,n("wpii").a.SERVICEDESK_REPORTS_ISSUE],l=Object(o.createSelector)(n("4dgq").b,n("/LFc").u,n("kk5J").a,((e,t,n)=>"string"==typeof e&&(r.includes(e)&&!t)&&!n)),c=Object(o.createSelector)(l,(e=>e)),d=Object(o.createSelector)(n("nGHA").c,n("nGHA").b,((e,t)=>e||t)),u=Object(o.createSelector)(n("/LFc").u,d,((e,t)=>t&&e)),p=Object(o.createSelector)(n("/LFc").i,n("4dgq").r,((e,t)=>!e&&!t)),m=(Object(o.createSelector)(n("OEhx").c,n("OEhx").b,n("bQbD").b,n("/LFc").m,((e,t,n,a)=>!e&&!t&&n&&a)),Object(o.createSelector)(n("OEhx").c,n("/LFc").m,((e,t)=>e&&t)),Object(o.createSelector)(n("/LFc").t,n("aoGV").c,((e,t)=>e||t)));var b=n("Y+p1"),g=n.n(b),f=n("cr+I"),h=n.n(f);const E=Object(n("0b8M").a)({name:"issue-view.issue-actions.find-field",initialState:{isOpen:!1},actions:{openFindFieldDialog:()=>({setState:e})=>{e({isOpen:!0})},closeFindFieldDialog:()=>({setState:e})=>{e({isOpen:!1})}}
}),y=Object(n("dq9g").a)(E),O=({label:e,itemKey:t,onClick:i})=>{const[,{openFindFieldDialog:o}]=y(),r=Object(a.useCallback)((()=>{o(),null==i||i(t)}),[t,i,o]);return s.a.createElement(n("ourr").a,{key:"findFieldDropdownItem",onClick:r},e)};O.displayName="FindField";var v=O,j=n("JRPe"),I=Object(j.defineMessages)({findField:{id:"issue.adminActionDropdown.findField",defaultMessage:"Find your field"}});const C=(e,t)=>({name:"",key:"AdminActionsDropdownGroup",items:e.reduce(((e,{Component:n,label:a,key:i})=>(n&&e.push(s.a.createElement(n,{label:a,key:i,itemKey:i,onClick:t})),e)),[])});var S=n("6xe2"),k=n("IlP+");Object(k.asyncComponent)({resolve:()=>Promise.all([n.e("vendor~748942c6"),n.e("vendor~31ecd969"),n.e("vendor~f9ca8911"),n.e("async-jira-clone-issue-dialog")]).then(n.bind(null,"szpz")),name:"AsyncCloneIssueDialog"});const w=({children:e,packageName:t})=>s.a.createElement(n("+sGL").a,{id:"clone-issue-dialog",packageName:t},e);w.displayName="CloneIssueDialogBoundary"
;var T=n("E+oP"),D=n.n(T);const R=Object(n("KSj7").r)("children-issues"),L=Object(o.createSelector)(R,n("KSj7").b,((e,t)=>Object(n("d90y").isIssueViewAggChildPanelEnabled)()?!!e&&(!D()(e.value)||Boolean(t("children-issues"))):!!e&&!D()(e.value))),M=Object(o.createSelector)(n("/LFc").I,(e=>e.cloneModal)),A=Object(o.createSelector)(M,(e=>e.isOpen)),_=Object(S.h)((()=>Promise.all([n.e("vendor~748942c6"),n.e("vendor~31ecd969"),n.e("vendor~f9ca8911"),n.e("async-clone-issue-dialog")]).then(n.bind(null,"cFE1"))),{moduleId:"./src/packages/issue/clone-issue-dialog/src/index.js"});var N,x,U,F=Object(i.connect)((e=>{const t=Object(n("TstH").d)(e),a=Object(n("anlJ").g)(e).length>0,s=Object(n("pKna").g)(e)>0;return{isOpen:A(e),isClassicOrNextGenEpic:Object(n("3j3u").b)(e),shouldAskChildren:L(e),shouldAskSubtasks:Object(n("OEhx").b)(e),shouldAskLinks:t||a||s,shouldShowReporterWarning:!Object(n("nGHA").e)(e)}}),(e=>({hideModal:()=>e(Object(n("l6KG").a)())
})))((({isOpen:e,isClassicOrNextGenEpic:t,hideModal:n,shouldAskChildren:a,shouldAskSubtasks:i,shouldAskLinks:o,shouldShowReporterWarning:r})=>e?s.a.createElement(w,{packageName:"issue"},s.a.createElement(_,{isClassicOrNextGenEpic:t,shouldAskChildren:a,shouldAskSubtasks:i,shouldAskLinks:o,shouldShowReporterWarning:r,onClose:n})):null)),P=n("pVnL"),V=n.n(P),K=n("vN+2"),$=n.n(K),W=Object(j.defineMessages)({delete:{id:"issue.delete.confirm",defaultMessage:"Delete"},deleteHeading:{id:"issue.delete-heading",defaultMessage:"Delete {issueKey}?"},deleteWithSubtasksHeading:{id:"issue.delete-with-subtasks-heading",defaultMessage:"Delete {issueKey} and its subtasks?"},deleteWithChildrenHeading:{id:"issue.delete-with-children-heading",defaultMessage:"Delete {issueKey} and its child issues?"},cancel:{id:"issue.delete.cancel",defaultMessage:"Cancel"},deleteWarning:{id:"issue.delete-warning",
defaultMessage:"You're about to permanently delete this issue, its comments and attachments, and all of its data."},deleteWithSubtasksWarning:{id:"issue.delete-with-subtasks-warning",defaultMessage:"You're about to permanently delete this issue and all its subtasks, its comments and attachments, and all of its data. You should move any subtasks you don't want to delete to another parent issue."},deleteWithChildrenWarning:{id:"issue.delete-with-children-warning",defaultMessage:"You're about to permanently delete this issue and all its child issues, its comments and attachments, and all of its data. You should move any child issues you don't want to delete to another parent issue."},deleteRecommendation:{id:"issue.delete-recommendation",defaultMessage:"If you're not sure, you can resolve or close this issue instead."}});let B=Object(n("SGpu").a)("issueDelete",n("kJVM").a.MODAL)((U=x=class extends a.Component{constructor(...e){super(...e),this.onConfirmDeleteIssue=(e,t)=>{
this.props.deleteConfirmAnalytics(t),this.props.triggerDeleteRequest(this.props.issueKey,t)},this.onCancel=(e,t)=>{this.props.deleteCancelAnalytics(t),this.props.triggerCloseDeleteIssueModal()},this.getChildConditionalDeleteHeading=()=>this.props.shouldShowChildSpecificCopy?this.props.isSimplifiedProject?W.deleteWithChildrenHeading:W.deleteWithSubtasksHeading:W.deleteHeading,this.getChildConditionalDeleteWarning=()=>this.props.shouldShowChildSpecificCopy?this.props.isSimplifiedProject?W.deleteWithChildrenWarning:W.deleteWithSubtasksWarning:W.deleteWarning}UNSAFE_componentWillReceiveProps(e){!e.isDeletingIssue&&this.props.isDeletingIssue&&(e.didIssueDeleteFail?this.props.onIssueDeleteFailure({issueId:this.props.issueId,issueKey:this.props.issueKey}):(this.props.triggerCloseDeleteIssueModal(),this.props.onIssueDeleteSuccess({issueId:this.props.issueId,issueKey:this.props.issueKey}),this.props.onClose()))}render(){const{issueKey:e,isDeletingIssue:t,intl:{formatMessage:a}}=this.props
;return this.props.isDeleteIssueModalOpen&&s.a.createElement(n("66ob").b,{headerMessage:s.a.createElement(j.FormattedMessage,V()({},this.getChildConditionalDeleteHeading(),{values:{issueKey:e}})),appearance:"danger",contentMessage:s.a.createElement("span",null,s.a.createElement("p",null,a(this.getChildConditionalDeleteWarning())),s.a.createElement("p",null,a(W.deleteRecommendation))),confirmActionText:a(W.delete),cancelActionText:a(W.cancel),onConfirm:this.onConfirmDeleteIssue,onCancel:this.onCancel,externalId:"issue.action.delete-confirmation-dialog",isLoading:t,isConfirmDisabled:t,isCancelDisabled:t},s.a.createElement(n("VF8P").a,null))}},x.displayName="DeleteIssueView",x.defaultProps={onIssueDeleteSuccess:$.a,onIssueDeleteFailure:$.a},N=U))||N;var q=Object(n("v5q+").a)([j.injectIntl,Object(i.connect)((e=>{const t=Object(n("/LFc").u)(e)?Object(n("Hxy2").c)(e)&&L(e):Object(n("OEhx").b)(e);return{issueId:Object(n("/LFc").l)(e),issueKey:Object(n("4dgq").w)(e),
isDeletingIssue:Object(n("/LFc").p)(e),isDeleteIssueModalOpen:Object(n("/LFc").o)(e),didIssueDeleteFail:Object(n("/LFc").c)(e),isSimplifiedProject:Object(n("/LFc").u)(e),shouldShowChildSpecificCopy:t}}),(e=>({triggerCloseDeleteIssueModal:()=>{e(Object(n("zhmH").a)())},triggerDeleteRequest:(t,a)=>{e(Object(n("zhmH").c)(t,a))}}))),Object(n("4zF2").a)({deleteCancelAnalytics:"deleteIssueCancel",deleteConfirmAnalytics:"deleteIssueDelete"})])(B),H=n("vOnD");const G=H.default.div.withConfig({componentId:"hp7lu4-0"})`display:none;`,Y=({extension:e,extensionData:t,onClose:a,onRendered:i,source:o})=>{if(!e)return null;return s.a.createElement(G,{onKeyDown:e=>{"Escape"!==e.key&&"Esc"!==e.key||(e.nativeEvent.stopImmediatePropagation(),a())}},s.a.createElement(n("eNmQ").a,{extension:e,extensionData:t,analyticsAttributes:{source:o},onClose:a,onInitialRender:i}))};Y.displayName="ForgeActionRendererView";const Z=e=>s.a.createElement(n("Z6SX").b,{attributes:{source:e.source}},s.a.createElement(Y,e))
;Z.displayName="ForgeActionRendererViewWithAnalytics";const X=Object(n("v5q+").a)([Object(i.connect)((e=>{const t=Object(n("T8UA").a)(e);return{extension:null!=t?t.action.extension:null,extensionData:Object(n("T8UA").g)(e),source:Object(n("4dgq").b)(e)}}),{onClose:n("dlXB").b,onRendered:n("dlXB").d})])(Z);var J=()=>{const[{isOpen:e},{closeFindFieldDialog:t}]=y(),a=Object(n("ovRs").h)(),i=Object(n("ovRs").j)(),o=Object(n("IFiJ").e)(i),r=Object(n("IFiJ").a)(i),l=Object(n("IFiJ").i)(i);return e?s.a.createElement(n("aCCb").a,{project:{projectId:o,nextGenProject:r,projectType:l},issueKey:a,operation:"VIEW",onCancel:t}):null},z=Object(j.defineMessages)({findOutMore:{id:"issue.find-out-more",defaultMessage:"Find out more"}});const Q=({isServiceDeskProject:e})=>{const{formatMessage:t}=Object(n("NRyt").d)(),{createAnalyticsEvent:i}=Object(n("rZ/p").a)(),o=Object(a.useCallback)((()=>{const e=i({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"findOutMore")
}),[i]),r=e?"//support.atlassian.com/jira-service-desk-cloud/docs/changes-to-requests-in-the-new-issue-view/":"//confluence.atlassian.com/display/JIRACORECLOUD/The+new+Jira+issue+view";return s.a.createElement(n("ourr").a,{onClick:o,href:r,target:"_blank",key:"find-out-more"},t(z.findOutMore))};Q.displayName="FindOutMore";var ee=Q,te=Object(i.connect)((e=>({isServiceDeskProject:"service_desk"===Object(n("/LFc").G)(e)})),{})(ee),ne=Object(j.defineMessages)({newIssueView:{id:"issue.title-for-new-issue-actions",defaultMessage:"New Jira issue view"}}),ae=Object(j.defineMessages)({seeOldView:{id:"issue.see-old-view",defaultMessage:"See the old view"}});const se=()=>{const{formatMessage:e}=Object(n("NRyt").d)(),{createAnalyticsEvent:t}=Object(n("rZ/p").a)(),i=Object(a.useCallback)((()=>{const e=t({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"oldViewClickthrough")}),[t]);return s.a.createElement(n("ourr").a,{onClick:i,href:Object(n("THeh").a)(),
key:"old-view-clickthrough"},e(ae.seeOldView))};se.displayName="OldViewClickthrough";var ie=se,oe=Object(j.defineMessages)({startTour:{id:"issue.start-changeboarding-tour",defaultMessage:"Take a tour"}});const re=()=>{const{formatMessage:e}=Object(n("NRyt").d)(),{createAnalyticsEvent:t}=Object(n("rZ/p").a)(),[,{setTourIsActive:i}]=Object(n("FsMS").a)(),o=Object(a.useCallback)((()=>{i();const e=t({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"startChangeBoardingTour")}),[t,i]);return s.a.createElement(n("ourr").a,{onClick:o,key:"start-tour","data-test-id":"issue.views.issue-base.foundation.issue-actions.issue-actions-dropdown-group.start-tour"},e(oe.startTour))};re.displayName="StartTour";var le=re;var ce=(e,t,a,i)=>{const[o]=Object(n("uC67").b)(),r=void 0!==o&&o.newIssueViewTransitionLockingStatus===n("1MSA").a;return{name:Object(n("d90y").isIssueViewMigrationPostMigrationEnabled)()&&r?"":e(ne.newIssueView),key:"IssueActionsDropdownGroup",
items:(()=>r?[...t?[s.a.createElement(le,{key:"startTour"})]:[],...a?[s.a.createElement(te,{key:"findOutMore"})]:[],...!Object(n("d90y").isIssueViewMigrationPostMigrationEnabled)()&&i?[s.a.createElement(ie,{key:"oldViewClickthrough"})]:[]]:[...t?[s.a.createElement(le,{key:"startTour"})]:[],...a?[s.a.createElement(te,{key:"findOutMore"})]:[],...i?[s.a.createElement(ie,{key:"oldViewClickthrough"})]:[]])()}};const de=()=>{const{formatMessage:e}=Object(n("NRyt").d)(),{createAnalyticsEvent:t}=Object(n("rZ/p").a)(),i=Object(a.useCallback)((()=>{const e=t({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"configureIssue")}),[t]),o=Object(n("ovRs").h)(),[r]=Object(n("j3bG").b)({issueKey:o,fieldKey:"com.atlassian.servicedesk:vp-origin"}),l=Object(n("ovRs").m)(),c=(null!=r||""===r)&&0===l,d=Object(n("Luli").a)(e),u=Object(n("ovRs").j)(),p=Object(n("IFiJ").i)(u),m=Object(n("IFiJ").a)(u),b=Object(n("AJ6X").b)(u);return m&&b&&p?s.a.createElement(n("ourr").a,{onClick:i,href:d,
key:"configure"},e(n("UjyR").a.configure)):s.a.createElement(n("ourr").a,{onClick:i,href:d,target:"_blank",isDisabled:c,key:"configure"},e(n("UjyR").a.configure))};de.displayName="ConfigureIssueFF";var ue=de,pe=Object(j.defineMessages)({switchToModal:{id:"issue.switch-to-modal",defaultMessage:"Open issues in dialog"}});const me=({viewModeOptions:e,emitEventToLegacyApp:t})=>{const{formatMessage:i}=Object(n("NRyt").d)(),{createAnalyticsEvent:o}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{!0===e.viewModeSwitchEnabled&&e.onSwitchToModal?e.onSwitchToModal():t("issue.details.view.switch-to-modal");const a=o({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(a,"switchToModal")}),[o,t,e]);return s.a.createElement(n("ourr").a,{key:"switch-to-modal",onClick:r},i(pe.switchToModal))};me.displayName="SwitchToModal",me.defaultProps={viewModeOptions:{viewModeSwitchEnabled:!1}};var be=me,ge=Object(j.defineMessages)({switchToSidebar:{id:"issue.switch-to-sidebar",
defaultMessage:"Open issues in sidebar"}});const fe=({viewModeOptions:e,emitEventToLegacyApp:t})=>{const{formatMessage:i}=Object(n("NRyt").d)(),{createAnalyticsEvent:o}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{!0===e.viewModeSwitchEnabled&&e.onSwitchToSidebar?e.onSwitchToSidebar():t("issue.details.view.switch-to-sidebar");const a=o({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(a,"switchToSidebar")}),[o,t,e]);return s.a.createElement(n("ourr").a,{key:"switch-to-sidebar",onClick:r},i(ge.switchToSidebar))};fe.displayName="SwitchToSidebar",fe.defaultProps={viewModeOptions:{viewModeSwitchEnabled:!1}};var he=fe;const Ee=e=>{const t=document.getElementById("ghx-issue-fragment");window.AJS&&window.AJS.$(t).trigger(e)};var ye=(e,t,a,i)=>{const o=a&&i===n("wpii").a.SOFTWARE_ISSUE||e.viewModeSwitchEnabled,r=!0===o&&Object(n("Oaux").b)(e.viewMode),l=!0===o&&!Object(n("Oaux").b)(e.viewMode);return{name:"",key:"issueConfigurationDropdownGroup",
items:[...r?[s.a.createElement(be,{key:"switchToModal",emitEventToLegacyApp:Ee,viewModeOptions:e})]:[],...l?[s.a.createElement(he,{key:"switchToSidebar",emitEventToLegacyApp:Ee,viewModeOptions:e})]:[],...t?[s.a.createElement(ue,{key:"configureClassic"})]:[]]}},Oe=Object(j.defineMessages)({dotDialog:{id:"issue.dot-dialog",defaultMessage:"Actions menu"}});const ve=H.default.code.withConfig({componentId:"sc-5y4ag9-0"})`background:${"#F4F5F7"};border-radius:3px;padding:2px 4px;`,je=()=>{const{formatMessage:e}=Object(n("NRyt").d)(),{createAnalyticsEvent:t}=Object(n("rZ/p").a)(),[,{setShortcutsDialogVisibility:i}]=Object(n("cwUs").b)(),o=Object(a.useCallback)((()=>{i(!0);const e=t({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"dotDialog")}),[t,i]);return s.a.createElement(n("ourr").a,{key:"dotDialog",onClick:o,elemAfter:s.a.createElement(ve,null,".")},e(Oe.dotDialog))};je.displayName="DotDialog";var Ie=je;var Ce=e=>({name:"",key:"IssueDotMenuDropdownGroup",
items:[...e?[s.a.createElement(Ie,{key:"dotDialog"})]:[]]}),Se=Object(j.defineMessages)({exportDOC:{id:"issue.export-doc",defaultMessage:"Export Word"}});const ke=({baseUrl:e,issueKey:t})=>{const{formatMessage:i}=Object(n("NRyt").d)(),{createAnalyticsEvent:o}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{const e=o({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"exportDoc")}),[o]),l=`${e}/si/jira.issueviews:issue-word/${t}/${t}.doc`;return s.a.createElement(n("ourr").a,{key:"ExportDocIssueActionView",onClick:r,href:l,target:"_blank"},i(Se.exportDOC))};ke.displayName="ExportIssueDoc";var we=ke,Te=Object(i.connect)((e=>({baseUrl:Object(n("4dgq").f)(e),issueKey:Object(n("4dgq").w)(e)})),{})(we),De=Object(j.defineMessages)({exportXML:{id:"issue.export-xml",defaultMessage:"Export XML"}});const Re=({baseUrl:e,issueKey:t})=>{const{formatMessage:i}=Object(n("NRyt").d)(),{createAnalyticsEvent:o}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{const e=o({
action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"exportXml")}),[o]),l=`${e}/si/jira.issueviews:issue-xml/${t}/${t}.xml`;return s.a.createElement(n("ourr").a,{key:"ExportXmlIssueActionView",onClick:r,href:l,target:"_blank"},i(De.exportXML))};Re.displayName="ExportIssueXML";var Le=Re,Me=Object(i.connect)((e=>({baseUrl:Object(n("4dgq").f)(e),issueKey:Object(n("4dgq").w)(e)})),{})(Le),Ae=Object(j.defineMessages)({print:{id:"issue.print",defaultMessage:"Print"}});const _e=({baseUrl:e,issueKey:t})=>{const{formatMessage:i}=Object(n("NRyt").d)(),{createAnalyticsEvent:o}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{const e=o({action:"clicked",actionSubject:"dropdownItem"});Object(n("yy8q").h)(e,"printIssue")}),[o]),l=`${e}/si/jira.issueviews:issue-html/${t}/${t}.html`;return s.a.createElement(n("ourr").a,{key:"PrintIssueActionView",onClick:r,href:l,target:"_blank"},i(Ae.print))};_e.displayName="PrintIssue";var Ne=_e,xe=Object(i.connect)((e=>({
baseUrl:Object(n("4dgq").f)(e),issueKey:Object(n("4dgq").w)(e)})),{})(Ne);var Ue={name:"",key:"issueExportDropdownGroup",items:[s.a.createElement(xe,{key:"printIssue"}),s.a.createElement(Me,{key:"exportIssueXML"}),s.a.createElement(Te,{key:"exportIssueDoc"})]};const Fe=({isLoading:e,isForgeLoading:t,shouldShowPulse:i,issueDeleteCallbacks:o,onClose:r,shouldShowActions:l,shouldShowConfiguration:c,isSoftwareProjectType:d,viewModeOptions:u,analyticsSource:p,shouldShowStartTour:m,shouldShowFindOutMore:b,shouldShowOldViewClickthrough:g,ecosystemActions:f,hasParent:E})=>{const y=Object(n("NRyt").d)(),O=Object(n("oJcP").b)(f),j=Object(n("oj3Y").b)(E),S=(()=>{const e=Object(n("ovRs").j)(),t=Object(n("IFiJ").a)(e),{formatMessage:s}=Object(n("NRyt").d)(),i=Object(n("VtkN").a)(),o=Object(a.useMemo)((()=>[...t?[]:[{Component:v,label:s(I.findField),key:"findField"}]]),[s,t]);return i?o:[]})(),{createAnalyticsEvent:k}=Object(n("rZ/p").a)(),w=Object(a.useCallback)((e=>{const t=k({action:"clicked",
actionSubject:"dropdownItem"}),a=e.split(" ").join("");Object(n("yy8q").h)(t,a)}),[k]);if(!l)return null;if(e)return s.a.createElement(n("1uad").a,{isDisabled:!0,meatballMenuData:[]});const{jql:T,filter:D}=h.a.parse(window.location.search),R=null!=T||null!=D,L=[Object(n("oJcP").a)(O,w),Object(n("oj3Y").a)(j,w),C(S,w),Ce(!R),Ue,ce(y.formatMessage,m,b,g),ye(u||{viewModeSwitchEnabled:!1},c,d,p)];return s.a.createElement(n("LefY").b,null,s.a.createElement(n("PvT5").a,null,s.a.createElement(n("J5tv").a,{name:"BOARD_SIDEBAR"},s.a.createElement(n("1uad").a,{hasPulse:i,isLoading:t,meatballMenuData:L}),s.a.createElement(q,{onIssueDeleteSuccess:o.onIssueDeleteSuccess,onIssueDeleteFailure:o.onIssueDeleteFailure,onClose:r}),s.a.createElement(X,null),s.a.createElement(F,null),s.a.createElement(J,null))))};Fe.displayName="IssueActionsMeatballMenuInternal";const Pe=Object(a.memo)(Fe,g.a);var Ve=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,Pe,Fe);const Ke=Object(i.connect)((e=>{
var t;return{ecosystemActions:Object(n("mIpc").j)(e),isLoading:!Object(n("/LFc").n)(e),isForgeLoading:!(null===(t=Object(n("T8UA").a)(e))||void 0===t||!t.isLoading),shouldShowPulse:Object(n("aoGV").b)(e),hasParent:Object(n("ZseP").a)(e),shouldShowActions:p(e),shouldShowStartTour:Object(n("aoGV").d)(e),shouldShowFindOutMore:m(e),shouldShowOldViewClickthrough:c(e),shouldShowConfiguration:!!u(e)&&!!Object(n("/LFc").G)(e),isSoftwareProjectType:"software"===Object(n("/LFc").G)(e),analyticsSource:Object(n("4dgq").b)(e)}}),{})(Ve),$e=e=>s.a.createElement(Ke,{viewModeOptions:e.viewModeOptions,issueDeleteCallbacks:e.issueDeleteCallbacks,onClose:e.onClose});$e.displayName="IssueActionsMenu";t.default=$e},ItIp:function(e,t,n){"use strict";var a=n("/MKj");var s=({renderTopBanner:e,applicationKey:t,isProjectSimplified:n})=>e?e(t,n):null;t.a=Object(a.connect)((e=>({applicationKey:Object(n("4dgq").e)(e),isProjectSimplified:Object(n("/LFc").u)(e)})),{})(s)},IvvV:function(e,t,n){"use strict"
;n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));const a=()=>Object(n("D3TY").a)("issue.details.fix-re-render-for-context-groups",!1),s=()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1),i=()=>Object(n("D3TY").a)("bento-collapsible-group-additional-analytics-event-attributes-_gp63g",!1),o=()=>Object(n("D3TY").a)("issue.details.layout-containers-api",!1)},Iy5y:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),t.a=()=>"\n    layoutItems {\n        location\n        category\n        items {\n        itemId\n        type\n        }\n    }\n"
;const a=()=>Object(n("WCl/").b)()?"\n    containersByType(input:{systemContainerTypes: [CONTENT, PRIMARY, SECONDARY, REQUEST_PORTAL]}) {\n      __typename\n      ... on JiraIssueItemContainers {\n        containers {\n          containerType\n          items {\n            nodes {\n              type: __typename\n              ... on JiraIssueItemFieldItem {\n                fieldItemId\n                \n              }\n              ... on JiraIssueItemPanelItem {\n                panelItemId\n              }\n              ... on JiraIssueItemTabContainer {\n                name\n                tabContainerId              \n                items {\n                  nodes {\n                    type: __typename\n                    ... on JiraIssueItemFieldItem {\n                      fieldItemId\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n":""},J3F1:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var a=n("q1tI");const s=e=>t=>{e&&e.onReadyForUser&&e.onReadyForUser();const{isInitialRender:a,lastTransitionStartTime:s}=t;a&&Object(n("CBUp").p)(!0),Object(n("CBUp").j)({isInitialRender:a,lastTransitionStartTime:s})},i=e=>t=>{e&&e.onInteractive&&e.onInteractive(),Object(n("CBUp").g)(t)},o=e=>()=>{e&&e.onMarkIssueOnPageLoadEvent&&e.onMarkIssueOnPageLoadEvent(),Object(n("CBUp").i)()},r=e=>({onPreviewRendered:s(e),onInteractive:i(e),onMarkIssueOnPageLoadEvent:Object(n("d90y").isNewExperimentalMetricEnabled)()?o(e):()=>{}});let l=null;const c=e=>(l=Object(a.createContext)(r(e)),l),d=()=>l||Object(a.createContext)(r())},J3sU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mwIZ"),s=n.n(a);const i=({issueKey:e,onSuccess:t,onFailure:a})=>{
const[i]=Object(n("MoW5").a)(e,"summary"),o=s()(i.value,"schema.type","string"),[{value:r,error:l},{saveValue:c,resetError:d}]=Object(n("35XP").a)({fieldKey:"summary",issueKey:e,fieldType:o,initialValue:null,onSuccess:t,onFailure:a});return[{value:r,error:l,fieldConfig:i},{saveValue:c,resetError:d}]}},J4oe:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>Object(n("Rp3N").t)(e.split("-")[0])},JHbh:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a);const i=n("vOnD").default.div.withConfig({componentId:"sc-1ina8y9-0"})`margin:${2*n("ZpU/").e}px 0;`,o=({onClick:e,isDisabled:t,isLoading:a,numberToLoad:o,children:r})=>o<=0?null:s.a.createElement(i,null,s.a.createElement(n("tqOC").a,{onClick:e,isDisabled:t,isLoading:a,shouldFitContainer:!0},r));o.displayName="LoadMoreButton";var r=o;t.a=r},JQsD:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),
n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b}));var a=n("3tO9"),s=n.n(a),i=n("vOnD");const o={multiValue:e=>s()(s()({},e),{},{backgroundColor:n("5kDX").a.N20}),option:(e,t)=>s()(s()(s()(s()({},e),Object(n("oYTC").c)(t)),{},{cursor:"pointer"},t.isFocused&&!t.isSelected?{backgroundColor:n("5kDX").a.N20}:{}),{},{"&:hover":s()(s()({},t.isSelected?{}:{backgroundColor:n("5kDX").a.N20}),t.isDisabled?{backgroundColor:"transparent",cursor:"not-allowed"}:{})}),menu:e=>s()(s()({},e),{},{zIndex:n("ZpU/").f.modal}),menuPortal:e=>s()(s()({},e),{},{transform:"translateZ(0)",zIndex:n("ZpU/").f.modal})},r=n("ZpU/").e/4+"px",l=n("ZpU/").e/2+"px",c={indicatorsContainer:e=>s()(s()({},e),{},{paddingRight:n("ZpU/").e/2+"px"}),loadingIndicator:e=>s()(s()({},e),{},{paddingLeft:r,paddingRight:l}),clearIndicator:e=>s()(s()({},e),{},{paddingLeft:r,paddingRight:l}),dropdownIndicator:e=>s()(s()({},e),{},{display:"none"})},d=i.default.span.withConfig({
componentId:"m9v9eg-0"})`display:flex;align-items:center;`,u=Object(i.default)(d).withConfig({componentId:"m9v9eg-1"})`justify-content:center;white-space:normal;text-align:center;`,p=i.default.span.withConfig({componentId:"m9v9eg-2"})`display:flex;padding-right:${n("ZpU/").e}px;`,m=i.default.span.withConfig({componentId:"m9v9eg-3"})`display:flex;`,b=i.default.div.withConfig({componentId:"m9v9eg-4"})`${e=>"top"===e.errorMessagePosition?`margin-bottom: ${.75*n("ZpU/").e}px;`:""};&&& > div{min-height:auto;}`},JZTM:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=Object(n("wW5i").a)("EnterEscapeHandler",{onEnter:"entered",onEscape:"escaped"})(n("iAtd").a),r=Object(n("wW5i").a)("EscapeHandler",{onEscape:"escaped"})(n("iAtd").a),l=Object(n("wW5i").a)("EnterHandler",{onEnter:"entered"})(n("iAtd").a),c=i.default.div.withConfig({componentId:"sc-1ef2pga-0"
})`& > form > div > div > button:focus{box-shadow:none;}`,d=i.default.div.withConfig({componentId:"sc-1ef2pga-1"})`margin:${2*n("ZpU/").e-2}px 0px ${n("ZpU/").e-2}px 2px;`,u=(e,t)=>{const{createAnalyticsEvent:s}=Object(n("rZ/p").a)();return Object(a.useCallback)((()=>{"function"==typeof e&&e(s(t))}),[e,s,t])},p=e=>{const{actionSubject:t="fieldInlineEdit",isEditable:i=!1,isLabelHidden:p=!0,isEditing:m=!1,readView:b,editView:g,onEnter:f,onEscape:h,onConfirm:E,onCancel:y,onEdit:O,onEditRequested:v}=e,j=u(f,{action:"entered",actionSubject:t}),I=u(h,{action:"escaped",actionSubject:t}),C=u(v||O,{action:"focused",actionSubject:t}),S=u(y,{action:"canceled",actionSubject:t}),k=Object(a.useCallback)(((e,n)=>{"function"==typeof E&&E(n.update({action:"confirmed",actionSubject:t}))}),[t,E]),w="function"==typeof b?b:()=>b,T=Object(a.useMemo)((()=>"function"==typeof g?g:()=>g),[g]),D=Object(a.useCallback)(((e,t)=>null===g?null:f&&h?s.a.createElement(o,{onEnter:j,onEscape:I
},T(e,t)):f?s.a.createElement(l,{onEnter:j},T(e,t)):h?s.a.createElement(r,{onEscape:I},T(e,t)):T(e,t)),[g,f,h,j,I,T]),R={defaultValue:"defaultValue"in e?e.defaultValue:e.value,onConfirm:k,readView:w,editView:D,isEditing:m,onCancel:S,onEdit:C,isRequired:e.isRequired,analyticsContext:e.analyticsContext,cancelButtonLabel:e.cancelButtonLabel,confirmButtonLabel:e.confirmButtonLabel,editButtonLabel:e.editButtonLabel,hideActionButtons:"hideActionButtons"in e?e.hideActionButtons:e.areActionButtonsHidden,keepEditViewOpenOnBlur:"keepEditViewOpenOnBlur"in e?e.keepEditViewOpenOnBlur:e.isConfirmOnBlurDisabled,label:!0===p?void 0:e.label,readViewFitContainerWidth:"readViewFitContainerWidth"in e?e.readViewFitContainerWidth:e.isFitContainerWidthReadView,startWithEditViewOpen:e.startWithEditViewOpen,validate:e.validate};return i?s.a.createElement(c,null,s.a.createElement(n("9MiT").a,R)):s.a.createElement(d,null,w())};var m=Object(a.memo)(p),b=n("pVnL"),g=n.n(b),f=n("QILm"),h=n.n(f)
;const E=["actionSubject","isEditable","isEditing","readView","editView","onEnter","onEscape","onConfirm","onCancel","onEdit"],y=Object(n("wW5i").a)("EnterEscapeHandler",{onEnter:"entered",onEscape:"escaped"})(n("iAtd").a),O=Object(n("wW5i").a)("EscapeHandler",{onEscape:"escaped"})(n("iAtd").a),v=e=>{const{actionSubject:t,isEditable:i,isEditing:o=!1,readView:r=null,editView:l=null,onEnter:c,onEscape:d,onConfirm:u,onCancel:p,onEdit:m}=e,b=h()(e,E),f=Object(a.useCallback)(((e,n)=>e.update({action:n,actionSubject:t})),[t]),v=Object(a.useCallback)(((e,t)=>{c&&c(f(t,"entered"))}),[c,f]),j=Object(a.useCallback)(((e,t)=>{d&&d(f(t,"escaped"))}),[d,f]),I=Object(a.useCallback)((e=>{m&&m(f(e,"focused"))}),[m,f]),C=Object(a.useCallback)((e=>{u&&u(f(e,"confirmed"))}),[u,f]),S=Object(a.useCallback)((e=>{p&&p(f(e,"canceled"))}),[p,f]),k=Object(a.useCallback)((()=>null===l?null:c?s.a.createElement(y,{onEnter:v,onEscape:j},l):s.a.createElement(O,{onEscape:j},l)),[l,c,v,j])
;return s.a.createElement("div",null,s.a.createElement(n("eJ3Z").a,g()({label:"",isEditing:o,readView:r,editView:!0===i?k():null,onConfirm:C,onCancel:S,onEditRequested:I},b)))};v.displayName="FieldInlineEditStateLess",v.defaultProps={actionSubject:"fieldInlineEdit",disableEditViewFieldBase:!0,isEditable:!1,isEditing:!1,isConfirmOnBlurDisabled:!1,isCompact:!0,isLabelHidden:!0,shouldConfirmOnEnter:!0};var j=Object(a.memo)(v);const I=Object(n("5WHm").a)(n("MrUx").a,m,j)},JeS9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,a)=>Object(n("QNWr").a)(Object(n("1DmR").b)(e),Object(n("1DmR").a)(t,a))},JuH2:function(e,t,n){e.exports=n.p+"assets/default-avatar.b7f1021e538053b2b6f8108284f2ffc4.8.svg"},"K/wP":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("peh1");const s=Object(a.createSelector)(n("4dgq").f,n("4dgq").w,n("4dgq").a,n("/LFc").G,((e,t,a,s)=>new(n("bTtF").a)(e,t,a,`${e}/jira/people/search#createTeam`,s)))},"K6M/":function(e,t,n){
"use strict";n.d(t,"a",(function(){return i}));var a=n("mwIZ"),s=n.n(a);const i=({issueKey:e,fieldKey:t})=>{const[{value:a}]=Object(n("MoW5").a)(e,t),i=s()(a,"schema.type","string"),[{value:o,error:r}]=Object(n("35XP").a)({fieldKey:t,issueKey:e,fieldType:i,initialValue:null});return[{value:o,error:r,fieldConfig:a}]}},KE5V:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const a=e=>e.length>0?e[0].token:null,s=e=>({clientId:e.clientId,serviceHost:e.endpointUrl,token:a(e.tokensWithFiles),areTokenPermissionsUpToDate:!0,tokenLifespanInMs:1e3*e.tokenLifespanInSeconds,collection:void 0!==e.collection&&""!==e.collection?e.collection:null,tokenIssueTimestamp:Date.now()-1e4})},KLbr:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d}))
;const a=(e,t)=>e.to.id===t&&!0===e.isLooped,s=Object(n("Wwog").a)(((e,t)=>e.filter((e=>!a(e,t)&&!((e,t)=>e.isGlobal&&e.to.id===t)(e,t))))),i=e=>e.every((e=>e.isGlobal)),o=(e,t)=>s(e||[],t),r=Object(n("Wwog").a)(((e,t)=>(e||[]).filter((e=>a(e,t))))),l=Object(n("Wwog").a)((e=>e.map((e=>({label:e.to.name,value:e.id,transition:e}))))),c=e=>l(e),d=(e,t,a)=>({id:e,name:t,statusCategory:{id:n("RQwY").StatusCategoryIds[a]||n("RQwY").StatusCategoryIds[n("RQwY").StatusCategoryTypes.UNDEFINED],name:t}})},KSj7:function(e,t,n){"use strict";n.d(t,"t",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"r",(function(){return b})),n.d(t,"z",(function(){return g})),n.d(t,"C",(function(){return f})),n.d(t,"D",(function(){return h})),n.d(t,"B",(function(){return E})),n.d(t,"A",(function(){return y})),n.d(t,"y",(function(){return O})),n.d(t,"x",(function(){return v})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){
return I})),n.d(t,"F",(function(){return C})),n.d(t,"q",(function(){return S})),n.d(t,"G",(function(){return k})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return T})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return R})),n.d(t,"I",(function(){return L})),n.d(t,"s",(function(){return M})),n.d(t,"p",(function(){return A})),n.d(t,"o",(function(){return _})),n.d(t,"i",(function(){return N})),n.d(t,"h",(function(){return x})),n.d(t,"j",(function(){return U})),n.d(t,"E",(function(){return F})),n.d(t,"H",(function(){return P})),n.d(t,"g",(function(){return V})),n.d(t,"J",(function(){return K})),n.d(t,"k",(function(){return $})),n.d(t,"l",(function(){return W})),n.d(t,"M",(function(){return q})),n.d(t,"N",(function(){return H})),n.d(t,"L",(function(){return G})),n.d(t,"K",(function(){return Y})),n.d(t,"u",(function(){return X})),n.d(t,"w",(function(){return J}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("J2m7"),r=n.n(o)
;const l=e=>e.fields||{},c=(e,t)=>r()(t,(t=>(t.schema&&t.schema.custom)===e)),d=(e,t)=>{let a=t[e];const s=Object(n("iJ/Y").n)();if(!a&&Object.keys(s).includes(e)){const n=s[e];a=c(n,t)}return a},u=(e,t)=>{var n,a;return Array.isArray(null===(n=e[t])||void 0===n?void 0:n.value)?e[t].value.length>0:null!=(null===(a=e[t])||void 0===a?void 0:a.value)},p=e=>Object(i.createSelector)(l,(t=>c(e,t))),m=e=>Object(i.createSelector)(p(e),(e=>{const t=e?e.key.match(/customfield_(\d+)$/i):null;return t?+t[1]:null
})),b=e=>Object(i.createSelector)(l,(t=>d(e,t))),g=Object(i.createSelector)(l,(e=>!!Object.keys(e).includes(n("TuCe").m))),f=Object(i.createSelector)(l,(e=>!!Object.keys(e).includes("subtasks"))),h=Object(i.createSelector)(l,(e=>u(e,"subtasks"))),E=Object(i.createSelector)(l,(e=>!!Object.keys(e).includes("portfolio-child-issues"))),y=Object(i.createSelector)(l,(e=>u(e,"portfolio-child-issues"))),O=Object(i.createSelector)(l,(e=>!!Object.keys(e).includes("children-issues"))),v=Object(i.createSelector)(l,(e=>u(e,"children-issues"))),j=Object(i.createSelector)(l,(e=>t=>{var n;return(null==e||null===(n=e[t])||void 0===n?void 0:n.issueLimitUrl)||""})),I=(Object(i.createSelector)(l,(e=>Object.keys(e).map((t=>d(t,e))).filter(Boolean))),Object(i.createSelector)(l,(e=>Object.keys(e)))),C=e=>!!e&&e.editable,S=e=>Object(i.createSelector)(b(e),(e=>e&&e.schema&&e.schema.configuration&&e.schema.configuration.reduce(((e,{key:t,value:n})=>s()(s()({},e),{},{[t]:n
})),{}))),k=e=>Object(i.createSelector)(b(e),(e=>C(e))),w=e=>Object(i.createSelector)(b(e),(t=>t&&t.title?t.title:(n("fnbV").a.safeWarnWithoutCustomerData("issue.field.selector",`${e} does not have a field title`),
""))),T=e=>Object(i.createSelector)(b(e),(e=>e&&e.key)),D=e=>Object(i.createSelector)(b(e),(e=>e&&e.autoCompleteUrl)),R=e=>Object(i.createSelector)(b(e),(e=>e?e.allowedValues:[])),L=e=>Object(i.createSelector)(b(e),(e=>!!e&&e.required)),M=e=>Object(i.createSelector)(b(e),(e=>e&&Object(n("eNla").a)(e))),A=e=>Object(i.createSelector)(b(e),(e=>e&&e.value)),_=e=>Object(i.createSelector)(b(e),(e=>e&&Object(n("2p4G").a)(e))),N=e=>Object(i.createSelector)(b(e),(e=>e&&Object(n("qCEV").a)(e))),x=e=>Object(i.createSelector)(b(e),(e=>e&&Object(n("qCEV").b)(e))),U=e=>Object(i.createSelector)(b(e),(e=>e&&e.renderedValue)),F=e=>!!e&&void 0!==e.editingValue,P=e=>Object(i.createSelector)(b(e),(e=>F(e))),V=e=>Object(i.createSelector)(b(e),(e=>(e?e.fieldEditSessionId:null)||"")),K=e=>Object(i.createSelector)(b(e),(e=>!!e&&void 0!==e.pendingValue)),$=(e,t)=>Object(i.createSelector)(b(e),(e=>e&&(e.isInvalid?e.invalidMessage||t:null))),W=e=>Object(i.createSelector)(b(e),(e=>Boolean(e&&e.isInvalid))),B=e=>"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===e||"environment"===e||"description"===e,q=e=>Object(i.createSelector)((t=>Object(n("4dgq").p)(t,e)),n("4dgq").t,M(e),(e=>Object(i.createSelector)(b(e),(e=>e&&e.schema&&e.schema.renderer)))(e),((t,n,a,s)=>{
const i="description"===e,o=B(a)&&"atlassian-wiki-renderer"===s;return i||o})),H=Object(i.createSelector)(l,(e=>e),((e,t)=>Object.keys(e).filter((e=>q(e)(t))))),G=Object(i.createSelector)(H,(e=>e),((e,t)=>e.some((e=>P(e)(t))))),Y=e=>Object(i.createSelector)(M(e),(e=>B(e))),Z=Object(i.createSelector)(l,(e=>e),((e,t)=>Object.keys(e).filter((e=>Y(e)(t))))),X=Object(i.createSelector)(Z,(e=>e),((e,t)=>e.filter((e=>P(e)(t))))),J=Object(i.createSelector)(b("fixVersions"),b("versions"),((e,t)=>{const n=[];return e&&n.push(e.key),t&&n.push(t.key),n}))},KcFa:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n("q1tI"),s=n.n(a),i=n("JRPe");t.a=Object(i.defineMessages)({logWork:{id:"issue.common.messages.time.log-work",defaultMessage:"Log work"},timeInputPlaceholder:{id:"issue.common.messages.time.time-input-placeholder",defaultMessage:"e.g. 2w 4d 6h 45m"},exampleFormat:{id:"issue.common.messages.time.time-input-format-tooltip.example",
defaultMessage:"Use the format: {formatExample}"},weeks:{id:"issue.common.messages.time.time-input-format-tooltip.weeks",defaultMessage:"{w} = weeks"},days:{id:"issue.common.messages.time.time-input-format-tooltip.days",defaultMessage:"{d} = days"},hours:{id:"issue.common.messages.time.time-input-format-tooltip.hours",defaultMessage:"{h} = hours"},minutes:{id:"issue.common.messages.time.time-input-format-tooltip.minutes",defaultMessage:"{m} = minutes"}});const o=s.a.createElement(i.FormattedMessage,{id:"issue.common.messages.time.time-invalid-message",defaultMessage:"You need to log time in the format {timeString}.",values:{timeString:s.a.createElement("b",null,"2w 4d 6h 45m")}})},KlMH:function(e,t,n){"use strict";n.r(t),n.d(t,"DateTimeFieldEditView",(function(){return d}));var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("GODc"),l=n.n(r);const c=(e,t,a,s)=>{const i=null!==e&&Object(n("Se/U").a)(new Date(e))?Object(n("eLKX").a)(new Date(e),s):null
;return null!==i&&Object(n("Se/U").a)(i)?{dateValue:Object(n("J+st").a)(i,"yyyy-MM-dd",{timeZone:s}),timeValue:Object(n("J+st").a)(i,"HH:mm",{timeZone:s}),zoneValue:Object(n("J+st").a)(i,"XX",{timeZone:s})}:{dateValue:t,timeValue:a,zoneValue:Object(n("J+st").a)(new Date,"XX",{timeZone:s})}},d=({autoFocus:e,isDisabled:t,isInvalid:a,timeZone:r,onParseValue:d=c,value:u,onChange:p,datePickerSelectProps:m={},timePickerSelectProps:b={}})=>{const g=Object(n("I51c").a)(),{data:{user:{timeZone:f=null}}}=Object(n("Dk5F").a)(),h=void 0!==r?r:f,E=Object(i.useCallback)((e=>{const t=Object(n("hyjV").a)(null!=e?e:"");l()(Date.parse(t))?null==p||p(null):null==p||p(t)}),[p]),y=Object(i.useCallback)(((e,t,n,a)=>d(e,t,n,null!=h?h:a)),[d,h]),O=Object(n("lL9i").a)(g);return o.a.createElement(n("3WD9").a,{locale:O,autoFocus:e,defaultIsOpen:!1,isDisabled:t,isInvalid:a,value:u||"",onChange:E,timeIsEditable:!0,parseValue:null!=h?y:void 0,timePickerSelectProps:s()(s()({},b),{},{formatCreateLabel:e=>e,
filterOption:(e,t)=>!t||e.value===t||e.label===t}),times:n("1WEW").a,datePickerSelectProps:m})};d.displayName="DateTimeFieldEditView"},Kn7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>1680},Ko4t:function(e,t,n){"use strict";var a=n("3tO9"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("/MKj"),l=n("q1tI"),c=n.n(l),d=n("JRPe"),u=n("vN+2"),p=n.n(u),m=Object(d.defineMessages)({replyToCustomer:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.reply-to-customer-button",defaultMessage:"Reply to customer"},addInternalNote:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.add-internal-note-button",defaultMessage:"Add internal note"},loadingAttachments:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.loading-attachments",defaultMessage:"Loading attachments\u2026"},updateStakeholders:{
id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.update-stakeholders",defaultMessage:"Update stakeholders"},informStakeholders:{id:"issue.views.issue-base.activity.comment.comment-editor-view.servicedesk-comment-editor-view.inform-stakeholders",defaultMessage:"Inform stakeholders"}}),b=Object(d.defineMessages)({addAttachmentLabel:{id:"issue.label-for-add-attachment-button",defaultMessage:"Add attachment"}}),g=n("vOnD");const f=g.default.span.withConfig({componentId:"chz5tj-0"})`padding:${n("ZpU/").e/2}px;`,h=g.default.div.withConfig({componentId:"chz5tj-1"})`margin-left:auto;margin-right:${n("ZpU/").e}px;`,E=e=>{const{onClick:t,isCommentAttachmentInProgress:a}=e,{formatMessage:s}=Object(n("NRyt").d)();return c.a.createElement(h,null,c.a.createElement(n("Yto1").a,{content:s(b.addAttachmentLabel),position:"bottom"},c.a.createElement(n("340+").a,{spacing:"none",appearance:"subtle-link",isLoading:a,
iconBefore:c.a.createElement(f,null,c.a.createElement(n.n(n("q3YI")).a,{size:"medium",label:s(b.addAttachmentLabel)})),externalId:"attachment",onClick:t})))};E.displayName="AttachmentPicker";var y=E,O=Object(n("v5q+").a)([Object(r.connect)((e=>({isCommentAttachmentInProgress:Object(n("ejT3").y)(e)})),(e=>({onClick:()=>{e(Object(n("cjK0").b)())}})))])(y);const v=g.default.div.withConfig({componentId:"sc-1q7glz-0"})`white-space:nowrap;border:1px solid ${n("5kDX").a.N40};height:${5*n("ZpU/").e}px;box-sizing:border-box;padding:${n("ZpU/").e/2}px 0;border-radius:${n("ZpU/").a}px;display:flex;align-items:center;`,j=g.default.div.withConfig({componentId:"sc-1q7glz-1"})`padding:0 ${n("ZpU/").e}px;`,I=()=>{const[e,t]=Object(l.useState)(!1),a=Object(n("ovRs").h)(),{formatMessage:s}=Object(n("NRyt").d)(),i=Object(n("IFiJ").g)(a),o=Object(n("AJ6X").c)(i),[r]=Object(n("mGog").a)(),[{data:d}]=Object(n("Vnau").b)(),u=(null==d?void 0:d.provisionState)===n("FWLo").a
;return void 0!==d&&u&&(o&&!0===r)?c.a.createElement(c.a.Fragment,null," / ",c.a.createElement(n("340+").a,{appearance:"link",onClick:(e,a)=>{Object(n("yy8q").h)(a,"viewUpdateStakeholderModal"),t(!0)}},Object(n("d90y").isStakeholdersGlancePanelEnabled)()?s(m.informStakeholders):s(m.updateStakeholders)),e&&c.a.createElement(n("egpV").a,{onCloseUpdateStakeholderModal:()=>t(!1)})):null},C=({onReplyToCustomer:e,onAddInternalNote:t,isCommentAttachmentInProgress:a,isPublicCommentAllowed:s})=>{const{formatMessage:i}=Object(n("NRyt").d)(),o=Object(n("d90y").isPracticeFieldRefactorEnabled)()?Object(n("/NfZ").a)():Object(n("9mKt").a)();return c.a.createElement(v,null,a?c.a.createElement(j,null,i(m.loadingAttachments)):c.a.createElement(c.a.Fragment,null,c.a.createElement(n("340+").a,{appearance:"link",onClick:t},i(m.addInternalNote)),s&&c.a.createElement(c.a.Fragment,null," / ",c.a.createElement(n("340+").a,{appearance:"link",onClick:e
},i(m.replyToCustomer))),Object(n("d90y").isJsmStakeholderEnabled)()&&o&&c.a.createElement(I,null)),c.a.createElement(O,null))};C.displayName="CollapsedEditorView";var S=Object(n("v5q+").a)([Object(n("4zF2").a)({onReplyToCustomer:"onReplyToCustomer",onAddInternalNote:"onAddInternalNote"}),Object(r.connect)((e=>({isCommentAttachmentInProgress:Object(n("ejT3").y)(e)})),{})])(C);const k=g.default.div.withConfig({componentId:"sc-1yyl89b-0"})`margin:0 -${n("ZpU/").e}px ${2*n("ZpU/").e}px;`,w="internal",T={public:{id:"public",label:c.a.createElement(d.FormattedMessage,m.replyToCustomer),content:c.a.createElement("div",null)},internal:{id:w,label:c.a.createElement(d.FormattedMessage,m.addInternalNote),content:c.a.createElement("div",null)}},D=({isInternal:e,isPublicCommentAllowed:t,children:a,onTabSelect:s})=>{const i=t&&!e?T.public:T.internal,o=t?[T.internal,T.public]:[T.internal];return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null,c.a.createElement(n("4iLm").a,{tabs:o,
selected:i,onSelect:s})),a)},R=({onReplyToCustomer:e,onAddInternalNote:t,isPublicCommentAllowed:n})=>c.a.createElement(S,{onReplyToCustomer:e,onAddInternalNote:t,isPublicCommentAllowed:n});R.displayName="CollapsedView";const L=({isExpanded:e=!1,isInternal:t=!1,isPublicCommentAllowed:n=!1,onExpanded:a=p.a,onCommentVisibilityChange:s=p.a,children:i})=>{const o=Object(l.useCallback)((()=>{e||a&&a()}),[e,a]),r=Object(l.useCallback)((()=>{s(!1),o()}),[o,s]),d=Object(l.useCallback)((()=>{s(!0),o()}),[o,s]),u=Object(l.useCallback)((e=>{s(e.id===w)}),[s]);return e?c.a.createElement(D,{isInternal:t,isPublicCommentAllowed:n,onTabSelect:u},i):c.a.createElement(R,{onReplyToCustomer:r,onAddInternalNote:d,isPublicCommentAllowed:n})};class M extends l.Component{constructor(...e){super(...e),this.onReplyToCustomer=()=>{this.props.onCommentVisibilityChange(!1),this.expandEditor()},this.onAddInternalNote=()=>{this.props.onCommentVisibilityChange(!0),this.expandEditor()},this.onTabSelect=e=>{
this.props.onCommentVisibilityChange(e.id===w)},this.expandEditor=()=>{const{isExpanded:e,onExpanded:t}=this.props;e||t&&t()}}getExpandedView(){const{isInternal:e,isPublicCommentAllowed:t,children:a}=this.props,s=t&&!e?T.public:T.internal,i=t?[T.internal,T.public]:[T.internal];return c.a.createElement(c.a.Fragment,null,c.a.createElement(k,null,c.a.createElement(n("4iLm").a,{tabs:i,selected:s,onSelect:this.onTabSelect})),a)}getCollapsedView(){return c.a.createElement(S,{onReplyToCustomer:this.onReplyToCustomer,onAddInternalNote:this.onAddInternalNote,isPublicCommentAllowed:this.props.isPublicCommentAllowed})}render(){const{isExpanded:e}=this.props;return e?this.getExpandedView():this.getCollapsedView()}}M.displayName="ServiceDeskCommentEditorContainerOld",M.defaultProps={isExpanded:!1,isInternal:!1,isPublicCommentAllowed:!1,onExpanded:p.a,onCommentVisibilityChange:p.a};var A=Object(n("5WHm").a)(n("d90y").isInjectIntlHOCMigrationEnabled,L,Object(d.injectIntl)(L));const _=["commentId"]
;t.a=Object(n("v5q+").a)([Object(r.connect)(((e,t)=>({isInternal:Object(n("ejT3").D)(t.commentId)(e),isPublicCommentAllowed:Object(n("nGHA").f)(e)})),((e,t)=>({onCommentVisibilityChange:a=>{e(Object(n("Rc4V").d)(t.commentId,a))}})),((e,t,n)=>{const{commentId:a}=n,i=o()(n,_);return s()(s()(s()({},i),e),t)}))])(A)},L7Zk:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("pVnL"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("q1tI"),l=n.n(r);const c=()=>Object(n("D3TY").a)("issue.details.field-description",!1);var d=n("vOnD");const u=d.default.div.withConfig({componentId:"sc-18lgajf-0"
})`position:relative;overflow:hidden;display:flex;border-radius:5px;margin:0 0 0 -${n("ZpU/").e}px;&:hover{background:${`var(--ds-background-subtleNeutral-hover, ${n("5kDX").a.N20})`};cursor:pointer;}&:focus{box-shadow:0 0 0 2px ${`var(--ds-card, ${n("5kDX").a.B100})`};outline:0;background:${`var(--ds-background-subtleNeutral-hover, ${n("5kDX").a.N20})`};}height:${4*n("ZpU/").e}px;align-items:center;`,p=d.default.div.withConfig({componentId:"sc-18lgajf-1"})`overflow:hidden;margin:${n("ZpU/").e}px 0 ${n("ZpU/").e}px ${n("ZpU/").e}px;height:${3*n("ZpU/").e}px;width:${3*n("ZpU/").e}px;align-items:center;`,m=Object(d.default)(p).withConfig({componentId:"sc-18lgajf-2"})`margin:0 0 0 ${n("ZpU/").e}px;padding-left:${.25*n("ZpU/").e}px;padding-right:${.25*n("ZpU/").e}px;`,b=d.default.div.withConfig({componentId:"sc-18lgajf-3"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;padding-left:${n("ZpU/").e}px;line-height:inherit;`,g=d.default.div.withConfig({
componentId:"sc-18lgajf-4"})`position:absolute;right:0;width:${7*n("ZpU/").e}px;height:${5*n("ZpU/").e}px;background-image:linear-gradient( 90deg,rgba(255,255,255,0) 0%,${`var(--ds-background-subtleNeutral-hover, ${n("5kDX").a.N20})`} 25% );`,f=d.default.div.withConfig({componentId:"sc-18lgajf-5"})`position:absolute;right:0;margin:6px ${n("ZpU/").e}px ${n("ZpU/").e/2}px;height:26px;width:26px;background:${`var(--ds-overlay-hover, ${n("5kDX").a.N30})`};color:${`var(--ds-text-lowEmphasis, ${n("5kDX").a.N60})`};border-radius:50%;align-items:center;padding:2px 0 0 2px;`,h=d.keyframes`0%{right:-28px;}100%{right:0;}`,E=d.default.div.withConfig({componentId:"sc-18lgajf-6"})`position:absolute;animation:${h} 0.15s ease-in-out;`;class y extends r.Component{constructor(...e){super(...e),this.state={isHovering:!1},this.handleOpenGlancePanel=()=>{const{onClickPayload:e,title:t,onOpenPanel:n}=this.props;n(o()(o()({},e),{},{title:t}))},this.eventHandlers={onClick:this.handleOpenGlancePanel,
onMouseEnter:()=>this.setState({isHovering:!0}),onMouseLeave:()=>this.setState({isHovering:!1}),onFocus:()=>this.setState({isHovering:!0}),onBlur:()=>this.setState({isHovering:!1})}}render(){const{title:e,Icon:t,content:a,showPinButton:i,itemId:o,issueKey:r}=this.props,d=a.length<=170?a:`${a.substring(0,170).trim()}\u2026`,p=void 0!==o;return l.a.createElement(n("gEry").d,null,e&&((()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1))()?l.a.createElement(n("HlSV").b,{isFieldDescriptionEnabled:c(),renderAfterOnHover:l.a.createElement(l.a.Fragment,null,c()&&void 0!==r&&void 0!==o&&l.a.createElement(n("n7/x").a,{issueKey:r,fieldKey:o}),!0===i&&p&&l.a.createElement(n("UOlw").a,{fieldId:o,label:e}))},l.a.createElement(n("gEry").c,null,e)):l.a.createElement(n("HlSV").a,{isFieldDescriptionEnabled:c()},l.a.createElement(n("gEry").c,null,e),c()&&void 0!==r&&void 0!==o&&l.a.createElement(n("n7/x").a,{issueKey:r,fieldKey:o}),!0===i&&p&&l.a.createElement(n("UOlw").a,{fieldId:o,label:e
}))),l.a.createElement(n("gEry").g,{fixedHeight:!0},l.a.createElement(n("Yto1").a,{content:d},l.a.createElement(n("iAtd").a,{onEnter:this.handleOpenGlancePanel},l.a.createElement(u,s()({tabIndex:"0"},this.eventHandlers),t&&l.a.createElement(m,null,l.a.createElement(t,null)),l.a.createElement(b,null,a),this.state.isHovering&&l.a.createElement(n("1w9n").a,{mountAnimation:E},l.a.createElement(g,null,l.a.createElement(f,null,l.a.createElement(n.n(n("/u5F")).a,{size:"medium",label:""})))))))))}}y.displayName="Glance",y.displayName="Glance",y.defaultProps={Icon:null}},LHLl:function(e,t,n){"use strict";(function(e){var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r);const c=["isOpen"];class d extends r.Component{constructor(t){super(t),this.state={styles:{panelWidth:0,headerWidth:0,contentWidth:0,contextWidth:0,panelTop:0,panelHeight:0}},this.refFixedPanel=void 0,this.refPanelPositioner=void 0,this.scrollContainerCached=null,
this.scrollContainerResizeObserver=e&&e.ResizeObserver?new window.ResizeObserver((()=>{requestAnimationFrame((()=>{this.updateSidePanelStyles()}))})):null,this.getMemoizedStyles=Object(n("Wwog").a)(((e,t,n,a,s,i)=>({panelWidth:e,panelTop:t,panelHeight:n,headerWidth:a,contentWidth:s,contextWidth:i}))),this.currentPosition={panelWidth:void 0,headerWidth:void 0,contentWidth:void 0,contextWidth:void 0,panelTop:void 0,panelHeight:void 0},this.updateSidePanelStyles=()=>{if(!this.props||!this.props.isOpen)return;const{refs:e}=this.props,t=document.getElementById("jira-issue-header-actions"),a=e.refPanelColumnElement,s=a&&getComputedStyle(a),i=Object(n("PUKh").b)(e),o=Object(n("PUKh").a)(e,s),r=Object(n("PUKh").c)(t,o),l=this.calculateSidePanelPosition(),c=Object(n("PUKh").d)(e,s),d=l&&l.panelTop?l.panelTop:void 0,u=l&&l.panelHeight?l.panelHeight:void 0,p=this.getMemoizedStyles(c,d,u,r,o,i);p!==this.state.styles&&(this.setState({styles:p}),this.setSidePanelPosition(l))},
this.getGlanceOffsetTop=e=>{if(!e)return;const t=e.getBoundingClientRect().top;let a=n("UMZh").a;const s=document.getElementById("jira-issue-header-actions")||document.getElementById("jira-issue-header");if(s&&e.contains(s)){const e=this.props.refs.refLayoutContainer,i=e?e.getBoundingClientRect().top:0,o=s.getBoundingClientRect();a=(o&&o.bottom<0?i+o.height:o.bottom)+n("UMZh").a-t}return a=Math.max(a,n("UMZh").a),a},this.setSidePanelPosition=e=>{if(!e)return;const{panelTop:t,panelHeight:n}=e;this.currentPosition.panelTop!==t&&this.refFixedPanel.current&&(this.currentPosition.panelTop=t,this.refFixedPanel.current.style.top=null!=t?`${t}px`:""),this.currentPosition.panelHeight!==n&&this.refPanelPositioner.current&&(this.currentPosition.panelHeight=n,this.refPanelPositioner.current.style.height=null!=n?`${n}px`:"")},this.calculateSidePanelPosition=()=>{const e=this.getScrollContainer(),t=Object(n("Ri9t").a)(e);if(null===e||null===t)return
;const a=Math.min(window.innerHeight,t||0),s=this.getGlanceOffsetTop(e)||0,i=s+e.getBoundingClientRect().top,o=Math.max(a-i,a-s);return o<=0&&n("fnbV").a.safeErrorWithoutCustomerData("issue.views.issue-base.context.side-panel",`panel height is <= 0: panelHeight='${o}`,new(n("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue"})),{panelTop:i,panelHeight:o<0?void 0:o}},this.updateSidePanelPosition=()=>{this.props.isOpen&&requestAnimationFrame((()=>{const e=this.calculateSidePanelPosition();this.setSidePanelPosition(e)}))},this.refPanelPositioner=Object(r.createRef)(),this.refFixedPanel=Object(r.createRef)()}componentDidMount(){this.updateSidePanelStyles(),this.attachSidePanelListeners(),this.props&&this.props.refs&&this.scrollContainerResizeObserver&&(this.props.refs.refLayoutContainer&&this.scrollContainerResizeObserver.observe(this.props.refs.refLayoutContainer),
this.props.refs.refPanelColumnElement&&this.scrollContainerResizeObserver.observe(this.props.refs.refPanelColumnElement))}componentDidUpdate(e){if(this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.updateSidePanelStyles(),this.scrollContainerResizeObserver){const{refs:{refPanelColumnElement:t,refLayoutContainer:n}}=this.props,{refs:{refPanelColumnElement:a,refLayoutContainer:s}}=e;t&&this.scrollContainerResizeObserver.observe(t),n&&this.scrollContainerResizeObserver.observe(n),t===a&&n===s||(a&&this.scrollContainerResizeObserver&&this.scrollContainerResizeObserver.unobserve(a),s&&this.scrollContainerResizeObserver&&this.scrollContainerResizeObserver.unobserve(s),this.detachSidePanelListeners(),this.updateSidePanelPosition(),this.attachSidePanelListeners())}}componentWillUnmount(){this.detachSidePanelListeners(),this.scrollContainerResizeObserver&&this.scrollContainerResizeObserver.disconnect()}getScrollContainer(){
return this.props.refs.refSidePanelContainerElement?this.props.refs.refSidePanelContainerElement:(this.scrollContainerCached||(this.scrollContainerCached=Object(n("410N").a)(this.refPanelPositioner.current,!1)),this.scrollContainerCached)}attachSidePanelListeners(){const e=this.getScrollContainer();e&&(e===document.body?document.addEventListener("scroll",this.updateSidePanelPosition):e.addEventListener("scroll",this.updateSidePanelPosition))}detachSidePanelListeners(){const e=this.getScrollContainer();e&&e.removeEventListener("scroll",this.updateSidePanelPosition)}render(){const{isOpen:e,children:t}=this.props,{styles:a}=this.state,s=a.panelWidth?a.panelWidth:(a.contextWidth||0)+n("ZpU/").e;return l.a.createElement(n("Z88A").a,{ref:this.refPanelPositioner,width:s,show:e},l.a.createElement(n("/QDG").a,{innerRef:this.refFixedPanel},l.a.createElement(n("/QDG").b,null,t(a))))}}d.displayName="SidePanel",d.displayName="SidePanel";const u=e=>{let{isOpen:t}=e,a=o()(e,c)
;const[{isReady:i}]=Object(n("eYcs").c)();return t||i?l.a.createElement(d,s()({isOpen:t},a)):null};u.displayName="SidePanelRenderOnOpen",t.a=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,u,d)}).call(this,n("yLpj"))},LL0x:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=e=>!!e&&e.length>0,s=e=>e?[{value:!0}]:null},LP4i:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));const a="INWARD",s="OUTWARD",i="BOTH"},Luli:function(e,t,n){"use strict";t.a=e=>{const t=Object(n("ovRs").j)(),a=Object(n("IFiJ").i)(t),s=Object(n("ovRs").h)(),i=Object(n("ovRs").m)(),o=Object(n("IFiJ").a)(t),r=Object(n("AJ6X").b)(t),l=o&&r,[c]=Object(n("j3bG").b)({issueKey:s,fieldKey:"issuetype"}),[{value:d}]=Object(n("MoW5").c)(s);let u="issuetype"
;!o&&a===n("Hh3U").h&&(Object(n("d90y").is2afErrorCleanupGroup2Enabled)()?d:null!==d)&&(u=Object(n("W7ru").a)("com.atlassian.servicedesk:vp-origin",d));const p=void 0!==u?u:"issuetype",[m]=Object(n("j3bG").b)({issueKey:s,fieldKey:p});if(o&&l&&a){const{pathname:i,search:o}=window.location;return Object(n("+8e2").b)(Object(n("Rp3N").c)(""),a,t,Object(n("d90y").is2afErrorCleanupGroup1Enabled)()&&null==c?void 0:c.id,{url:`${i}${o}`,title:e(n("UjyR").a.swiftBacklink,{issueKey:s})})}return!t||null==i||0===i||o?a?n("iJ/Y").i[a]:n("iJ/Y").i[n("Hh3U").i]:a===n("Hh3U").h?null==m||void 0===m.requestType||void 0===m.requestType.id?n("iJ/Y").i[n("Hh3U").h]:`/jira/servicedesk/projects/${t}/settings/request-types/request-type/${m.requestType.id}`:i?`/plugins/servlet/project-config/${t}/issuelayout?screenId=${i}`:a?n("iJ/Y").i[a]:n("iJ/Y").i[n("Hh3U").i]}},LvNX:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=n("RGCN").a.interaction({
key:"global-issue-create-tti-with-adjustments"}),s=()=>{(()=>Object(n("D3TY").a)("issue.adjustments.global-issue-create",!1))()&&a.start()}},LzLY:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("mwIZ"),o=n.n(i),r=n("3tO9"),l=n.n(r);const c=()=>{const e=Object(n("ovRs").h)(),[,{setLoggedInUserActionVote:t,setLoggedInUserActionUnvote:s}]=Object(n("lJFs").a)(),[i]=Object(n("MoW5").a)(e,"votes"),r=o()(i.value,"schema.type","votes"),{showFlag:c}=Object(n("uS5k").f)(),{createAnalyticsEvent:d}=Object(n("rZ/p").a)(),u=Object(a.useCallback)(((e,a)=>{c({type:"error",title:n("APBy").a.updateVoteFailedTitle,description:n("APBy").a.updateVoteFailedDescription}),a.hasVoted?s():t()}),[c,s,t]),[{value:p,error:m},{saveValue:b,resetError:g}]=Object(n("35XP").a)({fieldKey:"votes",issueKey:e,fieldType:r,initialValue:{hasVoted:!1,votes:0},
saveField:(t,a,s,i)=>(({issueKey:e,newValue:t,baseUrl:a})=>t.hasVoted?Object(n("/rpS").d)(`${a}/rest/api/3/issue/${e}/votes`):Object(n("/rpS").a)(`${a}/rest/api/3/issue/${e}/votes`))({issueKey:e,newValue:s,baseUrl:Object(n("Rp3N").c)(i)}),onFailure:u}),f=Object(a.useCallback)(((e=!1)=>{const a=!p.hasVoted,i=d({action:"clicked",actionSubject:"button"});Object(n("yy8q").h)(i,a?"voteAdded":"voteRemoved",{viewMode:e?"showVotersList":"hideVotersList"}),a?t():s(),b(((e,t)=>e?l()(l()({},t),{},{votes:t.votes+1,hasVoted:!0}):l()(l()({},t),{},{votes:t.votes-1,hasVoted:!1}))(a,p),null,i)}),[p,d,t,s,b]);return[{value:p,error:m,fieldConfig:i},{toggleValue:f,resetError:g}]};var d=n("vOnD");const u=Object(d.default)(n("ourr").a).withConfig({componentId:"luf30j-0"})`&&&{padding:8px 12px 7px;}`,p=({onClick:e,isDropdownItem:t=!1,disableVotingProps:i={isDisabled:!1}})=>{
const{isDisabled:o,tooltips:r}=i,{formatMessage:l}=Object(n("NRyt").d)(),[{value:d},{toggleValue:p}]=c(),{buttonLabel:m,disabledTooltip:b}=Object(a.useMemo)((()=>d.hasVoted?{buttonLabel:l(n("APBy").a.removeVoteLabel),disabledTooltip:null==r?void 0:r.removeVote}:{buttonLabel:l(n("APBy").a.addVoteLabel),disabledTooltip:null==r?void 0:r.addVote}),[r,l,d.hasVoted]),g=Object(a.useCallback)((()=>{null==e||e(),p(t)}),[t,e,p]);return t?s.a.createElement(n("Yto1").a,{content:o&&void 0!==b?b:null},s.a.createElement(u,{elemBefore:d.hasVoted?s.a.createElement(n.n(n("ZtFK")).a,{label:"",size:"medium"}):s.a.createElement(n("PE+Q").a,{label:"",size:"medium"}),onClick:g,isDisabled:o},m)):s.a.createElement(n("ySy9").a,{tooltip:o?b:m,onClick:g,isDisabled:o})};p.displayName="VoteToggle";t.a=p},"M+5/":function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"J",(function(){return i})),n.d(t,"K",(function(){return o})),n.d(t,"I",(function(){return r})),
n.d(t,"a",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"o",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"F",(function(){return p})),n.d(t,"H",(function(){return m})),n.d(t,"G",(function(){return b})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return f})),n.d(t,"O",(function(){return h})),n.d(t,"P",(function(){return E})),n.d(t,"N",(function(){return y})),n.d(t,"L",(function(){return O})),n.d(t,"p",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"v",(function(){return I})),n.d(t,"w",(function(){return C})),n.d(t,"u",(function(){return S})),n.d(t,"b",(function(){return k})),n.d(t,"r",(function(){return w})),n.d(t,"c",(function(){return T})),n.d(t,"s",(function(){return D})),n.d(t,"q",(function(){return R})),n.d(t,"t",(function(){return L})),n.d(t,"M",(function(){return M})),n.d(t,"g",(function(){return A})),n.d(t,"C",(function(){return _})),n.d(t,"E",(function(){return N})),n.d(t,"B",(function(){return x})),
n.d(t,"e",(function(){return U})),n.d(t,"x",(function(){return F})),n.d(t,"y",(function(){return P})),n.d(t,"f",(function(){return V})),n.d(t,"z",(function(){return K})),n.d(t,"A",(function(){return $})),n.d(t,"h",(function(){return W})),n.d(t,"D",(function(){return B}));const a="state.FETCH_WORKLOGS_REQUEST",s="state.FETCH_WORKLOGS_REQUEST_INITIAL",i=(e,t,n)=>({type:s,payload:{baseUrl:e,issueKey:t},meta:{analyticsEvent:n}}),o=(e,t,n)=>({type:"state.FETCH_WORKLOGS_SUCCESS",payload:{sortedWorklogIds:e,worklogs:t,totalWorklogs:n}}),r=()=>({type:"state.FETCH_WORKLOGS_FAILURE"}),l="state.ADD_WORKLOG_REQUEST",c=(e,t)=>({type:l,payload:{values:e},meta:{analyticsEvent:t}}),d=(e,t,n)=>({type:"state.ADD_WORKLOG_SUCCESS",payload:{worklogId:e,timeTracking:t},meta:n}),u="state.FETCH_SURROUNDING_WORKLOGS_BY_ID",p=e=>({type:u,payload:{worklogId:e}}),m=(e,t,n,a)=>({type:"state.FETCH_WORKLOGS_BY_ID_SUCCESS",payload:{sortedWorklogIds:e,worklogs:t,startIndex:n,totalWorklogs:a}}),b=()=>({
type:"state.FETCH_WORKLOGS_BY_ID_FAILURE"}),g=()=>({type:"state.ADD_WORKLOG_FAILURE"}),f="state.UPDATE_TIME_REMAINING_REQUEST",h=(e,t)=>({type:f,payload:{timeRemaining:e},meta:{analyticsEvent:t}}),E=e=>({type:"state.UPDATE_TIME_REMAINING_SUCCESS",payload:{timeRemaining:e}}),y=()=>({type:"state.UPDATE_TIME_REMAINING_FAILURE"}),O=(e,t)=>({type:"state.OPEN_MODAL",payload:{modalType:e,worklogId:t}}),v=()=>({type:"state.CLOSE_MODAL"}),j="state.EDIT_WORKLOG_REQUEST",I=(e,t,n)=>({type:j,payload:{worklogId:e,values:t},meta:{analyticsEvent:n}}),C=(e,t,n,a)=>({type:"state.EDIT_WORKLOG_SUCCESS",payload:{worklogs:e,worklogId:t,timeTrackingDeltas:n},meta:a}),S=()=>({type:"state.EDIT_WORKLOG_FAILURE"}),k="state.DELETE_WORKLOG_REQUEST",w=(e,t,n,a)=>({type:k,payload:{worklogId:e,timeRemaining:t,isAdjustTimeRemainingChecked:n},meta:{analyticsEvent:a}}),T="state.DELETE_WORKLOG_SUCCESS",D=(e,t)=>({type:T,payload:{worklogId:e,timeTrackingDeltas:t}}),R=()=>({type:"state.DELETE_WORKLOG_FAILURE"}),L=()=>({
type:"state.DISPOSE_WORKLOG_APP"}),M=e=>({type:"SET_WORKLOG_SCROLL_STATUS",payload:{status:e}}),A="state.FETCH_SORTED_WORKLOGS_REQUEST",_=()=>({type:A}),N=e=>({payload:e,type:"state.FETCH_SORTED_WORKLOGS_SUCCESS"}),x=()=>({type:"state.FETCH_SORTED_WORKLOGS_FAILURE"}),U="state.FETCH_NEWER_SORTED_WORKLOGS_REQUEST",F=()=>({type:U}),P=e=>({type:"state.FETCH_NEWER_SORTED_WORKLOGS_SUCCESS",payload:e}),V="state.FETCH_OLDER_SORTED_WORKLOGS_REQUEST",K=()=>({type:V}),$=e=>({type:"state.FETCH_OLDER_SORTED_WORKLOGS_SUCCESS",payload:e}),W="state.FETCH_SORTED_WORKLOGS_RETRY",B=()=>({type:W})},M425:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").G,(e=>e?Object(n("YXYM").f)(e):null)),i=Object(a.createSelector)([n("4dgq").c,s],((e,t)=>t?Object(n("JMkI").f)(t,e):null))},MBvp:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}))
;var a=n("QILm"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("E+oP"),l=n.n(r),c=n("GBY4"),d=n.n(c);const u={singleLineTextFields:{value:{fieldId:"ID",text:null},type:"array"},epicLinkField:{value:{fieldId:"ID",epicLink:{issueKey:null}},type:"object"},sprintsField:{value:{fieldId:"ID",sprints:[{sprintId:null}]},type:"object"},priority:{value:{priorityId:"ID"},type:"object"},datePickerFields:{value:{fieldId:"ID",date:{formattedDate:null}},type:"array"},dateTimePickerFields:{value:{fieldId:"ID",dateTime:{formattedDateTime:null}},type:"array"},labelsFields:{value:{fieldId:"ID",labels:[{name:null}]},type:"array"},singleSelectUserPickerFields:{value:{fieldId:"ID",user:{accountId:null}},type:"array"},multipleVersionPickerFields:{value:{fieldId:"ID",versions:[{versionId:null}]},type:"array"},components:{value:{componentId:null},type:"array"}},p={summary:"singleLineTextFields",epic:"epicLinkField",epicName:"singleLineTextFields",duedate:"datePickerFields",startdate:"datePickerFields",
plannedStartDate:"dateTimePickerFields",plannedEndDate:"dateTimePickerFields",labels:"labelsFields",sprint:"sprintsField",assignee:"singleSelectUserPickerFields",reporter:"singleSelectUserPickerFields",fixVersions:"multipleVersionPickerFields",components:"components"},m=["fieldsToRetain","pid","issuetype","requestype","parentId"],b=e=>Array.isArray(e)?e[0]:e,g=(e,t,n)=>"string"==typeof e?"ID"===e?t:e:Object.keys(e).reduce(((a,s)=>{const i=e[s];if(Array.isArray(i)){const e=Array.isArray(n)?n:[n];return o()(o()({},a),{},{[s]:e.map((e=>g(i[0],t,e)))})}return o()(o()({},a),{},{[s]:null===i?b(n):g(e[s],t,n)})}),{}),f=e=>{const t="A"===e.nodeName?e:e.querySelector("a");if(t){const e=t.getAttribute("href"),{query:n}=d()(e,(e=>new URLSearchParams(e))),a={prefilledFields:{}},s=t.getAttribute("data-pid")||n.get("pid"),i=t.getAttribute("data-issue-type")||n.get("issuetype"),o=t.getAttribute("data-itsm-category")||n.get("itsmCategory");return s&&(a.prefilledFields.pid=s),
i&&(a.prefilledFields.issuetype=i),o&&(a.prefilledFields.requestype=o),l()(a.prefilledFields)?{}:a}return{}},h=(e={})=>{const{prefilledFields:t,target:n=null}=e;let a=t;if(n){a=((e,t)=>null!=t?o()(o()({},e),t):e)(t,f(n).prefilledFields)}if(!l()(a)){const{fieldsToRetain:e=[],pid:t,issuetype:n,requestype:i,parentId:o}=a,r=s()(a,m),c={};if(l()(t)||"undefined"===t||(c.project={projectId:b(t)}),l()(n)||(c.issueType={issueTypeId:b(n)}),l()(i)||(c.requestType={key:b(i)}),l()(o)||(c.parentId={parentId:b(o)}),Object.keys(r).length>0){const{defaultValues:t,fieldIds:n}=(e=>{const t={},n=[];return Object.keys(e).forEach((a=>{const s=e[a];if(p[a]){const e=p[a],{type:i=null,value:o=null}=u[e];let r=null;if(!l()(s)&&o&&i)if(Array.isArray(s)||"object"!=typeof s)r=g(o,a,s),n.push(a);else{const{fieldId:e,fieldValue:t}=s;r=g(o,e||a,t),n.push(e||a)}l()(r)||("array"===i?(t[e]=t[e]||[]).push(r):"object"===i&&(t[e]=r))}})),{defaultValues:t,fieldIds:n}})(r);l()(t)||(c.defaultValues=t),
c.customFieldsToPreserveOnFormRecreation=[...e,...n]}return c}return null}},MHIu:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i);const r=e=>o.a.createElement("svg",s()({},e,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),o.a.createElement("path",{fill:"currentColor",
d:"M3.58176938,7.87928392 L8.11122851,12.4014141 L8.25734637,12.2555315 L8.18428744,12.1825901 C7.49835823,11.4978426 7.49835823,10.387565 8.18428744,9.70273982 L10.299184,7.5911928 C10.8579797,7.03331193 11.6995968,6.9299201 12.363196,7.28100178 L12.563933,7.08062671 L8.9111421,3.43373045 L8.71048291,3.63410553 C9.06208387,4.29665994 8.95852537,5.13692246 8.39972959,5.6948111 L6.28483307,7.80634258 C5.59890386,8.4911678 4.48684425,8.4911678 3.80093838,7.80634258 L3.72787945,7.73340123 L3.58176938,7.87928392 Z M5.48118484,7.00402665 L7.59615917,4.8924874 C7.83821064,4.65079444 7.83821064,4.25893086 7.59615917,4.01723789 L7.45004131,3.87135521 C7.28867366,3.71023174 7.28867366,3.44898677 7.45004131,3.28785554 L8.61890638,2.12084842 C8.78035183,1.95971719 9.04201017,1.95971719 9.20337782,2.12084842 L13.8789159,6.78887687 C14.0403614,6.9500081 14.0403614,7.21125308 13.8789159,7.37238431 L12.7100508,8.53940696 C12.5486832,8.70051489 12.2870249,8.70051489 12.1255794,8.53940696 L11.9794615,8.39352427 C11.7374101,8.1517847 11.3448837,8.1517847 11.1028322,8.39352427 L8.98785786,10.5050169 C8.74580639,10.7467565 8.74580639,11.1385735 8.98785786,11.380313 L9.5723293,11.9638438 C9.73369695,12.1249517 9.73369695,12.3861889 9.5723293,12.5472968 L8.40346423,13.7143583 C8.24201878,13.8754662 7.98036044,13.8754662 7.81899279,13.7143583 L5.48655339,11.3856729 L2.99050556,13.8776413 C2.91355638,13.9544666 2.80936765,13.9978896 2.70054953,13.9985111 L2.4264735,14 C2.20319639,14.0012299 2.01931974,13.8252074 2.01121246,13.6024217 L2.00027307,13.3019562 C1.99610272,13.1873785 2.03985249,13.0762963 2.12104205,12.9951986 L4.60988514,10.5103768 L2.26677088,8.17104929 C2.10537989,8.00994136 2.10537989,7.74862648 2.26677088,7.58752632 L3.4356593,6.42051921 C3.59705028,6.25938797 3.85870862,6.25938797 4.02009961,6.42051921 L4.60454771,7.00402665 C4.8466303,7.24571961 5.23912559,7.24571961 5.48118484,7.00402665 Z"
}));r.displayName="PinUnfilled",t.a=r},MhXd:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({unassignedOption:{id:"issue-field-assignee.unassigned-option",defaultMessage:"Unassigned"},automaticOption:{id:"issue-field-assignee.automatic-option",defaultMessage:"Automatic"},assignToMe:{id:"issue-field-assignee.assign-to-me",defaultMessage:"Assign to me"},searchForAssignee:{id:"issue-field-assignee.search-for-assignee",defaultMessage:"Search for assignee"},invitePeopleOption:{id:"issue-field-assignee.invite-people-option",defaultMessage:"Add teammate to Jira"},invitePeopleOptionAdmin:{id:"issue-field-assignee.invite-people-option-admin",defaultMessage:"Invite teammate to Jira"}})},MoW5:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("3tO9"),s=n.n(a),i=n("q1tI")
;const o=()=>'\n  query fieldConfigurationQuery($issueKey: String) {\n    issue(issueIdOrKey: $issueKey, latestVersion: true, screen: "view") {\n      fields {\n        key\n        schema {\n          type\n          custom\n          customId\n          system\n          renderer\n        }\n        autoCompleteUrl\n        allowedValues\n        operations\n        required\n        editable\n        title\n      }\n    }\n  }',r=async e=>{const t=await Object(n("/rpS").d)("/rest/graphql/1/",{body:JSON.stringify({query:o(),variables:{issueKey:e}})});return t&&t.data&&t.data.issue&&t.data.issue.fields?t.data.issue.fields.reduce(((e,t)=>s()(s()({},e),{},{[t.key]:{autoCompleteUrl:t.autoCompleteUrl,allowedValues:t.allowedValues,isEditable:t.editable,isRequired:t.required,schema:t.schema,title:t.title}})),{}):null},l=new Set,c=e=>{const[t,{setIssueConfig:a}]=Object(n("1oZq").c)({issueKey:e}),[s,o]=Object(i.useState)(!l.has(e)&&void 0===t),c=Object(i.useCallback)((async()=>{o(!0),l.add(e)
;const t=await r(e);a(e,t),l.delete(e),o(!1)}),[e,a]);return Object(i.useEffect)((()=>{void 0!==t||l.has(e)||c()}),[e,t,c]),[{value:t,loading:s}]},d=(e,t)=>{const[{value:n,loading:a}]=c(e);if(null==n)return[{value:n,loading:a}];const s=n[t];return s?[{value:s,loading:a}]:[{value:null,loading:a}]},u=()=>{const[,e]=Object(n("1oZq").b)();return[null,Object(i.useMemo)((()=>({setIssueConfig:(t,n)=>e.setIssueConfig(t,n),setIssuesConfig:t=>e.setIssuesConfig(t),mergeIssueConfig:(t,n)=>e.mergeIssueConfig(t,n),mergeIssuesConfig:t=>e.mergeIssuesConfig(t),setFieldConfigValue:(t,n,a)=>e.setFieldConfigValue(t,n,a)})),[e])]}},Mr31:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("3tO9"),s=n.n(a);const i={setState:(e={})=>({setState:t,getState:n})=>{t(s()(s()({},n()),e))},setTransitionInProgress:e=>({setState:t,getState:n})=>{t({ui:s()(s()({},n().ui),{},{transitionInProgress:e})
})}},o=Object(n("0b8M").a)({name:"workflow-transitions",initialState:{data:null,loading:!1,error:null,ui:{transitionInProgress:!1}},actions:i}),r=Object(n("dq9g").a)(o,{selector:e=>e}),l=Object(n("dq9g").a)(o,{selector:e=>e.ui.transitionInProgress}),c=Object(n("dq9g").a)(o,{selector:null}),d=Object(n("UCyb").a)(o)},MrUx:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>Object(n("D3TY").a)("issue.details.inline-edit-bump",!1)},Mv4v:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("q1tI");const a=({issueKey:e,fieldKey:t,onSuccess:a,onFailure:s})=>{var i;const[{value:o}]=Object(n("MoW5").a)(e,t),r=null!==(i=null==o?void 0:o.schema.type)&&void 0!==i?i:"datetime",[{loading:l,value:c,error:d},{saveValue:u,resetError:p}]=Object(n("35XP").a)({fieldKey:t,issueKey:e,fieldType:r,initialValue:null,onSuccess:a,onFailure:s});return[{loading:l,value:c,error:d,fieldConfig:o},{saveValue:u,resetError:p}]}},Mx8q:function(e,t,n){"use strict"
;var a=n("q1tI"),s=n.n(a),i=n("6xe2");const o=Object(i.g)((()=>Promise.resolve().then(n.bind(null,"PXXT")).then((e=>e.PermalinkButtonNew))),{ssr:!1,moduleId:"./src/packages/issue/issue-view/src/common/component/permalink-button/button/view.js"}),r=e=>s.a.createElement(n("ho8o").a,{id:"issue-view-lazy-permalink",packageName:"jiraIssueView"},s.a.createElement(i.a,{fallback:n("3guO").b},s.a.createElement(o,e)));r.displayName="PermalinkButton";t.a=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,r,n("PXXT").PermalinkButtonOld)},Myak:function(e,t,n){"use strict";var a=n("QILm"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("/MKj"),l=n("6xe2");const c=["isOpen"],d=Object(l.f)((()=>n.e("async-assign-issue-parent-modal").then(n.bind(null,"mcpM"))),{moduleId:"./src/packages/assign-issue-parent-modal/src/index.js"}),u=e=>{let{isOpen:t}=e,a=s()(e,c);return o.a.createElement(n("ugic").f,null,t&&o.a.createElement(n("4eZb").a,{packageName:"issue"},o.a.createElement(d,a)))}
;u.displayName="ModalWithTransition",t.a=Object(r.connect)((e=>{const t=Object(n("4dgq").b)(e);return{isOpen:Object(n("p/Po").b)(e),issues:Object(n("p/Po").a)(e),issueParents:Object(n("/LFc").C)(e),issueHierarchyLevel:Object(n("Hxy2").b)(e),issueParentTypeIds:Object(n("Hxy2").e)(e),shouldHideUnassignOption:Object(n("Hxy2").d)(e),parentIssueTypeName:Object(n("Hxy2").f)(e)[0],baseUrl:Object(n("4dgq").f)(e),projectId:Object(n("/LFc").D)(e),analyticsSource:`issue-view (${String(t)})`}}),(e=>({onClose:()=>{e(Object(n("erQ6").d)())},onSubmit:(t,a,s,i)=>{e(Object(n("erQ6").e)(t,s,i))}})))(u)},"N/HC":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>e.length>0&&!Number.isNaN(Number(e))},NMw1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("peh1");const s=Object(a.createSelector)(n("4dgq").i,(e=>new(n("XoWZ").a)("/gateway/api/graphql",e)))},NSuG:function(e,t,n){"use strict";t.a=e=>"context"===e},NdSv:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return a}));const a=()=>65536},OEhx:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return d}));var a=n("peh1");const s=Object(a.createSelector)((e=>e.validators),(e=>{const t=e.projectHasSubtaskValidators;return(e=>"LOADED"===e.status&&e.value)(t)||(e=>"LOADING"===e.status||"FAILED"===e.status)(t)
})),i=Object(a.createSelector)(n("SXNk").i,(e=>!(!e||!e.subtask))),o=Object(a.createSelector)(n("/LFc").f,(e=>e.subtasks)),r=Object(a.createSelector)(o,n("KSj7").b,((e,t)=>Object(n("d90y").isIssueViewAggChildPanelEnabled)()?e.length>0||Boolean(t("subtasks")):e.length>0)),l=Object(a.createSelector)(n("bQbD").a,s,((e,t)=>e||t)),c=Object(a.createSelector)(n("/LFc").f,(({jiraSettings:e})=>e.subtasksConfiguration.enabled)),d=Object(a.createSelector)(n("nGHA").h,i,n("bQbD").b,l,n("4dgq").r,n("4dgq").o,n("4dgq").t,n("/LFc").u,c,n("/LFc").F,(({canCreateSubtask:e},t,n,a,s,i,o,r,l,c)=>{var d;const u=!!a&&(s||i),p="PROJECT_ACTIVE"===(null!==(d=null==c?void 0:c.projectStatus)&&void 0!==d?d:"PROJECT_ACTIVE");return!!(e&&!t&&n&&!u&&(!o||!r)&&l&&p)}))},OGP8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("peh1");const s=Object(a.createSelector)(Object(n("KSj7").p)("status"),(e=>e?Object(n("RQwY").statusCategoryForId)(e.statusCategory.id):null))},OMlv:function(e,t,n){
"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("peh1");const s=e=>Object(a.createSelector)(Object(n("KSj7").d)(e),(e=>!e||e.length>1)),i=e=>Object(a.createSelector)(n("nGHA").f,Object(n("KSj7").p)(e),((e,t)=>Boolean(e&&t&&t.rating))),o=e=>Object(a.createSelector)(Object(n("KSj7").o)(e),(e=>Boolean(e&&(e.showField||e.hasEpicLinkFieldDependency))))},OURh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));const a=()=>Object(n("gOD+").a)().getVariantValue("invite.from.assign",{default:"not-enrolled",oneOf:["not-enrolled","control","variation"],shouldTrackExposureEvent:!1}),s=()=>"variation"===a(),i=()=>Object(n("D3TY").a)("issue.details.fix-assignee-inline-field-onchange",!1)},Oaux:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("cr+I"),s=n.n(a)
;const i=()=>s.a.parse(window.location.search).view||"",o=e=>e.name===n("gHjj").c.RAPIDBOARD_BACKLOG||e.name===n("gHjj").c.RAPIDBOARD_USER_BACKLOG,r=e=>e?e===n("f2q/").b:(()=>i().includes("planning"))()||(()=>"detail"===i())()},"Oc+3":function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("QILm"),l=n.n(r),c=n("q1tI"),d=n.n(c),u=n("Puqe"),p=n.n(u);const m="refresh-sprints-on-board",b="hide",g=(e,t)=>{const a=document.getElementById("ghx-issue-fragment");window.AJS&&a?window.AJS.$(a).trigger(e,t):n("RDfz").a.safeErrorWithoutCustomerData("issue.fields.sprint","Could not find container to send event for rapid board")};var f=n("QVEU"),h=n.n(f);const E=e=>{const t=Object(n("PzPv").a)(e,n("RlEB").a);if(t)return t;const a=Object(n("PzPv").a)(e,n("RlEB").c);return a||null},y=async(e,t,a)=>{const s=E(a);return Object(n("/rpS").e)(`/rest/api/3/issue/${e}/`,{body:JSON.stringify({fields:{[t]:s?s.id:null}})})},O=e=>{var t
;const{fieldKey:a,issueId:s,issueKey:i,onSuccess:o,onFailure:r,initialValue:l=[]}=e,[{value:d}]=Object(n("MoW5").a)(i,a),u=null!==(t=null==d?void 0:d.schema.custom)&&void 0!==t?t:"com.pyxis.greenhopper.jira:gh-sprint",[{error:p,value:m},{resetError:b,saveValue:g}]=Object(n("35XP").a)({fieldKey:a,fieldType:u,issueId:s,issueKey:i,onSuccess:o,onFailure:r,initialValue:l,saveField:y});return[{currentSprint:Object(c.useMemo)((()=>E(m)),[m]),closedSprints:Object(c.useMemo)((()=>(e=>e?e.filter(Object(n("PzPv").b)(n("RlEB").b)):[])(m)),[m]),error:p,value:m,fieldConfig:d},{resetError:b,saveValue:g}]};var v=n("JRPe"),j=Object(v.defineMessages)({errorTitle:{id:"issue-field-sprint.error-title",defaultMessage:"We couldn't set the sprint value"},errorMessage:{id:"issue-field-sprint.error-message",defaultMessage:"Check your connection, then give it another try."},noValueText:{id:"issue-field-sprint.no-value-text",defaultMessage:"None"}}),I=n("vOnD");const C=I.default.div.withConfig({
componentId:"vk8nwv-0"})`padding:0;`,S=I.default.div.withConfig({componentId:"vk8nwv-1"})`padding:0px;& > div > span:first-child{margin-left:0;}`;var k=n("cr+I"),w=n.n(k);const T=()=>(()=>w.a.parse(window.location.search).view||"")().includes("planning"),D=["fieldKey","issueKey","label","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","showPinButton","projectId","issueId","getSuggestions","initialValue","shouldHideSprintLink","startWithEditViewOpen","menuPosition"],R=Object(c.memo)((e=>{
const{fieldKey:t,issueKey:a,label:i,onCancel:r,onEdit:u,onEscape:f,onConfirm:E,onEnter:y,onUpdate:v,readView:I,editView:k,showPinButton:w,projectId:R,issueId:L,getSuggestions:M,initialValue:A=[],shouldHideSprintLink:_=!1,startWithEditViewOpen:N=!1,menuPosition:x}=e,U=l()(e,D),F=Object(n("XRG9").a)(),P=Object(n("ovRs").a)(),{createAnalyticsEvent:V}=Object(n("rZ/p").a)(),{formatDate:K,formatMessage:$}=Object(n("NRyt").d)(),[W,B]=Object(c.useState)(N),{onFailure:q}=Object(n("+PQg").a)(),{onHideIssueView:H,onRefreshSprintOnBoard:G}=(()=>({onHideIssueView:Object(c.useCallback)((()=>g(b)),[]),onRefreshSprintOnBoard:Object(c.useCallback)((e=>{g(m,{sprintIds:[e]})}),[])}))(),[Y,{addSprintsToCache:Z,removeSprintsFromCache:X,getCachedSprints:J,validateCachedSprints:z}]=(()=>{const{createAnalyticsEvent:e}=Object(n("rZ/p").a)(),[t,a]=Object(c.useState)([]),s=Object(c.useMemo)((()=>{const t=t=>{t.forEach((t=>{try{Object(n("yy8q").b)(e({}),"sprintPickerCache removed"),
t.id&&n("P4W6").a.remove(`${t.id}`)}catch(a){n("RDfz").a.safeErrorWithoutCustomerData("issue.fields.sprints.cache.remove",a.message)}}))};return{addSprintsToCache:t=>{t.forEach((t=>{try{Object(n("yy8q").b)(e({}),"sprintPickerCache set",{isFromCache:t.fromCache}),t.id&&n("P4W6").a.set(`${t.id}`,t)}catch(a){n("RDfz").a.safeErrorWithoutCustomerData("issue.fields.sprints.cache.set",a.message)}}))},removeSprintsFromCache:t,getCachedSprints:async()=>{const e=(e=>e.slice(-5).reverse())(await n("P4W6").a.getAll());return a(e),e},validateCachedSprints:(e,a,s=[])=>{const i=h()(e,"id"),r=h()(s,"id"),[l,c]=a.reduce((([e,t],n)=>r[n.id]?[[...e,n],t]:[e,[...t,n]]),[[],[]]);return l.length>0&&t(l),c.map((e=>{const t=i[e.id];return t?(n("P4W6").a.update(`${e.id}`,t),o()(o()({},t),{},{fromCache:!0})):o()(o()({},e),{},{fromCache:!0})}),[])}}}),[e,a]);return Object(c.useEffect)((()=>{s.getCachedSprints()}),[]),[t,s]})(),Q=Object(n("ovRs").k)(),ee="number"==typeof Q&&Q>0,te=Object(c.useCallback)((e=>{
null!==e&&F.current&&J(),v&&v(e)}),[J,F,v]),ne=Object(c.useCallback)(((e,t)=>{if(null!==t){const e=Object(n("PzPv").e)(t),a=Object(n("PzPv").d)(e);X(a)}q({error:e,title:j.errorTitle,description:j.errorMessage}),F.current&&B(!0)}),[F,X,q]),[{currentSprint:ae,fieldConfig:se,value:ie,closedSprints:oe},{resetError:re,saveValue:le}]=O({fieldKey:t,initialValue:A,onSuccess:te,onFailure:ne,issueKey:Object(n("Rp3N").n)(a),issueId:L}),ce=Object(c.useMemo)((()=>{if(!ae)return null;const e=Object(n("PzPv").i)(ae);return ee?p()(e,"href"):e}),[ae,ee]),de=Object(c.useMemo)((()=>oe.map((e=>Object(n("PzPv").h)(o()(o()({},e),{},{endDate:K(e.endDate,{day:"2-digit",month:"short",year:"numeric"})}))))),[K,oe]),ue=(null==se?void 0:se.autoCompleteUrl)||"/rest/greenhopper/1.0/sprint/picker?query=",pe=(null==se?void 0:se.isEditable)||!1,me=P===n("wpii").a.MOBILE_ISSUE,be=Object(c.useCallback)((e=>{
const t=e.suggestions||[],a=e.allMatches||[],s=t.concat(a),i=Object(n("PzPv").j)(e,$),o=z(s,Y,de),r=Object(n("PzPv").g)(o);return[{label:$(n("oJkA").a.recentSprints),options:r},...i]}),[Y,de,$,z]),ge=Object(c.useCallback)(((e,t)=>{const a=e?Object(n("PzPv").c)(e):null,s=(null==a?void 0:a.id)!==(null==ae?void 0:ae.id);if(s&&e&&Z(Object(n("PzPv").d)([e])),s){const e=a?[a,...oe]:oe;le(e,null,t)}B(!1),Object(n("yy8q").h)(t)}),[Z,ae,le,oe]),fe=Object(c.useCallback)((e=>{re(),B(!1),Object(n("yy8q").h)(e)}),[re]),he=Object(c.useCallback)((e=>{fe(e),r&&r(e)}),[fe,r]),Ee=Object(c.useCallback)((e=>{B(!1),E&&E(e)}),[E]),ye=Object(c.useCallback)((e=>{B(!0),Object(n("yy8q").h)(e),u&&u(e)}),[u]),Oe=Object(c.useCallback)((e=>{fe(e),f&&f(e)}),[fe,f]),ve=Object(c.useCallback)((e=>{const t=Array.isArray(e)?e[0]:e;re();const n=V({action:"confirmed",actionSubject:"fieldInlineEdit"});ge(t,n),Ee(n)}),[V,Ee,re,ge]),je=Object(c.useCallback)((e=>{void 0!==Q&&ae&&(G(ae.id),H()),e.stopPropagation()
}),[ae,G,H,Q]),Ie=()=>void 0!==k?k:d.a.createElement(C,null,d.a.createElement(n("8/Id").a,{autoFocus:!0,spacing:"compact",autoCompleteUrl:ue,fieldId:t,getSuggestions:M,menuPosition:x,useTransformSuggestions:be,onChange:ve,value:ce?[ce]:[]})),Ce=()=>{if(void 0!==I)return I;const e=T()&&ee;return d.a.createElement(S,null,d.a.createElement(n("dggp").a,{closedSprints:de,onSprintClick:je,placeholder:$(j.noValueText),shouldHideClosedSprintsLinks:me,shouldHideSprintLink:_||e,value:ce}))};return Object(n("MrUx").a)()?d.a.createElement(n("cNqL").a,{hasValue:ie&&0!==ie.length,isEditing:W},d.a.createElement(n("JZTM").a,s()({hideActionButtons:!0,isEditable:pe,isEditing:W,isFitContainerWidthReadView:!me,label:i,readView:Ce(),editView:pe?Ie():null,onCancel:he,onConfirm:Ee,onEdit:ye,onEscape:Oe},U))):d.a.createElement(n("JZTM").a,s()({areActionButtonsHidden:!0,isEditable:pe,isEditing:W,isFitContainerWidthReadView:!me,label:i,readView:Ce(),editView:pe?Ie():null,onCancel:he,onConfirm:Ee,onEdit:ye,
onEscape:Oe},U))}));R.displayName="SprintField";t.a=R},OxSL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=n("vOnD").default.div.withConfig({componentId:"eo6prx-0"})`flex:1 1 100%;min-width:0;input{font:inherit;}`},P2DH:function(e,t,n){"use strict";t.a=class{constructor(){this.issueMediaUserAuth=null,this.issueMediaReadPermission=null,this.issueMediaUploadPermission=null,this.issueGiraData=null,this.issueGraphqlData=null,this.issueForgeData=null,this.allData={},this.getGiraData=()=>this.allData.issueGiraData&&this.allData.issueGiraData.data,this.getGiraErrors=()=>{var e;return null===(e=this.allData.issueGiraData)||void 0===e?void 0:e.errors},this.getGqlData=()=>this.allData.issueGraphqlData&&this.allData.issueGraphqlData.data,this.getGqlErrors=()=>{var e;return null===(e=this.allData.issueGraphqlData)||void 0===e?void 0:e.errors},this.getMediaUser=()=>this.allData.mediaUserAuth,this.getMediaReadPermission=()=>this.allData.mediaReadPermission,
this.getMediaUploadPermission=()=>this.allData.mediaUploadPermission,this.isAllDataReady=()=>!(!this.getGiraData()||!this.getGqlData()),this.containsInitialPromises=()=>!!(this.issueMediaUploadPermission&&this.issueMediaUserAuth&&this.issueMediaReadPermission&&this.issueGiraData&&this.issueGraphqlData)}setAllData(e){this.allData=e}setAllPromises(e){this.issueMediaUserAuth=e.mediaUserAuthPromise,this.issueMediaUploadPermission=e.mediaUploadPermissionPromise,this.issueMediaReadPermission=e.mediaReadPermissionPromise,this.issueGiraData=e.issueGiraDataPromise,this.issueGraphqlData=e.issueGraphqlDataPromise}setForgePromise(e){this.issueForgeData=e}getAllPromises(){return[this.issueMediaUserAuth,this.issueMediaUploadPermission,this.issueMediaReadPermission,this.issueGiraData,this.issueGraphqlData]}clearAll(){this.allData={},this.issueMediaReadPermission=null,this.issueMediaUploadPermission=null,this.issueMediaUserAuth=null,this.issueGiraData=null,this.issueForgeData=null,
this.issueGraphqlData=null}}},P82W:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("peh1"),s=n("E+oP"),i=n.n(s);const o=Object(a.createSelector)(n("/LFc").f,(e=>e.issueTypes)),r=["summary","issuetype","parent","project"],l=e=>!!Object.keys(e).find((t=>!(e=>r.find((t=>e===t)))(t)&&!e[t].hasDefaultValue&&e[t].required)),c=e=>i()(e.fields)||l(e.fields),d=Object(a.createSelector)(o,n("SXNk").i,n("/LFc").q,((e,t,n)=>{const a=n&&t&&t.id;return e.filter((e=>!e.subtask&&e.id!==a))})),u=Object(a.createSelector)(n("/LFc").I,(e=>e.fetchIssueTypesStatus))},"PE+Q":function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i);const r=e=>o.a.createElement("svg",s()({},e,{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"}),o.a.createElement("defs",null,o.a.createElement("path",{id:"like-filled-a",
d:"M4.00029867,12.0000031 L4.00029867,19.0000031 C3.99379083,19.2619469 4.0938648,19.5154845 4.27800285,19.7035645 C4.46214091,19.8916445 4.71487577,19.9984685 4.97933941,20.0000031 L5.99875297,20.0000031 L5.99875297,11.0000031 L4.97933941,11.0000031 C4.71487577,11.0015345 4.46214091,11.1083586 4.27800285,11.2964386 C4.0938648,11.4845186 3.99379083,11.7380562 4.00029867,12.0000031 Z M19.2814088,11.0400031 C18.7031035,10.3648275 17.8537454,9.97663317 16.959972,9.97900342 L14.3256459,9.97900342 C14.3660187,9.79800348 14.4063915,9.61900354 14.4366711,9.4470036 C14.9514245,6.5130046 14.4366711,5.44700497 13.9320109,4.85300517 C13.4705845,4.31076256 12.7907146,3.99849428 12.0748615,4 C10.5305357,4.05274499 9.2630356,5.22781051 9.10745966,6.75100452 C8.71382472,8.59000389 8.6532655,8.75100384 8.13851212,9.47600359 L7.37142865,10.5650032 C7.13702441,10.900368 7.01037109,11.2980817 7.00807332,11.7060028 L7.00807332,17.9790007 C7.0094101,18.5107601 7.22390249,19.0202137 7.60436426,19.3952867 C7.98482603,19.7703597 8.50009148,19.9803277 9.03680723,19.9790426 L16.2837274,19.9790426 C17.7690249,19.9867984 19.0398298,18.9240081 19.2814088,17.4720009 L19.9576535,13.4720022 C20.1064636,12.6021375 19.8588502,11.7116379 19.2814088,11.0400031 Z"
})),o.a.createElement("g",{fillRule:"evenodd"},o.a.createElement("use",{fill:"currentColor",xlinkHref:"#like-filled-a"}),o.a.createElement("path",{fill:"inherit",d:"M17.2829545,17.140001 C17.2013522,17.6232979 16.7783039,17.9768163 16.2837274,17.9750077 L9.03680723,17.9750077 L9.03680723,11.7060028 L9.8038907,10.6170032 C10.5252697,9.572607 10.9727451,8.36664508 11.105914,7.1080044 C11.1422788,6.56547046 11.3606605,5.89943888 12.0748615,6.00000478 C12.7890625,6.10057068 12.6501741,7.91600412 12.4382168,9.10000372 C12.2228565,10.0810361 11.9326853,11.0444672 11.5702013,11.9820027 L16.959972,11.9740027 C17.2574249,11.9729101 17.5402185,12.1018688 17.7328364,12.3264423 C17.9254544,12.5510157 18.0082813,12.848334 17.9591992,13.1390023 L17.2829545,17.140001 Z"})));r.displayName="likeIconFilled";const l=({size:e,label:t,secondaryColor:a="#B3D4FF"})=>o.a.createElement(n("UnwW").b,{glyph:r,size:e,label:t,secondaryColor:a});l.displayName="LikeIconFilled",t.a=l},POmc:function(e,t,n){"use strict"
;t.a=async(e,t)=>{const a=Object(n("r9Lg").a)(t),s={issueKey:t,projectKey:a};return await Object(n("tcin").a)(e).query({query:Object(n("hr7V").b)(a),variables:s})}},PUKh:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));const a=(e,t)=>{const a=e.refSidePanelContainerElement;return a&&a instanceof HTMLElement?a.offsetWidth+n("/QDG").d-(t?parseFloat(t.paddingLeft):0):0},s=(e,t)=>{const n=e.refPanelColumnElement;if(n&&t)return n.offsetWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},i=(e,t)=>e?e.offsetWidth:null!=t?t:0+n("/QDG").d,o=e=>e.refVisibilityContainer?e.refVisibilityContainer.offsetWidth:void 0},PXXT:function(e,t,n){"use strict";n.r(t),n.d(t,"PermalinkButtonOld",(function(){return i})),n.d(t,"PermalinkButtonNew",(function(){return o}));var a=n("q1tI"),s=n.n(a);class i extends a.Component{constructor(...e){super(...e),this.state={isCopied:!1},
this.onCopySuccess=e=>{this.setState({isCopied:e})},this.onCopyReset=()=>{this.setState({isCopied:!1})}}render(){const{id:e,label:t,fullIssueUrl:a,isVisible:i,onCopyClick:o}=this.props,{isCopied:r}=this.state;return s.a.createElement(n("3guO").a,{isVisible:i,className:"issue_view_permalink_button_wrapper"},s.a.createElement(n("7ksI").a,{id:e,label:t,tooltipDelay:0,tooltipLabel:t,tooltipLabelPosition:"top",shouldFitContainer:!0,value:a,hideFieldText:!0,remountOnChange:!0,onCopyClick:o,onClickChange:e=>this.onCopySuccess(e),onCopyReset:this.onCopyReset},s.a.createElement(n("340+").a,{appearance:"subtle-link",iconBefore:r?s.a.createElement(n.n(n("Ld6T")).a,{label:"",primaryColor:n("5kDX").a.G500,size:"small"}):s.a.createElement(n.n(n("Ydou")).a,{size:"small",label:t}),spacing:"none"})))}}i.displayName="PermalinkButtonOld";const o=({id:e,label:t,fullIssueUrl:i,isVisible:o,onCopyClick:r})=>{const[l,c]=Object(a.useState)(!1),[d,u]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{
o?u(o):setTimeout((()=>u(o)),200)}),[o]),o||d?s.a.createElement(n("3guO").a,{isVisible:o&&d,className:"issue_view_permalink_button_wrapper"},s.a.createElement(n("7ksI").a,{id:e,label:t,tooltipDelay:0,tooltipLabel:t,tooltipLabelPosition:"top",shouldFitContainer:!0,value:i,hideFieldText:!0,remountOnChange:!0,onCopyClick:r,onClickChange:e=>c(e),onCopyReset:()=>c(!1)},s.a.createElement(n("340+").a,{appearance:"subtle-link",iconBefore:l?s.a.createElement(n.n(n("Ld6T")).a,{label:"",primaryColor:n("5kDX").a.G500,size:"small"}):s.a.createElement(n.n(n("Ydou")).a,{size:"small",label:t}),spacing:"none"}))):s.a.createElement(n("3guO").b,null)};o.displayName="PermalinkButtonNew"},PaMy:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const a=(e,t)=>"string"==typeof e&&e.toLowerCase().includes(t),s=(e,t)=>{if(e.data&&!0===e.data.__isNew__)return!0;const n=t.trim().toLowerCase();return!!a(e.label,n)||!(!e.data||!e.data.filterValues)&&e.data.filterValues.some((e=>a(e,n)))}},
PzPv:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"j",(function(){return f}));const a=e=>`/secure/GHGoToBoard.jspa?sprintId=${e}`,s=e=>t=>void 0!==t.state&&t.state.toLowerCase()===e.toLowerCase(),i=(e,t)=>{if(e)return e.find(s(t))},o=e=>{if(void 0!==e){const t=e.toUpperCase();return n("RlEB").d[t]}},r=({value:e})=>Number(e),l=e=>{var t;return{id:Number(e.value),name:String(e.label),state:e.state,boardId:Number(null===(t=e.data)||void 0===t?void 0:t.boardId)||0}},c=e=>{var t;return{id:Number(e.value),boardName:e.description,name:String(e.label),stateKey:o(e.state),date:String(null===(t=e.data)||void 0===t?void 0:t.date)}},d=e=>e.map(c),u=e=>({id:e.id,description:e.boardName,label:e.name,
state:e.stateKey,value:e.id,data:{date:e.date,fromCache:e.fromCache}}),p=e=>e.map(u),m=e=>({id:e.id,name:e.name,href:a(e.id),endDate:e.endDate||""}),b=e=>({label:e.name,value:e.id,href:a(e.id),state:o(e.state),data:{boardId:e.boardId,date:e.startDate}}),g=e=>e.map(b),f=(e,t)=>{const a=e.suggestions||[],s=e.allMatches||[],i=a.concat(s),o=i.filter((e=>e.stateKey===n("RlEB").a)).map(u),r=i.filter((e=>e.stateKey===n("RlEB").c)).map(u);return[{label:t(n("oJkA").a.activeSprints),options:o},{label:t(n("oJkA").a.futureSprints),options:r}]}},Q3e0:function(e,t,n){"use strict";t.a=()=>"\n    project(projectKey: $projectKey) {\n        id\n        newIssueViewLockedIn\n        issueTypes {\n            id\n            name\n            iconUrl\n            subtask\n        }\n    }\n"},Q7Ko:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var a=n("q1tI"),s=n.n(a),i=n("/MKj"),o=n("vN+2"),r=n.n(o),l=n("6xe2");const c=Object(l.g)((()=>Promise.resolve().then(n.bind(null,"IPRs"))),{
moduleId:"./src/packages/issue/issue-view/src/views/issue-base/foundation/issue-actions/index.js"}),d=e=>s.a.createElement(l.a,{fallback:s.a.createElement(n("1uad").a,{isDisabled:!0,meatballMenuData:[]})},s.a.createElement(c,e));d.displayName="AsyncIssueActions";var u=n("JRPe");const p=Object(u.defineMessages)({label:{id:"issue.label-for-modal-close-button",defaultMessage:"Close"}}),m=({onClose:e})=>{const t=Object(n("NRyt").d)().formatMessage(p.label),a=s.a.createElement(n.n(n("ZSU+")).a,{label:"",size:"medium"});return s.a.createElement("div",null,s.a.createElement(n("Yto1").a,{content:t,position:"top"},s.a.createElement(n("340+").a,{"aria-label":t,appearance:"subtle",spacing:"default",iconBefore:a,onClick:e})))};m.displayName="ModalActionsCloseButton";var b=Object(n("5WHm").a)(n("d90y").isInjectIntlHOCMigrationEnabled,m,Object(u.injectIntl)(m)),g=n("peh1")
;const f=Object(n("KSj7").r)("issuerestriction"),h=Object(g.createSelector)(f,(e=>e&&e.value&&e.value.issuerestrictions&&e.value.issuerestrictions.projectrole||[])),E=Object(g.createSelector)(f,(e=>e&&e.value&&e.value.shouldDisplay||!1)),y=n("uj/d").a,O=Object(n("v5q+").a)([Object(i.connect)((e=>({currentIssueRestriction:h(e),isIssueRestrictionDisplayForIssue:E(e),hasError:!!Object(n("/LFc").i)(e),projectKey:Object(n("/LFc").E)(e),issueKey:Object(n("4dgq").w)(e),edition:Object(n("M425").a)(e),isSubtask:Object(n("OEhx").c)(e)})),{})])((({currentIssueRestriction:e,isIssueRestrictionDisplayForIssue:t,hasError:a,issueKey:i,projectKey:o,edition:r,isSubtask:l})=>!a&&t&&(!l||e.length>0)?s.a.createElement(n("NdsZ").a,{entityKey:Object(n("Rp3N").n)(i),currentRestrictions:e,restrictionType:y,projectKeyOrId:Object(n("Rp3N").t)(o),edition:r,isSubtask:l}):null));var v=n("vOnD");const j=Object(v.default)(n("HufU").a).withConfig({componentId:"bwl4ok-0"})`color:${n("5kDX").a.N30};`,I=e=>{
const{initialValue:t}=e,a=t?n.n(n("ncU9")).a:n.n(n("NXxJ")).a;return s.a.createElement(n("340+").a,{appearance:"subtle",spacing:"default",isDisabled:!0,iconBefore:s.a.createElement(j,null,s.a.createElement(a,{label:""}))})};I.displayName="Loading";const C=({children:e,fallback:t,packageName:a})=>s.a.createElement(n("ho8o").a,{id:"issue-security-level-field",packageName:a,render:()=>t},s.a.createElement(l.a,{fallback:t},e));C.displayName="IssueSecurityLevelFieldBoundary";const S=Object(l.h)((()=>Promise.all([n.e("vendor~748942c6"),n.e("vendor~31ecd969"),n.e("vendor~f9ca8911"),n.e("async-issue-field-security-level")]).then(n.bind(null,"Jgyf"))),{moduleId:"./src/packages/issue/fields/security-level/src/index.js"}),k=Object(n("v5q+").a)([Object(i.connect)((e=>({securityLevelItems:Object(n("F1GU").a)(e),isSecurityLevelEnabledForIssue:Object(n("F1GU").d)(e),isSecurityLevelEditable:Object(n("F1GU").c)(e),error:Object(n("/LFc").i)(e),issueKey:Object(n("4dgq").w)(e)})),(e=>({
onSuccess:t=>e(Object(n("QNn4").h)("security",t))})))])((({securityLevelItems:e,isSecurityLevelEnabledForIssue:t,isSecurityLevelEditable:a,error:i,issueKey:o,onSuccess:r})=>{const[l]=Object(n("j3bG").b)({issueKey:o,fieldKey:"security"});if(!i&&t){const t=s.a.createElement(I,{initialValue:l});return s.a.createElement(C,{packageName:"issue",fallback:t},s.a.createElement(S,{issueKey:o,initialValue:l||null,allowedValues:e,isEditable:a,onSuccess:r}))}return null}));var w=()=>s.a.createElement("svg",{width:"16",height:"16",viewBox:"4 4 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("path",{d:"M7.50403 13.8563C7.50403 14.727 6.79278 15.4382 5.92212 15.4382C5.05146 15.4382 4.34021 14.727 4.34021 13.8563C4.34021 12.9857 5.05146 12.2744 5.92212 12.2744H7.50403V13.8563Z",fill:"#E01E5A"}),s.a.createElement("path",{
d:"M8.30115 13.8563C8.30115 12.9857 9.0124 12.2744 9.88307 12.2744C10.7537 12.2744 11.465 12.9857 11.465 13.8563V17.8172C11.465 18.6879 10.7537 19.3991 9.88307 19.3991C9.0124 19.3991 8.30115 18.6879 8.30115 17.8172V13.8563Z",fill:"#E01E5A"}),s.a.createElement("path",{d:"M9.88307 7.50415C9.0124 7.50415 8.30115 6.79291 8.30115 5.92224C8.30115 5.05158 9.0124 4.34033 9.88307 4.34033C10.7537 4.34033 11.465 5.05158 11.465 5.92224V7.50415H9.88307Z",fill:"#36C5F0"}),s.a.createElement("path",{d:"M9.88304 8.30127C10.7537 8.30127 11.465 9.01251 11.465 9.88317C11.465 10.7538 10.7537 11.4651 9.88304 11.4651H5.92212C5.05146 11.4651 4.34021 10.7538 4.34021 9.88317C4.34021 9.01251 5.05146 8.30127 5.92212 8.30127H9.88304Z",fill:"#36C5F0"}),s.a.createElement("path",{d:"M16.2354 9.88317C16.2354 9.01251 16.9466 8.30127 17.8172 8.30127C18.6879 8.30127 19.3991 9.01251 19.3991 9.88317C19.3991 10.7538 18.6879 11.4651 17.8172 11.4651H16.2354V9.88317Z",fill:"#2EB67D"}),s.a.createElement("path",{
d:"M15.4381 9.88316C15.4381 10.7538 14.7269 11.4651 13.8562 11.4651C12.9855 11.4651 12.2743 10.7538 12.2743 9.88316V5.92225C12.2743 5.05158 12.9855 4.34033 13.8562 4.34033C14.7269 4.34033 15.4381 5.05158 15.4381 5.92225V9.88316Z",fill:"#2EB67D"}),s.a.createElement("path",{d:"M13.8562 16.2354C14.7269 16.2354 15.4381 16.9466 15.4381 17.8172C15.4381 18.6879 14.7269 19.3991 13.8562 19.3991C12.9855 19.3991 12.2743 18.6879 12.2743 17.8172V16.2354H13.8562Z",fill:"#ECB22E"}),s.a.createElement("path",{d:"M13.8562 15.4382C12.9855 15.4382 12.2743 14.727 12.2743 13.8563C12.2743 12.9857 12.9855 12.2744 13.8562 12.2744H17.8171C18.6878 12.2744 19.399 12.9857 19.399 13.8563C19.399 14.727 18.6878 15.4382 17.8171 15.4382H13.8562Z",fill:"#ECB22E"}));const T=Object(l.g)((()=>n.e("async-share-to-slack").then(n.bind(null,"bS2U"))),{ssr:!1,moduleId:"./node_modules/@atlassian/share-to-slack/dist/cjs/index.js"}),D=Object(v.default)(T).withConfig({componentId:"sc-9xoovo-0"
})`margin:-16px -24px;`,R=Object(v.default)(n("6UK4").a).withConfig({componentId:"sc-9xoovo-1"})`width:100%;margin:0 auto;`,L=e=>s.a.createElement(n("ho8o").a,{id:"async-share-to-slack",packageName:"share-to-slack"},s.a.createElement(l.a,{fallback:s.a.createElement(R,null)},s.a.createElement(D,e)));L.displayName="ShareToSlack";const M=()=>{const e=Object(n("ovRs").h)(),[{value:t}]=Object(n("J3sU").a)({issueKey:e}),i=(()=>{const e=Object(n("+2Qm").a)(),t=Object(n("ovRs").g)();return Object(n("No7A").a)({resourceOwner:"jira",cloudId:e,resourceType:"issue",resourceId:null!=t?t:""})})(),{shareIntegrations:o,fireStienExposureEvent:r}=(()=>{const e=Object(n("I51c").a)(),{showFlag:t}=Object(n("uS5k").f)(),{createAnalyticsEvent:i}=Object(n("rZ/p").a)(),o=Object(a.useMemo)((()=>{const t=[];return e.toLowerCase().startsWith("en")||t.push("notEnglish"),Object(n("Vt3g").a)()&&t.push("notDesktop"),t}),[e]),r=Object(a.useMemo)((()=>Object(n("9dO5").c)()&&0===o.length?[{type:"Slack",Icon:w,
Content:({onClose:e,changeTab:n})=>s.a.createElement(L,{showFlag:t,product:"jira",channel:"productAnalytics",onClose:e,changeTab:n,showTitle:!1,newFormat:!0})}]:[]),[o.length,t]),l=Object(a.useRef)(!1);return{shareIntegrations:r,fireStienExposureEvent:Object(a.useCallback)((()=>{if(!l.current){const e=Object(n("9dO5").a)(),t=o.length>0?"not-enrolled":(null==e?void 0:e.value)||"not-enrolled";Object(n("yy8q").b)(i({}),"feature exposed",{flagKey:(null==e?void 0:e.flagKey)||"",value:(null==e?void 0:e.value)||"not-enrolled",cohort:t,ineligibilityReasons:o,growthInitiative:"virality",experimentName:"Share To Every Integration"}),l.current=!0}}),[i,o])}})(),l=(()=>{const e=Object(n("ovRs").h)();return`${window.location.protocol}//${window.location.host}/browse/${e}`})(),c=(()=>{const e=Object(n("ovRs").h)(),t=Object(n("IFiJ").g)(e),a=Object(n("IFiJ").i)(t);return Object(n("Hh3U").j)(null!=a?a:null)})();return s.a.createElement(n("AmRz").b,{integrationType:n("qxzu").a.BENTO_ISSUE,
integrationMode:o&&o.length>0?"tabs":"off",objectAri:i,productId:"jira",shareContentType:"issue",shareIntegrations:o,shareLink:l,shareTitle:null!=t?t:"",shouldAutoDismissFlag:!1,subProductId:c,triggerButtonStyle:"icon-only",onTriggerButtonClick:Object(n("9dO5").d)()?r:void 0})};M.displayName="ShareViewNew";const A=e=>{var t;const{summary:i,issueAri:o,issueUrl:r,resourceOwner:l,subProductId:c}=e,{showFlag:d}=Object(n("uS5k").f)(),u=null===(t=Object(n("35Fu").a)())||void 0===t?void 0:t.analyticsClient,{locale:p}=Object(n("S57X").h)(),m=Object(n("9dO5").a)(),b=Object(a.useMemo)((()=>[]),[]);let g=(null==m?void 0:m.value)||"not-enrolled";if(u){const e=p.toLowerCase().startsWith("en"),t=Object(n("Vt3g").a)();e||b.push("notEnglish"),t&&b.push("notDesktop"),b.length&&(g="not-enrolled")}const f=Object(a.useMemo)((()=>Object(n("9dO5").c)()&&0===b.length?[{type:"Slack",Icon:w,Content:({onClose:e,changeTab:t})=>s.a.createElement(L,{showFlag:d,product:"jira",channel:"productAnalytics",onClose:e,
changeTab:t,showTitle:!1,newFormat:!0})}]:[]),[b.length,d]),h=f.length>0?"tabs":"off",E=Object(a.useRef)(!1),y=Object(a.useCallback)((()=>{E.current||(u.sendOperationalEvent({action:"exposed",actionSubject:"feature",attributes:{flagKey:(null==m?void 0:m.flagKey)||"",value:(null==m?void 0:m.value)||"not-enrolled",cohort:g,experimentName:"Share to Every Integration",growthInitiative:"virality",ineligibilityReasons:b},source:n("qxzu").a.BENTO_ISSUE}),E.current=!0)}),[u,g,b,null==m?void 0:m.flagKey,null==m?void 0:m.value]);return s.a.createElement(n("AmRz").b,{integrationType:n("qxzu").a.BENTO_ISSUE,triggerButtonStyle:"icon-only",productId:l,subProductId:c,shareLink:r,shareTitle:i,shareContentType:"issue",objectAri:o,shareIntegrations:f,integrationMode:h,shouldAutoDismissFlag:!1,onTriggerButtonClick:Object(n("9dO5").d)()?y:void 0})};A.displayName="ShareView";var _=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,M,Object(n("v5q+").a)([Object(i.connect)((e=>({
issueAri:Object(n("/LFc").v)(e),resourceOwner:Object(n("/LFc").H)(),summary:Object(n("KSj7").p)("summary")(e)||"",subProductId:Object(n("/LFc").b)(e),issueUrl:Object(n("SXNk").b)(e)})),{})])(A));const N=v.default.div.withConfig({componentId:"sc-9twvna-0"})`flex-shrink:0;`,x=Object(n("v5q+").a)([Object(i.connect)((e=>({isLoading:Object(n("/LFc").r)(e),error:Object(n("/LFc").i)(e)})),{})])((({error:e=null,isLoading:t})=>{const a=Object(n("94cx").a)();return!e&&a?s.a.createElement(N,null,t?s.a.createElement(n("AmRz").a,{triggerButtonStyle:"icon-only"}):s.a.createElement(_,null)):null}));var U=Object(u.defineMessages)({addVoteDisabledTooltip:{id:"issue-field-voters.services.disable-resolved-issue-voting-service.add-vote-disabled-tooltip",defaultMessage:"You can't vote on resolved issues"},removeVoteDisabledTooltip:{id:"issue-field-voters.services.disable-resolved-issue-voting-service.remove-vote-disabled-tooltip",defaultMessage:"You can't change your vote on resolved issues"}})
;const F=()=>{const{formatMessage:e}=Object(n("NRyt").d)(),t=Object(n("ovRs").h)(),[s]=Object(n("j3bG").b)({issueKey:t,fieldKey:"status"}),i=Object(a.useMemo)((()=>"DONE"===Object(n("RQwY").statusCategoryForId)(null==s?void 0:s.statusCategory.id)),[s]),o=Object(a.useMemo)((()=>i?{addVote:e(U.addVoteDisabledTooltip),removeVote:e(U.removeVoteDisabledTooltip)}:void 0),[e,i]);return{isDisabled:i,tooltips:o}},P=v.default.div.withConfig({componentId:"nld3xj-0"})`[data-role='droplistContent']{overflow:visible;}`,V=v.default.div.withConfig({componentId:"nld3xj-1"})`width:240px;min-height:121px;padding:4px 0 0;`,K=v.default.div.withConfig({componentId:"nld3xj-2"})`height:121px;display:flex;justify-content:center;align-items:center;`,$=Object(l.h)((()=>n.e("async-voters-dropdown").then(n.bind(null,"QLqQ"))),{moduleId:"./src/packages/issue/fields/voters/src/ui/dropdown-content/index.js"}),W=s.a.createElement(K,null,s.a.createElement(n("6UK4").a,{size:"medium"
})),B=({setCloseDropdown:e,disableVotingProps:t})=>s.a.createElement(n("ho8o").a,{id:"issue-voters-list",packageName:"issue",render:()=>W},s.a.createElement(l.a,{fallback:W},s.a.createElement($,{setCloseDropdown:e,disableVotingProps:t})));B.displayName="LazyDropdownContent";const q=({disableVotingProps:e})=>{const{formatMessage:t}=Object(n("NRyt").d)(),i=t(n("APBy").a.voteOptionsTooltip),[o,r]=Object(a.useState)(!1),l=Object(a.useCallback)((()=>{r((e=>!e))}),[]),c=Object(a.useCallback)((()=>{r(!1)}),[]);return s.a.createElement(P,null,s.a.createElement(n("wR8r").a,{boundary:"clippingParents",isOpen:o,placement:"auto-end",trigger:e=>s.a.createElement("div",e,s.a.createElement(n("ySy9").a,{onClick:l,tooltip:i,isSelected:o})),onClose:c,content:()=>s.a.createElement(V,{"data-testid":"issue.fields.voters.dropdown"},o&&s.a.createElement(B,{setCloseDropdown:c,disableVotingProps:e})),zIndex:n("ZpU/").f.modal}))};q.displayName="VoterDropdown";var H=q;const G=({disableVotingProps:e})=>{
const t=Object(n("ovRs").j)(),[a]=Object(n("AJ6X").d)(t);return a.canViewVoters?s.a.createElement(H,{disableVotingProps:e}):s.a.createElement(n("LzLY").a,{disableVotingProps:e})};G.displayName="Voters";var Y=G;const Z=()=>{const e=F();return s.a.createElement(Y,{disableVotingProps:e})};Z.displayName="IssueVoters";const X=v.default.div.withConfig({componentId:"e4pbbs-0"})`display:flex;padding:4px 8px;`,J=()=>Object(n("6uvl").a)(s.a.createElement(X,null,s.a.createElement(n.n(n("ZtFK")).a,{size:"medium",primaryColor:n("5kDX").a.N30,label:""}))),z=({hasError:e,isIssueLoading:t})=>{const a=Object(n("ovRs").h)(),i=Object(n("94cx").a)(),[o]=Object(n("j3bG").b)({issueKey:a,fieldKey:"votes"});return e||!i?null:t||!o?s.a.createElement(J,null):s.a.createElement(n("ho8o").a,{id:"issue.details.vote-action"},s.a.createElement(n("XTTp").a,{scope:a},s.a.createElement(Z,null)))};z.displayName="VotersItem";const Q=Object(i.connect)((e=>({hasError:!!Object(n("/LFc").i)(e),
isIssueLoading:Object(n("/LFc").r)(e)})),{})(z),ee=Object(n("KSj7").r)("watches"),te=Object(g.createSelector)(ee,(e=>!!e)),ne=v.default.div.withConfig({componentId:"sc-1ejwrko-0"})`display:flex;margin:4px 25px 4px 8px;`,ae=()=>Object(n("6uvl").a)(s.a.createElement("div",null,s.a.createElement(ne,null,s.a.createElement(n.n(n("+6wN")).a,{label:"",size:"medium",primaryColor:n("5kDX").a.N30})))),se=({children:e,fallback:t,packageName:a})=>s.a.createElement(n("ho8o").a,{id:"issue-watchers",packageName:a,render:()=>t},s.a.createElement(l.a,{fallback:t},e));se.displayName="IssueWatchersBoundary";const ie=Object(l.h)((()=>Promise.all([n.e("vendor~748942c6"),n.e("vendor~31ecd969"),n.e("vendor~f9ca8911"),n.e("async-issue-watchers")]).then(n.bind(null,"95sJ"))),{moduleId:"./src/packages/issue/issue-view/src/views/watchers/index.js"}),oe=({isWatchesPresent:e,isLoading:t,error:a})=>{const i=Object(n("94cx").a)();return!a&&!!i?!e||t?s.a.createElement(ae,null):s.a.createElement(se,{
packageName:"issue",fallback:s.a.createElement(ae,null)},s.a.createElement(ie,null)):null};oe.displayName="WatchersItem";const re=Object(i.connect)((e=>({isWatchesPresent:te(e),isLoading:Object(n("/LFc").r)(e),error:Object(n("/LFc").i)(e)})),{})(oe),le=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,d,n("IPRs").default),ce=({error:e=null,onClose:t=r.a,renderFeedback:a=(()=>null),shouldShowCloseButton:i=!1,issueDeleteCallbacks:o={},viewModeOptions:l={viewModeSwitchEnabled:!1},applicationKey:c})=>{const d=l&&l.viewMode===n("f2q/").b&&!e;let u;if(a){const e=a(c,!0);null!=e&&(u=s.a.createElement(n("J5tv").a,{name:"GIVE_FEEDBACK"},s.a.createElement(n("j5N9").a,null,e)))}return s.a.createElement(n("j5N9").b,null,s.a.createElement(n("j5N9").c,{maxResponsiveWidth:d?258:0},i?s.a.createElement(b,{onClose:t}):null,s.a.createElement(le,{issueDeleteCallbacks:o,viewModeOptions:l,onClose:t
}),s.a.createElement(x,null),s.a.createElement(Q,null),s.a.createElement(re,null),s.a.createElement(O,null),s.a.createElement(k,null),u))};ce.displayName="HeaderActionsView",ce.displayName="HeaderActionsView";const de=Object(n("v5q+").a)([Object(i.connect)((e=>({error:Object(n("/LFc").i)(e),applicationKey:Object(n("4dgq").e)(e)})),{})])(ce)},Q7bB:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n("peh1");Object(a.createSelector)(n("nGHA").h,(e=>e.canCloneIssue)),Object(a.createSelector)(n("nGHA").h,(e=>e.canDeleteIssue)),Object(a.createSelector)(n("nGHA").h,(e=>e.canMoveIssue));const s=Object(a.createSelector)(n("nGHA").h,(e=>e.canEditIssues)),i=(Object(a.createSelector)(n("nGHA").h,(e=>e.canAdministerJira||e.canAdministerProject)),Object(a.createSelector)(n("nGHA").h,(e=>e.canAssignIssues)),Object(a.createSelector)(n("nGHA").h,(e=>e.canLinkIssues)))},QMRn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}))
;class a extends Error{constructor(e,t){if(e instanceof a)return e;super(e.message),this.endpoint=void 0,this.traceId=void 0,this.error=void 0,this.statusCode=void 0,this.error=e,this.message=e.message,e instanceof n("HQr3").b&&(null!=e.traceId&&(this.traceId=e.traceId),this.statusCode=e.statusCode),this.endpoint=t}}},QNn4:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return p}));var a=n("3tO9"),s=n.n(a);const i=(e,t,n,a,i,o,r=!1)=>({type:"FIELD_SAVE_REQUEST",payload:s()({fieldId:e,value:t,fieldOptions:n,saveFieldData:a,analyticsEvent:i,shouldFetchViewContext:r},o&&{eventData:o})}),o=(e,t,n,a,s)=>({type:"FIELD_SAVE_SUCCESS",payload:{fieldId:e,fieldOptions:t,fieldValue:n,saveFieldResult:a},meta:s}),r=(e,t,n,a)=>({type:"FIELD_SAVE_FAILURE",payload:{
fieldId:e,invalidMessage:t,error:n,fieldOptions:a}}),l=(e,t,n,a)=>({type:"FIELD_SAVE_SUCCESS_WITH_PASTED_CONTENT",payload:{fieldId:e,fieldOptions:t,value:n,pastedContent:a}}),c=(e,t,n)=>({type:"FIELD_UPDATED",payload:{fieldId:e,fieldValue:t,extraParams:n}}),d=(e,t)=>({type:"FIELD_CONFIRM_NEW_FIELD",payload:{fieldId:e,fieldValue:t}}),u=(e,t)=>({type:"FIELD_CONFIRM_FAILURE_NEW_FIELD",payload:{fieldId:e,fieldValue:t}}),p=(e,t,n)=>({type:"FIELD_UPDATE",payload:{fieldId:e,fieldValue:t,fieldOptions:n}})},QUJQ:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n("3tO9"),s=n.n(a);const i={actions:[],glances:[],panels:[],activities:[],customFields:[],customFieldTypes:[],activeAction:null,panelsKeys:{newPanels:[],collapsedPanels:[]}};t.a=(e=i,t)=>{switch(t.type){case"FETCH_FORGE_SUCCESS":return s()(s()({},e),{},{actions:t.payload.issueAction,glances:t.payload.issueGlance,panels:t.payload.issuePanel,activities:t.payload.issueActivity,customFields:t.payload.customField,
customFieldTypes:t.payload.customFieldType,activeAction:null,panelsKeys:s()(s()({},e.panelsKeys),{},{newPanels:[]})});case"FORGE_ISSUE_ACTION_EXEC":return s()(s()({},e),{},{activeAction:{action:t.payload,isLoading:!0}});case"FORGE_ISSUE_ACTION_RENDERED":return s()(s()({},e),{},{activeAction:s()(s()({},e.activeAction),{},{isLoading:!1})});case"FORGE_ISSUE_ACTION_CLOSE":return s()(s()({},e),{},{activeAction:null});case"FORGE_ISSUE_PANEL_ADDED":return s()(s()({},e),{},{panelsKeys:s()(s()({},e.panelsKeys),{},{newPanels:[...e.panelsKeys.newPanels,t.payload]})});case"FORGE_NEW_ISSUE_PANEL_UNTRACK":{const n=t.payload,{panelsKeys:a}=e;return s()(s()({},e),{},{panelsKeys:s()(s()({},a),{},{newPanels:a.newPanels.filter((e=>e!==n))})})}case"FORGE_ISSUE_PANEL_REMOVED":{const n=t.payload;return s()(s()({},e),{},{panelsKeys:{newPanels:e.panelsKeys.newPanels.filter((e=>e!==n)),collapsedPanels:e.panelsKeys.collapsedPanels.filter((e=>e!==n))}})}case"FORGE_ISSUE_PANEL_UPDATED":{
const{panelKey:n,collapsed:a}=t.payload,i=a?Array.from(new Set([...e.panelsKeys.collapsedPanels,n])):e.panelsKeys.collapsedPanels.filter((e=>e!==n));return s()(s()({},e),{},{panelsKeys:s()(s()({},e.panelsKeys),{},{collapsedPanels:i})})}case"FETCH_ISSUE_SUCCESS":case"REFRESH_ISSUE_SUCCESS":case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":{var n;const a=(null===(n=t.payload.forgeIssueProperties)||void 0===n?void 0:n.collapsedPanels)||[];return s()(s()({},e),{},{panelsKeys:s()(s()({},e.panelsKeys),{},{collapsedPanels:Array.from(new Set([...e.panelsKeys.collapsedPanels,...a]))})})}default:return e}}},QUN3:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return p}));var a=n("q1tI"),s=n.n(a),i=n("DzJC"),o=n.n(i);const r=n("vOnD").default.div.withConfig({componentId:"jlp7gw-0"})`height:100%;display:flex;flex-direction:column;`,l=Object(a.createContext)(!1),{Provider:c,Consumer:d}=l,u=({children:e,defaultIsCompact:t})=>{
const[i,l]=Object(a.useState)(t),d=o()(l,50);return s.a.createElement(s.a.Fragment,null,s.a.createElement(n("4Ddp").a,null,s.a.createElement(n("qBu9").a,{setWidth:e=>{d(null!=e&&e<=600)}})),s.a.createElement(r,null,s.a.createElement(c,{value:i},e)))},p=d},"QYt/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),s=n.n(a),i=n("vN+2"),o=n.n(i);class r extends a.Component{render(){const{label:e,onClick:t}=this.props;return s.a.createElement("div",null,s.a.createElement(n("340+").a,{appearance:"subtle",spacing:"compact",iconBefore:s.a.createElement(n.n(n("9fHu")).a,{size:"small",label:e}),onClick:t}))}}r.displayName="SquareAddIconButton",r.defaultProps={onClick:o.a}},Qu5z:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n("vOnD");const s=a.default.span.withConfig({
componentId:"sc-14pzwp3-0"})`font-weight:500;`;s.displayName="Emphasise";const i=a.default.span.withConfig({componentId:"sc-14pzwp3-1"})`grid-row:1;margin-left:${.5*n("ZpU/").e}px;white-space:nowrap;`;i.displayName="GridContainer";const o=a.default.div.withConfig({componentId:"sc-14pzwp3-2"})`margin:${3*n("ZpU/").e}px 0;`;a.default.span.withConfig({componentId:"sc-14pzwp3-3"})`margin-left:${n("ZpU/").e}px;`.displayName="TimestampContainer";const r=a.default.span.withConfig({componentId:"sc-14pzwp3-4"})`margin-left:-${n("ZpU/").e/2}px;display:grid;`,l=a.default.span.withConfig({componentId:"sc-14pzwp3-5"})`display:grid;`;l.displayName="GridContentContainer";const c={always:a.css`color:${n("5kDX").a.N500};`,whenDisplaySettingSwitchable:a.css`:hover{color:inherit;}`}},QuTS:function(e,t,n){"use strict";var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("JRPe"),l=Object(r.defineMessages)({noOptionsSelected:{id:"issue-field-cascading-select.cascading-select-view.no-options-selected",
defaultMessage:"None"},errorMessage:{id:"issue-field-cascading-select.cascading-select-view.error-message",defaultMessage:"The value could not be saved"}}),c=n("vOnD");const d=c.default.div.withConfig({componentId:"oz9751-0"})`display:flex;flex-direction:${e=>e.areOptionsOnSameRow?"row":"column"};`,u=c.default.div.withConfig({componentId:"oz9751-1"})`flex-basis:0;flex-grow:1;`,p=Object(c.default)(u).withConfig({componentId:"oz9751-2"})`margin-top:${e=>e.areOptionsOnSameRow?0:n("ZpU/").e/2+"px"};margin-left:${e=>e.areOptionsOnSameRow?n("ZpU/").e/2+"px":0};`,m=(e,t)=>!e||0===t.length;t.a=e=>{const{value:t,allowedValues:a,allowedChildValues:r,onChange:c,isInvalid:b=!1,areOptionsOnSameRow:g=!1,autoFocus:f=!0,onCloseMenuOnScroll:h,isDropdownMenuFixedAndLayered:E}=e,y=Object(n("NRyt").d)(),[O,v]=(e=>{if(!e)return[null,null];const{label:t,value:n}=e;return[{label:t,value:n},e.child||null]
})(t),[j,I]=Object(i.useState)(O),[C,S]=Object(i.useState)(v),[k,w]=Object(i.useState)(O&&r[O.value]||[]),[T,D]=Object(i.useState)(m(t,k)),R=Object(i.useRef)(null);return o.a.createElement(o.a.Fragment,null,b&&o.a.createElement(n("LDCv").a,null,y.formatMessage(l.errorMessage)),o.a.createElement(d,{areOptionsOnSameRow:g},o.a.createElement(u,null,o.a.createElement(n("Jyfm").a,{defaultValue:O,value:j,options:a,onChange:(e,{action:n},a)=>{switch(S(null),n){case"select-option":c(e,null,a),I(e),w(r[e.value]||[]),D(m(t,k)),R&&R.current&&R.current.focus();break;case"clear":c(null,null,a),I(null),w([])}},isClearable:!0,autoFocus:f,openMenuOnFocus:!0,placeholder:y.formatMessage(l.noOptionsSelected),closeMenuOnScroll:h,menuPosition:!0===E?"fixed":void 0,styles:!0===E?n("YO9v").f:void 0})),k.length>0&&o.a.createElement(p,{areOptionsOnSameRow:g},o.a.createElement(n("Jyfm").a,{defaultValue:v,value:C,options:k,onChange:(e,{action:t},n)=>{switch(t){case"select-option":c(s()(s()({},j),{},{child:e
}),null,n),S(e);break;case"clear":c(j,null,n),S(null)}},isClearable:!0,autoFocus:T,openMenuOnFocus:!0,placeholder:y.formatMessage(l.noOptionsSelected),ref:R,closeMenuOnScroll:h,menuPosition:!0===E?"fixed":void 0,styles:!0===E?n("YO9v").f:void 0}))))}},QxiN:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("QILm"),l=n.n(r),c=n("q1tI"),d=n.n(c),u=n("JRPe"),p=Object(u.defineMessages)({errorTitle:{id:"issue-field-original-estimate.error-title",defaultMessage:"We couldn't set the original estimate value"},errorMessage:{id:"issue-field-original-estimate.error-message",defaultMessage:"Check your connection, then give it another try."}}),m=n("vOnD");const b=14.5*n("ZpU/").e+"px",g=m.default.div.withConfig({componentId:"sc-12r4yhg-0"
})`cursor:auto;width:${({isCompact:e})=>Object(n("MrUx").a)()?e?b:"100%":b};`,f=({testId:e="issue-field-original-estimate.ui.edit",isInvalidInput:t,invalidTimeFormatMessage:a,placeholder:s,value:i,onChange:o,isCompact:r=!1})=>d.a.createElement(g,{"data-test-id":e,isCompact:r},d.a.createElement(n("d1Lu").a,{compact:!0,type:"text",value:i,placeholder:s,onChange:o,invalidMessage:t?a:void 0}));f.displayName="OriginalEstimateEdit";var h=f;const E=m.default.div.withConfig({componentId:"sc-1dfnwwu-0"})`& form > div{margin-top:0;}& form > div > div > div{border:0;&:hover{background:transparent;}}${({isEditable:e})=>e?null:m.css`${""} & > div{margin-top:0;}`}`,y=Object(m.default)(n("cNqL").b).withConfig({componentId:"sc-1dfnwwu-1"})`${({isEditable:e,compactTopMargin:t})=>e?null:m.css`padding:4px 0;${t?"margin-top: -8px;":null};`}`,O=m.css`margin-left:0;${""} & > div{margin-left:0;}${y}{line-height:1;left:0;padding:2px 0;}`,v=Object(m.default)(n("cNqL").a).withConfig({componentId:"sc-1dfnwwu-2"
})`${({isEditable:e})=>!e&&O}`,j=["isMobile","config","editView","fieldId","issueId","issueKey","onUpdate","placeholder","readView","timeTrackingValue","invalidTimeFormatMessage","onCancel","onConfirm","onEdit","onEnter","onEscape","isBacklogComponent"],I="originalEstimateInlineEdit";t.a=Object(c.memo)((e=>{var t;const{isMobile:a,config:i,editView:r,fieldId:u,issueId:m,issueKey:b,onUpdate:g,placeholder:f,readView:O,timeTrackingValue:C,invalidTimeFormatMessage:S,onCancel:k,onConfirm:w,onEdit:T,onEnter:D,onEscape:R,isBacklogComponent:L=!1}=e,M=l()(e,j),[{value:A,error:_,fieldConfig:N},{saveValue:x,resetError:U}]=Object(n("cjPB").b)({fieldId:u,issueId:m&&Object(n("Rp3N").l)(m),issueKey:Object(n("Rp3N").n)(b),onSuccess:g,timeTrackingValue:C}),[F,P]=Object(c.useState)(!1),[V,K]=Object(c.useState)(null),[$,W]=Object(c.useState)(""),[B,q]=Object(c.useState)(!1),H=Object(n("NRyt").d)(),G=Object(c.useMemo)((()=>{const e=o()(o()({},H),{},{formatMessage:({defaultMessage:e})=>e||""})
;return Object(n("/1v1").a)(V||0,{workingHoursPerDay:i.hoursPerDay,workingDaysPerWeek:i.daysPerWeek,timeFormat:i.format||"pretty",defaultUnit:i.defaultUnit},e)}),[i,H,V]),Y=Object(c.useMemo)((()=>Object(n("/1v1").a)(V||0,{workingHoursPerDay:i.hoursPerDay,workingDaysPerWeek:i.daysPerWeek,timeFormat:i.format||"pretty",defaultUnit:i.defaultUnit},H)),[i,H,V]);Object(c.useEffect)((()=>{W(G)}),[G]),Object(c.useEffect)((()=>{K(A)}),[A]),Object(c.useEffect)((()=>{_&&P(!0)}),[_]);const Z=null!==(t=null==N?void 0:N.isEditable)&&void 0!==t&&t,X=Object(c.useCallback)((e=>{if($!==G)if(Object(n("Uztb").b)(i)($)){const t=Object(n("Uztb").c)(i)($);x(t,null,e),Object(n("yy8q").h)(e),q(!1),P(!1)}else q(!0),P(!0);else P(!1)}),[$,G,i,x]),J=Object(c.useCallback)((e=>{U(),q(!1),P(!1),W(G),K(A),Object(n("yy8q").h)(e)}),[A,U,G]),z=Object(c.useCallback)((e=>{J(e),null==k||k(e)}),[k,J]),Q=Object(c.useCallback)((e=>{X(e),null==w||w(e)}),[X,w]),ee=Object(c.useCallback)((e=>{P(!0),Object(n("yy8q").h)(e),
null==T||T(e)}),[T]),te=Object(c.useCallback)((e=>{J(e),null==R||R(e)}),[R,J]),ne=Object(c.useCallback)((e=>{X(e),null==D||D(e)}),[D,X]),ae=Object(c.useCallback)((e=>{const{value:t}=e.target;q(!1),U(),W(t)}),[U,W]),se=Object(c.useCallback)((()=>{const e=d.a.createElement(n("hBol").a,{value:Y,isEditable:Z,isBadgeHoverEnabled:Object(n("MrUx").a)()?L:void 0});return!Object(n("MrUx").a)()||L&&Z?e:d.a.createElement(y,{isEditable:Z,compactMarginTop:L},e)}),[Z,Y,L]),ie=Object(c.useCallback)((()=>d.a.createElement(h,{isInvalidInput:B,invalidTimeFormatMessage:S,placeholder:f,value:$,onChange:ae,isCompact:Object(n("MrUx").a)()?L:void 0})),[$,S,B,ae,f,L]),oe=L?E:v;return d.a.createElement(d.a.Fragment,null,_&&(()=>_?d.a.createElement(n("gx/I").a,{error:_,title:p.errorTitle,description:p.errorMessage}):null)(),Object(n("MrUx").a)()?d.a.createElement(oe,{isEditing:F,isEditable:Z},d.a.createElement(n("JZTM").a,s()({actionSubject:I,isEditing:F,readView:se(),editView:Z?ie():null,onCancel:z,
onConfirm:Q,onEdit:ee,onEscape:te},M,{isEditable:Z}))):d.a.createElement(n("JZTM").a,s()({actionSubject:I,isEditing:F,readView:se(),editView:Z?ie():null,onCancel:z,onConfirm:Q,onEdit:ee,onEscape:te,onEnter:ne},M,{isEditable:Z})))}))},R0fY:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({draftIndicator:{id:"issue.draft-indicator-for-multiline-field",defaultMessage:"Unsaved changes"}})},RRLO:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const a=(e,t,n)=>`${String(e)}.${t}.${n}`,s=e=>e.split(".")[2],i=e=>`${e}-previous-hash`,o=e=>`comment_${e}`},RTuT:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r}));const a="issue",s={comment:"comment",worklog:"worklog",description:"description",
environment:"environment",customfield:"customfield",issue:a},i="DESC",o={FILENAME:"FILENAME",CREATED:"CREATED",FILESIZE:"FILESIZE",MIMETYPE:"MIMETYPE"},r=o.CREATED},Rc4V:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"B",(function(){return o})),n.d(t,"y",(function(){return r})),n.d(t,"D",(function(){return l})),n.d(t,"A",(function(){return c})),n.d(t,"C",(function(){return d})),n.d(t,"z",(function(){return u})),n.d(t,"x",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"r",(function(){return b})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"p",(function(){return E})),n.d(t,"u",(function(){return y})),n.d(t,"v",(function(){return O})),n.d(t,"t",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"i",(function(){return I})),n.d(t,"k",(function(){return C})),n.d(t,"j",(function(){return S})),
n.d(t,"l",(function(){return k})),n.d(t,"m",(function(){return w})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"f",(function(){return R})),n.d(t,"G",(function(){return L})),n.d(t,"e",(function(){return M})),n.d(t,"w",(function(){return A})),n.d(t,"E",(function(){return _})),n.d(t,"F",(function(){return N}));const a=()=>({type:"ADD_COMMENT_FORM_EXPAND"}),s=()=>({type:"ADD_COMMENT_FORM_COLLAPSE"}),i=()=>({type:"ADD_COMMENT_FORM_CANCEL"}),o=(e,t,n)=>({type:"SAVE_COMMENT_RETRY",payload:{optimisticId:e,createdDate:t,isNewComment:n}}),r=e=>({type:"SAVE_COMMENT_EDIT",payload:{optimisticId:e}}),l=(e,t)=>({type:"SAVE_COMMENT_SUCCESS_WITH_PASTED_CONTENT",payload:{comment:e,pastedContent:t}}),c=(e,t)=>({type:"SAVE_COMMENT_REQUEST",payload:{comment:e,analyticsEvent:t,updatedField:"comment"}}),d=(e,t,n,a,s)=>({type:"SAVE_COMMENT_SUCCESS",payload:{fieldId:"comment",comment:e,optimisticId:t,isNewComment:n,analyticsEvent:a},meta:s}),u=e=>({type:"SAVE_COMMENT_FAILURE",
payload:e}),p=e=>({type:"SAVE_COMMENT_CANCEL",payload:{optimisticId:e}}),m=()=>({type:"FETCH_OLDER_COMMENTS_REQUEST"}),b=()=>({type:"FETCH_NEWER_COMMENTS_REQUEST"}),g=e=>({type:"FETCH_LATEST_COMMENTS_SUCCESS",payload:e}),f=()=>({type:"FETCH_LATEST_COMMENTS_FAILURE"}),h=e=>({type:"FETCH_MORE_COMMENTS_SUCCESS",payload:e}),E=()=>({type:"FETCH_MORE_COMMENTS_FAILURE"}),y=e=>({type:"FETCH_SORTED_COMMENTS_REQUEST",payload:e}),O=e=>({type:"FETCH_SORTED_COMMENTS_SUCCESS",payload:e}),v=()=>({type:"FETCH_SORTED_COMMENTS_FAILURE"}),j=(e,t)=>({type:"CHANGE_COMMENT_VISIBILITY",payload:{id:e,isInternal:t}}),I=(e,t)=>({type:"EDIT_COMMENT_BEGIN",payload:{id:e,isInternal:t}}),C=e=>({type:"EDIT_COMMENT_COLLAPSE",payload:{id:e,fieldId:"comment"}}),S=e=>({type:"EDIT_COMMENT_CANCEL",payload:{id:e,fieldId:"comment"}}),k=(e,t)=>({type:"EDIT_COMMENT_UPDATE",payload:{id:e,value:t,fieldId:"comment"}}),w=(e,t)=>({type:"EDIT_COMMENT_VISIBILITY",payload:{id:e,visibility:t}}),T=(e,t)=>({
type:"DELETE_COMMENT_REQUEST",payload:{id:e,analyticsEvent:t,updatedField:"comment"}}),D=e=>({type:"DELETE_COMMENT_SUCCESS",payload:{id:e,fieldId:"comment"}}),R=e=>({type:"DELETE_COMMENT_FAILURE",payload:e}),L=e=>({type:"SHOW_DELETE_COMMENT_MODAL",payload:e}),M=()=>({type:"DELETE_COMMENT_CANCEL"}),A=(e,t)=>({type:"PASTED_INTO_COMMENT_FORM",payload:{id:e,pastedContent:t}}),_=e=>({type:"SET_COMMENT_ATTACHMENT_IN_PROGRESS",payload:{isInProgress:e}}),N=e=>({type:"SET_COMMENT_SCROLL_STATUS",payload:{status:e}})},RfvQ:function(e,t,n){"use strict";var a=n("vOnD");t.a=a.default.div.withConfig({componentId:"sc-11nf1q5-0"
})`width:${5*n("ZpU/").e}px;height:${5*n("ZpU/").e}px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI0MHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCA0MCA0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT4zMnB4IGNpcmNsZSBpbnNpZGUgNDBweCByZWN0PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPjwvZGVmcz4gICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iMzJweC1jaXJjbGUtaW5zaWRlLTQwcHgtcmVjdCIgZmlsbD0iI0ZGRkZGRiI+ICAgICAgICAgICAgPHBhdGggZD0iTTAsMCBMNDAsMCBMNDAsNDAgTDAsNDAgTDAsMCBaIE0yMCw0IEMxMS4xNjM0NDQsNCA0LDExLjE2MzQ0NCA0LDIwIEM0LDI4LjgzNjU1NiAxMS4xNjM0NDQsMzYgMjAsMzYgQzI4LjgzNjU1NiwzNiAzNiwyOC44MzY1NTYgMzYsMjAgQzM2LDExLjE2MzQ0NCAyOC44MzY1NTYsNCAyMCw0IFoiIGlkPSJDb21iaW5lZC1TaGFwZSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);`},
Ri9t:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{if(!e)return;const t=getComputedStyle(e),n=(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0);return e.clientHeight-n}},Rlz6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("peh1");const s=Object(a.createSelector)(n("EfFP").a,(e=>e.picker)),i=Object(a.createSelector)(s,(e=>e.attachments||e.uploadedAttachments)),o=Object(a.createSelector)(s,(e=>e.isPopupOpen)),r=e=>Object(a.createSelector)(i,(t=>t[e]))},SXNk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return k}));var a=n("peh1")
;const s=(e,t)=>`${e?e.replace(/\/?$/,"/"):"/"}browse/${t}`,i=(e,t)=>`${window.location.protocol}//${window.location.host}${s(e,t)}`,o=Object(n("KSj7").r)("issuetype"),r=Object(n("KSj7").r)("parent"),l=Object(n("KSj7").r)("epic"),c=Object(n("KSj7").r)(n("iJ/Y").a),d=Object(a.createSelector)(o,(e=>e&&e.value)),u=Object(a.createSelector)(n("4dgq").f,n("4dgq").w,s),p=Object(a.createSelector)(n("4dgq").f,n("4dgq").w,i),m=Object(a.createSelector)(d,(e=>e&&e.name)),b=Object(a.createSelector)(d,(e=>e?e&&e.hierarchyLevel:null)),g=Object(a.createSelector)(d,(e=>e&&e.id)),f=Object(a.createSelector)(d,(e=>e&&e.iconUrl)),h=Object(a.createSelector)(o,(e=>e&&Boolean(e.editable))),E=Object(a.createSelector)(l,n("4dgq").f,((e,t)=>((e,t)=>e&&void 0!==t?{summary:e.summary,key:e.key,url:s(t,e.key),issueTypeName:e.issueTypeName||"",issueTypeIconUrl:e.issueTypeIconUrl||""}:null)(e&&e.value,t))),y=Object(a.createSelector)(c,n("4dgq").f,((e,t)=>((e,t)=>e&&e.data?{summary:e.data.summary,key:e.data.key,
url:s(t,e.data.key),issueTypeName:e.data.issueTypeName||"",issueTypeIconUrl:e.data.issueTypeIconUrl||""}:null)(e&&e.value,t))),O=Object(a.createSelector)(r,n("4dgq").f,((e,t)=>((e,t)=>e?{summary:e.fields.summary,key:e.key,url:s(t,e.key),issueTypeName:e.issueTypeName||"",issueTypeIconUrl:e.issueTypeIconUrl||""}:null)(e&&e.value,t))),v=Object(a.createSelector)(n("/LFc").B,n("4dgq").f,((e,t)=>((e,t)=>e?{summary:e.summary,key:e.key,url:s(t,e.key),issueTypeName:e.issueTypeName||"",issueTypeIconUrl:e.issueTypeIconUrl||""}:null)(e,t))),j=Object(a.createSelector)(v,O,y,((e,t,n)=>e||t||n)),I=Object(a.createSelector)(E,v,((e,t)=>[e,t].filter((e=>e)))),C=Object(a.createSelector)(O,E,y,b,((e,t,a,s)=>Object(n("xinf").d)(s)?[e].filter((e=>e)):[t,a].filter((e=>e)))),S=Object(a.createSelector)(E,j,((e,t)=>[e,t].filter((e=>e)))),k=e=>e?I:(e=>e?C:S)(Object(n("d90y").isFixBreadcrumbEpicLinkUpdateBugEnabled)())},ShTA:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){
return m})),n.d(t,"a",(function(){return b}));var a=n("3tO9"),s=n.n(a);const i={assignee:null,labels:null},o={setField:(e,t,n,a,s)=>({setState:i})=>{i({[e]:{prefetchSessionId:t,prefetched:n,fieldValuePromise:s,sessionId:a}})}},r={},l=e=>(r[e]||(r[e]=(e=>Object(n("0b8M").a)({name:`smart-issue-prefetch-${e}`,initialState:i,actions:o}))(e)),r[e]),c={},d=(e,{fieldId:t}={})=>e[t],u={},p=e=>(u[e]||(u[e]=Object(n("dq9g").a)(l(e))),u[e]),m=(e,t)=>{const[n]=p(e)();return n[t]},b=(e,t)=>{if(void 0!==c[e]&&null!==c[e]){if(void 0!==c[e][t]&&null!==c[e][t])return c[e][t]}else c[e]=s()({labels:null,assignee:null},c[e]);return c[e][t]=Object(n("Y6nV").a)(l(e),{selector:d}),c[e][t]}},SuPg:function(e,t,n){"use strict";n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return k}));var a=n("QILm"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("QVEU"),l=n.n(r);const c=(e,t)=>{const{fields:a}=e;return o()(o()({id:e.id,
issueLink:Object(n("XtNG").f)(t,e.key),issueTypeIconUrl:a.issuetype.iconUrl,issueTypeName:a.issuetype.name,issuePriorityUrl:a.priority&&a.priority.iconUrl||void 0,issuePriorityName:a.priority&&a.priority.name||void 0,issueKey:e.key,issueSummary:a.summary,statusCategory:Object(n("RQwY").statusCategoryForId)(a.status.statusCategory.id),statusCategoryId:a.status.statusCategory.id,statusName:a.status.name,statusId:a.status.id},(e=>{if(null!=e){const{avatarUrl:t,displayName:a}=Object(n("gbrB").c)(e);return{assigneeUrl:t,assigneeDisplayName:a}}return{assigneeUrl:null,assigneeDisplayName:null}})(a.assignee)),{},{isLoading:!1})},d=(e=[],t)=>e?e.map((e=>c(e,t))):[],u=(e=[],t)=>null===e?[]:e.map((e=>((e,t)=>({id:e.id,issueLink:Object(n("XtNG").f)(t,e.key),issueTypeIconUrl:e.fields.issuetype.iconUrl,issueTypeName:e.fields.issuetype.name,issuePriorityUrl:e.fields.priority&&e.fields.priority.iconUrl||void 0,issuePriorityName:e.fields.priority&&e.fields.priority.name||void 0,issueKey:e.key,
issueSummary:e.fields.summary,statusCategory:Object(n("RQwY").statusCategoryForId)(e.fields.status.statusCategory.id),statusCategoryId:e.fields.status.statusCategory.id,statusId:e.fields.status.id,statusName:e.fields.status.name,isLoading:!1,hasError:!1,assigneeUrl:e.fields.assignee?Object(n("gbrB").c)(e.fields.assignee).avatarUrl:null,assigneeDisplayName:e.fields.assignee?Object(n("gbrB").c)(e.fields.assignee).displayName:null,issueTimeTracking:e.fields.timetracking}))(e,t))),p=["content","renderedContent","configuration"],m=e=>e?Object(n("Lkq7").a)(e):null,b=(e,t)=>e&&e[t],g=e=>e?{id:Object(n("Rp3N").l)(e.id),key:Object(n("Rp3N").n)(e.key),summary:e.fields.summary,issueTypeName:e.fields.issuetype?e.fields.issuetype.name:"",issueTypeIconUrl:e.fields.issuetype?e.fields.issuetype.iconUrl:""}:null,f=e=>{if(e.project.avatarUrls){const t=e.project.avatarUrls.find((e=>"32x32"===e.key));return t?t.value:t}return e.project.avatarUrls
},h=e=>e.archived?n("mJbZ").b:e.deleted?n("mJbZ").c:n("mJbZ").a,E=(e,t)=>{const a=(e=>e.reduce(((e,t)=>o()(o()({},e),{},{[t.key]:t})),{}))(e.issue.fields),s=(e=>t=>t?t.split(".").reduce(b,e):e)(a),i=s("subtasks.content"),r=s("parent-issue.content"),l=s("children-issues.content"),c=s("epic-issues.content"),p=s("portfolio-child-issues.content");let E=[];return l?E=Object(n("86TH").b)(l,t):c?E=Object(n("86TH").b)(c,t):p&&(E=d(p,t)),{project:{projectId:e.project.id,projectName:e.project.name,projectKey:e.project.key,projectType:e.project.projectTypeKey,isSimplified:e.project.simplified,avatarUrl:f(e),projectStatus:h(e.project)},createdDate:m(s("created.content")),updatedDate:m(s("updated.content")),statuses:{[a.status.content.id]:{id:a.status.content.id,name:a.status.content.name,statusCategory:Object(n("RQwY").statusCategoryForId)(a.status.content.statusCategory.id)}},issueLinks:a.issuelinks&&Object(n("ChVR").b)(t,a.issuelinks.content),subtasks:u(i,t),parentIssue:g(r),childrenIssues:E}
},y=(e,t)=>Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()?(e=>{var t,a,s,i,o,r,c,p,m;const{issue:b,project:f}=e,E=l()(b.fields,"key"),y=null===(t=E.subtasks)||void 0===t?void 0:t.content,O=null===(a=E["parent-issue"])||void 0===a?void 0:a.content,v=null===(s=E["children-issues"])||void 0===s?void 0:s.content,j=null===(i=E["epic-issues"])||void 0===i?void 0:i.content,I=null===(o=E["portfolio-child-issues"])||void 0===o?void 0:o.content;let C=[];v?C=Object(n("86TH").b)(v,Object(n("Rp3N").c)("")):j?C=Object(n("86TH").b)(j,Object(n("Rp3N").c)("")):I&&(C=d(I,Object(n("Rp3N").c)("")));const S=null===(r=f.avatarUrls)||void 0===r||null===(c=r.find((({key:e})=>"32x32"===e)))||void 0===c?void 0:c.value;return{project:{projectId:f.id,projectName:f.name,projectKey:f.key,projectType:f.projectTypeKey,isSimplified:f.simplified,avatarUrl:S,projectStatus:h(f)},createdDate:(null===(p=E.created)||void 0===p?void 0:p.content)||null,
updatedDate:(null===(m=E.updated)||void 0===m?void 0:m.content)||null,statuses:{[E.status.content.id]:{id:E.status.content.id,name:E.status.content.name,statusCategory:Object(n("RQwY").statusCategoryForId)(E.status.content.statusCategory.id)}},issueLinks:E.issuelinks&&Object(n("ChVR").b)(Object(n("Rp3N").c)(""),E.issuelinks.content),subtasks:u(y,Object(n("Rp3N").c)("")),parentIssue:g(O),childrenIssues:C}})(e):E(e,t),O=e=>{
const{permissions:{ADMINISTER:t,ADMINISTER_PROJECTS:n,ASSIGN_ISSUES:a,EDIT_ISSUES:s,SCHEDULE_ISSUES:i,ADD_COMMENTS:o,DELETE_ALL_COMMENTS:r,DELETE_OWN_COMMENTS:l,EDIT_ALL_COMMENTS:c,EDIT_OWN_COMMENTS:d,CREATE_ISSUES:u,CREATE_SUBTASK:p,CLONE_ISSUE:m,DELETE_ISSUES:b,MOVE_ISSUES:g,MODIFY_REPORTER:f,CREATE_ATTACHMENTS:h,DELETE_ALL_ATTACHMENTS:E,DELETE_OWN_ATTACHMENTS:y,WORK_ON_ISSUES:O,ASSIGNABLE_USER:v,LINK_ISSUES:j,VIEW_VOTERS_AND_WATCHERS:I,MANAGE_WATCHERS:C,EDIT_ALL_WORKLOGS:S,EDIT_OWN_WORKLOGS:k,DELETE_ALL_WORKLOGS:w,DELETE_OWN_WORKLOGS:T,USER_PICKER:D,VIEW_DEV_TOOLS:R,SERVICEDESK_AGENT:L,RESOLVE_ISSUES:M}}=e;return{permissions:{canAddComments:o.havePermission,canAdministerJira:t.havePermission,canAdministerProject:n.havePermission,canAssignIssues:a.havePermission,canBeAssignedToIssues:v.havePermission,canCloneIssue:m.havePermission,canCreateAttachments:h.havePermission,canCreateChildren:u.havePermission,canCreateIssuesInClassicProjectEpic:u.havePermission,
canCreateSubtask:p.havePermission,canDeleteAllAttachments:E.havePermission,canDeleteOwnAttachments:y.havePermission,canDeleteAllComments:r.havePermission,canDeleteOwnComments:l.havePermission,canDeleteIssue:b.havePermission,canEditAllComments:c.havePermission,canEditOwnComments:d.havePermission,canEditIssues:s.havePermission,canLinkIssues:j.havePermission,canLogWork:O.havePermission,canManageWatchers:C.havePermission,canMoveIssue:g.havePermission,canModifyReporter:f.havePermission,canScheduleIssues:i.havePermission,canViewWatchers:I.havePermission,canViewVoters:I.havePermission,canEditAllWorklogs:S.havePermission,canEditOwnWorklogs:k.havePermission,canDeleteAllWorklogs:w.havePermission,canDeleteOwnWorklogs:T.havePermission,canBrowseUsers:D.havePermission,canViewDevTools:!(!R||!R.havePermission),canUseServiceDeskAgentFeatures:!(!L||!L.havePermission),canResolveIssues:M.havePermission}}},v=e=>{const{content:t,renderedContent:n,configuration:a}=e,i=s()(e,p),r=void 0!==t||void 0!==n
;return o()(o()(o()(o()({},r?{value:t}:null),r?{renderedValue:n}:null),a&&{configuration:a}),i)},j=(e,t)=>{const a=((e,t)=>{const n=e.issue.systemFields[`${t}Adf`],a=e.issue.customFields.textareaAdf.find((e=>e.key===t));return n||a||null})(e,t);let s;s=a&&a.value?{value:a.value}:{value:n("IJwP").c};const i="string"==typeof s.value?JSON.parse(s.value):s.value;return Object(n("IJwP").h)(i)},I=e=>{const t=new Set(e.issue.fields.filter((e=>"atlassian-wiki-renderer"===e.schema.renderer)).map((e=>e.key))),n=e.issue.customFields.textareaAdf.map((e=>e.key)).filter((e=>t.has(e))),a=[...["description","environment"].filter((e=>t.has(e)||"description"===e)),...n].map((t=>({key:t,value:j(e,t)})));return e.issue.fields.map((e=>{const t=a.find((t=>t.key===e.key&&null!==t.value));return t?{[t.key]:o()(o()({},v(e)),{},{adfValue:t.value})}:{[e.key]:v(e)}})).reduce(((e,t)=>Object.assign(e,t)))},C=e=>{var t
;return null!==(t=Object(n("d90y").isMagmaRenderCostOptimisationEnabled)()?null==e?void 0:e.reduce(((e,{id:t,name:n,items:a})=>(e[t]={id:t,name:n,items:a},e)),{}):null==e?void 0:e.reduce(((e,{id:t,name:n,items:a})=>o()(o()({},e),{},{[t]:{id:t,name:n,items:a}})),{}))&&void 0!==t?t:{}},S=(e,t)=>{const n=y(e,t),a={issue:o()({id:e.issue.id,agile:e.issue.agile,fields:I(e),tabs:C(e.issue.tabs)},e.issue.viewScreenId?{viewScreenId:e.issue.viewScreenId}:null)};return o()(o()({},a),n)},k=({issues:e=[]}={})=>e},Sudk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>({newCardExperience:Object(n("d90y").isNewCardExperience)(),zipPreviews:Object(n("d90y").isZipPreviewEnabled)(),folderUploads:Object(n("d90y").isFolderUploadsEnabled)(),codeViewer:Object(n("d90y").isCodeViewerEnabled)()})},T8UA:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return b})),
n.d(t,"l",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return I})),n.d(t,"m",(function(){return C})),n.d(t,"n",(function(){return S})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return T})),n.d(t,"k",(function(){return D})),n.d(t,"d",(function(){return R}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("J2iB"),r=n.n(o);const l=(e,t)=>e.filter((e=>Object(n("RMTU").a)(e,t))),c=(e,t)=>e.name===t.name?0:e.name>t.name?1:-1,d=Object(i.createSelector)(n("nGHA").h,n("4dgq").v,n("4dgq").w,n("SXNk").h,n("/LFc").D,n("4dgq").A,n("/LFc").G,((e,t,n,a,s,i,o)=>({issueId:t||null,issueKey:n,issueType:a,projectId:s,projectKey:i,projectType:o||null,canAddComments:e.canAddComments,canAdministerJira:e.canAdministerJira,canAdministerProjects:e.canAdministerProject,canAssignIssues:e.canAssignIssues,canBeAssignedToIssues:e.canBeAssignedToIssues,canCloneIssues:e.canCloneIssue,canCreateAttachments:e.canCreateAttachments,
canCreateChildren:e.canCreateChildren,canCreateSubtasks:e.canCreateSubtask,canDeleteAllAttachments:e.canDeleteAllAttachments,canDeleteAllComments:e.canDeleteAllComments,canDeleteAllWorklogs:e.canDeleteAllWorklogs,canDeleteIssues:e.canDeleteIssue,canDeleteOwnAttachments:e.canDeleteOwnAttachments,canDeleteOwnComments:e.canDeleteOwnComments,canDeleteOwnWorklogs:e.canDeleteOwnWorklogs,canEditAllComments:e.canEditAllComments,canEditAllWorklogs:e.canEditAllWorklogs,canEditIssues:e.canEditIssues,canEditOwnComments:e.canEditOwnComments,canEditOwnWorklogs:e.canEditOwnWorklogs,canLinkIssues:e.canLinkIssues,canLogWork:e.canLogWork,canManageWatchers:e.canManageWatchers,canModifyReporters:e.canModifyReporter,canMoveIssues:e.canMoveIssue,canScheduleIssues:e.canScheduleIssues,canUseServiceManagementAgentFeatures:e.canUseServiceDeskAgentFeatures,canBrowseUsers:e.canBrowseUsers,canViewDevTools:e.canViewDevTools,canViewWatchers:e.canViewWatchers
}))),u=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,d,((e,t,n)=>e&&Array.isArray(t.glances)?l(t.glances,n).map((e=>{const{id:t,properties:{title:n,label:a,status:s,icon:i}}=e;return{title:n,label:a,status:s,icon:i,extension:e,glanceType:"FORGE_ENTITY_TYPE",moduleKey:t,appKey:t}})):[])),p=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,d,((e,t,n)=>e&&Array.isArray(t.actions)?l(t.actions,n).map((e=>{const{id:t,properties:{title:n}}=e;return{id:t,title:n,extension:e,type:"FORGE_ENTITY_TYPE"}})):[])),m=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,d,((e,t,a)=>e&&Array.isArray(t.panels)?l(t.panels,a).filter((e=>null!=e.properties.icon)).map((e=>{const{id:t,properties:{title:a,icon:s,allowMultiple:i}}=e,{appKey:o,moduleKey:r}=Object(n("UKEq").d)(t);return{name:a,tooltip:a,iconUrl:s,extension:e,allowMultiple:!!i,showByDefault:!1,type:"FORGE_ENTITY_TYPE",moduleKey:r,appKey:o}
})).sort(c):[])),b=e=>Object(i.createSelector)(n("qJbg").a,(t=>t&&t.selectedContentPanel===e)),g=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,d,((e,t,n)=>e&&Array.isArray(t.customFields)?l(t.customFields,n):[])),f=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,d,((e,t,n)=>e&&Array.isArray(t.customFieldTypes)?l(t.customFieldTypes,n):[])),h=Object(i.createSelector)(g,(e=>e.length>0)),E=Object(i.createSelector)(f,(e=>e.length>0)),y=Object(i.createSelector)(h,E,((e,t)=>e||t)),O=Object(i.createSelector)(g,f,((e,t)=>[...e,...t])),v=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,((e,t)=>e&&t.activeAction||null)),j=e=>Object(i.createSelector)(Object(n("KSj7").r)(e),(e=>e?e.schema.custom:"")),I=e=>Object(i.createSelector)(O,j(e),((e,t)=>e.find((e=>e.id===t))||null)),C=e=>Object(i.createSelector)(n("4dgq").q,n("qJbg").b,j(e),d,((e,t,a,s)=>{if(!e||!Array.isArray(t.customFields))return!1;const i=t.customFields.find((e=>e.id===a));return null!=i&&!Object(n("RMTU").a)(i,s)
})),S=e=>Object(i.createSelector)(I(e),(e=>{if(!e)return!1;const t=!r()(e.properties.function),n=!r()(e.properties.formatter);return!t&&n})),k=Object(i.createSelector)(n("4dgq").w,n("4dgq").v,n("SXNk").g,n("SXNk").h,n("4dgq").A,n("/LFc").D,n("/LFc").G,((e,t,a,s,i,o,r)=>({issue:{key:e,id:t,type:s,typeId:a},project:{id:null!==o?Object(n("Rp3N").s)(o.toString()):o,key:i,type:r}}))),w=Object(i.createSelector)(n("4dgq").q,n("qJbg").b,d,((e,t,a)=>e&&Array.isArray(t.actions)?l(t.activities,a).map((e=>{const{id:t,properties:{title:a}}=e,{appKey:s,moduleKey:i}=Object(n("UKEq").d)(t);return{name:a,extension:e,type:"FORGE_ENTITY_TYPE",moduleKey:i,appKey:s}})):[])),T=e=>Object(i.createSelector)(k,n("qJbg").b,((t,n)=>s()(s()({},t),{},{isNewToIssue:n.panelsKeys.newPanels.includes(e)}))),D=e=>Object(i.createSelector)(m,(t=>{const{extensionId:a}=Object(n("+9A+").a)(e)||{};return t.find((e=>a===e.extension.id))})),R=e=>Object(i.createSelector)(n("qJbg").b,(t=>t.panelsKeys.collapsedPanels.includes(e)))
},TB06:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i);class r{constructor(){this.status=void 0,this.promise=void 0,this.resolvePromise=void 0,this.rejectPromise=void 0,this.reset()}get(){return this.promise}resolve(e){this.resetIfSettled(),this.resolvePromise(e),this.status="resolved"}reject(){this.resetIfSettled(),this.rejectPromise(),this.status="rejected"}resetIfSettled(){"pending"!==this.status&&this.reset()}reset(){this.promise=new Promise(((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})),this.status="pending"}}t.a=e=>{var t,n;return n=t=class extends i.Component{constructor(e){super(e),this.viewTokenPromiseProvider=void 0,this.updateViewTokenPromise=e=>{const{viewContext:t}=e;t&&t.areTokenPermissionsUpToDate&&t.token?this.viewTokenPromiseProvider.resolve(t.token):this.viewTokenPromiseProvider.resetIfSettled()},this.tokenProvider=async e=>{if(!e)return this.viewTokenPromiseProvider.get();const{uploadContext:t}=this.props.mediaContext
;if(t)return t.token;throw new Error("Upload token not available")},this.viewTokenPromiseProvider=new r,this.updateViewTokenPromise(e.mediaContext)}UNSAFE_componentWillReceiveProps(e){this.updateViewTokenPromise(e.mediaContext)}render(){return o.a.createElement(e,s()({tokenProvider:this.tokenProvider},this.props))}},t.displayName=`WithTokenProvider(${String(null!=e.displayName?e.displayName:e.name)})`,n}},TZGU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("vN+2"),s=n.n(a);const i=()=>window.AJS&&window.AJS.dialog2,o=(e,t)=>{Object(n("Q+Hu").b)().then((()=>((e,t)=>{i()&&window.AJS.dialog2.on(e,t)})(e,t))).catch(s.a)},r=(e,t)=>{Object(n("Q+Hu").b)().then((()=>((e,t)=>{i()&&window.AJS.dialog2.off(e,t)})(e,t))).catch(s.a)}},TstH:function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return y})),
n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"f",(function(){return I})),n.d(t,"h",(function(){return C})),n.d(t,"j",(function(){return S})),n.d(t,"l",(function(){return k})),n.d(t,"a",(function(){return w}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("E+oP"),r=n.n(o),l=n("d8FT"),c=n.n(l),d=n("TZBG"),u=n.n(d);const p=Object(i.createSelector)(n("/LFc").f,(e=>e.issueLinks)),m=Object(i.createSelector)(p,(e=>!!e)),b=Object(i.createSelector)(p,(e=>e&&e.issueLinks)),g=e=>e.entities.remoteIssueLinks.remoteIssues,f=Object(i.createSelector)(b,(e=>e&&c()(e,(e=>e.isOptimistic)))),h=Object(i.createSelector)(p,(e=>e&&e.linkedIssues)),E=Object(i.createSelector)(p,(e=>e?e.linkedIssueKeys:[])),y=(Object(i.createSelector)(b,(e=>!r()(e))),Object(i.createSelector)(b,g,((e,t)=>!r()(e)||!r()(t)))),O=Object(i.createSelector)(E,g,((e,t)=>e.length+t.length)),v=Object(i.createSelector)(b,h,((e,t)=>r()(e)?null:u()(e).filter((e=>!e.isDeleted)).map((e=>s()(s()({},e),{},{
linkedIssue:t[e.linkedIssueKey]}))).reduce(((e,t)=>Object.assign(e,{[t.typeName]:[...e[t.typeName]||[],t]})),{}))),j=Object(i.createSelector)(v,g,((e,t)=>{if(null==e&&0===t.length)return null;const n=e=>({id:e.remoteIssueId,issueKey:e.issueKey,issueLink:e.issueLinkUrl,issueSummary:e.summary,issueTypeIconUrl:e.iconUrl});return t.reduce(((e,t)=>{const{issueDetails:a,relationship:i,id:o,issueKey:r,issueLinkUrl:l,remoteIssueLinkError:c,globalId:d,isSaved:u,isLoading:p,isOptimistic:m,hasError:b,isDeleted:g}=t;return null==i||g?e:s()(s()({},e),{},{[i]:[...e[i]||[],{id:o.toString(),direction:"OUTWARD",typeName:i,linkedIssueKey:r,linkedIssue:a||n(t),isRemote:!0,globalId:d,remoteServerHostname:new URL(l).hostname,remoteIssueLinkError:c,isSaved:u,isLoading:p,isOptimistic:m,hasError:b}]})}),s()({},e))
})),I=e=>Object(i.createSelector)(b,(t=>t&&t[e]||null)),C=e=>Object(i.createSelector)(h,(t=>t&&t[e]||null)),S=Object(i.createSelector)(p,(e=>e&&e.quickAddClicked)),k=Object(i.createSelector)(S,(e=>!!e)),w=Object(i.createSelector)(p,(e=>e&&e.canCreateLinkedIssue))},"U+j4":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r}));const a=(e,t)=>({fields:{[e]:t}}),s=async(e,t,s,i)=>Object(n("/rpS").e)(`${i}/rest/api/3/issue/${e}/`,{body:JSON.stringify(a(t,s))}),i=async(e,t,a,s)=>{const i={update:{[t]:[{operation:"add",value:a}]}};return Object(n("/rpS").e)(`${s}/rest/api/3/issue/${e}/`,{body:JSON.stringify(i)})},o=async(e,t,a,s)=>{const i={update:{[t]:[{operation:"remove",value:a}]}};return Object(n("/rpS").e)(`${s}/rest/api/3/issue/${e}/`,{body:JSON.stringify(i)})},r=(e,t)=>{const a=Object(n("B2Rg").a)(),s={key:"issue-field.save-value",reporters:[()=>({fieldKey:e,fieldType:t})]}
;return a.start(s),{stop:()=>a.stop(s),cancel:()=>a.cancel(s.key)}}},"U9/e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n("q1tI"),s=n.n(a),i=n("/MKj");const o=Object(i.connect)((e=>({experience:"editIssue",application:Object(n("M425").b)(e),edition:Object(n("M425").a)(e),analyticsSource:Object(n("4dgq").b)(e)})),{})(n("gBlZ").b),r=Object(i.connect)(((e,t)=>({field:t.fieldId,isEditing:Object(n("KSj7").H)(t.fieldId)(e)})),{})(n("gBlZ").a),l=e=>t=>{const a=n=>s.a.createElement(r,{fieldId:e},s.a.createElement(t,n));return a.displayName=`WithEditExperienceTracker(${Object(n("C0VN").a)(t)})`,a}},UJwn:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI");const s=(e,t)=>{const[{value:s}]=Object(n("MoW5").c)(e);return Object(a.useMemo)((()=>s&&Object.keys(s).filter((e=>s[e].schema.custom===t))||[]),[s,t])}},UMZh:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=4},UOlw:function(e,t,n){
"use strict";n.d(t,"a",(function(){return m}));var a=n("q1tI"),s=n.n(a),i=n("pVnL"),o=n.n(i);const r=e=>s.a.createElement("svg",o()({},e,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),s.a.createElement("path",{fill:"currentColor",
d:"M5.48121736,7.00404408 L7.59617451,4.89248498 C7.83826329,4.65078605 7.83826329,4.2589269 7.59617451,4.01722797 L7.45004745,3.8713518 C7.28862892,3.71022438 7.28862892,3.44898234 7.45004745,3.28784713 L8.61890792,2.12084557 C8.78032645,1.95971814 9.04199766,1.95971814 9.20333816,2.12084557 L13.8789361,6.78886738 C14.0403546,6.94999481 14.0403546,7.21123684 13.8789361,7.37239542 L12.7100756,8.53937361 C12.5486571,8.70053219 12.2869859,8.70053219 12.1255674,8.53937361 L11.9795183,8.39348187 C11.7374295,8.15178294 11.3449227,8.15178294 11.102834,8.39348187 L8.9878534,10.5050565 C8.74576463,10.7467555 8.74576463,11.1385523 8.9878534,11.3802512 L9.57236166,11.9638182 C9.73370217,12.1248989 9.73370217,12.3861487 9.57236166,12.5473073 L8.40342317,13.7142855 C8.24208266,13.8754441 7.98041145,13.8754441 7.81899293,13.7142855 L5.48655377,11.3856258 L2.99050379,13.8776251 C2.91356278,13.9544266 2.8093702,13.9978903 2.70055118,13.9985135 L2.42647516,14 C2.20319644,14.0012397 2.01932444,13.8251258 2.0112106,13.6023547 L2.00027253,13.3019252 C1.99610639,13.187346 2.03985869,13.076272 2.12104386,12.9951864 L4.60989281,10.5103532 L2.26677303,8.17102227 C2.10538571,8.00986368 2.10538571,7.74861386 2.26677303,7.58753317 L3.43565691,6.42050825 C3.59705203,6.25938082 3.85871544,6.25938082 4.02010275,6.42050825 L4.6045486,7.00404408 C4.84663737,7.245743 5.23912858,7.245743 5.48121736,7.00404408 Z"
}));r.displayName="PinFilled";var l=r,c=n("JRPe"),d=Object(c.defineMessages)({pinField:{id:"issue-field-pin.pin-field",defaultMessage:"Pin to top"},unpinField:{id:"issue-field-pin.unpin-field",defaultMessage:"Unpin"},fieldPinned:{id:"issue-field-pin.field-pinned",defaultMessage:"{fieldLabel} pinned to top."},errorTooManyPinnedTitle:{id:"issue-field-pin.error-too-many-pinned-title",defaultMessage:"Too many pinned fields"},errorTooManyPinnedText:{id:"issue-field-pin.error-too-many-pinned-text",defaultMessage:"You've reached the maximum number of fields you can pin in this project. Please unpin a field first, to pin this field to the top"}});const u=Object(a.memo)((e=>{const{isPinned:t=!1,onClick:a}=e,{formatMessage:i}=Object(n("NRyt").d)(),o=i(t?d.unpinField:d.pinField),r=t?l:n("MHIu").a,c=t?n("2Fh1").b:n("2Fh1").c;return s.a.createElement(n("2Fh1").a,{"data-test-id":"issue-field-pin.field-pin",onClick:a},s.a.createElement(n("Yto1").a,{content:o},s.a.createElement(c,{
className:"issue-details-pin-icon-wrapper"},s.a.createElement(n("UnwW").b,{label:o,glyph:r}))))}));u.displayName="FieldPin";var p=u;const m=e=>{const{fieldId:t,label:a=""}=e,i=Object(n("ovRs").h)(),[o,r]=Object(n("Um2r").c)(i),{createAnalyticsEvent:l}=Object(n("rZ/p").a)(),{showFlag:c}=Object(n("uS5k").f)();if(!i)return null;const u=Object(n("Um2r").b)(o,t);return s.a.createElement(p,{onClick:()=>{const e=[...o];let s=-1;u?(s=e.indexOf(t),e.splice(s,1)):e.push(t);const i=r(e);(({isPinned:e,newPinnedFieldLength:t,pinnedFieldPosition:a,setPinSuccess:s,savedFieldIdLength:i})=>{const o={isPinned:e,newPinnedFieldCount:t,pinnedFieldPosition:a,setPinSuccess:s,savedFieldIdLength:i},r=l({action:"clicked",actionSubject:"button",actionSubjectId:"pinnedFieldButton"});Object(n("yy8q").h)(r,"pinnedFields",o)})({isPinned:!u,newPinnedFieldLength:e.length,pinnedFieldPosition:u?s:e.indexOf(t),setPinSuccess:i,savedFieldIdLength:Object(n("Um2r").a)(e).length}),u||c(i?{type:"success",title:[d.fieldPinned,{
fieldLabel:a}]}:{title:d.errorTooManyPinnedTitle,description:d.errorTooManyPinnedText,type:"error"})},isPinned:u})};m.displayName="FieldPin"},UWLJ:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));const a=(e,t,n)=>({type:"SAVE_DRAFT_REQUEST",payload:{fieldId:e,value:t,serverValue:n}}),s=(e,t)=>({type:"SAVE_DRAFT_SUCCESS",payload:{draftKey:e,value:t}}),i=e=>({type:"SAVE_DRAFT_FAILURE",payload:e}),o=(e,t,n,a)=>({type:"LOAD_DRAFT_REQUEST",payload:{fieldId:e,draftKey:t,draftHandler:n,serverValue:a}}),r=(e,t)=>({type:"LOAD_DRAFT_SUCCESS",payload:{fieldId:e,value:t}}),l=(e,t)=>({type:"LOAD_DRAFT_FAILURE",payload:{fieldId:e,error:t}}),c=({fieldId:e,draftKey:t})=>({type:"DELETE_DRAFT_REQUEST",payload:{fieldId:e,
draftKey:t}}),d=e=>({type:"DELETE_DRAFT_SUCCESS",payload:{fieldId:e}}),u=(e,t)=>({type:"DELETE_DRAFT_FAILURE",payload:{fieldId:e,error:t}})},UZ8N:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").I,(e=>e.drafts)),i=e=>Object(a.createSelector)(s,(t=>!!t[e]))},UjyR:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({configure:{id:"issue.configure",defaultMessage:"Configure"},swiftBacklink:{id:"issue.swift-backlink-title",defaultMessage:"Back to {issueKey}"}})},Um2r:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));const a="jira.user.issue.details.pinned-fields",s=(e,t)=>!(!e||!Array.isArray(e||!t))&&e.includes(t),i=e=>0===e.filter((e=>"string"==typeof e&&""!==e)).length?"null":e.join(","),o=e=>{const t=(e=>e?`${a}.${e}`:a)(Object(n("IFiJ").g)(e)),[s,o]=Object(n("F0wu").b)(t)
;return[(e=>null==e||""===e||"null"===e?[]:e.trim().split(","))(s),e=>{const t=i(e);return e.length>0?!(t.length>255)&&(o.setValue(t),!0):(o.deleteValue(),!0)}]}},Utxq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l}));const a=Object(n("iY3i").b)("issue-changeboarding"),s="banner-seen-times",i="banner-first-seen-timestamp",o=()=>a.get(s)||0,r=e=>a.set(s,e),l=e=>a.set(i,e)},Uztb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));const a=e=>t=>Object(n("jR8K").a)(e.daysPerWeek,e.hoursPerDay)(t||0),s=e=>t=>{let a=t.trim();if(Object(n("N/HC").a)(a)){const{defaultUnit:t}=e;a=`${a}${Object(n("dUcG").a)(t)}`}return a},i=e=>t=>{const a=s(e)(t);return""===a||Object(n("3RwP").a)(a)},o=e=>t=>{const a=s(e)(t);return i(e)(a)?Object(n("rYoG").a)(e.daysPerWeek,e.hoursPerDay)(a):0}},"VWc/":function(e,t,n){"use strict";n.d(t,"a",(function(){
return a}));const a=({issueKey:e,onSuccess:t,onFailure:a,onSubmit:s})=>{const{respondersFieldIdKey:i,fieldType:o}=Object(n("WSik").a)(e),[{value:r,error:l},{addValues:c,removeValues:d,resetError:u}]=Object(n("35XP").a)({issueKey:e,fieldKey:i,fieldType:o,initialValue:null,onSuccess:t,onFailure:a,onSubmit:s});return[{value:r,error:l},{addResponders:c,removeResponders:d,resetError:u}]}},VrLr:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({errorTitle:{id:"issue-field-team.error-title",defaultMessage:"We couldn't set the team value"},errorMessage:{id:"issue-field-team.error-message",defaultMessage:"Check your connection, then give it another try."},teamErrorViewTooltip:{id:"issue-field-team.team-error-view-tooltip",defaultMessage:"This team may have been deleted, or you do not have access"},teamErrorViewText:{id:"issue-field-team.team-error-view-text",defaultMessage:"Not available"},placeholderTeamEditSelector:{id:"issue-field-team.placeholder-team-edit-selector",
defaultMessage:"Choose a team"}})},W7ru:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>Object.keys(t).find((n=>null!==t[n].schema.custom&&t[n].schema.custom===e))},"WCl/":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));let a=null;const s=()=>(a||(a=(()=>{const e=window.featureFlags;if(e)return e;const t=document.querySelector('meta[name="ajs-fe-feature-flags"]'),n=null==t?void 0:t.getAttribute("content");return null!=n?JSON.parse(n):null})()||(()=>{var e;return null!==(e=window.ssr__feFeatureFlags)&&void 0!==e?e:null})()||{}),a),i=(e,t=!1)=>{const n=s();return n[e]?!!n[e].value:t},o=()=>i("issue.details.layout-containers-api",!1),r=()=>i("issue.details.remove-shortcuts-user-preference",!1),l=()=>i("display-outsider-comment-field_4x7u7",!1),c=()=>i("issue.details.agg-child-issue-panel-pagination",!1)},WSik:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return s}));var a=n("q1tI");const s=e=>{const[{value:t}]=Object(n("MoW5").c)(e),[s,i,o]=Object(a.useMemo)((()=>{if(null!=t){const e=Object.keys(t).find((e=>"com.atlassian.jira.modules.servicemanagement.responders-entity:responders-entity-field-cftype"===t[e].schema.custom));if(null!=e){const n=t[e],{autoCompleteUrl:a,schema:{type:s}}=n;return[e,a||"",s]}}return["","","array"]}),[t]);return{respondersFieldIdKey:s,searchUrl:i,fieldType:o}}},Wsbr:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=i.default.div.withConfig({componentId:"sc-6lzgpj-0"})`cursor:pointer;&:hover > span{color:${n("5kDX").a.N800} !important;background-color:${n("5kDX").a.N90} !important;}`,r=i.default.div.withConfig({componentId:"sc-6lzgpj-1"})`border:2px solid transparent;`,l=({isEditable:e,value:t})=>{const{formatNumber:a}=Object(n("NRyt").d)();if(void 0===t)return null
;const i=null===t?"-":a(t),l=s.a.createElement(n("7QTw").a,null,i),c=e?s.a.createElement(o,null,l):l;return s.a.createElement(r,null,c)};l.displayName="NumberView"},XJP3:function(e,t,n){"use strict";n.r(t),n.d(t,"actionSubject",(function(){return j}));var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("mwIZ"),d=n.n(c),u=n("vOnD");const p=u.default.div.withConfig({componentId:"sc-1xuu3bo-0"})`${()=>Object(n("MrUx").a)()?"width: 100%":`width: ${8.5*n("ZpU/").e}px`};cursor:auto;`,m=u.default.div.withConfig({componentId:"sc-1xuu3bo-1"})`margin-left:-${n("ZpU/").e/2}px;margin-right:${n("ZpU/").e/2}px;`,b=["isInvalid","type","defaultValue"],g=Object(r.memo)((e=>{const{isInvalid:t=!1,type:a,defaultValue:i}=e,r=o()(e,b),c=null===i?"":Number(i);return l.a.createElement(p,null,Object(n("MrUx").a)()?l.a.createElement(n("I4Rc").a,s()({appearance:"subtle",isCompact:!0,isInvalid:t,type:a,value:c,step:"any",autoFocus:!0,
elemAfterInput:!0===t?l.a.createElement(m,null,l.a.createElement(n.n(n("DWq1")).a,{size:"medium",primaryColor:"#FFAB00",label:""})):null},r)):l.a.createElement(n("iSg+").a,s()({appearance:"subtle",autoFocus:!0,compact:!0,isLabelHidden:!0,isInvalid:t,shouldFitContainer:!0,type:a,value:c},r)))}));var f=n("JRPe"),h=Object(f.defineMessages)({errorTitle:{id:"issue-field-number.error-title",defaultMessage:"We couldn't set the story point value"},errorMessage:{id:"issue-field-number.error-message",defaultMessage:"Check your connection, then give it another try."}});u.default.div.withConfig({componentId:"sc-4fxs2w-0"})`& > div:first-child{margin-left:0;}`;const E=Object(u.default)(n("cNqL").a).withConfig({componentId:"sc-4fxs2w-1"
})`padding-right:${n("ZpU/").e/2+2}px;& div[data-read-view-fit-container-width]{background:transparent !important;border:none !important;}& button[aria-label='Edit']:focus + div > div:first-child{border:2px solid ${"#4C9AFF"};border-radius:2em;margin-right:-2px;}`,y=Object(u.default)(n("cNqL").a).withConfig({componentId:"sc-4fxs2w-2"})`padding-right:${n("ZpU/").e/2+2}px;width:${8.5*n("ZpU/").e}px;margin-right:-${n("ZpU/").e-2}px;`,O=Object(u.default)(n("cNqL").a).withConfig({componentId:"sc-4fxs2w-3"})`${({isEditable:e})=>e?null:u.css`left:0;padding:6px 0;${""} & > div{margin:10px 0 4px 2px;}${n("cNqL").b}{margin-left:0;line-height:1;}`}`,v=["fieldKey","issueKey","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","noValueText","fieldFocusStyle","fieldEditStyle"],j="numberInlineEdit";t.default=Object(r.memo)((e=>{
const{fieldKey:t,issueKey:a,onCancel:i,onEdit:c,onEscape:u,onConfirm:p,onEnter:m,onUpdate:b,readView:f,editView:I,noValueText:C,fieldFocusStyle:S,fieldEditStyle:k}=e,w=o()(e,v),[T,D]=Object(r.useState)(!1),[{value:R,error:L,fieldConfig:M},{saveValue:A,resetError:_}]=Object(n("aAYo").a)({issueKey:Object(n("Rp3N").n)(a),fieldKey:t,onSuccess:e=>{b&&b(e),D(!1)}}),N=d()(M,"schema.type","number"),[x,U]=Object(r.useState)(R),F=!!M&&M.isEditable;Object(r.useEffect)((()=>{L&&D(!0),T||U(R)}),[L,T,R]);const P=Object(r.useCallback)((e=>{x!==R?A(x,null,e):D(!1),Object(n("yy8q").h)(e)}),[A,x,R]),V=Object(r.useCallback)((e=>{_(),D(!1),U(R),Object(n("yy8q").h)(e)}),[_,R]),K=Object(r.useCallback)((e=>{V(e),i&&i(e)}),[i,V]),$=Object(r.useCallback)((e=>{P(e),p&&p(e)}),[p,P]),W=Object(r.useCallback)((e=>{D(!0),Object(n("yy8q").h)(e),c&&c(e)}),[c]),B=Object(r.useCallback)((e=>{V(e),u&&u(e)}),[u,V]),q=Object(r.useCallback)((e=>{Object(n("MrUx").a)()?Object(n("yy8q").h)(e):P(e),m&&m(e)
}),[m,P]),H=Object(r.useCallback)((e=>{_();const t=""===e.target.value?null:parseFloat(Number(e.target.value).toFixed(3));U(t)}),[_,U]),G=()=>void 0!==I?I:l.a.createElement(g,{defaultValue:x,onChange:H,type:N,isInvalid:!!L}),Y=()=>void 0!==f?f:l.a.createElement(n("Wsbr").a,{isEditable:F,value:R});let Z=O;return Object(n("MrUx").a)()&&("LOZENGE"===S&&(Z=E),T&&"INLINE"===k&&(Z=y)),l.a.createElement(l.a.Fragment,null,L&&l.a.createElement(n("gx/I").a,{error:L,title:h.errorTitle,description:h.errorMessage}),Object(n("MrUx").a)()?l.a.createElement(Z,{isEditable:F},l.a.createElement(n("JZTM").a,s()({actionSubject:j,isEditable:F,isEditing:T,readView:l.a.createElement(n("cNqL").b,null,Y()),editView:F?G():null,onCancel:K,onConfirm:$,onEdit:W,onEscape:B,onEnter:q},w))):l.a.createElement(n("JZTM").a,s()({actionSubject:j,isEditable:F,isEditing:T,readView:Y(),editView:F?G():null,onCancel:K,onConfirm:$,onEdit:W,onEscape:B,onEnter:q},w)))}))},XTTp:function(e,t,n){"use strict";n.d(t,"c",(function(){
return r})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a={};n.r(a),n.d(a,"setVoters",(function(){return s})),n.d(a,"setLoggedInUserAction",(function(){return i}));const s=e=>({setState:t})=>{t({voters:e})},i=e=>({setState:t})=>{t({loggedInUserAction:e})},o=Object(n("0b8M").a)({name:"issue-voters",initialState:{voters:[],loggedInUserAction:void 0},actions:a}),r=Object(n("dq9g").a)(o,{selector:e=>e.voters}),l=Object(n("dq9g").a)(o,{selector:e=>e.loggedInUserAction}),c=Object(n("UCyb").a)(o)},XXsi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("3tO9"),s=n.n(a);const i=(e,t)=>"string"==typeof e&&e.toLowerCase().includes(t),o=(e,t)=>{if(e.data&&!0===e.data.__isNew__)return!0;const n=t.trim().toLowerCase();return!("string"!=typeof e.label||!i(e.label,n))||!(!e.data||!e.data.filterValues)&&e.data.filterValues.some((e=>i(e,n)))},r=(e,...t)=>{const n=e||{};if(0===t.length)return n;const a=s()({},n)
;return t.forEach((e=>{e&&Object.keys(e).forEach((t=>{const n=a[t],s=e[t];a[t]=n?(e,...t)=>s(n(e,...t),...t):s}))})),a}},XYfm:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o={columns:10};t.a=({children:e,isCompact:t=!1,hasMultipleScrollingColumns:a})=>s.a.createElement(i.ThemeProvider,{theme:o},s.a.createElement(n("0YYc").a,{isCompact:t,hasMultipleScrollingColumns:a},s.a.createElement(n("QiwE").a,{spacing:"comfortable",layout:"fluid"},e)))},XoL7:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),s=n.n(a);const i=e=>s.a.createElement(n("ho8o").a,{id:"issue.fields.status.transitions-query"},s.a.createElement(n("PF8x").a,{id:"fields.status.transitions-query",packageName:"jiraIssueFieldStatus",sendToPrivacyUnsafeSplunk:!0},s.a.createElement(n("gDSC").a,e)));i.displayName="WrappedTransitionsQuery"},XtNG:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"j",(function(){return r})),
n.d(t,"e",(function(){return l})),n.d(t,"o",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"p",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return v})),n.d(t,"l",(function(){return I})),n.d(t,"k",(function(){return C}));const a=e=>e,s=/^([A-Z][A-Z0-9]+)-([0-9]*)$/i,i=e=>{if(e){const t=s.exec(e);if(t&&3===t.length)return t[1]}
},o=(e,t)=>`${e}/browse/${t}`,r=(e,t)=>`${e}/browse/${t}`,l=(e,t)=>`${e}/rest/api/2/issue/${t}`,c=e=>`${e}/rest/api/2/search`,d=(e,t)=>`${e}/rest/api/2/issue/${t}?fields=issuelinks`,u=(e,t,n,a)=>`${e}/rest/api/2/issue/picker?currentIssueKey=${n}&showSubTasks=true&showSubTaskParent=true&query=${encodeURIComponent(a)}&currentJQL=${encodeURIComponent(t)}`,p="(resolution = Unresolved or statusCategory != Done) ORDER BY priority DESC, updated DESC",m=(e,t,n)=>{let a=`project in projectsWhereUserHasPermission("Link Issues") AND ${p}`;const s=i(n);return s&&(a=`project = "${s.toUpperCase()}" AND ${a}`),u(e,a,t,n)},b=(e,t,n)=>{let a="";const s=i(n);return s&&(a=`project = "${s.toUpperCase()}" ORDER BY priority DESC, updated DESC`),u(e,a,t,n)
},g=(e,t)=>`${e}/rest/api/2/issue/createmeta?projectKeys=${t}&expand=projects.issuetypes.fields`,f=e=>`${e}/rest/api/2/issueLink`,h=(e,t)=>`${e}/rest/remoteJiraIssueLink/1/remoteJira/${t}/createIssueLink`,E=e=>`${e}/rest/graphql/1/`,y=e=>`${e}/rest/api/2/mypreferences?key=jira.user.issue.changeboarding.lastinteracted`,O=e=>`${e}/rest/confluenceIssueLink/1/confluence/applink`,v=(e,t)=>`${e}/rest/issueLinkAppLink/1/appLink/info?type=com.atlassian.applinks.api.application.jira.JiraApplicationType&issueIdOrKey=${t}`,j=(e,t,n,a)=>`${e}/rest/remoteJiraIssueLink/1/remoteJira/picker?showSubTasks=true&showSubTaskParent=true&query=${encodeURIComponent(n)}&currentJQL=${encodeURIComponent(t)}&appId=${a}`,I=(e,t,n)=>{let a=p;const s=i(t);return s&&(a=`project = "${s.toUpperCase()}" AND ${a}`),j(e,a,t,n)},C=(e,t,n)=>{let a="";const s=i(t);return s&&(a=`project = "${s.toUpperCase()}" ORDER BY priority DESC, updated DESC`),j(e,a,t,n)}},Y53K:function(e,t,n){"use strict";n.d(t,"b",(function(){return a
})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));const a=()=>({type:"FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_REQUEST"}),s=e=>({type:"FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_SUCCESS",payload:e}),i=()=>({type:"FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_FAILED"})},YNh8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),s=n.n(a);const i=(e,t,a)=>{const o=a||(e=>e.displayName||e.name||"UnsafeComponent")(e),r=()=>a?"Fallback":t?"SafeWithFallback":"Safe",l=a=>{let l=Object.assign({},a);return s.a.createElement(n("ho8o").a,{prefixOverride:"issue",id:`${r()}(${o})`,render:()=>{if(!t)return null;const e=i(t,null,o);return s.a.createElement(e,l)}},s.a.createElement(e,l))};return l.displayName=`${r()}(${o})`,l},o=(e={})=>t=>i(t,e.FallbackComponent)},YO9v:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return d})),
n.d(t,"a",(function(){return u}));var a=n("3tO9"),s=n.n(a),i=n("vOnD");const o=i.default.span.withConfig({componentId:"sc-13tydo8-0"})`display:flex;align-items:center;`,r=i.default.span.withConfig({componentId:"sc-13tydo8-1"})`display:flex;padding-right:${n("ZpU/").e}px;`,l=i.default.span.withConfig({componentId:"sc-13tydo8-2"})`display:flex;`,c=Object(i.default)(o).withConfig({componentId:"sc-13tydo8-3"})`justify-content:center;`,d={menuPortal:e=>s()(s()({},e),{},{zIndex:n("ZpU/").f.modal})},u=i.default.div.withConfig({componentId:"sc-13tydo8-4"})`${e=>"top"===e.errorMessagePosition?`margin-bottom: ${.75*n("ZpU/").e}px;`:""};`},YoD6:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return r}));const a=e=>({type:"CARD_COVER_FETCH_SUCCESS",payload:{cardCover:e}}),s=()=>({type:"CARD_COVER_FETCH_FAILURE"}),i=(e,t)=>({type:"CARD_COVER_UPDATE_REQUEST",
payload:{currentAttachmentId:e,attachmentId:t}}),o=()=>({type:"CARD_COVER_UPDATE_SUCCESS"}),r=e=>({type:"CARD_COVER_UPDATE_FAILURE",payload:{attachmentId:e}})},"Z+f9":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n("3tO9"),s=n.n(a),i=n("M6kn");const o=(e,t)=>[e.retry(2),t.retry(2)],r=(e,t,a,s,i)=>Object(n("1Xqn").a)(i,(()=>((e,t,a)=>Object(n("K4VI").a)(Object(n("XtNG").d)(e),Object(n("1DmR").a)(t,a)))(e,t,a))).catch((e=>{throw new(n("QMRn").a)(e,Object(n("XtNG").d)(Object(n("Rp3N").c)("{baseUrl}")))})).map((e=>((e,t)=>{if(t.errors){const a=t.errors[0],s=new(n("HQr3").a)(a.message);throw n("fnbV").a.safeErrorWithoutCustomerData(e,"getGraphQlData: Error present in GraphQL response",new(n("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:s})),s}return t.data})("issue.fetch.issue-fetch-server",e))).map((t=>{
const a=Object(n("d90y").isIssueViewAggChildPanelEnabled)()?Object(n("eryr").a)(t):t;return Object(n("SuPg").c)(a,e)})),l=(e,t)=>{const a=Object(n("4dgq").f)(e),l=Object(n("4dgq").w)(e),c=Object(n("4dgq").A)(e);Object(n("4dgq").m)(e);return i.Observable.zip(...o(i.Observable.fromPromise(Object(n("/MNd").b)(a,l,t)),r(a,l,c)),((e,t)=>s()(s()({},e),t)))},c=(e,t)=>{const a=Object(n("4dgq").f)(e),l=Object(n("4dgq").w)(e),c=Object(n("4dgq").A)(e),d=(Object(n("4dgq").m)(e),i.Observable.fromPromise(Object(n("/MNd").a)(a,l,t&&t.issueGiraData)).catch((e=>{throw new(n("QMRn").a)(e,n("hr7V").a)}))),u=r(a,l,c,0,t&&t.issueGraphqlData),p=Object(n("4dgq").r)(e),m=Object(n("4dgq").o)(e),b=!(p||m)?o(d,u):((e,t,n)=>[e.retry(2),t.retry(2),n.retry(2)])(d,u,Object(n("upY+").a)(a,c));return i.Observable.zip(...b,((e,t)=>s()(s()(s()({},e),t),{},{issue:s()(s()({},t.issue),{},{contextItemsCategories:e.contextItemsCategories,contentItemsCategories:e.contentItemsCategories}),project:s()(s()({},t.project),{},{
issueTypes:e.issueTypes})})))},d=(e,t,a)=>i.Observable.from(t).bufferCount(50).flatMap((t=>((e,t,a)=>Object(n("K4VI").a)(Object(n("XtNG").o)(e),{method:"POST",body:JSON.stringify({jql:t,fields:a})}).map(n("SuPg").b))(e,`key in (${t.join(",")})`,a))).reduce(((e,t)=>[...e,...t]),[]),u=(e,t)=>Object(n("K4VI").a)(Object(n("XtNG").g)(e,t)).map((t=>t.fields.issuelinks&&Object(n("ChVR").b)(e,t.fields.issuelinks)))},Z88A:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i);const r=n("vOnD").default.div.withConfig({componentId:"sc-1vwcf62-0"})`position:absolute;right:0;top:0;width:${e=>e.show?e.width:0}px;${e=>null!=e.height?`height: ${e.height}px`:""};transition:${e=>e.show?"width 0.5s cubic-bezier(0.15, 1, 0.3, 1)":"width 0.5s cubic-bezier(0.15, 1, 0.3, 1), opacity 0, 0.5s, visibility 0, 0.5s"};overflow:hidden;opacity:${e=>e.show?1:0};visibility:${e=>e.show?"visible":"hidden"};`,l=Object(i.forwardRef)(((e,t)=>o.a.createElement(r,s()({innerRef:t},e),e.children)));t.a=l},
ZBti:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=Object(i.default)(n("tCgR").a).withConfig({componentId:"hq7qvq-0"})`flex-direction:column;width:100%;`,r=Object(i.default)(n("4Kfa").a).withConfig({componentId:"hq7qvq-1"})`display:flex;`,l=Object(i.default)(n("gIl3").a).withConfig({componentId:"hq7qvq-2"})`width:9px;flex-shrink:0;`,c=Object(i.default)(n("gIl3").a).withConfig({componentId:"hq7qvq-3"})`height:22px;`,d=Object(i.default)(n("RfvQ").a).withConfig({componentId:"hq7qvq-4"})`background-position:-2px -2px;border-bottom:${4*n("ZpU/").e}px solid white;flex-shrink:0;`,u=s.a.createElement(s.a.Fragment,null,s.a.createElement(d,null),s.a.createElement(l,null),s.a.createElement(n("4Kfa").a,null,s.a.createElement(n("4Kfa").a,{paddingTop:1,paddingBottom:5},s.a.createElement(n("hBQX").a,{fontSize:14,lineHeight:16,intrusion:250})),s.a.createElement(n("4Kfa").a,{paddingTop:4,paddingBottom:0},s.a.createElement(n("hBQX").a,{fontSize:24,lineHeight:24,intrusion:0
})),s.a.createElement(c,null)));t.a=()=>s.a.createElement(o,null,s.a.createElement(n("gIl3").b,null),s.a.createElement(r,{paddingTop:0,paddingBottom:0},u),s.a.createElement(r,{paddingTop:0,paddingBottom:0},u))},ZMvX:function(e,t,n){"use strict";n.d(t,"a",(function(){return Se}));var a=n("q1tI"),s=n.n(a),i=n("/MKj"),o=n("hJd6"),r=n("JRPe"),l=Object(r.defineMessages)({back:{id:"issue.views.issue-base.foundation.back-button.back",defaultMessage:"Back"}}),c=n("vOnD");const d=c.default.div.withConfig({componentId:"sc-106fq17-0"})`margin-right:${1.5*n("ZpU/").e}px;margin-left:-${1.5*n("ZpU/").e}px;`;var u=Object(a.memo)((({url:e})=>{const{formatMessage:t}=Object(n("NRyt").d)(),{createAnalyticsEvent:i}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{Object(n("yy8q").h)(i({}),"button clicked","backFromIssueViewButton")}),[i]);return s.a.createElement(d,null,s.a.createElement(n("340+").a,{href:e,appearance:"subtle",onClick:r,component:__SPA__?o.a:void 0,
iconBefore:s.a.createElement(n.n(n("jLbw")).a,{label:"",size:"small",primaryColor:n("5kDX").a.N300})},t(l.back)))})),p=n("pVnL"),m=n.n(p),b=n("QILm"),g=n.n(b),f=n("56YH"),h=n.n(f),E=n("peh1");const y=Object(E.createSelector)(n("/LFc").f,(e=>e.project)),O=Object(E.createSelector)(y,(e=>e?e.projectName:null)),v=Object(E.createSelector)(y,(e=>e?e.avatarUrl:null));var j=n("vN+2"),I=n.n(j),C=n("3tO9"),S=n.n(C),k=Object(r.defineMessages)({triggerTooltipAddEpic:{id:"issue.details.issue-parent-switcher-trigger-tooltip-add-epic",defaultMessage:"{issueTypeName} - Add {target}"},triggerTooltipChangeEpic:{id:"issue.details.issue-parent-switcher-trigger-tooltip-change-epic",defaultMessage:"{issueTypeName} - Change {target}"},triggerTooltipAddParent:{id:"issue.details.issue-parent-switcher-trigger-tooltip-add-parent",defaultMessage:"{issueTypeName}Add parent"},triggerTooltipChangeParent:{id:"issue.details.issue-parent-switcher-trigger-tooltip-change-parent",
defaultMessage:"{issueTypeName}Change parent"},dropdownEmpty:{id:"issue.details.issue-parent-switcher-dropdown-empty",defaultMessage:"No {target} has been created in this project. Create your first "},dropdownTitleEpic:{id:"issue.details.issue-parent-switcher-dropdown-title-epic",defaultMessage:"Recent {target}"},removeEpic:{id:"issue.details.issue-parent-switcher-remove-epic",defaultMessage:"Remove {target}"},viewEpics:{id:"issue.details.issue-parent-switcher-view-epics",defaultMessage:"View all {target}"},dropdownTitle:{id:"issue.details.issue-parent-switcher-dropdown-title",defaultMessage:"Recent parents"},removeParent:{id:"issue.details.issue-parent-switcher-remove-parent",defaultMessage:"Remove parent"},viewParents:{id:"issue.details.issue-parent-switcher-view-parents",defaultMessage:"View all parents"}});const w=c.default.div.withConfig({componentId:"sc-1te7eml-0"})`border-bottom:1px solid ${n("5kDX").a.N30};`,T=c.default.div.withConfig({componentId:"sc-1te7eml-1"
})`display:flex;justify-content:center;align-items:center;min-width:${21*n("ZpU/").e}px;min-height:${23.375*n("ZpU/").e}px;overflow:hidden;`,D=c.default.div.withConfig({componentId:"sc-1te7eml-2"})`width:${25*n("ZpU/").e}px;padding:${1.5*n("ZpU/").e}px;& button,& span{padding:0;margin:0;vertical-align:initial;}`,R=Object(n("wW5i").a)("dropdownItem",{onClick:"clicked"})(n("ourr").a);class L extends a.Component{constructor(...e){super(...e),this.state={isOpen:Boolean(this.props.isOpen),isLoading:!this.props.issueParents.length},this.addEpicButtonRef=Object(a.createRef)(),this.focusTimeoutId=null,this.setFocusToAddEpicButtonOnModalClose=()=>{const e=this.addEpicButtonRef.current;e&&(this.focusTimeoutId=setTimeout((()=>e.focus())))},this.onOpenChange=({isOpen:e,event:t},n)=>{const{clickRef:a,onOpenChange:s,onToggle:i,issues:o}=this.props,r=a&&a.current&&t&&a.current.button.contains(t.target);void 0!==o[0]&&n.update({epicSelectedId:o[0].parentId}),i(n),this.toggleMenu(e),s&&!r&&s(e)},
this.onItemClick=(e,t={})=>(a,s)=>{const{projectId:i,issueTypes:o,issues:r,issueTypeName:l,onSelect:c,setIssueParent:d,onViewAllParentsClick:u,onClick:p,openIssueCreateModal:m}=this.props;switch(e){case"add parent":case"change parent":d(r,t.parentId);break;case"remove parent":d(r);break;case"open modal":u();break;case"create parent":{const e=String((o.find((({name:e})=>e===l))||{}).id);i&&e||n("RDfz").a.safeErrorWithoutCustomerData("issue-parent-switcher.create.issue.failure","Failed to create the first epic via global issue create",{projectId:i,issueTypeId:e}),((e,t,n)=>{if(n&&window.IssueCreate&&window.IssueCreate.Visibility){const{isEnabled:a}=window.IssueCreate.Visibility;if(a){const a={};return null!=e&&(a.project={projectId:e}),null!=t&&(a.issueType={issueTypeId:t}),void n({payload:a})}}window.WRM&&window.WRM.require(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"],(()=>{window.JIRA.Forms.createCreateIssueForm({pid:e,issueType:t}).asDialog({
id:"software-create-issue-dialog"}).show()}))})(i,e,m);break}}p(s.update({userAction:e})),c&&c(),!t.keepMenuOpen&&this.toggleMenu(!1)}}componentDidUpdate(e){const{issueParents:t,isOpen:n,isAssignIssueParentModalOpen:a}=this.props;n!==e.isOpen&&n!==this.state.isOpen&&this.toggleMenu(n),t!==e.issueParents&&this.state.isLoading&&this.setState({isLoading:!1}),e.isAssignIssueParentModalOpen&&!a&&this.setFocusToAddEpicButtonOnModalClose()}componentWillUnmount(){clearTimeout(this.focusTimeoutId)}getMessageContent(e,t,n=!0){const{issueTypeName:a,issueHierarchyLevel:s,intl:{formatMessage:i}}=this.props,o="Epic"!==a?"":`${"Epic".toLowerCase()}${n?"s":""}`;return a&&0===s?i(e,{target:o}):i(t)}getTooltipContent(){const{isOrphan:e,issueTypeName:t,issueHierarchyLevel:n,intl:{formatMessage:a}}=this.props;if(t&&0===n){const n="Epic"!==t?t:"Epic".toLowerCase();return a(e?k.triggerTooltipAddEpic:k.triggerTooltipChangeEpic,{issueTypeName:t,target:n})}
return a(e?k.triggerTooltipAddParent:k.triggerTooltipChangeParent,{issueTypeName:t?`${t} - `:""})}toggleMenu(e){const{issueParents:t,fetchIssueParents:n}=this.props;this.setState(S()({isOpen:e},e&&!t.length?{isLoading:!0}:{}),(()=>{e&&!t.length&&n()}))}renderTriggerButton(){const{isDisabled:e,isOpen:t,isOrphan:a,issueTypeName:i,issueTypeIconUrl:o,text:r}=this.props,l=this.getTooltipContent(),c=s.a.createElement(n("340+").a,{ref:this.addEpicButtonRef,"aria-label":l,"aria-expanded":t,isDisabled:e,spacing:"compact",appearance:"subtle",iconBefore:!a&&o?s.a.createElement(n("Opng").a,{alt:i||"",url:o}):s.a.createElement(n.n(n("+L/g")).a,{size:"small",label:""})},r);return a?c:s.a.createElement(n("Yto1").a,{position:"top",content:l,delay:0},c)}renderIssueParentItem(e){const{id:t,key:a,summary:i,issueType:{name:o,iconUrl:r}}=e,l=s.a.createElement(n("Opng").a,{alt:o||"",url:r});return s.a.createElement(R,{key:a,elemBefore:l,
onClick:this.onItemClick((this.props.isOrphan?"add":"change")+" parent",{parentId:t})},a," ",i)}renderDropdownItemGroup(e){return this.state.isLoading?s.a.createElement(T,null,s.a.createElement(n("6UK4").a,{size:"large"})):s.a.createElement(n("6IoW").a,{title:this.getMessageContent(k.dropdownTitleEpic,k.dropdownTitle)},e.map((e=>this.renderIssueParentItem(e))))}renderDropdownMenu(){const{isOrphan:e,issueTypeName:t,issueHierarchyLevel:a,issueParents:i,issueKey:o,intl:{formatMessage:r}}=this.props,l=t&&"Epic"!==t?t:"Epic".toLowerCase(),c=(i||[]).filter((e=>e.key!==o)).slice(0,5);return 0!==a||this.state.isLoading||i.length?s.a.createElement(s.a.Fragment,null,(this.state.isLoading||c.length>0)&&s.a.createElement(w,null,this.renderDropdownItemGroup(c)),s.a.createElement(n("6IoW").a,null,!e&&0===a&&s.a.createElement(R,{onClick:this.onItemClick("remove parent")},this.getMessageContent(k.removeEpic,k.removeParent,!1)),s.a.createElement(R,{onClick:this.onItemClick("open modal")
},this.getMessageContent(k.viewEpics,k.viewParents)))):s.a.createElement(D,null,r(k.dropdownEmpty,{target:l}),s.a.createElement(n("340+").a,{appearance:"link",spacing:"compact",onClick:this.onItemClick("create parent",{keepMenuOpen:!0})},l),".")}render(){return s.a.createElement(n("BI20").a,{isOpen:this.state.isOpen,trigger:this.renderTriggerButton(),onOpenChange:this.onOpenChange},this.renderDropdownMenu())}}L.displayName="IssueParentSwitcher",L.displayName="IssueParentSwitcher",L.defaultProps={isDisabled:!1,isOrphan:!1,issueTypes:[],issues:[],issueParents:[],isOpen:!1,issueKey:"",issueTypeName:"",issueTypeIconUrl:"",issueHierarchyLevel:0,clickRef:null,projectId:null,fetchIssueParents:I.a,setIssueParent:I.a,text:"",onOpenChange:I.a,onSelect:I.a,onViewAllParentsClick:I.a};var M=Object(n("5WHm").a)(n("d90y").isModernGlobalIssueCreateTriggerEnabled,Object(r.injectIntl)(Object(n("/rL4").c)(L)),Object(r.injectIntl)(L)),A=Object(n("v5q+").a)([Object(n("4zF2").a)({onToggle:"toggled",
onClick:"clicked"}),Object(i.connect)((e=>({projectId:Object(n("/LFc").D)(e),issueTypes:Object(n("P82W").d)(e),issues:Object(n("p/Po").a)(e),issueParents:Object(n("/LFc").C)(e),isAssignIssueParentModalOpen:Object(n("p/Po").b)(e)})),(e=>({fetchIssueParents:()=>{e(Object(n("erQ6").b)())},setIssueParent:(t,a)=>{e(a?Object(n("erQ6").f)(t,a):Object(n("erQ6").i)(t))},onViewAllParentsClick:()=>{e(Object(n("erQ6").h)())}})))])(M);const _=e=>null===e?"":e.length>20?`${e.slice(0,20)}...`:e;var N=Object(r.defineMessages)({addParent:{id:"issue.details.add-parent",defaultMessage:"Add {target}"},copy:{id:"issue.details.copy-to-clipboard",defaultMessage:"Copy link to issue"},rootProjectsLink:{id:"issue.details.root-projects-link",defaultMessage:"Projects"}}),x=n("wTIg");const U=Object(x.a)("div",{target:"e18k4ulk0"})({name:"sgt9w1",styles:"display:flex;flex-grow:0;overflow:visible;"}),F=Object(x.a)("span",{target:"e18k4ulk1"})("padding-right:",n("ZpU/").e,"px;display:flex;"),P=Object(x.a)("span",{
target:"e18k4ulk2"})("border-radius:",n("ZpU/").a,"px;overflow:hidden;"),V=Object(x.a)(n("340+").a,{target:"e18k4ulk3"})("opacity:0;transition:opacity 0.2s ease,transform 0.2s ease;transform:translate(-8px,0);",U,":hover &{opacity:1;transform:translate(0,0);}&:focus{opacity:1;transform:translate(0,0);}"),K=Object(x.a)("div",{target:"e18k4ulk4"})('display:flex;margin:0;&:after{display:flex;margin-top:2px;content:"/";flex-shrink:0;padding:0 8px;justify-content:center;width:8px;margin-right:-4px;}&:last-child:after{content:"";}',(e=>(e=>!0===e?"\n    & > div:last-child {\n        max-width: 200px;\n    }":"")(e.shouldTruncate))),$=Object(x.a)("div",{target:"e18k4ulk5"})({name:"1r5s71b",styles:'display:flex;max-width:300px;&:after{display:flex;margin-top:2px;content:"/";flex-shrink:0;padding:0 8px;justify-content:center;width:8px;}'}),W=U,B=F,q=P,H=V,G=K,Y=$;class Z extends a.Component{constructor(...e){super(...e),this.state={isOpen:!1},this.breadcrumbsItemRef=Object(a.createRef)(),
this.onOpenChange=e=>{e!==this.state.isOpen&&this.setState({isOpen:e})},this.onClick=e=>{e.preventDefault(),this.setState((e=>({isOpen:!e.isOpen})))}}render(){const{issueTypeName:e,intl:{formatMessage:t}}=this.props,n=e&&"Epic"!==e?e:"Epic".toLowerCase();return s.a.createElement(s.a.Fragment,null,s.a.createElement(G,{"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-add-parent"},s.a.createElement(A,{clickRef:this.breadcrumbsItemRef,isOpen:this.state.isOpen,isOrphan:!0,issueTypeName:e,onOpenChange:this.onOpenChange,text:_(t(N.addParent,{target:n}))})))}}Z.displayName="BreadcrumbAddParentOld",Z.defaultProps={issueTypeName:"Epic"};const X=({issueTypeName:e="Epic"})=>{const[t,i]=Object(a.useState)(!1),{formatMessage:o}=Object(n("NRyt").d)(),r=Object(a.useRef)(),l=e&&"Epic"!==e?e:"Epic".toLowerCase();return s.a.createElement(G,{"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.add-parent.breadcrumb-add-parent"},s.a.createElement(A,{clickRef:r,isOpen:t,
isOrphan:!0,issueTypeName:e,onOpenChange:e=>i(e),text:_(o(N.addParent,{target:l}))}))};X.displayName="BreadcrumbAddParentNew";var J=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,X,Object(r.injectIntl)(Z));const z=Object(E.createSelector)(n("/LFc").F,n("Hxy2").g,((e,t)=>{const n=e&&e.issueTypes||[];return t.length?n.filter((e=>t.includes(e.id))):n})),Q=Object(E.createSelector)(n("/LFc").I,(e=>!(!e.issueType||!e.issueType.shouldShowIssueTypeList)));var ee=Object(r.defineMessages)({changeType:{id:"issue.details.change-issue-type",defaultMessage:"{issueType} - Change issue type"},changeTypeGroupName:{id:"issue.details.change-issue-type-groupname",defaultMessage:"Change Issue Type"}});const te=({issueType:e,icon:t,onClick:a})=>{const{formatMessage:i}=Object(n("NRyt").d)();return s.a.createElement(n("Yto1").a,{position:"top",content:i(ee.changeType,{issueType:e}),delay:0},s.a.createElement(n("340+").a,{"aria-label":i(ee.changeType,{issueType:e}),spacing:"compact",
appearance:"subtle",onClick:a,iconBefore:t}))};te.displayName="TriggerButton";var ne=te;const ae=({isOpen:e,icon:t,issueTypes:i,issueId:o,showIssueTypeList:r,loadIssueTypes:l,changeIssueType:c})=>{const{formatMessage:d}=Object(n("NRyt").d)(),{createAnalyticsEvent:u}=Object(n("rZ/p").a)(),p=Object(n("ovRs").h)(),[m]=Object(n("j3bG").b)({issueKey:p,fieldKey:"issuetype"}),b=Object(n("ovRs").j)(),g=Object(a.useCallback)((e=>{null!==o&&(c(p,o,m,e,u({})),r(!1))}),[c,u,m,o,p,r]),f=Object(a.useCallback)((({isOpen:e})=>{r(e)}),[r]),h=Object(a.useCallback)(((t,a)=>{b&&(e||Object(n("yy8q").h)(a.update({name:"changeIssueTypeDropdown"}),"button clicked","changeIssueTypeDropdownButton"),r(!e))}),[e,b,r]),E=Object(a.useMemo)((()=>{if(m&&i&&0!==i.length){const e=i.filter((e=>e.id!==m.id)).filter((e=>((e,t)=>!e.subtask||t.subtask)(m,e))).map((e=>s.a.createElement(n("ourr").a,{key:e.id,elemBefore:s.a.createElement(n("Opng").a,{url:e.iconUrl,alt:e.name}),onClick:()=>g(e)},e.name)))
;return[s.a.createElement(n("ourr").a,{key:m.id,elemBefore:s.a.createElement(n("Opng").a,{url:m.iconUrl,alt:m.name}),onClick:()=>g(m)},m.name),...e]}return null}),[m,g,i]),y=Object(a.useRef)(!0);return Object(a.useEffect)((()=>{!y.current&&b?l(b):y.current=!1}),[b,e,l]),s.a.createElement(n("Yc37").a,{trigger:s.a.createElement(ne,{icon:t,issueType:m&&m.name?m.name:"",onClick:h}),appearance:"default",position:"bottom left",onOpenChange:f,isOpen:e,isTriggerNotTabbable:!0},s.a.createElement(n("6IoW").a,{title:d(ee.changeTypeGroupName)},E))};ae.displayName="ChangeIssueType";var se=ae,ie=Object(i.connect)((e=>({issueTypes:z(e),issueId:Object(n("/LFc").l)(e),isOpen:Q(e)})),(e=>({showIssueTypeList:t=>e(Object(n("uhXo").d)(t)),loadIssueTypes:t=>e(Object(n("uhXo").b)(t)),changeIssueType:(t,a,s,i,o)=>e(Object(n("uhXo").g)(t,a,s,i,o))})))((e=>s.a.createElement(n("ho8o").a,{id:"change-issue-type",packageName:"issue-view"},s.a.createElement(se,e)))),oe=Object(r.defineMessages)({uneditableIssueType:{
id:"issue.details.uneditable-issue-type",defaultMessage:"{issueTypeName} - You cannot edit this issue type in this project."}});const re=c.default.div.withConfig({componentId:"sc-1q102z1-0"})`cursor:not-allowed;> button{pointer-events:none;}`,le=({intl:e,issueTypeIconUrl:t,issueTypeName:a})=>s.a.createElement(n("Yto1").a,{position:"top",content:e.formatMessage(oe.uneditableIssueType,{issueTypeName:a}),truncate:!0,delay:0},s.a.createElement(re,null,s.a.createElement(n("340+").a,{spacing:"compact",appearance:"subtle",iconBefore:s.a.createElement(n("Opng").a,{url:t}),isDisabled:!0})));le.displayName="ViewOld";const ce=({issueTypeIconUrl:e,issueTypeName:t})=>{const{formatMessage:a}=Object(n("NRyt").d)();return s.a.createElement(n("Yto1").a,{position:"top",content:a(oe.uneditableIssueType,{issueTypeName:t}),truncate:!0,delay:0},s.a.createElement(re,null,s.a.createElement(n("340+").a,{spacing:"compact",appearance:"subtle",iconBefore:s.a.createElement(n("Opng").a,{url:e}),isDisabled:!0})))}
;ce.displayName="View";var de=Object(n("5WHm").a)(n("d90y").isInjectIntlHOCMigrationEnabled,ce,Object(r.injectIntl)(Object(n("YNh8").a)()(le)));const ue=({isSimplifiedProject:e=!1,isIssueTypeFieldEditable:t=!1,issueKey:a=Object(n("Rp3N").n)(""),issueTypeName:i="",issueTypeIconUrl:o="",relativeIssueUrl:r="",fullIssueUrl:l="",onClick:c=I.a,onCopyClick:d=I.a})=>{const{formatMessage:u}=Object(n("NRyt").d)(),p=u(N.copy),m=s.a.createElement(n("k6/K").a,{key:"issueKeyBreadcrumbItem",href:r,onClick:c,text:a,target:"_blank"}),b=t?s.a.createElement(ie,{key:"issueTypeChanger",icon:s.a.createElement(n("Opng").a,{url:o,alt:i})}):s.a.createElement(de,{issueTypeName:i,issueTypeIconUrl:o}),[{value:g}]=Object(n("J3sU").a)({issueKey:a}),f=g||"",h=e?s.a.createElement(n("Yto1").a,{content:`${a}: ${f}`,position:"top",delay:0},m):m;return s.a.createElement(n("AS+m").a,null,(e=>s.a.createElement(G,{onMouseLeave:e.hide,onMouseEnter:e.show,onFocus:e.show,onBlur:e.hide,
"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-current-issue-container"},b,h,(e=>e?s.a.createElement(n("Mx8q").a,{id:"BreadcrumbCurrentIssue",label:p,fullIssueUrl:l,onCopyClick:d,isVisible:e.isVisible}):s.a.createElement(n("Ti7D").a,{label:p,tooltipDelay:0,tooltipLabel:p,tooltipLabelPosition:"top",shouldFitContainer:!0,value:l,hideFieldText:!0,remountOnChange:!0,onCopyClick:d},s.a.createElement(H,{appearance:"subtle-link",iconBefore:s.a.createElement(n.n(n("JyIQ")).a,{size:"small",label:p}),spacing:"compact"})))(e))))};ue.displayName="BreadcrumbCurrentIssueOld";const pe=({isVisible:e,fullIssueUrl:t,onCopyClick:a})=>{const{formatMessage:i}=Object(n("NRyt").d)(),o=i(N.copy);return s.a.createElement(n("Mx8q").a,{id:"BreadcrumbCurrentIssue",label:o,fullIssueUrl:t,onCopyClick:a,isVisible:e})};pe.displayName="CopyLink";const me=({isSimplifiedProject:e,issueKey:t,relativeIssueUrl:a,onClick:i})=>{const[{value:o}]=Object(n("J3sU").a)({issueKey:t}),r=o||""
;return e?s.a.createElement(n("Yto1").a,{content:`${t}: ${r}`,position:"top",delay:0},s.a.createElement(n("k6/K").a,{key:"issueKeyBreadcrumbItem",href:a,onClick:i,text:t,target:"_blank"})):s.a.createElement(n("k6/K").a,{key:"issueKeyBreadcrumbItem",href:a,onClick:i,text:t,target:"_blank"})},be=({isSimplifiedProject:e=!1,isIssueTypeFieldEditable:t=!1,issueKey:i=Object(n("Rp3N").n)(""),issueTypeName:o="",issueTypeIconUrl:r="",relativeIssueUrl:l="",fullIssueUrl:c="",onClick:d=I.a,onCopyClick:u=I.a})=>{const[p,m]=Object(a.useState)(!1),b=()=>m(!0),g=()=>m(!1);return s.a.createElement(G,{onMouseLeave:g,onMouseEnter:b,onFocus:b,onBlur:g,"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-current-issue-container"},t?s.a.createElement(ie,{key:"issueTypeChanger",icon:s.a.createElement(n("Opng").a,{url:r,alt:o})}):s.a.createElement(de,{issueTypeName:o,issueTypeIconUrl:r}),s.a.createElement(me,{isSimplifiedProject:e,issueKey:i,relativeIssueUrl:l,onClick:d
}),s.a.createElement(pe,{isVisible:p,fullIssueUrl:c,onCopyClick:u}))};be.displayName="BreadcrumbCurrentIssueNew";var ge=Object(n("5WHm").a)(n("d90y").isMagmaRenderCostOptimisationEnabled,be,ue);class fe extends a.Component{constructor(...e){super(...e),this.state={isHovered:!1},this.onHoveredChange=e=>()=>{this.setState({isHovered:e})}}renderBreadcrumbsItem(){const{isSimplifiedProject:e,parentIssue:t,issueHierarchyLevel:a,onClick:i}=this.props,{key:o,summary:r,url:l}=t;let c=o;return Object(n("d90y").isFixBreadcrumbEpicLinkUpdateBugEnabled)()?0===a&&e&&(c=r):0===a&&(c=r),s.a.createElement(n("Yto1").a,{content:`${o}: ${r}`,position:"top",delay:0},s.a.createElement(n("k6/K").a,{href:l,onClick:i,text:_(c),truncationWidth:e?void 0:300,hasSeparator:!0}))}render(){const{isSimplifiedProject:e,isDisabled:t,parentIssue:n,issueHierarchyLevel:a}=this.props,{key:i,issueTypeName:o,issueTypeIconUrl:r}=n,l=this.renderBreadcrumbsItem();return e?s.a.createElement(G,{
"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-parent-issue-container",onMouseEnter:t?void 0:this.onHoveredChange(!0),onMouseLeave:t?void 0:this.onHoveredChange(!1),shouldTruncate:!0},s.a.createElement(A,{isDisabled:t,issueKey:i,issueTypeName:o,issueTypeIconUrl:this.state.isHovered?"":r,issueHierarchyLevel:a,onSelect:this.onHoveredChange(!1)}),l):s.a.createElement(G,{"data-test-id":"issue.views.issue-base.foundation.breadcrumbs.breadcrumb-parent-issue-container"},l)}}fe.displayName="BreadcrumbParentIssue",fe.defaultProps={isSimplifiedProject:!1,isDisabled:!0,issueHierarchyLevel:0,onClick:I.a};var he=({shouldShowProjectLevelBreadcrumb:e=!1,projectName:t="",projectUrl:a="",projectAvatarUrl:i="",onClick:o=I.a})=>{const r=Boolean(e&&t&&a),l=s.a.createElement(n("Opng").a,{url:i,alt:t}),c=s.a.createElement(B,null,s.a.createElement(q,null,l)),d=s.a.createElement(n("k6/K").a,{href:a,onClick:o,text:_(t),truncationWidth:0,iconBefore:c,hasSeparator:!0})
;return r&&s.a.createElement(Y,null,s.a.createElement(n("Yto1").a,{content:t,position:"top",delay:0},d))};class Ee extends a.Component{constructor(...e){super(...e),this.onClick=e=>{this.props.onClick(e)},this.onProjectClick=e=>{if(e.ctrlKey||e.metaKey||e.shiftKey)return;e.preventDefault();const{projectUrl:t,onProjectClick:n}=this.props;t&&n(t,this.props.pushAction)},this.onParentClick=e=>t=>{if(t.ctrlKey||t.metaKey||t.shiftKey)return;t.preventDefault();const{onParentClick:a,issueKey:s}=this.props;a({childIssueKey:s,parentIssueKey:Object(n("Rp3N").n)(e),onIssueKeyChange:this.props.onIssueKeyChange})},this.onRootBreadcrumbClick=e=>{if(e.ctrlKey||e.metaKey||e.shiftKey)return;const{onRootBreadcrumbClick:t}=this.props;t()}}componentDidMount(){this.props.onExperienceSuccess()}render(){
const{error:e,isSimplifiedProject:t,isLoadingComplete:a,shouldShowProjectLevelBreadcrumb:i,shouldShowRootProjectsBreadcrumb:o,projectName:r,projectUrl:l,projectAvatarUrl:c,parentIssues:d,isIssueTypeFieldEditable:u,issueKey:p,issueTypeName:m,issueTypeIconUrl:b,relativeIssueUrl:g,fullIssueUrl:f,onCopyClick:h,intl:{formatMessage:E},canLinkToParent:y,issueHierarchyLevel:O,parentLevelIssueTypeNames:v}=this.props,j=d.length>0,I=y&&null===e&&a,C=t&&0===O&&I;return s.a.createElement(W,null,s.a.createElement(n("FeQ/").a,{maxItems:5},o&&s.a.createElement(n("k6/K").a,{href:"/jira/projects",text:E(N.rootProjectsLink),onClick:this.onRootBreadcrumbClick}),s.a.createElement(he,{shouldShowProjectLevelBreadcrumb:i,projectName:r,projectUrl:l,projectAvatarUrl:c,onClick:this.onProjectClick}),j?d.map(((e,n)=>s.a.createElement(fe,{key:n,isSimplifiedProject:t,isDisabled:!I,parentIssue:e,issueHierarchyLevel:O,onClick:this.onParentClick(e?e.key:"")}))):C&&s.a.createElement(J,{issueTypeName:v[0]
}),s.a.createElement(ge,{isSimplifiedProject:t,isIssueTypeFieldEditable:u,issueKey:p,issueTypeName:m,issueTypeIconUrl:b,relativeIssueUrl:g,fullIssueUrl:f,onClick:this.onClick,onCopyClick:h})))}}Ee.displayName="IssueBreadcrumbs",Ee.displayName="IssueBreadcrumbs",Ee.defaultProps={isSimplifiedProject:!1,isLoadingComplete:!1,issueTypeName:"",issueTypeIconUrl:"",issueHierarchyLevel:0,shouldShowRootProjectsBreadcrumb:!1,error:null,parentIssues:[],onCopyClick:I.a,onExperienceSuccess:I.a};const ye=["projectName","projectAvatarUrl"],Oe=e=>{let{projectName:t,projectAvatarUrl:a}=e,i=g()(e,ye);const{push:r}=Object(o.r)(),l=Object(n("ovRs").i)(),c=Object(n("ovRs").h)(),d=Object(n("NRyt").d)();return s.a.createElement(n("ho8o").a,{id:"issue.issue-view.foundation.breadcrumbs"},s.a.createElement(Ee,m()({pushAction:r,onIssueKeyChange:l,issueKey:c,projectName:t||"",projectAvatarUrl:a||"",intl:d},i)))};Oe.displayName="IssueBreadcrumbsWithHooks"
;var ve=h()(Object(n("SGpu").a)("breadcrumbs",n("kJVM").a.SCREEN),Object(n("CVeC").c)("breadcrumbs"),Object(n("QURJ").a)("breadcrumbsItem",{onRootBreadcrumbClick:"clicked",onProjectClick:"clicked",onParentClick:"clicked",onClick:"clicked"}),Object(n("4zF2").a)({onCopyClick:"copyUrlLink",onRootBreadcrumbClick:"navigateToProjectsList",onProjectClick:"navigateToProject",onParentClick:"navigateToParentIssue",onClick:"navigateToCurrentIssue"}),Object(n("BxXc").a)((e=>({onClick:()=>{e("full.issue.view")},onParentClick:()=>{e("parent-issue.view")},onProjectClick:()=>{e("project.view")},onRootBreadcrumbClick:()=>{e("projects-list.view")}}))),Object(i.connect)((e=>{const t=Object(n("/LFc").u)(e);return{error:Object(n("/LFc").i)(e),isSimplifiedProject:t,isLoadingComplete:Object(n("/LFc").n)(e),issueSummary:Object(n("KSj7").p)("summary")(e)||"",relativeIssueUrl:Object(n("SXNk").j)(e),fullIssueUrl:Object(n("SXNk").b)(e),issueTypeName:Object(n("SXNk").h)(e),issueTypeIconUrl:Object(n("SXNk").f)(e),
parentIssues:Object(n("SXNk").c)(t)(e),projectName:O(e),projectUrl:Object(n("XtNG").j)(Object(n("4dgq").f)(e),Object(n("4dgq").A)(e)),projectAvatarUrl:v(e),isIssueTypeFieldEditable:Object(n("SXNk").d)(e),canLinkToParent:Object(n("Hxy2").a)(e),issueHierarchyLevel:!t&&Object(n("d90y").isFixBreadcrumbEpicLinkUpdateBugEnabled)()?Object(n("SXNk").e)(e):Object(n("Hxy2").b)(e),parentLevelIssueTypeNames:Object(n("Hxy2").f)(e)}}),(e=>({onParentClick:({childIssueKey:t,parentIssueKey:a,onIssueKeyChange:s})=>{s&&s({fromIssueKey:t,toIssueKey:a,meta:{location:"breadcrumbs"}}),__SPA__||e(Object(n("5JtD").c)({fromIssueKey:t,toIssueKey:a}))},onProjectClick:(t,a)=>{e(Object(n("5JtD").d)(t,a))}}))),Object(n("jAv3").a)((e=>{const t=Object(n("4dgq").b)(e),a=Object(n("/LFc").u)(e),s=y(e);return{attributes:{issueHierarchyLevel:Object(n("Hxy2").b)(e),analyticsSource:`issue-view (${String(t)})`,nextGenProject:a,projectConfig:a?"next-gen":"classic"},containerType:"project",containerId:s?`${s.projectId}`:""}
})))(Oe);const je=Object(c.default)(n("j5N9").b).withConfig({componentId:"sc-11ffbsq-0"})`margin-left:0;`,Ie=c.default.div.withConfig({componentId:"sc-11ffbsq-1"})`display:flex;align-items:center;flex-grow:1;overflow:visible;font-size:${e=>e.isCompact?"12px":null};[dir='rtl'] &{padding-left:0;padding-right:${n("j5N9").d}px;}`,Ce=({error:e=null,isCompact:t,shouldShowProjectLevelBreadcrumb:a,shouldShowRootProjectsBreadcrumb:i=!1})=>{const o=Object(n("ovRs").b)();return null!==e?null:s.a.createElement(je,null,s.a.createElement(Ie,{isCompact:t},void 0!==o&&s.a.createElement(u,{url:o}),s.a.createElement(ve,{externalId:"issue",shouldShowProjectLevelBreadcrumb:a,shouldShowRootProjectsBreadcrumb:i})))};Ce.displayName="HeaderBreadcrumbsView";const Se=Object(n("v5q+").a)([Object(i.connect)((e=>({error:Object(n("/LFc").i)(e)})),{}),n("q06Z").a])(Ce)},ZRZC:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("DzJC"),o=n.n(i);class r extends a.Component{constructor(e){super(e),this.state={
shouldShowKeyline:!1},this.getScrollContainerDeprecated=()=>(this.scrollContainer||(this.scrollContainer=Object(n("410N").a)(this.innerEl.current)),this.scrollContainer),this.calculateShouldShowKeyline=o()((()=>{const e=!0===this.props.shouldUseDeprecatedScrollParent?this.getScrollContainerDeprecated():this.props.scrollContainer,t=this.innerEl.current;if(!e||!t)return;const n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),s=Math.max(n.top,0),i=e.scrollTop>0&&a.top<=s;i!==this.state.shouldShowKeyline&&this.setState({shouldShowKeyline:i})}),100),this.scrollContainer=null,this.innerEl=void 0,this.innerEl=Object(a.createRef)()}componentDidMount(){if(!Object(n("QU8M").e)()){const e=!0===this.props.shouldUseDeprecatedScrollParent?this.getScrollContainerDeprecated():this.props.scrollContainer;e&&e.addEventListener("scroll",this.calculateShouldShowKeyline),!0===this.props.shouldUseDeprecatedScrollParent&&this.calculateShouldShowKeyline()}}componentDidUpdate(e){
if(!0===this.props.shouldUseDeprecatedScrollParent)return;const{scrollContainer:t}=e,{scrollContainer:n}=this.props;!t&&n&&n.addEventListener("scroll",this.calculateShouldShowKeyline),t&&n&&t!==n&&(t.removeEventListener("scroll",this.calculateShouldShowKeyline),n.addEventListener("scroll",this.calculateShouldShowKeyline)),t&&!n&&t.removeEventListener("scroll",this.calculateShouldShowKeyline)}componentWillUnmount(){if(!Object(n("QU8M").e)()){const e=!0===this.props.shouldUseDeprecatedScrollParent?this.getScrollContainerDeprecated():this.props.scrollContainer;e&&e.removeEventListener("scroll",this.calculateShouldShowKeyline)}}render(){return s.a.createElement(n("wUly").a,{topOffset:0,id:this.props.elementId,showKeyline:this.state.shouldShowKeyline,innerRef:this.innerEl,customStyles:this.props.customStyles},this.props.children)}}r.displayName="StickyHeaderContainer";const l=({shouldUseDeprecatedScrollParent:e=!1,scrollContainer:t,elementId:i,children:r,customStyles:l})=>{
const[c,d]=Object(a.useState)(!1),[u,p]=Object(a.useState)(null),m=Object(a.useRef)(null),b=Object(a.useCallback)((t=>{m.current=t,e&&p(Object(n("410N").a)(t))}),[e]),g=Object(a.useMemo)((()=>{var n;return null!==(n=e?u:t)&&void 0!==n?n:null}),[e,u,t]),f=Object(a.useMemo)((()=>o()((()=>{if(g&&m.current){const e=m.current.getBoundingClientRect(),t=g.getBoundingClientRect(),n=Math.max(t.top,0),a=g.scrollTop>0&&e.top<=n;d(a)}}),100)),[g]);return Object(a.useEffect)((()=>(f(),g&&g.addEventListener("scroll",f),()=>{g&&g.removeEventListener("scroll",f)})),[g,f]),s.a.createElement(n("wUly").a,{topOffset:0,id:i,showKeyline:c,innerRef:b,customStyles:l},r)};l.displayName="StickyHeader";t.a=Object(n("5WHm").a)(n("d90y").isRefactorStickyHeaderToFunctionalComponentEnabled,l,r)},ZT6O:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));const a=n("RGCN").a.custom({key:"issue-view-load",virtual:!0,timings:[{key:"preview",
startMark:"metrics_init",endMark:"ISSUE_PREVIEW_RENDERED"},{key:"legacy-tti-2021",startMark:"metrics_init",endMark:"ISSUE_LEGACY_INTERACTIVE"},{key:"startDataFetch",startMark:"ISSUE_START_FETCHING_DATA",endMark:"ISSUE_FETCHED_MARK"},{key:"timeBlockedOnBackend",startMark:"ISSUE_READY_FOR_DATA",endMark:"ISSUE_DATA_AVAILABLE"}]}),s=n("RGCN").a.custom({key:"issue-view-on-page-load",timings:[{key:"issue-mounted",endMark:"ISSUE_MOUNTED"},{key:"latest-lcp",endMark:"LCP_CANDIDATE"}]}),i=n("RGCN").a.custom({key:"embedded-issue-view-load",until:a,include:[a]});n("RGCN").a.pageLoad({key:"service-management.queues.issue"}),n("RGCN").a.pageLoad({key:"service-management.reports.issue"})},ZseP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").B,(e=>Boolean(e&&e.id)))},a0Vs:function(t,n,a){"use strict";var s=a("56YH"),i=a.n(s),o=a("pVnL"),r=a.n(o),l=a("q1tI"),c=a.n(l);var d=a("3tO9"),u=a.n(d),p=a("QILm"),m=a.n(p),b=a("Ku+5")
;const g=e=>({type:"SET_CONTEXT",payload:e}),f=e=>!!(e&&e.savedAt>Date.now()-36e5),h=()=>({setState:e,getState:t})=>{const n=t();Object.entries(n).forEach((([t,n])=>{f(n)||e({[t]:void 0})}))},E={setRecentIssue:(e,t)=>({setState:n,dispatch:a})=>{a(h()),n({[String(e)]:{issueState:t,savedAt:Date.now()}})},getRecentIssue:e=>({getState:t,dispatch:n})=>{n(h());const a=t()[e];return f(a)?null==a?void 0:a.issueState:void 0},getRecentIssuesCount:()=>({getState:e})=>{const t=e();return Object.values(t).filter(Boolean).length}},y=Object(a("0b8M").a)({name:"recent-issues",initialState:{},actions:E}),O=Object(a("dq9g").a)(y,{selector:null});var v=a("/MKj");const j=e=>({type:"FETCH_SCREENID_SUCCESS",payload:e&&e.data});var I=Object(v.connect)((e=>({isSimplifiedProject:Object(a("/LFc").u)(e)})),{fetchScreenIdRequest:()=>({type:"FETCH_SCREENID_REQUEST"})})((e=>{const{fetchScreenIdRequest:t,isSimplifiedProject:n}=e;return Object(l.useEffect)((()=>{n||t()}),[t,n]),null})),C=a("3tWz"),S=a.n(C)
;var k=a("peh1");const w=Object(k.createSelector)(a("4dgq").i,a("/LFc").D,((e,t)=>[Object(a("SciL").a)(e,t)])),T=["cloudId","projectId"],D=[a("skLc").g,a("skLc").b];var R=Object(v.connect)((e=>({channels:w(e),cloudId:Object(a("4dgq").i)(e),projectId:Object(a("/LFc").D)(e),issueId:Object(a("4dgq").v)(e)})),{realtimeUpdateCurrentIssue:e=>({type:"REALTIME_UPDATE_CURRENT_ISSUE",payload:e})},((e,t)=>({channels:e.channels,events:D,cloudId:e.cloudId,projectId:e.projectId,onJoin:(t,n)=>{Object(a("yy8q").b)(n,"channel joined","Realtime",{cloudId:e.cloudId,projectId:e.projectId,issueId:e.issueId,channels:S()(e.channels)})},onReceive:(n,s)=>{n&&n.payload.issueId===Number(e.issueId)&&(t.realtimeUpdateCurrentIssue({atlassianId:n.payload.atlassianId,updateType:n.type}),Object(a("yy8q").b)(s,"event received","Realtime",{cloudId:e.cloudId,projectId:e.projectId,issueId:e.issueId,eventType:n.type}))},onLeave:(t,n)=>{Object(a("yy8q").b)(n,"channel left","Realtime",{cloudId:e.cloudId,
projectId:e.projectId,issueId:e.issueId,channels:S()(e.channels)})}})))((e=>{let{cloudId:t,projectId:n}=e,s=m()(e,T);return t&&n?c.a.createElement(a("W9BM").a,r()({appId:"issue-view"},s)):null})),L=a("bpk+"),M=a.n(L);a("hf+U");const A=e=>({type:"FETCH_ISSUE_REMOTE_DATA_REQUEST",payload:e}),_=e=>({type:"FETCH_ISSUE_REMOTE_DATA_SUCCESS",payload:e}),N=(e,t)=>({type:"FETCH_LOGGED_IN_USER_SUCCESS",payload:{user:e,applicationRoles:t}});var x=a("fvjX"),U=a("c9yz"),F=a("L+FH"),P=a("vN+2"),V=a.n(P),K=a("M6kn");const $=e=>"string"==typeof e?""!==e.trim():!Object(a("IJwP").g)(e);var W=e=>{const{comment:t}=e;return!!t&&("string"==typeof t?""!==t.trim():!Object(a("IJwP").g)(t))};const B=e=>{const{accountId:t,displayName:n=null,avatarUrls:a=null}=e;return{accountId:t,displayName:n,avatarUrl:a&&a["48x48"]}},q=e=>{const{id:t,author:n=null,updateAuthor:s=null,timeSpent:i,started:o,created:r,updated:l,comment:c=null}=e,d=l!==r;return{id:t,author:n&&B(n),timeSpent:i,
started:Object(a("5wMr").a)(new Date(o)),updated:d?Object(a("5wMr").a)(new Date(l)):null,updateAuthor:d&&s?B(s):null,comment:Object(a("IJwP").h)(c)}},H=e=>e.map(q),G=new Set(["FETCH","FETCH_MORE","FETCH_SORTED","FETCH_SURROUNDING"]),Y=(t,n,s,i,o)=>{let r=null,l=null;if(null!==i)try{const{appEditions:e}=Object(a("S57X").h)();r=Object(a("YXYM").f)(i),l=Object(a("JMkI").f)(r,e)}catch(e){}return{experience:G.has(n)?"worklogFetch":"worklogUpdate",wasExperienceSuccesful:t,analyticsSource:s,application:r,edition:l,additionalAttributes:u()({action:n},null!=o?{errorMessage:o}:{})}};var Z=a("3WX/"),X=a.n(Z),J=a("cr+I");const z=(e,t)=>`${e}/rest/internal/3/issue/${t}/worklog`,Q=({startAt:e=0,orderBy:t,worklogId:n,maxResults:a,issueKey:s,worklogAmount:i})=>{const o=null!=n?`, worklogId: "${n}"`:""
;return`query {\n        viewIssue(issueKey: "${s}") {\n            worklogs (${`startAt: ${e}`}${""===o&&null!=a?`, maxResults: ${a}`:""}${null!=t?`, orderBy: "${t}"`:""}${o}${null!=i?`, worklogAmount: ${i}`:""}) {\n                nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                timeSpent\n                started\n                updated\n                created\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                comment\n            }\n            totalCount\n            startIndex\n            }\n        }\n    }`},ee=e=>!e;var te=Object(F.combineEpics)(((e,t)=>e.ofType(a("M+5/").a).switchMap((e=>{
const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("Rp3N").n)(Object(a("4dgq").w)(n)),o=Object(a("/LFc").G)(n),r=Object(a("gnYg").h)(n),l=Object(a("gnYg").i)(n),c=Object(a("rYoG").a)(r.daysPerWeek,r.hoursPerDay),{payload:{values:d},meta:{analyticsEvent:p}}=e,{timeRemaining:m,workDescription:b}=d||{},g=!!$(b)&&Object(a("IJwP").d)(b);return K.Observable.from(((e,t,n)=>{const{timeLoggedSeconds:s,workDescription:i,timeRemaining:o,timeRemainingSeconds:r,dateStarted:l}=n||{},c=Object(a("4A5X").a)(s||0),d=o?Object(a("4A5X").a)(r||0):o,u=X()({adjustEstimate:d?"new":"auto",newEstimate:d},ee),p=`${z(e,t)}?${Object(J.stringify)(u)}`;return Object(a("/rpS").d)(p,{body:JSON.stringify({timeSpent:c,comment:i,started:l?Object(a("sWYD").a)(Object(a("4+6U").a)(l),"yyyy-MM-dd'T'HH:mm:ss.SSSxx"):void 0})})})(s,i,d)).mergeMap((e=>{const t=q(e),n=W(t);Object(a("w49h").a)(p,{action:"added",actionSubjectId:t.id,attributes:{withComment:n}});const s=(l.timeSpentSeconds||0)+e.timeSpentSeconds
;Object(a("/dKO").a)(Y(!0,"ADD","addWorklogEpic",o));const i="number"==typeof d.timeRemainingSeconds?c(Object(a("4A5X").a)(d.timeRemainingSeconds)):null,r=null!==i?u()(u()({},l),{},{timeSpentSeconds:s,remainingEstimateSeconds:i}):u()(u()({},l),{},{timeSpentSeconds:s});return K.Observable.of(Object(a("M+5/").o)(e.id,r,{shouldFetchViewContext:g}),Object(a("M+5/").F)(e.id))})).catch((e=>{const{timeLogged:t}=d,n={logTimeLength:t&&t.length,remainingTimeLength:m&&m.length};if(Object(a("d90y").isWorklogUpdateSloStatusCheckEnabled)()){const{statusCode:t}=e,s=Boolean(t&&[400,401,404].includes(t));return Object(a("HQr3").c)(e)||Object(a("/dKO").a)(Y(s,"ADD","addWorklogEpic",o,s?void 0:e.message)),s||a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.add-worklog",`Failed to save new worklog with input lengths: ${JSON.stringify(n)}`,e),K.Observable.of(Object(a("M+5/").m)())}return!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"ADD","addWorklogEpic",o,e.message)),
a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.add-worklog",`Failed to save new worklog with input lengths: ${JSON.stringify(n)}`,e),K.Observable.of(Object(a("M+5/").m)())}))}))),((e,t)=>e.ofType(a("M+5/").l).switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("/LFc").l)(n),o=Object(a("/LFc").G)(n),r=Object(a("gnYg").h)(n),l=Object(a("rYoG").a)(r.daysPerWeek,r.hoursPerDay),{payload:{timeRemaining:c},meta:{analyticsEvent:d}}=e,u=Object(a("4A5X").a)(l(c)||0);return K.Observable.from(((e,t,n)=>Object(a("/rpS").d)(`${e}/secure/AjaxIssueAction.jspa?decorator=none`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(J.stringify)({issueId:t,timetracking_remainingestimate:n,timetracking_targetsubfield:"timetracking_remainingestimate",fieldsToForcePresent:"timetracking",singleFieldEdit:!0,skipScreenCheck:!0,atl_token:Object(a("sN5M").a)()})}))(s,i,u)).do((()=>{Object(a("/dKO").a)(Y(!0,"ADD","updateTimeRemainingEpic",o)),
Object(a("w49h").a)(d,{action:"time-remaining-updated"})})).map((()=>Object(a("M+5/").P)(l(u)))).catch((e=>{const t=u&&u.length;if(Object(a("d90y").isWorklogUpdateSloStatusCheckEnabled)()){const{statusCode:n}=e,s=Boolean(n&&[400,401,404].includes(n));return Object(a("HQr3").c)(e)||Object(a("/dKO").a)(Y(s,"ADD","updateTimeRemainingEpic",o,s?void 0:e.message)),s||a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.update-time-remaining",`Failed to update time remaining with input length: ${t}`,e),K.Observable.of(Object(a("M+5/").N)())}return!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"ADD","updateTimeRemainingEpic",o,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.update-time-remaining",`Failed to update time remaining with input length: ${t}`,e),K.Observable.of(Object(a("M+5/").N)())}))})))),ne=(e,t,n,s,i)=>((e,t,n,s,i)=>Object(a("/rpS").a)(`${z(e,t)}/${n}?adjustEstimate=${i?`new&newEstimate=${s}`:"leave"}`))(e,t,n,s,i)
;const ae=(e,t)=>e.ofType(a("M+5/").c).switchMap((()=>{const e=t.getState();if(Object(a("gnYg").g)(e).length>0)return K.Observable.empty();const n=Object(a("gnYg").n)(e),s=Object(a("gnYg").k)(e),i=Object(a("Hc0Y").b)(e);if(n>0)return"NEWEST_FIRST"===i?K.Observable.of(Object(a("M+5/").x)()):K.Observable.of(Object(a("M+5/").z)());return s>n?"NEWEST_FIRST"===i?K.Observable.of(Object(a("M+5/").z)()):K.Observable.of(Object(a("M+5/").x)()):K.Observable.empty()})),se=e=>(t,n)=>t.ofType(a("M+5/").b).switchMap((({payload:{worklogId:t,timeRemaining:s,isAdjustTimeRemainingChecked:i},meta:{analyticsEvent:o}})=>{const r=n.getState(),l=Object(a("4dgq").f)(r),c=Object(a("Rp3N").n)(Object(a("4dgq").w)(r)),d=Object(a("/LFc").G)(r),u=Object(a("gnYg").m)(r)[t],p=u&&u.comment,m=null!==p&&Object(a("IJwP").d)(p),{daysPerWeek:b,hoursPerDay:g}=Object(a("gnYg").h)(r),f=Object(a("rYoG").a)(b,g),h=Object(a("4A5X").a)(f(s)||0);return K.Observable.from(ne(l,c,t,h,i)).map((()=>{const n=Object(a("gnYg").m)(r)[t]
;return m&&e.refreshAttachments(Object(a("Rp3N").n)(c)),Object(a("M+5/").s)(t,((e,t,n)=>{const s=Object(a("gnYg").h)(e),i=Object(a("rYoG").a)(s.daysPerWeek,s.hoursPerDay);return{timeSpentSecondsDelta:-(i(t.timeSpent)||0),newRemainingEstimateSeconds:i(n)}})(r,n,h))})).do((()=>{Object(a("/dKO").a)(Y(!0,"DELETE","deleteWorklogEpic",d)),Object(a("w49h").a)(o,{action:"deleted",actionSubjectId:t,attributes:{timeAdjusted:i}})})).catch((e=>{if(Object(a("d90y").isWorklogUpdateSloStatusCheckEnabled)()){const{statusCode:n}=e,s=Boolean(n&&[400,401,404].includes(n));return Object(a("HQr3").c)(e)||Object(a("/dKO").a)(Y(s,"DELETE","deleteWorklogEpic",d,s?void 0:e.message)),s||a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.delete-worklog",`Could not delete worklog '${t}'`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").q)())}
return!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"DELETE","deleteWorklogEpic",d,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.delete-worklog",`Could not delete worklog '${t}'`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").q)())}))}));const ie=()=>({type:"FETCH_VIEW_CONTEXT_REQUEST"}),oe=e=>({type:"FETCH_VIEW_CONTEXT_SUCCESS",payload:e}),re=e=>({type:"FETCH_VIEW_CONTEXT_FAILURE",payload:{error:e}}),le=()=>({type:"MARK_TOKEN_AS_OUTDATED"});var ce=a("TP7S"),de=a.n(ce);var ue=(e,t,n,s)=>Object(a("/rpS").e)(((e,t,n,s)=>{const i=s.timeRemaining?Object(a("4A5X").a)(s.timeRemainingSeconds||0):s.timeRemaining,o=i?`?adjustEstimate=new&newEstimate=${i}`:"?adjustEstimate=leave";return`${z(e,t)}/${n}${o}`})(e,t,n,s),(e=>{const t=Object(a("4A5X").a)(e.timeLoggedSeconds||0);return{body:JSON.stringify(X()({timeSpent:t,
started:e.dateStarted?Object(a("sWYD").a)(Object(a("4+6U").a)(e.dateStarted),"yyyy-MM-dd'T'HH:mm:ss.SSSxx"):void 0,comment:e.workDescription},de.a))}})(s));const pe=[400,401,404];var me=(e,t)=>e.ofType(a("M+5/").d).switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("Rp3N").n)(Object(a("4dgq").w)(n)),o=Object(a("/LFc").G)(n),r=Object(a("gnYg").m)(n),{payload:{worklogId:l,values:c},meta:{analyticsEvent:d}}=e;let p=!1;return $(c.workDescription)&&(p=Object(a("IJwP").e)(r[l].comment,c.workDescription),p&&t.dispatch(le())),K.Observable.from(((e,t,n,a)=>ue(e,t,n,a).then((e=>q(e))))(s,i,l,c)).do((e=>{const t=W(e);Object(a("/dKO").a)(Y(!0,"EDIT","editWorklogEpic",o)),Object(a("w49h").a)(d,{action:"edited",actionSubjectId:l,attributes:{withComment:t}})})).mergeMap((e=>{const t=u()(u()({},r),{},{[l]:e}),s=Object(a("M+5/").w)(t,e.id,((e,t,n)=>{const s=Object(a("gnYg").h)(e),i=Object(a("rYoG").a)(s.daysPerWeek,s.hoursPerDay),o=Object(a("gnYg").m)(e)[t.id]
;if(!o)return a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.edit-worklog","Could not find existing worklog with matching ID when editing a worklog and calculating time tracking deltas."),{timeSpentSecondsDelta:0,newRemainingEstimateSeconds:i(n)};const r=i(o.timeSpent)||0,l=(i(t.timeSpent)||0)-r;let c=i(n);return"number"==typeof c&&(c=i(Object(a("4A5X").a)(c))),{timeSpentSecondsDelta:l,newRemainingEstimateSeconds:c}})(n,e,c.timeRemaining),{shouldFetchViewContext:p});return e.started!==r[l].started?K.Observable.of(s,Object(a("M+5/").F)(l)):K.Observable.of(s)})).catch((e=>{const{statusCode:t}=e;if(Object(a("d90y").isWorklogUpdateSloStatusCheckEnabled)()){const n=Boolean(t&&[400,401,404].includes(t));return Object(a("HQr3").c)(e)||Object(a("/dKO").a)(Y(n,"EDIT","editWorklogEpic",o,n?void 0:e.message)),n||a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.edit-worklog","Failed to save edited worklog:",new(a("8r8e").a)({eventNameSuffix:"issue.error",
type:"js",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").u)())}return t&&pe.includes(e.statusCode)?Object(a("/dKO").a)(Y(!0,"EDIT","editWorklogEpic",o)):(!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"EDIT","editWorklogEpic",o,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.edit-worklog","Failed to save edited worklog:",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e}))),K.Observable.of(Object(a("M+5/").u)())}))}));var be=({startAt:e,orderBy:t,baseUrl:n,issueKey:s,maxResults:i})=>Object(a("K4VI").a)(`${n}/rest/gira/1/`,{method:"POST",body:JSON.stringify({query:Q({startAt:e,orderBy:t,maxResults:i,issueKey:s})})});const ge=["updateAuthor","updated","comment","created"],fe={NEWEST_FIRST:"-started",OLDEST_FIRST:"started"},he=e=>{const{totalCount:t,nodes:n,startIndex:s}=e.viewIssue.worklogs,i=n.map((e=>{let{updateAuthor:t=null,updated:n,comment:s,created:i}=e,o=m()(e,ge);const r=n!==i;return u()(u()({},o),{},{
updated:r?n:null,updateAuthor:r&&t?t:null,comment:Object(a("IJwP").a)(s)})})),o=i.reduce(((e,t)=>u()(u()({},e),{},{[t.id]:t})),{});return{sortedWorklogIds:i.map((e=>e.id)),totalWorklogs:t,worklogs:o,startIndex:s||0}};var Ee=(e,t,n,s,i,o,r)=>be({baseUrl:e,issueKey:t,maxResults:n,orderBy:fe[s],startAt:i}).map(a("xWb8").a).map((e=>Object(a("xWb8").b)("issue.worklogs.fetch.epic.gira",e))).map(he).map((e=>((e,t,n,s)=>{let i;return i=t===a("M+5/").e?Math.max("NEWEST_FIRST"===n?s-e.sortedWorklogIds.length:s,0):Math.max("NEWEST_FIRST"===n?s:s-e.sortedWorklogIds.length,0),u()(u()({},e),{},{startIndex:i})})(e,o,s,r)));const ye=(e,t,n,s,i)=>{let o=0,r=0;return e===a("M+5/").f?(r="NEWEST_FIRST"===i?t+s:Math.max(t-100,0),{maxResults:"NEWEST_FIRST"===i?Math.min(n-r,100):t-r,startAt:r}):(r="NEWEST_FIRST"===i?Math.max(0,t-100):t+s,o="NEWEST_FIRST"===i?t-r:Math.min(n-r,100),{maxResults:o,startAt:r})},Oe=(e,t)=>e.ofType(a("M+5/").f).switchMap((()=>{
const e=t.getState(),n=Object(a("4dgq").f)(e),s=Object(a("4dgq").w)(e),i=Object(a("/LFc").G)(e),o=Object(a("Hc0Y").b)(e),r=Object(a("gnYg").n)(e),l=Object(a("gnYg").k)(e),c=Object(a("gnYg").g)(e).length,{maxResults:d,startAt:u}=ye(a("M+5/").f,r,l,c,o);return Ee(n,s,d,o,u,a("M+5/").f,r).map((({worklogs:e,totalWorklogs:t,sortedWorklogIds:n,startIndex:s})=>(Object(a("/dKO").a)(Y(!0,"FETCH_MORE","fetchOlderSortedWorklogsEpic",i)),Object(a("M+5/").A)({worklogs:e,totalWorklogs:t,startIndex:s,sortedWorklogIds:n,selectedSortOrder:o})))).catch((e=>(!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"FETCH_MORE","fetchOlderSortedWorklogsEpic",i,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.fetch-more-sorted-worklogs","Could not fetch more sorted worklogs:",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").B)()))))})),ve=(e,t)=>e.ofType(a("M+5/").e).switchMap((()=>{
const e=t.getState(),n=Object(a("4dgq").f)(e),s=Object(a("4dgq").w)(e),i=Object(a("/LFc").G)(e),o=Object(a("Hc0Y").b)(e),r=Object(a("gnYg").n)(e),l=Object(a("gnYg").k)(e),c=Object(a("gnYg").g)(e).length,{maxResults:d,startAt:u}=ye(a("M+5/").e,r,l,c,o);return Ee(n,s,d,o,u,a("M+5/").e,r).map((({worklogs:e,totalWorklogs:t,sortedWorklogIds:n,startIndex:s})=>(Object(a("/dKO").a)(Y(!0,"FETCH_MORE","fetchNewerSortedWorklogsEpic",i)),Object(a("M+5/").y)({worklogs:e,totalWorklogs:t,startIndex:s,sortedWorklogIds:n,selectedSortOrder:o})))).catch((e=>(!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"FETCH_MORE","fetchNewerSortedWorklogsEpic",i,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.fetch-more-sorted-worklogs","Could not fetch more sorted worklogs:",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").B)()))))}))
;var je=({orderBy:e,baseUrl:t,issueKey:n,worklogAmount:s,worklogId:i})=>Object(a("K4VI").a)(`${t}/rest/gira/1/`,{method:"POST",body:JSON.stringify({query:Q({orderBy:e,worklogAmount:s,issueKey:n,worklogId:i})})});const Ie=(e,t)=>{const n=Object(a("4dgq").f)(e),s=Object(a("Rp3N").n)(Object(a("4dgq").w)(e)),i=Object(a("Hc0Y").b)(e);return((e,t,n,s,i)=>je({baseUrl:e,issueKey:t,worklogAmount:n,orderBy:fe[s],worklogId:i}).map(a("xWb8").a).map((e=>Object(a("xWb8").b)("issue.worklogs.fetch.epic.gira",e))).map(he))(n,s,Math.floor(5),i,t)},Ce=(e,t)=>e.ofType(a("M+5/").i).switchMap((e=>{const n=t.getState(),s=Object(a("/LFc").G)(n),{payload:i}=e;return Ie(n,i.worklogId).map((({totalWorklogs:e,worklogs:t,sortedWorklogIds:n,startIndex:i})=>(Object(a("/dKO").a)(Y(!0,"FETCH_SURROUNDING","fetchSurroundingWorklogsByIdEpic",s)),Object(a("M+5/").H)(n,t,i||0,e)))).catch((e=>(!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"FETCH_SURROUNDING","fetchSurroundingWorklogsByIdEpic",s,e.message)),
a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.fetch-worklog-by-id","Failed to load worklog list after adding new worklog",e),K.Observable.of(Object(a("M+5/").G)()))))}));var Se=(e,t,n,s,i)=>((e,t,n,s,i)=>Object(a("/rpS").b)(`${z(e,t)}?startAt=${n}&reverseSortOrder=${i?"true":"false"}${s?`&maxResults=${s}`:""}`))(e,t,n,s,i).then((e=>(e=>({totalWorklogs:e.total,worklogs:H(e.worklogs)}))(e)));const ke=(e,t,n,s,i,o)=>K.Observable.from(Se(e,t,i,o,!0)).do((e=>Object(a("Id/A").a)(s,{attributes:{worklogItemCount:e.worklogs.length}}))).map((({totalWorklogs:e,worklogs:t})=>{const s=t.map((e=>e.id)),i=t.reduce(((e,t)=>u()(u()({},e),{},{[t.id]:t})),{});return Object(a("/dKO").a)(Y(!0,"FETCH","fetchAndTransformWorklogs",n)),Object(a("M+5/").K)(s,i,e)})).catch((e=>(!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"FETCH","fetchAndTransformWorklogs",n,e.message)),
a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.fetch-worklogs","Could not fetch worklogs:",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").I)())))),we=(e,t)=>e.ofType(a("M+5/").j).switchMap((({payload:{baseUrl:e,issueKey:n},meta:{analyticsEvent:s}})=>{const i=t.getState(),o=Object(a("gnYg").g)(i).length,r=Object(a("/LFc").G)(i);return ke(e,n,r,s,o,10)})),Te=(e,t)=>e.ofType(a("M+5/").k).switchMap((({payload:{baseUrl:e,issueKey:n},meta:{analyticsEvent:s}})=>{const i=t.getState(),o=Object(a("/LFc").G)(i);return ke(e,n,o,s,0,5)}));var De=({baseUrl:e,issueKey:t,maxResults:n,orderBy:s})=>Object(a("K4VI").a)(`${e}/rest/gira/1/`,{method:"POST",body:JSON.stringify({query:Q({maxResults:n,issueKey:t,orderBy:s})})});const Re=(e,t)=>e.ofType(a("M+5/").g,a("M+5/").h).switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").f)(e),s=Object(a("4dgq").w)(e),i=Object(a("Hc0Y").b)(e),o=Object(a("/LFc").G)(e)
;return((e,t,n,s)=>De({baseUrl:e,issueKey:t,maxResults:n,orderBy:fe[s]}).map(a("xWb8").a).map((e=>Object(a("xWb8").b)("issue.worklogs.fetch.epic.gira",e))).map(he))(n,s,100,i).map((({worklogs:e,totalWorklogs:t,startIndex:n,sortedWorklogIds:s})=>(Object(a("/dKO").a)(Y(!0,"FETCH_SORTED","fetchSortedWorklogsRequest",o)),Object(a("M+5/").E)({worklogs:e,totalWorklogs:t,startIndex:n,sortedWorklogIds:s})))).catch((e=>(!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"FETCH_SORTED","fetchSortedWorklogsRequest",o,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.fetch-sorted-worklogs","Could not fetch sorted worklogs:",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("M+5/").B)()))))})),Le=(e,t)=>Object(F.combineEpics)(te,we,Te,Ce,(e=>(t,n)=>t.ofType("SCROLL_TO_ATTACHMENT_WORKLOG").switchMap((()=>{const t=n.getState(),s=Object(a("/LFc").G)(t),i=e.getScrollTargetId(a("nk0S").a.WORKLOG)
;return null===i?K.Observable.of():Ie(t,i).flatMap((({totalWorklogs:t,worklogs:n,sortedWorklogIds:o,startIndex:r})=>{const l={key:"Worklog",type:"Worklog",name:a("16vn").a.worklog.defaultMessage};return window.history.replaceState({},null,Object(a("LcR/").c)(i,a("bLfd").b.WORKLOG)),e.setScrollTarget(null),Object(a("/dKO").a)(Y(!0,"FETCH_SURROUNDING","fetchSurroundingWorklogsAttachmentScroll",s)),K.Observable.of(Object(a("M+5/").H)(o,n,r||0,t),Object(a("c/pv").c)(l),Object(a("M+5/").M)(!1))})).catch((e=>{!Object(a("HQr3").c)(e)&&Object(a("/dKO").a)(Y(!1,"FETCH_SURROUNDING","fetchSurroundingWorklogsAttachmentScroll",s,e.message)),a("fnbV").a.safeErrorWithoutCustomerData("issue.activity.worklog.fetch-worklog-by-id","Failed to load worklog list after attempting worklog attachment fetch",e);const{showFlag:t}=Object(a("uS5k").f)();return t({type:"error",title:[a("mxtt").a.commentWorklogAttachmentFetchFailedTitle,{field:"worklog"}],
description:a("mxtt").a.commentWorklogAttachmentFetchFailedDescription,isAutoDismiss:!0}),K.Observable.of(Object(a("M+5/").G)())}))})))(t),me,(e=>Object(F.combineEpics)(se(e),ae))(e),Re,ve,Oe),Me=(e,t)=>Le(e,t);var Ae=a("/wT/"),_e=a("3EZw");const Ne=({meta:{batch:e}={}})=>!0===e,xe=a.n(_e)()(((e,{type:t})=>e.includes(t)));var Ue=(...e)=>t=>t.pipe(Object(Ae.filter)((t=>Ne(t)?t.payload.some(xe(e)):e.includes(t.type))),Object(Ae.flatMap)((t=>Ne(t)?K.Observable.from(t.payload.filter(xe(e))):K.Observable.of(t)))),Fe=a("RPZL"),Pe=e=>/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i.test(e);const Ve=Object(a("0Lwy").a)("comment","description"),Ke=e=>{switch(e){case"AUTHENTICATION_ERROR":return"AUTHENTICATION";case"NOT_FOUND_OR_NO_PERMISSION_ERROR":return"PERMISSION";case"UNKNOWN_ERROR":case"CONNECTIVITY_ERROR":default:return"GENERIC"}
},$e=Object(a("0Lwy").a)("AUTHENTICATION","PERMISSION","GENERIC"),We=Object(a("0Lwy").a)("assignee","labels","priority","components","fixVersions","versions","com.pyxis.greenhopper.jira:gh-sprint","duedate","com.pyxis.greenhopper.jira:gh-epic-link","reporter","com.atlassian.jira.plugin.system.customfieldtypes:storypoint","description","watches","summary","timeoriginalestimate","timetracking","com.atlassian.jira.plugin.system.customfieldtypes:labels","com.atlassian.jira.plugin.system.customfieldtypes:textfield","com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker","com.atlassian.jira.plugin.system.customfieldtypes:url","com.atlassian.jira.plugin.system.customfieldtypes:float","com.pyxis.greenhopper.jira:jsw-story-points","com.atlassian.jira.plugin.system.customfieldtypes:select","com.atlassian.jira.plugin.system.customfieldtypes:multiselect","com.atlassian.jira.plugin.system.customfieldtypes:version","com.atlassian.jira.plugin.system.customfieldtypes:textarea","com.atlassian.jira.plugin.system.customfieldtypes:multiversion","com.atlassian.jira.plugin.system.customfieldtypes:datepicker","com.atlassian.jira.plugin.system.customfieldtypes:grouppicker","com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker","com.atlassian.jira.plugin.system.customfieldtypes:userpicker","com.atlassian.jira.plugin.system.customfieldtypes:flagged","com.atlassian.jira.plugin.system.customfieldtypes:datetime","com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes","com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons","com.atlassian.teams:rm-teams-custom-field-team","com.atlassian.jpo:jpo-custom-field-parent","com.atlassian.jpo:jpo-custom-field-baseline-start","com.atlassian.jpo:jpo-custom-field-baseline-end","com.pyxis.greenhopper.jira:jsw-issue-color","com.atlassian.servicedesk:vp-origin","com.atlassian.servicedesk.assets-plugin:assetfield","com.atlassian.jira.plugins.service-entity:service-entity-field-cftype","com.atlassian.servicedesk:sd-request-participants","com.atlassian.servicedesk:sd-customer-organizations","com.atlassian.servicedesk.servicedesk-lingo-integration-plugin:sd-request-language","com.atlassian.jira.plugin.system.customfieldtypes:people","com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect","com.atlassian.jira.plugin.system.customfieldtypes:project"),Be=e=>t=>({
eventData:Object(a("8c2Y").a)(t),eventNameSuffix:e}),qe=e=>e.startsWith("comment")?"comment":e,He=e=>(t,n)=>{const{payload:{fieldId:a}}=n,s=null!==a&&qe(a);return{eventNameSuffix:e,eventData:{type:Ve(s)}}},Ge=e=>(t,n)=>{const{payload:{fieldId:a}}=n,s=null!=a?qe(a):a;return{eventNameSuffix:e,eventData:{type:Ve(s)}}},Ye=e=>["updatedField","oldValId","newValId","oldValName","newValName"].filter((t=>e&&Object.hasOwnProperty.call(e,t))).reduce(((t,n)=>{const a=e&&e[n]?{[n]:e[n]}:{};return u()(u()({},t),a)}),{}),Ze=e=>({eventData:{commentCount:Object(a("ejT3").L)(e)}}),Xe=e=>{const t=(e=>e?JSON.stringify(e).length:0)(e.bodyAdf);return{isInternal:e.isInternal,charactersInCommentCount:t}};var Je={SAVE_LINKED_ISSUE_REQUEST:(e,t)=>Object(Fe.merge)(Be("issue-links.save.request"),((e,t)=>{
const{payload:{newIssueLinks:{issueLinkType:n,issueLinks:s}}}=t,i=(null!=s&&null!==s.linkedIssues&&void 0!==s.linkedIssues&&Object.keys(s.linkedIssues).length>0?Object.keys(s.linkedIssues).map((e=>s.linkedIssues[e].issueId)):[""])[0];return{eventData:{issueLinkTypeId:n.id,issueLinkTypeName:Object(a("Nt94").a)(n.label),issueLinkLinkedIssueId:i}}})(0,t)),SAVE_REMOTE_LINKED_ISSUE_REQUEST:Be("issue-links.save.request"),DELETE_LINKED_ISSUE_REQUEST:(e,t)=>Object(Fe.merge)(Be("issue-links.delete.request"),(e=>({eventData:{issueLinkTypeId:e.typeId,issueLinkTypeName:Object(a("Nt94").a)(e.typeName)}}))(Object(a("TstH").f)(t.payload.linkedIssueId)(e))),SAVE_LINKED_ISSUE_SUCCESS:Be("issue-links.save.success"),SAVE_LINKED_ISSUE_FAILURE:Be("issue-links.save.failure"),SAVE_REMOTE_LINKED_ISSUE_SUCCESS:Be("issue-links.save.success"),SAVE_REMOTE_LINKED_ISSUE_FAILURE:Be("issue-links.save.failure"),SAVE_LINKED_ISSUE_RETRY:Be("issue-links.save.retry"),
SAVE_REMOTE_LINKED_ISSUE_RETRY:Be("issue-links.save.retry"),SAVE_LINKED_ISSUE_CANCEL:Be("issue-links.save.cancel"),SHOW_DELETE_COMMENT_MODAL:Be("comment.delete.linkclicked"),FETCH_OLDER_COMMENTS_REQUEST:Be("comment.fetcholder.click"),FETCH_NEWER_COMMENTS_REQUEST:Be("comment.fetchnewer.click"),EDIT_COMMENT_BEGIN:e=>Be("comment.edit.linkclicked")(e),SAVE_COMMENT_SUCCESS:(e,t)=>Object(Fe.merge)(Be("comment.save.success")(e),{eventData:u()(u()({},Ye(t.payload)),{},{actionSubjectId:t.payload.comment.id,actionSubjectOptimisticId:t.payload.optimisticId},Xe(t.payload.comment))}),DELETE_COMMENT_REQUEST:(e,t)=>Object(Fe.merge)(Be("comment.delete.modal.confirm")(e),{eventData:u()(u()({},Ye(t.payload)),{},{actionSubjectId:t.payload.id})}),PASTED_INTO_COMMENT_FORM:(e,t)=>Object(Fe.merge)(Be("comment.paste")(e),{eventData:{isNewComment:"NEW_OPTIMISTIC_COMMENT"===t.payload.id,pastedContentLength:(t.payload.pastedContent||"").length,containsEmailAddress:Pe(t.payload.pastedContent)}}),
FETCH_ISSUE_SUCCESS:e=>Object(Fe.merge)(Be("fetchissue.succeeded")(e),Ze(e)),REFRESH_ISSUE_SUCCESS:e=>Object(Fe.merge)(Be("refreshissue.succeeded")(e),Ze(e)),REFRESH_ISSUE_REQUEST:Be("refreshissue.request"),FETCH_ISSUE_REQUEST:Be("fetchissue.request"),LOAD_NEW_ISSUE:Be("load-new-issue"),FETCH_ISSUE_FAILURE:(e,t)=>({eventNameSuffix:"fetchissue.failed",eventData:{error:$e(Ke(Object(a("/LFc").i)(e))),statusCode:t.payload.statusCode,analyticsSource:Object(a("4dgq").b)(e)}}),DELETE_DRAFT_REQUEST:He("issue.delete-draft.request"),DELETE_DRAFT_SUCCESS:He("issue.delete-draft.success"),DELETE_DRAFT_FAILURE:He("issue.delete-draft.failure"),DELETE_DRAFT_NEWER_CONTENT_FOUND:He("issue.delete-draft.replaced-by-new-content"),LOAD_DRAFT_SUCCESS:Ge("issue.load-draft.success"),LOAD_DRAFT_FAILURE:Ge("issue.load-draft.failure"),LOGIN_SUCCESSFUL:e=>({eventNameSuffix:"login.succeeded",eventData:{analyticsSource:Object(a("4dgq").b)(e)}}),FIELD_EDIT_BEGIN:(e,t)=>Object(Fe.merge)(Be("field.edit")(e),{
eventData:{fieldType:We(Object(a("KSj7").s)(t.payload.fieldId)(e)),fieldEditSessionId:t.payload.fieldEditSessionId,isReusableField:!0}}),FIELD_SAVE_REQUEST:(e,t)=>Object(Fe.merge)(Be("field.save")(e),{eventData:u()(u()({},Ye(t.payload.eventData||null)),{},{fieldType:We(Object(a("KSj7").s)(t.payload.fieldId)(e)),fieldEditSessionId:Object(a("KSj7").g)(t.payload.fieldId)(e),isReusableField:!0,issueHierarchyLevel:Object(a("Hxy2").b)(e)})}),FIELD_EDIT_CANCEL:(e,t)=>Object(Fe.merge)(Be("field.cancel")(e),{eventData:{fieldType:We(Object(a("KSj7").s)(t.payload.fieldId)(e)),fieldEditSessionId:Object(a("KSj7").g)(t.payload.fieldId)(e),isReusableField:!0}}),FIELD_PASTE:(e,t)=>Object(Fe.merge)(Be("field.paste")(e),{eventData:{fieldType:We(Object(a("KSj7").s)(t.payload.fieldId)(e)),isReusableField:!0,pastedContentLength:t.payload.pastedContent.length,containsEmailAddress:Pe(t.payload.pastedContent)}})},ze=Object(a("otOE").a)("issue")
;const Qe=["containers"],et=["attributes"],tt=["attributes"],nt=["actionSubjectId","name","tags","containerType","containerId","objectType","objectId"],at=({eventNameSuffix:e,eventData:t,analyticsEvent:n})=>{if(n)try{const e=((e,t)=>{const n=t.payload&&t.payload.action||"updated",{actionSubjectId:a,name:s,tags:i,containerType:o,containerId:r,objectType:l,objectId:c}=e;return{action:n,actionSubjectId:a,name:s,tags:i,containerType:o,containerId:r,objectType:l,objectId:c,attributes:m()(e,nt)}})(t,n);Object(a("w49h").a)(n,e)}catch(i){a("RDfz").a.safeErrorWithoutCustomerData("issue.instrumentation.trigger-analytics-action","Failed to send action track event",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:i}))}const s=(e=>{if(Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()){const{containers:t}=e,n=m()(e,Qe);if(n&&n.attributes){const{attributes:e}=n,t=m()(n,et);return u()(u()({},e),t)}return n}if(e&&e.attributes){const{attributes:t}=e,n=m()(e,tt)
;return u()(u()({},t),n)}return e})(t);ze(e,s)},st=Object.keys(Je);var it=(e,t)=>e.pipe(Ue(...st),Object(Ae.map)((e=>((e,t)=>Je[t.type]&&u()({analyticsEvent:t.payload&&t.payload.analyticsEvent},Je[t.type](e,t)))(t.getState(),e))),Object(Ae.filter)((e=>!!e)),Object(Ae.tap)(at),Object(Ae.ignoreElements)());const ot=e=>((e,t,n)=>e.delay(t.delay,n||void 0).take(t.take).concat(e.flatMap((e=>K.Observable.throw(e)))))(e,{delay:5e3,take:3});var rt=e=>({clientId:e.clientId,serviceHost:e.endpointUrl,token:e.token,tokenLifespanInMs:60*e.tokenDurationInMins*1e3,collection:e.targetCollection,tokenIssueTimestamp:Date.now()-1e4});const lt=e=>K.Observable.of(Object(a("h2xQ").b)(e)),ct=(e,t)=>Object(F.combineEpics)(((n,s)=>n.ofType("FETCH_UPLOAD_CONTEXT_REQUEST").switchMap((()=>{const n=s.getState();return((e,t,n)=>Object(a("1Xqn").a)(n,(()=>Object(a("+bN2").b)(e,t))).map(rt).map(a("h2xQ").d).catch((e=>{if(403===e.statusCode)return lt(e);throw e})).retryWhen(ot).catch(lt))(e(n),t(n))
}))),((e,t)=>e.pipe(Ue("FETCH_UPLOAD_CONTEXT_SUCCESS","CHECK_UPLOAD_CONTEXT"),Object(Ae.switchMap)((()=>{const e=t.getState(),n=Object(a("gjKp").b)(e);if(null==n||!Object(a("KSCP").a)())return K.Observable.empty();const{tokenIssueTimestamp:s,tokenLifespanInMs:i}=n,o=s+i,r=Math.max(1,o-Date.now());return K.Observable.of(Object(a("h2xQ").c)()).delay(r)})))),(e=>e.ofType("FETCH_UPLOAD_CONTEXT_FAILURE").filter((({payload:e})=>403!==e.error.statusCode)).do((({payload:e})=>{const{error:t}=e;Object(a("be7s").a)("issue.media.fetch-upload-context-error","Error when fetching media upload context",t,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",category:"media",app:"issue",event:{statusCode:t.statusCode}}))})).ignoreElements()),(()=>K.Observable.fromEvent(window,"focus").startWith(null).debounceTime(1e3).switchMap((()=>Object(a("KSCP").a)()?K.Observable.of(Object(a("h2xQ").a)()):K.Observable.empty())))),dt=()=>({type:"FETCH_USER_AUTH_REQUEST"}),ut=e=>({
type:"FETCH_USER_AUTH_SUCCESS",payload:e}),pt=e=>`${e}/rest/internal/2/media/user/credentials`,mt=e=>({clientId:e.id,token:e.token,tokenLifespanInMs:60*e.tokenDurationInMins*1e3,tokenIssueTimestamp:Date.now()-1e4}),bt=e=>K.Observable.of((e=>({type:"FETCH_USER_AUTH_FAILURE",payload:{statusCode:e}}))(e.statusCode)),gt=(e,t)=>Object(a("1Xqn").a)(t,(()=>(e=>Object(a("K4VI").a)(pt(e)).catch((e=>{throw new(a("QMRn").a)(e,pt("{baseUrl}"))})))(e))).map(mt).map(ut).catch((e=>{if(403===e.statusCode)return bt(e);throw e})).retryWhen(ot).catch(bt),ft=e=>K.Observable.of(re(e)),ht=(e,t,n,s,i)=>Object(a("1Xqn").a)(i,(()=>Object(a("d2IU").b)(e,t,n,s))).map(a("KE5V").a).map(oe),Et=(e,t,n,a,s)=>ht(e,t,n,a,s).catch((e=>{if(403===e.statusCode)return ft(e);throw e})).retryWhen(ot).catch(ft);var yt=(e,t,n,s)=>Object(F.combineEpics)(ct(e,t),((e,t,n,s)=>Object(F.combineEpics)(((i,o)=>i.ofType("FETCH_VIEW_CONTEXT_REQUEST").switchMap((()=>{const i=o.getState(),r=e(i),l=t(i),c=s.getMaxTokenLength()
;return n.refreshAttachments(Object(a("Rp3N").n)(l)),ht(r,l,c).retryWhen(ot).catch((e=>K.Observable.of(re(e))))}))),((e,t)=>e.pipe(Ue("FETCH_VIEW_CONTEXT_SUCCESS","CHECK_VIEW_CONTEXT"),Object(Ae.switchMap)((()=>{const e=t.getState(),n=Object(a("gjKp").d)(e);if(null==n||!Object(a("KSCP").a)())return K.Observable.empty();const{tokenIssueTimestamp:s,tokenLifespanInMs:i}=n,o=s+i,r=Math.max(1,o-Date.now());return K.Observable.of(ie()).delay(r)})))),(e=>e.ofType("FETCH_VIEW_CONTEXT_FAILURE").do((({payload:e})=>{const{error:t}=e;Object(a("be7s").a)("issue.media.fetch-view-context-error","Error when fetching media view context",t,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",category:"media",app:"issue",event:{statusCode:t.statusCode}}))})).ignoreElements()),(()=>K.Observable.fromEvent(window,"focus").startWith(null).debounceTime(1e3).switchMap((()=>Object(a("KSCP").a)()?K.Observable.of((()=>({type:"CHECK_VIEW_CONTEXT"
}))()):K.Observable.empty())))))(e,t,n,s),(e=>Object(F.combineEpics)(((t,n)=>t.ofType("FETCH_USER_AUTH_REQUEST").switchMap((()=>{const t=n.getState(),a=e(t);return gt(a)}))),((e,t)=>e.pipe(Ue("FETCH_USER_AUTH_SUCCESS","CHECK_USER_AUTH"),Object(Ae.switchMap)((()=>{const e=t.getState(),n=Object(a("gjKp").c)(e);if(null==n||!Object(a("KSCP").a)())return K.Observable.empty();const{tokenIssueTimestamp:s,tokenLifespanInMs:i}=n,o=s+i,r=Math.max(1,o-Date.now());return K.Observable.of(dt()).delay(r)})))),(e=>e.ofType("FETCH_USER_AUTH_FAILURE").filter((({payload:e})=>403!==e.statusCode)).do((({payload:e})=>{Object(a("be7s").a)("issue.media.fetch-user-auth-error","Error when fetching media user auth",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",category:"media",app:"issue",event:{statusCode:e.statusCode}}))})).ignoreElements()),(()=>K.Observable.fromEvent(window,"focus").startWith(null).debounceTime(1e3).switchMap((()=>Object(a("KSCP").a)()?K.Observable.of((()=>({
type:"CHECK_USER_AUTH"}))()):K.Observable.empty())))))(e));let Ot;const vt=(e,t)=>{const{payload:{fieldId:n,draftKey:s}}=e;if(n)return((e,t)=>{const n=Object(a("4dgq").w)(e),s=Object(a("4dgq").a)(e),i=Object(a("RRLO").c)(s,n,t),o=Object(a("RRLO").b)(i);return Ot.remove(i),Ot.remove(o),K.Observable.of(Object(a("UWLJ").c)(t))})(t,n);const i=Object(a("RRLO").d)(s);return s?(e=>{const t=Object(a("RRLO").b)(e);return Ot.remove(e),Ot.remove(t),K.Observable.of(Object(a("UWLJ").c)(e))})(i).catch((e=>(Object(a("be7s").a)("issue.draft.delete","Failed to delete a draft.",e),K.Observable.of(Object(a("UWLJ").a)(i,e))))):K.Observable.empty()};var jt=(e,t)=>(Ot=Object(a("iY3i").b)("issue-drafts"),e.ofType("DELETE_DRAFT_REQUEST").mergeMap((e=>vt(e,t.getState()))).catch((e=>(e=>K.Observable.of(Object(a("UWLJ").a)(null,e)))(e))));let It;var Ct=e=>(It=Object(a("iY3i").b)("issue-drafts"),e.ofType("LOAD_DRAFT_REQUEST").mergeMap((e=>(e=>{
const{payload:{fieldId:t,draftKey:n,draftHandler:s}}=e,i=Object(a("RRLO").d)(n),o=It.get(n);if(o){if(Object(a("IJwP").g)(o))return K.Observable.empty();const e=s?K.Observable.of(s(t,o)):K.Observable.empty(),n=K.Observable.of(Object(a("UWLJ").f)(i,o));return K.Observable.concat(e,n).catch((e=>(Object(a("be7s").a)("issue.draft.fetch","Failed to fetch issue draft",e),K.Observable.of(Object(a("UWLJ").d)(i,e)))))}return K.Observable.empty()})(e))).catch((e=>(e=>K.Observable.of(Object(a("UWLJ").d)(null,e)))(e))));let St;var kt=(e,t)=>(St=Object(a("iY3i").b)("issue-drafts"),e.ofType("SAVE_DRAFT_REQUEST","DELETE_DRAFT_SUCCESS").throttleTime(1e3,K.Scheduler.async,{leading:!0,trailing:!0}).switchMap((e=>"SAVE_DRAFT_REQUEST"===e.type?((e,t)=>{const{payload:{fieldId:n,value:s}}=e,i=Object(a("4dgq").w)(t),o=Object(a("4dgq").a)(t),r=Object(a("RRLO").c)(o,i,n);return St.set(r,s),K.Observable.of(Object(a("UWLJ").i)(r,s))
})(e,t.getState()):K.Observable.empty())).catch((e=>(e=>(Object(a("be7s").a)("issue.save-draft","Failed to save draft",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("UWLJ").g)(e))))(e))));var wt=(e,t)=>e.ofType("SELECT_ACTIVITY_SORT_ORDER","SELECT_ACTIVITY_ITEM").switchMap((({type:e})=>{const n=t.getState(),s=Object(a("Hc0Y").a)(n),i="SELECT_ACTIVITY_SORT_ORDER"===e?["focusedWorklogId"]:["focusedCommentId","focusedWorklogId"];return window.history.replaceState({},null,Object(a("4VgM").a)(i)),null===s?K.Observable.empty():"SELECT_ACTIVITY_ITEM"!==e||"Comments"!==s.type&&"JSDComments"!==s.type?"Worklog"===s.type?K.Observable.of(Object(a("M+5/").C)()):K.Observable.empty():K.Observable.of(Object(a("Rc4V").u)())}))
;const Tt=e=>`\n    mutation {\n        setActivitySortOrder(orderBy: ${e}) {\n            success\n            errors {\n                message\n            }\n        }\n    }\n`,Dt="issue.activity-feed.sort.save.gira",Rt=e=>{const{errors:t}=e.setActivitySortOrder;if(t&&t.length>0){const e={eventNameSuffix:"issue.error",type:"update",app:"issue",event:new Error(t[0].message)};a("RDfz").a.safeErrorWithoutCustomerData(Dt,"Error present in gira response when calling to update setActivitySortOrder",new(a("8r8e").a)(e))}return e.setActivitySortOrder},Lt=(e,t)=>Object(a("K4VI").a)(`${e}/rest/gira/1/`,(e=>({method:"POST",body:JSON.stringify({query:Tt(e)})}))(t)).map((e=>Object(a("xWb8").b)(Dt,e))).map(Rt);var Mt=(e,t)=>e.ofType("UPDATE_ACTIVITY_SORT_ORDER_REQUEST").switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n);return Lt(s,e.payload).ignoreElements()})).catch((e=>(Object(a("be7s").a)("issue.activity-feed.sort.save.epic","Could not save sort order in jira issue view",e),
K.Observable.empty()))),At=(e,t)=>e.ofType("APPLINK_AUTHENTICATION_REQUEST").mergeMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=e.payload,{analyticsEvent:o}=e.meta,r=Object(a("X3DO").a)(`${s}${i}`);return o&&Object(a("yy8q").f)(o,"applink authenticate",{authStatus:"start"}),r?K.Observable.fromPromise(r).map((()=>(o&&Object(a("yy8q").f)(o,"applink authenticate",{authStatus:"success"}),Object(a("84KE").b)()))).catch((e=>(Object(a("be7s").a)("issue-applink-authentication-epic","Failed to authenticate with applinks",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty()))):K.Observable.empty()})),_t=a("mwIZ"),Nt=a.n(_t);const xt=(e,t)=>`project=${e} AND issuetype in (${t.join(",")}) ORDER BY lastViewed DESC, updated DESC, priority DESC`,Ut=({issues:e})=>e.map((({id:e,key:t,fields:{summary:n,issuetype:s}})=>({id:Object(a("Rp3N").l)(e),key:Object(a("Rp3N").n)(t),summary:n,issueType:s}))),Ft=e=>e.reduce(((e,t)=>u()(u()({},e),{},{
[t.id]:t.parentId})),{});var Pt=Object(F.combineEpics)(((e,t)=>e.ofType("FETCH_ISSUE_PARENTS_REQUEST").mergeMap((()=>{const e=t.getState();return((e,t,n)=>t?Object(a("K4VI").a)(Object(a("XtNG").o)(e),{method:"POST",body:JSON.stringify({jql:xt(t,n)})}).map(Ut):K.Observable.of([]))(Object(a("4dgq").f)(e),Object(a("/LFc").D)(e),Object(a("Hxy2").e)(e))})).map(a("erQ6").c).catch((e=>(Object(a("be7s").a)("issue.fetch-parent.failure","",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),Object(a("erQ6").a)())))),((e,t)=>e.ofType("SET_PARENT_REQUEST","SET_PARENT_OPTIMISTIC").mergeMap((e=>{const n=t.getState(),{payload:{issues:s}}=e,i="SET_PARENT_OPTIMISTIC"===e.type?e.payload.parentIssue&&e.payload.parentIssue.id:e.payload.parentId,o=Object(a("/LFc").C)(n),r="SET_PARENT_OPTIMISTIC"===e.type?e.payload.parentIssue:o.find((e=>e.id===i)),l=s.filter((e=>e.parentId!==i&&e.id)).map((e=>Number(e.id))),c=Ft(s.filter((e=>l.includes(Number(e.id)))))
;if(!l.length)return K.Observable.empty();const d=Object(a("4dgq").f)(n),u=Object(a("/LFc").D)(n);return("SET_PARENT_OPTIMISTIC"===e.type?K.Observable.fromPromise(e.payload.requestPromise):((e,t,n,s)=>t?Object(a("K4VI").a)(((e,t,n)=>`${e}/rest/internal/simplified/1.0/projects/${t}/issues/${n}/children`)(e,t,n),{method:"POST",body:JSON.stringify(s)}):K.Observable.throw("Missing Project Id"))(d,u,e.payload.parentId,{issueIds:l})).flatMap((()=>r?K.Observable.of(Object(a("erQ6").g)(r,c)):K.Observable.of(Object(a("erQ6").j)(c)))).catch((e=>(Object(a("be7s").a)("issue.set-parent.failure","",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty())))}))),((e,t)=>e.ofType("UNSET_PARENT_REQUEST").mergeMap((e=>{const n=t.getState(),{payload:{issues:s}}=e,i=s.filter((e=>e.parentId&&e.id)).map((e=>Number(e.id))),o=Ft(s.filter((e=>i.includes(Number(e.id)))));if(0===i.length)return K.Observable.empty()
;return((e,t,n)=>t?Object(a("K4VI").a)(((e,t)=>`${e}/rest/internal/simplified/1.0/projects/${t}/issues/delete-parents`)(e,t),{method:"POST",body:JSON.stringify(n)}):K.Observable.throw("Missing Project Id"))(Object(a("4dgq").f)(n),Object(a("/LFc").D)(n),{issueIds:i}).flatMap((()=>K.Observable.of(Object(a("erQ6").j)(o)))).catch((e=>(Object(a("be7s").a)("issue.unset-parent.failure","",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty())))}))),(e=>e.ofType("SET_PARENT_SUCCESS","UNSET_PARENT_SUCCESS").map((e=>((e,t=null)=>({type:"ISSUE_RELATIONSHIP_UPDATE_SUCCESS",payload:{oldParentIdsByIssueIds:e,parentIssueId:t}}))(Nt()(e,"payload.oldParentIdsByIssueIds",null),Nt()(e,"payload.parentIssue.id",null))))));const Vt=(e,t,n,s)=>{const i=((e,t)=>`${e}/rest/api/2/attachment/upload/issue/${t}`)(t,n),o=(e=>({method:"POST",body:JSON.stringify({fileId:e.id})}))(e);return Object(a("K4VI").a)(i,o).map((t=>((e,t,n)=>({id:`${e.attachmentId}`,
mediaApiFileId:t.id,createdDate:t.createdDate,author:n,mimetype:t.mimetype,filename:t.filename}))(t,e,s)))};var Kt=Object(F.combineEpics)(((e,t)=>e.ofType("ATTACHMENT_MEDIA_SERVICES_UPLOAD_END").mergeMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").w)(n),o=Object(a("4dgq").a)(n),r=Object(a("Rlz6").b)(e.payload.id)(n);var l;return Object(a("d90y").is2afErrorCleanupGroup1Enabled)()&&void 0===r?(Object(a("be7s").a)("issue.attachment.jira-create-error","Failed to upload attachment",null===(l=e.payload)||void 0===l?void 0:l.id),K.Observable.of(Object(a("4Rwi").a)(r,200))):Vt(r,s,i,o).retry(3).map(a("4Rwi").b).catch((e=>(Object(a("be7s").a)("issue.attachment.jira-create-error","Could not create attachment in Jira",e),K.Observable.of(Object(a("4Rwi").a)(r,e.statusCode)))))}))),(e=>e.ofType("ATTACHMENT_JIRA_CREATE_FAILURE").do((e=>{a("RDfz").a.safeErrorWithoutCustomerData("issue.attachment.jira-create-error","Could not create attachment in Jira",new(a("8r8e").a)({
eventNameSuffix:"issue.error",type:"js",app:"issue",event:{statusCode:e.payload.statusCode}}))})).ignoreElements()),(e=>e.ofType("MEDIA_PICKER_ERROR","ATTACHMENT_MEDIA_SERVICES_UPLOAD_ERROR").do((e=>{const{description:t,name:n,fileId:s}=e.payload;a("RDfz").a.safeErrorWithoutCustomerData("issue.attachment.media-services-upload-error","Could not upload attachment to Media Services",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:{description:t,name:n,fileId:s}}))})).ignoreElements()));var $t=Object(F.combineEpics)((e=>e.ofType("ATTACHMENT_MEDIA_SERVICES_UPLOAD_END").mapTo(le())),(e=>e.ofType("ATTACHMENT_JIRA_CREATE_FAILURE").mapTo((()=>({type:"MARK_TOKEN_AS_UP_TO_DATE"}))())),(e=>e.ofType("ATTACHMENT_JIRA_CREATE_SUCCESS").mapTo(ie())));var Wt=(e,t)=>e.pipe(Ue("FETCH_ISSUE_SUCCESS","ATTACHMENT_JIRA_CREATE_SUCCESS"),Object(Ae.filter)((()=>Object(a("fdGr").b)(t.getState()))),Object(Ae.flatMap)((()=>{
const e=t.getState(),n=Object(a("4dgq").B)(e),s=Object(a("/LFc").l)(e);return null==n||null==s?K.Observable.empty():K.Observable.zip(((e,t)=>Object(a("K4VI").a)((e=>`/rest/greenhopper/1.0/xboard/work/media?issueIds=${e}`)(t),{method:"GET"}))(0,s),((e,t)=>Object(a("K4VI").a)((e=>`/rest/greenhopper/1.0/xboard/work/additionalBoardData?rapidViewId=${e}`)(t),{method:"GET"}))(0,n)).flatMap((([e,t])=>((e,t)=>{const n=Nt()(t,"isMediaOnCardsEnabled",!1),s=Nt()(e,"cardMedia[0].attachmentId",null),i=Nt()(e,"cardMedia[0].availableAttachmentIds",[]);return K.Observable.of(Object(a("YoD6").b)({isEnabled:n,attachmentId:s,availableAttachmentIds:i}))})(e,t))).catch((e=>(e=>(Object(a("be7s").a)("issue.card-cover.fetch",e.message,e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("YoD6").a)())))(e)))})));var Bt=(e,t)=>e.ofType("CARD_COVER_UPDATE_REQUEST").flatMap((e=>((e,t)=>{
const n=Object(a("4dgq").f)(e),s=Object(a("/LFc").l)(e),{attachmentId:i}=t.payload;if(null==s)return K.Observable.empty();const o={method:i?"PUT":"DELETE"};return Object(a("K4VI").a)(((e,t,n)=>{const a=`${e}/rest/greenhopper/1.0/xboard/work/media/${t}`;return n?`${a}?attachmentId=${n}`:a})(n,s,i),o)})(t.getState(),e).flatMap((()=>(()=>K.Observable.of(Object(a("YoD6").e)()))())).catch((t=>((e,t)=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.card-cover.update",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:new Error(e)})),K.Observable.of(Object(a("YoD6").c)(t.payload.currentAttachmentId))))(t,e)))));const qt=e=>e.issueTypes,Ht=(e,t,n)=>((e,t,n)=>Object(a("K4VI").a)(`${e}/rest/internal/2/issue/${t}/changeissuetype`,{method:"post",body:JSON.stringify({targetIssueTypeId:n})}))(e,t,n).map((e=>e.changeSuccessful)),Gt=(e,t,n,s)=>{const i=((e,t,n)=>({action:e,actionSubjectId:Object(a("0Lwy").a)(t)(t),attributes:n}))(t,n,s);Object(a("w49h").a)(e,i)}
;var Yt=Object(F.combineEpics)(((e,t)=>e.ofType("SIMPLE_CHANGE_ISSUE_TYPE_REQUEST").switchMap((e=>{const n=Object(a("4dgq").f)(t.getState()),{issueKey:s,targetType:i,issueId:o,analyticsEvent:r,currentType:l}=e.payload;return!l.subtask&&i.subtask?(Gt(r,"updated","simpleChangeIssueTypeRedirect",{subTask:i.subtask}),K.Observable.of(Object(a("uhXo").f)(o,l,i))):Ht(n,s,i.id).map((e=>e?(Gt(r,"updated","simpleChangeIssueTypeSuccess"),Object(a("uhXo").h)(s,i.name)):(Gt(r,"updated","simpleChangeIssueTypeRedirect",{subTask:i.subtask}),Object(a("uhXo").f)(o,l,i)))).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("change.issue.type.simplechange",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("uhXo").e)(e)))))
}))),((e,t)=>e.ofType("SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_SUCCESS").switchMap((()=>Object(a("Z+f9").c)(t.getState()).flatMap((e=>K.Observable.of(Object(a("dPO5").d)(e))))))),((e,t)=>e.ofType("SIMPLE_CHANGE_ISSUE_TYPE_NOT_ALLOWED").do((e=>{const n=Object(a("4dgq").f)(t.getState()),{issueId:s,currentType:i,targetType:o}=e.payload;i.subtask&&o.subtask?Object(a("OM3v").a)(`${n}/secure/MoveSubTaskChooseOperation!default.jspa?id=${s}`,!1):!i.subtask&&o.subtask?Object(a("OM3v").a)(`${n}/secure/ConvertIssue.jspa?id=${s}`,!1):Object(a("OM3v").a)(`${n}/secure/MoveIssue!default.jspa?id=${s}`,!1)})).ignoreElements()));const Zt=e=>(a("RDfz").a.safeErrorWithoutCustomerData("jira.user.issue.changeboarding.lastinteracted","Error saving last interacted changeboarding timestamp",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty());var Xt=Object(F.combineEpics)((e=>e.ofType("CHANGEBOARDING_BANNER_SEEN").do((e=>{
Object(a("Utxq").c)(e.payload.currentSeenTimes+1),e.payload.firstSeenTimestamp||Object(a("Utxq").b)(Date.now())})).ignoreElements()),((e,t)=>e.ofType("CHANGEBOARDING_TOUR_BEGIN","CHANGEBOARDING_BANNER_DISMISS").mergeMap((e=>K.Observable.of(e).mergeMap((()=>((e,t)=>{const n=Object(a("4dgq").f)(e),s=Object(a("XtNG").b)(n);return Object(a("/rpS").e)(s,{body:`${t}`})})(t.getState(),e.payload))).catch(Zt))).ignoreElements()),((e,t)=>e.ofType("OPT_OUT_REQUEST").switchMap((e=>{const n=`${Object(a("4dgq").f)(t.getState())}/rest/greenhopper/1.0/profile/labs-panel/issue-details-popup`,{analyticsEvent:s}=e.payload;return K.Observable.from(Object(a("/rpS").e)(n,{body:JSON.stringify({isEnabled:!1})})).map((()=>(s&&Object(a("yy8q").b)(s,"changeboarding optedOut"),window.location.reload()))).catch((e=>(a("RDfz").a.safeErrorWithoutCustomerData("jira.issue.details.changeboarding.optout","Could not opt-out from new issue view",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e
})),K.Observable.empty())))}))));const Jt=e=>Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?(e=>{const t={fieldValues:{},fieldConfigs:{}};return Object.entries(e).forEach((([e,n])=>{t.fieldValues[e]=n.value,t.fieldConfigs[e]={autoCompleteUrl:n.autoCompleteUrl,allowedValues:n.allowedValues,isEditable:n.editable,isRequired:n.required,schema:n.schema,title:n.title,configuration:n.configuration}})),t})(e):(e=>Object.entries(e).reduce(((e,[t,{value:n,autoCompleteUrl:a,allowedValues:s,editable:i,required:o,schema:r,title:l,configuration:c}])=>({fieldValues:u()(u()({},e.fieldValues),{},{[t]:n}),fieldConfigs:u()(u()({},e.fieldConfigs),{},{[t]:{autoCompleteUrl:a,allowedValues:s,isEditable:i,isRequired:o,schema:r,title:l,configuration:c}})})),{fieldValues:{},fieldConfigs:{}}))(e),zt=e=>Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?(e=>{const t={fieldValues:{},fieldConfigs:{}};return e.forEach((e=>{t.fieldValues[e.key]=void 0!==e.value?e.value:null,t.fieldConfigs[e.key]={
autoCompleteUrl:e.autoCompleteUrl,allowedValues:e.allowedValues,isEditable:e.editable,isRequired:e.required,schema:e.schema,title:e.title}})),t})(e):(e=>e.reduce(((e,{key:t,value:n,autoCompleteUrl:a,allowedValues:s,editable:i,required:o,schema:r,title:l})=>({fieldValues:u()(u()({},e.fieldValues),{},{[t]:void 0!==n?n:null}),fieldConfigs:u()(u()({},e.fieldConfigs),{},{[t]:{autoCompleteUrl:a,allowedValues:s,isEditable:i,isRequired:o,schema:r,title:l}})})),{}))(e),Qt=e=>{const t=[],n=e.map((e=>{const n={},{fields:a=[],key:s,id:i}=e;return Object.entries(a).forEach((([e,t])=>{n[e]=t})),t.push({[s]:n}),{id:i,key:s}}));return{issuesFieldsValues:t,childrenKeyList:n}},en=e=>{const t=[],n=[],a=e.map((e=>{const{fieldValues:a,fieldConfigs:s}=zt(e.fields);return t.push({[e.key]:a}),n.push({[e.key]:s}),{id:e.id,key:e.key}}));return{issuesFieldsValues:t,issueFieldsConfigurations:n,childrenKeyList:a}};var tn=(e,t)=>n=>n.ofType("CHILD_ISSUE_ADD_SUCCESS","SUBTASK_ADD_SUCCESS").switchMap((n=>{
const{childIssue:a,fieldsData:s}=n.payload;if(!s)return K.Observable.empty();const{fieldValues:i,fieldConfigs:o}=Jt(s);return e.setIssue(a.issueKey,i),t.setIssueConfig(a.issueKey,o),K.Observable.empty()}));const nn=["ADD_COMMENT_FORM_CANCEL","EDIT_COMMENT_CANCEL","SAVE_COMMENT_SUCCESS","DELETE_COMMENT_SUCCESS"];var an=e=>e.ofType(...nn).mergeMap((e=>(e=>{if("ADD_COMMENT_FORM_CANCEL"===e.type||e.payload.isNewComment)return K.Observable.of(Object(a("UWLJ").b)({fieldId:Object(a("RRLO").a)("NEW_OPTIMISTIC_COMMENT")}));const t=(e=>{const t=(e.id||e.optimisticId).toString();return-1!==t.indexOf("NEW_OPTIMISTIC_COMMENT")?"NEW_OPTIMISTIC_COMMENT":t})(e.payload),n=Object(a("RRLO").a)(t);return K.Observable.of(Object(a("UWLJ").b)({fieldId:n}))})(e))).catch((e=>(e=>(a("RDfz").a.safeErrorWithoutCustomerData("issue.comment-delete-draft",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty()))(e)));const sn={method:"DELETE"},on=(e,t,n)=>{
const s=Object(a("4dgq").f)(e),i=Object(a("Rp3N").n)(Object(a("4dgq").w)(e)),o=((e,t,n)=>`${e}/rest/api/2/issue/${t}/comment/${n}`)(s,i,t),{bodyAdf:r}=Object(a("ejT3").u)(e)[t],l=!!r&&Object(a("IJwP").d)(r);return Object(a("K4VI").a)(o,sn).map((()=>{var s;Object(a("d90y").isIssueDetailsSloCommentsEnabled)()&&Object(a("/dKO").a)(Object(a("pixR").b)({wasSuccessful:!0,action:"DELETE",analyticsSource:"commentDeleteEpic",projectType:null===(s=e.entities.project)||void 0===s?void 0:s.projectType}));return l&&n.refreshAttachments(i),Object(a("Rc4V").h)(t)})).catch((n=>{var s;Object(a("d90y").isIssueDetailsSloCommentsEnabled)()&&Object(a("/dKO").a)(Object(a("pixR").b)({wasSuccessful:!1,action:"DELETE",analyticsSource:"commentDeleteEpic",projectType:null===(s=e.entities.project)||void 0===s?void 0:s.projectType,errorMessage:n.message}));return((e,t)=>(Object(a("be7s").a)("issue.comment.delete","Could not delete a comment",e),
K.Observable.of(404===e.statusCode?Object(a("Rc4V").h)(t):Object(a("Rc4V").f)(t))))(n,t)}))};var rn=e=>(t,n)=>t.ofType("DELETE_COMMENT_REQUEST").mergeMap((t=>{const a=n.getState(),s=t.payload.id;return on(a,s,e)}));const ln=(e,t,n)=>{const s=Object(a("4dgq").a)(t),i=Object(a("4dgq").w)(t);return Object(a("ejT3").n)(t).map((o=>{const r=Object(a("RRLO").a)(o),l=Object(a("RRLO").c)(s,i,r),c=Object(a("ejT3").f)(o)(t),d=null!=c?c:void 0;return K.Observable.of(Object(a("UWLJ").e)(o,l,((e,t,n)=>e&&t===n.payload.id?a("Rc4V").l:null)(n,o,e),d))}))},cn=e=>(Object(a("be7s").a)("issue.comment-load-draft",e.message,e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty())
;var dn=Object(F.combineEpics)(((e,t)=>e.ofType("EDIT_COMMENT_BEGIN").mergeMap((e=>K.Observable.merge(...ln(e,t.getState(),!0)))).catch((e=>cn(e)))),((e,t)=>e.pipe(Ue("FETCH_ISSUE_SUCCESS","REFRESH_ISSUE_SUCCESS","FETCH_MORE_COMMENTS_SUCCESS","FETCH_LATEST_COMMENTS_SUCCESS"),Object(Ae.mergeMap)((e=>e.payload.comments?K.Observable.merge(...ln(e,t.getState(),!1)):K.Observable.empty())),Object(Ae.catchError)((e=>cn(e))))));var un=e=>e.ofType("SAVE_COMMENT_SUCCESS").filter((e=>e.meta.shouldFetchViewContext)).mapTo(ie());var pn=(e,t)=>e.ofType("EDIT_COMMENT_UPDATE").switchMap((e=>((e,t)=>{const{payload:{id:n,value:s}}=e,i=Object(a("ejT3").f)(n)(t);return K.Observable.of(Object(a("UWLJ").h)(Object(a("RRLO").a)(n),s,i))})(e,t.getState()))).catch((e=>(e=>(Object(a("be7s").a)("issue.comment-save-draft",e.message,e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty()))(e)));const mn=(e,t,n,s,i)=>{const o=((e,t)=>{const n=e.getState()
;if(Object(a("4dgq").t)(n))return{properties:[{key:"sd.public.comment",value:{internal:Object(a("ejT3").D)(t)(n)}}]};return{}})(e,t),r=((e,t)=>Object(a("ejT3").A)(e.getState())?{visibility:"public"===t.type?null:t}:{})(e,i);return{method:s?"POST":"PUT",body:JSON.stringify(u()(u()({body:n},o),r))}},bn=t=>{if(t instanceof a("HQr3").b&&t.message)try{const e=JSON.parse(t.message);return e.errorMessages?e.errorMessages.join("; "):void 0}catch(e){return void Object(a("be7s").a)("issue.save.comment","Failed to parse FetchError",e)}},gn=(e,{id:t,bodyAdf:n,isNewComment:s,analyticsEvent:i,visibility:o},{shouldFetchViewContext:r})=>Object(a("K4VI").a)(((e,t,n)=>{const s=e.getState();return(({baseUrl:e,issueKey:t,id:n="",isNewComment:a=!1})=>`${e}/rest/api/3/issue/${t}/comment${a?"":`/${n}`}`)({baseUrl:Object(a("4dgq").f)(s),issueKey:Object(a("4dgq").w)(s),id:t,isNewComment:n})})(e,t,s),mn(e,t,n,s,o)).map(a("0jFE").d).map(a("0jFE").a).map((n=>{var o
;Object(a("d90y").isIssueDetailsSloCommentsEnabled)()&&Object(a("/dKO").a)(Object(a("pixR").b)({wasSuccessful:!0,action:s?"ADD":"EDIT",analyticsSource:"commentSaveEpic",projectType:null===(o=e.getState().entities.project)||void 0===o?void 0:o.projectType}));return Object(a("Rc4V").C)(n,t,s,i,{shouldFetchViewContext:r})})).catch((n=>{var i;Object(a("d90y").isIssueDetailsSloCommentsEnabled)()&&Object(a("/dKO").a)(Object(a("pixR").b)({wasSuccessful:!1,action:s?"ADD":"EDIT",analyticsSource:"commentSaveEpic",projectType:null===(i=e.getState().entities.project)||void 0===i?void 0:i.projectType,errorMessage:null==n?void 0:n.message}));return Object(a("be7s").a)("issue.save.comment","Failed to save a comment",n),K.Observable.of(Object(a("Rc4V").z)({optimisticId:t,isServerValidationError:!!n&&400===n.statusCode,invalidMessage:bn(n)}))}));var fn=Object(F.combineEpics)(((e,t)=>e.ofType("SAVE_COMMENT_RETRY").map((e=>{const n=t.getState(),{optimisticId:s,isNewComment:i}=e.payload
;return Object(a("Rc4V").A)(u()(u()({},Object(a("ejT3").I)(s)(n)),{},{isNewComment:i}))}))),((e,t)=>e.ofType("SAVE_COMMENT_REQUEST").groupBy((e=>e.payload.comment.id)).mergeMap((e=>e.concatMap((e=>{const{id:n,bodyAdf:s,isNewComment:i,visibility:o}=e.payload.comment,{analyticsEvent:r}=e.payload;if(!s||Object(a("IJwP").g)(s))return K.Observable.empty();let l=!1;if(i)l=Object(a("IJwP").d)(s);else{const e=Object(a("ejT3").u)(t.getState());l=Object(a("IJwP").e)(e[n].bodyAdf,s)}return l&&t.dispatch(le()),gn(t,{id:n,bodyAdf:s,isNewComment:i,analyticsEvent:r,visibility:o},{shouldFetchViewContext:l}).mergeMap((e=>{if("SAVE_COMMENT_FAILURE"===e.type)return K.Observable.of(e);if(i){const n=t.getState(),s=Object(a("ejT3").L)(n),i=Object(a("ejT3").G)(n),o=Object(a("ejT3").K)(n),{numPrevCommentsToLoad:r}=Object(a("qNKP").a)(s,i,o)
;return r>0?K.Observable.zip(K.Observable.of(e),K.Observable.of(Object(a("Rc4V").u)(e.payload.comment.id))).mergeMap((e=>K.Observable.from(e))):K.Observable.zip(K.Observable.of(e)).mergeMap((e=>K.Observable.from(e)))}return K.Observable.zip(K.Observable.of(e)).mergeMap((e=>K.Observable.from(e)))}))})))))),hn=e=>e.ofType("ADD_COMMENT_FORM_EXPAND","EDIT_COMMENT_BEGIN","PASTED_INTO_COMMENT_FORM","SAVE_COMMENT_SUCCESS").groupBy((e=>{switch(e.type){case"ADD_COMMENT_FORM_EXPAND":return"NEW_OPTIMISTIC_COMMENT";case"EDIT_COMMENT_BEGIN":case"PASTED_INTO_COMMENT_FORM":return e.payload.id;case"SAVE_COMMENT_SUCCESS":return e.payload.optimisticId.startsWith("NEW_OPTIMISTIC_COMMENT")?"NEW_OPTIMISTIC_COMMENT":e.payload.optimisticId;default:return null}})).map((e=>{const t=e.filter((({type:e})=>"ADD_COMMENT_FORM_EXPAND"===e||"EDIT_COMMENT_BEGIN"===e));return e.window(t).map((e=>{
const t=e.filter((({type:e})=>"SAVE_COMMENT_SUCCESS"===e)),n=e.filter((({type:e})=>"PASTED_INTO_COMMENT_FORM"===e)).takeUntil(t).reduce(((e,t)=>[...e,t.payload.pastedContent]),[]);return t.withLatestFrom(n).mergeMap((([e,t])=>{const{comment:n}=e.payload;return 0===t.length?K.Observable.empty():K.Observable.of(Object(a("Rc4V").D)(n,t))}))})).mergeAll()})).mergeAll();var En=e=>Object(a("K4VI").a)(Object(a("XtNG").c)(e)),yn=(e,t)=>e.ofType("FETCH_CONFLUENCE_APP_LINKS_REQUEST").switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").f)(e);return En(n).map(a("GqMi").c).catch((e=>(Object(a("be7s").a)("issue.fetch.confluence-app-links-epic","FETCH_CONFLUENCE_APP_LINKS_REQUEST: Failed to fetch confluence app links data",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("GqMi").b)()))))}));const On=e=>{if(e.object.status.resolved){return{id:Object(a("Rp3N").g)(e.id),globalId:Object(a("Rp3N").v)(e.globalId),
href:Object(a("Rp3N").k)(e.object.url),title:e.object.title,type:Object(a("CtgM").a)(e.object.icon.title),lastUpdatedContext:{user:{displayName:Object(a("Rp3N").h)(e.object.status.icon.title),avatarUrl:Object(a("Rp3N").k)(e.object.status.icon.url16x16)}}}}return{id:Object(a("Rp3N").i)(e.id),error:e.object.status.icon.url16x16?"APPLINK_REQ_AUTH":"REMOTE_SERVER",link:{id:Object(a("Rp3N").i)(e.id),globalId:Object(a("Rp3N").v)(e.globalId),href:Object(a("Rp3N").k)(e.object.url)},repairLink:{href:Object(a("Rp3N").k)(e.object.status.icon.url16x16)}}},vn=["blogpost","page"],jn=e=>!e.includes("http")&&window&&window.location?`${window.location.protocol}//${window.location.host}${e}`:e;var In=e=>((e,t)=>e.map((e=>e.filter((e=>vn.includes(e.type))).map((e=>({id:Object(a("Rp3N").g)(e.id.toString()),globalId:Object(a("Rp3N").v)(""),href:Object(a("Rp3N").k)(jn(`${t}/wiki${e.url}`)),title:e.title,type:Object(a("CtgM").a)(e.contentType),space:e.space,spaceKey:e.spaceKey||""
}))))))((e=>Object(a("K4VI").a)((e=>`${e}/wiki/rest/recentlyviewed/1.0/recent?limit=20`)(e)))(e),e);const Cn="issue.fetch.confluence-pages-epic",Sn="addconfluencelink.error.issueId.invalid";var kn=Object(F.combineEpics)(((e,t)=>e.ofType("CREATE_CONFLUENCE_PAGE_LINK_REQUEST").switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").v)(n),{pageHref:o}=e.payload,{analyticsEvent:r}=e.meta;return i?K.Observable.from((({baseUrl:e,issueId:t,pageHref:n})=>Object(a("/rpS").d)(`${(e=>`${e}/rest/confluenceIssueLink/1/confluence`)(e)}${((e,t)=>`?issueId=${e}&pageUrl=${t}`)(t,n)}`,{body:JSON.stringify({})}).then(On))({baseUrl:s,pageHref:o,issueId:Object(a("Rp3N").l)(i.toString())})).do((e=>{Object(a("w49h").a)(r,{action:"created",actionSubjectId:e.id,attributes:{createdWithError:!!Nt()(e,"error"),needsAuthorization:!!Nt()(e,"repairLink.href")}})})).map((e=>Object(a("pfYZ").d)(e))).catch((e=>(Object(a("be7s").a)(Cn,"CREATE_CONFLUENCE_PAGE_LINK_REQUEST",e,new(a("8r8e").a)({
eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("pfYZ").a)(e.message))))):(a("fnbV").a.safeErrorWithoutCustomerData(Cn,"CREATE_CONFLUENCE_PAGE_LINK_REQUEST",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:new Error(Sn)})),K.Observable.of(Object(a("pfYZ").a)(Sn)))}))),((e,t)=>e.ofType("DELETE_CONFLUENCE_PAGE_LINK_REQUEST").switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").w)(n),{globalId:o}=e.payload;return K.Observable.fromPromise(((e,t,n)=>Object(a("/rpS").a)(`${e}/rest/api/2/issue/${t}/remotelink?globalId=${encodeURIComponent(n)}`))(s,i,o)).map(a("pfYZ").g).catch((e=>(Object(a("be7s").a)(Cn,"DELETE_CONFLUENCE_PAGE_LINK_REQUEST: Failed to delete confluence page link",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("pfYZ").e)()))))}))),((e,t)=>e.ofType("FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_REQUEST").switchMap((()=>{
const e=t.getState(),n=Object(a("4dgq").f)(e);return In(n).map(a("Y53K").c).catch((e=>{const t={eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e};return a("fnbV").a.safeErrorWithoutCustomerData("issue.fetch.confluence-recently-viewed-epic","FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_REQUEST: Failed to fetch recently viewed confluence pages",new(a("8r8e").a)(t)),K.Observable.of(Object(a("Y53K").a)())}))}))));var wn=(e,t)=>e.ofType("SET_CONTEXT").map((()=>Object(a("4dgq").k)(t.getState()))).pairwise().mergeMap((([e,t])=>((e,t)=>e!==t?K.Observable.of(Object(a("5JtD").c)({fromIssueKey:e,toIssueKey:t})):K.Observable.empty())(e.issueKey,t.issueKey)));const Tn={method:"DELETE"};var Dn=(e,t)=>e.ofType("DELETE_LINKED_ISSUE_REQUEST").mergeMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=e.payload.linkedIssueId,o=((e,t)=>`${e}/rest/api/2/issueLink/${t}`)(s,i),r=Object(a("TstH").f)(i)(n),l=Object(a("TstH").h)(r.linkedIssueKey)(n)
;return Object(a("K4VI").a)(o,Tn).map((()=>Object(a("4geX").f)(i,{issueId:l.id,direction:r.direction}))).catch((e=>(Object(a("be7s").a)("issue.issue-links.delete-issue-link-error","Error when removing issue link",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("4geX").d)(i)))))}));const Rn={method:"DELETE"},Ln=(e,t,n)=>Object(a("K4VI").a)(((e,t,n)=>`${e}/rest/api/3/issue/${t}/remotelink?globalId=${encodeURIComponent(n)}`)(e,t,n),Rn),Mn=(e,t)=>e.ofType("DELETE_REMOTE_LINKED_ISSUE_REQUEST").mergeMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").w)(n),{globalId:o,analyticsEvent:r}=e.payload;return Ln(s,i,o).map((()=>(r&&Object(a("yy8q").b)(r,"remoteLinkedIssue deleted"),Object(a("tY4a").c)(o)))).catch((e=>(Object(a("yy8q").b)(r,"remoteLinkedIssue deleteFailed"),Object(a("be7s").a)("issue.issue-links.delete-issue-link-error","remote",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",
event:e})),K.Observable.of(Object(a("tY4a").a)(o)))))}));var An=a("EcEN"),_n=a.n(An);const Nn=(e,t,n)=>`${e}/rest/api/2/issue/${t}/properties/${n}`;var xn=a("xXH7"),Un=a.n(xn),Fn=a("Znm+"),Pn=a.n(Fn),Vn=a("UB5X"),Kn=a.n(Vn),$n=a("4qC0"),Wn=a.n($n);const Bn=e=>t=>{if(404===t.statusCode)return e();throw t},qn=(e,t,n="none")=>e.added===t&&("none"===n||e.id===n),Hn=(e,t,n)=>{const s=((e,t,n)=>`${e}/rest/api/2/issue/${t}/properties/${n}`)(e,t,n);return{get:()=>(e=>Object(a("/rpS").b)(e).then((({value:e})=>(Array.isArray(e)?e:[]).map((({added:e,id:t,collapsed:n})=>({added:e,id:t,collapsed:n}))).filter((({added:e,id:t,collapsed:n})=>Kn()(e)&&(null==t||Wn()(t))&&(null==n||Pn()(n)))))).catch(Bn((()=>[]))))(s),update:e=>((e,t)=>Object(a("/rpS").e)(e,{body:JSON.stringify(t)}).then((()=>t)))(s,e),deleteEntry:()=>(e=>Object(a("/rpS").a)(e).then((()=>[])).catch(Bn((()=>[]))))(s)}},Gn=Un()([async(e,{issueKey:t,extensionId:n,added:a,id:s},i)=>{const{get:o,update:r}=Hn(e,t,n),l=await o()
;if(0===l.length)return[];const c=l.map((e=>u()(u()({},e),{},{collapsed:qn(e,a,s)?i:e.collapsed})));return r(c).then((()=>c))},K.Observable.fromPromise]),Yn=Un()([async(e,t,n,s,i,o)=>{const{get:r,update:l}=Hn(e,t,n),c=await r(),d={added:s,id:o,collapsed:!1};if(0===c.length)return l([d]).then((()=>[d]));if(i){if(c.length>=5)throw new(a("7zG/").a)("Multiple issue panel installation limit reached.");return l([...c,d]).then((()=>[...c,d]))}return[c[0]]},K.Observable.fromPromise]),Zn=Un()([async(e,t,n,a,s)=>{const{get:i,update:o,deleteEntry:r}=Hn(e,t,n),l=await i();if(0===l.length)return[];const c=l.filter((e=>!qn(e,a,s)));return 0===c.length?r():o(c)},K.Observable.fromPromise]),Xn="issue.ecosystem.ecosystem-content-panel-epic",Jn=(e,t)=>({addonModuleKey:t,baseUrl:Object(a("4dgq").f)(e),parentIssueKey:Object(a("4dgq").w)(e)}),zn=(e,t)=>{const n=Object(a("T8UA").k)(t)(e);if(n)return n.name},Qn=(e,t,n)=>{const s=Object(a("+9A+").b)(n,10);return((e,t,n)=>{const s=Nn(e,t,n)
;return K.Observable.fromPromise(Object(a("/rpS").e)(s,{body:JSON.stringify({added:n})}))})(e,t,s).map((()=>Object(a("H/9g").c)(s))).catch((e=>(a("RDfz").a.safeErrorWithoutCustomerData(Xn,`saveExtensionToIssue failed: ${e}`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("H/9g").a)(e)))))};var ea=Object(F.combineEpics)(((e,t)=>e.ofType("ADD_CONTENT_PANEL_REQUEST").flatMap((e=>{const{addonModuleKey:n,baseUrl:s,parentIssueKey:i}=Jn(t.getState(),e.payload),o=t.getState(),r=Object(a("mIpc").p)(o),l=Object(a("T8UA").j)(o),c=Object(a("mIpc").f)(o),d=Object(a("mIpc").n)(o),u=!Object(a("mIpc").o)(o),p=Object(a("4dgq").b)(o);if(Object(a("UKEq").a)(e.payload)){const t=l.find((t=>Object(a("UKEq").e)(t.appKey,t.moduleKey)===e.payload)),o=t?t.name:void 0,r=!(null==t||!t.allowMultiple);return((e,t,n,s,i)=>{const o=Date.now(),r=_n.a.v4().substring(0,8);return Yn(e,t,n,o,s,r).mergeMap((e=>{
const t=e[e.length-1],s=Object(a("UKEq").f)(n,r,t.added),o=K.Observable.of(Object(a("dlXB").e)(s),Object(a("H/9g").c)(s));return Object(a("BxKc").h)(i),o}))})(s,i,n,r,p).catch((e=>{Object(a("BxKc").d)(p,{error:e});const{showFlag:t}=Object(a("uS5k").f)();return e instanceof a("7zG/").a?t(Object(a("zHe/").a)(o)):t(Object(a("AOS4").a)(o)),K.Observable.of(Object(a("H/9g").a)(e))}))}return!d&&u?K.Observable.merge(...c.map((e=>`${e.appKey}_${e.moduleKey}`)).filter((e=>!r.includes(e))).map((e=>Qn(s,i,e)))):Qn(s,i,n)}))),(e=>e.ofType("ADD_CONTENT_PANEL_SUCCESS").switchMap((e=>{const t=e.payload;return K.Observable.of(Object(a("H/9g").d)(t))}))),((e,t)=>e.ofType("REMOVE_CONTENT_PANEL_REQUEST").flatMap((e=>{const{addonModuleKey:n,baseUrl:s,parentIssueKey:i}=Jn(t.getState(),e.payload),o=Object(a("+9A+").b)(n,10),r=t.getState(),l=Object(a("mIpc").p)(r),c=Object(a("4dgq").b)(r);if(Object(a("UKEq").a)(n)){const t=zn(r,e.payload);return((e,t,n,s)=>{const i=Object(a("+9A+").a)(n)
;if(null==i)return Object(a("BxKc").c)(s,{error:Error(`Panel key doesn't match regexp: ${n}`)}),K.Observable.of(Object(a("H/9g").g)());const{extensionId:o}=i,{id:r}=i,l=i.added;return Zn(e,t,o,l,r).mergeMap((()=>(Object(a("BxKc").g)(s),K.Observable.of(Object(a("H/9g").i)(n),Object(a("dlXB").f)(n)))))})(s,i,n,c).catch((e=>{Object(a("BxKc").c)(c,{error:e});const{showFlag:n}=Object(a("uS5k").f)();return n(Object(a("AOS4").a)(t)),K.Observable.of(Object(a("H/9g").g)(e))}))}if(!l.includes(n)&&!l.includes(o)){const e=Object(a("mIpc").g)(r);return K.Observable.merge(...e.map((e=>`${e.appKey}_${e.moduleKey}`)).filter((e=>e!==n)).map((e=>Qn(s,i,e))))}const d=l.includes(n)?n:o;return((e,t,n)=>{const s=Nn(e,t,n);return K.Observable.fromPromise(Object(a("/rpS").a)(s))})(s,i,d).map((()=>Object(a("H/9g").i)(d))).catch((e=>(a("RDfz").a.safeErrorWithoutCustomerData(Xn,`removeExtensionFromIssue failed: ${e}`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),
K.Observable.of(Object(a("H/9g").g)(e)))))}))),((e,t)=>e.ofType("ADD_CONTENT_PANEL_SUCCESS","CONTENT_PANELS_CUSTOMISED_REQUEST").flatMap((e=>{const{baseUrl:n,parentIssueKey:s}=Jn(t.getState(),e.payload);return Object(a("mIpc").n)(t.getState())?K.Observable.empty():((e,t)=>{const n=Nn(e,t,"issue.content.panel.customised.flag");return K.Observable.fromPromise(Object(a("/rpS").e)(n,{body:JSON.stringify({createdOn:new Date})}))})(n,s).map((()=>Object(a("H/9g").f)())).catch((e=>(a("RDfz").a.safeErrorWithoutCustomerData(Xn,`saveIssueCustomised failed: ${e}`,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty())))}))),((e,t)=>e.ofType("FORGE_ISSUE_PANEL_UPDATE_REQUEST").flatMap((e=>{const n=Object(a("4dgq").f)(t.getState()),s=Object(a("4dgq").b)(t.getState()),{issueKey:i,panelKey:o,collapsed:r}=e.payload,l=Object(a("+9A+").a)(o);if(null==l)return Object(a("BxKc").e)(s,{error:Error(`Panel key doesn't match regexp: ${o}`)}),K.Observable.empty()
;const c=u()(u()({},l),{},{issueKey:i});return Gn(n,c,r).map((()=>(Object(a("BxKc").i)(s),Object(a("dlXB").h)({panelKey:o,collapsed:r})))).catch((e=>{Object(a("BxKc").e)(s,{error:e});const n=t.getState(),i=zn(n,o),{showFlag:r}=Object(a("uS5k").f)();return r(Object(a("AOS4").a)(i)),K.Observable.empty()}))}))));var ta=(e,t)=>e.ofType("REFRESH_ECOSYSTEM_REQUEST").switchMap((()=>{const e=t.getState();return((e,t,n)=>{const s=`${e}/rest/internal/2/issue/${t}/extension`;return Object(a("K4VI").a)(s,{perf:a("lLEp").b,headersProcessor:n&&n(a("lLEp").b.key)}).map(a("6oEo").b).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.fetch.ecosystem-extensions-fetch-server","fetchEcosystemExtensions: Failed to fetch extensions",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of({}))))
})(Object(a("4dgq").f)(e),Object(a("4dgq").w)(e)).map(a("dPO5").f).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.fetch.ecosystem-refresh-epic","REFRESH_ECOSYSTEM_REQUEST: Failed to refresh ecosystem data",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.empty())))})),na=e=>t=>t.ofType("FETCH_ISSUE_FAILURE").do((t=>e&&e(t.payload.error))).ignoreElements();const aa="VALIDATION_ERROR";const sa=["summary","description","assignee"],ia=({payload:e})=>sa.includes(e.fieldId),oa=e=>Object(a("4dgq").b)(e)||"unknown",ra=(...e)=>Object(a("/dKO").a)((({state:e,hasSuccess:t,fieldId:n,hasEdit:s,errorMessage:i,traceId:o})=>{const r={};return null!=i&&(r.errorMessage=i),null!=o&&(r.traceId=o),{experience:"editIssue",analyticsSource:oa(e),application:Object(a("M425").b)(e),edition:Object(a("M425").a)(e),wasExperienceSuccesful:t,field:n,hasEdit:s,additionalAttributes:r}})(...e))
;var la=Object(F.combineEpics)(((e,t)=>e.ofType("FIELD_EDIT_CANCEL").filter(ia).filter((({payload:e})=>{const n=t.getState();return!Object(a("KSj7").J)(e.fieldId)(n)})).do((e=>{const n=t.getState(),{fieldId:a}=e.payload;return ra({state:n,hasSuccess:!0,fieldId:a,hasEdit:!1})})).ignoreElements()),((e,t)=>e.ofType("FIELD_UPDATED").filter(ia).do((e=>{const n=t.getState(),{fieldId:a}=e.payload;return ra({state:n,hasSuccess:!0,fieldId:a,hasEdit:!0})})).ignoreElements()),((e,t)=>e.ofType("FIELD_SAVE_FAILURE").filter(ia).filter((({payload:e})=>!Object(a("HQr3").c)(e.error))).do((e=>{const n=t.getState(),{fieldId:s,error:i}=e.payload,o=(e=>e instanceof a("HQr3").a?aa:e instanceof a("HQr3").b?e.statusCode>=400&&e.statusCode<500?aa:"SERVER_ERROR":"CONNECTIVITY_ERROR")(i);return ra({state:n,hasSuccess:"SERVER_ERROR"!==o,fieldId:s,hasEdit:!0,errorMessage:`${i.statusCode||o} - ${i.message}`,traceId:i.traceId})})).ignoreElements()));const ca="issue.issue-view.get-create-linked-issue-permission.epic"
;var da=(e,t)=>e.ofType("FETCH_CREATE_LINKED_ISSUE_PERMISSION_REQUEST").switchMap((()=>{const e=t.getState(),n=Object(a("/LFc").G)(e);return Object(a("lJey").a)(e)&&("business"===n||"service_desk"===n)?(e=>Object(a("K4VI").a)(`${e}/rest/api/3/permissions/project`,{method:"POST",body:JSON.stringify({permissions:["CREATE_ISSUES"]})}).retry(2).flatMap((e=>{if(e&&e.projects){const t=e.projects.length>0;return K.Observable.of(Object(a("4geX").q)(t))}return a("RDfz").a.safeErrorWithoutCustomerData(ca,"The permission endpoint does not return the expected data"),K.Observable.of(Object(a("4geX").q)(!1))})).catch((e=>(a("RDfz").a.safeErrorWithoutCustomerData(ca,e),K.Observable.of(Object(a("4geX").q)(!1))))))(Object(a("4dgq").f)(e)):K.Observable.of(Object(a("4geX").q)(!1))})),ua=a("7tbW"),pa=a.n(ua);const ma=["assignee","project"],ba="issue.issuelinks.fetch.linked.issues.epic",ga=({id:e,key:t,fields:n})=>({id:e,assigneeUrl:n.assignee&&Object(a("gbrB").c)(n.assignee).avatarUrl,
assigneeDisplayName:n.assignee&&Object(a("gbrB").c)(n.assignee).displayName,projectType:n.project&&n.project.projectTypeKey,issueKey:t}),fa=(e,t)=>Object(a("Z+f9").b)(e,t,ma).map((e=>e.map(ga).reduce(((e,t)=>Object.assign(e,{[t.issueKey]:t})),{})));var ha=Object(F.combineEpics)(((e,t)=>e.ofType("FETCH_LINKED_ISSUES_REQUEST").switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").f)(e),s=Object(a("TstH").g)(e);return fa(n,s).flatMap((e=>K.Observable.of(Object(a("4geX").k)(e)))).catch((e=>(Object(a("be7s").a)(ba,"Error while fetching linked issues",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("4geX").j)(e)))))}))),((e,t)=>e.ofType("SAVE_LINKED_ISSUE_SUCCESS").switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").f)(e),s=Object(a("4dgq").w)(e),i=Object(a("TstH").i)(e),o=pa()(Object.values(i).map((e=>e.linkedIssueKey))),r=Object.values(i).filter((e=>e.isSaved)).map((e=>e.id))
;return K.Observable.zip(Object(a("Z+f9").d)(n,s),fa(n,o),((e,t)=>Object(a("4geX").i)(e,t,r,i))).catch((e=>(Object(a("be7s").a)(ba,"Error while fetching new issue links and their details",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("4geX").h)(r,e)))))}))));const Ea=async(e,t)=>t||Object(a("AQ1v").a)(e),ya=(e,t)=>Ea(Object(a("4dgq").i)(e),t),Oa={FETCH_ISSUE_REQUEST:"fetch",REFRESH_ISSUE_REQUEST:"refresh",LOAD_NEW_ISSUE:"load-new",FETCH_FORGE_REQUEST:"fetch-forge"},va=Object.keys(Oa);var ja=(e,t)=>(n,s)=>n.ofType(...va).switchMap((n=>{const i=Object(a("4dgq").b)(s.getState());if(!Object(a("cZvx").a)())return K.Observable.empty();let o,r,l=!1,c=!1;const d=Oa[n.type],u=null==e?void 0:e.issueForgeData,p=!!u,m=e=>{const t={actionType:d,isPrefetched:p};return p&&(t.isPrefetchedDataResolved=c,t.isPrefetchedDataValid=r),e&&(t.errorType=Object(a("3S91").a)(e),t.error=e),t};return Object(a("HaaC").f)(i,m()),null==u||u.then((e=>{l=!0,
o=e})),K.Observable.fromPromise(Promise.resolve().then((()=>(c=l,l&&(r=!!o),!p||!r&&c?ya(s.getState()):ya(s.getState(),u))))).map((e=>(Object(a("HaaC").e)(i,m()),t.setForge(e),Object(a("dlXB").a)(e)))).catch((e=>(Object(a("HaaC").d)(i,m(e)),K.Observable.empty())))}));var Ia=e=>Object(F.combineEpics)((e=>t=>t.ofType("FETCH_ISSUE_REMOTE_DATA_REQUEST").switchMap((t=>{if(t.payload){const n=t.payload;return e.getIssueRemoteData$(n).flatMap((e=>K.Observable.of(_(e))))}return K.Observable.of((()=>({type:"FETCH_ISSUE_REMOTE_DATA_FAILURE"}))())})))(e),(e=>(t,n)=>t.ofType("APPLINK_AUTHENTICATION_SUCCESS","SAVE_REMOTE_LINKED_ISSUE_SUCCESS").switchMap((()=>{const t=n.getState(),s=Object(a("4dgq").w)(t);return s?e.getIssueRemoteData$(s).flatMap((e=>K.Observable.of(_(e)))):K.Observable.empty()})))(e));const Ca=(e,t,n,s)=>{const i={action:t,actionSubjectId:Object(a("0Lwy").a)(n)(n)};s?Object(a("w49h").b)(e,i):Object(a("w49h").a)(e,i)}
;var Sa=(t,n)=>t.ofType("DELETE_ISSUE_REQUEST").mergeMap((({payload:t})=>{const{issueKey:s,analyticsEvent:i}=t;return((e,t)=>{const n=((e,t)=>`${e}/rest/api/3/issue/${t}?deleteSubtasks=true`)(e,t);return Object(a("K4VI").a)(n,{method:"DELETE"})})(Object(a("4dgq").f)(n.getState()),s).map((()=>(Ca(i,"deleted","issueDeleted"),Object(a("zhmH").d)(s)))).catch((t=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.delete.issue-delete-epic","Failed to delete issue",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:t})),Ca(i,"deletedError","issueDeletedError",t),K.Observable.of(Object(a("zhmH").b)(s,(t=>{try{return JSON.parse(t.message).errorMessages[0]}catch(e){return"Failed to delete issue"}})(t))))))}));const ka=e=>t=>n=>{e.dispatch(((e,t)=>({type:"SAVE_SERVER_TIME",payload:{key:e,serverTime:t}}))(t,Number(n.get("atl-vtm-backend-time"))))},wa=(e,t,n,s,i=!1)=>{
const{setIssue:o,setIssues:r,mergeIssues:l}=t,{setIssueConfig:c,setIssuesConfig:d,mergeIssuesConfig:p,mergeIssueConfig:m}=n,{fieldValues:b,fieldConfigs:g}=Jt(e),f=b["children-issues"]||[],h=b["epic-issues"]||[],E=b.subtasks||[],y=b["portfolio-child-issues"]||[],O=b["children-issues"],v=b["epic-issues"],j=b.subtasks,I=b["portfolio-child-issues"],{issuesFieldsValues:C,issueFieldsConfigurations:S,childrenKeyList:k}=en(f),{issuesFieldsValues:w,issueFieldsConfigurations:T,childrenKeyList:D}=en(h),{issuesFieldsValues:R,childrenKeyList:L}=Qt(E),{issuesFieldsValues:M,childrenKeyList:A}=Qt(y);o(s,u()(u()(u()(u()(u()({},b),O&&{"children-issues":k}),v&&{"epic-issues":D}),j&&{subtasks:L}),I&&{"portfolio-child-issues":A})),Object(a("d90y").isFieldDescriptionEnabled)()&&i?m(s,g):c(s,g),l(w),l(R),l(M),r(C),p(T),d(S)},Ta=["viewContext","uploadContext","userAuth"]
;var Da=({fieldValueActions:e,fieldConfigActions:t,issueViewLayoutActions:n,ecosystemActions:s,userPreferenceActions:i,issueTabsActions:o,permissionActions:r,attachmentActions:l,projectContextActions:c,prefetchedResourceManager:d,jiraSettingsActions:p,issueContextActions:b})=>(g,f)=>g.ofType("FETCH_ISSUE_REQUEST","LOAD_NEW_ISSUE").switchMap((()=>{Object(a("zLCk").a)();const g=f.getState(),h=Object(a("4dgq").a)(g),E=Object(a("4dgq").f)(g),y=b.getIssueKey(),O=b.getMaxTokenLength();return Object(a("Z+f9").a)(g,d).filter((()=>b.getIssueKey()===y)).do((({issue:{fields:s,tabs:d,id:u,viewScreenId:m},myPreferences:g,permissions:f,attachments:h,jiraSettings:E,issueSections:O,project:v,containersByType:j})=>{o.setIssueTabs(y,d),wa(s,e,t,y),Object(a("d90y").isLayoutContainersApiEnabled)()?n.setIssueViewContainersLayout(y,j):n.setIssueViewLayout(y,O),i.setUserPreferences(g),f&&v&&r.setProjectPermissions(Object(a("Rp3N").t)(v.projectKey),f),void 0!==h&&(l.setTotalCount(y,h.totalCount),
"number"==typeof h.deletableCount&&l.setDeletableCount(y,h.deletableCount),l.setVisibleAttachments(y,h.nodes)),E&&p.setJiraSettings(E),v&&c.setProjectContext(Object(a("Rp3N").t)(v.projectKey),v),u&&b.mergeIssueContext({issueId:Object(a("Rp3N").l)(String(u))}),b.mergeIssueContext({viewScreenId:m})})).mergeMap((e=>{const{viewContext:t,uploadContext:n,userAuth:i}=e,o=m()(e,Ta),r=t?K.Observable.of(oe(t)):Et(E,y,O,ka(f),null==d?void 0:d.issueMediaReadPermission);let l;return n?null!=n.error?l=Object(a("h2xQ").b)(new Error(n.error)):null!=n.clientId&&null!=n.serviceHost&&null!=n.token&&null!=n.tokenLifespanInMs&&null!=n.collection&&null!=n.tokenIssueTimestamp&&(l=Object(a("h2xQ").d)({clientId:n.clientId,serviceHost:n.serviceHost,token:n.token,tokenLifespanInMs:n.tokenLifespanInMs,collection:n.collection,tokenIssueTimestamp:n.tokenIssueTimestamp})):l=Object(a("h2xQ").c)(),r.map((e=>(s.setEcosystem(o.ecosystem),[e,l,i?ut(i):dt(),Object(a("dPO5").d)(o)])))})).flatMap((e=>(Object(a("CBUp").f)(),
Object(a("CBUp").e)(),d&&d.clearAll(),K.Observable.of(Object(U.batchActions)(e))))).catch((e=>{const t=((e,t)=>{let n="UNKNOWN_ERROR";if(401===e.statusCode?n="AUTHENTICATION_ERROR":403===e.statusCode||404===e.statusCode?n="NOT_FOUND_OR_NO_PERMISSION_ERROR":e.statusCode?t||(n="AUTHENTICATION_ERROR"):n="CONNECTIVITY_ERROR",e instanceof a("QMRn").a){const t=e,{endpoint:a,traceId:s,statusCode:i,message:o}=t;return{errorMessage:i?`${o}, endpoint: ${a}, status code: ${i}`:`${o}, endpoint: ${a}`,endpoint:a,traceId:s,statusCode:i,error:n}}if(e instanceof a("HQr3").b){const t=e,{message:a,statusCode:s,traceId:i}=t;return u()({error:n,statusCode:s,errorMessage:`${a}, status code: ${s}`},i?{traceId:i}:{})}return{error:n,statusCode:void 0}})(e,h);return"NOT_FOUND_OR_NO_PERMISSION_ERROR"===t.error||Object(a("be7s").a)("issue.fetch.issue-fetch-epic","FETCH_ISSUE_REQUEST: Failed to fetch issue data",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),
K.Observable.of(Object(a("dPO5").b)(t))}))}));const Ra=u()(u()({},a("jFAn").a),{},{method:"POST"}),La=(e,t,n)=>"OUTWARD"===e.direction?{type:{id:e.id},inwardIssue:{key:t},outwardIssue:{key:n}}:{type:{id:e.id},inwardIssue:{key:n},outwardIssue:{key:t}},Ma=e=>201===e.status?Promise.resolve(null):Promise.reject(new(a("tHEo").a)(e.status,`Error server response: ${e.status}`)),Aa=(e,t,n,s)=>K.Observable.fromPromise(((e,t)=>fetch(e,u()(u()({},Ra),t)).then(Ma))(Object(a("XtNG").m)(e),{body:JSON.stringify(La(t,n,s))})),_a=(e,t,n,s,i)=>{const o=Object(a("4dgq").f)(e),r=Object(a("4dgq").w)(e);return Aa(o,s,r,n).map((()=>Object(a("4geX").p)(t,i.update({action:"succeeded"})))).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.issuelinks.save.linked.issues.epic","Error while adding linked issues",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("4geX").m)(t,e,null==i?void 0:i.update({action:"failed"}))))))}
;var Na=Object(F.combineEpics)(((e,t)=>e.ofType("SAVE_LINKED_ISSUE_RETRY").mergeMap((e=>{const n=t.getState(),{optimisticId:s,requestAnalyticsEvent:i}=e.payload,o=Object(a("TstH").f)(s)(n),r=o&&o.linkedIssueKey,l=o&&{direction:o.direction,id:o.typeId};return _a(n,s,r,l,i)}))),((e,t)=>e.ofType("SAVE_LINKED_ISSUE_REQUEST").mergeMap((e=>{const n=t.getState(),{optimisticId:a,linkedIssueKey:s,issueLinkType:i}=e.payload.newIssueLinks,{requestAnalyticsEvent:o}=e.payload;return _a(n,a,s,i,o)})))),xa=a("zZ0H"),Ua=a.n(xa),Fa=a("Y+p1"),Pa=a.n(Fa);const Va=(e,t)=>{const n=document.getElementById("ghx-issue-fragment");window.AJS&&n?window.AJS.$(n).trigger(e,t):a("RDfz").a.safeErrorWithoutCustomerData("issue.rapid-board","Could not find container to send event for rapid board",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue"}))},Ka="refresh-sprints-on-board",$a="hide";var Wa=e=>Va(Ka,{sprintIds:[e]}),Ba=()=>Va($a);const qa=({pathname:e,search:t})=>e+t,Ha=(e,t,n,s)=>(i,o)=>{
const r={},l=i.ofType("NAVIGATE_TO_NEW_ISSUE").pluck("payload").do((({toIssueKey:e})=>{s.mergeIssueContext({issueKey:Object(a("Rp3N").n)(e)})})).do((({toIssueKey:e})=>{const i=o.getState(),r=Object(a("4dgq").b)(i),l=s.getIsLoadedWithPage(),c=n.getRecentIssuesCount(),d=n.getRecentIssue(e);Object(a("CBUp").a)({analyticsSource:String(r),isLoadedWithPage:l,isRecentIssue:!!d,recentIssuesCount:c,isSPA:!0,store:o,dataProvider:t}),Object(a("CBUp").n)()})).do((({fromIssueKey:t,toIssueKey:n})=>{if(e){r[qa(window.location)]=t;const a=((e,t,n)=>{const a=new RegExp(`${t}(?![\\d])`,"g"),s=e.match(a);return null===s||1!==s.length?null:e.replace(t,n)})(qa(window.location),t,n);a&&(r[a]=n,e.push(a))}})),c=e?K.Observable.create((t=>e.listen(((e,n)=>{t.next({location:e,action:n})})))).filter((({action:e})=>"POP"===e)).filter((()=>!s.getIsSpaEnabled())).map((({location:e})=>r[qa(e)])).filter(Ua.a).map((e=>({fromIssueKey:Object(a("4dgq").w)(o.getState()),toIssueKey:e
}))).filter((({fromIssueKey:e,toIssueKey:t})=>e!==t)):K.Observable.empty();return K.Observable.merge(l,c).distinctUntilChanged(((e,t)=>Pa()(e,t))).flatMap((({toIssueKey:e})=>{Object(a("zLCk").a)(),Object(a("CBUp").m)();const t=n.getRecentIssue(e);return t?(Object(a("CBUp").f)(),K.Observable.of(Object(a("5JtD").b)(e,t))):K.Observable.of(Object(a("5JtD").a)(e),A(e))})).takeUntil(i.last().catch((()=>K.Observable.of(!0)))).catch((e=>a("RDfz").a.safeErrorWithoutCustomerData("issue.issue-navigation-epic","Unexpected error in issue-navigation-epic",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e}))))},Ga=e=>e.ofType("NAVIGATE_TO_PROJECT").do((e=>{Object(a("OM3v").a)(e.payload.projectUrl,!1,e.payload.pushAction)})).ignoreElements(),Ya=e=>e.ofType("NAVIGATE_TO_SPRINT").do((e=>{Wa(e.payload.sprintId),Ba()})).ignoreElements(),Za=(e,t)=>{
const n=t.getState(),{atlassianId:s}=e.payload,i=Object(a("/LFc").y)(n),o=!!i&&s!==i.id,r=Object(a("Hc0Y").a)(n),l=a("7w0A").b.includes(null==r?void 0:r.type);return!(Object(a("mIpc").g)(n).length>0||l||!!Object(a("hi0A").a)(n))&&o};var Xa=Object(F.combineEpics)(((e,t)=>e.ofType("REALTIME_UPDATE_CURRENT_ISSUE").filter((()=>Object(a("KSCP").a)())).switchMap((e=>Za(e,t)?K.Observable.of(Object(a("dPO5").g)()):K.Observable.empty()))),((e,t)=>e.ofType("REALTIME_UPDATE_CURRENT_ISSUE").bufferToggle(a("8vMZ").a.filter((e=>!e)),(()=>a("8vMZ").a.filter((e=>e)))).switchMap((e=>e.some((e=>Za(e,t)))?K.Observable.of(Object(a("dPO5").g)()):K.Observable.empty()))));var Ja=({fieldValueActions:e,fieldConfigActions:t,issueViewLayoutActions:n,userPreferenceActions:s,attachmentActions:i,permissionActions:o,issueTabsActions:r,projectContextActions:l,issueContextActions:c})=>(d,u)=>d.ofType("REFRESH_ISSUE_REQUEST").switchMap((()=>{
const d=u.getState(),p=Object(a("4dgq").f)(d),m=Object(a("4dgq").w)(d),b=c.getMaxTokenLength();return K.Observable.zip(Et(p,m,b),Object(a("Z+f9").a)(d).do((({issue:{fields:d,tabs:u,id:p,viewScreenId:b},myPreferences:g,attachments:f,permissions:h,issueSections:E,containersByType:y,project:O})=>{r.setIssueTabs(m,u),Object(a("d90y").isFieldDescriptionEnabled)()?wa(d,e,t,m,!0):wa(d,e,t,m),Object(a("d90y").isLayoutContainersApiEnabled)()?n.setIssueViewContainersLayout(m,y):n.setIssueViewLayout(m,E),s.setUserPreferences(g),h&&O&&o.setProjectPermissions(Object(a("Rp3N").t)(O.projectKey),h),f&&i.setTotalCount(m,f.totalCount),f&&"number"==typeof f.deletableCount&&i.setDeletableCount(m,f.deletableCount),f&&i.setVisibleAttachments(m,f.nodes),O&&l.setProjectContext(Object(a("Rp3N").t)(O.projectKey),O),p&&c.mergeIssueContext({issueId:Object(a("Rp3N").l)(String(p))}),c.mergeIssueContext({viewScreenId:b})
})).map(a("dPO5").h)).mergeMap(K.Observable.from).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.fetch.issue-refresh-epic","REFRESH_ISSUE_REQUEST: Failed to refresh issue data",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty())))}));const za=e=>a("em5f").a`query {
            issue(issueIdOrKey: "${e}", latestVersion: true, screen: "view") {
                id
                viewScreenId
            }
        }`,Qa=(e,t)=>Object(a("K4VI").a)((e=>`${e}/rest/graphql/1/`)(e),(e=>({method:"POST",body:JSON.stringify({query:za(e)})}))(t));var es=(e,t)=>e.ofType("FETCH_SCREENID_REQUEST").switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").a)(e),s=Object(a("4dgq").f)(e),i=Object(a("4dgq").w)(e);return Qa(s,i).map(j).catch((e=>{const t=((e,t)=>{let n="UNKNOWN_ERROR";return 401===e?n="AUTHENTICATION_ERROR":403===e||404===e?n="NOT_FOUND_OR_NO_PERMISSION_ERROR":e?t||(n="AUTHENTICATION_ERROR"):n="CONNECTIVITY_ERROR",{error:n,statusCode:e}})(e.statusCode,n);return"NOT_FOUND_OR_NO_PERMISSION_ERROR"===t.error||Object(a("be7s").a)("issue.fetch.issue-screenid-epic","FETCH_ISSUE_REQUEST: Failed to fetch issue data",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of((e=>({type:"FETCH_SCREENID_FAILURE",payload:e}))(t))}))})),ts=a("1iNE"),ns=a.n(ts);const as=e=>({type:"SET_ISSUE_TYPES",payload:e}),ss=new Map
;var is=(e,t)=>e.ofType("SUBTASK_QUICK_ADD_CLICKED","ISSUE_IN_EPIC_QUICK_ADD_CLICKED","CHILD_ISSUE_QUICK_ADD_CLICKED","CHILD_ISSUE_PANEL_ADD_CLICKED").mergeMap((()=>{const e=t.getState(),n=Object(a("4dgq").A)(e),s=ss.get(n)||{time:new Date};if(s&&s.data&&new Date-s.time<18e5)return K.Observable.of(as(s.data));ss.set(n,s);const i=Object(a("4dgq").f)(e),o=ka(t);return K.Observable.concat(K.Observable.of((()=>({type:"FETCHING_ISSUE_TYPES"}))()),Object(a("upY+").a)(i,n,o).mergeMap((e=>{const t=e&&e.issueTypes;return ns()(t)?(ss.set(n,u()(u()({},s),{},{data:t})),K.Observable.of(as(t))):(ss.delete(n),K.Observable.of((()=>({type:"FETCH_ISSUE_TYPES_FAILED"}))()))})))}));var os=(e,t)=>Object(a("K4VI").a)(Object(a("XtNG").h)(e,t)),rs=(e,t)=>e.ofType("FETCH_JIRA_APP_LINKS_REQUEST","APPLINK_AUTHENTICATION_SUCCESS").switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").f)(e),s=Object(a("4dgq").w)(e)
;return os(n,s).map(a("yKKQ").c).catch((e=>(Object(a("be7s").a)("issue.fetch.jira-app-links-epic","FETCH_JIRA_APP_LINKS_REQUEST: Failed to fetch jira app links data",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of(Object(a("yKKQ").b)()))))})),ls=(e,t)=>e.ofType("LOGIN").switchMap((()=>{const e=Object(a("4dgq").y)(t.getState());if(e){const n=`${Object(a("4dgq").f)(t.getState())}/login.jsp?os_destination=${encodeURIComponent(e)}`,s=window.open(n,"_blank");return K.Observable.fromEvent(window,"message").filter((e=>e.origin===window.location.origin)).filter((e=>e.source===s)).filter((e=>e.data&&"log-in-successful"===e.data.status&&e.data.accountId)).do((e=>e.source.close())).mergeMap((e=>K.Observable.of(Object(a("5Gpo").b)({accountId:e.data.accountId}),Object(a("dPO5").c)())))}return K.Observable.empty()}));const cs=(e,{fieldId:t,commentId:n},s=!1)=>{
const i=Object(a("KSj7").u)(e).filter((e=>e!==t)),o=Object(a("ejT3").v)(e).filter((e=>e!==n)),r=!s&&Object(a("ejT3").x)(e);return i.length>0||o.length>0||r?((e,t,n)=>({type:"MULTILINE_FIELD_EDIT_BEGIN",payload:{multilineFieldIdsToClose:e,commentIdsToClose:t,shouldCloseAddCommentForm:n}}))(i,o,r):null};var ds=Object(F.combineEpics)(((e,t)=>e.ofType("FIELD_EDIT_BEGIN").filter((e=>Object(a("KSj7").K)(e.payload.fieldId)(t.getState()))).map((e=>cs(t.getState(),{fieldId:e.payload.fieldId}))).filter(Boolean)),((e,t)=>e.ofType("EDIT_COMMENT_BEGIN").map((e=>cs(t.getState(),{commentId:e.payload.id}))).filter(Boolean)),((e,t)=>e.ofType("ADD_COMMENT_FORM_EXPAND").map((()=>cs(t.getState(),{},!0))).filter(Boolean)));const us=(e,t)=>{const n="NEW_OPTIMISTIC_COMMENT",s=Object(a("4dgq").a)(e),i=Object(a("4dgq").w)(e),o=Object(a("RRLO").a)(n),r=Object(a("RRLO").c)(s,i,o);return K.Observable.of(Object(a("UWLJ").e)(n,r,t?a("Rc4V").l:null))
},ps=e=>(a("RDfz").a.safeErrorWithoutCustomerData("issue.new-comment-load-draft",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.empty());var ms=Object(F.combineEpics)(((e,t)=>e.ofType("SET_CONTEXT").mergeMap((()=>us(t.getState(),!1))).catch((e=>ps(e)))),((e,t)=>e.ofType("ADD_COMMENT_FORM_EXPAND").mergeMap((()=>us(t.getState(),!0))).catch((e=>ps(e)))));const bs=1e3,gs=new K.Subject;gs.bufferTime(bs,bs,50).subscribe((e=>{Object(a("/kNh").a)().loadIssues(pa()(e))}));const fs=new K.Subject;fs.bufferTime(bs,bs,50).subscribe((e=>Object(a("/kNh").a)().loadIssuesById(pa()(e))));var hs=e=>e.ofType("PREFETCH_ISSUES").do((e=>{const{issueKeys:t,issueIds:n}=e.payload;t.forEach((e=>gs.next(e))),n.forEach((e=>fs.next(e)))})).switchMap((()=>K.Observable.empty())),Es=e=>(t,n)=>t.ofType("PROJECT_ISSUE_TYPES_REQUEST").mergeMap((t=>{const s=Object(a("4dgq").f)(n.getState()),i=t.payload;return((e,t)=>{const n=`${e}/rest/api/3/project/${t}`
;return Object(a("K4VI").a)(n).map(qt)})(s,i).do((t=>e.mergeProjectProperty(i,{issueTypes:t}))).map((e=>Object(a("uhXo").c)(e))).catch((e=>(a("fnbV").a.safeErrorWithoutCustomerData("change.issue.type.fetchtypes",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Object(a("uhXo").a)(e)))))}));const ys=Object(a("0Lwy").a)("true","false");var Os=(e,t)=>e.ofType("FETCH_PROJECT_HAS_SUBTASK_VALIDATORS").switchMap((()=>{const e=t.getState();return((e,t)=>Object(a("K4VI").a)(((e,t)=>`${e}/rest/internal/2/project/${t}/hasValidatorsOnSubtasks`)(e,t)))(Object(a("4dgq").f)(e),Object(a("4dgq").A)(e)).do((e=>{Object(a("otOE").b)("project-validators.projectHasSubtaskValidators.result",{result:ys(e)})})).map((e=>(e=>({type:"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_SUCCESS",payload:e}))(e))).catch((()=>K.Observable.of((()=>({type:"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_FAILURE"}))())))}));var vs=(e,t)=>e.ofType("SET_CONTEXT").scan((({issueKey:e},t)=>({
issueKey:t.payload.issueKey,loggedInAccountId:t.payload.atlassianAccountId,previousIssueKey:e})),{issueKey:null,previousIssueKey:null,loggedInAccountId:null}).filter((({loggedInAccountId:e})=>null!==e)).filter((({issueKey:e,previousIssueKey:t})=>e!==t)).map((({issueKey:e})=>e)).delay(3e3).switchMap((e=>{const n=t.getState(),s=`${Object(a("4dgq").f)(n)}/rest/internal/2/issue/${e}/history`;return Object(a("K4VI").a)(s,{method:"POST"}).catch((e=>((e=>404===e.statusCode)(e)||Object(a("be7s").a)("issue.recently-viewed-issue-epic","Client network error occurred when fetching user issue history",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.empty()))).ignoreElements()}));const js=e=>{const{applicationType:t,applicationName:n,issueLinkUrl:a,relationship:s,summary:i,iconUrl:o,issueKey:r,createReciprocalLink:l}=e,c="WITH_ISSUE_ID"===e.payloadType?{globalId:e.globalId}:{appLinkId:e.appLinkId};return u()({application:{name:n,type:t},
relationship:s,object:{summary:i,icon:{url16x16:o},title:r,url:a},createReciprocalLink:l},c)},Is=u()(u()({},a("jFAn").a),{},{method:"POST"}),Cs=(e,t,n)=>((e,t,n)=>Object(a("K4VI").a)(Object(a("XtNG").n)(e,t),u()(u()({},Is),{},{body:JSON.stringify(js(n))})))(Object(a("4dgq").f)(e),Object(a("4dgq").w)(e),t).map((e=>{var s;return Object(a("tY4a").h)(t.id,e,n.update({action:"succeeded",isReciprocalLinkCreated:"CREATED"===(null===(s=e.reciprocalLink)||void 0===s?void 0:s.status)}))})).catch((e=>K.Observable.of(Object(a("tY4a").e)(t.id,t.issueKey,e,n.update({action:"failed",isReciprocalLinkCreated:!1}))))),Ss=(e,t)=>e.ofType("SAVE_REMOTE_LINKED_ISSUE_REQUEST").mergeMap((e=>{const n=t.getState(),{saveRemoteIssueLinkPayload:a,requestAnalyticsEvent:s}=e.payload;return Cs(n,a,s)})),ks=(e,t)=>e.ofType("SAVE_REMOTE_LINKED_ISSUE_RETRY").mergeMap((e=>{const n=t.getState(),{optimisticId:s,requestAnalyticsEvent:i}=e.payload,o=((e,t)=>{const n=Object(a("TstH").k)(e).find((e=>e.id===t))
;if(!n||void 0===n.applicationName||void 0===n.applicationType||void 0===n.iconUrl||void 0===n.relationship||void 0===n.summary)return;const s={id:n.id,applicationType:n.applicationType,applicationName:n.applicationName,issueLinkUrl:n.issueLinkUrl,relationship:n.relationship,summary:n.summary,iconUrl:n.iconUrl,issueKey:n.issueKey,createReciprocalLink:Boolean(n.createReciprocalLink)};if(void 0===n.globalId){if(void 0===n.appLinkId)return;return u()(u()({},s),{},{appLinkId:n.appLinkId,payloadType:"WITHOUT_ISSUE_ID"})}return u()(u()({},s),{},{globalId:n.globalId,remoteIssueId:n.remoteIssueId,payloadType:"WITH_ISSUE_ID"})})(n,s);return o?Cs(n,o,i.update({withReciprocalLink:Boolean(o.createReciprocalLink)})):K.Observable.empty()})),ws=e=>{switch(e){case"portal":return"portal";case"email":return"email";case"api":return"api";case"jira":return"jira";case"deployment":return"deployment";case"anonymousportal":return"anonymousportal";default:return"unknown"}},Ts=e=>K.Observable.of((e=>({
type:"REQUEST_PANEL_METADATA_FETCH_SUCCESS",payload:{channel:ws(e.channel),requestUrl:e.requestUrl,csatComment:e.csatComment}}))(e)),Ds=e=>(a("fnbV").a.safeErrorWithoutCustomerData("issue.request-panel-metadata.fetch",JSON.stringify(e),new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:new Error(JSON.stringify(e))})),K.Observable.of((()=>({type:"REQUEST_PANEL_METADATA_FETCH_FAILURE"}))()));var Rs=(e,t)=>e.ofType("FETCH_REQUEST_PANEL_METADATA").flatMap((()=>(e=>Object(a("K4VI").a)(((e,t)=>`${e}/rest/servicedesk/1/servicedesk/request/${t}/request-panel-metadata`)(Object(a("4dgq").f)(e),Object(a("4dgq").w)(e))))(t.getState()).flatMap((e=>e.errors?Ds(e):Ts(e))).catch((e=>Ds(e))))),Ls=(e,t)=>e.ofType("SHARE_AS_COMMENT").switchMap((()=>{const e=t.getState();return Object(a("ejT3").x)(e)?K.Observable.empty():K.Observable.of(Object(a("Rc4V").c)(),Object(a("Rc4V").d)("NEW_OPTIMISTIC_COMMENT",!1))}))
;var Ms=(e,t)=>e.ofType("FETCH_LOGGED_IN_USER_REQUEST").switchMap((()=>{const e=t.getState(),n=Object(a("4dgq").a)(e);if(!n)return K.Observable.empty();const s=((e,t)=>`${e}/rest/api/2/user?accountId=${encodeURIComponent(t)}${Object(a("d90y").isUseAppPermissionsFromTenantContextEnabled)()?"":"&expand=applicationRoles"}`)(Object(a("4dgq").f)(e),n);return Object(a("K4VI").a)(s).map(a("gbrB").d).map((e=>{const t=Object(a("gbrB").c)(e),n=Object(a("gbrB").a)(e);return N(t,n)})).catch((e=>(Object(a("be7s").a)("issue.fetch.user-fetch-epic","FETCH_LOGGED_IN_USER_REQUEST: Failed to fetch logged in user details",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),K.Observable.of((()=>({type:"FETCH_LOGGED_IN_USER_FAILURE"}))()))))}));const As="issue.fetch.user-fetch-timing-epic"
;var _s=()=>Object(a("d90y").isUseAppPermissionsFromTenantContextEnabled)()?()=>K.Observable.empty():Object(a("d90y").isItSafeLoggingEnabledToUseAppPermissionsFromTenantContext)()?e=>e.ofType("FETCH_LOGGED_IN_USER_REQUEST").switchMap((()=>{const e=["ajs-has-jira-software","ajs-has-jira-service-desk","ajs-has-jira-core"].filter((e=>null==Object(a("1lWS").a)(e)));return e.length&&a("fnbV").a.safeWarnWithoutCustomerData(As,`Missing some product access meta tags: ${e.toString()}`),K.Observable.empty()})):(()=>{let e=null,t=null;return(n,s)=>n.pipe(Ue("FETCH_LOGGED_IN_USER_SUCCESS","FETCH_ISSUE_SUCCESS"),Object(Ae.mergeMap)((n=>{switch(n.type){case"FETCH_LOGGED_IN_USER_SUCCESS":if(e&&!t){const t=s.getState();"service_desk"===Object(a("/LFc").G)(t)&&a("fnbV").a.safeWarnWithoutCustomerData(As,`Issue data loaded before user data loaded. By [${Date.now()-e}]ms`)}t=Date.now();break;case"FETCH_ISSUE_SUCCESS":e=Date.now()}return K.Observable.empty()})))})();const Ns=(e,t,n)=>({object:{icon:{
url16x16:n},title:e,url:t}}),xs=({baseUrl:e,issueId:t,href:n,linkText:s,iconUrl:i})=>Object(a("/rpS").d)(`${((e,t)=>`${e}/rest/api/3/issue/${t}/remotelink`)(e,t)}`,{body:JSON.stringify(Ns(s,n,i))}).then((e=>((e,t,n,s)=>({id:Object(a("Rp3N").y)(e.id),href:t,linkText:n,iconUrl:s,resolved:null,relationship:null,applicationName:null,applicationType:null}))(e,n,s,i))),Us="issue.fetch.web-links-epic",Fs=(e,t,n)=>{const s=e.message;Object(a("be7s").a)(n,t,e,{errorReason:s})},Ps=(e,t,n,s,i)=>{if(void 0===n||void 0===s){const e=void 0===n?"No issueId when creating weblink":"Broken weblink state when creating weblink";return a("fnbV").a.safeErrorWithoutCustomerData(Us,i,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:new Error(e)})),K.Observable.empty()}const{href:o,linkText:r,iconUrl:l}=s,c=null==l?"":l;return K.Observable.from(xs({baseUrl:t,href:o,issueId:Object(a("Rp3N").l)(n.toString()),linkText:null==r?o:r,iconUrl:Object(a("Rp3N").k)(c)
})).map((e=>Object(a("+VYr").e)(s.id,e))).catch((e=>(Fs(e,`${i}: Failed to create web link`,Us),K.Observable.of(Object(a("+VYr").b)(s.id)))))},Vs=(e,t)=>e.ofType("DELETE_WEB_LINK_REQUEST").switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").w)(n),{id:o}=e.payload;return K.Observable.fromPromise(((e,t,n)=>Object(a("/rpS").a)(`${e}/rest/api/3/issue/${t}/remotelink/${n}`))(s,i,o)).map((()=>Object(a("+VYr").i)(o))).catch((e=>(Fs(e,"DELETE_WEB_LINK_REQUEST: Failed to delete web link",Us),K.Observable.of(Object(a("+VYr").g)(o)))))})),Ks=(e,t)=>e.ofType("CREATE_WEB_LINK_REQUEST").switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").v)(n),{optimisticId:o}=e.payload,r=Object(a("anlJ").e)(o)(n);return Ps(0,s,i,r,"CREATE_WEB_LINK_REQUEST")})),$s=(e,t)=>e.ofType("CREATE_WEB_LINK_RETRY").switchMap((e=>{const n=t.getState(),s=Object(a("4dgq").f)(n),i=Object(a("4dgq").v)(n),{optimisticId:o}=e.payload,r=Object(a("anlJ").e)(o)(n)
;return Ps(0,s,i,r,"CREATE_WEB_LINK_RETRY")}));var Ws=e=>e.ofType("state.EDIT_WORKLOG_SUCCESS","state.ADD_WORKLOG_SUCCESS").filter((e=>e.meta.shouldFetchViewContext)).mapTo(ie()),Bs=a("bNQv"),qs=a.n(Bs);const Hs=["FIELD_SAVE_SUCCESS","SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_SUCCESS","ISSUE_RELATIONSHIP_UPDATE_SUCCESS","FIELD_SAVE_REQUEST","FIELD_SAVE_FAILURE","FIELD_UPDATED","FIELD_CONFIRM_NEW_FIELD","FIELD_CONFIRM_FAILURE_NEW_FIELD","FETCH_LINKED_ISSUES_DATA_SUCCESS","DELETE_LINKED_ISSUE_SUCCESS","CHILD_ISSUE_ADD_SUCCESS","ISSUE_CHILDREN_ORDER_CHANGE_SUCCESS"];var Gs=e=>(t,n)=>t.ofType(...Hs).do((t=>{if(e)try{const s=Object(a("Rp3N").l)(String(Object(a("4dgq").v)(n.getState())));switch(t.type){case"SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_SUCCESS":{const{payload:{fieldId:n,targetTypeName:i}}=t;e({issueId:s,type:a("87wI").a.ISSUE_TYPE_CHANGED,fieldId:n,meta:{typeName:i}});break}case"FIELD_UPDATED":{const{payload:{fieldId:n,fieldValue:i}}=t;e({issueId:s,type:a("87wI").a.FIELD_CHANGED,fieldId:n,meta:{
fieldId:n,fieldValue:i}});break}case"ISSUE_RELATIONSHIP_UPDATE_SUCCESS":{const{payload:{oldParentIdsByIssueIds:n,parentIssueId:i}}=t;e({issueId:s,type:a("87wI").a.ISSUE_RELATIONSHIP_UPDATED,meta:{newParentIssueId:i,oldParentIssueId:n[s]||null}});break}case"FETCH_LINKED_ISSUES_DATA_SUCCESS":{const n=((e,t)=>{const{payload:{optimisticLinks:n,issueLinks:s}}=t,i=[];return qs()(n,(e=>{const t=s.linkedIssues[e.linkedIssueKey];t&&i.push({linkedIssueId:Object(a("Rp3N").l)(t.id),direction:e.direction})})),i})(0,t);n.length&&e({issueId:s,type:a("87wI").a.ISSUE_LINKS_CREATED,meta:{links:n}});break}case"DELETE_LINKED_ISSUE_SUCCESS":{const{meta:{issueId:n,direction:i}}=t;e({issueId:s,type:a("87wI").a.ISSUE_LINK_DELETED,meta:{linkedIssueId:n,direction:Object(a("lb/0").b)(i)}});break}case"CHILD_ISSUE_ADD_SUCCESS":{const{issueKey:n,issueLink:i,issueSummary:o,issueTypeIconUrl:r,issueTypeName:l}=t.payload.childIssue;e({issueId:s,type:a("87wI").a.CHILD_ISSUE_ADDED,meta:{childIssue:{
id:Object(a("Rp3N").l)(t.payload.childIssue.id),issueKey:n,issueLink:i,issueSummary:o,issueTypeIconUrl:r||void 0,issueTypeName:l||void 0}}});break}case"ISSUE_CHILDREN_ORDER_CHANGE_SUCCESS":e({issueId:s,type:a("87wI").a.ISSUE_CHILDREN_ORDER_CHANGED,meta:t.payload});break;case"FIELD_SAVE_REQUEST":{const{payload:{fieldId:n,value:i}}=t;e({issueId:s,type:a("87wI").a.FIELD_CHANGE_REQUESTED,meta:{fieldId:n,fieldValue:i}});break}case"FIELD_SAVE_FAILURE":{const{payload:{fieldId:n}}=t;e({issueId:s,type:a("87wI").a.FIELD_CHANGE_FAILED,meta:{fieldId:n}});break}case"FIELD_CONFIRM_NEW_FIELD":{const{payload:{fieldId:n,fieldValue:i}}=t;e({issueId:s,type:a("87wI").a.FIELD_CHANGE_REQUESTED,meta:{fieldId:n,fieldValue:i}});break}case"FIELD_CONFIRM_FAILURE_NEW_FIELD":{const{payload:{fieldId:n}}=t;e({issueId:s,type:a("87wI").a.FIELD_CHANGE_FAILED,meta:{fieldId:n}});break}}}catch(s){
a("fnbV").a.safeErrorWithoutCustomerData("issue.issue-field.ops.change-notification","Failed to call onChange callback",new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:s}))}})).ignoreElements();const Ys=e=>({type:"FIELD_LOAD_DRAFT_FAILURE",payload:e});var Zs=e=>e.ofType("FIELD_SAVE_SUCCESS").mergeMap((e=>(e=>{const{payload:{fieldId:t}}=e;return K.Observable.of(Object(a("UWLJ").b)({fieldId:t}))})(e))).catch((e=>(e=>(Object(a("be7s").a)("issue.delete-draft-request","Could not send request to delete field draft from local storage",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of((e=>({type:"FIELD_DELETE_DRAFT_FAILURE",payload:e}))(e))))(e)));var Xs=(e,t)=>e.ofType("FIELD_EDIT_BEGIN").mergeMap((e=>K.Observable.merge(...((e,t)=>{const n=Object(a("KSj7").N)(t);if(-1!==n.indexOf(e.payload.fieldId)){const s=Object(a("4dgq").a)(t),i=Object(a("4dgq").w)(t);return n.map((n=>{
const o=Object(a("KSj7").p)(n)(t),r=Object(a("RRLO").c)(s,i,n);return K.Observable.of(Object(a("UWLJ").e)(n,r,n!==e.payload.fieldId?null:a("mUiE").e,o))}))}return[]})(e,t.getState())))).catch((e=>(e=>(Object(a("be7s").a)("issue.load-field-draft","Failed to send request to load field draft from local storage ",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of(Ys(e))))(e)));var Js=e=>e.ofType("FIELD_INIT_OPTIONS","FIELD_EDIT_REQUEST_EXTERNAL").groupBy((e=>e.payload.fieldId)).mergeMap((e=>{const t=e.filter((e=>"FIELD_EDIT_REQUEST_EXTERNAL"===e.type)),n=e.filter((e=>"FIELD_INIT_OPTIONS"===e.type)),s=t.takeUntil(n).takeLast(1).merge(n.take(1)).pairwise(),i=t.withLatestFrom(n);return K.Observable.merge(s,i).map((([e,t])=>{const{fieldId:n,fieldOptions:s}=t.payload;return Object(a("mUiE").b)(n,s)}))}));var zs=(e,t)=>{const n=e.ofType("ASSIGN_TO_ME_EXTERNAL"),s=e.ofType("FIELD_INIT_OPTIONS").filter((e=>"assignee"===e.payload.fieldId))
;return n.filter((()=>{const e=t.getState();return Object(a("/LFc").y)(e)&&Object(a("nGHA").d)(e)})).withLatestFrom(s,((e,{payload:{fieldOptions:n}})=>{const s=t.getState(),i=Object(a("/LFc").y)(s);return i?Object(a("QNn4").d)("assignee",(({avatarUrl:e,displayName:t,id:n})=>({avatarUrls:{"48x48":e},displayName:t,accountId:n}))(i),u()(u()({},n),{},{onSaveSuccessFlagType:a("AmUS").c})):null}))},Qs=Object(F.combineEpics)(Js,zs);var ei=(e,t)=>e.pipe(Ue("FETCH_ISSUE_SUCCESS"),Object(Ae.mergeMap)((e=>K.Observable.merge(...((e,t)=>{const n=Object(a("4dgq").a)(t),s=Object(a("4dgq").w)(t);return Object(a("KSj7").N)(t).map((e=>{const i=Object(a("KSj7").i)(e)(t),o=Object(a("RRLO").c)(n,s,e);return K.Observable.of(Object(a("UWLJ").e)(e,o,null,i))}))})(0,t.getState())))),Object(Ae.catchError)((e=>(e=>(Object(a("be7s").a)("issue.load-field-draft","Failed to send request to load field draft from local storage ",e,{}),K.Observable.of(Ys(e))))(e))))
;var ti=e=>e.ofType("FIELD_SAVE_SUCCESS").filter((e=>e.payload.fieldOptions.canContainMediaContent&&e.meta.shouldFetchViewContext)).mapTo(ie());var ni=(e,t)=>e.ofType("FIELD_EDIT_UPDATE").mergeMap((e=>((e,t)=>{const{payload:{fieldId:n,fieldOptions:s,value:i}}=e;if(!s||!s.shouldSaveDraft)return K.Observable.empty();const o=Object(a("KSj7").o)(n)(t);return K.Observable.of(Object(a("UWLJ").h)(n,i,o))})(e,t.getState()))).catch((e=>(e=>(Object(a("be7s").a)("issue.save-draft","Could not send request to save field draft to local storage",e,new(a("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),K.Observable.of((e=>({type:"FIELD_SAVE_DRAFT_FAILURE",payload:e}))(e))))(e))),ai=a("d8FT"),si=a.n(ai);const ii=e=>e&&e.id,oi=e=>e instanceof a("HQr3").a?e.errors&&e.errors.length>0?e.errors[0].error:e.message:null,ri=(e,t)=>Object(a("Z+f9").c)(e,t).map(a("dPO5").h),li=(e,t,n,s,i,o,r)=>{
const l=Object(a("4dgq").f)(e),c=Object(a("4dgq").w)(e),d=Object(a("KSj7").m)(t)(e),p=Object(a("KSj7").s)(t)(e),m=Object(a("KSj7").g)(t)(e),b=Object(a("KSj7").r)(t)(e),g=Object(a("6P8Q").c)(b)?n:((e,t)=>{var n;switch(e){case"option2":return null!==(n=null==t?void 0:t.id)&&void 0!==n?n:null;case"array":return t.map((e=>e.id));default:return t}})(p,n);o.setFieldValue(c,t,g);return K.Observable.fromPromise(s.saveField(u()({baseUrl:l,issueKey:c,fieldId:t,fieldMetaKey:d,value:g,saveFieldData:i},m?{fieldEditSessionId:m}:null),e)).flatMap((e=>{const{updatedFieldValue:n}=e||{};let i=g;return e&&void 0!==n&&(o.setFieldValue(c,t,n),i=n),[Object(a("QNn4").e)(t,s,i,e,{issueKey:c,shouldFetchViewContext:r}),Object(a("QNn4").h)(t,i)]}))},ci=e=>(t,n)=>t.ofType("FIELD_SAVE_REQUEST").groupBy((e=>e.payload.fieldId)).mergeMap((t=>t.switchMap((t=>{
const s=n.getState(),i=Object(a("4dgq").w)(s),{fieldId:o,value:r,fieldOptions:l,saveFieldData:c,shouldFetchViewContext:d}=t.payload,u=l.isOptimistic?li(s,o,r,l,c,e,d):((e,t,n,a,s,i,o)=>li(e,t,n,a,s,i,o).mergeMap((t=>ri(e).mergeMap((e=>K.Observable.of(e,t))))))(s,o,r,l,c,e,d),p=Object(a("KSj7").p)(o)(s);return u.catch((t=>{const n=oi(t);return e.setFieldValue(i,o,p),K.Observable.of(Object(a("QNn4").c)(o,n,t,l))}))})))),di=["status","timeoriginalestimate"],ui=(e,t,n)=>(s,i)=>s.ofType("FIELD_UPDATED").filter((e=>di.includes(e.payload.fieldId))).switchMap((s=>((e,t,n,s,i)=>Object(a("Z+f9").c)(e,t).do((t=>{const{fields:o}=t.issue,r=Object(a("4dgq").w)(e);return wa(o,n,s,r),i.setTransitionInProgress(!1),t})).map(a("dPO5").h))(i.getState(),(e=>{const{fieldId:t,extraParams:n}=e.payload;if("status"===t)return{shouldRefreshComments:n&&n.viaDialog}})(s),e,t,n))),pi=(e,t)=>e.ofType(a("AmUS").H,"ZERO_APPROVAL_REQUIRED").switchMap((()=>ri(t.getState())))
;var mi=(e,t,n)=>Object(F.combineEpics)((e=>(t,n)=>t.ofType("FIELD_EDIT_CONFIRM").map((t=>{const s=n.getState(),{fieldId:i,fieldOptions:o,saveFieldData:r,analyticsEvent:l,analyticsAttributeIdRetriever:c=ii}=t.payload,d=Object(a("4dgq").w)(s),u=Object(a("KSj7").i)(i)(s),p=e.getFieldValue(d,i);if(Pa()(u,p))return Object(a("mUiE").c)(i,o);let m=!1;if(o.isRichTextField&&o.canContainMediaContent){const e=Object(a("KSj7").r)(i)(s),t=e&&e.adfValue;m=Object(a("IJwP").e)(t,u),m&&n.dispatch(le())}const b=si()({updatedField:i,oldValId:c(p),newValId:c(u)},(e=>null!=e));return Object(a("QNn4").d)(i,u,o,r,l,b,m)})))(e),ci(e),(()=>(e,t)=>e.ofType("FIELD_UPDATE").groupBy((e=>e.payload.fieldId)).mergeMap((e=>e.switchMap((e=>{const n=t.getState(),{fieldId:s,fieldValue:i,fieldOptions:o}=e.payload;return(o.isOptimistic?K.Observable.of(Object(a("QNn4").h)(s,i)):ri(n).mergeMap((e=>K.Observable.of(e,Object(a("QNn4").h)(s,i))))).catch((e=>{const t=oi(e);return K.Observable.of(Object(a("QNn4").c)(s,t,e,o))}))
})))))(),ui(e,t,n),pi),bi=(e,t)=>e.ofType("FIELD_EDIT_BEGIN","FIELD_PASTE","FIELD_SAVE_SUCCESS").groupBy((e=>e.payload.fieldId)).map((e=>{const n=e.filter((({type:e})=>"FIELD_EDIT_BEGIN"===e));return e.window(n).map((e=>{const n=e.filter((({type:e})=>"FIELD_SAVE_SUCCESS"===e)),s=e.filter((({type:e})=>"FIELD_PASTE"===e)).takeUntil(n).reduce(((e,t)=>[...e,t.payload.pastedContent]),[]);return n.withLatestFrom(s).mergeMap((([e,n])=>{const{fieldId:s,fieldOptions:i}=e.payload,o=Object(a("KSj7").p)(s)(t.getState());return 0===n.length?K.Observable.empty():K.Observable.of(Object(a("QNn4").f)(s,i,o,n))}))})).mergeAll()})).mergeAll();const gi=()=>[jt,kt,Ct,ni,Zs,ei,Xs,an,dn,pn],fi=()=>[wn];let hi=fi;hi=(e,t,n,s,i,o,r,l,c,d,u,p,m,b,g,f,h,E,y,O)=>[wn,it,Da({fieldValueActions:i,fieldConfigActions:o,issueViewLayoutActions:r,ecosystemActions:c,userPreferenceActions:p,issueTabsActions:f,permissionActions:g,attachmentActions:d,prefetchedResourceManager:m,jiraSettingsActions:h,projectContextActions:E,
issueContextActions:y}),Ja({fieldValueActions:i,fieldConfigActions:o,issueViewLayoutActions:r,userPreferenceActions:p,permissionActions:g,issueTabsActions:f,attachmentActions:d,projectContextActions:E,issueContextActions:y}),ja(m,l),ta,At,Ms,_s(),mi(i,o,O),ls,fn,rn(d),a("qNKP").d,a("qNKP").e,a("qNKP").f,wt,Object(a("qNKP").c)(b),Ls,ha,Pt,yt(a("4dgq").f,a("4dgq").w,d,y),$t,un,ti,Dn,Na,da,Kt,...gi(),Gs(e),ms,ea,Wt,Bt,Ha(s,n,u,y),Ga,Ya,Ia(n),Sa,Qs,na(t),hn,bi,Os,vs,Xt,Es(E),Yt,Rs,rs,yn,kn,Xa,Me(d,b),Ws,la,ds,is,es,Vs,Ks,$s,hs,Mn,Ss,ks,Mt,tn(i,o)];var Ei=(e,t,n,a,s,i,o,r,l,c,d,u,p,m,b,g,f,h,E,y)=>Object(F.combineEpics)(...((e,t,n,a,s,i,o,r,l,c,d,u,p,m,b,g,f,h,E,y)=>hi(e,t,n,a,s,i,o,r,l,c,d,u,p,m,b,g,f,h,E,y))(e,t,n,a,s,i,o,r,l,c,d,u,p,m,b,g,f,h,E,y));const yi={server:{}};var Oi=(e=yi,t)=>{const{type:n,payload:a}=t;switch(n){case"SAVE_SERVER_TIME":return a.serverTime?u()(u()({},e),{},{server:u()(u()({},e.server),{},{[a.key]:a.serverTime})}):e;default:return e}};var vi=(e=null,t)=>{
const{type:n,payload:a}=t;switch(n){case"FETCH_UPLOAD_CONTEXT_SUCCESS":return a;case"FETCH_UPLOAD_CONTEXT_FAILURE":return null;default:return e}};var ji=(e=null,t)=>{const{type:n,payload:a}=t;switch(n){case"FETCH_USER_AUTH_SUCCESS":return a;case"FETCH_USER_AUTH_FAILURE":return null;default:return e}};const Ii="FETCH_ERROR",Ci={clientId:Ii,serviceHost:Ii,tokenLifespanInMs:0,tokenIssueTimestamp:0,token:null,areTokenPermissionsUpToDate:!1,collection:null};var Si=(e=null,t)=>{const{type:n,payload:a}=t;switch(n){case"FETCH_VIEW_CONTEXT_FAILURE":return Ci;case"FETCH_VIEW_CONTEXT_SUCCESS":return a;case"MARK_TOKEN_AS_OUTDATED":return u()(u()({},e),{},{areTokenPermissionsUpToDate:!1});case"MARK_TOKEN_AS_UP_TO_DATE":return u()(u()({},e),{},{areTokenPermissionsUpToDate:!0});default:return e}},ki=a("noZS"),wi=a.n(ki);const Ti={},Di=(e,t,n,a=[])=>{const s=u()(u()({},e),{},{[t]:u()(u()({},e[t]),n)});return a.forEach((e=>{delete s[t][e]})),s};var Ri=(e=Ti,t)=>{switch(t.type){
case"REFRESH_ISSUE_SUCCESS":case"FETCH_ISSUE_SUCCESS":{const{fields:n}=t.payload.issue;return wi()(n,(t=>u()(u()({},t),{},{editingValue:e[t.key]&&e[t.key].editingValue,pendingValue:e[t.key]&&e[t.key].pendingValue})))}case"PREVIEW_DATA_FETCHED":{const n=Object(a("E+PD").a)(t.payload);return Object(Fe.merge)(e,n)}case"FIELD_EDIT_BEGIN":{const{fieldId:n,fieldOptions:{isRichTextField:s},fieldEditSessionId:i}=t.payload;if(Object(a("d90y").is2afErrorCleanupGroup2Enabled)()&&!e[n])return e;const o=s?Object(a("qCEV").b)(e[n]):Object(a("qCEV").a)(e[n]);return Di(e,n,u()({editingValue:o},i?{fieldEditSessionId:i}:null),["invalidMessage","isInvalid"])}case"MULTILINE_FIELD_EDIT_BEGIN":{const{multilineFieldIdsToClose:n}=t.payload;if(null!=n){const t=n.reduce(((t,n)=>u()(u()({},t),{},{[n]:u()(u()({},e[n]),{},{editingValue:void 0})})),{});return u()(u()({},e),t)}return e}case"FIELD_EDIT_UPDATE":{const{fieldId:n,value:a}=t.payload;return Di(e,n,{editingValue:a},["invalidMessage","isInvalid"])}
case"FIELD_SAVE_REQUEST":{const{fieldId:n,value:a}=t.payload;return Di(e,n,{pendingValue:a},["editingValue"])}case"FIELD_EDIT_CANCEL":{const{fieldId:n}=t.payload;return Di(e,n,{},["editingValue","invalidMessage","isInvalid","fieldEditSessionId"])}case"FIELD_SAVE_SUCCESS":{const{fieldId:n,fieldOptions:a,saveFieldResult:s}=t.payload;if(!(n in e))return e;const{pendingValue:i}=e[n];let o=Di(e,n,{},["pendingValue","fieldEditSessionId"]);if(a.isOptimistic)if(a.isRichTextField)o=Di(o,n,{adfValue:i});else{const{updatedFieldValue:e}=s||{};o=Di(o,n,{value:void 0!==e?e:i})}return o}case"FIELD_UPDATE":{const{fieldId:n,fieldValue:a}=t.payload;return Object.prototype.hasOwnProperty.call(e,n)?Di(e,n,{value:a},["pendingValue","editingValue","fieldEditSessionId"]):e}case"FIELD_SAVE_FAILURE":{const{fieldId:n,invalidMessage:s,fieldOptions:i}=t.payload,o=e[n];if(Object(a("d90y").isSentryErrorFixesEnabled)()&&!o)return e;const{pendingValue:r}=o,l=i.shouldDiscardChangeOnFailure?["editingValue"]:[]
;return Di(e,n,{editingValue:r,isInvalid:!0,invalidMessage:s},["pendingValue","fieldEditSessionId",...l])}case"FIELD_ADD_ALLOWED_VALUES":{const{allowedValues:n,fieldId:a}=t.payload,s=e[a]&&e[a].allowedValues||[];return Di(e,a,{allowedValues:[...s,...n]})}case"state.UPDATE_TIME_REMAINING_SUCCESS":{const{timeRemaining:n}=t.payload;return u()(u()({},e),{},{timetracking:u()(u()({},e.timetracking),{},{value:u()(u()({},e.timetracking.value),{},{remainingEstimateSeconds:n})})})}case"state.ADD_WORKLOG_SUCCESS":{const{timeTracking:n}=t.payload;return Di(e,"timetracking",{value:n})}case"state.EDIT_WORKLOG_SUCCESS":case"state.DELETE_WORKLOG_SUCCESS":{const{timeSpentSecondsDelta:n,newRemainingEstimateSeconds:a}=t.payload.timeTrackingDeltas,s=e.timetracking.value,i=u()(u()({},s),{},{timeSpentSeconds:(s.timeSpentSeconds||0)+n});return null!==a&&(i.remainingEstimateSeconds=a),Di(e,"timetracking",{value:i})}case"UPDATE_APPROVAL_LINKED_USER_PICKER_FIELD":{
const{linkedUserPickerFieldId:n,newApproverList:a}=t.payload;return n&&e[n]?Di(e,n,{value:a}):e}default:return e}};const Li={selectedActivityItem:null,selectedActivitySortOrder:"NEWEST_FIRST"};var Mi=(e=Li,t)=>{switch(t.type){case"PREVIEW_DATA_FETCHED":return u()(u()({},e),{},{selectedActivitySortOrder:t.payload.activitySortOrder});case"SELECT_INITIAL_ACTIVITY_ITEM":case"SELECT_ACTIVITY_ITEM":return u()(u()({},e),{},{selectedActivityItem:t.payload});case"SELECT_ACTIVITY_SORT_ORDER":return u()(u()({},e),{},{selectedActivitySortOrder:t.payload});case"FETCH_ISSUE_SUCCESS":return u()(u()({},e),{},{selectedActivitySortOrder:t.payload.activitySortOrder});default:return e}};const Ai={epic:void 0};var _i=(e=Ai,t)=>{switch(t.type){case"FETCH_ISSUE_SUCCESS":return u()({},t.payload.issue.agile);default:return e}};const Ni={isOpen:!1};var xi=(e=Ni,t)=>{switch(t.type){case"SHOW_ASSIGN_ISSUE_PARENT_MODAL":return u()(u()({},e),{},{isOpen:!0});case"HIDE_ASSIGN_ISSUE_PARENT_MODAL":
return u()(u()({},e),{},{isOpen:!1});default:return e}};const Ui={isPopupOpen:!1,attachments:{},placeholderAttachmentCount:0},Fi=(e,t)=>{if(!(e=>Boolean((null==e?void 0:e.id)&&(null==e?void 0:e.mediaApiFileId)))(t))return e;const{id:n,mediaApiFileId:a}=t,s=[n,a],i=Object.keys(e.attachments).filter((e=>!s.includes(e))).reduce(((t,n)=>u()(u()({},t),{},{[n]:e.attachments[n]})),{});return u()(u()({},e),{},{attachments:i})};var Pi=(e=Ui,t)=>{switch(t.type){case"ATTACHMENT_MEDIA_SERVICES_UPLOAD_BEGIN":{const n=t.payload;return u()(u()({},e),{},{attachments:u()(u()({},e.attachments),{},{[n.id]:n})})}case"ATTACHMENT_MEDIA_SERVICES_UPLOAD_END":return e;case"ATTACHMENT_MEDIA_SERVICES_UPLOAD_ERROR":{const{fileId:n}=t.payload;if(null==n)return e;const a=Object.keys(e.attachments).filter((e=>e!==n)).reduce(((t,n)=>u()(u()({},t),{},{attachments:u()(u()({},t.attachments),{},{[n]:e.attachments[n]})})),{});return u()(u()({},e),{},{attachments:a})}case"ATTACHMENT_JIRA_CREATE_SUCCESS":
return Fi(e,t.payload);case"ATTACHMENT_JIRA_CREATE_FAILURE":return Fi(e,t.payload.attachment);case"ATTACHMENT_PICKER_POPUP_OPEN_SUCCESS":return u()(u()({},e),{},{isPopupOpen:!0});case"ATTACHMENT_PICKER_POPUP_CLOSE_SUCCESS":return u()(u()({},e),{},{isPopupOpen:!1});case"ATTACHMENT_PANEL_DRAG_ENTER":return u()(u()({},e),{},{placeholderAttachmentCount:t.payload});case"ATTACHMENT_PANEL_DRAG_LEAVE":case"ATTACHMENT_PANEL_DROP":return u()(u()({},e),{},{placeholderAttachmentCount:0});default:return e}};const Vi={isBannerVisible:!1,isBannerDismissed:!1,isTourActive:!1};var Ki=(e=Vi,t)=>{switch(t.type){case"PREVIEW_DATA_FETCHED":case"FETCH_ISSUE_SUCCESS":{const n=t.payload.myPreferences&&t.payload.myPreferences["jira.user.issue.changeboarding.lastinteracted"];return void 0!==n?u()(u()({},e),{},{isBannerVisible:null===n}):e}case"CHANGEBOARDING_BANNER_DISMISS":return u()(u()({},e),{},{isBannerVisible:!1,isBannerDismissed:!0});case"CHANGEBOARDING_TOUR_BEGIN":return u()(u()({},e),{},{
isBannerVisible:!1,isTourActive:!0});case"CHANGEBOARDING_TOUR_END":return u()(u()({},e),{},{isTourActive:!1});default:return e}};const $i={subtaskQuickAddClickCount:0,issueInEpicQuickAddClickCount:0,childIssueQuickAddClickCount:0};var Wi=(e=$i,t)=>{switch(t.type){case"SUBTASK_QUICK_ADD_CLICKED":return u()(u()({},e),{},{subtaskQuickAddClickCount:e.subtaskQuickAddClickCount+1});case"ISSUE_IN_EPIC_QUICK_ADD_CLICKED":return u()(u()({},e),{},{issueInEpicQuickAddClickCount:e.issueInEpicQuickAddClickCount+1});case"CHILD_ISSUE_QUICK_ADD_CLICKED":return u()(u()({},e),{},{childIssueQuickAddClickCount:e.childIssueQuickAddClickCount+1});case"RESET_QUICK_ADD_CLICKED_COUNT":return u()({},$i);default:return e}};const Bi={isOpen:!1};var qi=(e=Bi,t)=>{const{type:n}=t;switch(n){case"SHOW_CLONE_MODAL":return{isOpen:!0};case"HIDE_CLONE_MODAL":return{isOpen:!1};default:return e}};const Hi=Object(Fe.freeze)({pendingSavedValues:{},pendingDeletedIds:[],deleteModalCommentId:null,isLoadingMoreComments:!1,
commentEditors:{},isCommentAttachmentInProgress:!1,hasScrolledPermalinkComment:!1,loadingStage:"LOADING"});var Gi=(e=Hi,t)=>{const n=t=>Object(Fe.updateIn)(e,["pendingDeletedIds"],(e=>e.filter((e=>e!==t))));switch(t.type){case"PREVIEW_DATA_FETCHED":return Object(Fe.set)(e,"loadingStage","COMPLETE");case"SAVE_COMMENT_REQUEST":{const{isNewComment:n,id:s,createdDate:i,authorId:o,bodyHtml:r,bodyAdf:l,visibility:c}=t.payload.comment;let d=e;if(n){const t=e.commentEditors.NEW_OPTIMISTIC_COMMENT;if(void 0!==t){const n=Object(a("3Fzp").a)(e,["commentEditors","NEW_OPTIMISTIC_COMMENT"]);d=Object(Fe.setIn)(n,["commentEditors",s],t)}}const u={id:s,createdDate:i,authorId:o,bodyHtml:r,bodyAdf:l,isInternal:Nt()(d,["commentEditors",s,"isInternal"],!0),visibility:c};return d=n?Object(Fe.setIn)(d,["loadingStage"],"SAVE_COMMENT_LOADING"):d,Object(Fe.chain)(d).setIn(["pendingSavedValues",s],u).setIn(["commentEditors",s,"isEditing"],!1).value()}case"FETCH_OLDER_COMMENTS_REQUEST":
case"FETCH_NEWER_COMMENTS_REQUEST":return Object(Fe.set)(e,"isLoadingMoreComments",!0);case"FETCH_MORE_COMMENTS_SUCCESS":case"FETCH_MORE_COMMENTS_FAILURE":return Object(Fe.set)(e,"isLoadingMoreComments",!1);case"SAVE_COMMENT_RETRY":{const{payload:n}=t,s=Object(a("3Fzp").a)(e,["pendingSavedValues",n.optimisticId,"hasSaveFailed"]);return(t=>!!Object(Fe.getIn)(e,["commentEditors",t]))(n.optimisticId)?s:Object(Fe.setIn)(s,["pendingSavedValues",n.optimisticId,"createdDate"],n.createdDate)}case"SAVE_COMMENT_EDIT":return Object(Fe.setIn)(e,["commentEditors",t.payload.optimisticId,"isEditing"],!0);case"SAVE_COMMENT_SUCCESS":case"SAVE_COMMENT_CANCEL":return Object(a("3Fzp").a)(Object(a("3Fzp").a)(e,["commentEditors",t.payload.optimisticId]),["pendingSavedValues",t.payload.optimisticId]);case"FETCH_SORTED_COMMENTS_REQUEST":return Object(Fe.set)(e,"loadingStage","LOADING");case"FETCH_SORTED_COMMENTS_SUCCESS":case"FETCH_LATEST_COMMENTS_SUCCESS":case"FETCH_ISSUE_SUCCESS":
return Object(Fe.set)(e,"loadingStage","COMPLETE");case"SAVE_COMMENT_FAILURE":return Object(Fe.setIn)(e,["pendingSavedValues",t.payload.optimisticId,"hasSaveFailed"],!0);case"DELETE_COMMENT_REQUEST":{const{payload:n}=t;return Object(Fe.chain)(e).updateIn(["pendingDeletedIds"],(e=>[...e,n.id])).set("deleteModalCommentId",null).value()}case"DELETE_COMMENT_SUCCESS":return n(t.payload.id);case"DELETE_COMMENT_FAILURE":return n(t.payload);case"SHOW_DELETE_COMMENT_MODAL":return Object(Fe.set)(e,"deleteModalCommentId",t.payload);case"DELETE_COMMENT_CANCEL":return Object(Fe.set)(e,"deleteModalCommentId",null);case"EDIT_COMMENT_BEGIN":return Object(Fe.setIn)(e,["commentEditors",t.payload.id],{isEditing:!0,isInternal:t.payload.isInternal});case"EDIT_COMMENT_UPDATE":return Object(Fe.setIn)(e,["commentEditors",t.payload.id],{isEditing:!0,isInternal:Object(Fe.getIn)(e,["commentEditors",t.payload.id,"isInternal"]),editingValue:t.payload.value,
visibility:Object(Fe.getIn)(e,["commentEditors",t.payload.id,"visibility"])});case"EDIT_COMMENT_VISIBILITY":return Object(Fe.setIn)(e,["commentEditors",t.payload.id,"visibility"],t.payload.visibility);case"EDIT_COMMENT_COLLAPSE":case"EDIT_COMMENT_CANCEL":return Object(a("3Fzp").a)(e,["commentEditors",t.payload.id]);case"ADD_COMMENT_FORM_CANCEL":case"ADD_COMMENT_FORM_COLLAPSE":{const t=Object(Fe.unset)(e,"addCommentEditorExpand");return Object(a("3Fzp").a)(t,["commentEditors","NEW_OPTIMISTIC_COMMENT"])}case"ADD_COMMENT_FORM_EXPAND":return Object(Fe.set)(e,"addCommentEditorExpand",!0);case"CHANGE_COMMENT_VISIBILITY":{const{id:n,isInternal:a}=t.payload;return Object(Fe.setIn)(e,["commentEditors",n,"isInternal"],a)}case"SET_COMMENT_ATTACHMENT_IN_PROGRESS":return Object(Fe.set)(e,"isCommentAttachmentInProgress",t.payload.isInProgress);case"SET_COMMENT_SCROLL_STATUS":return Object(Fe.set)(e,"hasScrolledPermalinkComment",t.payload.status);case"MULTILINE_FIELD_EDIT_BEGIN":{
const{commentIdsToClose:n,shouldCloseAddCommentForm:a}=t.payload;if(null!=n){const t=(a?n.concat("NEW_OPTIMISTIC_COMMENT"):n).reduce(((t,n)=>u()(u()({},t),{},{[n]:u()(u()({},e.commentEditors[n]),{},{editingValue:void 0,visibility:void 0,isEditing:!1})})),{});return u()(u()({},e),{},{commentEditors:u()(u()({},e.commentEditors),t),addCommentEditorExpand:!a&&e.addCommentEditorExpand})}return e}default:return e}};const Yi={applicationKey:"",issueActions:[],contextItemCategories:{primary:[],secondary:[]},contentItemCategories:{visible:[],request:void 0},atlassianAccountId:null,baseUrl:Object(a("Rp3N").c)(""),isAnonymous:!1,issueKey:Object(a("Rp3N").n)(""),isModal:!1,cloudId:null,locale:"en_US",maxTokenLength:0,ecosystemEnabled:null,isLoadedWithPage:null,rapidViewMap:null,estimationStatistic:null,licensedProducts:{},appEditions:{software:a("JMkI").d,core:a("JMkI").d,serviceDesk:a("JMkI").d,productDiscovery:a("JMkI").d},appPermissions:{hasCoreAccess:!1,hasSoftwareAccess:!1,
hasServiceDeskAccess:!1,hasProductDiscoveryAccess:!1},licenseStates:{core:a("CPb+").d,software:a("CPb+").d,serviceDesk:a("CPb+").d,productDiscovery:a("CPb+").d},siteAdminStatus:"unknown",productCrossSellConfig:"unknown",isLoading:!1,viewMode:null,firstActivationDateMs:null,viewScreenId:void 0},Zi=({itemId:e,type:t})=>({id:e,type:t}),Xi=({state:e,projectConfig:t,issueId:n,contextPrimary:s,contextSecondary:i,contentVisible:o,contentRequest:r})=>{const l=Object(a("iJ/Y").h)(t);return u()(u()({},e),{},{issueId:n,applicationKey:l.applicationKey,issueActions:l.issueActions,ecosystemEnabled:l.ecosystemEnabled,contentItemCategories:{visible:o,request:r},contextItemCategories:{primary:s,secondary:i}})};var Ji=(e=Yi,t)=>{switch(t.type){case"SET_CONTEXT":{const{payload:n}=t;return u()(u()({},e),n)}case"LOAD_NEW_ISSUE":return u()(u()({},e),{},{issueKey:t.payload.issueKey});case"LOGIN_SUCCESSFUL":return u()(u()({},e),{},{atlassianAccountId:t.payload.accountId});case"PREVIEW_DATA_FETCHED":{
const{payload:n}=t;if(n&&n.id&&n.fields.has("project")){const{contextPrimary:t,contextSecondary:s,content:i,contentRequest:o}=n.layout,{id:r}=n,l=n.fields.get("project").value,c=i?i.map(Zi):[],d=o&&o.map(Zi);return Xi({state:e,projectConfig:l,issueId:Object(a("Rp3N").l)(r),contextPrimary:t.map(Zi),contextSecondary:s.map(Zi),contentVisible:c,contentRequest:d})}return e}case"REFRESH_ISSUE_SUCCESS":case"FETCH_ISSUE_SUCCESS":{const n=t.payload.project,a=t.payload.issue.id;let s=e.contentItemCategories.visible,i=e.contentItemCategories.request,o=e.contextItemCategories.primary,r=e.contextItemCategories.secondary;if(t.payload.issue.contextItemsCategories){const{primary:e,secondary:n}=t.payload.issue.contextItemsCategories;o=e||[],r=n||[]}t.payload.issue.contentItemsCategories&&(s=t.payload.issue.contentItemsCategories.visible||[],i=t.payload.issue.contentItemsCategories.request);return Xi({state:e,projectConfig:n,issueId:a,contextPrimary:o,contextSecondary:r,contentVisible:s,contentRequest:i
})}default:return e}};const zi={};var Qi=(e=zi,t)=>{switch(t.type){case"LOAD_DRAFT_SUCCESS":return u()(u()({},e),{},{[t.payload.fieldId]:!0});case"SAVE_DRAFT_REQUEST":return u()(u()({},e),{},{[t.payload.fieldId]:!Object(a("IJwP").g)(t.payload.value)});case"DELETE_DRAFT_SUCCESS":return u()(u()({},e),{},{[t.payload.fieldId]:!1});default:return e}},eo=(e=null,t)=>{switch(t.type){case"ECOSYSTEM_SHOW_GLANCE":return t.payload;case"ECOSYSTEM_HIDE_GLANCE":return null;default:return e}},to=a("Puqe"),no=a.n(to);const ao=u()(u()({canAddComments:!1,canAdministerJira:!1,canAdministerProject:!1,canAssignIssues:!1,canBeAssignedToIssues:!1,canCloneIssue:!1,canCreateAttachments:!1,canCreateChildren:!1,canCreateSubtask:!1,canDeleteAllAttachments:!1,canDeleteAllComments:!1,canDeleteIssue:!1,canDeleteOwnAttachments:!1,canDeleteOwnComments:!1,canEditAllComments:!1,canEditIssues:!1,canEditOwnComments:!1,canLinkIssues:!1,canManageWatchers:!1,canMoveIssue:!1,canModifyReporter:!1,canScheduleIssues:!1,
canViewWatchers:!1,canBrowseUsers:!1},{canDeleteAllWorklogs:!1,canDeleteOwnWorklogs:!1,canEditAllWorklogs:!1,canEditOwnWorklogs:!1,canLogWork:!1}),{},{canUseServiceDeskAgentFeatures:!1,canViewDevTools:!1}),so={isEnabled:!1,attachmentId:null,availableAttachmentIds:[]};const io={};const oo=[];var ro=a("k4Da"),lo=a.n(ro),co=a("JZM8"),uo=a.n(co);const po={isLinkingEnabled:!0,createLinkedPage:{clickedCount:0,isLoading:!1,isInvalid:!1,errorMessage:""},linkedPages:{pages:[],pageCount:0},mentionedPages:{pages:[],pageCount:0}},mo=["linkedPages","mentionedPages"];var bo=(e=po,t)=>{switch(t.type){case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":{const{remoteLinks:n}=t.payload,a=uo()(n.confluencePages,mo),s=u()(u()({},e),a);return u()(u()({},s),{},{isLinkingEnabled:!!n.isLinkingEnabled})}case"PREVIEW_DATA_FETCHED":{const{remoteLinks:n}=t.payload;if(n&&n.confluencePages){const{linkedPages:t,mentionedPages:a}=n.confluencePages;return u()(u()({},e),{},{linkedPages:u()(u()({},e.linkedPages),{},{
pageCount:t.pageCount}),mentionedPages:u()(u()({},e.mentionedPages),{},{pageCount:a.pageCount})})}return e}case"DELETE_CONFLUENCE_PAGE_LINK_REQUEST":{const{globalId:n}=t.payload,a=((e,t)=>mo.reduce(((e,n)=>{const{pages:a}=e[n],s=lo()(a,(e=>(e.link?e.link.globalId:e.globalId)!==t));return u()(u()({},e),{},{[n]:{pageCount:s.length,pages:s}})}),uo()(e,mo)))(e,n);return u()(u()({},e),a)}case"CREATE_CONFLUENCE_PAGE_LINK_REQUEST":return u()(u()({},e),{},{createLinkedPage:u()(u()({},e.createLinkedPage),{},{isLoading:!0})});case"CREATE_CONFLUENCE_PAGE_LINK_FAILED":{const{errorMessage:n}=t.payload;return u()(u()({},e),{},{createLinkedPage:u()(u()({},e.createLinkedPage),{},{errorMessage:n,isLoading:!1,isInvalid:!0})})}case"CREATE_CONFLUENCE_PAGE_LINK_MODIFIED":return u()(u()({},e),{},{createLinkedPage:u()(u()({},e.createLinkedPage),{},{errorMessage:"",isInvalid:!1})});case"LINK_CONFLUENCE_PAGE_CLOSED":return u()(u()({},e),{},{createLinkedPage:po.createLinkedPage})
;case"CREATE_CONFLUENCE_PAGE_LINK_SUCCESS":{const n=e.linkedPages.pages||[];return u()(u()({},e),{},{linkedPages:u()(u()({},e.linkedPages),{},{pages:[...n,t.payload.confluencePageLink],pageCount:e.linkedPages.pageCount+1}),createLinkedPage:u()(u()({},e.createLinkedPage),{},{isLoading:!1,isInvalid:!1,errorMessage:""})})}case"LINK_CONFLUENCE_PAGE_CLICKED":return u()(u()({},e),{},{createLinkedPage:u()(u()({},e.createLinkedPage),{},{clickedCount:e.createLinkedPage.clickedCount+1})});default:return e}};const go={activityPanels:{},canInstallAddons:!1,contentPanels:{},backgroundScripts:[],ecosystemOnDate:0,glances:{},operations:[]};const fo={createLinkedIncident:{clickedCount:0},createMajorIncident:{clickedCount:0}};const ho=[];const Eo={issueLinks:{},linkedIssues:{},linkedIssueKeys:[]};const yo={isLoadingComplete:!1};const Oo=[];const vo={status:"NOT_LOADED",remoteLinks:[]};const jo=["payloadType"],Io=["payloadType"],Co={isLoading:!1,hasError:!1,isSaved:!1,isDeleted:!1,isOptimistic:!1
},So=(e,t)=>{var n,s,i,o,r,l,c;return{id:e.issueId.toString(),issueKey:e.issueKey.stringValue,issueSummary:e.summary.textValue,statusCategoryId:null===(n=e.status)||void 0===n?void 0:n.statusCategoryId,statusCategory:Object(a("RQwY").statusCategoryForId)(null===(s=e.status)||void 0===s?void 0:s.statusCategoryId),issueLink:Object(a("XtNG").q)(t),statusName:null===(i=e.status)||void 0===i?void 0:i.name,statusId:null===(o=e.status)||void 0===o?void 0:o.statusId,issuePriorityUrl:Object(a("XtNG").q)(e.priority.iconUrl),issuePriorityName:e.priority.name,issueTypeIconUrl:Object(a("XtNG").q)(e.issueType.iconUrl),issueTypeName:e.issueType.name,assigneeDisplayName:null===(r=e.assignee)||void 0===r||null===(l=r.userValue)||void 0===l?void 0:l.displayName,assigneeUrl:null!==(c=e.assignee)&&void 0!==c&&c.userValue?Object(a("XtNG").q)(e.assignee.userValue.avatarUrl):null}},ko=e=>e.map((e=>{const{preview:t,details:n}=e,s=!n;let i={};return i=n?n.error?{issueDetails:null,remoteIssueLinkError:n}:{
issueDetails:So(n.associatedIssue,t.href),remoteIssueLinkError:null}:{issueDetails:null,remoteIssueLinkError:null},u()(u()(u()({id:t.id.toString(),globalId:void 0===t.globalId?void 0:Object(a("Rp3N").v)(t.globalId),applicationType:t.applicationType,applicationName:t.applicationName,issueLinkUrl:Object(a("XtNG").q)(t.href),relationship:t.relationship,issueKey:Object(a("Rp3N").n)(t.title),remoteIssueId:Object(a("Rp3N").l)(t.issueId.toString())},i),Co),{},{isLoading:s})})),wo=e=>{let t={};if("WITH_ISSUE_ID"===e.payloadType){const{payloadType:n}=e;t=m()(e,jo)}else{const{payloadType:n}=e,s=m()(e,Io);t=u()(u()({},s),{},{remoteIssueId:Object(a("Rp3N").l)(`OPTIMISTIC_ISSUE_ID_${Date.now()}`)})}const n=u()(u()({},Co),{},{isLoading:!0,isOptimistic:!0});return u()(u()({},t),{},{issueDetails:null,remoteIssueLinkError:null},n)},To={remoteIssueCount:0,remoteIssues:[]};const Do={isLinkingEnabled:!0,linkCount:0,links:[],createClickCount:0};const Ro={sortedWorklogIds:[],worklogs:{},totalWorklogs:0,
worklogsStartIndex:0};const Lo=["issueType"],Mo=Object(Fe.freeze)({users:{},applicationRoles:[],ecosystem:go,forge:a("QUJQ").b,issueLinks:Eo,issueTypes:Oo,issueContentPanels:ho,issueRemoteData:yo,permissions:ao,comments:io,totalComments:0,commentsStartIndex:0,loadedComments:0,confluencePages:po,webLinks:Do,subtasks:[],cardCover:so,childrenIssues:{},parentIssue:null,parentLevelIssues:[],refreshedOn:0,requestPanelMetadata:{channel:void 0,requestUrl:""},worklog:Ro,confluenceAppLinks:oo,remoteIssueLinks:To,jiraAppLinks:vo,incidentManagement:fo,issue:null,jiraSettings:{subtasksConfiguration:{enabled:!0},issueLinkTypes:[],timeTrackingConfiguration:{isTimeTrackingEnabled:!1,daysPerWeek:0,hoursPerDay:0,defaultUnit:"minute"}}}),Ao=(e,t=[])=>no()(e,[...t,"forgeIssueProperties"]);var _o=(e,t)=>{const n=(e=>{if(e)return e;const t={};return Object.assign(t,{issueTypes:Oo}),u()(u()({},Mo),t)})(e);let s=Object(Fe.chain)(n).set("cardCover",((e=so,t)=>{switch(t.type){case"CARD_COVER_FETCH_SUCCESS":
return t.payload.cardCover;case"CARD_COVER_UPDATE_REQUEST":case"CARD_COVER_UPDATE_FAILURE":return u()(u()({},e),{},{attachmentId:t.payload.attachmentId});default:return e}})(n.cardCover,t)).set("comments",((e=io,t)=>{switch(t.type){case"SAVE_COMMENT_SUCCESS":{const{comment:n}=t.payload;return u()(u()({},e),{},{[n.id]:n})}case"DELETE_COMMENT_SUCCESS":{const n=u()({},e);return delete n[t.payload.id],n}default:return e}})(n.comments,t)).set("confluencePages",bo(n.confluencePages,t)).set("issueLinks",((e=Eo,t)=>{switch(t.type){case"PREVIEW_DATA_FETCHED":{const{fields:n}=t.payload,s=n.get(a("TuCe").m);if(s){const{value:e}=s;return Object(a("ChVR").b)(Object(a("Rp3N").c)(""),Object(a("ChVR").a)(e))}return e}case"FETCH_LINKED_ISSUES_SUCCESS":return Object(Fe.merge)(e,{linkedIssues:t.payload});case"FETCH_LINKED_ISSUES_DATA_SUCCESS":{const{linkedIssues:n,issueLinks:s,optimisticIds:i}=t.payload,o=Object(a("3Fzp").a)(e,["issueLinks",i]);return Object(Fe.chain)(o).merge({linkedIssues:n
}).merge(s).value()}case"SAVE_LINKED_ISSUE_REQUEST":{const{newIssueLinks:n}=t.payload;return Object(Fe.chain)(e).merge(n.issueLinks).setIn(["issueLinks",n.optimisticId,"isOptimistic"],!0).setIn(["issueLinks",n.optimisticId,"isLoading"],!0).setIn(["issueLinks",n.optimisticId,"hasError"],!1).setIn(["issueLinks",n.optimisticId,"isSaved"],!1).value()}case"SAVE_LINKED_ISSUE_FAILURE":return Object(Fe.chain)(e).setIn(["issueLinks",t.payload.optimisticId,"isLoading"],!1).setIn(["issueLinks",t.payload.optimisticId,"hasError"],!0).value();case"SAVE_LINKED_ISSUE_SUCCESS":return Object(Fe.setIn)(e,["issueLinks",t.payload.optimisticId,"isSaved"],!0);case"FETCH_LINKED_ISSUES_DATA_FAILURE":{let n=e;return t.payload.optimisticIds.forEach((e=>{n=Object(Fe.setIn)(n,["issueLinks",e,"isLoading"],!1)})),n}case"SAVE_LINKED_ISSUE_RETRY":return Object(Fe.chain)(e).setIn(["issueLinks",t.payload.optimisticId,"isLoading"],!0).setIn(["issueLinks",t.payload.optimisticId,"hasError"],!1).value()
;case"DELETE_LINKED_ISSUE_REQUEST":{const n=Object(Fe.setIn)(e,["issueLinks",t.payload.linkedIssueId,"isDeleted"],!0);return Object(a("3Fzp").a)(n,["deleteModalLinkId"])}case"DELETE_LINKED_ISSUE_FAILURE":return Object(Fe.setIn)(e,["issueLinks",t.payload,"isDeleted"],!1);case"DELETE_LINKED_ISSUE_SUCCESS":case"SAVE_LINKED_ISSUE_CANCEL":return Object(a("3Fzp").a)(e,["issueLinks",t.payload]);case"ADD_ISSUE_LINK_CLICKED":return Object(Fe.setIn)(e,["quickAddClicked"],((e||{}).quickAddClicked||0)+1);case"ADD_ISSUE_LINK_CLOSED":return Object(Fe.setIn)(e,["quickAddClicked"],0);case"SET_CREATE_LINKED_ISSUE_PERMISSION":return Object(Fe.setIn)(e,["canCreateLinkedIssue"],t.payload.canCreateLinkedIssue);case"REFRESH_ISSUE_SUCCESS":if(t.payload.issueLinks){const n=t.payload.issueLinks;return Object(Fe.setIn)(n,["canCreateLinkedIssue"],e.canCreateLinkedIssue)}return e;case"CREATE_LINKED_ISSUE_SUCCESS":{const{newIssueLinks:n}=t.payload;return qs()(n.issueLinks,((e,t)=>{
n.issueLinks[t]=u()(u()({},e),{},{isOptimistic:!1,isLoading:!0,hasError:!1,isSaved:!0})})),Object(Fe.merge)(e,n)}default:return e}})(n.issueLinks,t)).set("ecosystem",((e=go,t)=>{switch(t.type){case"CONTENT_PANEL_SELECTED":return u()(u()({},e),{},{selectedContentPanel:t.payload});case"CONTENT_PANEL_UNSELECT":return u()(u()({},e),{},{selectedContentPanel:void 0});case"REFRESH_ECOSYSTEM_SUCCESS":return u()({},t.payload);case"FETCH_ISSUE_SUCCESS":return u()(u()({},Object(a("d90y").is2afErrorCleanupGroup2Enabled)()?e:{}),t.payload.ecosystem);default:return e}})(n.ecosystem,t)).set("forge",Object(a("QUJQ").a)(n.forge,t)).set("confluenceAppLinks",((e=oo,t)=>{switch(t.type){case"FETCH_CONFLUENCE_APP_LINKS_SUCCESS":return t.payload;default:return e}})(n.confluenceAppLinks,t)).set("issueContentPanels",((e=ho,t)=>{switch(t.type){case"FETCH_ISSUE_SUCCESS":case"REFRESH_ISSUE_SUCCESS":return t.payload.issueContentPanels||e;case"ADD_CONTENT_PANEL_SUCCESS":return[...e,t.payload]
;case"REMOVE_CONTENT_PANEL_SUCCESS":{const{payload:n}=t;return e.filter((e=>e!==n))}case"CONTENT_PANELS_CUSTOMISED_SUCCESS":return e.includes("issue.content.panel.customised.flag")?e:[...e,"issue.content.panel.customised.flag"];default:return e}})(n.issueContentPanels,t)).set("issueTypes",((e=Oo,t)=>{switch(t.type){case"FETCH_ISSUE_SUCCESS":return t.payload.issueTypes||e||Oo;case"SET_ISSUE_TYPES":return t.payload.map((e=>{const{id:t,name:n,subtask:a,iconUrl:s,fields:i}=e;return{id:t,name:n,subtask:a,iconUrl:s,fields:i}}));default:return t.type,e}})(n.issueTypes,t)).set("webLinks",((e=Do,t)=>{switch(t.type){case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":{const{remoteLinks:n={}}=t.payload,{webLinks:a}=n,{linkCount:s=0,links:i=[]}=a||{};return u()(u()({},e),{},{isLinkingEnabled:!!n.isLinkingEnabled,linkCount:s,links:i})}case"SHOW_CREATE_WEB_LINK_FORM":return u()(u()({},e),{},{createClickCount:e.createClickCount+1});case"HIDE_CREATE_WEB_LINK_FORM":return u()(u()({},e),{},{
createClickCount:Do.createClickCount});case"DELETE_WEB_LINK_REQUEST":{const{id:n}=t.payload,a=e.links.map((e=>e.id===n?u()(u()({},e),{},{isDeleting:!0,deleteFailed:!1}):e));return u()(u()({},e),{},{links:a})}case"DELETE_OPTIMISTIC_WEB_LINK":case"DELETE_WEB_LINK_SUCCESS":{const{id:n}=t.payload;if(n&&e.links){const t=e.links.filter((e=>e.id!==n)),a=t.length;return u()(u()({},e),{},{linkCount:a,links:t})}return e}case"DELETE_WEB_LINK_FAILED":{const{id:n}=t.payload,a=e.links.map((e=>e.id===n?u()(u()({},e),{},{isDeleting:!1,deleteFailed:!0}):e));return u()(u()({},e),{},{links:a})}case"CANCEL_FAILED_WEB_LINK_DELETION":{const{id:n}=t.payload,a=e.links.map((e=>e.id!==n?e:{id:e.id,href:e.href,linkText:e.linkText,iconUrl:e.iconUrl,resolved:null,relationship:null,applicationName:null,applicationType:null}));return u()(u()({},e),{},{links:a})}case"CREATE_WEB_LINK_REQUEST":{const{optimisticId:n,href:a,linkText:s,iconUrl:i}=t.payload;return u()(u()({},e),{},{linkCount:e.linkCount+1,links:[{id:n,
href:a,linkText:s,iconUrl:i,isCreating:!0,createFailed:!1,resolved:null,relationship:null,applicationName:null,applicationType:null},...e.links]})}case"CREATE_WEB_LINK_SUCCESS":{const{optimisticId:n,webLink:a}=t.payload,s=e.links.map((e=>e.id===n?a:e));return u()(u()({},e),{},{links:s})}case"CREATE_WEB_LINK_FAILED":{const{optimisticId:n}=t.payload,a=e.links.map((e=>e.id===n?u()(u()({},e),{},{isCreating:!1,createFailed:!0}):e));return u()(u()({},e),{},{links:a})}case"CREATE_WEB_LINK_RETRY":{const{optimisticId:n}=t.payload,a=e.links.map((e=>e.id===n?u()(u()({},e),{},{isCreating:!0,createFailed:!1}):e));return u()(u()({},e),{},{links:a})}default:return e}})(n.webLinks,t)).set("incidentManagement",((e=fo,t)=>{switch(t.type){case"LINK_INCIDENT_CLICKED":return u()(u()({},e),{},{createLinkedIncident:u()(u()({},e.createLinkedIncident),{},{clickedCount:e.createLinkedIncident.clickedCount+1})});case"CREATE_MAJOR_INCIDENT_CLICKED":return u()(u()({},e),{},{
createMajorIncident:u()(u()({},e.createMajorIncident),{},{clickedCount:e.createMajorIncident.clickedCount+1})});default:return e}})(n.incidentManagement,t)).value();return s=Object(Fe.set)(s,"remoteIssueLinks",((e=To,t)=>{switch(t.type){case"FETCH_ISSUE_SUCCESS":{const{remoteLinks:n={}}=t.payload,{remoteLinkedIssues:a=[]}=n,s=a.length;if(e.remoteIssueCount)return e;const i=u()(u()({},e),{},{remoteIssueCount:s,remoteIssues:ko(a)});return u()({},i)}case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":{const{remoteLinks:n={}}=t.payload,{remoteLinkedIssues:a=[]}=n,s=a.length,i=u()(u()({},e),{},{remoteIssueCount:s,remoteIssues:ko(a)});return Pa()(i,e)?e:u()({},i)}case"DELETE_REMOTE_LINKED_ISSUE_REQUEST":{const{globalId:n}=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.map((e=>e.globalId===n?u()(u()({},e),{},{isDeleted:!0}):e))})}case"DELETE_REMOTE_LINKED_ISSUE_SUCCESS":{const n=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.reduce(((e,t)=>(t.globalId!==n&&e.push(t),e)),[])
})}case"DELETE_REMOTE_LINKED_ISSUE_FAILURE":{const n=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.map((e=>e.globalId===n?u()(u()({},e),{},{isDeleted:!1}):e))})}case"SAVE_REMOTE_LINKED_ISSUE_REQUEST":{const{saveRemoteIssueLinkPayload:n}=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.concat(wo(n))})}case"SAVE_REMOTE_LINKED_ISSUE_SUCCESS":{const{optimisticId:n,saveRemoteLinkResponse:{id:s,issueId:i,globalId:o}}=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.map((e=>e.id===n?u()(u()({},e),{},{id:s.toString(),globalId:Object(a("Rp3N").v)(o),remoteIssueId:void 0!==i?Object(a("Rp3N").l)(i.toString()):e.remoteIssueId,isOptimistic:!1,isSaved:!0}):e))})}case"SAVE_REMOTE_LINKED_ISSUE_FAILURE":{const{optimisticId:n,error:a}=t.payload;return 400===a.statusCode?u()(u()({},e),{},{remoteIssues:e.remoteIssues.filter((e=>e.id!==n))}):u()(u()({},e),{},{remoteIssues:e.remoteIssues.map((e=>e.id===n?u()(u()({},e),{},{isLoading:!1,hasError:!0}):e))})}
case"SAVE_REMOTE_LINKED_ISSUE_RETRY":{const{optimisticId:n}=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.map((e=>e.id===n?u()(u()({},e),{},{isLoading:!0,hasError:!1}):e))})}case"SAVE_REMOTE_LINKED_ISSUE_CANCEL":{const n=t.payload;return u()(u()({},e),{},{remoteIssues:e.remoteIssues.filter((e=>e.id!==n))})}default:return e}})(n.remoteIssueLinks,t)),s=Object(Fe.set)(s,"jiraAppLinks",((e=vo,t)=>{switch(t.type){case"FETCH_JIRA_APP_LINKS_SUCCESS":return{status:"LOADED",remoteLinks:t.payload.map((e=>({id:e.id,name:e.name,baseUrl:Object(a("Rp3N").c)(e.url),authUrl:Object(a("Rp3N").k)(e.authUrl),requireCredentials:e.requireCredentials})))};case"FETCH_JIRA_APP_LINKS_FAILED":return{status:"ERROR",remoteLinks:e.remoteLinks};case"FETCH_JIRA_APP_LINKS_REQUEST":return{status:"LOADING",remoteLinks:e.remoteLinks};case"APPLINK_AUTHENTICATION_SUCCESS":return{status:"NOT_LOADED",remoteLinks:e.remoteLinks};default:return e}})(n.jiraAppLinks,t)),s=Object(Fe.set)(s,"worklog",((e=Ro,t)=>{
switch(t.type){case"state.FETCH_WORKLOGS_BY_ID_SUCCESS":{const{sortedWorklogIds:n,worklogs:a,startIndex:s,totalWorklogs:i}=t.payload;return u()(u()({},e),{},{sortedWorklogIds:n,worklogs:a,worklogsStartIndex:s,totalWorklogs:i})}case"state.FETCH_WORKLOGS_BY_ID_FAILURE":return u()({},Ro);case"state.EDIT_WORKLOG_SUCCESS":{const{worklogs:n}=t.payload;return u()(u()({},e),{},{worklogs:n})}case"state.FETCH_WORKLOGS_SUCCESS":{const{sortedWorklogIds:n,worklogs:a,totalWorklogs:s}=t.payload,{worklogsStartIndex:i}=e;return{sortedWorklogIds:n.slice().reverse().concat(e.sortedWorklogIds),worklogs:u()(u()({},e.worklogs),a),totalWorklogs:s,worklogsStartIndex:i}}case"FETCH_ISSUE_SUCCESS":{const{payload:e}=t,{sortedWorklogIds:n,worklogs:a,totalWorklogs:s,worklogsStartIndex:i}=e;return{sortedWorklogIds:n,worklogs:a,totalWorklogs:s,worklogsStartIndex:i}}case"state.DELETE_WORKLOG_SUCCESS":{const{worklogId:n}=t.payload,{totalWorklogs:a,worklogsStartIndex:s}=e;return{
sortedWorklogIds:e.sortedWorklogIds.filter((e=>e!==n)),worklogs:no()(e.worklogs,n),totalWorklogs:a-1,worklogsStartIndex:s}}case"state.FETCH_SORTED_WORKLOGS_SUCCESS":{const{worklogs:e,totalWorklogs:n,startIndex:a,sortedWorklogIds:s}=t.payload;return{sortedWorklogIds:s,worklogs:e,totalWorklogs:n,worklogsStartIndex:a}}case"state.FETCH_NEWER_SORTED_WORKLOGS_SUCCESS":{const{worklogs:n,totalWorklogs:a,startIndex:s,sortedWorklogIds:i,selectedSortOrder:o}=t.payload,r="NEWEST_FIRST"===o?[...i,...e.sortedWorklogIds]:[...e.sortedWorklogIds,...i];return u()(u()({},e),{},{worklogs:u()(u()({},e.worklogs),n),sortedWorklogIds:r,totalWorklogs:a,worklogsStartIndex:s})}case"state.FETCH_OLDER_SORTED_WORKLOGS_SUCCESS":{const{worklogs:n,totalWorklogs:a,startIndex:s,sortedWorklogIds:i,selectedSortOrder:o}=t.payload,r="NEWEST_FIRST"===o?[...e.sortedWorklogIds,...i]:[...i,...e.sortedWorklogIds];return u()(u()({},e),{},{worklogs:u()(u()({},e.worklogs),n),sortedWorklogIds:r,totalWorklogs:a,worklogsStartIndex:s})
}default:return e}})(n.worklog,t)),s=Object(Fe.set)(s,"issueRemoteData",((e=yo,t)=>{switch(t.type){case"FETCH_ISSUE_REMOTE_DATA_SUCCESS":case"FETCH_ISSUE_REMOTE_DATA_FAILURE":return u()(u()({},e),{},{isLoadingComplete:!0});default:return e}})(n.issueRemoteData,t)),((e,t)=>{const{type:n,payload:s}=t;switch(n){case"FETCH_ISSUE_SUCCESS":{const t=Object(Fe.merge)(e,Ao(s,["issueContentPanels","issueTypes"]));return no()(t,[["issue","fields"],["issue","contextItemsCategories"],["issue","contentItemsCategories"],"changeboardingLastInteracted","licensedProducts","licenseStates"])}case"FETCH_SCREENID_SUCCESS":case"FETCH_MORE_COMMENTS_SUCCESS":return Object(Fe.merge)(e,s);case"FETCH_SORTED_COMMENTS_SUCCESS":{const{comments:t,commentsStartIndex:n,loadedComments:a,totalComments:i}=s;let o=Object(Fe.chain)(e).setIn(["comments"],t).setIn(["commentsStartIndex"],n).setIn(["loadedComments"],a).setIn(["totalComments"],i).value()
;return s.users&&(o=Object(Fe.set)(o,"users",Object(Fe.merge)(e.users,s.users))),o}case"FETCH_LATEST_COMMENTS_SUCCESS":{const{comments:t,commentsStartIndex:n,loadedComments:a,totalComments:i,users:o}=s;let r=Object(Fe.chain)(e).setIn(["comments"],t).setIn(["commentsStartIndex"],n).setIn(["loadedComments"],a).setIn(["totalComments"],i).value();return o&&(r=Object(Fe.set)(r,"users",Object(Fe.merge)(e.users,o))),r}case"PREVIEW_DATA_FETCHED":{const{fields:t}=s;let n=e;const a=t&&t.get("project");if(a&&a.value&&(n=Object(Fe.set)(n,"project",a.value)),s.comments){const{comments:{comments:e={},totalCount:t,startIndex:a}}=s;n=Object(Fe.chain)(n).setIn(["comments"],e).setIn(["loadedComments"],Object.keys(e).length).setIn(["totalComments"],t).setIn(["commentsStartIndex"],a).value()}return s.users&&(n=Object(Fe.set)(n,"users",Object(Fe.merge)(e.users,s.users))),n}case"REFRESH_ISSUE_SUCCESS":{
const t=Ao(s),n=Object.keys(t).reduce(((n,a)=>"users"===a?Object(Fe.set)(n,"users",Object(Fe.merge)(e.users,t.users)):"issueTypes"===a||"issueLinks"===a||"issueContentPanels"===a?n:Object(Fe.set)(n,a,t[a])),e);return Object(Fe.setIn)(n,["refreshedOn"],Date.now())}case"FETCH_LOGGED_IN_USER_SUCCESS":{const{user:t,applicationRoles:n}=s,i=t.id,o=u()({},e.users);return i&&t.id&&!o[t.id]&&(o[t.id]=t),u()(u()({},e),{},{users:o},Object(a("d90y").isUseAppPermissionsFromTenantContextEnabled)()?void 0:{applicationRoles:n})}case"SAVE_COMMENT_SUCCESS":return s.isNewComment?Object(Fe.chain)(e).setIn(["loadedComments"],e.loadedComments+1).setIn(["totalComments"],e.totalComments+1).value():e;case"DELETE_COMMENT_SUCCESS":return Object(Fe.chain)(e).setIn(["loadedComments"],e.loadedComments-1).setIn(["totalComments"],e.totalComments-1).value();case"REQUEST_PANEL_METADATA_FETCH_SUCCESS":{const t=Object(a("3Fzp").a)(e,["requestPanelMetadata"]);return Object(Fe.setIn)(t,["requestPanelMetadata"],s)}
case"PROJECT_ISSUE_TYPES_REQUEST_SUCCESS":return Object(Fe.setIn)(e,["project","issueTypes"],s);case"FETCH_ISSUE_PARENTS_SUCCESS":return Object(Fe.setIn)(e,["parentLevelIssues"],s);case"SET_PARENT_SUCCESS":{const n=t.payload.parentIssue,{issueType:a}=n,s=m()(n,Lo),{name:i,iconUrl:o}=a||{},r=u()(u()({},s),{},{issueTypeName:i||"",issueTypeIconUrl:o||""});return Object(Fe.setIn)(e,["parentIssue"],r)}case"UNSET_PARENT_SUCCESS":return Object(Fe.setIn)(e,["parentIssue"],null);case"CHILD_ISSUE_ADD_SUCCESS":{const{payload:{childIssue:n}}=t;n.isLoading=void 0;const a=JSON.parse(JSON.stringify(e.childrenIssues));return a.push(n),Object(Fe.setIn)(e,["childrenIssues"],a)}case"SUBTASK_ADD_SUCCESS":{const{payload:{childIssue:n}}=t,a=JSON.parse(JSON.stringify(e.subtasks));return a.push(n),Object(Fe.setIn)(e,["subtasks"],a)}default:return e}})(s,t)};var No=(e=null,t)=>{switch(t.type){case"FETCH_ISSUE_FAILURE":return(e=>{const{traceId:t,errorMessage:n,endpoint:a,statusCode:s}=e,i={}
;return null!==t&&(i.traceId=t),null!==n&&(i.errorMessage=n),null!==a&&(i.endpoint=a),null!==s&&(i.statusCode=s),i})(t.payload);default:return e}};var xo=(e=null,t)=>{switch(t.type){case"FETCH_ISSUE_FAILURE":return t.payload.error;case"LOGIN_SUCCESSFUL":return null;default:return e}};var Uo=(e="NONE",t)=>{switch(t.type){case"FETCHING_ISSUE_TYPES":return"PENDING";case"SET_ISSUE_TYPES":return"COMPLETE";case"FETCH_ISSUE_TYPES_FAILED":return"FAILED";default:return t.type,e}};const Fo=e=>e.length>0?e[0].id+1:1,Po="CONTENT_LIMIT_EXCEEDED",Vo=[];var Ko=(e=Vo,t)=>{switch(t.type){case"SAVE_COMMENT_FAILURE":return t.payload.invalidMessage&&t.payload.invalidMessage.includes(Po)?[{type:a("AmUS").k,id:Fo(e)},...e]:[{type:t.payload.isServerValidationError?a("AmUS").j:a("AmUS").i,id:Fo(e)},...e];case"DELETE_COMMENT_FAILURE":return[{type:a("AmUS").l,id:Fo(e)},...e];case"ATTACHMENT_MEDIA_SERVICES_UPLOAD_ERROR":case"ATTACHMENT_JIRA_CREATE_FAILURE":return[{type:a("AmUS").d,id:Fo(e)},...e]
;case"EDITOR_CHANGE_FAILURE":case"EDITOR_EXPANDED_FAILURE":case"EDITOR_SAVE_FAILURE":return[{type:a("AmUS").t,id:Fo(e)},...e];case a("AmUS").D:return[{type:a("AmUS").D,id:Fo(e)},...e];case"DELETE_LINKED_ISSUE_FAILURE":case"DELETE_REMOTE_LINKED_ISSUE_FAILURE":return[{type:a("AmUS").p,id:Fo(e)},...e];case"SAVE_REMOTE_LINKED_ISSUE_FAILURE":{const{error:n,remoteIssueKey:s}=t.payload;if(400===n.statusCode){const t=(e=>{try{const t=JSON.parse(e),n=Object.values(t.errors||{});return[...t.errorMessages||[],...n].join(" ")}catch{return e}})(n.message);return[{type:a("AmUS").B,id:Fo(e),titleI18nValues:{remoteIssueKey:s},descriptionI18nValues:{i18nServerErrorMessage:t}},...e]}return e}case"FIELD_SAVE_FAILURE":{const{fieldOptions:n}=t.payload,{onSaveFailureFlagType:s}=n;if(n.isRichTextField&&t.payload.invalidMessage){if(t.payload.invalidMessage.includes(Po))return[{type:a("AmUS").E,id:Fo(e)},...e];if(t.payload.invalidMessage&&t.payload.invalidMessage.includes("is required"))return[{
type:a("AmUS").F,id:Fo(e)},...e]}return s?[{type:s,id:Fo(e)},...e]:e}case"FIELD_SAVE_SUCCESS":{const{onSaveSuccessFlagType:n}=t.payload.fieldOptions;return n?[{type:n,id:Fo(e),descriptionI18nValues:{issueKey:t.meta&&t.meta.issueKey}},...e]:e}case"DISMISS_FLAG":return e.filter((e=>e.id!==t.payload));case"DELETE_ISSUE_FAILURE":return[{type:a("AmUS").o,id:Fo(e),titleI18nValues:{issueKey:t.payload.issueKey}},...e];case"SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_SUCCESS":return[{type:a("AmUS").g,id:Fo(e),titleI18nValues:{destType:t.payload.targetTypeName}},...e];case"SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_FAILURE":return[{type:a("AmUS").f,id:Fo(e)},...e];case"TOGGLE_WATCHING_ERROR":return[{type:a("AmUS").M,id:Fo(e)},...e];case"FETCH_WATCHERS_ERROR":return[{type:a("AmUS").y,id:Fo(e)},...e];case"START_WATCHING_SUCCESS":return[{type:a("AmUS").I,id:Fo(e)},...e];case"STOP_WATCHING_SUCCESS":return[{type:a("AmUS").J,id:Fo(e)},...e];case"REMOVE_WATCHER_ERROR":return[{type:a("AmUS").C,id:Fo(e)},...e]
;case"ADD_WATCHER_ERROR":return[{type:a("AmUS").a,id:Fo(e)},...e];case"state.ADD_WORKLOG_FAILURE":return[{type:a("AmUS").b,id:Fo(e)},...e];case"state.UPDATE_TIME_REMAINING_FAILURE":return[{type:a("AmUS").L,id:Fo(e)},...e];case"state.EDIT_WORKLOG_SUCCESS":return[{type:a("AmUS").w,id:Fo(e)},...e];case"state.EDIT_WORKLOG_FAILURE":return[{type:a("AmUS").v,id:Fo(e)},...e];case"state.DELETE_WORKLOG_SUCCESS":return[{type:a("AmUS").s,id:Fo(e)},...e];case"state.DELETE_WORKLOG_FAILURE":return[{type:a("AmUS").r,id:Fo(e)},...e];case"DELETE_CONFLUENCE_PAGE_LINK_FAILED":return[{type:a("AmUS").n,id:Fo(e)},...e];case"DELETE_WEB_LINK_FAILED":return[{type:a("AmUS").q,id:Fo(e)},...e];case a("AmUS").G:return[{type:a("AmUS").G,id:Fo(e)},...e];case a("AmUS").H:return[{type:a("AmUS").H,id:Fo(e)},...e];case"FETCH_JIRA_APP_LINKS_FAILED":return[{type:a("AmUS").x,id:Fo(e)},...e];default:return e}};const $o={showCreateIncidentPanel:!1,showCreateMajorIncidentModal:!1,showInvestigateIncidentModal:!1}
;var Wo=(e=$o,t)=>{switch(t.type){case"LINK_INCIDENT_CLICKED":return u()(u()({},e),{},{showCreateIncidentPanel:!0});case"LINK_INCIDENT_PANEL_CLOSED":return u()(u()({},e),{},{showCreateIncidentPanel:!1});case"CREATE_MAJOR_INCIDENT_CLICKED":return u()(u()({},e),{},{showCreateMajorIncidentModal:!0});case"CREATE_MAJOR_INCIDENT_MODAL_CLOSED":return u()(u()({},e),{},{showCreateMajorIncidentModal:!1});case"INVESTIGATE_INCIDENT_CLICKED":return u()(u()({},e),{},{showInvestigateIncidentModal:!0});case"INVESTIGATE_INCIDENT_MODAL_CLOSED":return u()(u()({},e),{},{showInvestigateIncidentModal:!1});default:return e}};const Bo={isDeleteIssueModalOpen:!1,isDeletingIssue:!1,didIssueDeleteFail:!1,issueKey:null};var qo=(e=Bo,t)=>{switch(t.type){case"OPEN_DELETE_ISSUE_MODAL":return u()(u()({},e),{},{isDeleteIssueModalOpen:!0});case"CLOSE_DELETE_ISSUE_MODAL":return u()(u()({},e),{},{isDeleteIssueModalOpen:!1});case"DELETE_ISSUE_REQUEST":return u()(u()({},e),{},{isDeletingIssue:!0,didIssueDeleteFail:!1,
issueKey:t.payload.issueKey});case"DELETE_ISSUE_SUCCESS":return u()(u()({},e),{},{isDeletingIssue:!1,didIssueDeleteFail:!1,issueKey:t.payload});case"DELETE_ISSUE_FAILURE":return u()(u()({},e),{},{isDeletingIssue:!1,didIssueDeleteFail:!0,issueKey:t.payload.issueKey});default:return e}},Ho=(e="LOADING",t)=>{const{type:n}=t;switch(n){case"FETCH_ISSUE_SUCCESS":case"REFRESH_ISSUE_SUCCESS":case"FETCH_ISSUE_FAILURE":return"COMPLETE";case"PREVIEW_DATA_FETCHED":return"LOADING"===e?"PREVIEW":e;case"LOGIN_SUCCESSFUL":case"LOAD_NEW_ISSUE":return"LOADING";default:return e}};const Go={shouldShowIssueTypeList:!1};var Yo=(e=Go,t)=>{const{type:n,payload:a}=t;switch(n){case"SHOW_ISSUE_TYPE_LIST":return u()(u()({},e),{},{shouldShowIssueTypeList:a});default:return e}};const Zo={projectHasSubtaskValidators:{status:"LOADING"}};var Xo=(e=Zo,t)=>{switch(t.type){case"SET_CONTEXT":return e;case"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS":return u()(u()({},e),{},{projectHasSubtaskValidators:{status:"LOADING"}})
;case"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_SUCCESS":return u()(u()({},e),{},{projectHasSubtaskValidators:{status:"LOADED",value:t.payload}});case"FETCH_PROJECT_HAS_SUBTASK_VALIDATORS_FAILURE":return u()(u()({},e),{},{projectHasSubtaskValidators:{status:"FAILED"}});default:return e}},Jo=(e=[],t)=>{const{type:n,payload:a}=t;switch(n){case"FETCH_RECENTLY_VISITED_CONFLUENCE_PAGES_SUCCESS":return a;default:return e}};const zo={timestamp:0,value:void 0};var Qo=(e=zo,t)=>{switch(t.type){case"SHARE_AS_COMMENT":return{timestamp:Date.now(),value:t.payload.value};case"CLEAR_SHARED_AS_COMMENT_VALUES":return{timestamp:Date.now()};default:return e}};const er={newIssueViewLockedIn:!1};var tr=(e=er,t)=>{switch(t.type){case"PREVIEW_DATA_FETCHED":{const n=t.payload.meta&&t.payload.meta.newIssueViewLockedIn;return void 0!==n?u()(u()({},e),{},{newIssueViewLockedIn:n}):e}case"FETCH_ISSUE_SUCCESS":{const{newIssueViewLockedIn:n}=t.payload;return void 0!==n?u()(u()({},e),{},{newIssueViewLockedIn:n}):e}
default:return e}};const nr={hasIssueViewMounted:!1};var ar=(e=nr,t)=>{switch(t.type){case"ISSUE_VIEW_MOUNTED":return u()(u()({},e),{},{hasIssueViewMounted:!0});default:return t.type,e}};const sr={openModal:"NO_MODAL",isSaving:!1,activeWorklogId:null};const ir={hasScrolledPermalink:!1};var or=Object(x.combineReducers)({loadingStage:(e="LOADING",t)=>{switch(t.type){case"state.FETCH_WORKLOGS_REQUEST_INITIAL":case"state.ADD_WORKLOG_SUCCESS":case"state.FETCH_SURROUNDING_WORKLOGS_BY_ID":case"state.FETCH_SORTED_WORKLOGS_REQUEST":case"state.FETCH_SORTED_WORKLOGS_RETRY":return"LOADING";case"state.FETCH_NEWER_SORTED_WORKLOGS_REQUEST":return"LOADING_NEWER_WORKLOGS";case"state.FETCH_OLDER_SORTED_WORKLOGS_REQUEST":return"LOADING_OLDER_WORKLOGS";case"state.FETCH_WORKLOGS_SUCCESS":case"FETCH_ISSUE_SUCCESS":case"state.FETCH_WORKLOGS_BY_ID_SUCCESS":case"state.FETCH_SORTED_WORKLOGS_SUCCESS":case"state.FETCH_OLDER_SORTED_WORKLOGS_SUCCESS":case"state.FETCH_NEWER_SORTED_WORKLOGS_SUCCESS":return"COMPLETE"
;case"state.FETCH_WORKLOGS_FAILURE":case"state.FETCH_SORTED_WORKLOGS_FAILURE":return"LOADING"===e?"ERROR":"ERROR_ADDITIONAL";case"state.FETCH_WORKLOGS_BY_ID_FAILURE":return"ERROR";default:return e}},modal:(e=sr,t)=>{switch(t.type){case"state.OPEN_MODAL":return{openModal:t.payload.modalType,isSaving:!1,activeWorklogId:t.payload.worklogId};case"state.UPDATE_TIME_REMAINING_REQUEST":case"state.ADD_WORKLOG_REQUEST":case"state.EDIT_WORKLOG_REQUEST":case"state.DELETE_WORKLOG_REQUEST":return u()(u()({},e),{},{isSaving:!0});case"state.UPDATE_TIME_REMAINING_FAILURE":case"state.ADD_WORKLOG_FAILURE":case"state.EDIT_WORKLOG_FAILURE":case"state.DELETE_WORKLOG_FAILURE":return u()(u()({},e),{},{isSaving:!1});case"state.CLOSE_MODAL":case"state.ADD_WORKLOG_SUCCESS":case"state.UPDATE_TIME_REMAINING_SUCCESS":case"state.EDIT_WORKLOG_SUCCESS":case"state.DELETE_WORKLOG_SUCCESS":return{openModal:"NO_MODAL",isSaving:!1,activeWorklogId:null};default:return e}},highlightedWorklogId:(e=null,t)=>{switch(t.type){
case"state.ADD_WORKLOG_SUCCESS":case"state.EDIT_WORKLOG_SUCCESS":return t.payload.worklogId;case"state.DISPOSE_WORKLOG_APP":return null;case"state.OPEN_MODAL":default:return e}},permalinkStatus:(e=ir,t)=>{switch(t.type){case"SET_WORKLOG_SCROLL_STATUS":return u()(u()({},e),{},{hasScrolledPermalink:t.payload.status});case"state.ADD_WORKLOG_SUCCESS":case"state.EDIT_WORKLOG_SUCCESS":return u()(u()({},e),{},{hasScrolledPermalink:!1});default:return e}}});const rr={agile:void 0,context:void 0,entities:void 0,fields:void 0,mediaContext:{viewContext:null,uploadContext:null,userAuth:null},shareAsComment:void 0,timing:void 0,ui:void 0,validators:void 0},lr=()=>{const e={};return e.issueType=Yo,e},cr=(e,t)=>Object(x.combineReducers)({agile:_i,context:Ji,entities:_o,fields:Ri,mediaContext:Object(x.combineReducers)({uploadContext:vi,userAuth:ji,viewContext:Si}),shareAsComment:Qo,timing:Oi,ui:Object(x.combineReducers)(u()({attachments:Object(x.combineReducers)({picker:Pi}),activityFeed:Mi,
assignIssueParentModal:xi,comments:Gi,changeboarding:Ki,childPanel:Wi,cloneModal:qi,drafts:Qi,ecosystem:Object(x.combineReducers)({glance:eo}),error:xo,fetchIssueTypesStatus:Uo,flags:Ko,issueDeletion:qo,loadingStage:Ho,recentlyVisitedConfluencePages:Jo,uiConfig:tr,viewMountStatus:ar,worklog:or,incidentManagement:Wo,errorMessage:No},lr())),validators:Xo})(e,t);var dr=(e=rr,t)=>{if("LOAD_NEW_ISSUE"===t.type){const n=cr({ui:{changeboarding:e.ui.changeboarding,uiConfig:e.ui.uiConfig}},g(Object(a("4dgq").k)(e))),s=cr(n,t),i=Object(a("/LFc").y)(e),o=Object(a("d90y").isUseAppPermissionsFromTenantContextEnabled)()?[]:Object(a("nGHA").a)(e);return i?cr(s,N(i,o)):s}if("LOAD_RECENT_ISSUE"===t.type){const n=Object(a("4dgq").k)(e),{issueState:s}=t.payload;return cr(u()(u()({},s),{},{context:u()(u()(u()({},s.context),n),{},{issueId:s.context.issueId,contentItemCategories:s.context.contentItemCategories,contextItemCategories:s.context.contextItemCategories})}),Object(a("dPO5").g)())}return cr(e,t)}
;const ur=()=>e=>t=>{try{e(t)}catch(n){throw a("fnbV").a.safeErrorWithoutCustomerData("issue.middleware.error-logger",`Unhandled error in ${t.type}`),n}};var pr=({initialState:e,onChange:t=V.a,onError:n=V.a,dataProvider:s,history:i,issueKey:o=Object(a("Rp3N").n)(""),fieldsValueActions:r,fieldsConfigActions:l,issueViewLayoutActions:c,forgeActions:d,ecosystemActions:u,attachmentActions:p,recentIssuesActions:m,prefetchedResourceManager:b,userPreferenceActions:g,issueScrollActions:f,permissionActions:h,issueTabsActions:E,jiraSettingsActions:y,projectContextActions:O,issueContextActions:v,workflowTransitionsActions:j})=>Object(x.createStore)(Object(U.enableBatching)(dr),e,Object(a("R7Bt").a)({name:`issue-${o}`})(Object(x.applyMiddleware)(...((e,t,n,s,i,o,r,l,c,d,u,p,m,b,g,f,h,E,y,O)=>{const v=Object(a("Ab08").b)(Ei(e,t,n,s,i,o,r,l,c,d,u,m,p,b,g,f,h,E,y,O)),j=Object(F.createEpicMiddleware)(v);return[ur,j]})(t,n,s,i,r,l,c,d,u,p,m,b,g,f,h,E,y,O,v,j))));const mr=e=>({id:Number(e.id),
name:e.name,subtask:e.subtask,iconUrl:e.iconUrl}),br=(e,t,n)=>{if(Array.isArray(t)&&t.length>0){const s=JSON.stringify(Object(a("/MNd").c)(t));n.dispatch(Object(a("dPO5").b)({error:"UNKNOWN_ERROR",errorMessage:`${e}: ${s}`,statusCode:500}))}else n.dispatch(Object(a("dPO5").b)({error:"NOT_FOUND_OR_NO_PERMISSION_ERROR",statusCode:404}))},gr=({resourceManager:e,savePreferences:t,saveIssueTabs:n,saveProjectContext:s,storeFieldsWithContext:i,storeIssueLayoutData:o,storeIssueContainersLayoutData:r,storeEcosystemData:l,attachmentActions:c,permissionActions:d,jiraSettingsActions:p,store:m,baseUrl:b,issueContextActions:g,issueKey:f})=>{const h=e.getGiraData(),E=e.getGqlData();if(!h||h.permissions){if(((e,t)=>{const n=e.getGiraData(),s=e.getGqlData();if(n&&!n.viewIssue)return br("Call to gira returned empty viewIssue with errors",e.getGiraErrors(),t),!1;if(Object(a("d90y").is2afErrorCleanupGroup2Enabled)()&&s){
if(!s.issue)return br("Call to graphql returned empty issue with errors",e.getGqlErrors(),t),!1;if(!s.project)return br("Call to graphql returned empty project with errors",e.getGqlErrors(),t),!1}return!0})(e,m)&&h&&h.viewIssue&&E){const{readToken:e,uploadToken:y,userToken:O}=h.mediaContext||{};if(e){const t=Object(a("Elcl").b)(e);m.dispatch(oe(t))}else m.dispatch(ie());if(y)if(null!=y.clientId&&null!=y.endpointUrl&&null!=y.targetCollection&&null!=y.token&&null!=y.tokenDurationInMins){const e=rt({clientId:y.clientId,endpointUrl:y.endpointUrl,targetCollection:y.targetCollection,token:y.token,tokenDurationInMins:y.tokenDurationInMins});m.dispatch(Object(a("h2xQ").d)(e))}else null!=y.error?m.dispatch(Object(a("h2xQ").b)(new Error(y.error))):m.dispatch(Object(a("h2xQ").b)({statusCode:500}));else m.dispatch(Object(a("h2xQ").c)());if(O){const e=Object(a("Elcl").c)(O);m.dispatch(ut(e))}
const v=Object(a("d90y").isIssueViewAggChildPanelEnabled)()?Object(a("eryr").a)(E):E,j=Object(a("SuPg").c)(v,b),I=Object(a("/MNd").d)(h),C=u()(u()({},I),j);n(C.issue.tabs);const{project:S}=C;if(S){const e=C.issueTypes.map(mr);s(Object(a("Rp3N").t)(S.projectKey),u()(u()({},S),{},{issueTypes:e}))}i(C.issue.fields),Object(a("d90y").isLayoutContainersApiEnabled)()?r(C.containersByType):o(C.issueSections),t(C.myPreferences),l(C.ecosystem),m.dispatch(Object(a("dPO5").d)(C)),C.attachments&&c.setVisibleAttachments(f,C.attachments.nodes),C.attachments&&c.setTotalCount(f,C.attachments.totalCount),C.attachments&&"number"==typeof C.attachments.deletableCount&&c.setDeletableCount(f,C.attachments.deletableCount),C.permissions&&S&&d.setProjectPermissions(Object(a("Rp3N").t)(S.projectKey),C.permissions),C.jiraSettings&&p.setJiraSettings(C.jiraSettings),(e=>!!e)(C.issue.viewScreenId)&&g&&g.mergeIssueContext({viewScreenId:C.issue.viewScreenId})}}else m.dispatch(Object(a("dPO5").b)({
error:"NOT_FOUND_OR_NO_PERMISSION_ERROR",statusCode:404}))},fr=(e,t)=>{const{baseUrl:n,cloudId:s,licensedProducts:i,locale:o,atlassianAccountId:r,productCrossSellConfig:l,siteAdminStatus:c,isAnonymous:d,appEditions:u,appPermissions:p,licenseStates:m,firstActivationDateMs:b}=t;return{analyticsSource:e.analyticsSource,appEditions:u,appPermissions:p,atlassianAccountId:r,baseUrl:n,backButtonUrl:e.backButtonUrl,boardId:e.boardId,boardType:e.boardType,cloudId:s,estimationStatistic:e.estimationStatistic,firstActivationDateMs:b,isAnonymous:d,isLoadedWithPage:e.isLoadedWithPage,isLoading:!1,isModal:e.isModal,isSpaEnabled:e.isSpaEnabled,issueKey:e.issueKey,licensedProducts:i,licenseStates:m,locale:o,loginRedirectUrl:e.loginRedirectUrl,maxTokenLength:Object(a("NdSv").a)(),onIssueKeyChange:e.onIssueKeyChange,productCrossSellConfig:l,rapidViewId:e.rapidViewId,rapidViewMap:e.rapidViewMap,siteAdminStatus:c,viewMode:e.viewMode}},hr=e=>{var t;return{analyticsSource:e.analyticsSource,
backButtonUrl:e.backButtonUrl,boardId:e.boardId,boardType:e.boardType,estimationStatistic:e.estimationStatistic,isLoadedWithPage:e.isLoadedWithPage,isLoading:!1,isModal:e.isModal,isSpaEnabled:e.isSpaEnabled,issueId:e.issueId,issueKey:e.issueKey,loginRedirectUrl:e.loginRedirectUrl,maxTokenLength:Object(a("NdSv").a)(),onIssueKeyChange:e.onIssueKeyChange,rapidViewId:e.rapidViewId,rapidViewMap:null===(t=e.rapidViewMap)||void 0===t?void 0:t.map((e=>e.map((e=>Object(a("Rp3N").n)(e))))),viewMode:e.viewMode}},Er=["attributes","containers"],yr=["attributes"],Or=({children:e,isModal:t})=>Object(a("d90y").isEmptyStateEnabled)()&&!t?c.a.createElement(a("ZGzu").a,null,e):e,vr=e=>{const{analyticsSource:t,backButtonUrl:n,boardId:s,boardType:i,dispatchExternalActionRef:o,estimationStatistic:r,isLoadedWithPage:d,isModal:p,issueKey:b,isSpaEnabled:f,loginRedirectUrl:h,rapidViewId:E,rapidViewMap:y,viewMode:v,children:j}=e,C=Object(a("rBSy").c)(),S=Object(a("/kNh").a)(),k=Object(a("vOmQ").a)(),[,w]=(()=>{
const[,e]=O(),t=Object(l.useCallback)((t=>e.getRecentIssue(t)),[e]),n=Object(l.useCallback)(((t,n)=>e.setRecentIssue(t,n)),[e]),a=Object(l.useCallback)((()=>e.getRecentIssuesCount()),[e]);return[null,Object(l.useMemo)((()=>({setRecentIssue:n,getRecentIssue:t,getRecentIssuesCount:a})),[t,n,a])]})(),[,T]=Object(a("MoW5").b)(),[,D]=Object(a("j3bG").e)(),[L]=Object(a("il2d").a)(),[,_]=Object(a("F0wu").a)(),[,N]=Object(a("hWW6").b)(),[,x]=Object(a("ecXv").b)(),[,U]=Object(a("AJ6X").e)(),[,F]=Object(a("ovRs").f)(),[,P]=Object(a("pvIb").b)(),[,V]=Object(a("eau+").a)(),[,K]=Object(a("/wd9").a)(),[,$]=Object(a("bXka").a)(),[,W]=Object(a("uC67").a)(),[,B]=Object(a("IFiJ").d)(),[,q]=Object(a("Ff2O").a)(),[,{registerEventHandler:H}]=Object(a("2cEi").a)();Object(l.useEffect)((()=>{const t=H("onChange",e.onChange);return()=>t()}),[e.onChange,H]);const G=Object(l.useMemo)((()=>((e,t,n,a,s,i,o,r,l,c,d,p,m,b,g,f,h,E,y)=>{const O=a.getRecentIssue(e.issueKey),v=O?u()(u()({},O),{},{
context:u()(u()({},O.context),fr(e,t))}):void 0;return pr({attachmentActions:p,onChange:e.onChange,onError:e.onError,dataProvider:n,history:e.history||M()(),initialState:v,issueKey:e.issueKey,fieldsValueActions:s,fieldsConfigActions:i,issueViewLayoutActions:o,forgeActions:r,ecosystemActions:l,prefetchedResourceManager:d,recentIssuesActions:a,userPreferenceActions:c,issueScrollActions:m,permissionActions:b,issueTabsActions:g,jiraSettingsActions:f,projectContextActions:h,issueContextActions:E,workflowTransitionsActions:y})})(e,C,S,w,D,T,P,V,K,_,L,N,x,U,$,W,B,F,q)),[]),Y=Object(l.useCallback)((()=>{if(Object(a("d90y").isDotDialogFieldsMilestone1Enabled)()){const e=G.getState(),t=Object(a("8c2Y").a)(e),{attributes:n,containers:s}=t,i=m()(t,Er);return u()(u()({},i),n)}const e=G.getState(),t=Object(a("8c2Y").a)(e),{attributes:n}=t,s=m()(t,yr);return u()(u()({},s),n)}),[G]),Z=Object(l.useCallback)((e=>{const t=Object(a("tK/r").d)(e);G.dispatch(t)}),[G]);Object(l.useMemo)((()=>{
((e,t,n,s,i,o,r,l,c,d,u,p,m,b,f,h,E,y,O,v)=>{const j=i.getRecentIssue(e.issueKey),I=i.getRecentIssuesCount(),C={analyticsSource:e.analyticsSource,isLoadedWithPage:e.isLoadedWithPage||!1,isSPA:!e.isInitialRender,isRecentIssue:!!j,recentIssuesCount:I,dataProvider:n,store:s,route:f};Object(a("d90y").isReportingAttachmentViewEnabled)()&&(C.userPreferenceActions=l),Object(a("CBUp").a)(C),s.dispatch(g(fr(e,t))),p.setIssueContext(hr(e)),e.dispatchExternalActionRef&&e.dispatchExternalActionRef(d),j?s.dispatch(Object(a("dPO5").g)()):(c&&gr({resourceManager:c,savePreferences:e=>l.setUserPreferences(e),storeFieldsWithContext:t=>wa(t,o,r,e.issueKey),storeIssueLayoutData:t=>{h.setIssueViewLayout(e.issueKey,t)},storeIssueContainersLayoutData:t=>{h.setIssueViewContainersLayout(e.issueKey,t)},storeEcosystemData:e=>{y.setEcosystem(e)},saveIssueTabs:t=>b.setIssueTabs(e.issueKey,t),saveProjectContext:(e,t)=>{v.setProjectContext(e,t)},permissionActions:m,attachmentActions:u,jiraSettingsActions:O,store:s,
baseUrl:t.baseUrl,issueContextActions:p,issueKey:e.issueKey}),c&&c.isAllDataReady()?(Object(a("CBUp").e)(),s.dispatch(Object(a("dPO5").a)()),c.clearAll()):(Object(a("CBUp").k)(),Object(a("CBUp").m)(),s.dispatch(Object(a("dPO5").c)())),s.dispatch((()=>({type:"FETCH_LOGGED_IN_USER_REQUEST"}))())),j||s.dispatch(A(e.issueKey))})(e,C,S,G,w,D,T,_,L,Z,N,F,U,$,k,P,0,K,W,B)}),[]),Object(l.useEffect)((()=>()=>{Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()&&G.dispatch(Object(a("7i6c").f)());const e=G.getState();"COMPLETE"===e.ui.loadingStage&&w.setRecentIssue(b,e)}),[b,w,G]);const X=Object(l.useRef)(!0);return Object(l.useEffect)((()=>{X.current||(G.dispatch(g(fr(e,C))),F.setIssueContext(hr(e)))}),[n,b,h,E,i,s,d,p,y,r,t,v]),Object(l.useEffect)((()=>{if(!X.current){w.getRecentIssue(e.issueKey)&&G.dispatch(Object(a("dPO5").g)())}X.current=!1}),[e.issueKey,w,G]),Object(l.useEffect)((()=>()=>{L&&L.clearAll(),!1!==f&&null!=f||setTimeout((()=>G.dispatch(a("Ab08").a))),o&&o(null)}),[]),
Object(a("CBUp").n)(),c.a.createElement(a("b+mQ").a,null,c.a.createElement(a("g3iI").a,{scope:b},c.a.createElement(Or,{isModal:p},c.a.createElement(a("y2a/").a,{store:G},c.a.createElement(a("6HIH").a,{getAttributes:Y},c.a.createElement(R,null),c.a.createElement(I,null),c.a.createElement(a("PvT5").a,null,j))))))};vr.displayName="AppProvider";const jr=e=>c.a.createElement(a("Mr31").a,{scope:e.issueKey},Object(a("d90y").isAggShadowReadEnabled)()||Object(a("d90y").isForgeIssueGlanceDynamicProperties)()?c.a.createElement(b.RelayEnvironmentProvider,{environment:a("6mM9").b},c.a.createElement(vr,e)):c.a.createElement(vr,e));jr.displayName="ScopedAppProvider";var Ir=jr;n.a=i()(a("mXmW").a,(()=>e=>{var t,n;return n=t=class extends l.Component{constructor(...e){super(...e),this.MetricsContext=Object(a("J3F1").b)(this.props.metrics)}render(){const{MetricsContext:t}=this;return c.a.createElement(t.Provider,{value:Object(a("J3F1").a)(this.props.metrics)},c.a.createElement(e,this.props))}},
t.displayName=`WithMetricsProvider(${e.displayName||e.name})`,n})(),(function(e){return t=>c.a.createElement(a("EJ2t").a,null,(n=>c.a.createElement(e,r()({},t,{isInitialRender:n.isInitialRender}))))}))(Ir)},a68s:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>e.value===t.value&&e.type===t.type},aAYo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mwIZ"),s=n.n(a);const i=({issueKey:e,fieldKey:t,onSuccess:a,onFailure:i})=>{const[{value:o}]=Object(n("MoW5").a)(e,t),r=s()(o,"schema.type","number"),[{value:l,error:c},{saveValue:d,resetError:u}]=Object(n("35XP").a)({fieldKey:t,issueKey:e,fieldType:r,initialValue:null,onSuccess:a,onFailure:i});return[{value:l,error:c,fieldConfig:o},{saveValue:d,resetError:u}]}},aCCb:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("6xe2");const o=Object(i.f)((()=>n.e("async-issue-config-find-field").then(n.bind(null,"gIKB"))),{ssr:!1,moduleId:"./src/packages/issue-create/find-field/src/index.js"})
;t.a=e=>s.a.createElement(n("cU7O").a,{id:"AsyncFindFieldModal",packageName:"jiraIssueConfigFindField",fallback:"flag",sendToPrivacyUnsafeSplunk:!0},s.a.createElement(i.a,{fallback:s.a.createElement(s.a.Fragment,null)},s.a.createElement(o,e)))},aIcr:function(e,t,n){e.exports=n.p+"assets/permission-error.c932893e3cfcbf2f521d55c8596010e7.8.svg"},aKE2:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));const a=e=>e.preventDefault(),s=e=>e.stopPropagation(),i=e=>(e=>0===e.button)(e)&&!(e.metaKey||e.ctrlKey)},anlJ:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return E}));var a=n("peh1"),s=n("44Ds"),i=n.n(s),o=n("qPyV"),r=n.n(o)
;const l=Symbol("GENERIC"),c=(e,t)=>`${e}${"string"==typeof t?t:""}`,d=Object(a.createSelector)(n("/LFc").f,(e=>e.webLinks)),u=Object(a.createSelector)(d,(e=>e.links.filter((e=>void 0===e.isDeleting||!0!==e.isDeleting)))),p=Object(a.createSelector)(n("/LFc").f,((e,t)=>t),(()=>{let e=null;const t=i()(((e,t)=>e.webLinks.links.filter((e=>void 0===e.isDeleting&&!0!==e.isDeleting&&(void 0===t?"string"!=typeof e.applicationName||""===e.applicationName.trim():"string"==typeof e.applicationName&&""!==e.applicationName.trim()&&t===c(e.applicationName,e.applicationType)))).reverse()),(({webLinks:n},a)=>(null!==e&&e!==n&&t.cache.clear(),e=n,void 0!==a?a:l)));return t})()),m=Object(a.createSelector)(u,(e=>{const t=e.reduce(((e,t)=>{const{applicationName:n,applicationType:a}=t;return"string"!=typeof n||""===n.trim()?e:[...e,{applicationName:n,applicationId:c(n,a)}]}),[]),n=r()(t,"applicationId");return n.sort(((e,t)=>e.applicationId.localeCompare(t.applicationId))),n
})),b=e=>Object(a.createSelector)(u,(t=>t.find((t=>t.id===e)))),g=Object(a.createSelector)(d,n("nGHA").h,((e,t)=>!0===e.isLinkingEnabled&&t.canLinkIssues)),f=Object(a.createSelector)(d,(e=>e.linkCount)),h=Object(a.createSelector)(d,(e=>e.createClickCount)),E=Object(a.createSelector)(h,(e=>e>0))},aoGV:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").I,(e=>e.changeboarding)),i=["core-issue","full-issue","software-issue","software-backlog-issue"],o=[n("wpii").a.FULL_ISSUE,n("wpii").a.SERVICEDESK_QUEUES_ISSUE,n("wpii").a.SERVICEDESK_REPORTS_ISSUE],r=Object(a.createSelector)(n("4dgq").b,n("kk5J").a,n("/LFc").u,((e,t,n)=>i.includes(e)&&!t&&!n)),l=Object(a.createSelector)(n("4dgq").b,n("kk5J").a,n("/LFc").u,((e,t,n)=>o.includes(e)&&!t&&!n)),c=(Object(a.createSelector)(r,s,(e=>{const{firstActivationDateMs:t}=e.context
;return(e=>null!=e&&e<15357276e5)(t)}),(()=>Object(n("Utxq").a)()<7),n("hi0A").a,n("kk5J").a,((e,t,n,a,s,i)=>e&&t.isBannerVisible&&n&&a&&!s&&!i)),Object(a.createSelector)(s,(e=>e.isTourActive)),Object(a.createSelector)(s,(e=>e.isBannerDismissed))),d=Object(a.createSelector)(n("7/nq").f,(e=>e.some((e=>"assignee"===e.id))))},"b+mQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return l}));var a={};n.r(a),n.d(a,"setTourIsActive",(function(){return s})),n.d(a,"setTourIsInactive",(function(){return i}));const s=()=>({setState:e})=>{e({isTourActive:!0})},i=()=>({setState:e})=>{e({isTourActive:!1})},o=Object(n("0b8M").a)({name:"new-issue-view-onboarding",initialState:{isTourActive:!1},actions:a}),r=Object(n("dq9g").a)(o,{selector:e=>e}),l=Object(n("UCyb").a)(o)},bQbD:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("peh1")
;const s=Object(a.createSelector)(n("P82W").d,(e=>e.filter((e=>e.subtask)))),i=Object(a.createSelector)(s,(e=>e.length>=1)),o=Object(a.createSelector)(s,(e=>!!e.find(n("P82W").b)))},bTtF:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("3tO9"),s=n.n(a),i=n("cr+I");const o=e=>null==e||""===e?"":`${window.location.origin}/jira/people/team/${e}?ref=jira$&src=issue`,r=({accountId:e,teamId:t,name:a,avatarUrl:s,members:i,memberCount:r,includesYou:l})=>i?{id:Object(n("Rp3N").a)(t||""),name:a,accessLevel:"CONTAINER",userType:"TEAM",avatarUrl:s,context:{members:i.map((e=>(({accountId:e,name:t})=>({id:e,name:t}))(e))),memberCount:r||0,includesYou:l||!1,teamLink:o(t)}}:{name:a,mentionName:a,nickname:a,id:Object(n("Rp3N").a)(e||""),avatarUrl:s};class l extends n("OHN+").a{constructor(e,t,n,a,o){super(e,t,n,o),this.teamHighlightEnabled=void 0,this.createTeamPath=void 0,this.mentionTypeaheadHighlightEnabled=()=>!0,this.mentionTypeaheadCreateTeamPath=()=>this.createTeamPath,
this.getQueryString=(e,t)=>Object(i.stringify)(s()({query:e||"",issueKey:this.issueKey,maxResults:20},t)),this.getUrl=e=>`${this.baseUrl}/rest/internal/2/userteam/mention/search?${e}`,this.createTeamPath=a}search(e,t){const a=this.getQueryString(e,t),s=this.getUrl(a);return this.activeSearches.add(e||""),Object(n("K4VI").a)(s).mergeMap((e=>e.map(r))).reduce(((e,t)=>[...e,t]),[]).map((t=>({query:e||"",mentions:t}))).toPromise()}}},bXka:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a={};n.r(a),n.d(a,"setIssueTabs",(function(){return i}));var s=n("q1tI");const i=(e,t)=>({setState:n})=>{n({[String(e)]:t})},o=Object(n("0b8M").a)({name:"issue-tabs",initialState:{},actions:a}),r=Object(n("dq9g").a)(o,{selector:(e,t)=>e[String(t)]||{}}),l=Object(n("dq9g").a)(o,{selector:null}),c=e=>{const[t]=r(e);return[{issueTabs:t}]},d=()=>{const[,e]=l();return[null,Object(s.useMemo)((()=>({setIssueTabs:(t,n)=>e.setIssueTabs(t,n)})),[e])]}},
be7s:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,a,s)=>{a instanceof TypeError&&Object(n("HQr3").c)(a)?((e,t,a)=>{Object(n("v/G6").a)({error:a,attributes:{message:t},meta:{id:e,packageName:"jiraIssueView"}})})(e,t,a):s&&n("fnbV").a.safeErrorWithoutCustomerData(e,t,s)}},beXo:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>"\n    remoteLinks {\n        isLinkingEnabled\n        remoteLinkedIssues {\n            preview {\n                id\n                issueId\n                globalId\n                href\n                applicationType\n                applicationName\n                relationship\n                title\n            }\n        }\n    }            \n"},"c/pv":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return l}));const a={
key:"JSDComments",type:"JSDComments",name:n("16vn").a.comments.defaultMessage},s={key:"Comments",type:"Comments",name:n("16vn").a.comments.defaultMessage},i=e=>({type:"SELECT_ACTIVITY_ITEM",payload:e}),o=e=>({type:"SELECT_INITIAL_ACTIVITY_ITEM",payload:e}),r=e=>({type:"SELECT_ACTIVITY_SORT_ORDER",payload:e}),l=e=>({type:"UPDATE_ACTIVITY_SORT_ORDER_REQUEST",payload:e})},cAiP:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i),r=n("56YH"),l=n.n(r),c=n("/MKj"),d=n("3tO9"),u=n.n(d);class p extends i.PureComponent{constructor(e){super(e),this.onInlineCardClicked=(e,t)=>{const{linkActions:a}=this.props,s=e||window.event;s.preventDefault();const i=s,o=Object(n("sKDb").a)(i)||Object(n("sKDb").e)(i);Object(n("OM3v").a)(t,o,a.push)},this.onMentionClicked=(e,t,a)=>{const{linkActions:s,mentionEncoder:i}=this.props;if(i){a.stopPropagation();const t=a,o=t.metaKey||0!==t.button;Object(n("OM3v").a)(i(e)||"",o,s.push)}},this.onContentSelected=e=>{
e.target instanceof window.Element&&!Object(n("n4oX").a)(e.target,e.currentTarget)&&!this.checkForMedia(e.target,e.currentTarget)||e.stopPropagation()},this.checkForMedia=(e,t)=>{var a,s,i,o,r,l,c,d,u,p;if(!e||e===t)return!1;if(Object(n("d90y").isUsingUpdatedMediaClassIgnoredList)()){if(null!==(r=(l=e.className).includes)&&void 0!==r&&r.call(l,"rich-media-item")||null!==(c=(d=e.className).includes)&&void 0!==c&&c.call(d,"media-file-card-view")||null!==(u=(p=e.className).includes)&&void 0!==u&&u.call(p,"media-viewer-popup"))return!0}else if(null!==(a=(s=e.className).includes)&&void 0!==a&&a.call(s,"rich-media-item")||null!==(i=(o=e.className).includes)&&void 0!==i&&i.call(o,"MediaGroup")||"media-viewer-popup"===e.getAttribute("data-testid"))return!0;return this.checkForMedia(e.parentElement,t)},this.dataProviders=void 0,this.node=void 0,this.eventHandlers=void 0,this.isEmpty=()=>this.isAdfValueEmpty(),this.isAdfValueEmpty=()=>{const{adf:e}=this.props;return!e||Object(n("IJwP").g)(e)},
this.setNodeRef=e=>{this.node=e};const{contextIdentifier:t,mediaProvider:a,mentionProvider:s,profileCardProvider:i}=this.props;this.node=null,this.dataProviders=new(n("U7Mc").a),this.dataProviders.setProvider("mediaProvider",a),this.dataProviders.setProvider("mentionProvider",Promise.resolve(s)),this.dataProviders.setProvider("emojiProvider",Object(n("Wzj5").b)(this.props.cloudId,this.props.loggedInUserAccountId)),t&&this.dataProviders.setProvider("contextIdentifierProvider",Promise.resolve(t)),Object(n("d90y").isProfileCardProviderRendererEnabled)()&&this.dataProviders.setProvider("profilecardProvider",i),this.eventHandlers=u()({smartCard:{onClick:this.onInlineCardClicked}},Object(n("d90y").isProfileCardProviderRendererEnabled)()?{}:{mention:{onClick:this.onMentionClicked}})}render(){const{adf:e}=this.props;return this.isEmpty()?o.a.createElement(n("gVzX").b,null,this.props.placeholder):o.a.createElement("div",{role:"presentation",onClick:this.onContentSelected,
onKeyPress:this.onContentSelected,ref:this.setNodeRef},Object(n("d90y").isAltTextOnImagesEnabled)()?o.a.createElement(n("23Tb").a,{appearance:"comment",schema:n("tdrV").a,document:Object(n("IJwP").h)(e),dataProviders:this.dataProviders,eventHandlers:this.eventHandlers,allowAltTextOnImages:!0,media:{allowLinking:!0,featureFlags:Object(n("Sudk").a)()},portal:this.node,disableHeadingIDs:Object(n("d90y").isRendererHeadingIdsDisabled)(),analyticsEventSeverityTracking:Object(n("d90y").getTTRSeverityTrackingConfiguration)(),unsupportedContentLevelsTracking:Object(n("d90y").getUnsupportedContentLevelsTrackingConfiguration)(),useSpecBasedValidator:Object(n("d90y").isSpecBasedValidatorEnabled)(),featureFlags:{codeBidiWarnings:!0,"code-bidi-warnings":!0}}):o.a.createElement(n("23Tb").a,{appearance:"comment",schema:n("tdrV").a,document:Object(n("IJwP").h)(e),dataProviders:this.dataProviders,eventHandlers:this.eventHandlers,allowAltTextOnImage:!0,media:{allowLinking:!0,
featureFlags:Object(n("Sudk").a)()},portal:this.node,disableHeadingIDs:Object(n("d90y").isRendererHeadingIdsDisabled)(),analyticsEventSeverityTracking:Object(n("d90y").getTTRSeverityTrackingConfiguration)(),unsupportedContentLevelsTracking:Object(n("d90y").getUnsupportedContentLevelsTrackingConfiguration)(),useSpecBasedValidator:Object(n("d90y").isSpecBasedValidatorEnabled)(),featureFlags:{codeBidiWarnings:!0,"code-bidi-warnings":!0}}))}}p.displayName="Renderer",p.displayName="Renderer",p.defaultProps={adf:void 0,placeholder:void 0,mentionEncoder:()=>""};const m=Object(c.connect)((e=>({cloudId:Object(n("4dgq").i)(e),loggedInUserAccountId:Object(n("4dgq").a)(e)})),{})(p);var b=Object(n("2ppJ").a)(Object(n("pCe6").a)(m));const g=l()(n("2ppJ").a,n("pCe6").a)(p),f=e=>{const t=Object(n("94cx").a)(),a=Object(n("+2Qm").a)(),i=Object(n("93Oz").a)();return o.a.createElement(g,s()({},e,{cloudId:a,loggedInUserAccountId:t,profileCardProvider:i}))};f.displayName="Renderer"
;t.a=Object(n("5WHm").a)(n("d90y").isProfileCardProviderRendererEnabled,f,b)},cNqL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n("vOnD");const s=a.default.div.withConfig({componentId:"fzg7o6-0"})`margin-left:-${n("ZpU/").e}px;margin-top:-${n("ZpU/").e}px;padding-right:${n("ZpU/").e/2}px;& div[data-read-view-fit-container-width]{width:100%;min-height:32px;${({hasValue:e})=>e?a.css`padding:0;`:a.css`padding:6px 0;`}}`,i=a.default.div.withConfig({componentId:"fzg7o6-1"})`word-break:break-word;position:relative;left:${n("ZpU/").e-2}px;`},cc1c:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));const a="PURPLE",s="BLUE",i="GREEN",o="GREY",r={PURPLE:a,DARK_PURPLE:"DARK_PURPLE",BLUE:s,
DARK_BLUE:"DARK_BLUE",GREEN:i,DARK_GREEN:"DARK_GREEN",TEAL:"TEAL",DARK_TEAL:"DARK_TEAL",YELLOW:"YELLOW",DARK_YELLOW:"DARK_YELLOW",ORANGE:"ORANGE",DARK_ORANGE:"DARK_ORANGE",GREY:o,DARK_GREY:"DARK_GREY"},l={SERVER_PURPLE:"purple",SERVER_DARK_PURPLE:"dark_purple",SERVER_BLUE:"blue",SERVER_DARK_BLUE:"dark_blue",SERVER_GREEN:"green",SERVER_DARK_GREEN:"dark_green",SERVER_TEAL:"teal",SERVER_DARK_TEAL:"dark_teal",SERVER_YELLOW:"yellow",SERVER_DARK_YELLOW:"dark_yellow",SERVER_ORANGE:"orange",SERVER_DARK_ORANGE:"dark_orange",SERVER_GREY:"grey",SERVER_DARK_GREY:"dark_grey"},c={GHX_LABEL_1:"ghx-label-1",GHX_LABEL_2:"ghx-label-2",GHX_LABEL_3:"ghx-label-3",GHX_LABEL_4:"ghx-label-4",GHX_LABEL_5:"ghx-label-5",GHX_LABEL_6:"ghx-label-6",GHX_LABEL_7:"ghx-label-7",GHX_LABEL_8:"ghx-label-8",GHX_LABEL_9:"ghx-label-9",GHX_LABEL_10:"ghx-label-10",GHX_LABEL_11:"ghx-label-11",GHX_LABEL_12:"ghx-label-12",GHX_LABEL_13:"ghx-label-13",GHX_LABEL_14:"ghx-label-14"},d={AGILE_COLOR_1:"color_1",AGILE_COLOR_2:"color_2",
AGILE_COLOR_3:"color_3",AGILE_COLOR_4:"color_4",AGILE_COLOR_5:"color_5",AGILE_COLOR_6:"color_6",AGILE_COLOR_7:"color_7",AGILE_COLOR_8:"color_8",AGILE_COLOR_9:"color_9",AGILE_COLOR_10:"color_10",AGILE_COLOR_11:"color_11",AGILE_COLOR_12:"color_12",AGILE_COLOR_13:"color_13",AGILE_COLOR_14:"color_14"}},cjK0:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=()=>({type:"ATTACHMENT_PICKER_POPUP_OPEN_SUCCESS"}),s=()=>({type:"ATTACHMENT_PICKER_POPUP_CLOSE_SUCCESS"})},cjPB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n("3tO9"),s=n.n(a),i=n("cr+I");const o={fieldsToForcePresent:"timetracking"},r=async({issueId:e,newValue:t,timeTrackingValue:a})=>{const r=(e=>{const t=null!=(null==e?void 0:e.timeSpentSeconds),n=null!=(null==e?void 0:e.remainingEstimateSeconds)&&(null==e?void 0:e.remainingEstimateSeconds)!==(null==e?void 0:e.originalEstimateSeconds);return t||n
})(a),l=null!==t?Object(n("4A5X").a)(t):null;return Object(n("/rpS").d)("/secure/AjaxIssueAction.jspa?decorator=none",{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(i.stringify)(s()(s()({issueId:e,timetracking_originalestimate:l,timetracking_targetsubfield:r?"timetracking_originalestimate":void 0},o),{},{singleFieldEdit:!0,skipScreenCheck:!0,atl_token:Object(n("sN5M").a)()}))})},l=({issueKey:e,issueId:t,fieldId:a,timeTrackingValue:s,onSuccess:i,onFailure:o})=>{const[{value:l}]=Object(n("MoW5").a)(e,a),c=(null==l?void 0:l.schema.system)||"",[{value:d,error:u},{saveValue:p,resetError:m}]=Object(n("35XP").a)({fieldKey:a,issueKey:e,fieldType:c,initialValue:null,saveField:(e,n,a)=>r({issueId:t,newValue:a,timeTrackingValue:s}),onSuccess:i,onFailure:o});return[{value:d,error:u,fieldConfig:l},{saveValue:p,resetError:m}]}},cyMh:function(e,t,n){"use strict";t.a=Object(n("Y6nV").a)(n("o3Xf").a,{displayName:"CommentVisibilitiesSubscriber"})},d1Lu:function(e,t,n){
"use strict";var a=n("q1tI"),s=n.n(a);const i=(e,t)=>{const{type:a="text",value:i="",placeholder:o="",invalidMessage:r,onChange:l,compact:c=!1}=e;return s.a.createElement(n("iSg+").a,{type:a,value:i,placeholder:o,onChange:l,isInvalid:!!r,invalidMessage:r,shouldFitContainer:!0,autoFocus:!0,isLabelHidden:!0,label:"",ref:t,compact:c})};i.displayName="SingleLineTextField",i.displayName="SingleLineTextField",t.a=Object(a.forwardRef)(i)},d2IU:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));n("4c1C");const a=(e,t,a,s)=>Object(n("K4VI").a)(Object(n("D+Fw").a)(e,t,a),{perf:n("lLEp").i,headersProcessor:s&&s(n("lLEp").i.key)}).catch((e=>{throw new(n("QMRn").a)(e,Object(n("D+Fw").a)("{baseUrl}","{issueKey}","{maxTokenLength}"))})),s=(e,t,a,s)=>Object(n("QNWr").a)(Object(n("D+Fw").a)(e,t,a),{perf:n("lLEp").i,headersProcessor:s&&s(n("lLEp").i.key)})},d90y:function(e,t,n){"use strict";n.r(t),n.d(t,"isNewExperimentalMetricEnabled",(function(){return a
})),n.d(t,"isFixForRerenderInContextGroupEnabled",(function(){return s})),n.d(t,"isTTIAccuracyChangeImplemented",(function(){return i})),n.d(t,"isModernGlobalIssueCreateTriggerLinkedIssueEnabled",(function(){return o})),n.d(t,"isTimeTrackingModalNoDelayFixEnabled",(function(){return r})),n.d(t,"isLayoutContainersApiEnabled",(function(){return l})),n.d(t,"isForgeLayoutLoggingEnabled",(function(){return c})),n.d(t,"isForgeIssueGlanceDynamicProperties",(function(){return d})),n.d(t,"isValueFunctionEnabled",(function(){return u})),n.d(t,"isRefactorStickyHeaderToFunctionalComponentEnabled",(function(){return p})),n.d(t,"isReportingAttachmentViewEnabled",(function(){return m})),n.d(t,"isDataProviderRemovedFromChildIssuesEnabled",(function(){return b})),n.d(t,"isExtractedLabelsFieldEnabled",(function(){return g})),n.d(t,"isExtractedSprintFieldEnabled",(function(){return f})),n.d(t,"isProfileCardProviderRendererEnabled",(function(){return h})),
n.d(t,"isIssueViewMigratedStreamEnabled",(function(){return E})),n.d(t,"isIssueViewMigrationPostMigrationEnabled",(function(){return y})),n.d(t,"isIssueViewAGGVendorlessFetchServiceEnabled",(function(){return O})),n.d(t,"isRemoveShortcutUserPreferenceEnabled",(function(){return v})),n.d(t,"isAggShadowReadEnabled",(function(){return j})),n.d(t,"isMigrateEpicLinkFieldToParentForChildIssueCreationEnabled",(function(){return I})),n.d(t,"isUseAppPermissionsFromTenantContextEnabled",(function(){return C})),n.d(t,"isFieldDescriptionEnabled",(function(){return S})),n.d(t,"isItSafeLoggingEnabledToUseAppPermissionsFromTenantContext",(function(){return k})),n.d(t,"isNewCardExperience",(function(){return w})),n.d(t,"isFolderUploadsEnabled",(function(){return T})),n.d(t,"isCodeViewerEnabled",(function(){return D})),n.d(t,"isZipPreviewEnabled",(function(){return R})),n.d(t,"isSingleLineTextFieldTextWrappingEnabled",(function(){return L})),n.d(t,"isTeamsCustomFieldTypeEnabled",(function(){return M
})),n.d(t,"isInvitePeopleDrawerEnabled",(function(){return A})),n.d(t,"isInviteFromAssignEnabled",(function(){return _})),n.d(t,"isIssueViewEditorExpandNodesEnabled",(function(){return N})),n.d(t,"isIssueViewAggChildPanelEnabled",(function(){return x})),n.d(t,"isMagmaRenderCostOptimisationEnabled",(function(){return U})),n.d(t,"isRemoveWrmFromIssueViewCriticalPathEnabled",(function(){return F})),n.d(t,"isFixTransitionsRequestCalledTwiceEnabled",(function(){return P})),n.d(t,"isWebAndIssueLinkSummaryEnabled",(function(){return V})),n.d(t,"isBacklogSearchFieldChangeboardingEnabled",(function(){return K})),n.d(t,"getPerformanceTrackingConfiguration",(function(){return $})),n.d(t,"getValidTransactionsTrackingConfiguration",(function(){return W})),n.d(t,"getTTRSeverityTrackingConfiguration",(function(){return B})),n.d(t,"getUnsupportedContentLevelsTrackingConfiguration",(function(){return q})),n.d(t,"isSpecBasedValidatorEnabled",(function(){return H})),
n.d(t,"isUsingUpdatedMediaClassIgnoredList",(function(){return G})),n.d(t,"isJsmChatChannelEnabled",(function(){return Y})),n.d(t,"isJsmConferenceCallEnabled",(function(){return Z})),n.d(t,"isJsmRespondersEnabled",(function(){return X})),n.d(t,"isJsmStakeholderEnabled",(function(){return J})),n.d(t,"isManageStakeholderMajorIncidentEnabled",(function(){return z})),n.d(t,"isInlineEditBumpEnabled",(function(){return Q})),n.d(t,"isRemoveUnusedFieldsEnabled",(function(){return ee})),n.d(t,"isDotDialogFieldsMilestone1Enabled",(function(){return te})),n.d(t,"isModernGlobalIssueCreateTriggerEnabled",(function(){return ne})),n.d(t,"isDefaultOptionsSupportForAsyncSelectEnabled",(function(){return ae})),n.d(t,"isModernGlobalSubtaskIssueCreateTriggerEnabled",(function(){return se})),n.d(t,"isModernGICEnabledForSubtask",(function(){return ie})),n.d(t,"isIssueBeanBuilder2ForSingleIssueCallsOptimizationEnabled",(function(){return oe})),n.d(t,"JSM_REPLACING_MAJOR_INCIDENT",(function(){return re})),
n.d(t,"isJsmReplacingMajorIncidentEnabled",(function(){return le})),n.d(t,"JSM_PRACTICES_FIELD_REFACTOR",(function(){return ce})),n.d(t,"isPracticeFieldRefactorEnabled",(function(){return de})),n.d(t,"isProformaIssueViewEnabled",(function(){return ue})),n.d(t,"isAtlaskitCssOverrideEnabled",(function(){return pe})),n.d(t,"isPrefetchCBBOnIssueViewEnabled",(function(){return me})),n.d(t,"getConfigurableTimer",(function(){return be})),n.d(t,"isDeferFlagsFinaliseEnabled",(function(){return ge})),n.d(t,"isFixBreadcrumbEpicLinkUpdateBugEnabled",(function(){return fe})),n.d(t,"isJsmRiskImprovementM1Enabled",(function(){return he})),n.d(t,"is2afErrorCleanupGroup1Enabled",(function(){return Ee})),n.d(t,"is2afErrorCleanupGroup2Enabled",(function(){return ye})),n.d(t,"isSwitcherooRealtimeExposuresTestFlagEnabled",(function(){return Oe})),n.d(t,"isOutsiderCommentFFEnabled",(function(){return ve})),n.d(t,"isEmptyStateEnabled",(function(){return je})),
n.d(t,"IS_DETAIL_VIEW_ISSUE_PAGINATION_ENABLED",(function(){return Ie})),n.d(t,"isDetailViewIssuePaginationEnabled",(function(){return Ce})),n.d(t,"IS_LIST_VIEW_ISSUE_APP_ENABLED",(function(){return Se})),n.d(t,"isListViewIssueAppEnabled",(function(){return ke})),n.d(t,"isRendererHeadingIdsDisabled",(function(){return we})),n.d(t,"isDragAndDragBrokenOnTransitionEnabled",(function(){return Te})),n.d(t,"isDeploymentFeaturesAdoptionExperimentEnabled",(function(){return De})),n.d(t,"isDeploymentsViewLinkMainSwitchEnabled",(function(){return Re})),n.d(t,"isFixAssigneeInlineFieldOnchangeEnabled",(function(){return Le})),n.d(t,"isFixAInitialValueOnEditClassicStoryPointEnabled",(function(){return Me})),n.d(t,"isIIVinJSMEnabled",(function(){return Ae})),n.d(t,"isTTFBRedirectToLoginOnAuthAndPermFailureEnabled",(function(){return _e})),n.d(t,"isUserPickerCatchHandlerEnabled",(function(){return Ne})),n.d(t,"issueDetailsContentpanelviewHeading",(function(){return xe})),
n.d(t,"isIssueDetailsSloCommentsEnabled",(function(){return Ue})),n.d(t,"isWorklogUpdateSloStatusCheckEnabled",(function(){return Fe})),n.d(t,"isEpicSelectFieldErrorMessageOverflowEnabled",(function(){return Pe})),n.d(t,"isCleanSweepMoveWidthdetectorToWidthobserverEnabled",(function(){return Ve})),n.d(t,"isInjectIntlHOCMigrationEnabled",(function(){return Ke})),n.d(t,"isDescriptionHOCAndClassComponentMigrationEnabled",(function(){return $e})),n.d(t,"isIssueAttachmentDateFixEnabled",(function(){return We})),n.d(t,"isSentryErrorFixesEnabled",(function(){return Be})),n.d(t,"isCardWatchStatusToggleEnabled",(function(){return qe})),n.d(t,"isJSMExcludeApproversEnabled",(function(){return He})),n.d(t,"isStakeholdersGlancePanelEnabled",(function(){return Ge})),n.d(t,"isAltTextOnImagesEnabled",(function(){return Ye}))
;const a=()=>Object(n("D3TY").a)("issue.details.add-new-experimental-metric",!1),s=()=>Object(n("D3TY").a)("issue.details.fix-re-render-for-context-groups",!1),i=()=>Object(n("D3TY").a)("issue.details.increase-tti-accuracy",!1),o=()=>Object(n("D3TY").a)("global-issue-create-link-issue-trigger-point-issue-view",!1),r=()=>Object(n("D3TY").a)("issue.details.time-tracking-modal-no-delay",!1),l=()=>Object(n("D3TY").a)("issue.details.layout-containers-api",!1),c=()=>Object(n("D3TY").a)("smite.forge-layout-issue-raporting_s5zt8",!1),d=()=>Object(n("D3TY").a)("smite.forge.issue.glance.dynamic.properties",!1),u=()=>Object(n("D3TY").a)("smite.custom-field.value-function.issue-view",!1),p=()=>Object(n("D3TY").a)("issue.details.convert-sticky-header-from-class-to-functional_096oy",!1),m=()=>Object(n("D3TY").a)("issue.details.report-attachment-view",!1),b=()=>Object(n("D3TY").a)("issue.details.data-provider-removed-from-child-issues",!1),g=()=>Object(n("D3TY").a)("issue.details.extracted-field.labels",!1),f=()=>Object(n("D3TY").a)("issue.details.extracted-field.sprint",!1),h=()=>Object(n("D3TY").a)("issue.details.profilecard-provider-renderer",!1),E=()=>Object(n("D3TY").a)("issue.details.migration-migrated-stream",!1),y=()=>Object(n("D3TY").a)("issue.details.migration.post-migration",!1),O=()=>Object(n("D3TY").a)("issue.details.agg-vendorless-fetch-service_25v4n",!1),v=()=>Object(n("D3TY").a)("issue.details.remove-shortcuts-user-preference",!1),j=()=>Object(n("D3TY").a)("issue.details.bento-104666.agg-shadow-read",!1),I=()=>Object(n("D3TY").a)("issue-details-migrate-epic-link-field-to-parent-for-inline-create_xlhcz",!1),C=()=>Object(n("D3TY").a)("issue.details.jsd.app-permissions.from.tenant-context",!1),S=()=>Object(n("D3TY").a)("issue.details.field-description",!1),k=()=>Object(n("D3TY").a)("issue.details.bitbucket.license.state.in.tenant.context",!1),w=()=>Object(n("D3TY").a)("issue.details.media-cards-new-experience",!1),T=()=>Object(n("D3TY").a)("issue.details.media-picker-folder-upload",!1),D=()=>Object(n("D3TY").a)("issue.details.media-viewer-code-viewer",!1),R=()=>Object(n("D3TY").a)("issue.details.media-viewer-zip-previews",!1),L=()=>Object(n("D3TY").a)("issue-details-bento-10142-wrapping-single-line-text-field_b2nlb",!1),M=()=>Object(n("D3TY").a)("jira.teams.enable-new-custom-field-types",!1),A=()=>"variation"===Object(n("gOD+").a)().getVariantValue("confluence.frontend.invite.from.mention",{
default:"not-enrolled",oneOf:["control","not-enrolled","variation"],shouldTrackExposureEvent:!1}),_=()=>"variation"===Object(n("gOD+").a)().getVariantValue("invite.from.assign",{default:"not-enrolled",oneOf:["control","not-enrolled","variation"],shouldTrackExposureEvent:!1}),N=()=>Object(n("D3TY").a)("issue.details.editor-expand-nodes",!1),x=()=>Object(n("D3TY").a)("issue.details.agg-child-issue-panel-pagination",!1),U=()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1),F=()=>Object(n("D3TY").a)("cleansweep.remove-wrm-from-issue-view-critical-path",!1),P=()=>Object(n("D3TY").a)("issue.details.fix-transitions-request-called-twice-on-load_khhp7",!1),V=()=>Object(n("D3TY").a)("issue-view-display-summary-on-web-and-issue-links",!1),K=()=>Object(n("D3TY").a)("jsw.nextgen.search-field.changeboarding",!1),$=()=>Object(n("D3TY").b)("issue.details.editor.performance-tracking",{}),W=()=>{const e=Object(n("D3TY").b)("issue.details.editor.valid-transactions-tracking",void 0)
;return"object"==typeof e&&Object.keys(e).length?e:void 0
},B=()=>Object(n("D3TY").b)("issue.details.renderer.ttr-severity-tracking",{}),q=()=>Object(n("D3TY").b)("issue.details.renderer.unsupported-content-levels-tracking",{}),H=()=>Object(n("D3TY").b)("issue.details.renderer.spec-based-validator",!1),G=()=>Object(n("D3TY").b)("issue.details.renderer.updated-media-classes-ignore-click",!1),Y=()=>Object(n("D3TY").a)("jsm-chat-channel-for-incident-management",!1),Z=()=>Object(n("D3TY").a)("jsm-issue-view-conference-call-field",!1),X=()=>Object(n("D3TY").a)("jsm.incident.responders_xevre",!1),J=()=>Object(n("D3TY").a)("jsm-stakeholder-update-for-incident-management",!1),z=()=>Object(n("D3TY").a)("jsm-stakeholder-update-for-incident-management",!1),Q=()=>Object(n("D3TY").a)("issue.details.inline-edit-bump",!1),ee=()=>Object(n("D3TY").a)("issue.details.remove-unused-fields",!1),te=()=>Object(n("D3TY").a)("issue.details.dot-dialog-fields-milestone-1",!1),ne=()=>Object(n("D3TY").a)("project.config.pce.modern.global-issue-create.trigger",!1),ae=()=>Object(n("D3TY").a)("project.config.pce.gic.default-options-support-for-async-select-fields-in-gic",!1),se=()=>Object(n("D3TY").a)("project.config.pce.modern.global-subtask-issue-create-trigger",!1),ie=()=>ne()&&se(),oe=()=>Object(n("D3TY").a)("issue-3048-optimize-issue-bean-builder-2-for-single-issue-calls",!1),re="jsm-replacing-major-incident",le=()=>Object(n("D3TY").a)(re,!1),ce="move-practice-field-code-into-its-own-package",de=()=>Object(n("D3TY").a)(ce,!1),ue=()=>Object(n("D3TY").a)("proforma-issue-view-integration_enzyx",!1),pe=()=>Object(n("D3TY").a)("issue.details.fix.css.override.for.ak-renderer",!1),me=()=>Object(n("D3TY").a)("jsw.classic.prefetch.ccb.resources.on.issue.view",!1),be=()=>Object(n("D3TY").b)("jsw.classic.prefetch.configurable.timer.issue.view",2e3),ge=()=>Object(n("D3TY").a)("jfp.perf.defer-flags-finalise",!1),fe=()=>Object(n("D3TY").a)("fix-breadcrumb-epic-link-update-bug_wn9s1",!1),he=()=>Object(n("D3TY").a)("jsm-risk-improvement-m1_z820o",!1),Ee=()=>Object(n("D3TY").a)("issue.details.2af.error-cleanup.group-1",!1),ye=()=>Object(n("D3TY").a)("issue.details.2af.error-cleanup.group-2",!1),Oe=()=>Object(n("D3TY").a)("switcheroo-realtime-exposures-test-flag_648u4",!1),ve=()=>Object(n("D3TY").a)("display-outsider-comment-field_4x7u7",!1),je=()=>Object(n("D3TY").b)("plan-and-build-empty-state_anckt",!1),Ie="nin.issue-pagination-in-detail-view",Ce=()=>Object(n("D3TY").a)(Ie,!1),Se="nin.list-view-issue-app",ke=()=>Object(n("D3TY").a)(Se,!1),we=()=>Object(n("D3TY").a)("editor.renderer-disable-heading-ids",!1),Te=()=>Object(n("D3TY").a)("issue.details.drag-and-drag-broken-on-transition",!1),De=()=>Object(n("gOD+").a)().getBooleanValue("fusion.releases-glance.deployments-view-link",{
default:!1,shouldTrackExposureEvent:!1
}),Re=()=>Object(n("D3TY").a)("fusion.releases-glance.deployments-view-link-main-switch",!1),Le=()=>Object(n("D3TY").a)("issue.details.fix-assignee-inline-field-onchange",!1),Me=()=>Object(n("D3TY").a)("issue.details.fix-initial-value-on-edit-classic-story-point",!1),Ae=()=>Object(n("D3TY").a)("jsm-incident-investigation-view",!1),_e=()=>Object(n("D3TY").a)("pce.gotham.ttfb-get_issue_permissions-cleanup",!1),Ne=()=>Object(n("D3TY").a)("issue.details.userpicker.catchhandler",!1),xe=()=>Object(n("D3TY").a)("issue.details.contentpanelview.heading",!1),Ue=()=>Object(n("D3TY").a)("issue.details.slo.comments",!1),Fe=()=>Object(n("D3TY").a)("issue.details.worklog.update.slo.status.check",!1),Pe=()=>Object(n("D3TY").a)("issue.details.epic-select-field-error-message-overflow",!1),Ve=()=>Object(n("D3TY").a)("clean-sweep-move-widthdetector-to-widthobserver_p1hfe",!1),Ke=()=>Object(n("D3TY").a)("gcfe-37-migrating-injectintl-to-useintl-for-functional-components_kq8qg",!1),$e=()=>Object(n("D3TY").a)("gcfe-9-migrate-issue-view-description-component-to-functional-component_6a77j",!1),We=()=>Object(n("D3TY").a)("issue.details.attached-file-shows-strange-value-for-date-added",!1),Be=()=>Object(n("D3TY").a)("issue.details.sentry-error-fixes",!1),qe=()=>Object(n("D3TY").a)("jsw.tmp.board.card-watch-status-toggle",!1),He=()=>Object(n("D3TY").a)("jsm-exclude-approvers",!1),Ge=()=>Object(n("D3TY").a)("stakeholders-glance-panel",!1),Ye=()=>Object(n("D3TY").a)("editor.renderer-alt-text-on-images",!1)
},dD7R:function(t,n,a){"use strict";a.d(n,"a",(function(){return o}));var s=a("3tO9"),i=a.n(s);const o=(t,n,s,o,r,l)=>{let c=null,d=null;if(null!==o)try{const{appEditions:e}=Object(a("S57X").h)();c=Object(a("YXYM").f)(o),d=Object(a("JMkI").f)(c,e)}catch(e){}const u={};return null!=r&&(u.errorMessage=r),null!=l&&(u.traceId=l),{experience:"transitionIssue",wasExperienceSuccesful:t,analyticsSource:s,application:c,edition:d,additionalAttributes:i()(i()({},u),{},{method:n})}}},dPO5:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d}));const a=()=>({type:"FETCH_ISSUE_REQUEST"}),s=e=>({type:"FETCH_ISSUE_SUCCESS",payload:e}),i=e=>({type:"FETCH_ISSUE_FAILURE",payload:e}),o=()=>({type:"REFRESH_ISSUE_REQUEST"}),r=e=>({type:"REFRESH_ISSUE_SUCCESS",
payload:e}),l=()=>({type:"REFRESH_ECOSYSTEM_REQUEST"}),c=e=>({type:"REFRESH_ECOSYSTEM_SUCCESS",payload:e}),d=()=>({type:"FETCH_FORGE_REQUEST"})},dUcG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("9nhX");const a={minute:"m",hour:"h",day:"d",week:"w"},s=e=>a[e]||a.minute},dggp:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=Object(i.defineMessages)({closedSprintsLabel:{id:"issue-field-sprint.closed-sprints.closed-sprints-label",defaultMessage:"{count} completed {count, plural, one {sprint} other {sprints}}"}}),r=n("vOnD");const l=r.default.div.withConfig({componentId:"sc-1q6i5i-0"})`margin-left:${n("ZpU/").e}px;`,c=r.default.span.withConfig({componentId:"sc-1q6i5i-1"})`padding:${n("ZpU/").e/2}px;`,d=r.default.div.withConfig({componentId:"sc-1q6i5i-2"})`margin-top:${n("ZpU/").e}px;display:flex;justify-content:space-between;max-width:300px;`,u=r.default.span.withConfig({componentId:"sc-1q6i5i-3"
})`font-weight:500;`,p=`\n    margin-right: ${3*n("ZpU/").e}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n`,m=r.default.a.withConfig({componentId:"sc-1q6i5i-4"})`${p};`,b=r.default.span.withConfig({componentId:"sc-1q6i5i-5"})`${p};`,g=r.default.div.withConfig({componentId:"sc-1q6i5i-6"})`white-space:nowrap;`,f=e=>{const{shouldHideLinks:t=!1,closedSprints:i}=e,{formatMessage:r}=Object(n("NRyt").d)(),[p,f]=Object(a.useState)(!1),h=Object(a.useCallback)((e=>{f(!p),e.stopPropagation()}),[p]),E=Object(a.useCallback)((e=>{f(e.isOpen)}),[]),y=Object(a.useCallback)((e=>{e.stopPropagation()}),[]),O=Object(a.useCallback)((e=>{e.preventDefault(),e.stopPropagation()}),[]),v=Object(a.useMemo)((()=>{const e=i.length;return e>0?r(o.closedSprintsLabel,{count:e}):null}),[i,r]);return s.a.createElement(l,{onClick:y,onMouseDown:O},s.a.createElement(n("faw9").a,{content:(()=>s.a.createElement("div",null,s.a.createElement(u,null,v),i.map((e=>s.a.createElement(d,{
key:e.name},t?s.a.createElement(b,null,e.name):s.a.createElement(m,{href:e.href},e.name),s.a.createElement(g,null,e.endDate))))))(),isOpen:p,onClose:E,placement:"bottom"},s.a.createElement(n("340+").a,{onClick:h,spacing:"none",isSelected:p},s.a.createElement(c,null,`+${i.length}`))))};f.displayName="ClosedSprintsView";var h=f;const E=r.default.span.withConfig({componentId:"sc-1ik92vz-0"})`color:${n("5kDX").a.N300};`,y=r.default.div.withConfig({componentId:"sc-12yw0o1-0"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,O=r.default.a.withConfig({componentId:"sc-12yw0o1-1"})`cursor:pointer;`,v=e=>{const{value:t,onClick:n,placeholder:a,shouldHideSprintLink:i=!1}=e;return s.a.createElement(y,null,t?(()=>i?t&&t.label:s.a.createElement(O,{href:t&&t.href,onClick:n},t&&t.label))():s.a.createElement(E,null,a))};v.displayName="SprintContent";var j=v;const I=r.default.div.withConfig({componentId:"sc-1342poi-0"})`display:flex;align-items:center;width:100%;`,C=e=>{
const{onSprintClick:t,placeholder:n,value:a,closedSprints:i=[],shouldHideClosedSprintsLinks:o=!1,shouldHideSprintLink:r=!1}=e;return s.a.createElement(I,null,s.a.createElement(j,{value:a,shouldHideSprintLink:r,placeholder:n,onClick:t}),i.length>0&&s.a.createElement(h,{closedSprints:i,shouldHideLinks:o}))};C.displayName="SprintView";t.a=C},dlXB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u}));const a=e=>({type:"FETCH_FORGE_SUCCESS",payload:e}),s=e=>({type:"FORGE_ISSUE_ACTION_EXEC",payload:e}),i=()=>({type:"FORGE_ISSUE_ACTION_RENDERED"}),o=()=>({type:"FORGE_ISSUE_ACTION_CLOSE"}),r=e=>({type:"FORGE_ISSUE_PANEL_ADDED",payload:e}),l=e=>({type:"FORGE_NEW_ISSUE_PANEL_UNTRACK",payload:e}),c=e=>({
type:"FORGE_ISSUE_PANEL_REMOVED",payload:e}),d=e=>({type:"FORGE_ISSUE_PANEL_UPDATE_REQUEST",payload:e}),u=e=>({type:"FORGE_ISSUE_PANEL_UPDATED",payload:e})},e3aO:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({noPermission:{id:"issue-field-status.status-view.no-permission",defaultMessage:"You don't have permission to transition this issue"},cannotLoadTransitions:{id:"issue-field-status.status-view.cannot-load-transitions",defaultMessage:"We couldn't load the statuses and transitions"},changeStatus:{id:"issue-field-status.status-view.change-status",defaultMessage:"Change status"}})},eNla:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const a=e=>(()=>{const e=Object(n("iJ/Y").n)();return[...Object(n("iJ/Y").e)().filter((e=>!n("iJ/Y").f.includes(e))),...Object.keys(e).map((t=>e[t])),"com.atlassian.jira.plugin.system.customfieldtypes:flagged"]})().find((t=>t===e)),s=e=>{const t=e?e.schema:void 0;return t?a(t.custom)||t.system||t.type:void 0}},
eQ3J:function(e,t,n){e.exports=n.p+"assets/incident-icon.42c8f6da75b54a565bcc0061425abdb6.8.svg"},"eS/l":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("3tO9"),s=n.n(a);const i=(e,t=Object.freeze({}))=>{e&&Object(n("ZpRC").a)(e,s()({duration:300},t))},o=e=>{e&&i(e,{centerIfNeeded:!0})}},"eau+":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a={};n.r(a),n.d(a,"setForge",(function(){return s}));const s=e=>({setState:t})=>{t(e)},i=Object(n("0b8M").a)({name:"issue-view-layout-forge-apps-service",initialState:{customField:[],issueAction:[],issueActivity:[],issueGlance:[],issuePanel:[],activeAction:null,customFieldType:[]},actions:a}),o=Object(n("dq9g").a)(i),r=Object(n("dq9g").a)(i,{selector:null}),l=()=>{const[e]=o();return[e.issueGlance]},c=()=>{const[,e]=r();return[void 0,e]}},ecXv:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}))
;var a={};n.r(a),n.d(a,"setScrollTarget",(function(){return s})),n.d(a,"getScrollTargetId",(function(){return i}));const s=e=>({setState:t})=>{t({scrollTarget:e})},i=e=>({getState:t})=>{const n=t();return n.scrollTarget&&n.scrollTarget.type===e&&n.scrollTarget.id||null},o=Object(n("0b8M").a)({name:"issue-scroll",initialState:{scrollTarget:null},actions:a}),r=Object(n("dq9g").a)(o,{selector:e=>e.scrollTarget}),l=Object(n("dq9g").a)(o,{selector:null}),c=()=>{const[e,{setScrollTarget:t,getScrollTargetId:n}]=r();return[{scrollTarget:e},{setScrollTarget:t,getScrollTargetId:n}]},d=()=>{const[,{setScrollTarget:e,getScrollTargetId:t}]=l();return[void 0,{setScrollTarget:e,getScrollTargetId:t}]}},ejT3:function(e,t,n){"use strict";n.d(t,"u",(function(){return c})),n.d(t,"L",(function(){return d})),n.d(t,"K",(function(){return u})),n.d(t,"G",(function(){return p})),n.d(t,"F",(function(){return m})),n.d(t,"w",(function(){return b})),n.d(t,"H",(function(){return h})),n.d(t,"a",(function(){return E
})),n.d(t,"e",(function(){return S})),n.d(t,"r",(function(){return k})),n.d(t,"i",(function(){return w})),n.d(t,"l",(function(){return T})),n.d(t,"j",(function(){return D})),n.d(t,"p",(function(){return R})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return M})),n.d(t,"s",(function(){return A})),n.d(t,"h",(function(){return _})),n.d(t,"I",(function(){return N})),n.d(t,"o",(function(){return x})),n.d(t,"q",(function(){return U})),n.d(t,"m",(function(){return F})),n.d(t,"t",(function(){return P})),n.d(t,"k",(function(){return V})),n.d(t,"E",(function(){return K})),n.d(t,"D",(function(){return $})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return q})),n.d(t,"M",(function(){return H})),n.d(t,"J",(function(){return G})),n.d(t,"C",(function(){return Y})),n.d(t,"v",(function(){return Z})),n.d(t,"n",(function(){return X})),n.d(t,"B",(function(){return J})),n.d(t,"x",(function(){return z})),n.d(t,"z",(function(){return Q})),
n.d(t,"y",(function(){return ee})),n.d(t,"A",(function(){return te}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("P/G1"),r=n.n(o)
;const l=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.pendingDeletedIds)),c=Object(i.createSelector)(n("/LFc").f,(e=>e.comments)),d=Object(i.createSelector)(n("/LFc").f,(e=>e.totalComments)),u=Object(i.createSelector)(n("/LFc").f,(e=>e.commentsStartIndex)),p=Object(i.createSelector)(n("/LFc").f,(e=>e.loadedComments)),m=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.isLoadingMoreComments)),b=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.hasScrolledPermalinkComment)),g=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.pendingSavedValues)),f=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.deleteModalCommentId)),h=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.loadingStage)),E=Object(i.createSelector)(c,g,((e,t)=>s()(s()({},e),t))),y=e=>Object(i.createSelector)(E,(t=>t[e])),O=e=>Object(i.createSelector)(y(e),n("4dgq").a,((e,t)=>null!==t&&t===(e&&e.authorId))),v=(e,t)=>Object(i.createSelector)(y(e),n("/LFc").k,((e,n)=>e&&e[t]?n(e[t]):null)),j=Object(i.createSelector)(n("/LFc").I,(e=>e&&e.comments||null)),I=Object(i.createSelector)(j,(e=>e&&e.commentEditors||null)),C=e=>Object(i.createSelector)(I,(t=>t&&t[e]||null)),S=e=>v(e,"authorId"),k=e=>v(e,"updateAuthorId"),w=e=>Object(i.createSelector)(C(e),(e=>e&&e.editingValue||null)),T=e=>Object(i.createSelector)(C(e),(e=>e&&e.visibility||null)),D=e=>Object(i.createSelector)(w(e),y(e),((e,t)=>e||t&&t.bodyAdf||null)),R=e=>Object(i.createSelector)(y(e),(e=>e?e.jsdAuthorCanSeeRequest:null)),L=e=>Object(i.createSelector)(y(e),(e=>e?e.bodyHtml:null)),M=e=>Object(i.createSelector)(y(e),(e=>e?e.createdDate:null)),A=e=>Object(i.createSelector)(y(e),(e=>e?e.updatedDate:null)),_=e=>Object(i.createSelector)(y(e),(e=>e?e.edited:null)),N=e=>Object(i.createSelector)(g,(t=>t[e])),x=e=>Object(i.createSelector)(N(e),(e=>!!e)),U=e=>Object(i.createSelector)(N(e),(e=>!(!e||!e.hasSaveFailed))),F=e=>Object(i.createSelector)(f,(t=>t===e)),P=e=>Object(i.createSelector)(y(e),(e=>e?e.visibility:null)),V=e=>Object(i.createSelector)(T(e),P(e),((e,t)=>e||t)),K=e=>Object(i.createSelector)(n("4dgq").t,(e=>Object(i.createSelector)(y(e),(e=>!!e&&e.isInternal)))(e),((e,t)=>e&&t)),$=e=>Object(i.createSelector)(C(e),(e=>{
var t;return null===(t=null==e?void 0:e.isInternal)||void 0===t||t})),W=Object(i.createSelector)(n("nGHA").h,(e=>e.canAddComments)),B=e=>Object(i.createSelector)(n("nGHA").h,O(e),((e,t)=>e.canDeleteAllComments||e.canDeleteOwnComments&&t)),q=e=>Object(i.createSelector)(n("nGHA").h,O(e),((e,t)=>e.canEditAllComments||e.canEditOwnComments&&t)),H=Object(i.createSelector)(E,l,((e,t)=>Object.keys(e).filter((e=>!t.includes(e))).map((t=>({id:t,createdDate:new Date(e[t].createdDate)}))).sort(((e,t)=>Object(n("JhOC").a)(e.createdDate,t.createdDate))).map((e=>e.id)))),G=Object(i.createSelector)(n("Hc0Y").b,E,l,((e,t,a)=>Object.keys(t).filter((e=>!a.includes(e))).map((e=>({id:e,createdDate:new Date(t[e].createdDate)
}))).sort(((t,a)=>"OLDEST_FIRST"===e?Object(n("JhOC").a)(t.createdDate,a.createdDate):Object(n("fePA").a)(t.createdDate,a.createdDate))).map((e=>e.id)))),Y=e=>Object(i.createSelector)(C(e),(e=>!!e&&e.isEditing)),Z=Object(i.createSelector)(H,(e=>e),((e,t)=>e.filter((e=>Y(e)(t))))),X=Object(i.createSelector)(c,(e=>e?Object.keys(e).filter((t=>"object"==typeof e[t])):[])),J=Object(i.createSelector)(X,(e=>e),((e,t)=>e.some((e=>Y(e)(t))))),z=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.addCommentEditorExpand||!1)),Q=Object(i.createSelector)(z,I,((e,t)=>e||!!t&&r()(t).some((e=>e.isEditing)))),ee=Object(i.createSelector)(n("/LFc").I,(e=>e.comments.isCommentAttachmentInProgress)),te=Object(i.createSelector)(n("/LFc").u,n("/LFc").G,((e,t)=>!e&&("business"===t||"software"===t)))},ekdV:function(t,n,a){"use strict";a.d(n,"a",(function(){return j}));var s={};a.r(s),a.d(s,"setIsDownloading",(function(){return v})),a.d(s,"setDeleteAllDialogOpen",(function(){return O})),
a.d(s,"setIsFetching",(function(){return l})),a.d(s,"setOrderDirection",(function(){return d})),a.d(s,"setOrderField",(function(){return u})),a.d(s,"setStartAt",(function(){return b})),a.d(s,"setTotalCount",(function(){return p})),a.d(s,"setDeletableCount",(function(){return m})),a.d(s,"setVisibleAttachments",(function(){return g})),a.d(s,"addNewAttachments",(function(){return f})),a.d(s,"getAttachments",(function(){return h})),a.d(s,"deleteAttachment",(function(){return E})),a.d(s,"refreshAttachments",(function(){return y}));var i=a("3tO9"),o=a.n(i);const r=()=>Object(a("D3TY").a)("issue.details.2af.error-cleanup.group-1",!1),l=(e,t)=>({setState:n,getState:s})=>{const i=s();n({issueAttachments:o()(o()({},i.issueAttachments),{},{[e]:o()(o()({},i.issueAttachments[e]||a("vFHr").c),{},{isFetching:t})})})},c=(e,t)=>({setState:n,getState:s})=>{const i=s();n({issueAttachments:o()(o()({},i.issueAttachments),{},{[e]:o()(o()({},i.issueAttachments[e]||a("vFHr").c),{},{error:t})})})
},d=e=>({getState:t,setState:n})=>{const{meta:a}=t();n({meta:o()(o()({},a),{},{orderDirection:e})})},u=e=>({getState:t,setState:n})=>{const{meta:a}=t();n({meta:o()(o()({},a),{},{orderField:e})})},p=(e,t)=>({setState:n,getState:s})=>{const i=s();n({issueAttachments:o()(o()({},i.issueAttachments),{},{[e]:o()(o()({},i.issueAttachments[e]||a("vFHr").c),{},{totalCount:t})})})},m=(e,t)=>({setState:n,getState:s})=>{const i=s();n({issueAttachments:o()(o()({},i.issueAttachments),{},{[e]:o()(o()({},i.issueAttachments[e]||a("vFHr").c),{},{deletableCount:t})})})},b=e=>({getState:t,setState:n})=>{const{meta:a}=t();n({meta:o()(o()({},a),{},{startAt:e})})},g=(e,t)=>({setState:n,getState:s})=>{const i=s();n({issueAttachments:o()(o()({},i.issueAttachments),{},{[e]:o()(o()({},i.issueAttachments[e]||a("vFHr").c),{},{visibleAttachments:t})})})},f=(e,t)=>({setState:n,getState:s})=>{
const i=s(),r=i.issueAttachments[e]?i.issueAttachments[e].visibleAttachments:[],l=i.issueAttachments[e]&&i.issueAttachments[e].totalCount||0,c=t.concat(r),d=l+t.length;n({issueAttachments:o()(o()({},i.issueAttachments),{},{[e]:o()(o()({},i.issueAttachments[e]||a("vFHr").c),{},{visibleAttachments:c,totalCount:d})})})},h=(t,n,s)=>async({dispatch:i})=>{i(l(t,!0)),i(c(t,null));try{const e=await Object(a("vFHr").b)(t,n,s);if(e)i(p(t,e.totalCount)),"number"==typeof e.deletableCount&&i(m(t,e.deletableCount)),i(g(t,e.nodes)),i(d((null==s?void 0:s.orderDirection)||a("RTuT").c)),i(u((null==s?void 0:s.orderField)||a("RTuT").d)),i(b((null==s?void 0:s.startAt)||0));else{const e="Failed to fetch issue attachments";i(c(t,new Error(e))),a("RDfz").a.safeErrorWithoutCustomerData("issue.attachments.fetch-attachments",e)}}catch(e){i(c(t,e)),a("RDfz").a.safeErrorWithoutCustomerData("issue.attachments.fetch-attachments",e.toString())}i(l(t,!1))},E=(e,t,n,s)=>async({dispatch:i,getState:o})=>{
const l=o().issueAttachments[e];if(r()&&!l)return;const{totalCount:c,visibleAttachments:d}=l;if(void 0!==c){i(g(e,d.filter((e=>e.id!==t)))),i(p(e,c-1));try{await Object(a("vFHr").a)(n,t),i(h(e,n,s))}catch(u){throw i(h(e,n,s)),u}}},y=(e,t,n)=>({dispatch:a,getState:s})=>{const i=s(),o=i.issueAttachments[e];if(r()&&!o)return;const{startAt:l}=i.meta,{isFetching:c}=o;(!c||n&&n.startAt!==l)&&a(h(e,t,n))},O=e=>({getState:t,setState:n})=>{const{meta:a}=t();n({meta:o()(o()({},a),{},{isDeleteAllDialogOpen:e})})},v=(e,t)=>({setState:n,getState:a})=>{const s=a();n({issueAttachments:o()(o()({},s.issueAttachments),{},{[e]:o()(o()({},s.issueAttachments[e]),{},{isDownloading:t})})})},j=Object(a("0b8M").a)({name:"issue-attachments",initialState:{issueAttachments:{},meta:{orderDirection:a("RTuT").c,orderField:a("RTuT").d,startAt:0,isDeleteAllDialogOpen:!1}},actions:s})},erQ6:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i
})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return p}));const a=()=>({type:"SHOW_ASSIGN_ISSUE_PARENT_MODAL"}),s=()=>({type:"HIDE_ASSIGN_ISSUE_PARENT_MODAL"}),i=()=>({type:"FETCH_ISSUE_PARENTS_REQUEST"}),o=(e=[])=>({type:"FETCH_ISSUE_PARENTS_SUCCESS",payload:e}),r=()=>({type:"FETCH_ISSUE_PARENTS_FAILURE"}),l=(e,t)=>({type:"SET_PARENT_REQUEST",payload:{issues:e,parentId:t}}),c=(e,t,n)=>({type:"SET_PARENT_OPTIMISTIC",payload:{issues:e,parentIssue:t,requestPromise:n}}),d=e=>({type:"UNSET_PARENT_REQUEST",payload:{issues:e}}),u=(e,t)=>({type:"SET_PARENT_SUCCESS",payload:{parentIssue:e,oldParentIdsByIssueIds:t}}),p=e=>({type:"UNSET_PARENT_SUCCESS",payload:{oldParentIdsByIssueIds:e}})},eryr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("3tO9"),s=n.n(a),i=n("QVEU"),o=n.n(i);const r=e=>{
var t,a,i,r,l,c,d,u;const{issue:p}=e,m=o()(p.fields,"key"),b=(null===(t=m.subtasks)||void 0===t||null===(a=t.content)||void 0===a?void 0:a.length)||0,g=(null===(i=m["children-issues"])||void 0===i||null===(r=i.content)||void 0===r?void 0:r.length)||0,f=(null===(l=m["epic-issues"])||void 0===l||null===(c=l.content)||void 0===c?void 0:c.length)||0,h=(null===(d=m["portfolio-child-issues"])||void 0===d||null===(u=d.content)||void 0===u?void 0:u.length)||0,E=b+g+f+h>n("4sMs").a,y=p.fields.map((e=>{const{key:t}=e;return("subtasks"===t&&b>0||"portfolio-child-issues"===t&&h>0||"children-issues"===t&&g>0||"epic-issues"===t&&f>0)&&E?s()(s()({},e),{},{content:[],issueLimitUrl:"CHILD_ISSUES_LIMIT_EXCEEDED"}):e}));return s()(s()({},e),{},{issue:s()(s()({},p),{},{fields:y})})}},"f2q/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a="VIEW_MODE_MODAL",s="VIEW_MODE_SIDEBAR"},fLzW:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),
n.d(t,"l",(function(){return o})),n.d(t,"k",(function(){return r})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return f}));var a=n("J/PD"),s=n.n(a);const i={PURPLE:n("5kDX").a.P200,BLUE:n("5kDX").a.B200,GREEN:n("5kDX").a.G200,TEAL:n("5kDX").a.T200,YELLOW:n("5kDX").a.Y200,ORANGE:n("5kDX").a.R200,GREY:n("5kDX").a.N200,DARK_PURPLE:n("5kDX").a.P400,DARK_BLUE:n("5kDX").a.B400,DARK_GREEN:n("5kDX").a.G400,DARK_TEAL:n("5kDX").a.T400,DARK_YELLOW:n("5kDX").a.Y400,DARK_ORANGE:n("5kDX").a.R400,DARK_GREY:n("5kDX").a.N700},o=s()(i),r={purple:"PURPLE",dark_purple:"DARK_PURPLE",blue:"BLUE",dark_blue:"DARK_BLUE",green:"GREEN",dark_green:"DARK_GREEN",teal:"TEAL",dark_teal:"DARK_TEAL",yellow:"YELLOW",dark_yellow:"DARK_YELLOW",orange:"ORANGE",
dark_orange:"DARK_ORANGE",grey:"GREY",dark_grey:"DARK_GREY"},l=s()(r),c={"ghx-label-1":"DARK_GREY","ghx-label-2":"DARK_YELLOW","ghx-label-3":"YELLOW","ghx-label-4":"DARK_BLUE","ghx-label-5":"DARK_TEAL","ghx-label-6":"GREEN","ghx-label-7":"PURPLE","ghx-label-8":"DARK_PURPLE","ghx-label-9":"ORANGE","ghx-label-10":"BLUE","ghx-label-11":"TEAL","ghx-label-12":"GREY","ghx-label-13":"DARK_GREEN","ghx-label-14":"DARK_ORANGE"},d=s()(c),u={color_1:"DARK_GREY",color_2:"DARK_YELLOW",color_3:"YELLOW",color_4:"DARK_BLUE",color_5:"DARK_TEAL",color_6:"GREEN",color_7:"PURPLE",color_8:"DARK_PURPLE",color_9:"ORANGE",color_10:"BLUE",color_11:"TEAL",color_12:"GREY",color_13:"DARK_GREEN",color_14:"DARK_ORANGE"},p=s()(u),m={"ghx-label-1":"color_1","ghx-label-2":"color_2","ghx-label-3":"color_3","ghx-label-4":"color_4","ghx-label-5":"color_5","ghx-label-6":"color_6","ghx-label-7":"color_7","ghx-label-8":"color_8","ghx-label-9":"color_9","ghx-label-10":"color_10","ghx-label-11":"color_11",
"ghx-label-12":"color_12","ghx-label-13":"color_13","ghx-label-14":"color_14"},b={DARK_GREY:"grey",DARK_YELLOW:"yellow",YELLOW:"yellowLight",DARK_BLUE:"blue",DARK_TEAL:"teal",GREEN:"greenLight",PURPLE:"purpleLight",DARK_PURPLE:"purple",ORANGE:"redLight",BLUE:"blueLight",TEAL:"tealLight",GREY:"greyLight",DARK_GREEN:"green",DARK_ORANGE:"red"},g={color_1:"grey",color_2:"yellow",color_3:"yellowLight",color_4:"blue",color_5:"teal",color_6:"greenLight",color_7:"purpleLight",color_8:"purple",color_9:"redLight",color_10:"blueLight",color_11:"tealLight",color_12:"greyLight",color_13:"green",color_14:"red"},f={PURPLE:{primary:n("5kDX").a.P200,secondary:n("5kDX").a.P500,text:n("5kDX").a.P500,textBackground:n("5kDX").a.P50,border:n("5kDX").a.P400,line:n("5kDX").a.P300,primaryGradient:n("5kDX").a.P75,hasContrastSecondaryGradient:!0},BLUE:{primary:n("5kDX").a.B200,secondary:n("5kDX").a.B500,text:n("5kDX").a.B500,textBackground:n("5kDX").a.B50,border:n("5kDX").a.B400,line:n("5kDX").a.B300,
primaryGradient:n("5kDX").a.B75,hasContrastSecondaryGradient:!0},GREEN:{primary:n("5kDX").a.G200,secondary:n("5kDX").a.G500,text:n("5kDX").a.G500,textBackground:n("5kDX").a.G50,border:n("5kDX").a.G400,line:n("5kDX").a.G300,primaryGradient:n("5kDX").a.G75,hasContrastSecondaryGradient:!0},TEAL:{primary:n("5kDX").a.T200,secondary:n("5kDX").a.T500,text:n("5kDX").a.T500,textBackground:n("5kDX").a.T50,border:n("5kDX").a.T400,line:n("5kDX").a.T300,primaryGradient:n("5kDX").a.T75,hasContrastSecondaryGradient:!0},YELLOW:{primary:n("5kDX").a.Y200,secondary:n("5kDX").a.Y500,text:n("5kDX").a.Y500,textBackground:n("5kDX").a.Y50,border:n("5kDX").a.Y400,line:n("5kDX").a.Y300,primaryGradient:n("5kDX").a.Y75,hasContrastSecondaryGradient:!0},ORANGE:{primary:n("5kDX").a.R200,secondary:n("5kDX").a.R500,text:n("5kDX").a.R500,textBackground:n("5kDX").a.R50,border:n("5kDX").a.R400,line:n("5kDX").a.R300,primaryGradient:n("5kDX").a.R75,hasContrastSecondaryGradient:!0},GREY:{primary:n("5kDX").a.N200,
secondary:n("5kDX").a.N500,text:n("5kDX").a.N500,textBackground:n("5kDX").a.N30,border:n("5kDX").a.N700,line:n("5kDX").a.N500,primaryGradient:n("5kDX").a.N50,hasContrastSecondaryGradient:!0},DARK_PURPLE:{primary:n("5kDX").a.P400,secondary:n("5kDX").a.P200,text:n("5kDX").a.N0,textBackground:n("5kDX").a.P400,border:n("5kDX").a.P100,line:n("5kDX").a.P300,primaryGradient:n("5kDX").a.P100,hasContrastSecondaryGradient:!1},DARK_BLUE:{primary:n("5kDX").a.B400,secondary:n("5kDX").a.B200,text:n("5kDX").a.N0,textBackground:n("5kDX").a.B400,border:n("5kDX").a.B200,line:n("5kDX").a.B100,primaryGradient:n("5kDX").a.B100,hasContrastSecondaryGradient:!1},DARK_GREEN:{primary:n("5kDX").a.G400,secondary:n("5kDX").a.G200,text:n("5kDX").a.N0,textBackground:n("5kDX").a.G400,border:n("5kDX").a.G200,line:n("5kDX").a.G300,primaryGradient:n("5kDX").a.G200,hasContrastSecondaryGradient:!1},DARK_TEAL:{primary:n("5kDX").a.T400,secondary:n("5kDX").a.T200,text:n("5kDX").a.N0,textBackground:n("5kDX").a.T400,
border:n("5kDX").a.T200,line:n("5kDX").a.T300,primaryGradient:n("5kDX").a.T100,hasContrastSecondaryGradient:!1},DARK_YELLOW:{primary:n("5kDX").a.Y400,secondary:n("5kDX").a.Y200,text:n("5kDX").a.N0,textBackground:n("5kDX").a.Y400,border:n("5kDX").a.Y200,line:n("5kDX").a.Y300,primaryGradient:n("5kDX").a.Y100,hasContrastSecondaryGradient:!1},DARK_ORANGE:{primary:n("5kDX").a.R400,secondary:n("5kDX").a.R200,text:n("5kDX").a.N0,textBackground:n("5kDX").a.R400,border:n("5kDX").a.R100,line:n("5kDX").a.R300,primaryGradient:n("5kDX").a.R100,hasContrastSecondaryGradient:!1},DARK_GREY:{primary:n("5kDX").a.N700,secondary:n("5kDX").a.N300,text:n("5kDX").a.N0,textBackground:n("5kDX").a.N500,border:n("5kDX").a.N100,line:n("5kDX").a.N500,primaryGradient:n("5kDX").a.N100,hasContrastSecondaryGradient:!1}}},fdGr:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var a=n("peh1"),s=n("E+oP"),i=n.n(s),o=n("J2iB"),r=n.n(o)
;const l=Object(a.createSelector)(n("/LFc").f,(e=>e.cardCover)),c=Object(a.createSelector)(l,(e=>e&&e.isEnabled)),d=(Object(a.createSelector)(l,(e=>e&&(!r()(e.attachmentId)||!i()(e.availableAttachmentIds)))),Object(a.createSelector)(n("4dgq").u,(e=>!!e&&e.includes("cardCoverActions"))))},fjz3:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n("3tO9"),s=n.n(a);const i=(e,t,a,i,o)=>{const r=s()(s()({},o),{},{elapsedTimeMs:n("SHpS").d.now()-a});i&&Object(n("yy8q").b)(i({action:e,actionSubject:t}),`${t} ${e}`,r)},o=(e,t,n,a)=>{i("succeeded",`${e}Suggestions`,t,n,a)},r=(e,t,n,a)=>{i("failed",`${e}Suggestions`,t,n,a)}},g0Ly:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=Object(i.defineMessages)({assigneeTooltip:{id:"issue-field-assignee.common.read-view.popover.assignee-tooltip",defaultMessage:"Assignee: {name}"}});const r=n("vOnD").default.div.withConfig({componentId:"sc-149xdr6-0"
})`width:${3.5*n("ZpU/").e}px;height:${3.5*n("ZpU/").e}px;padding:0;box-sizing:border-box;cursor:default;`,l=({value:e})=>{const t=Object(n("NRyt").d)(),a=Object(n("/J2q").c)(t),i=e||a,l="__UNASSIGNED_ID__"===i.accountId?i.displayName:t.formatMessage(o.assigneeTooltip,{name:i.displayName}),c=Object(n("/J2q").d)(i);return s.a.createElement(r,null,s.a.createElement(n("Yto1").a,{content:l},s.a.createElement(n("1JKq").a,{size:"small",src:c,name:l,borderColor:"transparent"})))};l.displayName="AssigneePickerView";t.a=l},g3iI:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a={};n.r(a),n.d(a,"markRollingUpData",(function(){return s})),n.d(a,"unmarkRollingUpData",(function(){return i}));const s=()=>({setState:e})=>{e({isRollingUp:!0})},i=()=>({setState:e})=>{e({isRollingUp:!1})},o=Object(n("0b8M").a)({name:"worklog-time-tracking",initialState:{isRollingUp:!0},actions:a}),r=Object(n("UCyb").a)(o)},gDSC:function(t,n,a){"use strict"
;a.d(n,"b",(function(){return u})),a.d(n,"a",(function(){return g}));var s=a("3tO9"),i=a.n(s),o=a("q1tI"),r=a.n(o);const l=e=>i()(i()({id:parseInt(e.id,10),name:e.name,hasScreen:e.hasScreen,isGlobal:e.isGlobal,isInitial:e.isInitial,isConditional:e.isConditional},"boolean"==typeof e.isLooped&&{isLooped:e.isLooped}),{},{to:{id:parseInt(e.to.id,10),name:e.to.name,description:"",statusCategory:{id:e.to.statusCategory.id}},from:null}),c=e=>i()(i()({id:String(e.id),name:e.name,hasScreen:e.hasScreen,isGlobal:e.isGlobal,isInitial:e.isInitial,isConditional:e.isConditional},"boolean"==typeof e.isLooped&&{isLooped:e.isLooped}),{},{to:{id:String(e.to.id),name:e.to.name,statusCategory:{id:e.to.statusCategory.id}}}),d=Object(a("B2Rg").a)(),u=(e,t)=>`${e}/rest/api/2/issue/${t}/transitions?sortByOpsBarAndStatus=true`,p=(e,t,n,s)=>{const i="string"==typeof n?Object(a("dD7R").a)(e,"GET","Issue View BaseTransitionsQuery",t||null,n,s):Object(a("dD7R").a)(e,"GET","Issue View BaseTransitionsQuery",t||null)
;Object(a("/dKO").a)(i)},m=t=>{const{status:n,issueKey:s,baseUrl:r,projectType:m,preFetch:b,createAnalyticsEvent:g,isSaving:f}=t,[h,E]=Object(a("Ff2O").c)(),y=Object(o.useRef)(!1),[O]=Object(a("j3bG").d)(s),v=Object(o.useCallback)((async t=>{if(!(Object(a("d90y").isFixTransitionsRequestCalledTwiceEnabled)()&&h.loading||y.current)){y.current=!0,E({loading:!0,error:null});try{d.start({key:"issue-field.status.fetch-transitions"});const e=((e=[])=>e.filter((e=>!!e.to&&!!e.to.statusCategory)))((await Object(a("QNWr").a)(u(r,s))).transitions);d.stop({key:"issue-field.status.fetch-transitions"}),Object(a("yy8q").g)(t,"statusField transitionsFetched","statusField",{count:e.length}),p(!0,m),E({data:e.map(l),loading:!1,error:null})}catch(e){d.cancel("issue-field.status.fetch-transitions"),Object(a("be7s").a)("issue-field.status.fetch-transitions",e.toString(),e,{}),Object(a("oZs7").a)(e)?p(!1,m,`${e.name||""} ${e.message}`.trim(),e.traceId):p(!0,m),E({data:null,loading:!1,error:e})}y.current=!1}
}),[r,s,m,E,O]);return Object(a("d90y").isFixTransitionsRequestCalledTwiceEnabled)()?Object(o.useMemo)((()=>{!0===b&&g&&v(g({}))}),[s,b,g,E,v]):Object(o.useEffect)((()=>{!0===b&&g&&v(g({}))}),[s,b,g,E,v]),Object(o.useEffect)((()=>{f?E({data:null}):!f&&!0===b&&g&&v(g({}))}),[f,n,b,g,E,v]),t.children(i()(i()({},h),{},{data:h.data?h.data.map(c):null,fetch:v}))},b=e=>r.a.createElement(a("Mr31").a,{scope:e.issueKey},r.a.createElement(m,e));b.displayName="ScopedTransitionsQuery";const g=Object(a("VHV8").a)()(b)},gEry:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return v}));var a=n("vOnD")
;const s=a.keyframes`from{opacity:0;}to{opacity:1;}`,i=a.keyframes`from{opacity:1;}to{opacity:0;}`,o=a.css`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,r=a.default.div.withConfig({componentId:"sc-183o9qd-0"})`display:flex;flex-wrap:wrap;margin-bottom:${2*n("ZpU/").e}px;word-break:break-word;`,l=a.default.div.withConfig({componentId:"sc-183o9qd-1"
})`${()=>Object(n("MrUx").a)()?null:a.css`& > div > div > div > div > div > div ${e=>e.hasTooltip?"> div":""}{min-height:${4*n("ZpU/").e}px;}`} & > div > div > div > div > div > div > div ${e=>e.hasTooltip?" > div":""}{${e=>e.isFixFocusRing?"border-color: transparent;":""} ${e=>e.isEditing?"":`padding: 0 0 0 ${.75*n("ZpU/").e}px;`} ${e=>!e.isEditing&&e.fixedHeight?`height: ${4*n("ZpU/").e}px;`:""}}flex-grow:1;width:${60}%;box-sizing:border-box;`,c=a.css`${n("2Fh1").a}{visibility:hidden;animation:${i} 0.15s linear forwards;}:hover ${n("2Fh1").a}{visibility:visible;animation:${s} 0.15s linear forwards;}`,d=a.css`${n("2Fh1").a},${n("kJAf").a}{visibility:hidden;animation:${i} 0.15s linear forwards;}:hover ${n("2Fh1").a},:hover ${n("kJAf").a}{visibility:visible;animation:${s} 0.15s linear forwards;}`,u=a.css`max-width:${21.25*n("ZpU/").e}px;`,p=a.css`${({isCompact:e})=>e?void 0:u}`,m=a.css`${({isFieldDescriptionEnabled:e})=>e?d:c} position:relative;flex-grow:1;box-sizing:border-box;padding-right:${3*n("ZpU/").e}px;min-width:${15*n("ZpU/").e}px;width:${40}%;padding-top:${n("ZpU/").e}px;line-height:1;${p}`,b=a.css`${({isFieldDescriptionEnabled:e})=>e?d:c} margin-bottom:${.5*n("ZpU/").e}px !important;display:flex;align-items:center;`,g=a.default.h2.withConfig({
componentId:"sc-183o9qd-2"})`box-sizing:border-box;font-weight:500;${n("5kDX").d.h200()};color:${n("5kDX").a.N800};`,f=a.default.h2.withConfig({componentId:"sc-183o9qd-3"})`font-weight:500;${o};${n("5kDX").d.h200()};color:${n("5kDX").a.N800};`,h=a.default.div.withConfig({componentId:"sc-183o9qd-4"})`${b}`,E=a.css`${g}{display:inline;}${n("2Fh1").a}{display:inline;position:absolute;}`,y=a.css`${g},${n("2Fh1").a},${n("kJAf").a}{display:inline;vertical-align:bottom;& div{display:inline;}}`,O=a.default.div.withConfig({componentId:"sc-183o9qd-5"})`${m} ${({isFieldDescriptionEnabled:e})=>e?y:E}`,v=(Object(a.default)(O).withConfig({componentId:"sc-183o9qd-6"})`padding:0;`,a.default.div.withConfig({componentId:"sc-183o9qd-7"})`height:${3*n("ZpU/").e}px;margin-left:${.25*n("ZpU/").e}px;margin-right:-${.25*n("ZpU/").e}px;margin-top:-${.5*n("ZpU/").e}px;position:relative;`);a.default.div.withConfig({componentId:"sc-183o9qd-8"
})`display:flex;align-items:center;margin-right:${1.25*n("ZpU/").e}px;height:${1.5*n("ZpU/").e}px;`},gIl3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("vOnD");const s=a.keyframes`0%{background-position:-300px 0;}100%{background-position:2000px 0;}`,i=a.default.div.withConfig({componentId:"wde6c-0"})`background-color:${n("5kDX").a.N0};background-image:none;`;t.b=a.default.div.withConfig({componentId:"wde6c-1"})`animation-duration:1s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:${s};animation-timing-function:linear;background-color:${n("5kDX").a.N30};background-image:linear-gradient( to right,${n("5kDX").a.N30} 10%,${n("5kDX").a.N20} 30%,${n("5kDX").a.N30} 50% );background-repeat:no-repeat;position:absolute;left:0;right:0;top:0;bottom:0;`},gVzX:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){
return c})),n.d(t,"c",(function(){return d}));var a=n("vOnD");const s=a.default.span.withConfig({componentId:"sc-12mk0-0"})`color:${n("5kDX").a.N300};`,i=a.css`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,o=a.default.div.withConfig({componentId:"sc-12mk0-1"})`${i};`,r=e=>a.css`${e}::-webkit-scrollbar{width:8px;background:transparent;}${e}::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:10px;}`,l=a.css`font-size:1em;line-height:1.714;font-weight:normal;margin-top:1.143;margin-bottom:0;letter-spacing:-0.005em;overflow-y:auto;overflow-x:hidden;width:100%;height:auto;white-space:pre-line;`,c=a.default.div.withConfig({componentId:"sc-12mk0-2"})`${l};`,d=a.default.div.withConfig({componentId:"sc-12mk0-3"})`${l};max-height:${e=>2.5*(e.maxRows?e.maxRows:2)}ex;${r("&")};`},gWdf:function(e,t,n){"use strict";n.d(t,"b",(function(){return K}))
;var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("3tO9"),l=n.n(r),c=n("q1tI"),d=n.n(c),u=n("JRPe"),p=n("M6kn"),m=n("vN+2"),b=n.n(m),g=Object(u.defineMessages)({empty:{id:"issue.views.field.select.empty",defaultMessage:"No matches found"},failedFetch:{id:"issue.views.field.select.failed-fetch",defaultMessage:"Search failed."},reloadIssue:{id:"issue.views.field.select.reload-issue",defaultMessage:"Try reloading the issue."}}),f=n("EcEN"),h=n.n(f),E=n("6ajc"),y=n.n(E);const O=e=>y()(e.map((e=>(e=>void 0!==e.options)(e)&&e.options?e.options:e))),v=e=>null==e?[]:Array.isArray(e)?e:[e],j=(e,t=!1)=>t?e.toString():Object(n("hhxX").a)(e.toString()).toString(),I=(e,t=!1)=>e.filter((e=>e.value)).map((({value:e})=>j(e,t))),C=e=>{const t=e.map((({id:e})=>e||null));return t.every((e=>null===e))?[]:t},S=e=>e.filter((e=>e.value)).map((({value:e})=>null!=e?`${e}`.length:0)),k=["footer","onFooterSelect","options","noOptionsMessage","loadingMessage","filterOption"],w="",T=Object(n("Wwog").a)((e=>({
label:e(w),isDisabled:!0,isAkSelectOption:!0}))),D=Object(n("Wwog").a)((e=>({label:e(w),isDisabled:!0,isAkSelectOption:!0}))),R=Object(n("Wwog").a)(((e,t,n,a)=>!0===e?[...t,n,a]:t));class L extends c.Component{constructor(...e){super(...e),this.formatCreateLabel=e=>{const{footer:t,formatCreateLabel:n}=this.props;return void 0===t?n?n(e):e:"function"==typeof t?t(e):t},this.getShouldShowFooter=()=>{const{footer:e,shouldShowFooter:t}=this.props;return!!e&&t},this.isOptionShownInDropdown=(e,t)=>{const{filterOption:n,noOptionsMessage:a,loadingMessage:s,value:i}=this.props;return n(e,t)&&e.label!==a(w)&&e.label!==s(w)&&!v(i).find((t=>t.value===e.value))},this.filterOptionWithFooterAndShowNoOptionsMessage=(e,t)=>{const{filterOption:n,options:a,isLoading:s,noOptionsMessage:i,loadingMessage:o}=this.props;return e.label===i(w)?!0!==s&&!O(a).some((e=>this.isOptionShownInDropdown(e,t))):e.label===o(w)?!0===s&&!O(a).some((e=>this.isOptionShownInDropdown(e,t))):n(e,t)}}render(){
const e=this.props,{footer:t,onFooterSelect:a,options:i,noOptionsMessage:r,loadingMessage:l,filterOption:c}=e,u=o()(e,k),p=this.getShouldShowFooter(),m=D(r),b=T(l),g=R(p,i,m,b);return d.a.createElement(n("CF39").a,s()({},u,{options:g,formatCreateLabel:this.formatCreateLabel,isValidNewOption:this.getShouldShowFooter,onCreateOption:a,filterOption:!0===p?this.filterOptionWithFooterAndShowNoOptionsMessage:c,loadingMessage:l,noOptionsMessage:r,allowCreateWhileLoading:!0}))}}L.displayName="SelectWithFooter",L.defaultProps={shouldShowFooter:!0};const M=["canCreateNewItem","createAnalyticsEvent"],A={onChange:"valueChanged",onInputChange:"inputChanged",onMenuOpen:"menuOpened",onMenuClose:"menuClosed"},_=Object(n("QURJ").a)("select",A)(L),N=Object(n("QURJ").a)("select",A)(n("CF39").a),x={action:"fake-action"};class U extends c.Component{constructor(e){super(e),this.getDefaultAnalyticsAttributes=e=>{const{fieldId:t,value:a,isLoading:s,optionValuesSafeForAnalytics:i}=this.props,o={
queryLength:e.length,queryHash:""===e?e:Object(n("hhxX").a)(e)},r=v(a);let c=((e,t)=>e.filter((e=>"string"==typeof e.value&&e.value.toLowerCase().includes((t||"").toLowerCase())||"string"==typeof e.label&&e.label.toLowerCase().includes((t||"").toLowerCase()))))(this.flatOptions,e);const d=c.length;c=c.slice(0,20);const u=I(c,i);return l()(l()({fieldId:t,componentName:"select",packageName:"@atlaskit/select",options:u,optionsLength:d,optionsLengths:S(c),optionIds:C(c),selectedOptions:I(r,i),selectedOptionsLengths:S(r),selectedOptionIds:C(r),sessionId:this.sessionId,truncationSize:20,isLoading:s},o),{},{optionValuesSafeForAnalytics:i},this.props.additionalAnalyticsProps)},this.getItemOrder=e=>{const t=[];return this.flatOptions.forEach(((n,a)=>{const s=n.filterValues||[];(n.value===e.value||s.includes(e.value))&&t.push(a)})),t.length>0?t[0]:-1},this.startSession=()=>{this.sessionId=h.a.v4(),this.sessionStartedAt=n("SHpS").d.now(),
this.fireTrackAnalyticsEvent(this.props.createAnalyticsEvent({action:"started"}),"started","optionSelectionSession")},this.endSession=()=>{if(this.sessionId){const e=this.sessionStartedAt?n("SHpS").d.now()-this.sessionStartedAt:0;this.fireTrackAnalyticsEvent(this.props.createAnalyticsEvent({action:"ended"}),"ended","optionSelectionSession",l()({elapsedTime:e},this.props.additionalAnalyticsProps))}this.sessionStartedAt=0,this.sessionId=void 0},this.flatOptions=[],this.sessionId=void 0,this.queryAtSetValue="",this.query="",this.sessionStartedAt=0,this.isOpened=!1,this.fireOptionsLoadedEvent=e=>{e.update({action:"loaded",actionSubject:"options"}),this.fireAnalyticsEvent(e,this.query)},this.fireInputChangedEvent=(e,t,n)=>("set-value"===t.action&&(this.queryAtSetValue=this.query),this.query=e,n.update({action:"changed",actionSubject:"filter"}),this.fireAnalyticsEvent(n,this.query),this.sessionId),this.restartSession=()=>{this.endSession(),this.props.menuIsOpen&&(this.isOpened=!0,
this.startSession())},this.fireOptionCreatedEvent=(e,t)=>{t.update({action:"created",actionSubject:"option"});const n=this.sessionId;this.restartSession(),this.fireAnalyticsEvent(t,this.queryAtSetValue,{selectedOption:j(e.value,this.props.optionValuesSafeForAnalytics),sessionId:n})},this.fireOptionRemovedEvent=(e,t)=>{t.update({action:"removed",actionSubject:"option"}),this.fireAnalyticsEvent(t,this.query,{removedItem:e?j(e.value,this.props.optionValuesSafeForAnalytics):void 0})},this.fireOptionSelectedEvent=(e,t)=>{t.update({action:"changed",actionSubject:"option"});const n=this.sessionId;this.restartSession(),this.fireAnalyticsEvent(t,this.queryAtSetValue,{selectedOrder:this.getItemOrder(e),selectedOption:j(e.value,this.props.optionValuesSafeForAnalytics),selectedOptionLength:null!==e.value?`${e.value}`.length:0,sessionId:n})},this.fireOpenChangedEvent=(e,t)=>{e.isOpen&&!this.isOpened&&this.startSession(),this.isOpened=e.isOpen,t.update({action:e.isOpen?"opened":"closed",
actionSubject:"optionSelect",attributes:this.getDefaultAnalyticsAttributes(this.query)}),this.fireAnalyticsEvent(t,this.query)},this.onChange=(e,t,n)=>{const a=Array.isArray(e)?e[e.length-1]:e,s=this.sessionId;switch(t.action){case"create-option":null!==a&&this.fireOptionCreatedEvent(a,n);break;case"remove-value":case"pop-value":case"deselect-option":this.fireOptionRemovedEvent(t.removedValue||t.option,n);break;case"select-option":null!==a&&this.fireOptionSelectedEvent(a,n)}this.props.onChange&&this.props.onChange(e,t,s)},this.onInputChange=(e,t,n)=>{const{onInputChange:a}=this.props;"input-change"!==t.action&&"set-value"!==t.action||this.fireInputChangedEvent(e,t,n),a(e,t,this.sessionId)},this.onMenuOpen=e=>{this.fireOpenChangedEvent({isOpen:!0},e);const{onMenuOpen:t}=this.props;t&&t(e)},this.onMenuClose=e=>{this.fireOpenChangedEvent({isOpen:!1},e);const{onMenuClose:t}=this.props;t&&t(e)},this.onFocus=e=>{this.props.onFocus(e,this.sessionId)},this.flatOptions=O(this.props.options),
this.isOpened=e.menuIsOpen,this.isOpened&&(this.startSession(),this.fireInputChangedEvent("",x,this.props.createAnalyticsEvent({})))}componentDidUpdate(e){this.props.options!==e.options&&(this.flatOptions=O(this.props.options),this.fireOptionsLoadedEvent(this.props.createAnalyticsEvent()))}componentWillUnmount(){this.endSession()}fireAnalyticsEvent(e,t,a={}){const s=l()(l()({},this.getDefaultAnalyticsAttributes(t)),a);Object(n("yy8q").h)(e,s)}fireTrackAnalyticsEvent(e,t,a,s){const i=l()(l()({},this.getDefaultAnalyticsAttributes(this.query)),s);Object(n("yy8q").f)(e,`${a} ${t}`,i)}render(){const e=this.props,{canCreateNewItem:t,createAnalyticsEvent:n}=e,a=o()(e,M),i=t?N:_;return d.a.createElement(i,s()({},a,{onFocus:this.onFocus,onChange:this.onChange,onInputChange:this.onInputChange,onMenuOpen:this.onMenuOpen,onMenuClose:this.onMenuClose}))}}U.displayName="SelectWithAnalyticsView",U.defaultProps={isLoading:!1,createAnalyticsEvent:b.a,optionValuesSafeForAnalytics:!1,onChange:b.a,
onInputChange:b.a,onMenuOpen:b.a,onMenuClose:b.a};var F=Object(n("VHV8").a)()(U);const P=["label","filterValues"],V=["placeholder","noOptionsMessage","loadingMessage","fieldId","onChangeMulti","invalidMessage","isOpen","hasAutocomplete","portalElement","intl","fetchSuggestions","additionalAnalyticsProps","debounceFetchSuggestionsTime","changeQueryValue","errorMessagePosition","ariaLabel"],K={hideSelectedOptions:!0,allowCreateWhileLoading:!0,filterOption:n("PaMy").a},$=e=>l()({label:e.content},e),W=(e,t)=>{const{label:n,filterValues:a}=e,s=o()(e,P),i=l()({},s);return"create-option"===t.action&&void 0===i.content&&(i.content=e.label),i};class B extends c.Component{constructor(e){var t;super(e),this.onFocus=(e,t)=>{this.query$.next({query:"",sessionId:t,isImmediate:!0})},this.onChange=(e,t,n)=>{const{onChange:a,onChangeMulti:s,isMulti:i}=this.props;if(i){if(!s)return;this.query$.next({query:this.query||"",sessionId:n,isImmediate:!0});s(Array.isArray(e)?e.map((e=>W(e,t))):[],t)}else{
if(!a||Array.isArray(e))return;a(e&&W(e,t),t)}},this.onInputChange=(e,t,n)=>{if("input-change"!==t.action&&"set-value"!==t.action)return;let a=e;this.props.changeQueryValue&&(a=this.props.changeQueryValue(a)),this.query=a,"input-change"===t.action&&(this.setState({isLoading:!0}),this.query$.next({query:a,sessionId:n})),this.props.onInputChange&&this.props.onInputChange(a,t)},this.formatOptionLabel=(e,t)=>void 0!==this.props.formatOptionLabel?this.props.formatOptionLabel(e,t):e.iconUrl?d.a.createElement(n("JQsD").e,null,d.a.createElement(n("JQsD").d,null,d.a.createElement("img",{src:e.iconUrl,alt:"",width:2*n("ZpU/").e,height:2*n("ZpU/").e,role:"none"})),d.a.createElement(n("JQsD").c,null,e.label)):e.label,this.transformItems=e=>e&&e.length>0?e.map($):[],this.transformToOptions=e=>1!==e.length||e[0].heading?e.map((e=>{const t=this.transformItems(e.items);return void 0!==e.heading?{label:e.heading,options:t}:{options:t}})):this.transformItems(e[0].items),this.subscription=void 0,
this.query$=void 0,this.query=null,this.getFailedFetchMessage=()=>d.a.createElement(n("JQsD").b,null,d.a.createElement("span",null,this.props.intl.formatMessage(g.failedFetch)," ",d.a.createElement("a",{role:"button",href:window.location.href,onClick:()=>window.location.reload()},this.props.intl.formatMessage(g.reloadIssue)))),this.noOptionsMessageDefault=()=>this.props.intl.formatMessage(g.empty),this.loadingMessageDefault=()=>this.props.intl.formatMessage(n("bf/F").a.loading),this.filterOption=e=>!!this.state.hasLastFetchFailed||this.props.filterOption&&this.props.filterOption(e,this.query||""),this.renderSelectField=()=>{
const e=this.props,{placeholder:t="",noOptionsMessage:a=this.noOptionsMessageDefault,loadingMessage:i=this.loadingMessageDefault,fieldId:r,onChangeMulti:l,invalidMessage:c,isOpen:u,hasAutocomplete:p,portalElement:m,intl:b,fetchSuggestions:g,additionalAnalyticsProps:f,debounceFetchSuggestionsTime:h,changeQueryValue:E,errorMessagePosition:y,ariaLabel:O}=e,v=o()(e,V),j=c?"error":void 0;return d.a.createElement(F,s()({},K,v,{filterOption:this.filterOption,key:r,fieldId:r,options:this.state.options,value:this.getSelectedValue(),styles:Object(n("jYqf").a)(n("JQsD").f,n("JQsD").g,this.props.styles),additionalAnalyticsProps:f,isLoading:this.state.isLoading,isSearchable:p,menuIsOpen:u,menuPortalTarget:m,menuPlacement:"auto",placeholder:t,noOptionsMessage:a,loadingMessage:i,validationState:j,formatOptionLabel:this.formatOptionLabel,onChange:this.onChange,onFocus:this.onFocus,onInputChange:this.onInputChange,"aria-label":O}))},this.renderErrorMessage=()=>{
const{invalidMessage:e,fieldId:t,errorMessagePosition:a}=this.props;return e?d.a.createElement(n("JQsD").a,{key:`${t}-error-message`,errorMessagePosition:a},d.a.createElement(n("LDCv").a,null,e)):null};const{onDataRequest:a,onDataLoaded:i,fetchSuggestions:r,debounceFetchSuggestionsTime:c,additionalAnalyticsProps:u}=this.props;if(this.query$=new p.Subject,this.subscription=this.query$.debounce((({isImmediate:e})=>e?p.Observable.empty():p.Observable.timer(c||0))).switchMap((({query:e,sessionId:t})=>{a&&a({isInitial:null===this.query}),this.setState({isLoading:!0});return r(e,t||void 0).then((e=>(this.setState({hasLastFetchFailed:!1}),e))).catch((e=>(n("fnbV").a.safeErrorWithoutCustomerData("issue.select.transform-suggestions","Could not fetch or transform suggestions to display in select",new(n("8r8e").a)({eventNameSuffix:"issue.error",type:"js",app:"issue",event:e})),
u&&n("fnbV").a.safeErrorWithoutCustomerData("issue.select.fetch-transform-suggestions.details","Could not fetch or transform retrieved data",l()(l()({},u),{},{message:e.message})),Object(n("v/G6").a)({meta:{id:"issueSelectFetchFailure",packageName:"jiraIssueView"},error:e,attributes:l()({},null!=u?u:{})}),this.setState({hasLastFetchFailed:!0}),[{items:[{content:this.getFailedFetchMessage(),value:"",isDisabled:!0}]}])))})).subscribe((e=>{this.setState({options:this.transformToOptions(e),isLoading:!1}),i&&i({isInitial:null===this.query})})),null!==(t=this.props.initialData)&&void 0!==t&&t.data){const{data:e,loading:t,error:n}=this.props.initialData;this.state={options:this.transformToOptions(e),isLoading:t,hasLastFetchFailed:n}}else this.state={options:[],isLoading:!0,hasLastFetchFailed:!1}}componentDidUpdate(e){var t,n;if(null!==(t=this.props.initialData)&&void 0!==t&&t.data&&null!==(n=e.initialData)&&void 0!==n&&n.data){const{loading:t,error:n,data:a}=this.props.initialData
;t===e.initialData.loading&&n===e.initialData.error||this.setState({options:this.transformToOptions(a),isLoading:t,hasLastFetchFailed:n})}}componentWillUnmount(){this.subscription.unsubscribe()}getSelectedValue(){const{value:e}=this.props;return e?Array.isArray(e)?e.map($):$(e):null}render(){const{errorMessagePosition:e}=this.props,t=[this.renderSelectField()];return"top"===e?t.unshift(this.renderErrorMessage()):t.push(this.renderErrorMessage()),d.a.createElement(d.a.Fragment,null,t)}}B.displayName="SelectFieldView",B.displayName="SelectFieldView",B.defaultProps={isMulti:!1,canCreateNewItem:!1,ariaLabel:"",value:null,placeholder:void 0,autoFocus:!1,debounceFetchSuggestionsTime:0,filterOption:K.filterOption,errorMessagePosition:"top",optionValuesSafeForAnalytics:!1,onChangeMulti:b.a,onChange:b.a,onInputChange:b.a};t.a=Object(u.injectIntl)(B)},gbrB:function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),
n.d(t,"d",(function(){return f}));var a=n("3tO9"),s=n.n(a),i=n("Jlc5"),o=n.n(i),r=n("OFL0"),l=n.n(r),c=n("sKJ/"),d=n.n(c);const u=["accountId","displayName","avatarUrls","timeZone"],p=({accountId:e,displayName:t,avatarUrls:a,timeZone:s})=>({displayName:t,id:Object(n("Rp3N").a)(e),avatarUrl:a["48x48"],timeZone:s}),m=e=>{const{applicationRoles:t}=e;return t&&t.items&&t.items.map((e=>e.key))||[]},b=e=>{const t=e.find((e=>"48x48"===e.key));return t&&t.value||null},g=e=>{const{accountId:t,displayName:n,avatarUrl:a,avatarUrls:i,timeZone:o}=e;return s()({id:t,displayName:n,avatarUrl:a||b(i)},o?{timeZone:o}:{})},f=e=>{if(!e)throw new Error("User is null or undefined");if(!(e&&o()(u,d()(l.a,e))))throw new Error(`User object is not expected shape, keys present: ${Object.keys(e).toString()}`);return e}},gbzr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));const a=e=>({label:e.name,value:e.key,
iconUrl:e.avatarUrls["48x48"],projectId:e.id}),s=e=>e.map(a),i=({label:e,value:t,iconUrl:n})=>({key:t,name:e,avatarUrls:{"48x48":n}})},gjKp:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("peh1");const s=e=>e.mediaContext,i=Object(a.createSelector)(s,(e=>e&&e.userAuth||null)),o=Object(a.createSelector)(s,(e=>e&&e.viewContext||null)),r=Object(a.createSelector)(s,(e=>e&&e.uploadContext||null))},gnYg:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"l",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return j})),n.d(t,"m",(function(){return S})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return T})),n.d(t,"k",(function(){return D})),
n.d(t,"n",(function(){return R}));var a=n("peh1"),s=n("UB5X"),i=n.n(s)
;const o=Object(a.createSelector)(n("/LFc").f,(e=>e.jiraSettings.timeTrackingConfiguration)),r=Object(n("KSj7").p)("timetracking"),l=Object(a.createSelector)(o,(e=>e.isTimeTrackingEnabled)),c=Object(a.createSelector)(l,n("KSj7").a,((e,t)=>e&&t.includes("timetracking"))),d=Object(a.createSelector)(c,n("nGHA").h,n("4dgq").r,((e,t,n)=>e&&t.canLogWork&&!n)),u=Object(a.createSelector)(n("/LFc").I,(e=>e.worklog)),p=Object(a.createSelector)(u,(e=>e.modal)),m=Object(a.createSelector)(u,(e=>e.loadingStage)),b=Object(a.createSelector)(Object(n("KSj7").p)("subtasks"),Object(n("KSj7").p)("children-issues"),n("Hxy2").b,((e,t,a)=>null!=t&&t.length&&Object(n("xinf").b)(a)?t:e)),g=Object(a.createSelector)(n("DNQi").a,n("OEhx").b,n("Hxy2").b,n("KSj7").b,((e,t,a,s)=>Object(n("d90y").isIssueViewAggChildPanelEnabled)()?t||(Boolean(null==e?void 0:e.length)||Boolean(s("children-issues")))&&Object(n("xinf").b)(a):t||Boolean(null==e?void 0:e.length)&&Object(n("xinf").b)(a))),f=(e,t)=>i()(e)||i()(t)?(e||0)+(t||0):e,h=(e,t)=>{
var n;return Array.isArray(e)?null===(n=e.find((e=>e.key===t)))||void 0===n?void 0:n.value:e&&e[t]},E=Object(a.createSelector)(b,n("/LFc").m,((e,t)=>{if(t)return!0;if(!e||0===e.length)return!1;return e.map((e=>h(e.fields,"timetracking"))).filter(Boolean).length>0})),y=Object(a.createSelector)(g,E,((e,t)=>e&&t)),O=Object(a.createSelector)(r,b,((e,t)=>n=>t&&0!==t.length&&n?t.map((e=>h(e.fields,"timetracking"))).filter(Boolean).reduce(((e,t)=>({originalEstimateSeconds:f(e.originalEstimateSeconds,t.originalEstimateSeconds),timeSpentSeconds:f(e.timeSpentSeconds,t.timeSpentSeconds),remainingEstimateSeconds:f(e.remainingEstimateSeconds,t.remainingEstimateSeconds)
})),e||{}):e||{})),v=Object(a.createSelector)(p,(e=>e.openModal)),j=Object(a.createSelector)(p,(e=>e.isSaving)),I=Object(a.createSelector)(p,(e=>e.activeWorklogId)),C=Object(a.createSelector)(n("/LFc").f,(e=>e.worklog)),S=Object(a.createSelector)(C,(e=>e.worklogs)),k=Object(a.createSelector)(I,S,((e,t)=>e&&t[e]||null)),w=Object(a.createSelector)(C,(e=>e.sortedWorklogIds)),T=Object(a.createSelector)(S,w,((e,t)=>(Array.isArray(t)?t:Object.keys(e)).map((t=>e[t])))),D=Object(a.createSelector)(C,(e=>e.totalWorklogs)),R=Object(a.createSelector)(C,(e=>e.worklogsStartIndex||0))},"gx/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI"),s=n.n(a);const i=({error:e,title:t,description:a})=>{if(!e)return null;if(e instanceof n("HQr3").a){const i=e.message||e.errors&&e.errors[0]&&e.errors[0].error||a;return s.a.createElement(n("XIf9").a,{flag:{type:"warning",title:t,description:i}})}return s.a.createElement(n("XIf9").a,{flag:{type:"error",title:t,description:a}})}
;i.displayName="ErrorFlag"},h2xQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));const a=()=>({type:"FETCH_UPLOAD_CONTEXT_REQUEST"}),s=e=>({type:"FETCH_UPLOAD_CONTEXT_SUCCESS",payload:e}),i=e=>({type:"FETCH_UPLOAD_CONTEXT_FAILURE",payload:{error:e}}),o=()=>({type:"CHECK_UPLOAD_CONTEXT"})},hBQX:function(e,t,n){"use strict";var a=n("vOnD");t.a=a.default.div.withConfig({componentId:"vf138n-0"})`position:relative;height:${e=>e.fontSize}px;border-right:${e=>e.intrusion}px solid ${n("5kDX").a.N0};border-top:${e=>(e.lineHeight-e.fontSize)/2}px solid ${n("5kDX").a.N0};border-bottom:${e=>(e.lineHeight-e.fontSize)/2}px solid ${n("5kDX").a.N0};`},hBol:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=i.default.div.withConfig({componentId:"sc-1a0lf4i-0"
})`cursor:pointer;&:hover > span{color:${n("5kDX").a.N800} !important;background-color:${n("5kDX").a.N90} !important;}`,r=i.default.div.withConfig({componentId:"sc-1a0lf4i-1"})`display:inline-block;border:2px solid transparent;${()=>Object(n("MrUx").a)()?i.css`position:relative;`:null}`,l=({testId:e="issue-field-original-estimate.ui.view",isEditable:t=!1,isBadgeHoverEnabled:a=!1,value:i})=>{const l=s.a.createElement(n("7QTw").a,{testId:`${e}.badge`},i);return Object(n("MrUx").a)()&&!a?l:s.a.createElement(r,{"data-test-id":e},t?s.a.createElement(o,null,l):l)};l.displayName="OriginalEstimateView";t.a=l},hWW6:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return g}));var a=n("q1tI");const s=(e,t)=>e.issueAttachments[t]||n("vFHr").c,i=Object(n("dq9g").a)(n("ekdV").a,{selector:(e,t)=>s(e,t).isFetching}),o=Object(n("dq9g").a)(n("ekdV").a,{selector:(e,t)=>s(e,t).error}),r=Object(n("dq9g").a)(n("ekdV").a,{selector:e=>e.meta.orderDirection
}),l=Object(n("dq9g").a)(n("ekdV").a,{selector:e=>e.meta.orderField}),c=Object(n("dq9g").a)(n("ekdV").a,{selector:(e,t)=>s(e,t).totalCount}),d=Object(n("dq9g").a)(n("ekdV").a,{selector:(e,t)=>s(e,t).deletableCount}),u=Object(n("dq9g").a)(n("ekdV").a,{selector:e=>e.meta.startAt}),p=Object(n("dq9g").a)(n("ekdV").a,{selector:(e,t)=>s(e,t).visibleAttachments}),m=Object(n("dq9g").a)(n("ekdV").a,{selector:null}),b=()=>{const[,e]=m(),t=Object(n("Rp3N").c)(""),{showFlag:s}=Object(n("uS5k").f)(),{setOrderDirection:i,setOrderField:o,setTotalCount:r,setDeletableCount:l,setVisibleAttachments:c,addNewAttachments:d,deleteAttachment:u,getAttachments:p,refreshAttachments:b}=e,g=Object(a.useCallback)((async(e,a,i)=>{try{await u(e,a,t,i)}catch{s({type:"error",title:n("jwyz").a.deleteFailedTitle,description:n("jwyz").a.deleteFailedDescription})}}),[u,t,s]);return[null,{setOrderDirection:i,setOrderField:o,setTotalCount:r,setDeletableCount:l,setVisibleAttachments:c,addNewAttachments:d,
getAttachments:Object(a.useCallback)((async(e,n)=>{await p(e,t,n)}),[t,p]),deleteAttachment:g,refreshAttachments:Object(a.useCallback)((async(e,n)=>{await b(e,t,n)}),[t,b])}]},g=(e,t)=>{const[,n]=b(),[s]=i(e),[m]=o(e),[g]=r(),[f]=l(),[h]=u(),[E]=c(e),[y]=d(e),[O]=p(e),{getAttachments:v}=n;Object(a.useEffect)((()=>{void 0!==E||s||m||v(e,t)}),[m,v,e,s,t,E]);return[{error:m,meta:{orderDirection:g,orderField:f,startAt:h},value:{attachments:O,totalCount:E||0,deletableCount:y||0},loading:s},n]}},hi0A:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").I,(e=>e.ecosystem&&e.ecosystem.glance))},hr7V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))
;const a="issueViewInteractiveQuery",s=e=>`${e}/rest/gira/1/`,i=e=>`\nquery ${a}($issueKey: String!, $projectKey: String)  {\n        ${Object(n("CRYU").a)()}\n        viewIssue(issueKey: $issueKey) {\n            issueId\n            ${Object(n("tn58").a)({maxResults:5,startAt:0,orderBy:"-created",commentAmount:Math.floor(5)})}\n            ${Object(n("vUhQ").a)({startAt:0,worklogAmount:Math.floor(5)
})}  \n            ${Object(n("/9t6").a)()}\n            fields {\n                __typename\n                    ${Object(n("/9t6").b)()}\n                    ${Object(n("0aid").a)()}\n            }\n            ${Object(n("yD67").a)()}\n            ${Object(n("Iy5y").b)()}\n            ${Object(n("Iy5y").a)()}            \n            ${Object(n("+gsn").a)()}     \n            ${Object(n("beXo").a)()}\n        }\n        ${Object(n("juxH").a)()}\n        ${Object(n("3ZtB").a)()}\n        ${Object(n("38Hi").a)(e)}\n        ${Object(n("Q3e0").a)()}\n        ${Object(n("nl1X").a)()}\n    }\n    ${Object(n("+gsn").b)()}\n    \n`,o=(e,t)=>({method:"POST",body:JSON.stringify({query:i(t),variables:{issueKey:e,projectKey:t}})})},i4YE:function(e,t,n){e.exports=n.p+"assets/file-cabinet.9d55859d1ef06829ea591974198059ab.8.svg"},"iJ/Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"n",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return l
})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"o",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"c",(function(){return E})),n.d(t,"h",(function(){return y}));const a="com.atlassian.jpo:jpo-custom-field-parent",s="flagActions",i=()=>({epic:"com.pyxis.greenhopper.jira:gh-epic-link",sprint:"com.pyxis.greenhopper.jira:gh-sprint",storyPointsField:"com.atlassian.jira.plugin.system.customfieldtypes:storypoint","com.atlassian.teams:rm-teams-custom-field-team":"com.atlassian.teams:rm-teams-custom-field-team","com.atlassian.jpo:jpo-custom-field-parent":"com.atlassian.jpo:jpo-custom-field-parent","com.atlassian.jpo:jpo-custom-field-baseline-start":"com.atlassian.jpo:jpo-custom-field-baseline-start",
"com.atlassian.jpo:jpo-custom-field-baseline-end":"com.atlassian.jpo:jpo-custom-field-baseline-end","com.pyxis.greenhopper.jira:jsw-issue-color":"com.pyxis.greenhopper.jira:jsw-issue-color","com.pyxis.greenhopper.jira:gh-epic-color":"com.pyxis.greenhopper.jira:gh-epic-color","com.pyxis.greenhopper.jira:gh-epic-label":"com.pyxis.greenhopper.jira:gh-epic-label"
}),o=["number","string","datetime","option2","array"],r=["com.atlassian.servicedesk:sd-request-participants","com.atlassian.servicedesk:sd-customer-organizations","com.atlassian.servicedesk.servicedesk-lingo-integration-plugin:sd-request-language","com.atlassian.servicedesk:sd-request-feedback","com.atlassian.servicedesk.approvals-plugin:sd-approvals","com.atlassian.jira.plugin.system.customfieldtypes:servicedesk-approvers-list","com.atlassian.servicedesk:vp-origin","com.atlassian.jira.plugins.cmdb:cmdb-object-cftype","com.atlassian.jira.modules.servicemanagement.responders-entity:responders-entity-field-cftype","com.atlassian.jira.modules.servicemanagement.major-incident-entity:major-incident-entity-field-cftype"],l=()=>["com.atlassian.jira.plugin.system.customfieldtypes:labels","com.atlassian.jira.plugin.system.customfieldtypes:textfield","com.atlassian.jira.plugin.system.customfieldtypes:multiuserpicker","com.atlassian.jira.toolkit:participants","com.atlassian.jira.plugin.system.customfieldtypes:url","com.atlassian.jira.plugin.system.customfieldtypes:float","com.pyxis.greenhopper.jira:jsw-story-points","com.atlassian.jira.plugin.system.customfieldtypes:select","com.atlassian.jira.plugin.system.customfieldtypes:multiselect","com.atlassian.jira.plugin.system.customfieldtypes:version","com.atlassian.jira.plugin.system.customfieldtypes:textarea","com.atlassian.jira.plugin.system.customfieldtypes:multiversion","com.atlassian.jira.plugin.system.customfieldtypes:datepicker","com.atlassian.jira.plugin.system.customfieldtypes:grouppicker","com.atlassian.jira.plugin.system.customfieldtypes:multigrouppicker","com.atlassian.jira.plugin.system.customfieldtypes:userpicker","com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes","com.atlassian.jira.plugin.system.customfieldtypes:radiobuttons","com.atlassian.jira.plugin.system.customfieldtypes:datetime","com.atlassian.servicedesk.assets-plugin:assetfield","com.atlassian.jira.plugins.service-entity:service-entity-field-cftype","com.atlassian.jira.plugin.system.customfieldtypes:people","com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect","com.atlassian.jira.plugin.system.customfieldtypes:project","com.atlassian.jira.plugin.system.customfieldtypes:atlassian-team","com.atlassian.jira.plugin.system.customfieldtypes:readonlyfield","com.pyxis.greenhopper.jira:gh-epic-status","com.atlassian.jira.toolkit:viewmessage","com.atlassian.jira.toolkit:message",...o,...r],c={
software:"https://confluence.atlassian.com/jirasoftwarecloud/configure-field-layout-in-the-issue-view-961798059.html",business:"https://confluence.atlassian.com/jiracorecloud/configure-field-layout-in-the-issue-view-961798123.html",service_desk:"https://support.atlassian.com/jira-service-desk-cloud/docs/what-are-the-different-sections-in-the-issue-view/"},d=()=>({issueActions:[]}),u=()=>({applicationKey:n("koL6").a.CORE_ISSUE,issueActions:[],ecosystemEnabled:!0}),p=()=>({applicationKey:n("koL6").a.SOFTWARE_ISSUE,issueActions:[s],ecosystemEnabled:!0}),m=()=>({applicationKey:n("koL6").a.SIMPLE_SOFTWARE_BOARD,issueActions:[s,"cardCoverActions"],ecosystemEnabled:!0}),b=()=>({applicationKey:n("koL6").a.STANDARD_ROADMAP_ISSUE,issueActions:[s],ecosystemEnabled:!0}),g=()=>({applicationKey:n("koL6").a.BITBUCKET_ISSUE,issueActions:[]}),f=()=>({applicationKey:n("koL6").a.MOBILE_ISSUE,issueActions:[]}),h=()=>({applicationKey:n("koL6").a.SERVICE_DESK,issueActions:[],ecosystemEnabled:!0}),E=()=>({
applicationKey:n("koL6").a.CONNECT_ISSUE,issueActions:[],ecosystemEnabled:!0}),y=e=>{if(e)switch(e.projectType){case"software":return e.isSimplified?m():p();case"business":return u();case"service_desk":return h();default:return p()}return p()}},iYyS:function(e,t,n){"use strict";n.r(t);var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("sEfC"),d=n.n(c),u=n("vOnD");const p="rgba(9, 30, 66, 0.36)",m=u.default.button.withConfig({componentId:"sc-16sulhw-0"
})`display:block;background:transparent;border:0;outline:0;padding:0;margin:0;border-radius:50%;box-shadow:0 0 0 2px transparent;& > div{cursor:pointer;}span:first-of-type::after{opacity:${({active:e})=>e?1:0};background-color:${({active:e})=>e?p:"transparent"};}&:active{box-shadow:0 0 0 2px transparent !important;}&:focus,&:focus-within{box-shadow:0 0 0 2px ${n("5kDX").a.B100};}&:hover span:first-of-type::after{opacity:1;background-color:${p};}`,b=({shouldPreloadAssignToMe:e=!1,autoCompleteUrl:t,value:a=null,onFocus:s,onBlur:i,onChange:o,searchDebounceTimeout:c=300,enablePeopleInvite:u=!0})=>{const p=Object(n("NRyt").d)(),b=Object(r.useRef)({previousQuery:void 0}).current,[{data:g,loading:f},h]=Object(n("Gsfr").a)(t||""),[E,y]=Object(n("FmaL").a)(a,g,p,e,b.previousQuery,u,!0),[,{openDrawer:O}]=Object(n("GUv0").c)(),v=Object(r.useMemo)((()=>d()((e=>{e!==b.previousQuery&&h(e),b.previousQuery=e}),c)),[h,c,b.previousQuery]),j=Object(r.useCallback)((e=>{null==s||s(e),g&&g.length||h()
}),[s,g,h]),I=Object(r.useCallback)((e=>{null==i||i(e),b.previousQuery=void 0}),[i,b]),C=Object(r.useCallback)(((e,t)=>{if(!e||Array.isArray(e))return;if(Object(n("OURh").c)()&&u&&"__INVITE_PEOPLE_ID__"===e.id)return O("assignee"),void(null==o||o(a,t));const s="__UNASSIGNED_ID__"===e.id?null:g.find((({accountId:t})=>t===e.id))||Object(n("/J2q").e)(e);null==o||o(s,t)}),[u,o,O,g,a]);return l.a.createElement(n("UHIP").a,{fieldId:null,placeholder:p.formatMessage(n("MhXd").a.searchForAssignee),isLoading:f,options:y,target:({ref:e,isOpen:t})=>l.a.createElement(m,{innerRef:e,active:t},l.a.createElement(n("g0Ly").a,{value:a})),value:E,onFocus:j,onBlur:I,onChange:C,onInputChange:v})};b.displayName="AssigneePickerEdit";var g=b;const f=["issueKey","onChange"],h=Object(n("wW5i").a)("assigneePickerEdit",{onChange:"changed"})(g);t.default=e=>{let{issueKey:t,onChange:a}=e,i=o()(e,f);const[{value:c}]=Object(n("MoW5").a)(t,n("TuCe").c),[{value:d},{saveValue:u}]=Object(n("pncN").a)({issueKey:t
}),{autoCompleteUrl:p,isEditable:m=!1}=c||{},b=Object(r.useCallback)(((e,t,n)=>{null==a||a(e,t),u(e,null,n)}),[a,u]);return m?l.a.createElement(h,s()({autoCompleteUrl:p,value:d,onChange:b},i)):l.a.createElement(n("g0Ly").a,{value:d})}},il2d:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));var a=n("q1tI"),s=n("hJd6");let i;const o=()=>{const e=(()=>{var e;return i=null!==(e=i)&&void 0!==e?e:new(n("P2DH").a),i})(),{data:t,promise:o}=Object(s.p)(n("gzQ5").a),{data:r,promise:l}=Object(s.p)(n("cwfe").a),{data:c,promise:d}=Object(s.p)(n("lrbX").a),{data:u,promise:p}=Object(s.p)(n("fnPV").a),{data:m,promise:b}=Object(s.p)(n("DJKW").a),{promise:g}=Object(s.p)(n("sdG4").a);return Object(a.useMemo)((()=>{p&&b&&(e.setAllPromises({mediaUserAuthPromise:o,mediaUploadPermissionPromise:l,mediaReadPermissionPromise:d,issueGiraDataPromise:p,issueGraphqlDataPromise:b}),e.setAllData({mediaUserAuth:t,mediaUploadPermission:r,mediaReadPermission:c,
issueGiraData:u,issueGraphqlData:m})),g&&e.setForgePromise(g)}),[g,u,p,m,b,c,d,r,l,t,o,e]),[e]},r=()=>{const e=[Object(s.p)(n("fnPV").a),Object(s.p)(n("DJKW").a)];return{loading:e.some((({loading:e})=>e)),error:e.map((({error:e})=>e)).find(Boolean)||null,promise:Promise.all(e.map((({promise:e})=>e))).then((()=>{}))}}},j3bG:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return f}));var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n("QkVN"),r=n.n(o);const l={setFieldValue:(e,t,n)=>({setState:a,getState:i})=>{a({[e]:s()(s()({},i()[e]),{},{[t]:n})})},getFieldValue:(e,t)=>({getState:n})=>n()[e]&&n()[e][t],setIssue:(e,t)=>({setState:n})=>{n({[e]:t})},mergeIssue:(e,t)=>({setState:n,getState:a})=>{n({[e]:r()({},a()[e],t)})},setIssues:e=>({setState:t})=>{const n={};e.forEach((e=>{Object.assign(n,e)})),t(n)},mergeIssues:e=>({setState:t,getState:a})=>{
if(Object(n("p+mI").b)()&&0===e.length)return;const s={};e.forEach((e=>{Object.assign(s,e)})),t(r()({},a(),s))}},c=Object(n("0b8M").a)({name:"issue-fields",initialState:{},actions:l}),d=(e,{issueKey:t,fieldKey:n})=>e[t]&&e[t][n],u=Object(n("dq9g").a)(c,{selector:d}),p=Object(n("dq9g").a)(c,{selector:(e,t)=>e[t]}),m=Object(n("dq9g").a)(c,{selector:(e,{issueKeys:t,fieldKey:n})=>(t||[]).map((t=>d(e,{fieldKey:n,issueKey:t})))}),b=Object(n("Y6nV").a)(c,{selector:d}),g=Object(n("dq9g").a)(c,{selector:null}),f=()=>{const[,e]=g();return[null,Object(i.useMemo)((()=>({setIssue:(t,n)=>e.setIssue(t,n),setFieldValue:(t,n,a)=>e.setFieldValue(t,n,a),getFieldValue:(t,n)=>e.getFieldValue(t,n),mergeIssue:(t,n)=>e.mergeIssue(t,n),setIssues:t=>e.setIssues(t),mergeIssues:t=>e.mergeIssues(t)})),[e])]}},j5N9:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n("vOnD")
;const s=2.5*n("ZpU/").e,i=a.default.div.withConfig({componentId:"flfhlx-0"})`min-height:${4*n("ZpU/").e}px;margin-right:0;margin-left:auto;margin-bottom:${n("ZpU/").e/4}px;height:100%;align-items:center;max-width:100%;display:flex;justify-content:flex-end;padding-right:1px;`,o=a.default.div.withConfig({componentId:"flfhlx-1"})`display:flex;flex-flow:row-reverse;${e=>e.maxResponsiveWidth?`flex: 1 0 auto; justify-content: space-between; max-width: ${e.maxResponsiveWidth}px;`:`flex-shrink: 0; > * { margin-left: ${n("ZpU/").e}px; &:last-child { margin-left: 0; } }`} [dir='rtl'] &{padding-right:${2*n("ZpU/").e}px;padding-left:${s}px;}`,r=Object(a.default)(o).withConfig({componentId:"flfhlx-2"})`user-select:none;`,l=a.default.div.withConfig({componentId:"flfhlx-3"})`flex-shrink:0;`},jCiC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));const a=()=>({type:"EDITOR_CHANGE_FAILURE"}),s=()=>({
type:"EDITOR_EXPANDED_FAILURE"}),i=()=>({type:"EDITOR_SAVE_FAILURE"})},jNGf:function(e,t,n){"use strict";n.r(t);const a=e=>{try{window.performance.mark(e)}catch(t){}},s="jira.issue-view.issue-app.eval-start",i="jira.issue-view.issue-app.eval-end";a(s);var o=n("q1tI"),r=n.n(o),l=n("vN+2"),c=n.n(l);const d=[n("wpii").a.FULL_ISSUE,n("wpii").a.SERVICEDESK_QUEUES_ISSUE,n("wpii").a.SERVICEDESK_REPORTS_ISSUE];var u=n("/MKj"),p=n("IlP+");const m=Object(p.asyncComponent)({resolve:()=>n.e("async-issue-details-opt-in-back-onboarding").then(n.bind(null,"Wqgy")).then((e=>e.default)),name:"AsyncOptInBackOnboarding"}),b=({hasEditField:e,hasShowMoreLink:t})=>{const n={hasShowMoreLink:t,hasEditField:e};return r.a.createElement(m,n)};b.displayName="ChangeBoardingTour";var g=Object(u.connect)((e=>({hasEditField:Object(n("aoGV").a)(e),hasShowMoreLink:Object(n("7/nq").d)(e)})),{})(b),f=n("pVnL"),h=n.n(f);const E={[n("koL6").a.SOFTWARE_ISSUE]:{feedbackGroupId:"jira-software-full-issueview",
collectorId:"12f21050"},[n("koL6").a.CORE_ISSUE]:{feedbackGroupId:"jira-core-full-issueview",collectorId:"f7ac9eb0"},[n("koL6").a.SERVICE_DESK]:{feedbackGroupId:"jira-service-desk-full-issueview",collectorId:"3311e016"},[n("koL6").a.BITBUCKET_ISSUE]:{feedbackGroupId:"bitbucket-jira-issueview",collectorId:"e7fdb917"}},y=({applicationKey:e,baseUrl:t,locale:a,isCompact:s=!1})=>{if(null==e||!(e=>Boolean(E[e]))(e))return null;const i=E[e];return r.a.createElement(n("J5tv").a,{name:"GIVE_FEEDBACK"},r.a.createElement(n("5QTM").a,h()({},i,{baseUrl:t,locale:a,isCompact:s})))};y.displayName="Feedback";var O=y;const v=Object(u.connect)((e=>({baseUrl:Object(n("Rp3N").c)(Object(n("4dgq").f)(e)),locale:Object(n("4dgq").x)(e),applicationKey:Object(n("4dgq").e)(e)})),{})(O);const j=(e,t=!0)=>r.a.createElement(v,{isCompact:t});j.displayName="renderFeedback";const I=({location:e})=>{const t=Object(n("ovRs").h)(),[{value:a}]=Object(n("J3sU").a)({issueKey:t})
;return e!==n("wpii").a.FULL_ISSUE&&e!==n("wpii").a.SERVICEDESK_QUEUES_ISSUE&&e!==n("wpii").a.SERVICEDESK_REPORTS_ISSUE||null==a?null:r.a.createElement(n("oheR").a,{title:`[${t}] ${a}`})};I.displayName="ExtractedDocumentTitle";var C=I,S=n("QILm"),k=n.n(S);const w=["isServiceDeskAgent","projectType","projectId"],T=e=>{let{isServiceDeskAgent:t,projectType:a,projectId:s}=e,i=k()(e,w);const{data:o}=Object(n("/pFn").a)();return null===s||!0!==o||!0!==t?null:r.a.createElement(n("cU7O").a,{id:"changeManagementTourIssue",packageName:"jiraServicedeskChangeManagementTourIssue",fallback:"flag"},r.a.createElement(n("Q4Qs").a,null,(({data:e})=>e&&!0===e.isProjectAdmin?r.a.createElement(n("okES").a,h()({projectId:Object(n("Rp3N").s)(s.toString())},i)):null)))};T.displayName="ChangeManagementTour";var D=Object(u.connect)((e=>({fields:Object(n("KSj7").t)(e),projectId:Object(n("/LFc").D)(e),projectType:Object(n("/LFc").G)(e),isServiceDeskAgent:Object(n("nGHA").f)(e)
})),{})((e=>e.projectType!==n("Hh3U").h?null:r.a.createElement(T,e)));const R=["isServiceDeskAgent","projectId","projectType"],L=e=>{let{isServiceDeskAgent:t,projectId:a,projectType:s}=e,i=k()(e,R);const{data:o}=Object(n("/pFn").a)();return null===a||!0!==o||!0!==t?null:r.a.createElement(n("cU7O").a,{id:"incidentManagementTourIssues",packageName:"jiraServicedeskIncidentManagementTour",fallback:"flag"},r.a.createElement(n("Q4Qs").a,null,(({data:e})=>e&&!0===e.isProjectAdmin?r.a.createElement(n("y/bi").a,h()({projectId:Object(n("Rp3N").s)(a.toString())},i)):null)))};L.displayName="IncidentManagementTour";var M,A,_,N=Object(u.connect)((e=>({fields:Object(n("KSj7").t)(e),projectId:Object(n("/LFc").D)(e),projectType:Object(n("/LFc").G)(e),isServiceDeskAgent:Object(n("nGHA").f)(e)})),{})((e=>e.projectType!==n("Hh3U").h?null:r.a.createElement(L,e)))
;const x=new Set([n("wpii").a.SOFTWARE_ISSUE,n("wpii").a.AGILITY_BACKLOG]),U=[n("wpii").a.FULL_ISSUE,n("wpii").a.SERVICEDESK_QUEUES_ISSUE,n("wpii").a.SERVICEDESK_REPORTS_ISSUE];let F=Object(n("SGpu").b)("issue")((_=A=class extends o.PureComponent{constructor(e){super(e),this.onEscape=e=>{Object(n("sKDb").c)(e)&&(this.props.onClose(),e.preventDefault())},this.canCloseOnEsc=()=>x.has(this.props.analyticsSource),this.getRenderFeedback=()=>{const{analyticsSource:e}=this.props;if(d.includes(e))return j},this.renderTopBanner=()=>{const{analyticsSource:e}=this.props;return d.includes(e)?r.a.createElement(n("cDoJ").a,{isBannerEnabled:!0,isFullWidth:!0}):null},this.renderIssueView=()=>{const e=this.getIssueViewProps();return r.a.createElement(n("GVPk").default,e)},this.renderChangeboardingTour=()=>U.includes(this.props.analyticsSource)?r.a.createElement(g,null):null,this.isMobile=()=>this.props.analyticsSource===n("wpii").a.MOBILE_ISSUE,this.isFullPage=e=>e===n("wpii").a.FULL_ISSUE,
this.getIssueViewProps=()=>({renderFeedback:this.getRenderFeedback(),issueDeleteCallbacks:{onIssueDeleteSuccess:this.props.onIssueDeleteSuccess,onIssueDeleteFailure:this.props.onIssueDeleteFailure},viewModeOptions:this.props.viewModeOptions,onClose:this.props.onClose,shouldShowProjectLevelBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowRootProjectsBreadcrumb:this.props.shouldShowProjectLevelBreadcrumb,shouldShowCloseButton:this.props.shouldShowCloseButton,issueMaxWidth:this.props.issueMaxWidth});const{analyticsSource:t}=e;Object(n("CBUp").o)(this.isFullPage(t))}componentDidMount(){this.canCloseOnEsc()&&document.addEventListener("keydown",this.onEscape)}UNSAFE_componentWillReceiveProps(e){if(e.issueKey!==this.props.issueKey){const{analyticsSource:e}=this.props;Object(n("CBUp").o)(this.isFullPage(e))}}componentWillUnmount(){this.canCloseOnEsc()&&document.removeEventListener("keydown",this.onEscape)}renderHeader(){
const{onClose:e,shouldShowCloseButton:t,shouldShowProjectLevelBreadcrumb:a,shouldShowRootProjectsBreadcrumb:s,onIssueDeleteSuccess:i,onIssueDeleteFailure:o,viewModeOptions:l}=this.props;return this.isMobile()?r.a.createElement(n("ZRZC").a,{shouldUseDeprecatedScrollParent:!0,elementId:"jira-issue-header",customStyles:`padding-left: ${3*n("ZpU/").e}px; padding-right: ${3*n("ZpU/").e}px;`},r.a.createElement(n("qxqX").a,{shouldShowCloseButton:t,shouldShowProjectLevelBreadcrumb:a,shouldShowRootProjectsBreadcrumb:s,issueDeleteCallbacks:{onIssueDeleteSuccess:i,onIssueDeleteFailure:o},onClose:e,renderFeedback:this.getRenderFeedback(),viewModeOptions:l})):null}render(){
const{analyticsSource:e,backButtonUrl:t,dispatchExternalActionRef:a,ecosystemEnabled:s,estimationStatistic:i,history:l,isCompact:c,isLoadedWithPage:d,isSpaEnabled:u,issueActions:p,issueId:m,issueKey:b,loginRedirectUrl:g,metrics:f,onChange:h,onError:E,onIssueKeyChange:y,rapidViewId:O,rapidViewMap:v,viewModeOptions:j,issueMaxWidth:I}=this.props,S={analyticsSource:e,backButtonUrl:t,dispatchExternalActionRef:a,ecosystemEnabled:s,estimationStatistic:i,history:l,isLoadedWithPage:d,isSpaEnabled:u,issueActions:p,issueId:m,issueKey:b,loginRedirectUrl:g,metrics:f,onChange:h,onError:E,onIssueKeyChange:y,rapidViewId:O,rapidViewMap:v,viewMode:j&&j.viewMode},k=this.isMobile()?o.Fragment:n("E4Jw").a,w=this.isMobile()?o.Fragment:n("E4Jw").b;return r.a.createElement(r.a.Fragment,null,this.isFullPage(e)&&r.a.createElement(n("O+K0").a,null),r.a.createElement(n("a0Vs").a,S,r.a.createElement(C,{location:e}),r.a.createElement(n("QUN3").c,{defaultIsCompact:c
},r.a.createElement(n("CVeC").a,null,r.a.createElement(n("U9/e").a,null,r.a.createElement(k,{issueMaxWidth:I},r.a.createElement(w,null,this.renderChangeboardingTour(),r.a.createElement(n("ItIp").a,{renderTopBanner:this.renderTopBanner}),this.renderHeader())),r.a.createElement(n("Myak").a,null),this.renderIssueView(),r.a.createElement(D,{currentIssueKey:b}),r.a.createElement(N,{currentIssueKey:b}))))))}},A.defaultProps={isCompact:!1,isLoadedWithPage:!1,isSpaEnabled:!1,shouldShowRootProjectsBreadcrumb:!1,viewModeOptions:{viewModeSwitchEnabled:!1},onClose:c.a,onIssueDeleteSuccess:c.a,onIssueDeleteFailure:c.a},M=_))||M;t.default=F;(()=>{a(i)})()},jR8K:function(e,t,n){"use strict";t.a=(e,t)=>{const n=[{suffix:"w",seconds:e*t*60*60},{suffix:"d",seconds:60*t*60},{suffix:"h",seconds:3600},{suffix:"m",seconds:60}];return e=>{const t={secondsRemaining:e,timeString:""};return n.reduce(((e,t)=>{if(t.seconds<=0)return e;const n=Math.floor(e.secondsRemaining/t.seconds);return{
secondsRemaining:n>=1?e.secondsRemaining%t.seconds:e.secondsRemaining,timeString:n>=1?`${e.timeString} ${n}${t.suffix}`:e.timeString}}),t).timeString.trim()||"0m"}}},jYqf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("3tO9"),s=n.n(a);const i=(e,...t)=>{const n=e||{};if(0===t.length)return n;const a=s()({},n);return t.forEach((e=>{e&&Object.keys(e).forEach((t=>{const n=a[t],s=e[t];a[t]=n?(e,...t)=>s(n(e,...t),...t):s}))})),a}},jZBU:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=()=>Object(n("D3TY").a)("display-outsider-comment-field_4x7u7",!1),s=()=>Object(n("D3TY").a)("gcfe-37-migrating-injectintl-to-useintl-for-functional-components_kq8qg",!1)},jnBt:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const a={COMMENTS:"focusedCommentId",WORKLOG:"focusedWorklogId"},s=e=>{if(!a[e])return null;return(()=>{let e=window.location.search.slice(1);const t={};if(e){e=e.split("#")[0]
;const n=e.split("&");for(let e=0;e<n.length;e+=1){const a=n[e].split("="),s=a[0],i=void 0===a[1]||decodeURIComponent(a[1]);t[s]=i}}return t})()[a[e]]}},jt4F:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),s=n("vN+2"),i=n.n(s);class o extends a.Component{constructor(...e){super(...e),this.state={stackIndex:0},this.incrementStackIndex=()=>{this.setState({stackIndex:this.state.stackIndex+1})},this.decrementStackIndex=()=>{this.setState({stackIndex:this.state.stackIndex-1})}}componentDidMount(){Object(n("oGf9").a)({name:"jira/util/events",wrmKeys:"wrc!jira.webresources:jira-events"}).then((({bind:e})=>{e("beforeShow",this.incrementStackIndex),e("Dialog.hide",this.decrementStackIndex)})).catch(i.a),Object(n("TZGU").a)("show",this.incrementStackIndex),Object(n("TZGU").a)("hide",this.decrementStackIndex)}componentWillUnmount(){Object(n("oGf9").a)({name:"jira/util/events",wrmKeys:"wrc!jira.webresources:jira-events"}).then((({unbind:e})=>{
e("beforeShow",this.incrementStackIndex),e("Dialog.hide",this.decrementStackIndex)})).catch(i.a),Object(n("TZGU").b)("show",this.incrementStackIndex),Object(n("TZGU").b)("hide",this.decrementStackIndex)}render(){return this.props.children(this.state.stackIndex)}}o.displayName="AuiModalStackIndex"},juxH:function(e,t,n){"use strict";t.a=()=>`\n        jiraSettings {\n          ${(()=>"\n          timeTracking {\n            isTimeTrackingEnabled\n            hoursPerDay\n            daysPerWeek\n            defaultUnit\n            format\n          }\n    ")()}\n          ${(()=>"\n          subtasks {\n            enabled\n          }\n    ")()}\n          issueLinkTypes {\n            id\n            name\n            inward\n            outward\n          }\n          newIssueViewTransitionSettings {\n            shouldDelayChangeboarding\n            newIssueViewTransitionLockingStatus\n         }\n        }\n    `},jwyz:function(e,t,n){"use strict";var a=n("JRPe")
;t.a=Object(a.defineMessages)({gotIt:{id:"issue-attachments-base.services.got-it",defaultMessage:"Got it"},tryAgain:{id:"issue-attachments-base.services.try-again",defaultMessage:"Try again"},downloadStartTitle:{id:"issue-attachments-base.services.download-start-title",defaultMessage:"Downloading attachments"},downloadStartDescription:{id:"issue-attachments-base.services.download-start-description",defaultMessage:"This might take a while. When we\u2019re done, your attachments will be in a zip file on your device."},downloadFailedTitle:{id:"issue-attachments-base.services.download-failed-title",defaultMessage:"We couldn\u2019t download your attachments"},downloadFailedDescription:{id:"issue-attachments-base.services.download-failed-description",defaultMessage:"We didn\u2019t finish downloading your attachments for {issueKey}. Check your connection and then try again."},downloadFailedExceedFileSizeDescription:{
id:"issue-attachments-base.services.download-failed-exceed-file-size-description",defaultMessage:"The total size of {issueKey}'s attachments is too large to download. Try downloading each attachment individually."},deleteFailedTitle:{id:"issue-attachments-base.services.delete-failed-title",defaultMessage:"Attachment could not be deleted"},deleteFailedDescription:{id:"issue-attachments-base.services.delete-failed-description",defaultMessage:"There was a connection problem and the attachment was not successfully deleted. Try checking your network connection."}})},k3VE:function(e,t,n){"use strict";n.r(t),n.d(t,"ACTION_SUBJECT",(function(){return m})),n.d(t,"DateTimeField",(function(){return f}));var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("vOnD"),d=n("JRPe"),u=Object(d.defineMessages)({errorTitle:{id:"issue-field-date-time.error-title",defaultMessage:"We couldn't set the date"},errorMessage:{id:"issue-field-date-time.error-message",
defaultMessage:"Check your connection, then give it another try."}});const p=["fieldKey","issueKey","timeZone","isEditing","onFormatDateTime","onParseValue","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","noValueText"],m="dateTimeFieldInlineEdit",b=c.css`${""} & > div{margin:16px 0 10px 2px;}${n("cNqL").b}{line-height:1;}`,g=Object(c.default)(n("cNqL").a).withConfig({componentId:"sc-1dqhc45-0"})`${({isEditable:e})=>!e&&b}`,f=e=>{var t;let{fieldKey:a,issueKey:i,timeZone:c,isEditing:d,onFormatDateTime:b,onParseValue:f,onCancel:h,onEdit:E,onEscape:y,onConfirm:O,onEnter:v,onUpdate:j,readView:I,editView:C,noValueText:S}=e,k=o()(e,p);const[w,T]=Object(r.useState)(!1),D=Object(r.useCallback)((e=>{null==j||j(e),T(!1)}),[j]),[{value:R,error:L,fieldConfig:M},{saveValue:A,resetError:_}]=Object(n("Mv4v").a)({issueKey:Object(n("Rp3N").n)(i),fieldKey:a,onSuccess:D}),[N,x]=Object(r.useState)(R),U=null!==(t=null==M?void 0:M.isEditable)&&void 0!==t&&t
;Object(r.useEffect)((()=>{L&&T(!0),w||x(R)}),[L,w,R]);const F=Object(r.useCallback)((e=>{N!==R?A(N,null,e):T(!1),Object(n("yy8q").h)(e)}),[A,N,R]),P=Object(r.useCallback)((e=>{_(),T(!1),x(R),Object(n("yy8q").h)(e)}),[_,R]),V=Object(r.useCallback)((e=>{P(e),null==h||h(e)}),[h,P]),K=Object(r.useCallback)((e=>{F(e),null==O||O(e)}),[O,F]),$=Object(r.useCallback)((e=>{T(!0),Object(n("yy8q").h)(e),null==E||E(e)}),[E]),W=Object(r.useCallback)((e=>{P(e),null==y||y(e)}),[y,P]),B=Object(r.useCallback)((e=>{_(),x(e)}),[_,x]),q=()=>void 0!==I?I:l.a.createElement(n("DbuN").DateTimeFieldReadView,{timeZone:c,value:R,noValueText:S,onFormatDateTime:b}),H=l.a.createElement(n("cNqL").b,null,q()),G=()=>void 0!==C?C:l.a.createElement(n("KlMH").DateTimeFieldEditView,{value:N,onChange:B,isInvalid:!!L,onParseValue:f,timeZone:c});return l.a.createElement(l.a.Fragment,null,null!=L&&l.a.createElement(n("gx/I").a,{error:L,title:u.errorTitle,description:u.errorMessage}),Object(n("MrUx").a)()?l.a.createElement(g,{
isEditable:U},l.a.createElement(n("JZTM").a,s()({areActionButtonsHidden:!0,actionSubject:m,isEditable:U,isEditing:null!=d?d:w,readView:H,editView:U?G():null,onCancel:V,onConfirm:K,onEdit:$,onEscape:W},k))):l.a.createElement(n("JZTM").a,s()({areActionButtonsHidden:!0,actionSubject:m,isEditable:U,isEditing:null!=d?d:w,readView:q(),editView:U?G():null,onCancel:V,onConfirm:K,onEdit:$,onEscape:W},k)))}},kJAf:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("vOnD");const s=a.default.div.withConfig({componentId:"sc-1cg6l0h-0"})`color:${"#A5ADBA"};cursor:pointer;margin-left:${.5*n("ZpU/").e}px;margin-top:${.25*n("ZpU/").e}px;flex-shrink:0;&:hover{color:${"#42526E"};}`;a.default.div.withConfig({componentId:"sc-1cg6l0h-1"})`[data-role='droplistContent']{overflow:visible;}`},kJe6:function(e,t,n){e.exports=n.p+"assets/auth-error.37d7a62ee1c48c2d5ae201ec8f798f18.8.svg"},"kP+u":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}))
;var a=n("pVnL"),s=n.n(a),i=n("3tO9"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("vN+2"),d=n.n(c),u=n("JRPe");const p=Object(u.defineMessages)({title:{id:"issue-field-status.services.flags.transition-failed-error.main.title",defaultMessage:"We couldn't update the status"},description:{id:"issue-field-status.services.flags.transition-failed-error.main.description",defaultMessage:"Check your network connection, then try reloading the issue."}});var m=()=>({type:"error",title:p.title,description:p.description,isAutoDismiss:!0});const b=Object(u.defineMessages)({title:{id:"issue-field-status.services.flags.validation-error.main.title",defaultMessage:"Transition failed"}});var g=e=>({type:"warning",title:b.title,description:{id:"issue-field.status.services.flags.validation-error.main.description",defaultMessage:e},isAutoDismiss:!0});const f=Object(n("B2Rg").a)(),h="#issue-workflow-transition-submit",E=(e,t,n)=>{const a=document.querySelector(e);a&&a.removeEventListener(t,n)}
;class y extends r.Component{static getDerivedStateFromProps(e,t){return t.loading||!e.value?null:{value:e.value}}constructor(e){super(e),this.componentDidUpdate=e=>{this.props.initialValue&&e.initialValue&&e.initialValue.id!==this.props.initialValue.id&&this.props.initialValue.id!==this.state.value.id&&this.setState({loading:!1,value:this.props.initialValue})},this.isDialogOpened=!1,this.isDialogConfirmPressed=!1,this.onDialogContentReady=()=>{setTimeout((()=>{this.isDialogOpened?Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_ERROR_TRANSITION_SCREEN}):Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_OPEN_TRANSITION_SCREEN}),this.bindDialogFormHandlers(),this.isDialogOpened=!0,this.isDialogConfirmPressed=!1}))},this.bindDialogFormHandlers=()=>{((e,t,n)=>{E(e,t,n);const a=document.querySelector(e);a&&a.addEventListener(t,n)})(h,"click",this.onClickDialogConfirm)},this.unbindDialogFormHandlers=()=>{E(h,"click",this.onClickDialogConfirm)},
this.handleBeforeDialogHide=()=>{this.isDialogOpened&&!this.isDialogConfirmPressed&&(this.cancelScreenBrowserMetricsEvents(),Object(n("B2Rg").b)().markStartOfInteraction({key:n("q+Ru").a.TIME_TO_CANCEL_TRANSITION_SCREEN}),setTimeout((()=>{Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_CANCEL_TRANSITION_SCREEN})}))),this.unbindDialogFormHandlers(),this.isDialogOpened=!1,this.isDialogConfirmPressed=!1},this.cancelScreenBrowserMetricsEvents=()=>{[n("q+Ru").a.TIME_TO_ERROR_TRANSITION_SCREEN,n("q+Ru").a.TIME_TO_CONFIRM_TRANSITION_SCREEN,n("q+Ru").a.TIME_TO_OPEN_TRANSITION_SCREEN].forEach((e=>{Object(n("B2Rg").b)().cancel({key:e},!0)}))},this.onClickDialogConfirm=()=>{Object(n("B2Rg").b)().markStartOfInteraction({key:n("q+Ru").a.TIME_TO_CONFIRM_TRANSITION_SCREEN,cancelExisting:!0}),Object(n("B2Rg").b)().markStartOfInteraction({key:n("q+Ru").a.TIME_TO_ERROR_TRANSITION_SCREEN,cancelExisting:!0}),this.isDialogConfirmPressed=!0},this.resetError=()=>this.setState({error:null
}),this.submit=(e,t)=>{const n=this.state.value,a=e.to;this.setState({loading:!0,value:a}),this.props.onSubmit(n,a,{transition:e},t)},this.success=({status:e,event:t,viaDialog:a=!1})=>{this.setState({loading:!1,lastSavedValue:e}),this.props.fieldValueActions.setFieldValue(this.props.issueKey,"status",e),this.props.onSuccess(e,a,t),Object(n("yy8q").f)(t,"statusField transitioned","statusField"),Object(n("/dKO").a)(Object(n("dD7R").a)(!0,"POST","Issue View Status Service",this.props.projectType)),a&&Object(n("B2Rg").b)().markTimeToFinishTask({key:n("q+Ru").a.TIME_TO_CONFIRM_TRANSITION_SCREEN})},this.failure=(e,t)=>{this.setState({error:e,loading:!1,value:this.state.lastSavedValue||this.props.value||this.props.initialValue}),this.props.onFailure();const a=e instanceof n("HQr3").a;a?this.props.flagService.showFlag(g(e.message)):this.props.flagService.showFlag(m()),Object(n("yy8q").b)(t,"statusField postTransitionFailed",{validationError:a,message:e.message}),
Object(n("oZs7").a)(e)?Object(n("/dKO").a)(Object(n("dD7R").a)(!1,"POST","Issue View Status Service",this.props.projectType,e.message,e.traceId)):Object(n("/dKO").a)(Object(n("dD7R").a)(!0,"POST","Issue View Status Service",this.props.projectType))},this.cancel=()=>{this.setState({loading:!1,value:this.props.value||this.props.initialValue}),this.props.onEditCancel(),this.props.workflowTransitionsActions.setTransitionInProgress(!1)},this.transitionStatus=async(e,t)=>{const{issueKey:a,baseUrl:s}=this.props,i=e.to;this.submit(e,t);try{e.hasScreen?new(n("TptM").default)({baseUrl:s,issueKey:a,transitionId:e.id}).onDialogSuccess((()=>this.success({status:i,event:t,viaDialog:!0}))).onDialogCancel((()=>this.cancel())).show():(f.start({key:"issue-field.status.post-transition"}),await Object(n("/rpS").d)(`${s}/rest/api/2/issue/${a}/transitions`,{body:JSON.stringify({transition:e})}),f.stop({key:"issue-field.status.post-transition"}),this.success({status:i,event:t}))}catch(o){
f.cancel("issue-field.status.post-transition"),n("RDfz").a.safeErrorWithoutCustomerData("issue-field.status.post-transition",o),this.failure(o,t)}},this.api={transitionStatus:this.transitionStatus,resetError:this.resetError};const t=e.value||e.initialValue;if(null==t)throw new Error("Either value or initialValue prop is required.");this.state={value:t,lastSavedValue:t,loading:!1,error:null}}componentDidMount(){Object(n("oGf9").a)({name:"jira/util/events",wrmKeys:"wrc!jira.webresources:jira-events"}).then((({bind:e})=>{e("dialogContentReady",this.onDialogContentReady),e("Dialog.beforeHide",this.handleBeforeDialogHide)})).catch(d.a),Object(n("TZGU").a)("dialogContentReady",this.onDialogContentReady),Object(n("TZGU").a)("Dialog.beforeHide",this.handleBeforeDialogHide)}componentWillUnmount(){Object(n("oGf9").a)({name:"jira/util/events",wrmKeys:"wrc!jira.webresources:jira-events"}).then((({unbind:e})=>{e("dialogContentReady",this.onDialogContentReady),
e("Dialog.beforeHide",this.handleBeforeDialogHide)})).catch(d.a),Object(n("TZGU").b)("dialogContentReady",this.onDialogContentReady),Object(n("TZGU").b)("Dialog.beforeHide",this.handleBeforeDialogHide),this.unbindDialogFormHandlers(),this.isDialogOpened=!1}render(){return this.props.children(o()(o()({},this.state),this.api))}}y.displayName="StatusService",y.defaultProps={onSubmit:d.a,onSuccess:d.a,onFailure:d.a,onEditStart:d.a,onEditCancel:d.a};const O=e=>{const[,t]=Object(n("Ff2O").a)();return l.a.createElement(n("j3bG").a,{issueKey:e.issueKey,fieldKey:"status"},((n,a)=>l.a.createElement(y,s()({value:n},e,{fieldValueActions:a,workflowTransitionsActions:t}))))};O.displayName="StatusWithValueService";const v=Object(n("nevq").a)(O)},kk5J:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").I,(e=>e.uiConfig)),i=Object(a.createSelector)(s,(e=>Boolean(e&&e.newIssueViewLockedIn)))},"l/pY":function(e,t,n){"use strict"
;var a=n("pVnL"),s=n.n(a),i=n("QILm"),o=n.n(i),r=n("q1tI"),l=n.n(r),c=n("mwIZ"),d=n.n(c),u=n("Y+p1"),p=n.n(u);var m=n("JRPe"),b=Object(m.defineMessages)({errorTitle:{id:"issue-field-labels.error-title",defaultMessage:"We couldn't set the labels value"},errorMessage:{id:"issue-field-labels.error-message",defaultMessage:"Check your connection, then give it another try."},noValueText:{id:"issue-field-labels.no-value-text",defaultMessage:"None"},editButtonLabel:{id:"issue-field-labels.edit-button-label",defaultMessage:"Edit {fieldName}"}}),g=n("vOnD");const f=g.default.div.withConfig({componentId:"pdch1v-0"})`padding:0;`,h=g.default.div.withConfig({componentId:"pdch1v-1"})`${()=>Object(n("MrUx").a)()?g.css`padding:0px;word-break:break-word;position:relative;left:6px;margin:-2px 0;`:null} & > div > span:first-child{margin-left:0;}`;var E=n("E+oP"),y=n.n(E);const O=(e,t)=>`/issues/?jql=${encodeURIComponent(`${(e=>{
if(e.startsWith("customfield_"))return`cf[${e.substring("customfield_".length,e.length)}]`;return e})(e)} = ${Object(n("wQ4K").b)(t)}`)}`,v=e=>{const{fieldId:t,placeholder:a,value:s}=e;return y()(s)?l.a.createElement(n("gVzX").b,null,a):l.a.createElement(n("Gx6G").a,null,s.map((e=>l.a.createElement(n("UsTP").a,{key:e,isRemovable:!1,text:e,href:O(t,e)}))))};v.displayName="LabelsView";var j=v;const I=["fieldKey","issueKey","label","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","showPinButton","projectId","issueId","getSuggestions","startWithEditViewOpen","menuPosition"],C=Object(r.memo)((e=>{const{fieldKey:t,issueKey:a,label:i,onCancel:c,onEdit:u,onEscape:m,onConfirm:g,onEnter:E,onUpdate:y,readView:O,editView:v,showPinButton:C,projectId:S,issueId:k,getSuggestions:w,startWithEditViewOpen:T=!1,menuPosition:D}=e,R=o()(e,I),L=Object(n("XRG9").a)(),M=Object(n("ovRs").a)(),{formatMessage:A}=Object(n("NRyt").d)(),[_,{addToCache:N,removeFromCache:x}]=(()=>{
const{createAnalyticsEvent:e}=Object(n("rZ/p").a)(),[t,a]=Object(r.useState)([]),s=Object(r.useCallback)((t=>{t.forEach((async t=>{try{const a=await n("w5PJ").a.get(t);Object(n("yy8q").b)(e({}),"labelPickerCache set",{isFromCache:Boolean(null==a?void 0:a.label)}),t&&n("w5PJ").a.set(`${t}`,{label:t})}catch(a){n("RDfz").a.safeErrorWithoutCustomerData("issue-view.labels.cache.set",a.message)}}))}),[e]),i=Object(r.useCallback)((t=>{t.forEach((async t=>{try{const a=await n("w5PJ").a.get(t);a&&(Object(n("yy8q").b)(e({}),"labelPickerCache removed"),a&&n("w5PJ").a.remove(`${a.label}`))}catch(a){n("RDfz").a.safeErrorWithoutCustomerData("issue-view.labels.cache.remove",a.message)}}))}),[e]);return Object(r.useEffect)((()=>{(async()=>{const e=(e=>e.map((({label:e})=>({label:e,value:e}))))((e=>e.slice(-5).reverse())(await n("w5PJ").a.getAll()));a(e)})()}),[]),[t,{addToCache:s,removeFromCache:i}]})(),{onFailure:U}=Object(n("+PQg").a)(),F=Object(r.useCallback)((e=>{null!==e&&N(e),y&&y(e)
}),[N,y]),[P,V]=Object(r.useState)(T||!1),K=Object(r.useCallback)(((e,t)=>{null!==t&&x(t),U({error:e,title:b.errorTitle,description:b.errorMessage}),L.current&&V(!0)}),[L,x,U]),[{fieldConfig:$,value:W},{resetError:B,saveValue:q}]=(e=>{const{fieldKey:t,issueId:a,issueKey:s,onSuccess:i,onFailure:o}=e,[{value:r}]=Object(n("MoW5").a)(s,t),l=d()(r,"schema.type","array"),[{error:c,value:u},{resetError:p,saveValue:m}]=Object(n("35XP").a)({fieldType:l,issueId:a,issueKey:s,onSuccess:i,onFailure:o,initialValue:null,fieldKey:t||n("TuCe").q});return[{error:c,value:u,fieldConfig:r},{resetError:p,saveValue:m}]})({fieldKey:t,onSuccess:F,onFailure:K,issueId:k,issueKey:Object(n("Rp3N").n)(a)}),[H,G]=Object(r.useState)(W),Y=d()($,"autoCompleteUrl",""),Z=d()($,"isEditable",!1),X=M===n("wpii").a.MOBILE_ISSUE,J=Object(r.useCallback)((e=>{p()(H,W)||q(H,null,e),V(!1),Object(n("yy8q").h)(e)}),[q,H,W]),z=Object(r.useCallback)((e=>{B(),V(!1),G(W),Object(n("yy8q").h)(e)}),[B,W]),Q=Object(r.useCallback)((e=>{
z(e),c&&c(e)}),[z,c]),ee=Object(r.useCallback)((e=>{J(e),g&&g(e)}),[g,J]),te=Object(r.useCallback)((e=>{V(!0),G(W),Object(n("yy8q").h)(e),u&&u(e)}),[u,W]),ne=Object(r.useCallback)((e=>{z(e),m&&m(e)}),[z,m]),ae=Object(r.useCallback)((e=>{const t=e&&e.length>0?e.map((e=>e.value)):e;B(),G(t)}),[B,G]),se=()=>void 0!==v?v:l.a.createElement(f,null,l.a.createElement(n("I8nz").a,{autoFocus:!0,ariaLabel:i,spacing:"compact",autoCompleteUrl:Y,onChange:ae,cachedOptions:_,value:Object(n("BNlF").a)(H),projectId:S,issueId:k,fieldId:t,getSuggestions:w,menuPosition:D})),ie=()=>void 0!==O?O:l.a.createElement(h,null,l.a.createElement(j,{fieldId:t,placeholder:A(b.noValueText),value:W})),oe=A(b.editButtonLabel,{fieldName:i});return Object(n("MrUx").a)()?l.a.createElement(n("cNqL").a,{hasValue:W&&0!==W.length},l.a.createElement(n("JZTM").a,s()({isEditable:Z,isEditing:P,isFitContainerWidthReadView:!X,label:i,readView:ie(),editView:Z?se():null,onCancel:Q,onConfirm:ee,onEdit:te,onEscape:ne,editButtonLabel:oe
},R))):l.a.createElement(n("JZTM").a,s()({isEditable:Z,isEditing:P,isFitContainerWidthReadView:!X,label:i,readView:ie(),editView:Z?se():null,onCancel:Q,onConfirm:ee,onEdit:te,onEscape:ne,editButtonLabel:oe},R))}));C.displayName="LabelsField";t.a=C},l6KG:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=()=>({type:"SHOW_CLONE_MODAL"}),s=()=>({type:"HIDE_CLONE_MODAL"})},l7n1:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=(e,t)=>({type:"ECOSYSTEM_SHOW_GLANCE",payload:{appKey:e,moduleKey:t}}),s=()=>({type:"ECOSYSTEM_HIDE_GLANCE"})},lDDJ:function(e,t,n){e.exports=n.p+"assets/search.1cc781b7e8848ea0f1d2dc40004f854f.8.svg"},lJFs:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("3tO9"),s=n.n(a),i=n("q1tI");const o="ADDED",r="REMOVED",l=e=>({id:Object(n("Rp3N").a)(e.accountId),displayName:e.displayName,avatarUrl:e.avatarUrls&&e.avatarUrls["48x48"]}),c=()=>{
const[{data:e}]=Object(n("NvmA").b)(),[t,{setVoters:a}]=Object(n("XTTp").c)(),[c,{setLoggedInUserAction:d}]=Object(n("XTTp").b)(),u=Object(n("ovRs").h)(),{showFlag:p}=Object(n("uS5k").f)(),[m,{setFieldValue:b}]=Object(n("j3bG").b)({issueKey:u,fieldKey:"votes"}),[g,f]=Object(i.useState)(!1),h=Object(i.useCallback)((()=>Object(n("/rpS").b)(`/rest/api/3/issue/${u}/votes`)),["",u]),{loading:E,error:y,data:O,fetch:v}=Object(n("GWpg").a)(h),j=Object(i.useMemo)((()=>O&&O.voters?O.voters.map(l):t),[O]);Object(i.useEffect)((()=>{O&&O.voters&&(a(j),f(!0))}),[O,a,j]);const I=Object(i.useMemo)((()=>{const t=e?l(e):null;switch(c){case o:return((e,t)=>t&&-1===e.findIndex((e=>e.id===t.id))?[...e,t].sort(((e,t)=>e.displayName.localeCompare(t.displayName))):e)(j,t);case r:return((e,t)=>t?e.filter((e=>e.id!==t.id)):e)(j,t);default:return j}}),[e,c,j]);Object(i.useEffect)((()=>{y&&p({type:"error",title:n("APBy").a.fetchVotersListFailedTitle,description:n("APBy").a.fetchVotersListFailedDescription})
}),[y,p]),Object(i.useEffect)((()=>{if(g&&m.votes!==I.length){const e=void 0===c;b(u,"votes",s()(s()({},m),{},{votes:I.length,hasVoted:e?m.hasVoted:c===o}))}f(!1)}),[g]);const C=Object(i.useCallback)((()=>{d(o)}),[d]),S=Object(i.useCallback)((()=>{d(r)}),[d]),k=Object(i.useCallback)((()=>{E||v()}),[v,E]),w=Object(i.useMemo)((()=>({setLoggedInUserActionVote:C,setLoggedInUserActionUnvote:S,refreshVoters:k})),[C,k,S]);return[{voters:I,isFetching:E,error:y},w]}},lJey:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").f,(e=>e.jiraSettings.issueLinkTypes)),i=Object(a.createSelector)(n("nGHA").h,n("TstH").e,s,(({canLinkIssues:e},t,n)=>!!(e&&t&&n&&n.length)))},lL9i:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));const a="en-US",s=e=>{
if("string"!=typeof e)return n("fnbV").a.safeErrorWithoutCustomerData("jira-issue-format-date.standardize-locale",`Invalid input type for locale was passed in: ${e}. Falling back to en-US.`),a;const t=e.replace("_","-");switch(t){case"en":return"en-US";case"en-UK":return"en-GB";default:return n("+RN5").a.includes(e)||n("fnbV").a.safeWarnWithoutCustomerData("jira-issue-format-date.standardize-locale",`Discovered unsupported locale: ${e}. This value was not modified, but its use may lead to unpredictable behaviour for formatting.`),t}},i=e=>{try{return Intl.DateTimeFormat(a,{timeZone:e}),e}catch(t){return void n("fnbV").a.safeErrorWithoutCustomerData("jira-issue-format-date.verify-time-zone",`Invalid timeZone: ${String(e)}. Date time formatting cannot be performed with this value. Falling back to undefined`,t)}}},lLEp:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return r})),
n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));const a="ISSUE_DETAILS",s={key:"FETCH_FIELD_DATA",prefix:a},i={key:"FETCH_INITIAL_COMMENTS",prefix:a},o={key:"FETCH_ISSUE_LINK_TYPES",prefix:a},r={key:"FETCH_SUBTASK_TYPES",prefix:a},l={key:"FETCH_LOAD_CONTEXT",prefix:a},c={key:"FETCH_USER_AUTH",prefix:a},d={key:"FETCH_VIEW_CONTEXT",prefix:a},u={key:"FETCH_ECOSYSTEM_EXTENSIONS",prefix:a},p={key:"FETCH_ISSUE_PROPERTIES",prefix:a}},lZDY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=()=>Object(n("D3TY").a)("issue.details.field-description",!1),s=()=>Object(n("D3TY").a)("issue.details.inline-edit-bump",!1)},"lb/0":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=e=>{switch(e.toUpperCase()){case n("LP4i").b:return n("LP4i").b;case n("LP4i").c:return n("LP4i").c
;case n("LP4i").a:default:return n("LP4i").a}},s={[n("LP4i").b]:n("LP4i").b,[n("LP4i").c]:n("LP4i").c,[n("LP4i").a]:n("LP4i").a}},mGlI:function(e,t,n){e.exports=n.p+"assets/add.cb4b04e861ca3b9ce2a2c8032dde1c45.8.png"},mIpc:function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"p",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"m",(function(){return E})),n.d(t,"i",(function(){return y})),n.d(t,"l",(function(){return O})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"k",(function(){return I})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return k})),n.d(t,"r",(function(){return w})),n.d(t,"q",(function(){return T})),n.d(t,"j",(function(){return D})),n.d(t,"a",(function(){return R})),n.d(t,"e",(function(){return L}));var a=n("3tO9"),s=n.n(a),i=n("peh1"),o=n("TYy9"),r=n.n(o)
;const l=Object(i.createSelector)(n("qJbg").a,(e=>e.backgroundScripts||[])),c=Object(i.createSelector)(n("/LFc").f,(e=>e.issueContentPanels||[])),d=Object(i.createSelector)(n("/LFc").f,(e=>!!e.issueContentPanels&&e.issueContentPanels.includes("issue.content.panel.customised.flag"))),u=Object(i.createSelector)(n("nGHA").b,(e=>e)),p=Object(i.createSelector)(n("/LFc").f,(e=>e.ecosystem&&!!e.ecosystem.ecosystemOnDate&&Date.parse(e.createdDate)>e.ecosystem.ecosystemOnDate)),m=e=>Object.keys(e||{}).map((t=>Object.values(e?e[t]:{}))),b=Object(i.createSelector)(n("qJbg").a,(e=>[].concat(...m(e.glances)))),g=Object(i.createSelector)(n("qJbg").a,(e=>[].concat(...m(e.contentPanels)))),f=Object(i.createSelector)(n("qJbg").a,(e=>[].concat(...m(e.activityPanels)))),h=e=>Object(i.createSelector)(n("4dgq").q,e,((e,t)=>e&&t||[])),E=h(Object(i.createSelector)(b,(e=>e.map((e=>({appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,icon:e.icon&&e.icon.url&&{url:e.icon.url},label:e.label,status:e.status,
type:e.type,glanceType:"CONNECT_ENTITY_TYPE"})))))),y=Object(i.createSelector)([n("T8UA").c,E],((e,t)=>[...e,...t])),O=(e,t)=>Object(i.createSelector)(n("qJbg").a,(n=>n&&n.glances&&n.glances[e]&&n.glances[e][t])),v=h(Object(i.createSelector)(g,(e=>e.map((e=>({appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,tooltip:e.tooltip,iconUrl:e.icon&&e.icon.url,type:e.type,showByDefault:e.showByDefault})))))),j=Object(i.createSelector)([n("T8UA").j,v],((e,t)=>[...e,...t])),I=Object(i.createSelector)([n("T8UA").j,v],((e,t)=>[...e,...t])),C=(e,t)=>{if("FORGE_ENTITY_TYPE"===e.type){const n=e.name.toLowerCase();if("FORGE_ENTITY_TYPE"===t.type){const e=t.name.toLowerCase();return n<e?-1/0:n>e?1/0:0}return 1/0}return 1/0},S=h(Object(i.createSelector)(c,j,d,p,n("4dgq").b,((e,t,a,i,o)=>{const l=t.map((t=>{if("FORGE_ENTITY_TYPE"===t.type){const a=t;if(!a.iconUrl)return a;const i=`${a.appKey}/${a.moduleKey}-`,r=e.filter((e=>Object(n("UKEq").b)(e,i))).map((e=>{const t=Object(n("+9A+").a)(e)
;return null==t&&Object(n("BxKc").b)(o,{error:Error(`Panel key doesn't match regexp: ${e}`)}),t&&s()(s()({},a),{},{dateAdded:t.added,panelInstanceId:t.id})})).filter(Boolean);return r.length>0&&r}if(!a&&!i)return t;return(e.includes(`${t.appKey}_${t.moduleKey}`)||e.includes(`${t.appKey}_${Object(n("+9A+").b)(t.moduleKey,10)}`)||t.showByDefault)&&t}));return r()((e=>e.map((e=>[].concat(e))).sort(((e,t)=>((e,t)=>{if("FORGE_ENTITY_TYPE"===e.type){const n=e.dateAdded||1;return"FORGE_ENTITY_TYPE"===t.type?n-(t.dateAdded||1):n}return 1/0})(e[0],t[0]))))(l.filter(Boolean)))
}))),k=(e,t)=>Object(i.createSelector)(n("qJbg").a,(n=>n&&n.contentPanels&&n.contentPanels[e]&&n.contentPanels[e][t])),w=(e,t)=>Object(i.createSelector)(n("qJbg").a,(a=>a&&a.selectedContentPanel&&(a.selectedContentPanel===`${e}_${t}`||a.selectedContentPanel===`${e}_${Object(n("+9A+").b)(t,10)}`))),T=h(Object(i.createSelector)(n("qJbg").a,(e=>e.operations||[]))),D=h(Object(i.createSelector)([n("T8UA").e,T],((e,t)=>[...e,...t]))),R=Object(i.createSelector)(n("4dgq").q,f,((e,t)=>e?t.map((e=>({name:e.name,appKey:e.appKey,moduleKey:e.moduleKey,options:e.options,type:"CONNECT_ENTITY_TYPE"}))):[])),L=Object(i.createSelector)([n("T8UA").f,R],((e,t)=>[...e,...t].sort(C)))},mJbZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));const a="PROJECT_ACTIVE",s="PROJECT_ARCHIVED",i="PROJECT_TRASHED"},mNb6:function(e,t,n){"use strict";var a=n("QILm"),s=n.n(a),i=n("q1tI"),o=n.n(i)
;const r=()=>Object(n("D3TY").a)("issue.details.field-description",!1);var l=n("JRPe"),c=Object(l.defineMessages)({noOptionsSelected:{id:"issue-field-cascading-select.no-options-selected",defaultMessage:"None"}}),d=n("vOnD");const u=d.default.div.withConfig({componentId:"sc-35ifnv-0"})`z-index:300;position:relative;`,p=d.default.div.withConfig({componentId:"sc-35ifnv-1"})`display:flex;flex:1 1 auto;line-height:${2.5*n("ZpU/").e/n("ZpU/").d};max-width:100%;word-break:break-word;position:relative;`,m=d.css`${p}{margin-left:6px;}`,b=d.default.div.withConfig({componentId:"sc-35ifnv-2"
})`margin-left:-8px;margin-top:-8px;width:100%;& div[data-read-view-fit-container-width]{display:flex;align-items:center;width:100%;min-height:32px;padding:0 0 0 6px;}${({isEditable:e})=>!e&&m}`,g=["label","isEditable","isMobile","allowedValues","areOptionsOnSameRow","showPinButton","onCloseMenuOnScroll","isDropdownMenuFixedAndLayered"],f=(e,t)=>e&&e.child?`${e.label} - ${e.child.label}`:e?e.label:t.formatMessage(c.noOptionsSelected),h=e=>{const{label:t,isEditable:a,isMobile:l,allowedValues:c,areOptionsOnSameRow:d,showPinButton:m,onCloseMenuOnScroll:h,isDropdownMenuFixedAndLayered:E}=e,y=s()(e,g),O=Object(n("NRyt").d)(),[{value:v,error:j},{saveValue:I}]=Object(n("35XP").a)(y),[C,S]=Object(i.useState)(Object(n("6HDI").a)(v)),[k,w]=Object(i.useState)(Object(n("6HDI").a)(v)),[T,D]=Object(i.useState)(!1),[R,L]=Object(i.useState)(f(C,O)),[M,A]=Object(i.useState)([]),[_,N]=Object(i.useState)({}),x=Object(i.useCallback)((e=>{L(f(e,O))}),[O]),U=()=>{A(Object(n("6HDI").b)(c)),
N(Object(n("6HDI").c)(c)),D(!0)},F=e=>{I(Object(n("6HDI").d)(C),null,e),D(!1),x(C),Object(n("yy8q").h)(e,"cascadingSelect",{hasChild:!(!C||!C.child||null==C.child),isEmpty:!C}),w(C)},P=()=>{D(!1),S(k)},V=async e=>{S(e)},K=()=>o.a.createElement(u,null,o.a.createElement(n("QuTS").a,{value:C,onCloseMenuOnScroll:h,isDropdownMenuFixedAndLayered:E,allowedValues:M,allowedChildValues:_,onChange:V,isInvalid:!!j,areOptionsOnSameRow:d,isEditable:a}));return Object(i.useEffect)((()=>{x(C)}),[C,x]),Object(i.useEffect)((()=>{j&&D(!0)}),[j]),Object(i.useEffect)((()=>{S(Object(n("6HDI").a)(v))}),[v]),o.a.createElement(n("gEry").d,null,(()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1))()?o.a.createElement(n("HlSV").b,{isFieldDescriptionEnabled:r(),renderAfterOnHover:o.a.createElement(o.a.Fragment,null,r()&&void 0!==e.issueKey&&void 0!==y.fieldKey&&o.a.createElement(n("n7/x").a,{issueKey:e.issueKey,fieldKey:y.fieldKey}),!0===m&&o.a.createElement(n("UOlw").a,{fieldId:y.fieldKey,label:t}))
},o.a.createElement(n("gEry").c,null,t)):o.a.createElement(n("HlSV").a,{isFieldDescriptionEnabled:r()},o.a.createElement(n("gEry").c,null,t),r()&&void 0!==e.issueKey&&void 0!==y.fieldKey&&o.a.createElement(n("n7/x").a,{issueKey:e.issueKey,fieldKey:y.fieldKey}),!0===m&&o.a.createElement(n("UOlw").a,{fieldId:y.fieldKey,label:t})),o.a.createElement(n("gEry").g,{isEditing:T},o.a.createElement(n("iAtd").a,{onEscape:P},(()=>Object(n("D3TY").a)("issue.details.inline-edit-bump",!1))()?o.a.createElement(b,{isEditable:a},o.a.createElement(n("JZTM").a,{defaultValue:"",readView:()=>{let e;return e=C?R:o.a.createElement(n("gVzX").b,null,R),o.a.createElement(p,null,e)},editView:K,isEditable:a,onCancel:P,onConfirm:F,onEdit:U,isEditing:T,readViewFitContainerWidth:!l})):o.a.createElement(n("eJ3Z").a,{isLabelHidden:!0,label:t,readView:(()=>C?o.a.createElement("div",null,R):o.a.createElement(n("gVzX").b,null,R))(),editView:a?K():null,onConfirm:F,onCancel:P,onEditRequested:U,isEditing:T,
disableEditViewFieldBase:!0,isFitContainerWidthReadView:!l}))))};h.displayName="CascadingSelectInlineEditView",h.defaultProps={initialValue:null,isMobile:!1,areOptionsOnSameRow:!1,fieldType:"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect"};t.a=h},mUiE:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return c}));const a=(e,t)=>({type:"FIELD_INIT_OPTIONS",payload:{fieldId:e,fieldOptions:t}}),s=(e,t,n,a)=>({type:"FIELD_EDIT_BEGIN",payload:{analyticsEvent:a,fieldId:e,fieldOptions:t,fieldEditSessionId:n}}),i=(e,t,n)=>({type:"FIELD_EDIT_UPDATE",payload:{fieldId:e,value:t,fieldOptions:n}}),o=(e,t,n,a,s)=>({type:"FIELD_EDIT_CONFIRM",payload:{analyticsEvent:a,fieldId:e,fieldOptions:t,saveFieldData:n,analyticsAttributeIdRetriever:s}}),r=(e,t)=>({type:"FIELD_EDIT_CANCEL",
payload:{fieldId:e,fieldOptions:t}}),l=(e,t,n)=>({type:"FIELD_PASTE",payload:{fieldId:e,fieldOptions:t,pastedContent:n}}),c=(e,t)=>({type:"FIELD_ADD_ALLOWED_VALUES",payload:{fieldId:e,allowedValues:t}})},mxtt:function(e,t,n){"use strict";var a=n("JRPe");t.a=Object(a.defineMessages)({commentWorklogAttachmentFetchFailedTitle:{id:"issue.comment-worklog-attachment-fetch-failed-title",defaultMessage:"We couldn't find the {field}"},commentWorklogAttachmentFetchFailedDescription:{id:"issue.comment-worklog-attachment-fetch-failed-description",defaultMessage:"Reload the issue, then give it another try."}})},"n7/x":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("q1tI"),s=n.n(a);const i=()=>s.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-testid":"issue-field-description.ui.assets.icon"},s.a.createElement("path",{
d:"M6 12C2.68629 12 0 9.31371 0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6C12 9.31371 9.31371 12 6 12ZM6 10.6667C8.57733 10.6667 10.6667 8.57733 10.6667 6C10.6667 3.42267 8.57733 1.33333 6 1.33333C3.42267 1.33333 1.33333 3.42267 1.33333 6C1.33333 8.57733 3.42267 10.6667 6 10.6667ZM6 9.33333C5.65811 9.33333 5.37633 9.07597 5.33782 8.74441L5.33333 8.66667V6C5.33333 5.63181 5.63181 5.33333 6 5.33333C6.34189 5.33333 6.62367 5.59069 6.66218 5.92225L6.66667 6V8.66667C6.66667 9.03486 6.36819 9.33333 6 9.33333Z",fill:"currentColor"}),s.a.createElement("path",{d:"M6 2.66667C5.53976 2.66667 5.16667 3.03976 5.16667 3.5C5.16667 3.96024 5.53976 4.33333 6 4.33333C6.46024 4.33333 6.83333 3.96024 6.83333 3.5C6.83333 3.03976 6.46024 2.66667 6 2.66667Z",fill:"currentColor"}));i.displayName="InfoIcon";var o=i,r=n("pVnL"),l=n.n(r);const c=()=>Object(n("D3TY").a)("editor.renderer-disable-heading-ids",!1);var d=n("vOnD");const u=d.default.div.withConfig({componentId:"sc-1tcoule-0"
})`max-width:${32*n("ZpU/").e}px;width:auto;`;var p=Object(a.memo)((({description:e})=>s.a.createElement(u,null,s.a.createElement(n("gV9P").a,{onMount:e=>Object(n("yy8q").f)(e,"CustomFieldDescription mounted")}),s.a.createElement(n("23Tb").a,{document:e,schema:n("tdrV").a,disableHeadingIDs:c(),featureFlags:{codeBidiWarnings:!0,"code-bidi-warnings":!0}}))));const m=d.default.div.withConfig({componentId:"sc-7v906b-0"})`padding:${2*n("ZpU/").e}px ${2*n("ZpU/").e}px ${2*n("ZpU/").e}px ${3*n("ZpU/").e}px;max-height:${e=>e.containerHeight}px;overflow:auto;background-color:${"#FFFFFF"};box-shadow:0 ${.5*n("ZpU/").e}px ${n("ZpU/").e}px ${-.25*n("ZpU/").e}px ${"rgba(9, 30, 66, 0.25)"},0 0 ${.125*n("ZpU/").e}px ${"rgba(9, 30, 66, 0.31)"};`,b=window.innerHeight<600?150:400;var g=Object(a.memo)((({children:e,adfDescription:t})=>{const[i,o]=Object(a.useState)(!1),{setCardHoverStatus:r,setTriggerHoverStatus:c}=Object(n("36KU").a)({onHide:()=>o(!1),onShow:()=>o(!0)}),d=Object(a.useCallback)((()=>{
c(!0)}),[c]),u=Object(a.useCallback)((()=>{c(!1)}),[c]),g=Object(a.useCallback)((()=>{r(!0)}),[r]),f=Object(a.useCallback)((()=>{r(!1)}),[r]),h=Object(a.forwardRef)(((e,t)=>s.a.createElement(m,l()({},e,{innerRef:t,containerHeight:b})))),E=()=>s.a.createElement("div",{onMouseEnter:g,onMouseLeave:f,onClick:e=>e.stopPropagation()},s.a.createElement(p,{description:t}));return s.a.createElement(n("wR8r").a,{zIndex:n("ZpU/").f.modal,autoFocus:!1,isOpen:i,onClose:()=>o(!1),content:()=>s.a.createElement(E,null),trigger:t=>s.a.createElement("div",l()({onMouseEnter:d,onMouseLeave:u},t),e),placement:"top",popupComponent:h,boundary:"clippingParents",shouldFlip:!0,testId:"issue-field-description.ui.popup.ak-popup"})}));const f=Object(a.memo)((({issueKey:e,fieldKey:t})=>{const[{value:i}]=Object(n("MoW5").a)(e,t),[r,l]=Object(a.useState)(null),c=(null==i?void 0:i.description)||null;return Object(a.useEffect)((()=>{c&&Object(n("sPa+").a)(c).then((e=>{l(e)}))}),[c]),
r?s.a.createElement(n("kJAf").a,null,s.a.createElement(g,{adfDescription:r},s.a.createElement(o,null))):null}))},nGHA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return E}));var a=n("peh1"),s=n("noZS"),i=n.n(s)
;const o=Object(a.createSelector)(n("/LFc").f,(e=>e.applicationRoles)),r=Object(a.createSelector)(n("/LFc").f,(e=>e.permissions)),l=new Set(["canUseServiceDeskAgentFeatures","canEditIssues","canTransitionIssues","canScheduleIssues","canMoveIssue","canAssignIssues","canBeAssignedToIssues","canDeleteIssue","canManageWatchers","canEditAllComments","canDeleteAllComments","canDeleteAllAttachments","canLogWork","canEditOwnWorklogs","canEditAllWorklogs","canDeleteOwnWorklogs","canDeleteAllWorklogs","canResolveIssues","canViewReadonlyWorkflow","canCloseIssues","canModifyReporter","canSetIssueSecurity"]),c=Object(a.createSelector)(o,n("4dgq").d,n("/LFc").G,r,n("4dgq").F,((e,t,a,s,o)=>"service_desk"===a&&o?Object(n("d90y").isUseAppPermissionsFromTenantContextEnabled)()?((e,t)=>{const{canUseServiceDeskAgentFeatures:n}=t;return i()(t,((t,a)=>l.has(a)?t&&e&&n:t))})(t.hasServiceDeskAccess,s):((e,t)=>{const n=e&&e.includes("jira-servicedesk"),{canUseServiceDeskAgentFeatures:a}=t
;return i()(t,((e,t)=>l.has(t)?e&&n&&a:e))})(e||[],s):s)),d=Object(a.createSelector)(c,(e=>!!e.canBeAssignedToIssues)),u=Object(a.createSelector)(c,(e=>!!e.canAdministerProject)),p=Object(a.createSelector)(c,(e=>!!e.canAdministerJira)),m=Object(a.createSelector)(c,(e=>e.canViewWatchers)),b=Object(a.createSelector)(c,(e=>e.canManageWatchers)),g=Object(a.createSelector)(c,(e=>e.canModifyReporter)),f=Object(a.createSelector)(m,b,((e,t)=>({canViewWatchers:e,canManageWatchers:t}))),h=(Object(a.createSelector)(c,(e=>e.canBrowseUsers)),Object(a.createSelector)(c,(e=>e.canViewDevTools))),E=Object(a.createSelector)(c,(e=>e.canUseServiceDeskAgentFeatures))},ne1n:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n("peh1")
;const s=Object(a.createSelector)(n("/LFc").I,(e=>e.worklog)),i=Object(a.createSelector)(n("gnYg").i,(e=>e.remainingEstimateSeconds||0)),o=Object(a.createSelector)(s,(e=>e.loadingStage)),r=Object(a.createSelector)(s,(e=>e.highlightedWorklogId))},nk0S:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=Object.freeze({COMMENT:"COMMENT",WORKLOG:"WORKLOG"})},nl1X:function(e,t,n){"use strict";t.a=()=>"activitySortOrder"},noGj:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return b})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return E}));var a=n("3tO9"),s=n.n(a),i=n("J/PD"),o=n.n(i);const r=e=>{if(null==e)return n("cc1c").d.PURPLE;if(e in n("cc1c").d)return e;const t=n("fLzW").k[e]
;if(t)return t;const a=n("fLzW").f[e];if(a)return a;const s=n("fLzW").j[e];return s||n("cc1c").d.PURPLE},l=e=>{if(null==e)return n("cc1c").h.SERVER_PURPLE;if(e in n("cc1c").h)return e;const t=n("fLzW").i[e];if(t)return t;const a=n("fLzW").i[n("fLzW").f[e]];if(a)return a;const s=n("fLzW").i[n("fLzW").j[e]];return s||n("cc1c").h.SERVER_PURPLE},c=e=>{if(null===e)return n("fLzW").h[n("cc1c").d.PURPLE];if(e in n("cc1c").c)return e;const t=n("fLzW").h[e];if(t)return t;const a=n("fLzW").h[n("fLzW").k[e]];if(a)return a;const s=n("fLzW").h[n("fLzW").f[e]];return s||n("fLzW").h[n("cc1c").d.PURPLE]},d=(e,t)=>{const a=s()(s()({},n("fLzW").a),t);return(t?Object.keys(t).concat(Object.keys(n("cc1c").d)):Object.keys(n("cc1c").d)).reduce(((t,n)=>s()(s()({},t),{},{[n]:e(a[n])})),{})
},u=e=>n("fLzW").d[e]||n("fLzW").d.PURPLE,p=e=>o()(n("fLzW").d)[e]||"PURPLE",m=e=>""!==e&&null!=e&&n("fLzW").k[e]?n("fLzW").k[e]:"PURPLE",b=e=>n("fLzW").i[e],g=e=>""!==e&&null!=e&&n("fLzW").j[e]?n("fLzW").j[e]:"PURPLE",f=e=>n("fLzW").h[e],h=d((e=>e.primary)),E=()=>[{label:"purple",value:h[n("cc1c").d.PURPLE]},{label:"blue",value:h[n("cc1c").d.BLUE]},{label:"green",value:h[n("cc1c").d.GREEN]},{label:"teal",value:h[n("cc1c").d.TEAL]},{label:"yellow",value:h[n("cc1c").d.YELLOW]},{label:"orange",value:h[n("cc1c").d.ORANGE]},{label:"grey",value:h[n("cc1c").d.GREY]},{label:"darkPurple",value:h[n("cc1c").d.DARK_PURPLE]},{label:"darkBlue",value:h[n("cc1c").d.DARK_BLUE]},{label:"darkGreen",value:h[n("cc1c").d.DARK_GREEN]},{label:"darkTeal",value:h[n("cc1c").d.DARK_TEAL]},{label:"darkYellow",value:h[n("cc1c").d.DARK_YELLOW]},{label:"darkOrange",value:h[n("cc1c").d.DARK_ORANGE]},{label:"darkGrey",value:h[n("cc1c").d.DARK_GREY]}]},nwkT:function(e,t,n){
e.exports=n.p+"assets/cloud.45c69da8a128cc239c19035695bab30d.8.svg"},o3Xf:function(e,t,n){"use strict";const a=async(e,t)=>{const{errors:a,data:s}=await Object(n("tcin").a)(e).query({query:"\nquery CommentVisibilitiesQuery($issueKey: String!) {\n    viewIssue(issueKey: $issueKey) {\n        commentVisibilities {\n            type\n            value\n        }\n    }\n}\n",variables:{issueKey:t}});if(a)throw new Error("GraphqlErrorResponse");if(s&&s.viewIssue&&s.viewIssue.commentVisibilities){return(e=>e.map(n("0jFE").e))(s.viewIssue.commentVisibilities)}throw new Error("GraphqlNullData")};var s={fetch:()=>async({getState:e,setState:t},{issueKey:s,baseUrl:i,createAnalyticsEvent:o})=>{const r=e();if(!(r.loading||r.error||r.data)){t({loading:!0,error:null,data:null});try{const e=await a(i,s);t({loading:!1,error:null,data:{commentVisibilities:e}}),((e,t)=>{const a=e({action:"fetched"}),s={totalCount:t.length,roleCount:t.filter((e=>"role"===e.type)).length,
groupCount:t.filter((e=>"group"===e.type)).length};Object(n("yy8q").c)(a,"commentVisibilities fetched",s)})(o,e)}catch(l){(e=>{const t="GraphqlErrorResponse"===e.message||"GraphqlNullData"===e.message?e.message:"other";Object(n("be7s").a)("issue.fetch.comment-visibilities","An error occurred attempting to fetch comment visibilities from gira",e,{errorReason:t})})(l),t({loading:!1,error:l,data:null})}}}};t.a=Object(n("0b8M").a)({name:"issue-view-comment-visibilities",initialState:{data:null,loading:!1,error:null},actions:s})},oJcP:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return w}));var a=n("q1tI"),s=n.n(a),i=n("pVnL"),o=n.n(i);class r extends a.Component{constructor(...e){super(...e),this.ecosystemModalLinkRef=void 0,this.setEcosystemModalLinkRef=e=>{this.ecosystemModalLinkRef=e},this.clickEcosystemModalLinkRef=()=>{var e,t;null===(e=(t=this.props).onClick)||void 0===e||e.call(t,this.props.itemKey),
this.ecosystemModalLinkRef&&this.ecosystemModalLinkRef.click()},this.renderEcosystemModalLink=(e,t)=>s.a.createElement("a",{href:e,className:t,ref:this.setEcosystemModalLinkRef,display:"none"})}render(){const{id:e,linkText:t,tooltip:a,href:i,styleClass:o,setDropdownItemRef:r}=this.props;return s.a.createElement(n("ourr").a,{key:e,onClick:this.clickEcosystemModalLinkRef,title:a,innerRef:r},t,this.renderEcosystemModalLink(i,o))}}r.displayName="EcosystemWebItem",r.defaultProps={styleClass:null,tooltip:null};var l=n("QILm"),c=n.n(l),d=n("/MKj");const u=["onClick","execForgeAction","source","setDropdownItemRef","itemKey","label"],p=e=>{let{onClick:t,execForgeAction:i,source:o,setDropdownItemRef:r,itemKey:l,label:d}=e,p=c()(e,u);const m=Object(a.useCallback)((()=>{Object(n("LiY4").a)(o),i(p),null==t||t(l)}),[o,i,t,p,l]);return s.a.createElement(n("ourr").a,{key:p.id,onClick:m,innerRef:r},s.a.createElement(n("hd2M").a,{extensionName:p.title,extensionEnvType:p.extension.environmentType
}),s.a.createElement(n("W0w5").b,{attributes:{source:o}}))};p.displayName="ForgeActionView";const m=e=>s.a.createElement(n("Z6SX").a,{attributes:{source:e.source}},s.a.createElement(p,e));m.displayName="ForgeActionViewWithAnalytics";const b=Object(n("v5q+").a)([Object(d.connect)((e=>({source:Object(n("4dgq").b)(e)})),{execForgeAction:n("dlXB").c})])(m),g=e=>{if("FORGE_ENTITY_TYPE"===e.type){return(e=>({component:t=>s.a.createElement(n("ho8o").a,{packageName:"issue",id:"forge-items"},s.a.createElement(b,o()({},e,t))),eventName:e.id,key:e.id,isAllowed:!0,label:e.title}))(e)}return(e=>({component:t=>s.a.createElement(n("ho8o").a,{packageName:"issue",id:"connect-items"},s.a.createElement(r,o()({href:e.url,linkText:e.name,styleClass:e.styleClass,id:e.name,tooltip:e.tooltip},t))),eventName:e.name,key:e.name,isAllowed:!0,label:e.name}))(e)},f=({ecosystemActions:e})=>e.map(g).filter((e=>e.isAllowed)).reduce(((e,t)=>{if(t.component){const n=t,a=n.component,{key:s,label:i}=n;e.push({Component:a,
label:i,key:s})}return e}),[]);var h=n("JRPe"),E=Object(h.defineMessages)({addFlag:{id:"issue.flag.add",defaultMessage:"Add flag"},removeFlag:{id:"issue.flag.remove",defaultMessage:"Remove flag"},addFlagFailedTitle:{id:"issue.server-error-when-add-flag-title",defaultMessage:"We couldn't flag this issue"},addFlagFailedDescription:{id:"issue.server-error-when-add-flag-description",defaultMessage:"Check your connection and try adding the flag again."},removeFlagFailedTitle:{id:"issue.server-error-when-remove-flag-title",defaultMessage:"We couldn't remove the flag from this issue"},removeFlagFailedDescription:{id:"issue.server-error-when-remove-flag-description",defaultMessage:"Check your connection and try removing the flag again."}});const y=({onClick:e,itemKey:t,label:i,setDropdownItemRef:o})=>{const{createAnalyticsEvent:r}=Object(n("rZ/p").a)(),l=Object(n("ovRs").h)(),{showFlag:c}=Object(n("uS5k").f)(),d=Object(a.useCallback)(((e,t)=>{c({type:"error",
title:t?E.addFlagFailedTitle:E.removeFlagFailedTitle,description:t?E.addFlagFailedDescription:E.removeFlagFailedDescription})}),[c]),[u]=Object(n("UJwn").a)(l,"com.atlassian.jira.plugin.system.customfieldtypes:flagged"),[{value:p},{saveValue:m}]=Object(n("zyW1").a)({issueKey:l,fieldKey:u||"",onFailure:d}),b=Object(a.useCallback)((()=>{const a=r({}),s=Object(n("LL0x").b)(!p);m(s,null,a),null==e||e(t)}),[e,t,m,p,r]);return s.a.createElement(n("ourr").a,{key:"flagIssue",onClick:b,innerRef:o},i)};y.displayName="FlagIssueActionView";var O=y;const v=E.addFlag,j=E.removeFlag,I=({onLogTimeClick:e,onClick:t,label:i,setDropdownItemRef:o,itemKey:r})=>{const l=Object(a.useCallback)((()=>{e(),null==t||t(r)}),[e,t,r]);return s.a.createElement(n("ourr").a,{key:"LogTimeActionView",onClick:l,innerRef:o},i)};I.displayName="LogWorkView";const C=Object(d.connect)(null,(e=>({onLogTimeClick:()=>{e(Object(n("M+5/").L)("ADD_MODAL",null))}})))(I),S=n("KcFa").a.logWork,k=(e,t)=>({name:"",
key:"AddToIssueDropdownGroup",items:e.reduce(((e,{Component:n,label:a,key:i})=>(n&&e.push(s.a.createElement(n,{label:a,key:i,itemKey:i,onClick:t})),e)),[])}),w=e=>{const{formatMessage:t}=Object(n("NRyt").d)(),s=Object(n("ovRs").a)(),i=Object(n("ovRs").h)(),o=Object(n("ovRs").j)(),{issueActions:r}=Object(n("IFiJ").b)(o),[l]=Object(n("AJ6X").d)(o),[c]=Object(n("MoW5").a)(i,"timetracking"),d=c.value,[u]=Object(n("uC67").c)(),[p]=Object(n("UJwn").a)(i,"com.atlassian.jira.plugin.system.customfieldtypes:flagged"),[{value:m}]=Object(n("zyW1").a)({issueKey:i,fieldKey:p||""}),b=Object(a.useMemo)((()=>l.canEditIssues&&!(null==r||!r.includes("flagActions"))),[l,r]),g=Object(a.useMemo)((()=>s!==n("wpii").a.MOBILE_ISSUE&&l.canLogWork&&!!d&&u.isTimeTrackingEnabled),[s,l,d,u]);return Object(a.useMemo)((()=>[...g?[{Component:C,label:t(S),key:"logWork"}]:[],...b?[{Component:O,label:t(m?j:v),key:"flagIssue"}]:[],...f({ecosystemActions:e})]),[g,e,m,t,b])}},oJkA:function(e,t,n){"use strict"
;var a=n("JRPe");t.a=Object(a.defineMessages)({activeSprints:{id:"issue-field-sprint.common.active-sprints",defaultMessage:"Active"},futureSprints:{id:"issue-field-sprint.common.future-sprints",defaultMessage:"Future"},recentSprints:{id:"issue-field-sprint.common.recent-sprints",defaultMessage:"Recent sprints"}})},oUkA:function(t,n,a){"use strict";var s=a("pVnL"),i=a.n(s),o=a("q1tI"),r=a.n(o),l=a("JRPe"),c=a("/MKj"),d=a("56YH"),u=a.n(d),p=a("vN+2"),m=a.n(p),b=a("vOnD");const g=b.default.div.withConfig({componentId:"sc-157n3v9-0"})`[class*='CompactWrapper']{margin-bottom:${2*a("ZpU/").e}px;}`;var f=a("peh1");const h=Object(f.createSelector)(a("4dgq").v,a("/LFc").D,((e,t)=>({objectId:e,containerId:t}))),E=Object(f.createSelector)(a("/LFc").d,(e=>e&&e.tabs||{})),y=e=>Object(f.createSelector)(E,(t=>Boolean(Object.keys(t).find((n=>t[n].items.find((t=>t.id===e))))))),O=b.default.div.withConfig({componentId:"sc-1oys0dl-0"
})`${e=>e.isEditing?"":`\n        & ${Object(a("d90y").isInlineEditBumpEnabled)()?"form > div > div > div":"> div > div > div > div > div"} {\n            min-height: 32px !important;\n        }\n        ${Object(a("d90y").isInlineEditBumpEnabled)()?"":"& > div > div > div > div > div > div{padding: 0 6px;}"}\n    `} margin-bottom:${e=>!0!==e.isGrouped?3*a("ZpU/").e:0}px;`,v=e=>r.a.createElement(O,{isEditing:e.isEditing,isGrouped:e.isGrouped,"data-testid":e["data-testid"]},Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(a("JZTM").a,e):r.a.createElement(a("eJ3Z").a,e));v.displayName="CompactInlineEditStateless";var j=v,I=Object(l.defineMessages)({nonEditablePlaceholderText:{id:"issue.views.field.rich-text.nonEditablePlaceholderText",defaultMessage:"None"}}),C=a("6xe2");const S=b.default.div.withConfig({componentId:"sc-7s6a95-0"})`width:100%;`,k=Object(C.h)((()=>a.e("async-editor-view").then(a.bind(null,"lRD8"))),{
moduleId:"./src/packages/issue/issue-view/src/common/component/editor/index.js"});class w extends o.Component{render(){const e=r.a.createElement(a("9PSx").b,{useDeprecatedGetScrollParent:!0,mediaContext:this.props.mediaContext,defaultValue:this.props.value});return r.a.createElement(S,{"data-test-id":"issue.views.field.rich-text.editor-container"},r.a.createElement(a("9PSx").a,{packageName:"issue",fallback:e},r.a.createElement(k,{baseUrl:this.props.baseUrl,portalElement:this.props.portalElement,mediaContext:this.props.mediaContext,mentionProvider:this.props.mentionProvider,contextIdentifier:this.props.contextIdentifier,mentionEncoder:this.props.mentionEncoder,activityProvider:this.props.activityProvider,emojiProvider:this.props.emojiProvider,externalId:this.props.externalId,defaultValue:this.props.value,onCancel:this.props.onCancel,onBlur:this.props.onBlur,onSave:this.props.onSave,onChange:this.props.onChange,isDisabled:this.props.isDisabled,isInvalid:this.props.isInvalid,
isExpanded:this.props.isExpanded,shouldFocus:this.props.shouldFocus,onSaveFailure:this.props.onSaveFailure,onChangeFailure:this.props.onChangeFailure,onPaste:this.props.onPaste})))}}w.displayName="RichTextFieldView",w.displayName="RichTextFieldView",w.defaultProps={isDisabled:!1,isInvalid:!1,isExpanded:!1,shouldFocus:!1,value:null,mediaContext:null,mentionEncoder:null,emojiProvider:null,onPaste:m.a};const T=b.default.div.withConfig({componentId:"sc-9qk4vv-0"})`width:100%;`,D=b.default.div.withConfig({componentId:"sc-9qk4vv-1"})`width:100%;& div[data-read-view-fit-container-width]{margin-left:-${a("ZpU/").e}px;margin-top:-${a("ZpU/").e}px;display:flex;align-items:center;word-break:break-word;padding:0 ${.75*a("ZpU/").e}px;}`,R=["isEditable","isEditing","externalId","noValueText","mediaContext","adfValue"];class L extends o.Component{constructor(...e){super(...e),this.onMouseDownEditView=()=>{this.mouseDownSelection=window.getSelection().toString()},this.onEditRequested=()=>{
const e=window.getSelection().toString(),t=e&&0!==e.length,n=this.mouseDownSelection&&0!==this.mouseDownSelection.length;t||n||this.props.onEditRequest()},this.getEditValue=()=>this.props.adfValue,this.getNonEditablePlaceholderText=()=>this.props.intl.formatMessage(I.nonEditablePlaceholderText),this.mouseDownSelection=void 0,this.renderContent=()=>r.a.createElement(T,null,r.a.createElement(a("cAiP").a,{mediaContext:this.props.mediaContext,mentionEncoder:this.props.mentionEncoder,mentionProvider:this.props.mentionProvider,contextIdentifier:this.props.contextIdentifier,adf:Object(a("IJwP").i)(this.props.adfValue),placeholder:this.props.isEditable?this.props.noValueText:this.getNonEditablePlaceholderText()})),this.renderEditView=()=>r.a.createElement(w,{baseUrl:this.props.baseUrl,mediaContext:this.props.mediaContext,portalElement:this.props.portalElement,mentionProvider:this.props.mentionProvider,mentionEncoder:this.props.mentionEncoder,contextIdentifier:this.props.contextIdentifier,
activityProvider:this.props.activityProvider,externalId:this.props.externalId,isDisabled:void 0,isExpanded:!0,shouldFocus:!0,value:this.getEditValue(),onCancel:this.props.onCancel,onChange:this.props.onChange,onBlur:this.props.onBlur,onSave:this.props.onConfirm,onSaveFailure:this.props.onSaveFailure,onChangeFailure:this.props.onChangeFailure,onPaste:this.props.onPaste})}componentDidMount(){this.props.onExperienceSuccess()}shouldComponentUpdate(e){return!R.every((t=>this.props[t]===e[t]))}renderReadView(){const{intl:e,isEditable:t,isMobile:n,fieldId:s,label:i}=this.props;return r.a.createElement("div",{onMouseDown:this.onMouseDownEditView,role:"presentation","data-test-id":`issue.views.field.rich-text.${s}`},Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(D,null,r.a.createElement(j,{readView:this.renderContent||null,isEditing:!1,isEditable:t,editButtonLabel:e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:i}),
confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:i}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:i}),onEdit:this.onEditRequested,editView:t?()=>r.a.createElement("div",null):null,onConfirm:m.a,onCancel:m.a,readViewFitContainerWidth:!n})):r.a.createElement(j,{label:"",isLabelHidden:!0,readView:this.renderContent(),onEditRequested:this.onEditRequested,isEditing:!1,editButtonLabel:e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:i}),confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:i}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:i}),editView:t?r.a.createElement("div",null):null,onConfirm:m.a,onCancel:m.a,isFitContainerWidthReadView:!n}))}render(){return this.props.isEditing?this.renderEditView():this.renderReadView()}}L.displayName="RichTextInlineEditView",L.displayName="RichTextInlineEditView",L.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,label:"",
adfValue:void 0,contextIdentifier:void 0,onExperienceSuccess:m.a};var M=Object(l.injectIntl)(L);const A=Object(l.defineMessages)({noValueText:{id:"issue.placeholder-for-empty-issue-description-field",defaultMessage:"Add a description..."}}),_=e=>{const{onEditRequest:t,onConfirm:n,isEditing:s}=e;Object(o.useEffect)((()=>{s?Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.DESCRIPTION.TIME_TO_RENDER_EDIT_VIEW}):(Object(a("B2Rg").b)().markTimeToFeedback({key:a("/kYB").a.DESCRIPTION.TIME_TO_SAVE_UPDATED_DESCRIPTION}),Object(a("B2Rg").b)().markTimeToFeedback({key:a("/kYB").a.DESCRIPTION.TIME_TO_SAVE_UNCHANGED_DESCRIPTION}))}),[s]);const l=Object(o.useCallback)((()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.DESCRIPTION.TIME_TO_RENDER_EDIT_VIEW,cancelExisting:!0}),t()}),[t]),c=Object(o.useCallback)((()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.DESCRIPTION.TIME_TO_SAVE_UPDATED_DESCRIPTION,cancelExisting:!0}),
Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.DESCRIPTION.TIME_TO_SAVE_UNCHANGED_DESCRIPTION,cancelExisting:!0}),n()}),[n]);return r.a.createElement(M,i()({},e,{onEditRequest:l,onConfirm:c}))};_.displayName="DescriptionField";var N=u()(Object(a("U9/e").b)("description"),Object(a("/cyb").a)((()=>({fieldId:"description",shouldSaveDraft:!0,isOptimistic:!0,saveField:({baseUrl:e,issueKey:t,value:n})=>((e,t,n)=>{const s=`${e}/rest/internal/3/issue/${t}/description`,i=JSON.stringify(n);return Object(a("/rpS").e)(s,{body:i})})(e,t,n),canContainMediaContent:!0,onSaveFailureFlagType:a("AmUS").D,additionalProps:(e,t)=>{const n=Object(a("4dgq").f)(e);return{baseUrl:n,portalElement:y("description")(e)?Object(a("tpMn").b)()||document.body:void 0,adfValue:Object(a("KSj7").h)("description")(e),htmlValue:Object(a("KSj7").j)("description")(e),isInvalid:Object(a("KSj7").l)("description")(e),invalidMessage:Object(a("KSj7").k)("description")(e),mediaContext:Object(a("gjKp").a)(e),
mentionProvider:Object(a("K/wP").a)(e),contextIdentifier:h(e),mentionEncoder:Object(a("zlLD").a)(n),activityProvider:Object(a("NMw1").a)(e),externalId:"issue.descriptionHtml",noValueText:t.formatMessage(A.noValueText)}},additionalCallbacks:e=>({onExpandedFailure:()=>e(Object(a("jCiC").b)()),onSaveFailure:()=>e(Object(a("jCiC").c)()),onChangeFailure:()=>e(Object(a("jCiC").a)())})}))))(_);const x=e=>{const{area:t="context",fieldId:n,hasDraft:s,isEditing:i,isWaiting:l,onExperienceSuccess:c=m.a}=e,d=Object(a("ovRs").h)(),[{value:u}]=Object(a("MoW5").a)(d,"description"),p=null==u?void 0:u.title,b=Object(a("NRyt").d)(),f="content"===t?a("vPcr").c:a("gEry").e,h="content"===t?a("vPcr").e:a("gEry").f,E=Object(a("NSuG").a)(t);return Object(o.useEffect)((()=>{c()}),[]),r.a.createElement(g,null,r.a.createElement(f,null,r.a.createElement(a("vPcr").b,{isFieldDescriptionEnabled:Object(a("lZDY").a)()
},r.a.createElement(h,null,p),!s||i||l?null:r.a.createElement(a("vPcr").a,null,`\u2022 ${b.formatMessage(a("R0fY").a.draftIndicator)}`),!0===E&&r.a.createElement(a("UOlw").a,{fieldId:n,label:p}))),r.a.createElement(N,null))};x.displayName="Description";const U=e=>r.a.createElement(a("ho8o").a,{prefixOverride:"issue",id:"Description"},r.a.createElement(a("2X9E").d,{location:"description-container"},(({onExperienceSuccess:t})=>r.a.createElement(x,i()({onExperienceSuccess:t},e)))));U.displayName="DescriptionWrapper";class F extends o.Component{componentDidMount(){this.props.onExperienceSuccess()}componentDidUpdate(e){const{isEditing:t,isWaiting:n,hasDraft:s}=this.props,i=!(e.isEditing||t||n||s),o=i&&e.hasDraft&&!e.isWaiting,r=i&&!e.hasDraft&&e.isWaiting;o?Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.DESCRIPTION.TIME_TO_SAVE_UPDATED_DESCRIPTION}):r&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.DESCRIPTION.TIME_TO_SAVE_UNCHANGED_DESCRIPTION})}render(){
const{area:e,label:t,fieldId:n,hasDraft:s,isEditing:i,isWaiting:o,intl:l}=this.props,c="content"===e?a("vPcr").c:a("gEry").e,d="content"===e?a("vPcr").e:a("gEry").f,u=Object(a("NSuG").a)(e);return r.a.createElement(g,null,r.a.createElement(c,null,r.a.createElement(a("vPcr").b,{isFieldDescriptionEnabled:Object(a("lZDY").a)()},r.a.createElement(d,null,t),!s||i||o?null:r.a.createElement(a("vPcr").a,null,`\u2022 ${l.formatMessage(a("R0fY").a.draftIndicator)}`),!0===u&&r.a.createElement(a("UOlw").a,{fieldId:n,label:t}))),r.a.createElement(N,null))}}F.displayName="DescriptionOld",F.defaultProps={area:"context",onExperienceSuccess:m.a},F.displayName="Description";var P=Object(a("5WHm").a)(a("d90y").isDescriptionHOCAndClassComponentMigrationEnabled,Object(c.connect)((e=>({hasDraft:Object(a("UZ8N").a)("description")(e),isEditing:Object(a("KSj7").H)("description")(e),isWaiting:Object(a("KSj7").J)("description")(e)
})),{})(U),u()(l.injectIntl,Object(a("CVeC").c)("description-container"),Object(a("U9/e").b)("description"),Object(a("YNh8").a)(),Object(c.connect)((e=>({label:Object(a("KSj7").n)("description")(e),hasDraft:Object(a("UZ8N").a)("description")(e),isEditing:Object(a("KSj7").H)("description")(e),isWaiting:Object(a("KSj7").J)("description")(e)})),{}),Object(a("YNh8").a)())(F));const V=b.default.div.withConfig({componentId:"sc-1g0dja4-0"})`${Object(a("gVzX").f)("textarea")};`,K=e=>{const t=(e=>e?e.split(/\r\n|\r|\n/).length:0)(e.value),n=e.scrollRows||t,s="content"===e.area?20:5,i=Math.min(s,Math.max(2,n));return r.a.createElement(V,null,r.a.createElement(a("TnKB").a,{value:e.value,onChange:t=>{e.onChange(t.target.value)},isInvalid:!!e.invalidMessage,invalidMessage:e.invalidMessage,shouldFitContainer:!0,autoFocus:!0,isLabelHidden:!0,label:"",minimumRows:i}))};K.displayName="TextAreaField",K.defaultProps={value:"",invalidMessage:null,scrollRows:null,area:"context"},
K.displayName="TextAreaField";var $=K;const W=b.default.div.withConfig({componentId:"j9gtb9-0"})`[class*='CompactWrapper'] > *{margin-left:0;}[class*='ContentWrapper']{padding-left:0;padding-right:0;}`,B=Object(b.default)(W).withConfig({componentId:"j9gtb9-1"})`[class*='CompactWrapper']{margin-bottom:${2*a("ZpU/").e}px;}`,q=b.default.div.withConfig({componentId:"j9gtb9-2"})`width:100%;& div[data-read-view-fit-container-width]{margin-left:-${a("ZpU/").e}px;margin-top:-${a("ZpU/").e}px;display:flex;align-items:center;word-break:break-all;padding:0 ${.75*a("ZpU/").e}px;}`,H=b.default.div.withConfig({componentId:"j9gtb9-3"})`padding:0 6px;`;class G extends o.Component{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e)},this.onConfirm=()=>{const{value:e}=this.props;Object(a("d90y").is2afErrorCleanupGroup1Enabled)()?null!==e&&this.props.onChange(Object(a("IJwP").j)(e)):this.props.onChange(Object(a("IJwP").j)(e)),this.props.onConfirm()},this.readView=void 0}
renderReadView(){const{value:e,noValueText:t,area:n}=this.props;return e&&0!==e.trim().length?"content"===n||"content-request"===n?r.a.createElement(a("gVzX").d,{innerRef:e=>{this.readView=e}},e&&Object(a("IJwP").j)(e)):r.a.createElement(a("gVzX").c,{innerRef:e=>{this.readView=e},maxRows:5},e):Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(H,null,r.a.createElement(a("gVzX").b,null,t)):r.a.createElement(a("gVzX").b,null,t)}renderEditView(){let e;if(this.readView){const{scrollHeight:t}=this.readView,n=window.getComputedStyle(this.readView),a=Number.parseFloat(n.getPropertyValue("line-height"));e=Math.round(t/a)}return r.a.createElement($,{value:this.props.value,onChange:this.onChange,invalidMessage:this.props.invalidMessage,scrollRows:e,area:this.props.area})}getField(){return Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(a("iAtd").a,{onEscape:this.props.onCancel},r.a.createElement(q,null,r.a.createElement(j,{isLabelHidden:!0,label:this.props.label,
isEditable:this.props.isEditable,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:this.props.isEditing,onConfirm:this.onConfirm,onCancel:this.props.onCancel,onEditRequested:this.props.onEditRequest,isFitContainerWidthReadView:!0,isConfirmOnBlurDisabled:this.props.isConfirmOnBlurDisabled,editButtonLabel:this.props.intl.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:this.props.intl.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:this.props.intl.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:this.props.label})}))):r.a.createElement(a("iAtd").a,{onEscape:this.props.onCancel},r.a.createElement(j,{isLabelHidden:!0,label:this.props.label,readView:this.renderReadView(),editView:this.props.isEditable?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:this.props.isEditing,onConfirm:this.onConfirm,
onCancel:this.props.onCancel,onEditRequested:this.props.onEditRequest,isFitContainerWidthReadView:!0,isConfirmOnBlurDisabled:this.props.isConfirmOnBlurDisabled,editButtonLabel:this.props.intl.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:this.props.label}),confirmButtonLabel:this.props.intl.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:this.props.label}),cancelButtonLabel:this.props.intl.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:this.props.label})}))}render(){const{area:e,fieldId:t,label:n,issueKey:s}=this.props,i="context"===e?B:W,o=Object(a("NSuG").a)(e);return r.a.createElement(i,null,"content"===e?r.a.createElement(a("vPcr").c,{leftAlign:!!Object(a("d90y").isFieldDescriptionEnabled)()||void 0,isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("vPcr").e,null,n),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==s&&void 0!==t&&r.a.createElement(a("n7/x").a,{issueKey:s,fieldKey:t
})):r.a.createElement(a("gEry").e,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").f,null,n),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==s&&void 0!==t&&r.a.createElement(a("n7/x").a,{issueKey:s,fieldKey:t}),!0===o&&r.a.createElement(a("UOlw").a,{fieldId:t,label:n})),this.getField())}}G.displayName="TextAreaInlineEditView",G.displayName="TextAreaInlineEditView",G.defaultProps={isEditable:!1,isEditing:!1,isConfirmOnBlurDisabled:!1,value:"",label:"",noValueText:null,invalidMessage:null};var Y=Object(l.injectIntl)(G),Z=Object(l.defineMessages)({noValue:{id:"issue.common.multi-line-text.text-for-edit-view-when-no-value-is-provided",defaultMessage:"None"}}),X=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,additionalProps:(e,n)=>({noValueText:n.formatMessage(Z.noValue),area:t.area})})))(Y),J=a("QILm"),z=a.n(J);const Q=Object(l.defineMessages)({noValueText:{id:"issue.multiline-field.empty-placeholder",defaultMessage:"None"}
}),ee=["label","area","hasDraft","isEditing","containerWidth","issueKey"],te=e=>{const{label:t,area:n,hasDraft:s,isEditing:o,containerWidth:l,issueKey:c}=e,d=z()(e,ee),u=Object(a("NRyt").d)(),p=s&&!o,m="content"===n?a("vPcr").c:a("gEry").e,b="content"===n?a("vPcr").e:a("gEry").f,f=Object(a("NSuG").a)(n);return r.a.createElement(g,null,r.a.createElement(m,null,r.a.createElement(a("vPcr").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(b,null,t),!0===p?r.a.createElement(a("vPcr").a,null,`\u2022 ${u.formatMessage(a("R0fY").a.draftIndicator)}`):null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==c&&void 0!==e.fieldId&&r.a.createElement(a("n7/x").a,{issueKey:c,fieldKey:e.fieldId}),!0===f&&r.a.createElement(a("UOlw").a,{fieldId:e.fieldId,label:t}))),r.a.createElement(M,i()({isEditing:o,label:t},d)))};te.displayName="MultilineField";var ne=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,shouldSaveDraft:!0,isOptimistic:!0,
saveField:({baseUrl:e,issueKey:n,value:s})=>((e,t,n,s)=>{const i=`${e}/rest/api/3/issue/${t}`;return Object(a("/rpS").e)(i,{body:JSON.stringify({fields:{[n]:s}})})})(e,n,t.fieldId,s),canContainMediaContent:!0,onSaveFailureFlagType:a("AmUS").D,additionalProps:(e,n)=>{const s=Object(a("4dgq").f)(e);return{baseUrl:s,portalElement:y(t.fieldId)(e)?Object(a("tpMn").b)()||document.body:void 0,adfValue:Object(a("KSj7").h)(t.fieldId)(e),hasDraft:Object(a("UZ8N").a)(t.fieldId)(e),htmlValue:Object(a("KSj7").j)(t.fieldId)(e),isInvalid:Object(a("KSj7").l)(t.fieldId)(e),invalidMessage:Object(a("KSj7").k)(t.fieldId)(e),mediaContext:Object(a("gjKp").a)(e),mentionProvider:Object(a("K/wP").a)(e),mentionEncoder:Object(a("zlLD").a)(s),activityProvider:Object(a("NMw1").a)(e),externalId:`issue.${t.fieldId}`,noValueText:n.formatMessage(Q.noValueText),area:t.area}},additionalCallbacks:e=>({onExpandedFailure:()=>e(Object(a("jCiC").b)()),onSaveFailure:()=>e(Object(a("jCiC").c)()),
onChangeFailure:()=>e(Object(a("jCiC").a)())})})))(Object(a("Hxd8").a)(te));var ae=Object(c.connect)(((e,t)=>({isRichTextField:Object(a("KSj7").M)(t.fieldId)(e)})),{})((e=>{const{isRichTextField:t,fieldId:n,area:a="context"}=e;return t?r.a.createElement(ne,{fieldId:n,area:a}):r.a.createElement(X,{fieldId:n,area:a})})),se=a("44Ds"),ie=a.n(se);const oe=(e,t,n,s,i,o)=>{if(null==e)return;const r="access",l="fieldPrefetchCache",c=e({action:r,actionSubject:l,actionSubjectId:s}),d={fieldSelectionSessionId:s,fieldFetchSessionId:o,prefetchSessionId:n,cacheHit:t,fieldId:i};Object(a("yy8q").b)(c,`${l} access`,s,d)},re=(e,t,n,a,s)=>oe(e,!0,t,n,s,a),le=(e,t,n,a)=>oe(e,!1,t,n,a);var ce=a("3tO9"),de=a.n(ce);var ue=a("J2iB"),pe=a.n(ue),me=b.default.div.withConfig({componentId:"sc-1d5xvfw-0"})`padding-right:${a("ZpU/").e}px;padding-top:1px;& span[role='img']{background-color:${a("5kDX").a.N30} !important;}`,be=b.default.div.withConfig({componentId:"sc-1m8b9bi-0"
})`align-items:center;display:flex;padding-top:1px;`;const ge=b.css`${""} & > div{margin-top:10px;margin-bottom:0;}${""} ${be}{height:auto;padding-top:1px;padding-left:0;line-height:1;}`;var fe=b.default.div.withConfig({componentId:"sc-1ooq0cf-0"})`width:100%;margin-left:-8px;margin-top:-8px;& form > div > div > div{height:32px;}${({isEditable:e})=>!e&&ge}`,he=Object(l.defineMessages)({invitePeopleOption:{id:"issue.assignee.invite-people-option",defaultMessage:"Add teammate to Jira"},invitePeopleOptionAdmin:{id:"issue.assignee.invite-people-option-admin",defaultMessage:"Invite teammate to Jira"}});class Ee extends o.Component{constructor(...e){super(...e),this.shouldTrackAssigneeInteractions=()=>"assignee"===this.props.fieldId,this.onChange=e=>{this.shouldTrackAssigneeInteractions()&&Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ASSIGNEE.TIME_TO_REFLECT_SELECTED,cancelExisting:!0}),this.props.onChange(e)},this.onDataRequest=e=>{
!0!==e&&this.shouldTrackAssigneeInteractions()&&Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ASSIGNEE.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},this.onDataLoaded=(e=!0,t=0)=>{this.shouldTrackAssigneeInteractions()&&Object(a("B2Rg").b)().markTimeToFinishTask({key:e?a("/kYB").a.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS:a("/kYB").a.ASSIGNEE.TIME_TO_REFLECT_INPUT_RESULT,collectors:[e=>de()(de()({},e),{},{resultsLength:t})]})},this.onEditRequested=()=>{this.shouldTrackAssigneeInteractions()&&Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0}),this.props.onEditRequest()},this.renderReadViewWithContentWrapper=()=>{const e=this.props.fieldContentWrapper;return pe()(e)?this.renderReadView():r.a.createElement(e,null,this.renderReadView())},this.renderEditView=()=>{
const{portalElement:e,emptyOption:t,initialOptions:n,fetchSuggestions:s,fieldId:i,value:o,onCancel:l,onConfirm:c,enablePeopleInvite:d}=this.props,u={portalElement:e,emptyOption:t,initialOptions:n,fetchSuggestions:s,fieldId:i,value:o,onCancel:l,onSelection:c,width:"100%",onDataRequest:this.onDataRequest,onDataLoaded:this.onDataLoaded,onChange:this.onChange,enablePeopleInvite:d,invitePeopleOption:!0===d?this.getInvitePeopleOption():null};return r.a.createElement(a("0mV2").a,u)}}componentDidUpdate(e){if(this.shouldTrackAssigneeInteractions()){const{value:t,isEditing:n}=this.props;!1===e.isEditing&&!1===n&&e.value!==t&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.ASSIGNEE.TIME_TO_ASSIGN_TO_ME_VIA_SHORTCUT});e.isEditing&&!n&&e.value!==t&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.ASSIGNEE.TIME_TO_REFLECT_SELECTED});!e.isEditing&&n&&setTimeout((()=>{Object(a("B2Rg").b)().markTimeToFeedback({key:a("/kYB").a.ASSIGNEE.TIME_TO_RENDER_INITIAL_SUGGESTIONS})}),0)}}
getActions(){const{fieldId:e}=this.props;return"reporter"===e?[a("+So0").c,a("+So0").b]:"assignee"===e?[a("+So0").c,a("+So0").a]:void 0}getInvitePeopleOption(){const{intl:e}=this.props,{isAdmin:t}=Object(a("S57X").h)();return{name:e.formatMessage(t?he.invitePeopleOptionAdmin:he.invitePeopleOption),avatarUrl:a.n(a("mGlI")).a}}renderReadView(){const{customReadView:e}=this.props;if(e)return e(this.props.value);const t=this.props.value||this.props.emptyOption||{avatarUrl:"",name:""};return r.a.createElement(a("4TJK").a,{userAccount:t,analyticsData:{trigger:this.props.fieldId},position:"left-start",actions:this.getActions()},r.a.createElement(be,null,r.a.createElement(me,null,r.a.createElement(a("1JKq").a,{borderColor:"transparent",src:t.avatarUrl,size:"small"})),t.name))}getEditButtonLabel(){const{intl:e,label:t,value:n,emptyOption:s,isEditable:i}=this.props;return i?null!=n&&n.name?e.formatMessage(a("n2YX").a.extendedEditButtonLabel,{inputFieldValue:n.name,fieldName:t
}):null!=s&&s.name?e.formatMessage(a("n2YX").a.extendedEditButtonLabel,{inputFieldValue:s.name,fieldName:t}):e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:t}):e.formatMessage(a("n2YX").a.disabledEditButtonLabel,{fieldName:t})}render(){const{intl:e,label:t,isEditing:n,isEditable:s,isMobile:i,invalidMessage:o,fieldId:l,titleView:c=this.props.label,showPinButton:d,onCancel:u,customReadView:p,issueKey:b}=this.props;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==b&&void 0!==l&&r.a.createElement(a("n7/x").a,{issueKey:b,fieldKey:l}),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:l,label:t}))},r.a.createElement(a("gEry").c,null,c)):r.a.createElement(a("HlSV").a,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,c),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==b&&void 0!==l&&r.a.createElement(a("n7/x").a,{issueKey:b,fieldKey:l}),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:l,label:t})),r.a.createElement(a("gEry").g,{isEditing:n,"data-test-id":`issue.views.field.user.${l}`,fixedHeight:!p,hasTooltip:!0},null!=o?r.a.createElement(a("LDCv").a,{key:`${l}-error-message`},o):null,r.a.createElement(a("Yto1").a,{content:s?null:e.formatMessage(a("n2YX").a.disabledReporterTooltip,{fieldName:t}),position:"mouse"},r.a.createElement(a("iAtd").a,{onEscape:u},Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(fe,{isEditable:s},r.a.createElement(a("JZTM").a,{editView:s?this.renderEditView:()=>null,readView:this.renderReadViewWithContentWrapper,hideActionButtons:!0,isEditing:n,isEditable:s,onEdit:this.onEditRequested,readViewFitContainerWidth:!i,
editButtonLabel:this.getEditButtonLabel(),confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:t})})):r.a.createElement(a("eJ3Z").a,{editView:s?this.renderEditView():null,readView:this.renderReadViewWithContentWrapper(),areActionButtonsHidden:!0,disableEditViewFieldBase:!0,shouldConfirmOnEnter:!0,isEditing:n,isInvalid:!!o,invalidMessage:o,isLabelHidden:!0,label:t,onCancel:m.a,onConfirm:m.a,onEditRequested:this.onEditRequested,onFocus:m.a,isFitContainerWidthReadView:!i,editButtonLabel:this.getEditButtonLabel(),confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:t})})))))}}Ee.displayName="UserInlineEditView",Ee.displayName="UserInlineEditView",Ee.defaultProps={isMobile:!1,label:"",initialOptions:[],emptyOption:null,invalidMessage:null,value:null};var ye=Object(l.injectIntl)(Ee)
;const Oe=e=>e?(e=>({avatarUrl:e.avatarUrls&&e.avatarUrls["48x48"],id:e.accountId,name:e.displayName,byline:e.emailAddress}))(e):null,ve=e=>e?(e=>({avatarUrls:{"48x48":e.avatarUrl},displayName:e.name,accountId:e.id}))(e):null,je=["createAnalyticsEvent","getDefaultOptions","initFieldOptions","intl","issueKey","loggedInUser"],Ie=Object(l.defineMessages)({assignToMe:{id:"issue.assignee.text-for-logged-in-user",defaultMessage:"Assign to me"},unassignedOption:{id:"issue.assignee.text-when-no-value-is-provided",defaultMessage:"Unassigned"},automaticOption:{id:"issue.assignee.text-for-automatic-assignee",defaultMessage:"Automatic"}}),Ce=e=>e&&e.accountId,Se=Object(a("Wwog").a)((e=>({avatarUrl:"",name:e(Ie.unassignedOption)}))),ke=Object(a("Wwog").a)(((e,t)=>e?[{avatarUrl:e.avatarUrl,id:e.id,name:e.displayName,displayName:t(Ie.assignToMe)}]:[])),we=Object(a("Wwog").a)(((e,t)=>e?[{avatarUrl:"",id:-1,name:t(Ie.automaticOption),displayName:t(Ie.automaticOption)
}]:[])),Te=Object(a("Wwog").a)(((e,t)=>e?[{avatarUrl:"",id:null,name:t(Ie.unassignedOption),displayName:t(Ie.unassignedOption)}]:[])),De=Object(a("Wwog").a)(((e,t,n,a)=>[...!Boolean(t&&e&&e.id===t.accountId)&&a?ke(e,n):[],...t?Te(e,n):[],...we(e,n)])),Re=(e,t)=>!!e&&t.toLowerCase().startsWith(e.toLowerCase()),Le=Object(a("Wwog").a)(((e,t)=>Object(a("Wwog").a)((n=>{const a=Re(n,t(Ie.assignToMe));return[...Re(n,t(Ie.unassignedOption))?Te(e,t):[],...a?ke(e,t):[],...Re(n,t(Ie.automaticOption))?we(e,t):[]]})))),Me=Object(a("Wwog").a)(((e,t,n,s)=>(i,o)=>{if(!e)return Promise.resolve([]);const r=((e,t)=>Object(a("Wwog").a)((n=>{const a=Re(n,t(Ie.assignToMe));return[...Re(n,t(Ie.unassignedOption))?Te(e,t):[],...a?ke(e,t):[],...Re(n,t(Ie.automaticOption))?we(e,t):[]]})))(t,n)(i),l=null!=o?`&sessionId=${o}`:"",c=a("SHpS").d.now(),d=i.length;return Object(a("QNWr").a)(`${e}${i}${l}`).then((e=>{Object(a("fjz3").b)("assignee",c,s,{sessionId:o,queryLength:d});const t=e.map(Oe).filter(Boolean)
;return[...r,...t]})).catch((e=>{throw Object(a("fjz3").a)("assignee",c,s,{sessionId:o}),e}))})),Ae=ie()(((e,t)=>(n,s)=>{if(!n&&null!=e){const{prefetchSessionId:i,prefetched:o,fieldValuePromise:r,sessionId:l}=e,{createAnalyticsEvent:c}=t;if(o&&null!==r&&null!==l){const e=t.getDefaultOptions(n);re(c,i,s||"",l,"assignee");const o=a("SHpS").d.now();return r.then((t=>{Object(a("fjz3").b)("assignee",o,c,{sessionId:s,isPrefetched:!0,queryLength:0});const n=t.map(Oe).filter(Boolean);return[...e,...n]})).catch((e=>{throw Object(a("fjz3").a)("assignee",o,c,{sessionId:s,isPrefetched:!0}),e}))}return le(c,i,s||"","assignee"),t.fetchSuggestions(n,s)}return t.fetchSuggestions(n,s)}),((e,t)=>`${e&&e.prefetchSessionId||""}_${t.issueKey}`)),_e=e=>{Object(o.useLayoutEffect)((()=>e.initFieldOptions()),[]);const t=Object(o.useRef)(null);Object(o.useEffect)((()=>{t.current&&e.isEditing&&Object(a("eS/l").a)(t.current)}),[e.isEditing]);const[{value:n}]=Object(a("pncN").a)({issueKey:e.issueKey
}),s=Object(a("ovRs").j)(),[{canBeAssignedToIssues:l,canAssignIssues:c}]=Object(a("AJ6X").d)(s),d=!!c,{formatMessage:u}=Object(a("NRyt").d)(),p=De(e.loggedInUser,n,u,!!l),m=Object(o.useCallback)((()=>{const t=Object(a("ShTA").a)(e.issueKey,"assignee");return r.a.createElement(t,{fieldId:"assignee"},(t=>{const a=Ae(t,e),{createAnalyticsEvent:s,getDefaultOptions:o,initFieldOptions:l,intl:c,issueKey:m,loggedInUser:b}=e,g=z()(e,je);return r.a.createElement(ye,i()({},g,{fetchSuggestions:a,fieldId:"assignee",value:Oe(n),initialOptions:p,isEditable:d,emptyOption:Se(u)}))}))}),[u,p,d,e,n]);return r.a.createElement(a("J5tv").a,{name:"EDIT_FIELD"},r.a.createElement("div",{ref:e=>{t.current=e}},m()))};_e.displayName="AssigneeView",_e.displayName="AssigneeView";const Ne=(e,t)=>`${e}/rest/api/3/user/assignable/search?issueKey=${t}&recommend=true&query=`,xe=async({baseUrl:e,issueKey:t,value:n,saveFieldData:s})=>{const i=null==n?null:n.accountId
;if(await((e,t,n,s)=>Object(a("/rpS").e)(((e,t,n)=>n?`${e}/rest/api/3/issue/${t}/assignee?sessionId=${n}`:`${e}/rest/api/3/issue/${t}/assignee`)(e,t,s),de()(de()({},a("sZu9").a),{},{body:JSON.stringify({accountId:n})})))(e,t,i,s),-1===i){try{const n=await((e,t,n)=>Object(a("/rpS").b)(((e,t,n)=>n?`${e}/rest/api/3/issue/${t}?fields=assignee&sessionId=${n}`:`${e}/rest/api/3/issue/${t}?fields=assignee`)(e,t,n),de()({},a("sZu9").a)))(e,t,s),{assignee:i=null}=n.fields||{};if(null!==i){const e=Oe(n.fields.assignee);return{updatedFieldValue:ve(e)}}return{updatedFieldValue:null}}catch(o){Object(a("v/G6").a)({meta:{id:"currentAssigneeFetch",packageName:"jiraIssueView"},error:o,sendToPrivacyUnsafeSplunk:!0})}return null}return null};var Ue=u()(Object(a("VHV8").a)(),Object(a("U9/e").b)("assignee"),Object(a("/cyb").a)(((e,t)=>(e=>({fieldId:"assignee",transformFromStateValue:Oe,transformToStateValue:ve,saveField:xe,additionalProps:(t,n)=>{const s=Object(a("/LFc").y)(t);return{
portalElement:y(e.fieldId)(t)?Object(a("tpMn").a)()||document.body:void 0,fetchSuggestions:Me(Ne(Object(a("4dgq").f)(t),Object(a("4dgq").w)(t)),s,n.formatMessage,e.createAnalyticsEvent),issueKey:Object(a("4dgq").w)(t),getDefaultOptions:Le(s,n.formatMessage),loggedInUser:s,showPinButton:Object(a("NSuG").a)(e.area),analyticsAttributeIdRetriever:Ce,enablePeopleInvite:!0}}}))(t))))(_e);const Fe=e=>{const{issueKey:t,fieldKey:n,label:s}=e,[o]=Object(a("j3bG").b)({issueKey:t,fieldKey:n}),[{value:l}]=Object(a("MoW5").a)(t,n);return r.a.createElement(a("mNb6").a,i()({},e,{allowedValues:l&&l.allowedValues||[],isEditable:l&&l.isEditable||!1,label:l&&l.title||s,initialValue:o}))};Fe.displayName="CascadingSelectView";var Pe=Object(a("v5q+").a)([Object(c.connect)(((e,{fieldId:t,area:n})=>({fieldKey:t,fieldType:"com.atlassian.jira.plugin.system.customfieldtypes:cascadingselect",error:Object(a("/LFc").i)(e),issueKey:Object(a("4dgq").w)(e),isMobile:Object(a("4dgq").r)(e),
label:Object(a("KSj7").n)(t)(e),areOptionsOnSameRow:"content"===n||"content-request"===n,showPinButton:Object(a("NSuG").a)(n)})),{})])(Object(a("CVeC").b)()(Fe)),Ve=()=>r.a.createElement(a("M3b5").a,null),Ke=a("E+oP"),$e=a.n(Ke),We=Object(l.defineMessages)({showAll:{id:"issue.tag-view.show-all",defaultMessage:"Show all {peopleCount, plural, few {# people} many {# people} other {# people}}"},showLess:{id:"issue.tag-view.show-less",defaultMessage:"Show less"}});const Be=b.default.div.withConfig({componentId:"k3mwxi-0"})`margin:-4px;width:100%;`;class qe extends o.Component{constructor(...e){super(...e),this.state={isShowingMore:!1},this.handleTagSelected=e=>{Object(a("n4oX").a)(e.target,e.currentTarget)&&(e.stopPropagation(),this.props.onClick&&this.props.onClick())},this.handleTagMouseDown=e=>{e.preventDefault(),Object(a("n4oX").a)(e.target,e.currentTarget)&&e.stopPropagation()},this.handleShowHideMore=e=>{e.preventDefault(),e.stopPropagation(),this.setState({
isShowingMore:!this.state.isShowingMore})},this.renderShowHide=()=>{var e;const{formatMessage:t}=this.props.intl;return r.a.createElement("div",{onClick:this.handleShowHideMore,role:"presentation",onMouseDown:this.handleTagMouseDown,"data-testid":"issue-view.common.tag.tag-view.show-hide-more"},r.a.createElement(a("ZNNv").a,{appearance:this.props.tagAppearance,text:this.state.isShowingMore?t(We.showLess):t(We.showAll,{peopleCount:null===(e=this.props.value)||void 0===e?void 0:e.length}),href:"#"}))},this.renderTag=e=>{const t=r.a.createElement(a("ZNNv").a,{appearance:this.props.tagAppearance,text:void 0!==e.content?e.content:e.label,color:e.color,href:this.props.shouldHideLinks?void 0:e.href,elemBefore:e.elemBefore});return this.props.isUserTag?r.a.createElement(a("4TJK").a,{userAccount:e,analyticsData:{trigger:"user-tag"},position:"left-start"},t):t}}render(){const{value:e,noValueText:t,truncateValues:n}=this.props;if(e&&!$e()(e)){
const t=n&&!this.state.isShowingMore&&e.length>8?e.slice(0,8):e;return r.a.createElement(Be,null,r.a.createElement(a("Gx6G").a,null,t.map((e=>r.a.createElement(a("Yto1").a,{content:void 0!==e.content&&e.content.length>20?e.content:"",key:null!=e.key?e.key:e.value},r.a.createElement("div",{onClick:this.handleTagSelected,onMouseDown:this.handleTagMouseDown,onKeyPress:this.handleTagSelected,key:null!=e.key?e.key:e.value,role:"presentation"},this.renderTag(e))))),n&&e.length>8&&this.renderShowHide()))}return r.a.createElement(a("gVzX").b,null,t)}}qe.displayName="TagView",qe.defaultProps={isUserTag:!1,shouldHideLinks:!1,value:null,noValueText:null,tagAppearance:"default"};const He=Object(a("QURJ").a)("tagView",{onClick:"clicked"})(qe);var Ge=Object(l.injectIntl)(He);class Ye extends o.Component{render(){const{invalidMessage:e,options:t,placeholder:n,onChange:s,value:i}=this.props;return r.a.createElement(a("4r6E").a,{validationState:null!=e?"error":null,validationMessage:e
},r.a.createElement(a("Z/YG").a,{options:t,placeholder:n,onChange:s,value:i,tabSelectsValue:!1,autoFocus:!0}))}}Ye.displayName="CheckboxFieldView",Ye.displayName="CheckboxFieldView",Ye.defaultProps={value:[],options:[],placeholder:null,invalidMessage:null};const Ze=Object(b.default)(a("cNqL").a).withConfig({componentId:"sc-1k7hqz4-0"})`padding-right:${a("ZpU/").e}px;& div[data-read-view-fit-container-width]{${({hasValue:e})=>e?b.css`padding:4px 0;`:b.css`padding:7px 0;`}}${({isEditable:e})=>e?null:b.css`margin-left:0;${""} & > div{margin:10px 0 6px;}${a("cNqL").b}{left:0;${""} & > div > div > div > div{padding:0;}}`}`;class Xe extends o.Component{constructor(...e){super(...e),this.renderReadView=()=>r.a.createElement(Ge,{value:this.props.value,noValueText:this.props.noValueText,tagAppearance:this.props.tagAppearance,shouldHideLinks:this.props.isMobile}),this.renderEditView=()=>r.a.createElement(Ye,{value:this.props.value,options:this.props.options,onChange:this.props.onChange,
placeholder:this.props.placeholder,invalidMessage:this.props.invalidMessage})}render(){const{intl:e,label:t,onCancel:n,isEditable:s,isEditing:i,onConfirm:o,onEditRequest:l,isMobile:c,fieldId:d,showPinButton:u,issueKey:p,value:m}=this.props;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==p&&void 0!==d&&r.a.createElement(a("n7/x").a,{issueKey:p,fieldKey:d}),!0===u&&r.a.createElement(a("UOlw").a,{fieldId:d,label:t}))},r.a.createElement(a("gEry").c,null,t)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,t),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==p&&void 0!==d&&r.a.createElement(a("n7/x").a,{issueKey:p,fieldKey:d
}),!0===u&&r.a.createElement(a("UOlw").a,{fieldId:d,label:t})),r.a.createElement(a("gEry").g,{isEditing:i},Object(a("MrUx").a)()?r.a.createElement(Ze,{isEditable:s,hasValue:m&&0!==m.length},r.a.createElement(a("JZTM").a,{isLabelHidden:!0,label:t,readView:r.a.createElement(a("cNqL").b,null,this.renderReadView()),editView:s?this.renderEditView():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:i,onConfirm:o,onCancel:n,onEscape:n,onEditRequested:l,isFitContainerWidthReadView:!c,editButtonLabel:e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:t}),confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:t}),isEditable:s})):r.a.createElement(a("iAtd").a,{onEscape:n},r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:t,readView:this.renderReadView(),editView:s?this.renderEditView():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:i,onConfirm:o,
onCancel:n,onEditRequested:l,isFitContainerWidthReadView:!c,editButtonLabel:e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:t}),confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:t}),isEditable:s}))))}}Xe.displayName="CheckboxInlineEditView",Xe.displayName="CheckboxInlineEditView",Xe.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,options:[],value:[],label:"",placeholder:null,noValueText:null,tagAppearance:"default",invalidMessage:null};var Je=Object(l.injectIntl)(Xe);const ze=Object(l.defineMessages)({noValue:{id:"issue.context-items.text-for-edit-view-when-no-value-is-provided",defaultMessage:"None"},version_no_value_placeholder:{id:"issue.version.text-no-value",defaultMessage:"Select version"}}),Qe=e=>({label:e.value,value:e.id}),et=e=>e?e.map(Qe):[],tt=e=>e&&e.map((e=>({id:e.value,value:e.label}))),nt=Object(l.defineMessages)({placeholder:{
id:"issue.checkbox-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),at=ie()((e=>(e=>e&&e.map(Qe)||[])(e)));var st=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:et,transformToStateValue:tt,additionalProps:(e,n)=>({options:at(Object(a("KSj7").d)(t.fieldId)(e)),placeholder:n.formatMessage(nt.placeholder,{fieldName:Object(a("KSj7").n)(t.fieldId)(e)}),noValueText:n.formatMessage(ze.noValue),showPinButton:Object(a("NSuG").a)(t.area)})})))(Je),it=a("IlP+");const ot=Object(it.asyncComponent)({resolve:()=>Promise.all([a.e("vendor~748942c6"),a.e("vendor~31ecd969"),a.e("vendor~f9ca8911"),a.e("async-cmdb-object-inline-edit-view")]).then(a.bind(null,"aAbT")).then((e=>e.CmdbObjectMain)),name:"AsyncIssueCmdbObjectField"}),rt=({children:e,packageName:t})=>r.a.createElement(a("cU7O").a,{fallback:"flag",id:"issue-cmdb-object-field",packageName:t},e);rt.displayName="IssueCmdbObjectFieldBoundary";const lt=e=>r.a.createElement(rt,{
packageName:"issue-cmdb-object"},r.a.createElement(ot,e));lt.displayName="AsyncIssueCmdbObjectFieldWithBoundary";var ct=Object(a("/cyb").a)(((e,{fieldId:t,area:n})=>({fieldId:t,additionalProps:e=>{var s,i;const o=Object(a("KSj7").r)(t)(e)||{},r=Object(a("4dgq").w)(e),l=Object(a("4dgq").v)(e);return{area:n,issueKey:r,issueId:l,projectKey:Object(a("J4oe").a)(r),cmdbFieldConfig:null===(s=o.configuration)||void 0===s?void 0:s.cmdbFieldConfig,wasInsightRequestSuccessful:null===(i=o.configuration)||void 0===i?void 0:i.wasInsightRequestSuccessful,source:"insight"}}})))(lt);const dt=5e3,ut="smarts.fields.ranking";var pt=(e,t,n,s,i,o)=>!t||t.length<=1?Promise.resolve(t):((e,t,n,s,i,o)=>{let r;const l=new Promise((e=>{r=setTimeout((()=>{a("fnbV").a.safeWarnWithoutCustomerData(ut,"FRS has timeout after 5000ms"),Object(a("fjz3").a)(s,dt,o,{sessionId:i}),e(t)}),n)})),c=e().then((e=>(r&&clearTimeout(r),e)));return Promise.race([l,c])})((()=>((e,t,n,s,i,o)=>{const r=t.map((e=>({[e.id]:e
}))).reduce(((e,t)=>de()(de()({},e),t)),{}),{atlassianAccountId:l,cloudId:c,baseUrl:d}=Object(a("S57X").h)(),u=`${d}/gateway/api/fields/v2/recommendations/`,p=a("SHpS").d.now();return Object(a("QNWr").a)(u,de()(de()({},a("jFAn").a),{},{method:"POST",body:JSON.stringify({context:{objectId:n,containerId:s,principalId:l,product:"jira",tenantId:c,sessionId:i},fieldId:e,fieldObjects:t.map((({id:e,name:t})=>({id:e,value:t})))})})).then((({fieldObjects:t})=>(Object(a("fjz3").b)(e,p,o,{sessionId:i}),t.map((({id:e})=>r[e]))))).catch((n=>(Object(a("fjz3").a)(e,p,o,{sessionId:i}),a("fnbV").a.safeErrorWithoutCustomerData(ut,`error while ranking ${e} via FRS`,n),t)))})(e,t,n,s,i,o)),t,dt,e,i,o),mt=Object(l.defineMessages)({placeholder:{id:"issue.components.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select component"},createNewItem:{id:"issue.components.create-new-component-message",defaultMessage:"Create new component"},recent:{id:"issue.components.recent-items",
defaultMessage:"Recent components"},all:{id:"issue.components.all-items",defaultMessage:"All components"}});const bt=(e,{baseUrl:t,projectKey:n})=>!Object(a("d90y").is2afErrorCleanupGroup1Enabled)()||e&&0!==e.length?e.map((e=>{const s=`project = ${Object(a("wQ4K").b)(n)} AND component = ${Object(a("wQ4K").b)(e.name)}`;return{href:Object(a("wQ4K").a)(t,s),content:e.name,value:e.id}})):[],gt=e=>({content:e.name,value:e.id,fromCache:e.fromCache||!1}),ft=(e=[],t=[],n,s)=>{const i=(e=>e.slice(-5).reverse())(((e,t,n)=>t.filter((e=>e.projectKey===n)).map((t=>{const s=e.find((e=>e.id===t.id));if(s){const e=de()(de()({},s),{},{projectKey:n});return a("dIKp").a.update(`${t.id}`,e),de()(de()({},e),{},{fromCache:!0})}return de()(de()({},t),{},{fromCache:!0})})))(e,t,s));return[{heading:n.formatMessage(mt.recent),items:i.map(gt)},{heading:n.formatMessage(mt.all),items:e.map(gt)}]},ht=e=>e.map((e=>({name:e.content,id:e.value,fromCache:e.fromCache||!1}))),Et=b.default.div.withConfig({
componentId:"sc-1fc3whv-0"})`display:flex;align-items:center;`,yt=b.default.span.withConfig({componentId:"sc-1fc3whv-1"})`margin-left:${a("ZpU/").e}px;flex-grow:1;`,Ot=b.default.div.withConfig({componentId:"sc-1fc3whv-2"})`display:flex;align-items:center;color:${a("5kDX").a.B400};padding:6px 12px;&:hover{background-color:${a("5kDX").a.N20};}&:active{background-color:${a("5kDX").a.B75};}`,vt={option:(e,t)=>de()(de()(de()({},e),!0===t.data.__isNew__?de()(de()({},t.isFocused?{"> .issue-view__select-footer":{"background-color":a("5kDX").a.N20}}:{}),{},{position:"sticky",bottom:0,"background-color":`${a("5kDX").a.N0} !important`,"border-top":"2px solid rgba(9, 30, 66, 0.13)",padding:0,"padding-top":`${a("ZpU/").e}px`,"padding-bottom":0,overflow:"visible",":after":{content:'""',display:"block",position:"absolute",bottom:"-8px",left:0,width:"100%",height:"8px","background-color":a("5kDX").a.N0,"border-bottom-left-radius":a("ZpU/").e/2+"px","border-bottom-right-radius":a("ZpU/").e/2+"px"}
}):{}),!0===t.data.isAkSelectOption?{"text-align":"center","padding-top":`${a("ZpU/").e}px`,"padding-bottom":2*a("ZpU/").e+"px"}:{})},jt=b.default.div.withConfig({componentId:"xz3ohb-0"})`display:flex;flex:1 1 auto;word-break:break-word;position:relative;line-height:${2.5*a("ZpU/").e/a("ZpU/").d};`,It=b.css`${jt}{${""} padding-left:6px;${""} & > div > div > div{padding:0;}}`,Ct=b.default.div.withConfig({componentId:"xz3ohb-1"})`width:100%;margin-left:-8px;margin-top:-8px;& div[data-read-view-fit-container-width]{display:flex;align-items:center;width:100%;min-height:32px;padding:0 0 0 6px;}${""} ${({isEditable:e})=>!e&&It}`,St=b.default.div.withConfig({componentId:"xz3ohb-2"})`> div:first-child > div:nth-child(2){min-height:32px;}`;class kt extends o.Component{constructor(...e){super(...e),this.onChange=(e,t)=>{const{onChange:n,onConfirm:a}=this.props;n&&n(e,t),a()},this.renderEditView=()=>{
const{fieldId:e,value:t,fetchSuggestions:n,additionalAnalyticsProps:s,placeholder:i,isEditing:o,isMulti:l,invalidMessage:c,hasAutocomplete:d,debounceFetchSuggestionsTime:u,allowEmptyValue:p,portalElement:m,canCreateNewItem:b,formatCreateLabel:g,styles:f,onChangeMulti:h,footer:E,onFooterSelect:y,shouldShowFooter:O,filterOption:v,formatOptionLabel:j,onDataRequest:I,onDataLoaded:C,components:S,componentsProps:k,initialData:w,label:T}=this.props;return r.a.createElement(St,null,r.a.createElement(a("gWdf").a,{initialData:w,componentsProps:k,components:S,fieldId:e,value:t,fetchSuggestions:n,additionalAnalyticsProps:s,placeholder:i,isOpen:o,invalidMessage:c,hasAutocomplete:d,debounceFetchSuggestionsTime:u,isClearable:p,portalElement:m,canCreateNewItem:b,formatCreateLabel:g,styles:f,autoFocus:!0,onChange:this.onChange,footer:E,onFooterSelect:y,shouldShowFooter:O,onChangeMulti:h,isMulti:l,filterOption:v,formatOptionLabel:j,onDataRequest:I,onDataLoaded:C,
optionValuesSafeForAnalytics:this.props.optionValuesSafeForAnalytics,ariaLabel:T}))},this.renderReadView=()=>r.a.createElement(jt,null,this.renderReadViewOld())}renderReadViewOld(){const e=this.props.fieldContentWrapper;return pe()(e)?this.props.renderReadView():r.a.createElement(e,null,this.props.renderReadView())}getEditButtonLabel(){const{value:e,label:t,intl:n,noValueText:s,isMulti:i}=this.props;return(Object(a("MrUx").a)()?!this.hasValue():!0===i&&!(null!=e&&e.length)||!1===i&&!e)?n.formatMessage(a("n2YX").a.extendedEditButtonLabel,{inputFieldValue:s,fieldName:t}):!1===i&&void 0!==(null==e?void 0:e.content)?n.formatMessage(a("n2YX").a.extendedEditButtonLabel,{inputFieldValue:e.content,fieldName:t}):n.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:t})}hasValue(){const{isMulti:e,value:t}=this.props;return Boolean(!0===e&&(null==t?void 0:t.length)||!1===e&&t)}render(){
const{intl:{formatMessage:e},label:t,fieldId:n,isEditable:s,isEditing:i,isMobile:o,isMulti:l,showPinButton:c,onCancel:d,onEditRequest:u,onConfirm:p,titleView:m=this.props.label,issueKey:b}=this.props,g=`issue.views.field.select.common.select-inline-edit.${n}`;return r.a.createElement(a("gEry").d,{"data-test-id":g},Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==b&&void 0!==n&&r.a.createElement(a("n7/x").a,{issueKey:b,fieldKey:n}),!0===c&&r.a.createElement(a("UOlw").a,{fieldId:n,label:t}))},r.a.createElement(a("gEry").c,null,m)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()
},r.a.createElement(a("gEry").c,null,m),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==b&&void 0!==n&&r.a.createElement(a("n7/x").a,{issueKey:b,fieldKey:n}),!0===c&&r.a.createElement(a("UOlw").a,{fieldId:n,label:t})),r.a.createElement(a("gEry").g,{isEditing:i},r.a.createElement(a("iAtd").a,{onEscape:d},Object(a("MrUx").a)()?r.a.createElement(Ct,{isEditable:s},r.a.createElement(a("JZTM").a,{isLabelHidden:!0,label:t,readView:()=>this.renderReadView(),editView:()=>this.renderEditView(),isEditing:i,isEditable:s,hideActionButtons:!l,readViewFitContainerWidth:!o,onConfirm:p,onCancel:d,onEdit:u,editButtonLabel:this.getEditButtonLabel(),confirmButtonLabel:e(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e(a("n2YX").a.cancelButtonLabel,{fieldName:t})})):r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:t,readView:this.renderReadViewOld(),editView:s?this.renderEditView():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!l,isEditing:i,onConfirm:p,onCancel:d,
onEditRequested:u,isFitContainerWidthReadView:!o,editButtonLabel:this.getEditButtonLabel(),confirmButtonLabel:e(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e(a("n2YX").a.cancelButtonLabel,{fieldName:t})}))))}}kt.displayName="SelectInlineEditView",kt.displayName="SelectInlineEditView",kt.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,isMulti:!1,hasAutocomplete:!1,label:"",noValueText:null,allowEmptyValue:!1,debounceFetchSuggestionsTime:0,onChange:m.a};var wt=Object(l.injectIntl)(kt);const Tt=["validate","invalidMessage","value","onChange","tagAppearance","onDataRequest","onDataLoaded","customReadView","isUserTag"],Dt=e=>{const{validate:t,invalidMessage:n,value:a,onChange:s,tagAppearance:o,onDataRequest:l,onDataLoaded:c,customReadView:d,isUserTag:u}=e,p=z()(e,Tt);return r.a.createElement(wt,i()({},p,{value:a,isMulti:!0,onChangeMulti:s,invalidMessage:t(a)||n,renderReadView:()=>{
const{value:t,noValueText:n,tagAppearance:a,isMobile:s,customReadView:i,isEditable:o,isUserTag:l}=e;return i?i(t):r.a.createElement(Ge,{value:t,noValueText:n,tagAppearance:a,shouldHideLinks:s,truncateValues:!o&&l,isUserTag:l})},onDataRequest:l,onDataLoaded:c}))};Dt.displayName="MultiSelectInlineEditView",Dt.displayName="MultiSelectInlineEditView",Dt.defaultProps={tagAppearance:"default",validate:()=>null,hasAutocomplete:!0,debounceFetchSuggestionsTime:300};var Rt=Dt;const Lt=["shouldShowFooter","baseUrl","projectKey","intl"];class Mt extends o.Component{constructor(...e){super(...e),this.state={data:[],loading:!1,error:!1},this.componentDidMount=()=>{this.getDataFromCache()},this.getDataFromCache=()=>{var e,t;null===(e=(t=this.props).getDataFromCache)||void 0===e||e.call(t).then((e=>{this.setState({data:e,loading:!1})}))},this.fetchSuggestions=(e,t)=>this.props.fetchSuggestions(e,t).then((e=>(this.setState({data:e}),e)))}renderFooter(){const{intl:e}=this.props
;return r.a.createElement(Ot,{className:"issue-view__select-footer"},r.a.createElement(a.n(a("9fHu")).a,{label:"",size:"small"}),r.a.createElement(yt,null,e.formatMessage(mt.createNewItem)))}render(){const e=this.props,{shouldShowFooter:t,baseUrl:n,projectKey:s,intl:o}=e,l=z()(e,Lt),{data:c,loading:d,error:u}=this.state,p={data:c,loading:d,error:u};return r.a.createElement(Rt,i()({},l,{styles:vt,fetchSuggestions:this.fetchSuggestions,debounceFetchSuggestionsTime:300,initialData:p,shouldShowFooter:t,footer:this.renderFooter(),onFooterSelect:()=>Object(a("OM3v").a)(`${n}/plugins/servlet/project-config/${s}/administer-components`,!1),allowEmptyValue:!0,optionValuesSafeForAnalytics:!0}))}}Mt.displayName="View";const At=Object(a("Wwog").a)(((e,t,n,a,s)=>((e,t,n,a,s)=>pt("components",e,t,n,a,s))(e,t,n,a,s))),_t=Object(a("Wwog").a)(((e,t,n,s,i,o)=>(r,l)=>{const c=At(t,n,s,l,i);return Promise.all([c,a("dIKp").a.getAll()]).then((([t,n])=>ft(t,n,e,o)))}));var Nt=Object(a("/cyb").a)(((t,n)=>({
fieldId:n.fieldId,transformFromStateValue:bt,transformToStateValue:ht,additionalProps:(e,t)=>({baseUrl:Object(a("4dgq").f)(e),projectKey:Object(a("4dgq").A)(e),fetchSuggestions:_t(t,Object(a("KSj7").d)(n.fieldId)(e),Object(a("4dgq").v)(e),Object(a("/LFc").D)(e),n.createAnalyticsEvent,Object(a("4dgq").A)(e)),placeholder:t.formatMessage(mt.placeholder),noValueText:t.formatMessage(ze.noValue),shouldShowFooter:(Object(a("nGHA").c)(e)||Object(a("nGHA").b)(e))&&!Object(a("4dgq").r)(e),showPinButton:Object(a("NSuG").a)(n.area),getDataFromCache:()=>a("dIKp").a.getAll().then((n=>ft([],n,t,Object(a("4dgq").A)(e))))}),saveField:(...t)=>(({baseUrl:t,issueKey:n,fieldMetaKey:s,value:i,fieldEditSessionId:o},r,l)=>{const c=void 0!==o?`${t}/rest/api/2/issue/${n}?fieldEditSessionId=${o}`:`${t}/rest/api/2/issue/${n}`,d=Object(a("4dgq").A)(r);return i.forEach((e=>{try{l.createAnalyticsEvent&&Object(a("yy8q").b)(l.createAnalyticsEvent({}),"componentPickerCache set",{isFromCache:e.fromCache}),
e.id&&a("dIKp").a.set(`${e.id}`,de()(de()({},e),{},{projectKey:d}))}catch(t){a("RDfz").a.safeErrorWithoutCustomerData("issue-view.components.cache.set",t.message)}})),Object(a("/rpS").e)(c,{body:JSON.stringify({fields:{[s]:i}})}).catch((t=>{throw i.forEach((t=>{try{l.createAnalyticsEvent&&Object(a("yy8q").b)(l.createAnalyticsEvent({}),"componentPickerCache removed"),t.id&&a("dIKp").a.remove(`${t.id}`)}catch(e){a("RDfz").a.safeErrorWithoutCustomerData("issue-view.components.cache.remove",e.message)}})),t}))})(...t,n)})))(Object(l.injectIntl)(Mt));const xt=({isVisible:e=!0})=>r.a.createElement(a("ho8o").a,null,e&&r.a.createElement(a("Dq7M").a,null));xt.displayName="ConferenceCallField";var Ut=Object(c.connect)((e=>({isVisible:Object(a("nGHA").f)(e)})),{})(xt);var Ft=Object(l.defineMessages)({placeholder:{id:"issue.customer-request-type.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Request Type"}});const Pt=e=>({issueTypeId:e.issueType.toString(),content:e.name,
value:e.id,iconUrl:e.iconUrl}),Vt=e=>e&&(e=>{if(e.errorMessage)return{hasError:!0};if(!e.requestType)return null;const{icon:t,issueTypeId:n,id:a,name:s}=e.requestType;return{issueTypeId:n,content:s,value:a,iconUrl:t._links.iconUrls["48x48"]}})(e),Kt=e=>({requestType:{icon:{_links:{iconUrls:{"48x48":e.iconUrl||""}}},id:e.value,name:e.content,issueTypeId:e.issueTypeId}}),$t=e=>[{items:e.validRequestTypes.map(Pt)}],Wt=e=>()=>{const{value:t,noValueText:n}=e;if(t&&!Array.isArray(t)){const{iconUrl:e,content:n}=t;return void 0!==e?r.a.createElement(a("qPwK").a,{iconUrl:e},n):n}return r.a.createElement(a("gVzX").b,null,n)},Bt=e=>r.a.createElement(wt,i()({},e,{renderReadView:e.renderReadView||Wt(e),isMulti:!1}));Bt.displayName="SingleSelectInlineEditView",Bt.displayName="SingleSelectInlineEditView";var qt=Bt;const Ht=b.default.div.withConfig({componentId:"sc-1nils-0"})`display:flex;align-items:center;`,Gt=b.default.span.withConfig({componentId:"sc-1nils-1"
})`margin-left:${a("ZpU/").e}px;`,Yt=b.default.div.withConfig({componentId:"sc-1nils-2"})`display:flex;padding-left:${.75*a("ZpU/").e}px;padding-right:${.75*a("ZpU/").e}px;`,Zt=["issueTypeId"],Xt=e=>{if(null!=(null==e?void 0:e.iconUrl))return()=>r.a.createElement(Ht,null,r.a.createElement(Yt,null,r.a.createElement(a("Opng").a,{url:e.iconUrl})),r.a.createElement(Gt,null,e.content))},Jt=e=>{const{issueTypeId:t}=e,n=z()(e,Zt),{value:a}=e;if(!0===(null==a?void 0:a.hasError))return null;const s=null!=a&&a&&t!==a.issueTypeId?null:n.value,o=de()(de()({},n),{},{value:s});return r.a.createElement(qt,i()({},o,{renderReadView:Xt(s)}))};Jt.displayName="RequestTypeField";const zt=(e,t)=>t?`${e}/rest/servicedesk/1/servicedesk/request/${t}/request-types?query=`:null,Qt=Object(a("Wwog").a)((e=>t=>e?Object(a("QNWr").a)(`${e}${t}`).then($t):Promise.resolve([]))),en=({baseUrl:e,value:t},n)=>{const{requestType:s}=t;return(async(e,t,n)=>{if(!t)throw new Error("Issue ID not available")
;return Object(a("/rpS").d)(((e,t)=>`${e}/rest/servicedesk/1/servicedesk/request/${t}/request-types/`)(e,t),{body:JSON.stringify({rtId:n})})})(e,Object(a("4dgq").v)(n),s.id)},tn=e=>e&&e.requestType&&e.requestType.id;var nn=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:Vt,transformToStateValue:Kt,saveField:en,additionalProps:(e,n)=>({fetchSuggestions:Qt(zt(Object(a("4dgq").f)(e),Object(a("4dgq").v)(e))),isEditable:Object(a("Q7bB").a)(e),issueTypeId:Object(a("SXNk").g)(e),hasAutocomplete:!0,placeholder:n.formatMessage(Ft.placeholder),noValueText:n.formatMessage(ze.noValue),debounceFetchSuggestionsTime:300,analyticsAttributeIdRetriever:tn,showPinButton:Object(a("NSuG").a)(t.area)})})))(Jt);const an=({issueKey:e,fieldKey:t,onSuccess:n})=>{var s;const[{value:i}]=Object(a("MoW5").a)(e,t),o=null!==(s=null==i?void 0:i.schema.type)&&void 0!==s?s:"date",[{loading:r,value:l,error:c},{saveValue:d,resetError:u}]=Object(a("35XP").a)({fieldKey:t,issueKey:e,fieldType:o,
initialValue:null,onSuccess:n});return[{loading:r,value:l,error:c,fieldConfig:i},{saveValue:d,resetError:u}]};var sn=a("GODc"),on=a.n(sn);const rn=({autoFocus:e,isDisabled:t,isInvalid:n,value:s,onChange:i})=>{const l=Object(a("I51c").a)(),c=Object(o.useCallback)((e=>{const t=Object(a("hyjV").a)(null!=e?e:"");on()(Date.parse(t))?null==i||i(null):null==i||i(t)}),[i]),d=Object(a("lL9i").a)(l);return r.a.createElement(a("aL9x").a,{locale:d,autoFocus:e,defaultIsOpen:!0,isDisabled:t,isInvalid:n,value:s||"",onChange:c})};rn.displayName="DateFieldEditView";var ln=Object(l.defineMessages)({errorTitle:{id:"issue-field-date.error-title",defaultMessage:"We couldn't set the date"},errorMessage:{id:"issue-field-date.error-message",defaultMessage:"Check your connection, then give it another try."}}),cn=Object(l.defineMessages)({defaultNoValueText:{id:"issue-field-date.default-no-value-text",defaultMessage:"None"}});const dn=b.default.span.withConfig({componentId:"clmt20-0"
})`color:${a("5kDX").a.N200};`,un=({value:e,noValueText:t,onFormatDate:n})=>{const{formatMessage:s}=Object(a("NRyt").d)(),{formatDateOnly:i}=Object(a("0yF3").a)();return null==e||""===e?r.a.createElement(dn,null,null!=t?t:s(cn.defaultNoValueText)):n?n(e):i(e)},pn=["fieldKey","issueKey","isEditing","onFormatDate","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","onError","readView","editView","noValueText"],mn="dateFieldInlineEdit",bn=b.default.div.withConfig({componentId:"jawa0l-0"})`display:flex;flex:1 1 auto;line-height:${2.5*a("ZpU/").e/a("ZpU/").d};word-break:break-word;position:relative;width:100%;`,gn=b.default.div.withConfig({componentId:"jawa0l-1"})`padding-left:6px;`,fn=b.css`margin-left:0;${""} & > div{margin:11px 0 3px 8px;}${bn}{left:0;padding:6px 0;line-height:1;}`,hn=Object(b.default)(a("cNqL").a).withConfig({componentId:"jawa0l-2"
})`${({isEditable:e})=>!e&&fn} width:100%;margin-left:-8px;margin-top:-8px;padding-right:8px;& div[data-read-view-fit-container-width]{display:flex;align-items:center;width:100%;min-height:${4*a("ZpU/").e}px;padding:0 0 0 6px;}`,En=e=>{var t;let{fieldKey:n,issueKey:s,isEditing:l,onFormatDate:c,onCancel:d,onEdit:u,onEscape:p,onConfirm:m,onEnter:b,onUpdate:g,onError:f,readView:h,editView:E,noValueText:y}=e,O=z()(e,pn);const[v,j]=Object(o.useState)(!1),I=Object(o.useCallback)((e=>{null==g||g(e),j(!1)}),[g]),[{value:C,error:S,fieldConfig:k},{saveValue:w,resetError:T}]=an({issueKey:Object(a("Rp3N").n)(s),fieldKey:n,onSuccess:I}),[D,R]=Object(o.useState)(C),L=null!==(t=null==k?void 0:k.isEditable)&&void 0!==t&&t;Object(o.useEffect)((()=>{S&&(j(!0),null==f||f(S)),v||R(C)}),[S,v,f,C]);const M=Object(o.useCallback)((e=>{D!==C?w(D,null,e):j(!1),Object(a("yy8q").h)(e)}),[w,D,C]),A=Object(o.useCallback)((e=>{T(),j(!1),R(C),Object(a("yy8q").h)(e)}),[T,C]),_=Object(o.useCallback)((e=>{A(e),
null==d||d(e)}),[d,A]),N=Object(o.useCallback)((e=>{M(e),null==m||m(D,e)}),[m,M,D]),x=Object(o.useCallback)((e=>{j(!0),Object(a("yy8q").h)(e),null==u||u(e)}),[u]),U=Object(o.useCallback)((e=>{A(e),null==p||p(e)}),[p,A]),F=Object(o.useCallback)((e=>{T(),R(e)}),[T,R]),P=Object(o.useCallback)((()=>void 0!==h?h:r.a.createElement(un,{value:C,noValueText:y,onFormatDate:c})),[y,c,h,C]),V=Object(a("MrUx").a)()?r.a.createElement(bn,null,P()):P(),K=Object(o.useCallback)((()=>void 0!==E?E:r.a.createElement(rn,{autoFocus:!0,value:D,onChange:F,isInvalid:!!S})),[E,S,F,D]),$=Object(o.useCallback)((()=>void 0!==E?E:r.a.createElement(gn,null,r.a.createElement(rn,{autoFocus:!0,value:D,onChange:F,isInvalid:!!S}))),[E,S,F,D]),W=Object(a("MrUx").a)()?$:K();return r.a.createElement(r.a.Fragment,null,null!=S&&r.a.createElement(a("gx/I").a,{error:S,title:ln.errorTitle,description:ln.errorMessage}),Object(a("MrUx").a)()?r.a.createElement(hn,{isEditable:L},r.a.createElement(a("JZTM").a,i()({
areActionButtonsHidden:!0,actionSubject:mn,isEditable:L,isEditing:null!=l?l:v,readView:V,editView:L?W:null,onCancel:_,onConfirm:N,onEdit:x,onEscape:U},O))):r.a.createElement(a("JZTM").a,i()({areActionButtonsHidden:!0,actionSubject:mn,isEditable:L,isEditing:null!=l?l:v,readView:V,editView:L?W:null,onCancel:_,onConfirm:N,onEdit:x,onEscape:U},O)))},yn=(b.default.div.withConfig({componentId:"sc-1szim3z-0"})`margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}`,Object(b.default)(a("gEry").d).withConfig({componentId:"sc-1szim3z-1"})`& > div > div > div > div > div > div > div{width:100%;}`),On=({fieldId:e,label:t,area:n,onError:s,onConfirm:i})=>{const{formatMessage:l}=Object(a("NRyt").d)(),c=Object(a("ovRs").h)(),d=Object(a("NSuG").a)(n),[{value:u,fieldConfig:p}]=an({issueKey:c,fieldKey:e}),m=(null==p?void 0:p.title)||t,b=Object(o.useCallback)((()=>{
null==s||s(u)}),[s,u]);return r.a.createElement(yn,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==c&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:c,fieldKey:e}),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:e,label:m}))},r.a.createElement(a("gEry").c,null,m)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,m),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==c&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:c,fieldKey:e}),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:e,label:m})),r.a.createElement(a("gEry").g,null,r.a.createElement(En,{isFitContainerWidthReadView:!0,issueKey:c,fieldKey:e,noValueText:l(ze.noValue),onConfirm:i,onError:b})))}
;On.displayName="Date";var vn=Object(o.memo)(On),jn=Object(c.connect)(null,((e,t)=>({onConfirm:n=>e(Object(a("QNn4").b)(t.fieldId,n)),onError:n=>e(Object(a("QNn4").a)(t.fieldId,n))})))(vn);b.default.div.withConfig({componentId:"kakyky-0"})`margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}`;const In=Object(b.default)(a("gEry").d).withConfig({componentId:"kakyky-1"})`& > div > div > div > div > div > div > div{width:100%;}`,Cn=({fieldId:e,label:t,area:n,onUpdate:s})=>{const{formatMessage:i}=Object(a("NRyt").d)(),o=Object(a("ovRs").h)(),l=Object(a("NSuG").a)(n),[{fieldConfig:c}]=Object(a("Mv4v").a)({issueKey:o,fieldKey:e}),d=(null==c?void 0:c.title)||t;return r.a.createElement(In,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),
renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==o&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:o,fieldKey:e}),!0===l&&r.a.createElement(a("UOlw").a,{fieldId:e,label:d}))},r.a.createElement(a("gEry").c,null,d)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,d),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==o&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:o,fieldKey:e}),!0===l&&r.a.createElement(a("UOlw").a,{fieldId:e,label:d})),r.a.createElement(a("gEry").g,null,r.a.createElement(a("k3VE").DateTimeField,{isFitContainerWidthReadView:!0,issueKey:o,fieldKey:e,noValueText:i(ze.noValue),onUpdate:s})))};Cn.displayName="DateTime";var Sn=Object(o.memo)(Cn);var kn=Object(c.connect)(null,((e,t)=>({onUpdate:n=>e(Object(a("QNn4").h)(t.fieldId,n))})))(Sn);const wn=b.default.div.withConfig({componentId:"sc-1ddwfnu-0"
})`position:relative;overflow:hidden;display:flex;border-radius:3px;margin-left:-${a("ZpU/").e}px;height:${4*a("ZpU/").e}px;width:100%;transition:background-color 0.2s ease-in-out,border-color 0.2s ease-in-out;&:hover{background:${a("5kDX").a.N30};cursor:pointer;}&:focus{box-shadow:0 0 0 2px ${a("5kDX").a.B100};outline:0;background:${a("5kDX").a.N30};}`,Tn=b.default.div.withConfig({componentId:"sc-1ddwfnu-1"})`overflow:hidden;margin-top:${.5*a("ZpU/").e}px;margin-bottom:${.5*a("ZpU/").e}px;margin-left:${a("ZpU/").e}px;height:24px;width:24px;align-items:center;padding-left:${.25*a("ZpU/").e}px;padding-right:${.25*a("ZpU/").e}px;`,Dn=b.default.div.withConfig({componentId:"sc-1ddwfnu-2"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1;line-height:${4*a("ZpU/").e}px;padding-left:${a("ZpU/").e}px;`,Rn=b.default.div.withConfig({componentId:"sc-1ddwfnu-3"})`font-weight:600;display:inline;`,Ln=b.default.div.withConfig({componentId:"sc-1ddwfnu-4"
})`color:${a("5kDX").a.N70};display:flex;align-items:center;margin-right:${a("ZpU/").e}px;`,Mn=b.default.div.withConfig({componentId:"sc-1ddwfnu-5"})`position:absolute;right:0;width:${7*a("ZpU/").e}px;height:${4*a("ZpU/").e}px;background-image:linear-gradient(90deg,rgba(255,255,255,0) 0%,${a("5kDX").a.N20} 25%);`,An=b.default.div.withConfig({componentId:"sc-1ddwfnu-6"})`position:absolute;right:0;margin:${a("ZpU/").e/4}px ${a("ZpU/").e}px;height:26px;width:26px;background:${a("5kDX").a.N30};color:${a("5kDX").a.N60};border-radius:50%;align-items:center;padding:2px 0 0 2px;`,_n=b.keyframes`0%{right:-28px;}100%{right:0;}`,Nn=b.default.div.withConfig({componentId:"sc-1ddwfnu-7"})`position:absolute;animation:${_n} 0.15s ease-in-out;`;var xn=a("3WX/"),Un=a.n(xn);const Fn=e=>["click_through","open_panel"].find((t=>t===e))||"open_panel",Pn=e=>{const t=Un()(e,(e=>null==e));return void 0===t.workMode?t:de()(de()({},t),{},{workMode:Fn(t.workMode)})};class Vn extends o.Component{constructor(...e){
super(...e),this.state={isHovering:!1,update:void 0},this.onGlanceUpdate=(e,t,n)=>{n.addonKey===this.props.appKey&&n.moduleKey===this.props.moduleKey&&this.setState({update:Pn(n.data)})},this.getGlanceIcon=()=>this.state.update&&this.state.update.icon?this.state.update.icon:this.props.icon,this.getGlanceWorkMode=()=>this.state.update&&this.state.update.workMode||this.props.workMode,this.eventHandlers={onMouseEnter:()=>this.setState({isHovering:!0}),onMouseLeave:()=>this.setState({isHovering:!1}),onFocus:()=>this.setState({isHovering:!0}),onBlur:()=>this.setState({isHovering:!1})},this.handleOpenGlancePanel=()=>{const{appKey:e,moduleKey:t,status:n,onGlanceShowAnalytics:s,onOpenGlancePanel:i,onClickThroughGlancePanel:o}=this.props,r=this.getGlanceWorkMode();"open_panel"===r?(s(Object(a("riXy").d)(e,t,n)),i(e,t)):"click_through"===r&&o(e,t)},this.container=void 0,this.renderStatus=()=>{const e=this.state.update&&this.state.update.status?this.state.update.status:this.props.status
;if(!e)return null;const{value:t,type:n}=e;if(t.label)switch(n){case"lozenge":return r.a.createElement(a("EFQh").a,{appearance:t.type},t.label);case"icon":return this.props.glance?r.a.createElement(a("Opng").a,{url:Object(a("6oEo").a)(this.props.glance.options.origin,t.label),alt:t.type,width:24,height:24}):null;case"badge":{const e=parseInt(t.label,10);return e>=0?r.a.createElement(a("7QTw").a,{appearance:"default"},e):null}default:return null}return null},this.renderContent=()=>{if(this.state.update&&this.state.update.content)return r.a.createElement(Dn,null,this.state.update.content);const{label:e,name:t}=this.props;return e.value===t?r.a.createElement(Dn,null,r.a.createElement(l.FormattedMessage,{id:"issue.ecosystem.context.rich-glance-label",defaultMessage:"Open {label}",values:{label:r.a.createElement(Rn,null,e.value)}})):r.a.createElement(Dn,null,e.value)}}componentDidMount(){a("Kigm").a.addUpdateIssueGlanceListener(this.onGlanceUpdate)}componentWillUnmount(){
a("Kigm").a.removeUpdateIssueGlanceListener(this.onGlanceUpdate)}render(){const{name:e,glance:t}=this.props,n=this.getGlanceIcon();return r.a.createElement(a("gEry").d,{"data-test-id":"issue.views.issue-base.context.ecosystem-glance-panel"},r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,e)),r.a.createElement(a("gEry").g,null,r.a.createElement(a("iAtd").a,{onEnter:this.handleOpenGlancePanel},r.a.createElement(wn,i()({onClick:this.handleOpenGlancePanel,tabIndex:"0"},this.eventHandlers),n&&t&&r.a.createElement(Tn,null,r.a.createElement(a("Opng").a,{url:Object(a("6oEo").a)(t.options.origin,n.url),alt:n.alt,width:24,height:24})),this.renderContent(),r.a.createElement(Ln,null,this.renderStatus()),this.state.isHovering&&r.a.createElement(a("1w9n").a,{mountAnimation:Nn},r.a.createElement(Mn,null,r.a.createElement(An,null,"click_through"===this.getGlanceWorkMode()?r.a.createElement(a.n(a("WhJf")).a,{
size:"medium",label:""}):r.a.createElement(a.n(a("/u5F")).a,{size:"medium",label:""}))))))))}}Vn.displayName="ConnectGlance",Vn.displayName="ConnectGlance",Vn.defaultProps={icon:null,openedGlance:null,status:null,workMode:"open_panel",onGlanceShowAnalytics:m.a};const Kn=(e,t)=>{Object(a("vs4d").a)("ISSUE_GLANCE_CONTENT_CLICKED",{addon_key:e,key:t})},$n=e=>{const t=Object(a("ovRs").h)(),[,{setIssueViewLayoutGlance:n}]=Object(a("pvIb").b)();return r.a.createElement(Vn,i()({},e,{onOpenGlancePanel:(e,s)=>{n(t,{appKey:e,moduleKey:s}),Object(a("vs4d").a)("ISSUE_GLANCE_OPENED",{addon_key:e,key:s})}}))};$n.displayName="ConnectGlanceWithIssueLayout";var Wn=Object(a("v5q+").a)([Object(a("BxXc").a)((e=>({onGlanceShowAnalytics:t=>e("show",de()({},t))}))),Object(c.connect)(((e,t)=>({openedGlance:Object(a("hi0A").a)(e),glance:Object(a("mIpc").l)(t.appKey,t.moduleKey)(e),onClickThroughGlancePanel:Kn})),(e=>({onOpenGlancePanel:(t,n)=>{e(Object(a("l7n1").b)(t,n)),
Object(a("vs4d").a)("ISSUE_GLANCE_OPENED",{addon_key:t,key:n})}})))])($n),Bn=a("fvjX");const qn=b.default.div.withConfig({componentId:"sc-1595rwl-0"})`width:100%;&:focus{outline:none;}`,Hn=b.default.div.withConfig({componentId:"sc-1595rwl-1"})`display:flex;background:transparent;flex-direction:column;padding:0;position:relative;overflow:hidden;align-items:flex-start;width:100%;`,Gn=e=>{switch(e.type){case"user":return"list"===e.collection?(e=>pe()(e)?null:e.map((e=>({accountId:pe()(e.accountId)?e.id:e.accountId}))))(e.value):(e=>pe()(e)?null:{accountId:pe()(e.accountId)?e.id:e.accountId})(e.value);case"group":return"list"===e.collection?(e=>null==e?null:e.map((e=>e.name)))(e.value):(e=>null==e?null:e.name)(e.value);case"datetime":case"string":case"number":case"object":default:return e.value}
},Yn=({extension:e,extensionData:t,type:n,fieldId:s,collection:i="none",analyticsAttributes:o,shouldUseFormatter:l,formattedValue:c,onUserConsentGranted:d})=>Object(a("Wwog").a)((u=>r.a.createElement(qn,null,l?r.a.createElement(r.a.Fragment,null,r.a.createElement(a("W0w5").b,{attributes:de()(de()({},o),{},{renderMode:"formatter"})}),r.a.createElement(Hn,null,c)):r.a.createElement(a("/QX8").a,{extension:e,extensionData:de()(de()({},t),{},{fieldValue:Gn({type:n,collection:i,value:u}),fieldId:s,fieldType:e.id,renderContext:"issue-view"}),analyticsAttributes:de()(de()({},o),{},{renderMode:"custom"}),onUserConsentGranted:d})))),Zn=b.default.div.withConfig({componentId:"sc-1jnzcoe-0"})`position:relative;width:100%;`,Xn=b.default.div.withConfig({componentId:"sc-1jnzcoe-1"})`opacity:${e=>e.isLoading?"0.7":"1.0"};`,Jn=b.default.div.withConfig({componentId:"sc-1jnzcoe-2"})`position:absolute;top:${e=>`${e.topMargin}px`};right:${e=>(e.isCustomReadView?.75*a("ZpU/").e:1.5*a("ZpU/").e)+"px"};`
;var zn=({children:e,topMargin:t=0,isCustomReadView:n=!1,isLoading:s})=>r.a.createElement(Zn,null,r.a.createElement(Xn,{isLoading:s},e),s&&r.a.createElement(Jn,{topMargin:t,isCustomReadView:n},r.a.createElement(a("6UK4").a,{size:"small"})));var Qn=(e,t)=>{switch(t.type){case"FORGE_CUSTOM_FIELD_EDIT_INITIALIZATION":return de()(de()({},e),{},{isEditing:!0,isLoading:!0});case"FORGE_CUSTOM_FIELD_EDIT_RENDERED":return de()(de()({},e),{},{isLoading:!1});case"FORGE_CUSTOM_FIELD_EDIT_CANCEL":return de()(de()({},e),{},{isEditing:!1});case"FORGE_CUSTOM_FIELD_EDIT_SET_VALUE":return de()(de()({},e),{},{isEditing:!1,editValue:t.payload});case"FORGE_CUSTOM_FIELD_EDIT_FAILED":return de()(de()({},e),{},{isEditing:!1,isLoading:!1});default:return e}};var ea=({issueKey:e,extensionData:t,extension:n,source:s,fieldId:i,value:l,viewComponent:c,onCancel:d,onSave:u})=>{const[{isEditing:p,isLoading:m,editValue:b},g]=Object(o.useReducer)(Qn,{isEditing:!1,isLoading:!1,editValue:l}),f=Object(o.useMemo)((()=>({
source:s,displayType:"modal",renderContext:"issue-view",fieldType:n.properties.type,module:n.type})),[n,s]),{showFlag:h}=Object(a("uS5k").f)(),E=Object(o.useCallback)((e=>{u(e),g((e=>({type:"FORGE_CUSTOM_FIELD_EDIT_SET_VALUE",payload:e}))(e)),Object(a("t2V/").b)(s,f)}),[u,s,f]),y=Object(o.useCallback)((()=>{d(),g((()=>({type:"FORGE_CUSTOM_FIELD_EDIT_CANCEL"}))()),Object(a("t2V/").c)(s,f)}),[d,s,f]),O=Object(o.useCallback)((()=>g((()=>({type:"FORGE_CUSTOM_FIELD_EDIT_RENDERED"}))())),[]),v=Object(o.useCallback)((()=>{h(p?Object(a("VCDD").a)():Object(a("LxZC").a)()),g((()=>({type:"FORGE_CUSTOM_FIELD_EDIT_FAILED"}))())}),[h,p]),j=Object(o.useCallback)((()=>{Object(a("t2V/").d)(s,f),g((()=>({type:"FORGE_CUSTOM_FIELD_EDIT_INITIALIZATION"}))())}),[s,f]),{save:I}=Object(a("wFnB").a)({issueKey:e,fieldId:i,fieldType:n.id,source:null==s?void 0:s.toString()});return r.a.createElement(r.a.Fragment,null,c(j,b,m),p&&r.a.createElement(a("/QX8").b,{extension:n,extensionData:de()(de()({},t),{},{
fieldValue:b,fieldId:i,fieldType:n.id,renderContext:"issue-view"}),onConfirm:E,onCancel:y,onRender:O,onError:v,onSave:I,analyticsAttributes:f}))};const ta=["renderCustomReadView","shouldRenderCustomReadView","ForgeField","viewProps"],na=["analyticsAttributes"],aa=e=>{let{renderCustomReadView:t,shouldRenderCustomReadView:n,ForgeField:s,viewProps:o}=e,l=z()(e,ta);return r.a.createElement(ea,i()({},l,{viewComponent:(e,i,l)=>{const c=de()(de()({},o),{},{onEditRequest:e,value:i},n?{customReadView:e=>r.a.createElement(zn,{isLoading:l},t(e))}:{fieldContentWrapper:({topMargin:e,children:t})=>r.a.createElement(zn,{isCustomReadView:n,topMargin:e,isLoading:l},t)});return r.a.createElement(a("tShI").b,{shouldFireInitializedEvent:!1},r.a.createElement(s,c))}}))};aa.displayName="ForgeCustomFieldEditInner";const sa=e=>{let{analyticsAttributes:t}=e,n=z()(e,na);return r.a.createElement(a("tShI").a,{attributes:t},r.a.createElement(aa,n))};sa.displayName="ForgeCustomFieldEdit";const ia=e=>{
const{label:t,showPinButton:n,fieldId:s,customReadView:i,value:l,onEditRequest:c,isEditing:d,onCancel:u,onSave:p,analyticsAttributes:m,shouldFireScreenEvent:b}=e,g=Object(a("ovRs").h)(),[{data:f}]=Object(a("NvmA").b)(),{formatMessage:h}=Object(a("NRyt").d)(),E=Object(o.useMemo)((()=>f?f.timeZone:Object(a("Rp3N").w)(Object(a("/EHM").a)())),[f]),y=Object(o.useCallback)((e=>{p(e)}),[p]),O=Object(o.useMemo)((()=>de()(de()({},m),{},{renderMode:"default"})),[m]),v=Object(o.useCallback)((()=>r.a.createElement(r.a.Fragment,null,b&&r.a.createElement(a("W0w5").b,{attributes:O}),r.a.createElement(a("k3VE").DateTimeField,{isFitContainerWidthReadView:!0,readView:i?i(l):void 0,onEdit:c,noValueText:h(ze.noValue),issueKey:g,fieldKey:s,timeZone:E,isEditing:d,onUpdate:y,onCancel:u}))),[b,i,l,c,g,s,E,d,y,u,O,h]);return r.a.createElement(In,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{renderAfterOnHover:!0===n&&r.a.createElement(a("UOlw").a,{fieldId:s,
label:t})},r.a.createElement(a("gEry").c,null,t)):r.a.createElement(a("HlSV").a,null,r.a.createElement(a("gEry").c,null,t),!0===n&&r.a.createElement(a("UOlw").a,{fieldId:s,label:t})),r.a.createElement(a("gEry").g,{isEditing:d},(()=>{const t=e.fieldContentWrapper;return pe()(t)?v():r.a.createElement(t,{topMargin:.75*a("ZpU/").e},v())})()))};ia.displayName="View";var oa=Object(a("v5q+").a)([Object(c.connect)(null,((e,t)=>({onSave:n=>e(Object(a("QNn4").g)(t.fieldId,n,t.fieldOptions))})))])(ia);const ra=e=>({content:e.name,value:e.name}),la=Object(a("Wwog").a)((()=>e=>Object(a("QNWr").a)(`/rest/api/2/groups/picker?query=${encodeURIComponent(e)}`).then((e=>(e=>e&&e.groups?[{items:e.groups.map(ra)}]:[{items:[]}])(e)))));var ca=Object(l.defineMessages)({placeholder:{id:"issue.forge.group.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select group"}})
;const da=["shouldFireScreenEvent","extension","type","value","customReadView","onChange","analyticsAttributes"],ua=["shouldFireScreenEvent","extension","type","value","customReadView","onChange","intl","analyticsAttributes"];var pa=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestions:la(),allowEmptyValue:!Object(a("KSj7").I)(t)(e)})),{})((e=>{let{shouldFireScreenEvent:t,extension:n,type:s,value:l,customReadView:c,onChange:d,analyticsAttributes:u}=e,p=z()(e,da);const{formatMessage:m}=Object(a("NRyt").d)(),b=Object(a("Wwog").a)((e=>e?{name:String(e.value)}:null)),g=Object(a("Wwog").a)((e=>e?{value:String(e.name),content:String(e.name)}:null)),f=Object(o.useCallback)((e=>d(b(e))),[b,d]),h=Object(o.useCallback)(pe()(c)?()=>null:()=>c(l),[c,l]),E=pe()(c)?void 0:h,y=Object(o.useMemo)((()=>de()(de()({},u),{},{renderMode:"default"})),[u]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:y
}),r.a.createElement(qt,i()({},p,{renderReadView:E,value:g(l),placeholder:m(ca.placeholder),noValueText:m(ze.noValue),onChange:f,hasAutocomplete:!0})))})),u()([l.injectIntl,Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestions:la(),allowEmptyValue:!Object(a("KSj7").I)(t)(e)})),{})])((e=>{let{shouldFireScreenEvent:t,extension:n,type:s,value:l,customReadView:c,onChange:d,intl:{formatMessage:u},analyticsAttributes:p}=e,m=z()(e,ua);const b=Object(a("Wwog").a)((e=>e?{name:String(e.value)}:null)),g=Object(a("Wwog").a)((e=>e?{value:String(e.name),content:String(e.name)}:null)),f=Object(o.useCallback)((e=>d(b(e))),[b,d]),h=Object(o.useCallback)(pe()(c)?()=>null:()=>c(l),[c,l]),E=pe()(c)?void 0:h,y=Object(o.useMemo)((()=>de()(de()({},p),{},{renderMode:"default"})),[p]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:y}),r.a.createElement(qt,i()({},m,{renderReadView:E,value:g(l),placeholder:u(ca.placeholder),noValueText:u(ze.noValue),onChange:f,
hasAutocomplete:!0})))}))),ma=Object(l.defineMessages)({placeholder:{id:"issue.forge.groups.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select groups"}});const ba=["shouldFireScreenEvent","extension","type","value","onChange","customReadView","analyticsAttributes"],ga=["shouldFireScreenEvent","extension","type","value","onChange","customReadView","intl","analyticsAttributes"];var fa=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestions:la(),allowEmptyValue:!Object(a("KSj7").I)(t)(e)})),{})((e=>{let{shouldFireScreenEvent:t,extension:n,type:s,value:l,onChange:c,customReadView:d,analyticsAttributes:u}=e,p=z()(e,ba);const{formatMessage:m}=Object(a("NRyt").d)(),b=Object(a("Wwog").a)((e=>e?e.map((e=>({name:String(e.value)}))):[])),g=Object(a("Wwog").a)((e=>e?e.map((e=>({value:String(e.name),content:String(e.name)
}))):[])),f=Object(o.useCallback)((e=>c(b(e))),[b,c]),h=Object(o.useCallback)(pe()(d)?()=>null:e=>d(b(e)),[d]),E=pe()(d)?void 0:h,y=Object(o.useMemo)((()=>de()(de()({},u),{},{renderMode:"default"})),[u]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:y}),r.a.createElement(Rt,i()({},p,{value:g(l),customReadView:E,placeholder:m(ma.placeholder),noValueText:m(ze.noValue),onChange:f})))})),u()([l.injectIntl,Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestions:la(),allowEmptyValue:!Object(a("KSj7").I)(t)(e)})),{})])((e=>{let{shouldFireScreenEvent:t,extension:n,type:s,value:l,onChange:c,customReadView:d,intl:{formatMessage:u},analyticsAttributes:p}=e,m=z()(e,ga);const b=Object(a("Wwog").a)((e=>e?e.map((e=>({name:String(e.value)}))):[])),g=Object(a("Wwog").a)((e=>e?e.map((e=>({value:String(e.name),content:String(e.name)
}))):[])),f=Object(o.useCallback)((e=>c(b(e))),[b,c]),h=Object(o.useCallback)(pe()(d)?()=>null:e=>d(b(e)),[d]),E=pe()(d)?void 0:h,y=Object(o.useMemo)((()=>de()(de()({},p),{},{renderMode:"default"})),[p]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:y}),r.a.createElement(Rt,i()({},m,{value:g(l),customReadView:E,placeholder:u(ma.placeholder),noValueText:u(ze.noValue),onChange:f})))}))),ha=Object(l.defineMessages)({label:{id:"issue.labels.label",defaultMessage:"Labels"},placeholder:{id:"issue.labels.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Label"},createNewItem:{id:"issue.labels.create-new-item-message",defaultMessage:"New label"},recent:{id:"issue.labels.recent-items",defaultMessage:"Recent labels"},all:{id:"issue.labels.all-items",defaultMessage:"All labels"}});const Ea=(e,{baseUrl:t,fieldId:n})=>e?e.map((e=>{const s=encodeURIComponent(`${(e=>{const t="customfield_"
;if(e.startsWith(t))return`cf[${e.substring(t.length,e.length)}]`;return e})(n)} = ${Object(a("wQ4K").b)(e)}`);return{content:e,value:e,href:`${t}/issues/?jql=${s}`}})):[],ya=e=>e.map((e=>e.value)),Oa=e=>({content:e.label,value:e.label}),va=(e,t=[],n)=>{const a=e.suggestions||[],s=(e=>e.slice(-5).reverse())(t);return[{heading:n(ha.recent),items:s.map(Oa)},{heading:n(ha.all),items:a.map(Oa)}]},ja=ie()(((e,t,n,s,i)=>(o,r)=>{if(null==e)return Promise.resolve([]);let l=`${e}${encodeURIComponent(o)}`;null!=r&&(l=`${l}&sessionId=${r}`),null!=n&&(l=`${l}&fieldEditSessionId=${n}`);const c=a("SHpS").d.now(),d=o.length;return Promise.all([Object(a("QNWr").a)(l),a("w5PJ").a.getAll()]).then((([e,n])=>("labels"===t&&Object(a("fjz3").b)("labels",c,s,{sessionId:r,queryLength:d}),va(e,n,i)))).catch((e=>{throw"labels"===t&&Object(a("fjz3").a)("labels",c,s,{sessionId:r}),e}))}),((e,t)=>`${e}_${t}`)),Ia=ie()(((e,t)=>(n,s)=>{if(!n&&null!=e){
const{prefetched:n,fieldValuePromise:i,sessionId:o,prefetchSessionId:r}=e,{createAnalyticsEvent:l}=t;if(n&&null!==i&&null!==o){re(l,r,s||"",o,"labels");const e=a("SHpS").d.now();return Promise.all([i,a("w5PJ").a.getAll()]).then((([n,i])=>(Object(a("fjz3").b)("labels",e,l,{sessionId:s,isPrefetched:!0,queryLength:0}),va(n,i,t.formatMessage)))).catch((t=>{throw Object(a("fjz3").a)("labels",e,l,{sessionId:s,isPrefetched:!0}),t}))}le(l,r,s||"","labels")}return t.fetchSuggestions(n,s)}),((e,t)=>`${e&&e.prefetchSessionId||""}_${t.issueKey}`)),Ca=e=>{if(e.length>55)return r.a.createElement(l.FormattedMessage,{id:"issue.labels-view.input-too-many-labels",defaultMessage:"Can't have more than {max} labels.",values:{max:55}});return e.map((e=>e.content.trim())).some((e=>e.includes(" ")||e.length>255))?r.a.createElement(l.FormattedMessage,{id:"issue.labels-view.input-label-is-invalid",defaultMessage:"Labels can't have spaces or be more than {max} characters.",values:{max:255}}):void 0
},Sa=["initFieldOptions","issueKey","createAnalyticsEvent","formatMessage"];class ka extends o.Component{constructor(...e){super(...e),this.state={data:[],loading:!1,error:!1},this.getDataFromCache=()=>{var e,t;null===(e=(t=this.props).getDataFromCache)||void 0===e||e.call(t).then((e=>{this.setState({data:e,loading:!1})}))},this.fetchSuggestions=e=>(t,n)=>e(t,n).then((e=>(this.setState({data:e}),e))),this.onEditRequest=()=>{Object(a("B2Rg").b)().cancel({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_INPUT_RESULT},!0),Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0}),this.props.onEditRequest()},this.onConfirm=()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CONFIRM}),this.props.onConfirm()},this.onCancel=()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CANCEL}),this.props.onCancel()},this.onChange=(e,t)=>{
null!=t&&null!=t.action&&("select-option"===t.action?Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_SELECTED_EXISTING}):"remove-value"===t.action?Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_REMOVED_EXISTING}):"create-option"===t.action&&Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_SELECTED_NEW})),this.props.onChange(e)},this.onDataRequest=({isInitial:e})=>{e||Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},this.onDataLoaded=({isInitial:e}={})=>{e?Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS}):Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_INPUT_RESULT})}}componentDidMount(){this.props.initFieldOptions(),this.getDataFromCache()}componentDidUpdate(e){const{isEditing:t,value:n,fieldId:s}=this.props
;if("labels"===s){const s=!e.isEditing&&t,i=e.isEditing&&!t;e.isEditing&&t&&(n.length>e.value.length?(Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_SELECTED_EXISTING}),Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_SELECTED_NEW})):n.length<e.value.length&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_REFLECT_REMOVED_EXISTING})),i&&(Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CANCEL}),e.value===n&&Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.LABELS.TIME_TO_RENDER_READ_VIEW_ON_CONFIRM})),s&&Object(a("B2Rg").b)().markTimeToFeedback({key:a("/kYB").a.LABELS.TIME_TO_RENDER_INITIAL_SUGGESTIONS})}}renderMultiSelectInlineEditView(e){const{initFieldOptions:t,issueKey:n,createAnalyticsEvent:s,formatMessage:o}=e,l=z()(e,Sa),c="labels"===this.props.fieldId?{onEditRequest:this.onEditRequest,onConfirm:this.onConfirm,
onCancel:this.onCancel,onChange:this.onChange,onDataRequest:this.onDataRequest,onDataLoaded:this.onDataLoaded}:{},{data:d,loading:u,error:p}=this.state,m={data:d,loading:u,error:p},b=this.fetchSuggestions(e.fetchSuggestions);return r.a.createElement(wa,i()({debounceFetchSuggestionsTime:400,initialData:m},l,{fetchSuggestions:b},c,{issueKey:Object(a("d90y").isFieldDescriptionEnabled)()?n:void 0}))}renderWithCachedValue(){const{issueKey:e}=this.props,t=Object(a("ShTA").a)(e,"labels");return r.a.createElement(t,{fieldId:"labels"},(e=>{const t=Ia(e,this.props),n=de()(de()({},this.props),{},{fetchSuggestions:t});return this.renderMultiSelectInlineEditView(n)}))}render(){return"labels"===this.props.fieldId?this.renderWithCachedValue():this.renderMultiSelectInlineEditView(this.props)}}ka.displayName="LabelsView",ka.displayName="LabelsView";const wa=e=>{
const t=Object(o.useCallback)(ie()(e.fetchSuggestions,(t=>`${t}_${e.fieldEditSessionId||""}`)),[e.fetchSuggestions,e.fieldEditSessionId,e.invalidMessage]);return r.a.createElement(Rt,i()({},e,{fetchSuggestions:t}))};wa.displayName="MemoizedLabels";var Ta=ka,Da=Object(l.defineMessages)({placeholder:{id:"issue.forge.labels.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select label"},createNewItem:{id:"issue.forge.labels.create-new-item-message",defaultMessage:"{value} (New label)"}});const Ra=["shouldFireScreenEvent","value","type","extension","baseUrl","projectKey","onChange","customReadView","fetchSuggestionsArgs","analyticsAttributes"],La=e=>{const t=e.map((e=>({value:String(e.value),content:e.content,href:e.href||""})));return Ca(t)||null};var Ma=Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestionsArgs:{fieldAutoCompleteUrl:Object(a("KSj7").e)(t)(e),fieldId:t,fieldEditSessionId:Object(a("KSj7").g)(t)(e)},issueKey:Object(a("4dgq").w)(e),
baseUrl:Object(a("4dgq").f)(e),projectKey:Object(a("4dgq").A)(e)})),{})((e=>{let{shouldFireScreenEvent:t,value:n,type:s,extension:l,baseUrl:c,projectKey:d,onChange:u,customReadView:p,fetchSuggestionsArgs:b,analyticsAttributes:g}=e,f=z()(e,Ra);const{formatMessage:h}=Object(a("NRyt").d)(),E=Object(o.useCallback)((e=>h(Da.createNewItem,{value:e})),[h]),y=Object(o.useCallback)((e=>{const t=ya(e.map((e=>({value:String(e.value),content:e.content,href:e.href||""}))));u(t)}),[u]),O=Object(o.useMemo)((()=>{const e={fieldId:f.fieldId,issueKey:f.issueKey,baseUrl:c,projectKey:d};return Ea(n,e).map((e=>({value:String(e.value),content:e.content,href:e.href||""})))}),[c,f.fieldId,f.issueKey,d,n]),v=Object(o.useCallback)(pe()(p)?()=>null:()=>p(n),[p]),j=pe()(p)?void 0:v,I=ja(b.fieldAutoCompleteUrl,b.fieldId,b.fieldEditSessionId,void 0,h),C=Object(o.useMemo)((()=>de()(de()({},g),{},{renderMode:"default"})),[g]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:C
}),r.a.createElement(Ta,i()({},f,{formatMessage:h,fetchSuggestions:I,placeholder:h(Da.placeholder),noValueText:h(ze.noValue),customReadView:j,canCreateNewItem:!0,allowEmptyValue:!0,validate:La,formatCreateLabel:E,value:O,onChange:y,initFieldOptions:m.a})))}));const Aa=b.default.div.withConfig({componentId:"kgl52w-0"})`display:flex;flex:1 1 auto;line-height:${2.5*a("ZpU/").e/a("ZpU/").d};word-break:break-word;position:relative;width:100%;`,_a=b.css`margin:0px;& > div{margin:0 8px 0 0;padding:2px 2px 2px 0;}${Aa}{min-height:${4*a("ZpU/").e-4}px;align-items:center;}`,Na=b.default.div.withConfig({componentId:"kgl52w-1"})`margin-left:-8px;margin-top:-8px;width:100%;& div[data-read-view-fit-container-width]{display:flex;align-items:center;width:100%;min-height:${4*a("ZpU/").e}px;padding:0 0 0 6px;}${({isEditable:e})=>!e&&_a}`;class xa extends o.Component{constructor(t){super(t),this.onChange=t=>{const{type:n}=this.props;let a
;if("number"===n)""===t.target.value?a=null:(a=Number(t.target.value),this.setState({displayValue:t.target.value}));else if("object"===n)try{a=JSON.parse(t.target.value)}catch(e){a=t.target.value}else a=t.target.value;"url"===n&&this.setState({showValidationMessage:!1,invalidMessage:t.target.validationMessage}),this.props.onChange(a)},this.onConfirm=()=>{this.state.invalidMessage?(this.setState({showValidationMessage:!0}),this.editFieldRef.current&&this.editFieldRef.current.focus()):this.props.onConfirm()},this.onCancel=()=>{"url"===this.props.type&&this.setState({showValidationMessage:!1,invalidMessage:null}),this.props.onCancel()},this.editFieldRef=Object(o.createRef)(),this.renderReadViewWithContentWrapper=()=>{const{fieldContentWrapper:e,isEditable:t}=this.props;return pe()(e)?Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(Aa,{isEditable:t
},this.renderReadView()):this.renderReadView():r.a.createElement(e,null,Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(Aa,{isEditable:t},this.renderReadView()):this.renderReadView())},this.renderEditView=()=>{const{value:e,placeholder:t,type:n}=this.props;let s="";return null!=e&&(s="object"===n&&"object"==typeof e?JSON.stringify(e):this.state.displayValue||e.toString()),r.a.createElement(a("d1Lu").a,{ref:this.editFieldRef,type:this.props.type,value:s,placeholder:t,onChange:this.onChange,invalidMessage:this.props.invalidMessage||(this.state.showValidationMessage?this.state.invalidMessage:null)})},this.state={invalidMessage:null,showValidationMessage:!1,displayValue:null}}componentDidUpdate(e){"number"===this.props.type&&this.props.value!==e.value&&(this.state.displayValue=null)}renderReadView(){const{value:e,noValueText:t,type:n,customReadView:s,fieldId:i}=this.props;if(s)return s(e);if(null==e||""===e)return r.a.createElement(a("gVzX").b,null,t);const o=((e,t)=>{
switch(e){case"number":return r.a.createElement(l.FormattedNumber,{value:t});case"text":return Object(a("u0Kn").a)(t)?r.a.createElement("a",{href:`mailto:${t}`},t):Number(t)?t:Object(a("v+vH").a)(t)?r.a.createElement("a",{href:Object(a("OcFG").a)(t,"//"),target:"_blank"},t):t;case"url":return Object(a("u0Kn").a)(t)?r.a.createElement("a",{href:`mailto:${t}`},t):r.a.createElement("a",{href:Object(a("OcFG").a)(t,"//"),target:"_blank"},t);case"object":return r.a.createElement("p",null,JSON.stringify(t));default:return t}})(n,e),c=`issue.views.field.single-line-text-inline-edit.read-view.${i}`;return"text"===n&&Object(a("d90y").isSingleLineTextFieldTextWrappingEnabled)()?r.a.createElement("div",{"data-test-id":c},o):r.a.createElement(a("gVzX").a,{"data-test-id":c,title:o},o)}render(){const{intl:e,label:t,isEditable:n,isEditing:s,onEditRequest:i,isMobile:o,titleView:l=this.props.label,fieldId:c,showPinButton:d,issueKey:u}=this.props,p=`issue.views.field.single-line-text-inline-edit.${c}`
;return r.a.createElement(a("gEry").d,{"data-test-id":p},Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==u&&void 0!==c&&r.a.createElement(a("n7/x").a,{issueKey:u,fieldKey:c}),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:c,label:t}))},r.a.createElement(a("gEry").c,null,l)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,l),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==u&&void 0!==c&&r.a.createElement(a("n7/x").a,{issueKey:u,fieldKey:c}),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:c,label:t})),r.a.createElement(a("gEry").g,{isEditing:s},Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(Na,{isEditing:s,isEditable:n},r.a.createElement(a("JZTM").a,{
isLabelHidden:!0,label:t,readView:this.renderReadViewWithContentWrapper(),editView:n?this.renderEditView():()=>null,isEditing:s,isEditable:n,onConfirm:this.onConfirm,onCancel:this.onCancel,onEdit:i,onEditRequested:i,onEscape:this.onCancel,readViewFitContainerWidth:!o,editButtonLabel:e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:t}),confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:t})})):r.a.createElement(a("iAtd").a,{onEnter:this.onConfirm,onEscape:this.onCancel},r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:t,readView:this.renderReadViewWithContentWrapper(),editView:n?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:s,onConfirm:this.onConfirm,onCancel:this.onCancel,onEditRequested:i,isFitContainerWidthReadView:!o,editButtonLabel:e.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:t}),
confirmButtonLabel:e.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:t}),cancelButtonLabel:e.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:t})}))))}}xa.displayName="SingleLineTextInlineEditView",xa.displayName="SingleLineTextInlineEditView",xa.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,value:null,noValueText:null,invalidMessage:null,type:"text",label:""};var Ua=Object(l.injectIntl)(xa);const Fa=["shouldFireScreenEvent","extension","analyticsAttributes"],Pa=e=>{switch(e){case"string":return"text";case"number":case"object":return e;default:return"text"}};var Va=e=>{let{shouldFireScreenEvent:t,extension:n,analyticsAttributes:s}=e,l=z()(e,Fa);const{type:c}=n.properties,d=Object(o.useMemo)((()=>de()(de()({},s),{},{renderMode:"default"})),[s]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:d}),r.a.createElement(Ua,i()({},l,{noValueText:null,type:Pa(c)})))}
;const Ka=["shouldFireScreenEvent","isFieldRequired","extension","type","value","isFieldInTab","analyticsAttributes"],$a=["shouldFireScreenEvent","isFieldRequired","extension","type","value","isFieldInTab","analyticsAttributes"],Wa=e=>e.users?e.users.map(Oe):[],Ba=Object(a("Wwog").a)((e=>t=>null===e?Promise.resolve([]):Object(a("QNWr").a)(`${e}${t}`).then(Wa))),qa=Object(a("Wwog").a)((e=>({avatarUrl:"",name:e.formatMessage(ze.noValue)})));var Ha=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(c.connect)(((e,{fieldId:t})=>({isFieldInTab:y(t)(e),fetchSuggestions:Ba(Object(a("KSj7").e)(t)(e)),isFieldRequired:Object(a("KSj7").I)(t)(e)})),{})((e=>{let{shouldFireScreenEvent:t,isFieldRequired:n,extension:s,type:l,value:c,isFieldInTab:d,analyticsAttributes:u}=e,p=z()(e,Ka);const m=Object(a("NRyt").d)(),b=d&&(Object(a("tpMn").a)()||document.body)||void 0,g=Object(o.useMemo)((()=>de()(de()({},u),{},{renderMode:"default"})),[u])
;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:g}),r.a.createElement(Ee,i()({},p,{value:Oe(c),emptyOption:n?void 0:qa(m),portalElement:b,onChange:e=>{p.onChange(ve(e))},intl:m})))})),u()([l.injectIntl,Object(c.connect)(((e,{fieldId:t})=>({isFieldInTab:y(t)(e),fetchSuggestions:Ba(Object(a("KSj7").e)(t)(e)),isFieldRequired:Object(a("KSj7").I)(t)(e)})),{})])((e=>{let{shouldFireScreenEvent:t,isFieldRequired:n,extension:s,type:l,value:c,isFieldInTab:d,analyticsAttributes:u}=e,p=z()(e,$a);const m=d&&(Object(a("tpMn").a)()||document.body)||void 0,b=Object(o.useMemo)((()=>de()(de()({},u),{},{renderMode:"default"})),[u]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:b}),r.a.createElement(Ee,i()({},p,{value:Oe(c),emptyOption:n?void 0:qa(p.intl),portalElement:m,onChange:e=>{p.onChange(ve(e))}})))})));const Ga=b.default.span.withConfig({componentId:"cbz1ij-0"
})`align-items:center;box-sizing:border-box;display:flex;line-height:1;outline:none;margin:0;width:100%;cursor:pointer;`,Ya=b.default.div.withConfig({componentId:"cbz1ij-1"})`max-width:'100%';min-width:0;flex:'1 1 100%';line-height:'1.4';padding-left:${a("ZpU/").e}px;`,Za=b.default.span.withConfig({componentId:"cbz1ij-2"})`margin:0;color:${"#091E42"};overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;${e=>e.secondary&&"color: #6B778C; font-size: 0.85em;"};`,Xa=({avatarUrl:e,label:t,email:n,context:s})=>{const i="value"===s?"xsmall":"medium";return r.a.createElement(Ga,null,r.a.createElement(a("1JKq").a,{size:i,src:e}),r.a.createElement(Ya,null,r.a.createElement("div",null,r.a.createElement(Za,null,t)),r.a.createElement("div",null,r.a.createElement(Za,{secondary:!0},n))))};Xa.displayName="UserOptionView";var Ja=Xa,za=Object(l.defineMessages)({placeholder:{id:"issue.multi-user.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select User"}})
;const Qa="24x24",es=Object(a("Wwog").a)((e=>e&&e.map((e=>({displayName:e.content,accountId:e.accountId,id:Object(a("Rp3N").a)(String(e.value)),avatarUrls:{[Qa]:String(e.avatarUrl)}}))))),ts=Object(a("Wwog").a)((e=>e?e.map((e=>({content:e.displayName,value:String(e.accountId),key:e.accountId,avatarUrl:e.avatarUrls&&e.avatarUrls["24x24"],accountId:e.accountId,elemBefore:r.a.createElement(a("1JKq").a,{size:"xsmall",src:e.avatarUrls&&e.avatarUrls["24x24"]})}))):[])),ns=Object(a("Wwog").a)((e=>[{items:(e&&e.users||[]).map((e=>({content:e.displayName,value:String(e.accountId),accountId:e.accountId,avatarUrl:e.avatarUrls["24x24"],email:e.emailAddress})))}])),as=ie()((e=>t=>e?Object(a("QNWr").a)(`${e}${t}`).then(ns):Promise.resolve([]))),ss=(Object(a("Wwog").a)((e=>t=>e?Object(a("QNWr").a)(`${e}${t}`).then(ns):Promise.resolve([]))),(e,t)=>r.a.createElement(Ja,{avatarUrl:e.avatarUrl,email:e.email,label:e.label,context:t.context}));ss.displayName="formatOptionLabel"
;var is=Object(a("/cyb").a)(((e,t)=>de()(de()({fieldId:t.fieldId},{transformFromStateValue:ts,transformToStateValue:es}),{},{additionalProps:(e,n)=>({fetchSuggestions:as(Object(a("KSj7").e)(t.fieldId)(e)),placeholder:n.formatMessage(za.placeholder),noValueText:n.formatMessage(ze.noValue),tagAppearance:"rounded",showDropdownOnClick:!1,isUserTag:!0,formatOptionLabel:ss,showPinButton:Object(a("NSuG").a)(t.area)})})))(Rt);const os=["shouldFireScreenEvent","extension","type","value","onChange","customReadView","analyticsAttributes"],rs=["shouldFireScreenEvent","extension","type","value","onChange","customReadView","intl","analyticsAttributes"],ls=e=>r.a.createElement(Et,null,pe()(e.avatarUrl)?null:r.a.createElement(a("1JKq").a,{size:"small",src:e.avatarUrl}),r.a.createElement(yt,null,e.label));ls.displayName="formatOptionLabel";var cs=Object(a("5WHm").a)(a("d90y").isInjectIntlHOCMigrationEnabled,Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestions:as(Object(a("KSj7").e)(t)(e))
})),{})((e=>{let{shouldFireScreenEvent:t,extension:n,type:s,value:l,onChange:c,customReadView:d,analyticsAttributes:u}=e,p=z()(e,os);const{formatMessage:m}=Object(a("NRyt").d)(),b=Object(o.useCallback)((e=>c(es(e))),[c]),g=Object(o.useCallback)(pe()(d)?()=>null:e=>d(es(e)),[d]),f=pe()(d)?void 0:g,h=Object(o.useMemo)((()=>de()(de()({},u),{},{renderMode:"default"})),[u]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:h}),r.a.createElement(Rt,i()({},p,{value:ts(l),customReadView:f,placeholder:m(za.placeholder),noValueText:m(ze.noValue),onChange:b,tagAppearance:"rounded",formatOptionLabel:ls})))})),u()([l.injectIntl,Object(c.connect)(((e,{fieldId:t})=>({fetchSuggestions:as(Object(a("KSj7").e)(t)(e))})),{})])((e=>{let{shouldFireScreenEvent:t,extension:n,type:s,value:l,onChange:c,customReadView:d,intl:{formatMessage:u},analyticsAttributes:p}=e,m=z()(e,rs)
;const b=Object(o.useCallback)((e=>c(es(e))),[c]),g=Object(o.useCallback)(pe()(d)?()=>null:e=>d(es(e)),[d]),f=pe()(d)?void 0:g,h=Object(o.useMemo)((()=>de()(de()({},p),{},{renderMode:"default"})),[p]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(a("W0w5").b,{attributes:h}),r.a.createElement(Rt,i()({},m,{value:ts(l),customReadView:f,placeholder:u(za.placeholder),noValueText:u(ze.noValue),onChange:b,tagAppearance:"rounded",formatOptionLabel:ls})))})));var ds=Object(a("Wwog").a)((e=>{if(!e)return null;const{type:t,collection:n="none"}=e.properties,a=(()=>({none:{user:Ha,group:pa,string:Va,number:Va,object:Va,datetime:oa},list:{string:Ma,group:fa,user:cs}}))()[n];return a?a[t]:null}));const us=["datetime"],ps=(e,t,n,s,i,r,l)=>{const[,{setFieldValue:c}]=Object(a("j3bG").b)({issueKey:e,fieldKey:n}),[d,u]=Object(o.useState)(null),[p,m]=Object(o.useState)(!1);return{error:d,isLoading:p,requestExecuteValueFunction:Object(o.useCallback)((async()=>{u(null),m(!0);try{
const o=await((e,t)=>Object(a("/rpS").d)("/rest/internal/3/forge/field/value",{body:JSON.stringify({customFieldId:e,issueIds:t})}))(n,[t]);if(o){const t=null==o?void 0:o.values[0].value;i(t),us.includes(s)&&c(e,n,t)}}catch(o){Object(a("8NtX").a)(l,de()(de()({},r),{},{error:Error(`Invoke value functions failed: ${o}`)})),u(o)}finally{m(!1)}}),[s,c,n,t,e])}},ms=["issueKey","issueId","hasCustomFieldExtensions","isFilteredOut","shouldUseFormatter","extension","extensionData","fieldId","value","source","fields","formattedValue","analyticsAttributes","onSave"],bs=["issueKey","issueId","hasCustomFieldExtensions","isFilteredOut","shouldUseFormatter","extension","extensionData","fieldId","value","source","fields","formattedValue","analyticsAttributes","onSave"],gs=[{width:100}],fs=e=>{var t
;let{issueKey:n,issueId:s,hasCustomFieldExtensions:i,isFilteredOut:l,shouldUseFormatter:c,extension:d,extensionData:u,fieldId:p,value:m,source:b,fields:g,formattedValue:f=null,analyticsAttributes:h,onSave:E}=e,y=z()(e,ms);const O=ds(d),{error:v,isLoading:j,requestExecuteValueFunction:I}=ps(n,s,p,null==d||null===(t=d.properties)||void 0===t?void 0:t.type,E,h,b),C=Object(o.useCallback)((()=>null!=(null==d?void 0:d.properties.value)),[null==d?void 0:d.properties.value]);Object(o.useEffect)((()=>{C()&&I()}),[I,C]);const{requiresUserConsent:S}=d||{},[k,w]=Object(o.useState)(S);if(Object(o.useEffect)((()=>{if(!Object(a("d90y").isForgeLayoutLoggingEnabled)()){if(!d||!O){const e=d?`Forge custom field ${d.properties.type} type is not supported`:"Forge extension passed to ForgeCustomField component is null or undefined";Object(a("8NtX").a)(b,de()(de()({},h),{},{error:Error(e),fieldId:p,extensionProperties:null==d?void 0:d.properties}))}return}if(d&&O)return
;const e=(e,t)=>e(b,de()(de()({},h),{},{fieldId:p,error:Error(t),extensionProperties:null==d?void 0:d.properties}));d&&!O?e(a("8NtX").a,`Forge custom field ${d.properties.type} type is not supported`):g[p]?e(a("8NtX").a,"Forge extension passed to ForgeCustomField component is not found"):e(a("8NtX").b,"ForgeCustomField component can't be rendered as Jira isn't aware of that field (layout issue)")}),[O,h,d,p,g,b]),!d||!O)return null;if(C()){if(null!==v)return r.a.createElement(a("8jHh").a,{error:v,onRetry:I});if(j)return r.a.createElement(a("BX+v").a,{skeletonConfig:gs})}const{type:T,collection:D,function:R}=d.properties,L=!pe()(R)||c;"object"!==T||L||Object(a("8NtX").c)("Forge object type custom field rendered without rendering or formatter function");const M=Object(a("Wwog").a)(Yn)({extension:d,extensionData:u,type:T,fieldId:p,collection:D,analyticsAttributes:h,shouldUseFormatter:c,formattedValue:f,onUserConsentGranted:()=>w(!1)}),A=de()(de()({shouldFireScreenEvent:!L,
analyticsAttributes:h,value:m,fieldId:p,extension:d,titleView:r.a.createElement(a("hd2M").a,{extensionName:y.label,extensionEnvType:d.environmentType})},L?{customReadView:M}:null),y);if(d.properties.edit){const{onCancel:e}=y;return r.a.createElement(sa,{issueKey:n,fieldId:p,value:m,extension:Object(a("ICzN").b)(d,{requiresUserConsent:k}),extensionData:u,source:b,analyticsAttributes:h,renderCustomReadView:M,shouldRenderCustomReadView:L,viewProps:A,ForgeField:O,onCancel:e,onSave:E})}return r.a.createElement(O,A)};fs.displayName="ForgeCustomFieldView";const hs=e=>{let{issueKey:t,issueId:n,hasCustomFieldExtensions:s,isFilteredOut:i,shouldUseFormatter:l,extension:c,extensionData:d,fieldId:u,value:p,source:m,fields:b,formattedValue:g=null,analyticsAttributes:f,onSave:h}=e,E=z()(e,bs);const y=ds(c),{requiresUserConsent:O}=c||{},[v,j]=Object(o.useState)(O);if(Object(o.useEffect)((()=>{if(!Object(a("d90y").isForgeLayoutLoggingEnabled)()){if(!c||!y){
const e=c?`Forge custom field ${c.properties.type} type is not supported`:"Forge extension passed to ForgeCustomField component is null or undefined";Object(a("8NtX").a)(m,de()(de()({},f),{},{error:Error(e),fieldId:u,extensionProperties:null==c?void 0:c.properties}))}return}if(c&&y)return;const e=(e,t)=>e(m,de()(de()({},f),{},{fieldId:u,error:Error(t),extensionProperties:null==c?void 0:c.properties}));c&&!y?e(a("8NtX").a,`Forge custom field ${c.properties.type} type is not supported`):b[u]?e(a("8NtX").a,"Forge extension passed to ForgeCustomField component is not found"):e(a("8NtX").b,"ForgeCustomField component can't be rendered as Jira isn't aware of that field (layout issue)")}),[y,f,c,u,b,m]),!c||!y)return null;const{type:I,collection:C,function:S}=c.properties,k=!pe()(S)||l;"object"!==I||k||Object(a("8NtX").c)("Forge object type custom field rendered without rendering or formatter function");const w=Object(a("Wwog").a)(Yn)({extension:c,extensionData:d,type:I,fieldId:u,
collection:C,analyticsAttributes:f,shouldUseFormatter:l,formattedValue:g,onUserConsentGranted:()=>j(!1)}),T=de()(de()({shouldFireScreenEvent:!k,analyticsAttributes:f,value:p,fieldId:u,extension:c,titleView:r.a.createElement(a("hd2M").a,{extensionName:E.label,extensionEnvType:c.environmentType})},k?{customReadView:w}:null),E);if(c.properties.edit){const{onCancel:e}=E;return r.a.createElement(sa,{issueKey:t,fieldId:u,value:p,extension:Object(a("ICzN").b)(c,{requiresUserConsent:v}),extensionData:d,source:m,analyticsAttributes:f,renderCustomReadView:w,shouldRenderCustomReadView:k,viewProps:T,ForgeField:y,onCancel:e,onSave:h})}return r.a.createElement(y,T)};hs.displayName="ForgeCustomFieldViewLegacy";const Es=e=>{const{source:t,extension:n,hasCustomFieldExtensions:s,isFilteredOut:l}=e,c=Object(o.useMemo)((()=>({source:t,renderContext:"issue-view",module:null==n?void 0:n.type,fieldType:null==n?void 0:n.properties.type})),[t,n]);return!s||l?null:r.a.createElement(a("tShI").b,{attributes:c
},Object(a("d90y").isValueFunctionEnabled)()?r.a.createElement(fs,i()({},e,{analyticsAttributes:c})):r.a.createElement(hs,i()({},e,{analyticsAttributes:c})))};Es.displayName="ForgeCustomField";var ys=Object(Bn.compose)(Object(a("/cyb").a)(((e,{fieldId:t,area:n})=>({fieldId:t,additionalProps:(e,s,i)=>({showPinButton:Object(a("NSuG").a)(n),fieldOptions:de()(de()({},i),{},{isOptimistic:!Object(a("T8UA").n)(t)(e)})})}))),Object(c.connect)(((e,{fieldId:t})=>({hasCustomFieldExtensions:Object(a("T8UA").l)(e),isFilteredOut:Object(a("T8UA").m)(t)(e),shouldUseFormatter:Object(a("T8UA").n)(t)(e),extension:Object(a("T8UA").b)(t)(e),extensionData:Object(a("T8UA").g)(e),fields:Object(a("KSj7").t)(e),issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),source:Object(a("4dgq").b)(e),formattedValue:Object(a("KSj7").j)(t)(e)})),((e,t)=>({onSave:n=>e(Object(a("QNn4").g)(t.fieldId,n,t.fieldOptions))}))))(Es);const Os=({extension:e,extensionData:t,appKey:n,moduleKey:s})=>{
const{properties:i,error:l,isLoading:c,fetch:d}=Object(a("jg/P").a)(e,t),u=Object(a("ovRs").h)(),[p]=Object(a("pvIb").e)(u),m=!!e.properties.dynamicProperties,b=!!p&&p.appKey===n&&p.moduleKey===s;Object(o.useEffect)((()=>{m&&!b&&d()}),[m,b,d]);return r.a.createElement(Ln,null,(()=>{if(m){if(c)return r.a.createElement(a("6UK4").a,{size:"small"});if(l)return r.a.createElement(a.n(a("425I")).a,{label:"Error",primaryColor:"#FF5630"})}const{status:t={}}=e.properties,n=m&&i&&i.status?i.status:t;switch(n.type){case"lozenge":return r.a.createElement(a("EFQh").a,{appearance:n.value.type},n.value.label);case"badge":{const e=parseInt(n.value.label,10);return e>=0?r.a.createElement(a("7QTw").a,{appearance:"default"},e):null}case"icon":return r.a.createElement(a("Opng").a,{url:n.value.url,width:24,height:24});default:return null}})())};Os.displayName="Status";const vs=({title:e,label:t,extension:n,icon:s,source:l,appKey:c,moduleKey:d,onOpenGlancePanel:u,extensionData:p})=>{
const[m,b]=Object(o.useState)(!1),g={onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),onFocus:()=>b(!0),onBlur:()=>b(!1)},f=()=>{Object(a("R1gO").a)(l),u(c,d)},{environmentType:h}=n;return r.a.createElement(a("gEry").d,null,r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,r.a.createElement(a("hd2M").a,{extensionName:e,extensionEnvType:h}))),r.a.createElement(a("gEry").g,null,r.a.createElement(a("iAtd").a,{onEnter:f},r.a.createElement(wn,i()({onClick:f,tabIndex:"0"},g),null!=s&&r.a.createElement(Tn,null,r.a.createElement(a("Opng").a,{url:s,width:24,height:24})),r.a.createElement(Dn,null,t),r.a.createElement(Os,{extension:n,extensionData:p,appKey:c,moduleKey:d}),m&&r.a.createElement(a("1w9n").a,{mountAnimation:Nn},r.a.createElement(Mn,null,r.a.createElement(An,null,r.a.createElement(a.n(a("/u5F")).a,{size:"medium",label:""}))))))),r.a.createElement(a("W0w5").b,{attributes:{source:l}}))}
;vs.displayName="ForgeGlance";class js extends o.Component{constructor(...e){super(...e),this.state={isHovering:!1},this.eventHandlers={onMouseEnter:()=>this.setState({isHovering:!0}),onMouseLeave:()=>this.setState({isHovering:!1}),onFocus:()=>this.setState({isHovering:!0}),onBlur:()=>this.setState({isHovering:!1})},this.onOpenGlancePanel=()=>{const{appKey:e,moduleKey:t,onOpenGlancePanel:n,source:s}=this.props;Object(a("R1gO").a)(s),n(e,t)}}renderStatus(){const{status:e={}}=this.props;switch(e.type){case"lozenge":return r.a.createElement(a("EFQh").a,{appearance:e.value.type},e.value.label);case"badge":{const t=parseInt(e.value.label,10);return t>=0?r.a.createElement(a("7QTw").a,{appearance:"default"},t):null}default:return null}}render(){const{title:e,label:t,extension:{environmentType:n},source:s}=this.props;return r.a.createElement(a("gEry").d,null,r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()
},r.a.createElement(a("gEry").c,null,r.a.createElement(a("hd2M").a,{extensionName:e,extensionEnvType:n}))),r.a.createElement(a("gEry").g,null,r.a.createElement(a("iAtd").a,{onEnter:this.onOpenGlancePanel},r.a.createElement(wn,i()({onClick:this.onOpenGlancePanel,tabIndex:"0"},this.eventHandlers),r.a.createElement(Dn,null,t),r.a.createElement(Ln,null,this.renderStatus()),this.state.isHovering&&r.a.createElement(a("1w9n").a,{mountAnimation:Nn},r.a.createElement(Mn,null,r.a.createElement(An,null,r.a.createElement(a.n(a("/u5F")).a,{size:"medium",label:""}))))))),r.a.createElement(a("W0w5").b,{attributes:{source:s}}))}}js.displayName="ForgeGlanceOld",js.displayName="ForgeGlance";const Is=e=>{const t=Object(a("ovRs").h)(),[,{setIssueViewLayoutGlance:n}]=Object(a("pvIb").b)();return Object(a("d90y").isForgeIssueGlanceDynamicProperties)()?r.a.createElement(vs,i()({},e,{onOpenGlancePanel:(e,a)=>{n(t,{appKey:e,moduleKey:a})}})):r.a.createElement(js,i()({},e,{onOpenGlancePanel:(e,a)=>{n(t,{
appKey:e,moduleKey:a})}}))},Cs=e=>r.a.createElement(a("y8z6").a,{attributes:{source:e.source}},r.a.createElement(Is,e));Cs.displayName="ForgeGlanceWithAnalytics";var Ss=Object(a("v5q+").a)([Object(c.connect)((e=>({source:Object(a("4dgq").b)(e),extensionData:Object(a("T8UA").g)(e)})),{})])(Cs),ks=a("EcEN"),ws=a.n(ks),Ts=a("Puqe"),Ds=a.n(Ts);const Rs=Object(it.asyncComponent)({resolve:()=>a.e("async-issue-details-epic-card").then(a.bind(null,"uCI5")).then((e=>e.default)),name:"AsyncEpicCard"}),Ls=({onVisibilityChange:e})=>{const[t,n]=Object(o.useState)(!1),a=Object(o.useRef)(),s=Object(o.useRef)();return Object(o.useEffect)((()=>{e(t)}),[t,e]),Object(o.useEffect)((()=>{(()=>{if(window.IntersectionObserver&&s.current){const e=e=>{e.forEach((e=>{e.target===s.current&&n(e.isIntersecting)}))},t={root:null,rootMargin:"0px",threshold:0};a.current=new IntersectionObserver(e,t).observe(s.current)}})();const e=s.current;return()=>{var t;null===(t=a.current)||void 0===t||t.unobserve(e)}}),[]),
r.a.createElement("div",{ref:s})};Ls.displayName="Intersection";var Ms=Ls,As=Object(l.defineMessages)({checkboxLabel:{id:"issue.views.field.epic.checkbox.label",defaultMessage:"Show done epics"},doneEpicLabel:{id:"issue.views.field.epic.done.label",defaultMessage:"Done"}});b.default.div.withConfig({componentId:"zarhtf-0"})`margin:2px -1px 2px 2px;`;const _s=b.default.div.withConfig({componentId:"zarhtf-1"})`min-width:${1.5*a("ZpU/").e}px;`,Ns=b.default.div.withConfig({componentId:"zarhtf-2"})`display:flex;flex-direction:row;justify-content:flex-end;padding:${a("ZpU/").e}px ${1.5*a("ZpU/").e}px;border-bottom:2px solid ${a("5kDX").a.N30};`,xs=b.default.label.withConfig({componentId:"zarhtf-3"})`display:flex;flex-direction:row;align-items:center;color:'inherit';fill:${({isChecked:e})=>e?a("5kDX").a.N0:"inherit"};`,Us=b.default.div.withConfig({componentId:"zarhtf-4"
})`display:flex;flex-direction:row;align-items:center;color:${a("5kDX").a.N300};font-size:12px;margin-top:${a("ZpU/").e/2}px;`,Fs=b.default.span.withConfig({componentId:"zarhtf-5"})`overflow:hidden;text-overflow:ellipsis;max-width:100%;`,Ps=e=>{var t,n,s,i;const l=Object(a("NRyt").d)(),{createAnalyticsEvent:c}=Object(a("rZ/p").a)(),d=20===(null===(t=e.options[1])||void 0===t||null===(n=t.options)||void 0===n?void 0:n.length),u=null===(s=e.selectProps.componentsProps)||void 0===s?void 0:s.onChange,p=null===(i=e.selectProps.componentsProps)||void 0===i?void 0:i.isChecked,m=Object(o.useCallback)((e=>{if(e&&d){const e=c({});Object(a("yy8q").f)(e,"intersectionComponent viewed","epicLink")}}),[c,d]),b=Object(o.useCallback)((e=>{if(u){u(e);const t=c({});Object(a("yy8q").f)(t,"doneEpics filtered","epicLink",{includeDone:!p})}}),[c,p,u]),g=l.formatMessage(As.checkboxLabel);return r.a.createElement(a("gniW").m.MenuList,e,r.a.createElement(Ns,{onClick:b},r.a.createElement(xs,{isChecked:p
},g,r.a.createElement(a.n(a("ww6v")).a,{label:g,secondaryColor:"inherit"}))),e.children,d&&r.a.createElement(Ms,{onVisibilityChange:m}))};Ps.displayName="Menu";var Vs=Ps;const Ks=b.default.span.withConfig({componentId:"sc-1kmshqe-0"})`display:flex;flex-direction:column;margin:0 ${a("ZpU/").e}px;padding:${a("ZpU/").e/4}px 0;overflow:hidden;flex-grow:1;`,$s=b.default.span.withConfig({componentId:"sc-1kmshqe-1"})`${a("cOE5").a};flex-grow:1;`,Ws=b.default.span.withConfig({componentId:"sc-1kmshqe-2"})`display:inline-block;color:${a("5kDX").a.N300};font-size:12px;margin-top:${a("ZpU/").e/2}px;`,Bs=(e,t)=>r.a.createElement(Us,null,null!=e.description?r.a.createElement(Fs,null,e.description):null,!0===e.isDone?r.a.createElement(r.a.Fragment,null,r.a.createElement(a.n(a("q3rX")).a,{primaryColor:a("5kDX").a.G500}),r.a.createElement("span",null,t)):null);Bs.displayName="renderOptionDescription";const qs=({option:e})=>{const{formatMessage:t}=Object(a("NRyt").d)()
;return r.a.createElement(a("JQsD").e,null,null!=e.elemBefore?e.elemBefore:null,r.a.createElement(Ks,null,r.a.createElement($s,null,e.label),Bs(e,t(As.doneEpicLabel))))};qs.displayName="CustomOption";var Hs=qs;const Gs=e=>r.a.createElement(a("ZNNv").a,{color:e,elemBefore:r.a.createElement(_s,null),text:""});Gs.displayName="getOptionColorElem";class Ys extends o.Component{constructor(...e){super(...e),this.state={includeDoneEpics:!1,query:"",data:[],loading:!1,error:!1},this.componentDidMount=()=>{this.getDataFromCache()},this.sessionId="default-session-id",this.getDataFromCache=()=>{var e,t;null===(e=(t=this.props).getDataFromCache)||void 0===e||e.call(t,!this.state.includeDoneEpics).then((e=>{this.setState({data:e,loading:!1})}))},this.renderReadView=()=>{const{value:e,noValueText:t,isMobile:n}=this.props;return null!=e&&e.value?r.a.createElement(Rs,{issueKey:Object(a("Rp3N").n)(e.value.toString()),epicName:e.content},r.a.createElement(Ge,{value:e?[e]:null,noValueText:t,
shouldHideLinks:n})):r.a.createElement(Ge,{value:e?[e]:null,noValueText:t,shouldHideLinks:n})},this.fetchSuggestions=(e,t)=>(null!=t&&""!==t&&(this.sessionId=t),this.setState({query:e}),this.props.fetchSuggestions(e,!this.state.includeDoneEpics,this.sessionId).then((e=>(this.setState({data:e}),e)))),this.onChangeIncludeDone=async()=>{const{query:e,includeDoneEpics:t}=this.state;this.setState({includeDoneEpics:!t,loading:!0},(()=>this.fetchSuggestions(e).then((e=>{this.setState({data:e,loading:!1,error:!1})})).catch((()=>{this.setState({data:[],loading:!1,error:!0})}))))},this.formatOptionLabel=(e,{context:t})=>"menu"===t?r.a.createElement(Hs,{option:e}):e.label}render(){const{data:e,loading:t,error:n}=this.state,a={data:e,loading:t,error:n},s={MenuList:Vs},o={isChecked:this.state.includeDoneEpics,onChange:this.onChangeIncludeDone};return r.a.createElement(qt,i()({},Ds()(this.props,"getDataFromCache"),{debounceFetchSuggestionsTime:300,initialData:a,componentsProps:o,
fetchSuggestions:this.fetchSuggestions,additionalAnalyticsProps:{isEpicLink:!0},components:s,renderReadView:this.renderReadView,formatOptionLabel:this.formatOptionLabel,hasAutocomplete:!0}))}}Ys.displayName="EpicInlineEditView",Ys.displayName="EpicInlineEditView";var Zs=Object(l.defineMessages)({placeholder:{id:"issue.epic.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Epic"},recent:{id:"issue.epic.text-for-heading-in-recent-group",defaultMessage:"Recent epics"},allEpics:{id:"issue.epic.text-for-heading-in-all-epics-group",defaultMessage:"All epics"}});const Xs=e=>{const t=e.color?e.color.key:a("fLzW").c[e.colorKey];return t?a("fLzW").b[t]:null},Js=(e,{baseUrl:t})=>e&&((e,t)=>({content:e.name,value:e.key,isDone:e.done,color:Xs(e),href:`${t}/browse/${e.key}`,fromCache:e.fromCache}))(e,t),zs=(e,t)=>e.filter((e=>!(t&&e.done)&&e.key&&e.name&&e.color&&e.color.key)).slice(-5).reverse(),Qs=(e,t=!1)=>{const n=a("fLzW").b[e.color.key];return{color:n,content:e.name,
value:e.key,id:e.id,description:e.key,elemBefore:Gs(n),filterValues:[e.name,e.key],isDone:e.done,fromCache:t}},ei=e=>{if(!e)return null;const t=Object.keys(a("fLzW").b),n=t.find((t=>a("fLzW").b[t]===e.color))||t[0];return{name:e.content,key:e.value,done:e.isDone,id:e.id,color:{key:n},fromCache:e.fromCache}},ti=(e,t,n)=>{const s=(null==e?void 0:e.values)||[],i=((e,t)=>t.map((t=>{const n=e.find((e=>e.key===t.key));return n?(a("hmPP").a.update(t.key,n),n):t})))(s,t);return[{heading:n.formatMessage(Zs.recent),items:i.map((e=>Qs(e,!0)))},{heading:n.formatMessage(Zs.allEpics),items:s.map((e=>Qs(e,!1)))}]},ni=Object(a("Wwog").a)(((e,t,n)=>(s,i)=>{const o=ws()(),{markTimeToFinishTask:r}=Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.EPIC_LINKS.TIME_TO_FETCH_INPUT_RESULTS_EPIC_PICKER_ENABLED,concurrentId:o,cancelExisting:!0}),l=`${e}/rest/agile/1.0/epic/search?excludeDone=${i}&projectKey=${t}&maxResults=20&query=${s}`,c=Object(a("QNWr").a)(l).then((e=>(r({}),e))).catch((e=>{
throw Object(a("B2Rg").b)().cancel({key:a("/kYB").a.EPIC_LINKS.TIME_TO_FETCH_INPUT_RESULTS_EPIC_PICKER_ENABLED,concurrentId:o},!0),e}));return Promise.all([c,a("hmPP").a.getAll()]).then((([e,t])=>{const a=zs(t,i);return ti(e,a,n)}))}));var ai=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:Js,transformToStateValue:ei,additionalProps:(e,n)=>({fetchSuggestions:ni(Object(a("4dgq").f)(e),Object(a("4dgq").A)(e),n),placeholder:n.formatMessage(Zs.placeholder),noValueText:n.formatMessage(ze.noValue),allowEmptyValue:!0,getDataFromCache:e=>a("hmPP").a.getAll().then((t=>zs(t,e))).then((e=>ti(void 0,e,n))),showPinButton:Object(a("NSuG").a)(t.area)}),saveField:({baseUrl:e,issueKey:n,fieldMetaKey:s,value:i})=>(t.createAnalyticsEvent&&null!=i&&i.key&&(Object(a("yy8q").b)(t.createAnalyticsEvent({}),"epicPickerCache set",{isFromCache:i.fromCache}),a("hmPP").a.set(i.key,i)),Object(a("/rpS").e)(Object(a("XtNG").e)(e,n),{body:JSON.stringify({fields:{[s]:i?i.key:null}})
}).catch((e=>{throw t.createAnalyticsEvent&&null!=i&&i.key&&(Object(a("yy8q").b)(t.createAnalyticsEvent({}),"epicPickerCache removed"),(null==i?void 0:i.key)&&a("hmPP").a.remove(i.key)),e})))})))(Ys),si=Object(l.defineMessages)({placeholder:{id:"issue.multi-group-picker.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select groups"}});const ii=e=>e&&ra(e),oi=e=>e&&{name:e.value},ri=e=>e?(e=>e.map((e=>ii(e))))(e):[],li=e=>e?e.map((e=>oi(e))):[];var ci=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:ri,transformToStateValue:li,additionalProps:(e,n)=>({fetchSuggestions:la(),placeholder:n.formatMessage(si.placeholder),noValueText:n.formatMessage(ze.noValue),showPinButton:Object(a("NSuG").a)(t.area)})})))(Rt),di=Object(l.defineMessages)({placeholder:{id:"issue.group-picker.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select group"}}),ui=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:ii,transformToStateValue:oi,
additionalProps:(e,n)=>({fetchSuggestions:la(),placeholder:n.formatMessage(di.placeholder),noValueText:n.formatMessage(ze.noValue),allowEmptyValue:!Object(a("KSj7").I)(t.fieldId)(e),hasAutocomplete:!0,showPinButton:Object(a("NSuG").a)(t.area)})})))(qt);const pi=()=>Object(a("D3TY").a)("kb-glance-ep-editor-create-article-from-issue-view",!1),mi=Object(C.g)((()=>a.e("kb-glance-v2").then(a.bind(null,"eGhU"))),{ssr:!1,moduleId:"./src/packages/servicedesk/knowledge-glance-v2/src/ui/kb-glance/main.js"});var bi=Object(a("v5q+").a)([Object(c.connect)(((e,t)=>({itemId:t.itemId,isVisible:Object(a("nGHA").f)(e),baseUrl:Object(a("4dgq").f)(e),issueKey:Object(a("4dgq").w)(e),locale:Object(a("4dgq").x)(e),issueId:Object(a("4dgq").v)(e),projectKey:Object(a("4dgq").A)(e),isAdmin:"admin"===Object(a("4dgq").E)(e),showPinButton:Object(a("NSuG").a)(t.area)
})),{})])((({isVisible:e=!0,onOpenPanel:t,baseUrl:n,issueKey:s,locale:i,issueId:o,projectKey:l,isAdmin:c,itemId:d,showPinButton:u})=>pi()?e&&r.a.createElement(C.a,{fallback:null},r.a.createElement(mi,{baseUrl:n,issueKey:s,onOpenPanel:t,issueId:o,projectKey:l,isAdmin:c,itemId:d,showPinButton:u})):e&&r.a.createElement(a("lomd").a,{baseUrl:n,locale:i,issueKey:s,onOpenPanel:t,issueId:o,projectKey:l,isAdmin:c,itemId:d,showPinButton:u})));const gi=Object(C.g)((()=>a.e("kb-glance-panel-v2").then(a.bind(null,"TAAA"))),{ssr:!1,moduleId:"./src/packages/servicedesk/knowledge-glance-v2/src/ui/kb-glance-panel/main.js"}),fi=e=>{const t=Object(a("ovRs").h)(),[n]=Object(a("pvIb").d)(t);return pi()?r.a.createElement(C.a,{fallback:null},r.a.createElement(gi,i()({},e,{isPanelOpen:void 0!==n}))):r.a.createElement(a("EvmP").a,i()({},e,{isPanelOpen:void 0!==n}))};fi.displayName="KbGlancePanelContainer";var hi=Object(a("v5q+").a)([Object(c.connect)((e=>({isEditorOpen:Object(a("ejT3").x)(e)})),{
onShareAsComment:a("xlxo").b})])(fi);const Ei=ie()((e=>t=>`${t} (${e.formatMessage(ha.createNewItem)})`)),yi=Object(l.injectIntl)(Object(a("/cyb").a)(((e,t)=>{const n=Ei(t.intl),s=()=>a("w5PJ").a.getAll().then((e=>va({},e,t.intl.formatMessage))),i=Object(a("KSj7").e)(t.fieldId),o=Object(a("KSj7").g)(t.fieldId);return{fieldId:t.fieldId,transformFromStateValue:Ea,transformToStateValue:ya,additionalProps:(e,r)=>({fetchSuggestions:ja(i(e),t.fieldId,o(e),t.createAnalyticsEvent,r.formatMessage),formatMessage:r.formatMessage,placeholder:r.formatMessage(ha.placeholder),noValueText:r.formatMessage(ze.noValue),formatCreateLabel:n,canCreateNewItem:!0,allowEmptyValue:!0,validate:Ca,issueKey:Object(a("4dgq").w)(e),showPinButton:Object(a("NSuG").a)(t.area),getDataFromCache:s}),saveField:(...e)=>(({baseUrl:e,issueKey:t,fieldMetaKey:n,value:s,fieldEditSessionId:i},o,r)=>{const l=void 0!==i?`${e}/rest/api/2/issue/${t}?fieldEditSessionId=${i}`:`${e}/rest/api/2/issue/${t}`;return s.forEach((e=>{
a("w5PJ").a.get(e).then((t=>{r.createAnalyticsEvent&&Object(a("yy8q").b)(r.createAnalyticsEvent({}),"labelPickerCache set",{isFromCache:Boolean(null==t?void 0:t.label)}),e&&a("w5PJ").a.set(`${e}`,(e=>({label:e}))(e))})).catch((e=>{a("RDfz").a.safeErrorWithoutCustomerData("issue-view.labels.cache.set",e.message)}))})),Object(a("/rpS").e)(l,{body:JSON.stringify({fields:{[n]:s}})}).catch((e=>{throw s.forEach((e=>{a("w5PJ").a.get(e).then((e=>{null!=e&&e.label&&r.createAnalyticsEvent&&(Object(a("yy8q").b)(r.createAnalyticsEvent({}),"labelPickerCache removed"),e&&a("w5PJ").a.remove(`${e.label}`))})).catch((e=>{a("RDfz").a.safeErrorWithoutCustomerData("issue-view.labels.cache.remove",e.message)}))})),e}))})(...e,t)}}))(Ta)),Oi=e=>{const{area:t,fieldId:n}=e,{formatMessage:s}=Object(a("NRyt").d)(),i=Object(a("ovRs").h)(),l=Object(a("ovRs").g)(),c=Object(a("IFiJ").g)(i),d=Object(a("IFiJ").e)(c),[{value:u}]=Object(a("MoW5").a)(i,n),[,{getLabelsSuggestionsWithPrefetch:p}]=(e=>{
const{issueKey:t,fieldId:n,getSuggestionsFromServer:s}=e,{createAnalyticsEvent:i}=Object(a("rZ/p").a)(),r=Object(a("ShTA").c)(t,n),l=Object(o.useCallback)((async(e,t,o)=>{if(!t&&r&&"labels"===n){const{fieldValuePromise:e,prefetched:t,prefetchSessionId:n,sessionId:s=""}=r||{};if(t&&null!==e&&null!==o){re(i,n,o||"",s,"labels");const t=a("SHpS").d.now();try{const n=await e;return Object(a("fjz3").b)("labels",t,i,{sessionId:o,isPrefetched:!0,queryLength:0}),n}catch(l){throw Object(a("fjz3").a)("labels",t,i,{sessionId:o,isPrefetched:!0}),l}}else le(i,n,o||"","labels")}return s(e,t,o)}),[i,s,n,r]),c=Object(o.useMemo)((()=>({getLabelsSuggestionsWithPrefetch:l})),[l]);return[r,c]})({fieldId:n,issueKey:i,getSuggestionsFromServer:a("u129").a}),m=u?u.title:s(ha.label),b=Object(a("NSuG").a)(t);return r.a.createElement(a("gEry").d,{"data-test-id":"issue.views.issue-base.context.labels"},Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==i&&void 0!==n&&r.a.createElement(a("n7/x").a,{issueKey:i,fieldKey:n}),!0===b&&r.a.createElement(a("UOlw").a,{fieldId:n,label:m}))},r.a.createElement(a("gEry").c,null,m)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,m),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==i&&void 0!==n&&r.a.createElement(a("n7/x").a,{issueKey:i,fieldKey:n}),!0===b&&r.a.createElement(a("UOlw").a,{fieldId:n,label:m})),r.a.createElement(a("gEry").g,null,r.a.createElement(a("l/pY").a,{fieldKey:n,getSuggestions:p,issueId:l,issueKey:i,label:m,showPinButton:b,projectId:d})))};Oi.displayName="ExtractedLabelsField";var vi=Object(a("5WHm").a)(a("d90y").isExtractedLabelsFieldEnabled,Oi,yi),ji=e=>r.a.createElement(a("5tLy").a,e),Ii=()=>{
const e=Object(a("ovRs").h)();return r.a.createElement(a("jaZv").a,{issueKey:e})},Ci=()=>r.a.createElement(a("ryT/").a,null);const Si=Object(c.connect)(((e,t)=>({itemId:t.itemId,isVisible:Object(a("nGHA").f)(e),showPinButton:Object(a("NSuG").a)(t.area)})),{})(a("u1nt").a),ki=Object(C.f)((()=>a.e("async-lazy-jira-issue-field-message-view").then(a.bind(null,"d+lF")).then((e=>e.MessageFieldView))),{moduleId:"./src/packages/issue/fields/message-custom-field/src/index.js"}),wi=b.default.div.withConfig({componentId:"la1ro5-0"})`padding-top:${a("ZpU/").e/2}px;`,Ti=b.default.div.withConfig({componentId:"la1ro5-1"})`margin-bottom:${2*a("ZpU/").e}px;`,Di=({fieldId:e,area:t,label:n})=>{const s=Object(a("ovRs").h)(),i=Object(a("NSuG").a)(t),[{value:o,fieldConfig:l}]=Object(a("K6M/").a)({issueKey:s,fieldKey:e}),c="content"===t?a("vPcr").c:a("gEry").e,d="content"===t?a("vPcr").e:a("gEry").f,u=(null==l?void 0:l.title)||n;return r.a.createElement(a("cU7O").a,{id:"MessageCustomField",
packageName:"jiraIssueView",fallback:"unmount",sendToPrivacyUnsafeSplunk:!0},r.a.createElement(Ti,null,r.a.createElement(c,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(d,null,u),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==s&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:s,fieldKey:e}),!0===i&&r.a.createElement(a("UOlw").a,{fieldId:e,label:u})),r.a.createElement(wi,null,r.a.createElement(C.a,{fallback:null},r.a.createElement(ki,{value:o})))))};Di.displayName="View";var Ri=Object(o.memo)(Di),Li=Object(l.defineMessages)({placeholder:{id:"issue.multi-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}});const Mi=e=>({value:e.id,content:e.value}),Ai=e=>e?e.map(Mi):[],_i=e=>e&&e.map((e=>({id:e.value,value:e.content}))),Ni=e=>e&&[{items:e.map(Mi)}]||[],xi=Object(a("Wwog").a)((e=>()=>Promise.resolve(e).then(Ni)));var Ui=Object(a("/cyb").a)(((e,t)=>{const n=Object(a("KSj7").d)(t.fieldId);return{
fieldId:t.fieldId,transformFromStateValue:Ai,transformToStateValue:_i,additionalProps:(e,s)=>({fetchSuggestions:xi(n(e)),placeholder:s.formatMessage(Li.placeholder,{fieldName:Object(a("KSj7").n)(t.fieldId)(e)}),noValueText:s.formatMessage(ze.noValue),showPinButton:Object(a("NSuG").a)(t.area)})}}))(Rt);const Fi=Object(b.default)(a("gEry").d).withConfig({componentId:"aqkhi-0"})`& > div > div > div > div > div > div > div{width:100%;}`,Pi=(b.default.div.withConfig({componentId:"aqkhi-1"})`margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}`,({fieldId:e,label:t,area:n})=>{const{formatMessage:s,formatNumber:i}=Object(a("NRyt").d)(),l=Object(a("ovRs").h)(),c=Object(a("NSuG").a)(n),[{value:d,fieldConfig:u}]=Object(a("aAYo").a)({issueKey:l,fieldKey:e
}),p=(null==u?void 0:u.title)||t,m=Object(o.useCallback)((()=>null===d||""===d?r.a.createElement(a("gVzX").b,null,s(ze.noValue)):i(d)),[s,i,d]);return r.a.createElement(Fi,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==l&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:l,fieldKey:e}),!0===c&&r.a.createElement(a("UOlw").a,{fieldId:e,label:p}))},r.a.createElement(a("gEry").c,null,p)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,p),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==l&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:l,fieldKey:e}),!0===c&&r.a.createElement(a("UOlw").a,{fieldId:e,label:p
})),r.a.createElement(a("gEry").g,null,r.a.createElement(a("XJP3").default,{label:p,issueKey:l,fieldKey:e,noValueText:s(ze.noValue),readView:m(),isFitContainerWidthReadView:!0})))});Pi.displayName="View";var Vi=Object(o.memo)(Pi);const Ki=Object(b.default)(a("gEry").g).withConfig({componentId:"sc-1l5alf0-0"})`& > div > div > div > div > div > div{width:100%;}`,$i=(b.default.div.withConfig({componentId:"sc-1l5alf0-1"})`margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}`,Object(C.h)((()=>a.e("async-issue-field-number").then(a.bind(null,"5Iel"))),{moduleId:"./src/packages/issue/fields/number/src/index.js"})),Wi=({issueKey:e,fieldId:t,label:n,noValueText:s,onUpdate:i,showPinButton:o})=>{const[{value:l}]=Object(a("aAYo").a)({issueKey:e,fieldKey:t
}),{formatMessage:c,formatNumber:d}=Object(a("NRyt").d)(),u=null===l||""===l?r.a.createElement(a("gVzX").b,null,s):r.a.createElement(a("7QTw").a,null,d(l));return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==e&&void 0!==t&&r.a.createElement(a("n7/x").a,{issueKey:e,fieldKey:t}),!0===o&&r.a.createElement(a("UOlw").a,{fieldId:t,label:n}))},r.a.createElement(a("gEry").c,null,n)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,n),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==e&&void 0!==t&&r.a.createElement(a("n7/x").a,{issueKey:e,fieldKey:t}),!0===o&&r.a.createElement(a("UOlw").a,{fieldId:t,label:n
})),r.a.createElement(Ki,null,r.a.createElement(a("Ek2V").a,{packageName:"issue",fallback:u},r.a.createElement($i,{label:n,issueKey:e,fieldKey:t,readView:u,isFitContainerWidthReadView:!0,onUpdate:i,editButtonLabel:(()=>c(a("n2YX").a.extendedEditButtonLabel,{inputFieldValue:null!==l?l:s,fieldName:n}))()}))))};Wi.displayName="NumberView";var Bi=Object(o.memo)(Wi),qi=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,additionalProps:(e,n)=>({issueKey:Object(a("4dgq").w)(e),noValueText:n.formatMessage(ze.noValue),type:"number",showPinButton:Object(a("NSuG").a)(t.area)}),additionalCallbacks:e=>({onUpdate:n=>e(Object(a("QNn4").h)(t.fieldId,n))})})))(Bi),Hi=a("sEfC"),Gi=a.n(Hi);var Yi=Object(l.defineMessages)({placeholder:{id:"issue.organizations.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select the Organizations"},organizationIconLabel:{id:"issue.organizations.organization-icon-label",defaultMessage:"Organization icon"}});const Zi=e=>({value:e.id,content:e.name,
elemBefore:r.a.createElement(a.n(a("heUJ")).a,{label:""})}),Xi=e=>e?e.map(Zi):[],Ji=e=>e&&e.map((e=>({id:e.value,name:e.content}))),zi=Gi()((async e=>{(await Object(a("rwbl").a)()).getInstance().sendTrackEvent(e)}),2e3,{leading:!0,trailing:!1}),Qi=Object(a("Wwog").a)((e=>t=>{if(!e)return Promise.resolve([]);const n=`${e}${encodeURIComponent(t)}`;return Object(a("QNWr").a)(n).then((e=>(zi((({isSearchStringEmpty:e})=>({source:"issueView",action:"succeeded",actionSubject:"jsmOrganizationsFieldSearch",attributes:{isSearchStringEmpty:e}}))({isSearchStringEmpty:""===t})),(e=>[{items:e.map(Zi)}])(e)))).catch((e=>{throw Object(a("v/G6").a)({meta:{id:"jsmOrganizationsFieldSearch",packageName:"jiraIssueView"},error:e,attributes:{isSearchStringEmpty:""===t}}),e}))})),eo=({baseUrl:e,issueKey:t,fieldMetaKey:n,value:s})=>((e,t,n,s)=>Object(a("/rpS").e)(Object(a("XtNG").e)(e,t),{body:JSON.stringify({fields:{[n]:s.map((e=>Number(e.id)))}})
}))(e,t,n,s),to=e=>e&&Array.isArray(e)?e.map((e=>e.id)).join(","):e;var no=Object(a("/cyb").a)(((e,t)=>{const n=Object(a("KSj7").e)(t.fieldId);return{fieldId:t.fieldId,transformFromStateValue:Xi,transformToStateValue:Ji,saveField:eo,additionalProps:(e,s)=>({tagAppearance:"rounded",formatOptionLabel:e=>r.a.createElement(Et,null,r.a.createElement(a.n(a("heUJ")).a,{label:s.formatMessage(Yi.organizationIconLabel)}),r.a.createElement(yt,null,e.content)),fetchSuggestions:Qi(n(e)),placeholder:s.formatMessage(Yi.placeholder),noValueText:s.formatMessage(ze.noValue),analyticsAttributeIdRetriever:to,showPinButton:Object(a("NSuG").a)(t.area)})}}))(Rt);b.default.div.withConfig({componentId:"sc-1os5xyj-0"})`margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}`;const ao=Object(b.default)(a("gEry").d).withConfig({componentId:"sc-1os5xyj-1"
})`& > div > div > div > div > div > div > div{width:100%;}`,so=({isEditable:e,isMobile:t,config:n,fieldId:s,invalidTimeFormatMessage:i,issueId:o,issueKey:l,label:c,placeholder:d,timeTrackingValue:u,showPinButton:p,onUpdate:m})=>r.a.createElement(ao,{"data-test-id":`issue-view.issue-base.context.original-estimate.${s}`},Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:!0===p&&r.a.createElement(a("UOlw").a,{fieldId:s,label:c})},r.a.createElement(a("gEry").c,null,c)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,c),!0===p&&r.a.createElement(a("UOlw").a,{fieldId:s,label:c})),r.a.createElement(a("gEry").g,null,r.a.createElement(a("QxiN").a,{isEditable:e,isFitContainerWidthReadView:!0,isMobile:t,config:n,fieldId:s,invalidTimeFormatMessage:i,issueId:o,issueKey:l,label:c,
placeholder:d,timeTrackingValue:u,onUpdate:m})));so.displayName="OriginalEstimate";var io=Object(o.memo)(so);const oo=Object(l.defineMessages)({placeholder:{id:"issue.time-estimate.placeholder-for-the-field",defaultMessage:"2w 4d 6h 45m"}}),ro=r.a.createElement(l.FormattedMessage,{id:"issue.time-estimate.input-time-string-is-invalid",defaultMessage:"Your estimate must be in the format {format}.",values:{format:r.a.createElement("b",null,"2w 4d 6h 45m")}});var lo=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,isOptimistic:!1,additionalProps:(e,n)=>({config:Object(a("gnYg").h)(e),placeholder:n.formatMessage(oo.placeholder),issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),timeTrackingValue:Object(a("KSj7").i)("timetracking")(e),isEditable:Object(a("KSj7").G)(t.fieldId)(e)&&!!Object(a("sN5M").a)(),showPinButton:Object(a("NSuG").a)(t.area),invalidTimeFormatMessage:ro}),additionalCallbacks:e=>({onUpdate:n=>e(Object(a("QNn4").h)(t.fieldId,n))})
})))(io),co=Object(l.defineMessages)({menuHeader:{id:"issue.views.field.parent.edit.menuHeader",defaultMessage:"To set an epic as a parent, use the epic link instead."},noMatches:{id:"issue.views.field.parent.edit.noMatches",defaultMessage:"No Matches"},placeholder:{id:"issue.views.field.parent.edit.placeholder",defaultMessage:"Choose a parent to assign this issue to."}});const uo=b.default.img.withConfig({componentId:"k4ouwz-0"})`margin-right:${a("ZpU/").e}px;`,po=b.default.div.withConfig({componentId:"k4ouwz-1"})`display:flex;flex-direction:row;overflow:hidden;`,mo=b.default.div.withConfig({componentId:"k4ouwz-2"})`overflow:hidden;text-overflow:ellipsis;white-space:nowrap;`,bo=b.default.div.withConfig({componentId:"k4ouwz-3"})`padding:${a("ZpU/").e}px ${2*a("ZpU/").e}px ${2*a("ZpU/").e}px;`,go=b.default.div.withConfig({componentId:"k4ouwz-4"})`color:${a("5kDX").a.N90};`,fo=e=>{const t=Object(a("NRyt").d)()
;return r.a.createElement(a("gniW").m.MenuList,e,r.a.createElement(bo,null,t.formatMessage(co.menuHeader)),e.children)};fo.displayName="MenuList";const ho=e=>{const t=e.data.data;if(t){const{issueType:n,summary:s,key:i}=t,{iconUrl:o}=n;return r.a.createElement(a("gniW").m.Option,e,r.a.createElement(po,null,r.a.createElement(uo,{src:o})," ",r.a.createElement(mo,null,i," ",s)))}return null},Eo=e=>{const t=Object(a("NRyt").d)(),{data:n}=e.data,s=n?n.label:r.a.createElement(go,null,t.formatMessage(co.placeholder));return r.a.createElement(a("gniW").m.SingleValue,e,s)};Eo.displayName="SingleValue";class yo extends o.Component{constructor(...e){super(...e),this.onChange=e=>{const{hasEpicLinkFieldDependency:t,showField:n}=this.props.value,a=null!=e?e.data:null,s=de()(de()({data:a,value:a?a.key:null},{hasEpicLinkFieldDependency:t}),{showField:n});this.props.onChange(s),this.props.onConfirm(s)},this.debouncedLoadOptions=Gi()(((e,t)=>{this.props.loadOptions(e).then(t,(()=>{t([])}))}),300)}
render(){const{value:e,portalElement:t,menuPlacement:n,intl:{formatMessage:s}}=this.props;return r.a.createElement(a("PoqC").default,{value:e,autoFocus:!0,defaultOptions:!0,components:{MenuList:fo,Option:ho,SingleValue:Eo},menuPortalTarget:t,menuPlacement:n,onChange:this.onChange,loadOptions:this.debouncedLoadOptions,defaultMenuIsOpen:!0,isClearable:null!==e.data,noOptionsMessage:()=>s(co.noMatches),cacheOptions:!0})}}yo.displayName="EditableParentLinkField";var Oo=Object(l.injectIntl)(yo),vo=Object(l.defineMessages)({epicLinkExists:{id:"issue.views.field.parent.epic-link-exists-message.epicLinkExists",defaultMessage:"Cannot use parent link when epic link is set."}});const jo=b.default.div.withConfig({componentId:"d29xmd-0"})`color:${a("5kDX").a.N90};`,Io=()=>{const{formatMessage:e}=Object(a("NRyt").d)();return r.a.createElement(jo,null,e(vo.epicLinkExists))};Io.displayName="EpicLinkExistsMessage";var Co=Io;const So=b.default.div.withConfig({componentId:"wmnwf1-0"
})`display:flex;flex-direction:row;overflow:hidden;white-space:nowrap;`,ko=b.default.a.withConfig({componentId:"wmnwf1-1"})`margin-right:${a("ZpU/").e}px;cursor:pointer;`,wo=b.default.div.withConfig({componentId:"wmnwf1-2"})`overflow:hidden;text-overflow:ellipsis;`,To=b.default.img.withConfig({componentId:"wmnwf1-3"})`margin-right:${a("ZpU/").e}px;`,Do=e=>{const{showError:t,value:n,noValueText:s}=e;if(t)return r.a.createElement(Co,null);if(n.data){const{key:e,summary:t,issueType:{iconUrl:a},url:s}=n.data;return r.a.createElement(So,null,r.a.createElement(To,{src:a}),r.a.createElement(ko,{href:s,target:"_blank"},e),r.a.createElement(wo,null,t))}return r.a.createElement(a("gVzX").b,null,s)};Do.displayName="ParentViewField";var Ro=Do;const Lo=Object(b.default)(a("cNqL").a).withConfig({componentId:"sc-10uiwsu-0"})`${({isEditable:e})=>e?null:b.css`${a("cNqL").b}{line-height:1;padding:2px 0;}`}`;class Mo extends o.Component{constructor(...e){super(...e),this.shouldShowError=()=>{var e
;return this.props.hasEpic&&(null===(e=this.props.value)||void 0===e?void 0:e.hasEpicLinkFieldDependency)}}renderEditableField(){const{onChange:e,onConfirm:t,fetchSuggestions:n,value:a,portalElement:s,menuPlacement:i}=this.props;return this.shouldShowError()?null:r.a.createElement("span",null,r.a.createElement(Oo,{value:a,loadOptions:n,portalElement:s,menuPlacement:i,onChange:e,onConfirm:t}))}render(){const{value:e,noValueText:t,isEditing:n,onConfirm:s,onCancel:i,onEditRequest:o,isMobile:l,isEditable:c,fieldId:d,label:u,showPinButton:p,issueKey:m}=this.props;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==m&&void 0!==d&&r.a.createElement(a("n7/x").a,{issueKey:m,fieldKey:d}),!0===p&&r.a.createElement(a("UOlw").a,{fieldId:d,
label:u}))},r.a.createElement(a("gEry").c,null,u)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,u),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==m&&void 0!==d&&r.a.createElement(a("n7/x").a,{issueKey:m,fieldKey:d}),!0===p&&r.a.createElement(a("UOlw").a,{fieldId:d,label:u})),r.a.createElement(a("gEry").g,{isEditing:n},r.a.createElement(a("iAtd").a,{onEscape:i},Object(a("MrUx").a)()?r.a.createElement(Lo,{isEditable:c},r.a.createElement(a("JZTM").a,{isLabelHidden:!0,label:u,readView:r.a.createElement(a("cNqL").b,null,r.a.createElement(Ro,{noValueText:t,value:e,showError:this.shouldShowError()})),editView:c?this.renderEditableField():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:n,onConfirm:s,onCancel:i,onEditRequested:o,isFitContainerWidthReadView:!l,isEditable:c})):r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:u,readView:r.a.createElement(Ro,{
noValueText:t,value:e,showError:this.shouldShowError()}),editView:c?this.renderEditableField():null,disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:n,onConfirm:s,onCancel:i,onEditRequested:o,isFitContainerWidthReadView:!l,isEditable:c}))))}}Mo.displayName="ParentField";var Ao=Mo;const _o={data:null,hasEpicLinkFieldDependency:!1,showField:!1},No=e=>e,xo=["epic","isVisible"],Uo=Object(a("Wwog").a)(((e,t,n,s)=>i=>n?Object(a("/rpS").d)(`${e}/rest/jpo/1.0/parent/suggest`,{body:JSON.stringify({query:i,projectId:t,issueTypeId:n,maxResults:100})}).then((t=>((e,t,n={hasEpicLinkFieldDependency:!1,showField:!1})=>{if(!e||!e.issues||e.issues.length<=0)return[];const{projects:a}=e,s=e.issueTypes;return e.issues.map((e=>{const i=`${a.filter((t=>t.id===e.projectId))[0].key}-${e.issueKey}`,{iconUrl:o}=s.filter((t=>+t.id===e.issueTypeId))[0];return{data:{key:i,summary:e.issueSummary,value:i,label:`${i} ${e.issueSummary}`,issueType:{id:e.issueTypeId,iconUrl:`${t}${o}`},
url:`${t}/browse/${i}`},hasEpicLinkFieldDependency:n.hasEpicLinkFieldDependency,showField:n.showField,value:i}}))})(t,e,s))):[])),Fo=e=>{let{epic:t,isVisible:n}=e,a=z()(e,xo);if(!n)return null;const s=null!=t;return r.a.createElement(Ao,i()({hasEpic:s},a))};Fo.displayName="ParentView";var Po=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:(e,t)=>((e=_o,t)=>((e,t)=>({hasEpicLinkFieldDependency:e.hasEpicLinkFieldDependency,showField:e.showField,value:e.data&&e.data.key?e.data.key:null,data:e.data?{key:e.data.key,value:e.data.key,summary:e.data.summary,url:`${t}/browse/${e.data.key}`,label:`${e.data.key} ${e.data.summary}`,issueType:e.data.issueType?{iconUrl:`${t}${e.data.issueType.iconUrl}`,id:e.data.issueType.id}:e.data.issueType}:null}))(e,t.baseUrl))(e,t),transformToStateValue:No,additionalProps:(e,n)=>({fetchSuggestions:Uo(Object(a("4dgq").f)(e),Object(a("/LFc").D)(e),Object(a("SXNk").g)(e),Object(a("KSj7").o)(t.fieldId)(e)),
noValueText:n.formatMessage(ze.noValue),epic:Object(a("3j3u").a)(e),isVisible:Object(a("OMlv").a)(t.fieldId)(e),portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,showPinButton:Object(a("NSuG").a)(t.area)}),saveField:({baseUrl:e,issueKey:t,fieldMetaKey:n,value:s})=>Object(a("/rpS").e)(Object(a("XtNG").e)(e,t),{body:JSON.stringify({fields:{[n]:s&&s.data?s.data.key:null}})})})))(Fo);const Vo="24x24",Ko=e=>e.map((e=>({id:Object(a("Rp3N").a)(e.id),accountId:Object(a("Rp3N").a)(e.id),displayName:e.name,avatarUrls:{[Vo]:e.avatarUrl}}))),$o=e=>Array.isArray(e)?e.reduce(((e,t)=>{const n=(e=>{if(!e||"object"!=typeof e||!e.accountId||!e.displayName)return null;let t="";return e.avatarUrls&&"object"==typeof e.avatarUrls&&(t=String(e.avatarUrls["24x24"])),{id:String(e.accountId),name:String(e.displayName),type:"user",fixed:!1,avatarUrl:t}})(t);return n?[...e,n]:e}),[]):[];var Wo=Object(l.defineMessages)({placeholderMulti:{
id:"issue.people.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Choose people"},placeholderSingle:{id:"issue.people.text-for-edit-view-when-no-value-is-provided-single-mode",defaultMessage:"Choose a person"},singleValueValidationError:{id:"issue.people.single-value-validation-error",defaultMessage:"You can only add one person to this field"}});const Bo=Object(a("Wwog").a)((e=>e.map((e=>({value:e.id,content:e.name,elemBefore:r.a.createElement(a("1JKq").a,{size:"xsmall",src:e.avatarUrl})}))))),qo=e=>!e||!1!==e.isMulti,Ho=b.css`margin-left:0;${""} & > div{margin:0;}${a("cNqL").b}{left:0;margin:12px 0 8px;${""} & > div > div > div{padding:0;}}`,Go=Object(b.default)(a("cNqL").a).withConfig({componentId:"xbyn9a-0"})`${({isEditable:e})=>!e&&Ho}`;class Yo extends o.Component{isValid(){const{configuration:e,value:t}=this.props;return!qo(e)&&t.length>1}renderReadView(){const{value:e,intl:t,isMobile:n}=this.props;return r.a.createElement(Ge,{value:Bo(e),
noValueText:t.formatMessage(ze.noValue),tagAppearance:"rounded",shouldHideLinks:n,isUserTag:!0})}renderEditView(){const{onChange:e,value:t,baseUrl:n,intl:s,configuration:i}=this.props,o=qo(i)||t.length>1;return r.a.createElement(a("+HXv").a,{baseUrl:n,isMulti:o,autoFocus:!0,isInvalid:this.isValid(),isInputDisabled:this.isValid(),invalidMessage:s.formatMessage(Wo.singleValueValidationError),placeholder:s.formatMessage(o?Wo.placeholderMulti:Wo.placeholderSingle),isDisabled:!1,appearance:"compact",onChange:e,value:t})}render(){const{label:e,isEditable:t,isEditing:n,isMobile:s,onConfirm:i,onCancel:o,onEditRequest:l,intl:c,value:d,configuration:u,fieldId:p,showPinButton:m,issueKey:b}=this.props,g=!qo(u)&&d.length<=1,f=!Object(a("MrUx").a)()&&(()=>Object(a("D3TY").a)("independent-bump-profile-card-bump",!1))()&&!n;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==b&&void 0!==p&&r.a.createElement(a("n7/x").a,{issueKey:b,fieldKey:p}),!0===m&&r.a.createElement(a("UOlw").a,{fieldId:p,label:e}))},r.a.createElement(a("gEry").c,null,e)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,e),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==b&&void 0!==p&&r.a.createElement(a("n7/x").a,{issueKey:b,fieldKey:p}),!0===m&&r.a.createElement(a("UOlw").a,{fieldId:p,label:e})),r.a.createElement(a("gEry").g,{isEditing:n,isFixFocusRing:f},r.a.createElement(a("iAtd").a,{onEscape:o},Object(a("MrUx").a)()?r.a.createElement(Go,{isEditable:t},r.a.createElement(a("JZTM").a,{isLabelHidden:!0,label:e,readView:r.a.createElement(a("cNqL").b,null,this.renderReadView()),
editView:t?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:n,shouldConfirmOnEnter:g,isValid:!n||this.isValid(),onConfirm:i,onCancel:o,areActionButtonsHidden:g,onEditRequested:l,isFitContainerWidthReadView:!s,editButtonLabel:c.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:e}),confirmButtonLabel:c.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:e}),cancelButtonLabel:c.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:e}),onEscape:o,isEditable:t})):r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:e,readView:this.renderReadView(),editView:t?this.renderEditView():null,disableEditViewFieldBase:!0,isEditing:n,shouldConfirmOnEnter:g,isValid:!n||this.isValid(),onConfirm:i,onCancel:o,areActionButtonsHidden:g,onEditRequested:l,isFitContainerWidthReadView:!s,editButtonLabel:c.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:e}),confirmButtonLabel:c.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:e}),
cancelButtonLabel:c.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:e})}))))}}Yo.displayName="People",Yo.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,label:""};var Zo=Object(a("/cyb").a)(((e,{fieldId:t,area:n})=>({fieldId:t,transformFromStateValue:$o,transformToStateValue:Ko,additionalProps:e=>{const s=Object(a("KSj7").r)(t)(e)||{};return{baseUrl:Object(a("Rp3N").c)(Object(a("4dgq").f)(e)),configuration:s.configuration||{},showPinButton:Object(a("NSuG").a)(n)}}})))(Object(l.injectIntl)(Yo));const Xo=e=>({content:e.name,value:e.id,iconUrl:e.iconUrl}),Jo=e=>e&&Xo(e),zo=e=>e&&{name:e.content,id:e.value,iconUrl:e.iconUrl},Qo=e=>[{items:e.map(Xo)}],er=Object(l.defineMessages)({placeholder:{id:"issue.priority.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select priority"}}),tr=Object(a("Wwog").a)((e=>()=>Promise.resolve(e).then(Qo))),nr=()=>{Object(a("B2Rg").b)().markTimeToFeedback({key:a("/kYB").a.PRIORITY.TIME_TO_RENDER_SUGGESTIONS})},ar=()=>{
Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.PRIORITY.TIME_TO_RENDER_SUGGESTIONS})},sr=e=>{const{isEditing:t,value:n,onChange:s,onEditRequest:l,onConfirm:c,onCancel:d}=e,u=Object(o.useRef)(!1);Object(o.useEffect)((()=>{Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.PRIORITY.TIME_TO_REFLECT_PRIORITY_UPDATE})}),[n]),Object(o.useEffect)((()=>{t||Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.PRIORITY.TIME_TO_RENDER_READ_VIEW})}),[t]);const p=Object(o.useCallback)((e=>{u.current=!0,Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.PRIORITY.TIME_TO_REFLECT_PRIORITY_UPDATE,cancelExisting:!0}),s(e)}),[s]),m=Object(o.useCallback)((()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.PRIORITY.TIME_TO_RENDER_SUGGESTIONS,cancelExisting:!0}),l()}),[l]),b=Object(o.useCallback)((()=>{u.current||Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.PRIORITY.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),u.current=!1,c()
}),[c]),g=Object(o.useCallback)((()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.PRIORITY.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),d()}),[d]);return r.a.createElement(qt,i()({},e,{onEditRequest:m,onConfirm:b,onCancel:g,onChange:p,onDataRequest:nr,onDataLoaded:ar,renderReadView:Xt(n)}))};sr.displayName="PriorityView";var ir=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:Jo,transformToStateValue:zo,additionalProps:(e,n)=>({fetchSuggestions:tr(Object(a("KSj7").d)(t.fieldId)(e)),placeholder:n.formatMessage(er.placeholder),noValueText:n.formatMessage(ze.noValue),portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,showPinButton:Object(a("NSuG").a)(t.area)})})))(sr),or=a("mwIZ"),rr=a.n(or);const lr=({issueKey:e,fieldKey:t,onSuccess:n,onFailure:s})=>{
const[{value:i}]=Object(a("MoW5").a)(e,t),o=rr()(i,"schema.type","com.atlassian.jira.plugin.system.customfieldtypes:project"),[{value:r,error:l},{saveValue:c,resetError:d}]=Object(a("35XP").a)({fieldKey:t,issueKey:e,fieldType:o,initialValue:null,onSuccess:n,onFailure:s});return[{value:r,error:l,fieldConfig:i},{saveValue:c,resetError:d}]},cr=e=>{const[t,n]=Object(o.useState)(!1),{value:s,options:i,onChange:l,onFocus:c,onBlur:d,placeholder:u="",autoFocus:p,isInvalid:m}=e,b=Object(o.useCallback)((e=>{n(!0),c&&c(e)}),[c]),g=Object(o.useCallback)((e=>{n(!1),d&&d(e)}),[d]);return r.a.createElement(a("Jyfm").a,{value:s,options:i,placeholder:u,onChange:l,onFocus:b,onBlur:g,autoFocus:p,formatOptionLabel:a("vWB2").a,isClearable:!0,hideSelectedOptions:!0,menuIsOpen:t,spacing:"compact",validationState:!0===m?"error":null})};cr.displayName="ProjectEditView";var dr=Object(l.defineMessages)({placeholder:{id:"issue-field-project.placeholder",defaultMessage:"Select project"},errorTitle:{
id:"issue-field-project.error-title",defaultMessage:"We couldn't set the project value"},errorMessage:{id:"issue-field-project.error-message",defaultMessage:"Check your connection, then give it another try."}});const ur=b.default.span.withConfig({componentId:"rxyhgn-0"})`color:${a("5kDX").a.N200};`,pr=b.default.div.withConfig({componentId:"rxyhgn-1"})`width:100%;display:flex;align-items:center;${""} max-width:${25*a("ZpU/").e}px;${()=>Object(a("MrUx").a)()?b.css`padding:${.5*a("ZpU/").e}px;`:`\n                  height: ${4*a("ZpU/").e}px;\n                  padding: 0 ${a("ZpU/").e}px;\n              `}`,mr=b.default.div.withConfig({componentId:"rxyhgn-2"})`padding-left:${.75*a("ZpU/").e}px;padding-right:${.75*a("ZpU/").e}px;`,br=b.default.div.withConfig({componentId:"rxyhgn-3"})`margin-right:${a("ZpU/").e}px;display:flex;`,gr=b.default.div.withConfig({componentId:"rxyhgn-4"
})`& > a{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;max-width:100%;}display:inline-flex;min-width:0;margin-right:${a("ZpU/").e}px;`,fr=b.default.div.withConfig({componentId:"sc-19uf6yj-0"})`${""} & > div > div > div > div > div > div > div{${e=>e.isEditing?"":"padding: 0;"};${e=>e.isEditing?"":`height: ${4*a("ZpU/").e}px;`};}& > div > div > div > div > div > div{${e=>e.isEditing?"":"min-height: 0;"};}${""} & > div > div > div > div{width:100%;}${""} & > div > div > div > div > div{width:100%;}`,hr=Object(b.default)(a("cNqL").a).withConfig({componentId:"sc-19uf6yj-1"})`${({isEditable:e})=>e?null:b.css`margin-left:0;${""} & > div{margin:10px 0 2px -2px;}${pr}{line-height:1;padding:4px 0;}${({hasValue:e})=>e?null:b.css`${""} & > div > div{padding:4px 6px 4px 0;}`}`}`,Er=({value:e,baseUrl:t,noValueText:n})=>{if(null==e)return r.a.createElement(mr,null,r.a.createElement(ur,null,n||""));const s=e=>{e.stopPropagation()}
;return r.a.createElement(pr,null,Boolean(e.avatarUrls["48x48"])&&r.a.createElement(br,null,r.a.createElement(a("1JKq").a,{appearance:"square",size:"xsmall",src:e.avatarUrls["48x48"],borderColor:"transparent"})),r.a.createElement(gr,null,r.a.createElement("a",{onClick:s,onKeyPress:s,href:`${t}/projects/${e.key}`},e.name)))};Er.displayName="ProjectReadView";const yr=["fieldKey","issueKey","onCancel","onEdit","onEscape","onConfirm","onEnter","readView","editView","noValueText"],Or=Object(a("wW5i").a)("ProjectPicker",{onChange:"changed"})(a("JZTM").a);var vr=Object(o.memo)((e=>{const{fieldKey:t,issueKey:n,onCancel:s,onEdit:l,onEscape:c,onConfirm:d,onEnter:u,readView:p,editView:m,noValueText:b}=e,g=z()(e,yr),[f,h]=Object(o.useState)(!1),{formatMessage:E}=Object(a("NRyt").d)(),y=Object(a("Rp3N").c)(""),[{value:O,error:v,fieldConfig:j},{saveValue:I}]=lr({issueKey:Object(a("Rp3N").n)(n),fieldKey:t}),C=(null==j?void 0:j.allowedValues)||[],[S,k]=Object(o.useState)(O),w=!!j&&j.isEditable
;Object(o.useEffect)((()=>{v&&h(!0),f||k(O)}),[v,f,O]);const T=Object(o.useCallback)(((e,t)=>{e!==O&&I(e,null,t),h(!1),Object(a("yy8q").h)(t)}),[I,O]),D=Object(o.useCallback)((e=>{h(!1),Object(a("yy8q").h)(e)}),[]),R=Object(o.useCallback)((e=>{D(e),s&&s(e)}),[D,s]),L=Object(o.useCallback)((e=>{h(!0),Object(a("yy8q").h)(e),l&&l(e)}),[l]),M=Object(o.useCallback)((e=>{D(e),c&&c(e)}),[c,D]),A=Object(o.useCallback)(((e,t,n)=>{k(e?Object(a("gbzr").c)(e):e),T(e?Object(a("gbzr").c)(e):e,n)}),[T]),_=Object(a("MrUx").a)()?hr:fr;return r.a.createElement(_,{isEditing:f,hasValue:!!O,isEditable:w},v&&r.a.createElement(a("gx/I").a,{error:v,title:dr.errorTitle,description:dr.errorMessage}),r.a.createElement(Or,i()({actionSubject:"projectInlineEdit",isEditable:w,isEditing:f,readView:(()=>void 0!==p?p:r.a.createElement(Er,{value:O,baseUrl:y,noValueText:b}))(),editView:w?(()=>void 0!==m?m:r.a.createElement(cr,{value:null===S?null:Object(a("gbzr").a)(S),autoFocus:!0,options:Object(a("gbzr").b)(C),
onChange:A,placeholder:E(dr.placeholder),isInvalid:!!v,errorMessage:E(dr.errorMessage)}))():null,onConfirm:R,onEdit:L,onEscape:M,areActionButtonsHidden:!0},g)))}));const jr=Object(b.default)(a("gEry").d).withConfig({componentId:"sc-1i3z1o8-0"})`${""} & > div > div > div > div > div > div > div > div{padding:0;}`,Ir=({fieldId:e,area:t,label:n})=>{const{formatMessage:s}=Object(a("NRyt").d)(),i=Object(a("ovRs").h)(),o=Object(a("NSuG").a)(t),[{fieldConfig:l}]=lr({issueKey:i,fieldKey:e}),c=(null==l?void 0:l.title)||n;return r.a.createElement(jr,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==i&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:i,fieldKey:e}),!0===o&&r.a.createElement(a("UOlw").a,{fieldId:e,label:c}))
},r.a.createElement(a("gEry").c,null,c)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,c),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==i&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:i,fieldKey:e}),!0===o&&r.a.createElement(a("UOlw").a,{fieldId:e,label:c})),r.a.createElement(a("gEry").g,null,r.a.createElement(vr,{issueKey:i,fieldKey:e,noValueText:s(ze.noValue)})))};Ir.displayName="View";var Cr=Object(o.memo)(Ir);class Sr extends o.Component{render(){const{invalidMessage:e,options:t,placeholder:n,onChange:s,value:i,portalElement:o}=this.props;return r.a.createElement(a("4r6E").a,{validationState:null!=e?"error":null,validationMessage:e},r.a.createElement(a("XP5X").a,{menuPortalTarget:o,options:t,placeholder:n,onChange:s,value:i,tabSelectsValue:!1,autoFocus:!0}))}}Sr.displayName="RadioFieldView",Sr.displayName="RadioFieldView",Sr.defaultProps={value:null,options:[],
placeholder:null,invalidMessage:null};const kr=b.default.div.withConfig({componentId:"sc-1g3b8uu-0"})`width:100%;margin-left:-8px;margin-top:-8px;& div[data-read-view-fit-container-width]{display:flex;align-items:center;width:100%;min-height:32px;padding:0 0 0 6px;}`,wr=b.default.div.withConfig({componentId:"sc-1g3b8uu-1"})`display:flex;flex:1 1 auto;word-break:break-word;position:relative;line-height:${2.5*a("ZpU/").e/a("ZpU/").d};`,Tr=Object(b.default)(kr).withConfig({componentId:"sc-1rk1blr-0"})`${({isEditable:e})=>e?null:b.css`margin-left:0;${""} & > div{margin-left:0;}${wr}{left:0;}`}`;class Dr extends o.Component{constructor(...e){super(...e),this.emptyOption={label:this.props.intl.formatMessage(ze.noValue)},this.renderReadView=()=>r.a.createElement(wr,null,this.renderReadViewOld()),this.renderEditView=()=>this.props.isEditable?r.a.createElement(Sr,{portalElement:this.props.portalElement,value:this.props.value,options:this.getOptions(),onChange:this.props.onChange,
placeholder:this.props.placeholder,invalidMessage:this.props.invalidMessage}):null}getOptions(){const{options:e,value:t}=this.props;return t?[this.emptyOption,...e]:e}renderReadViewOld(){const{value:e,noValueText:t}=this.props;return e?e.label:r.a.createElement(a("gVzX").b,null,t)}render(){const{label:e,onCancel:t,isEditing:n,onConfirm:s,onEditRequest:i,isMobile:o,fieldId:l,showPinButton:c,intl:d,isEditable:u,issueKey:p}=this.props;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==p&&void 0!==l&&r.a.createElement(a("n7/x").a,{issueKey:p,fieldKey:l}),!0===c&&r.a.createElement(a("UOlw").a,{fieldId:l,label:e}))},r.a.createElement(a("gEry").c,null,e)):r.a.createElement(a("HlSV").a,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,e),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==p&&void 0!==l&&r.a.createElement(a("n7/x").a,{issueKey:p,fieldKey:l}),!0===c&&r.a.createElement(a("UOlw").a,{fieldId:l,label:e})),r.a.createElement(a("gEry").g,{isEditing:n},r.a.createElement(a("iAtd").a,{onEscape:t},Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(Tr,{isEditable:u},r.a.createElement(a("JZTM").a,{hideActionButtons:!0,readView:this.renderReadView,editView:this.renderEditView,isEditing:n,isEditable:u,onEdit:i,onConfirm:s,onCancel:t,readViewFitContainerWidth:!o,editButtonLabel:d.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:e}),confirmButtonLabel:d.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:e}),cancelButtonLabel:d.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:e})})):r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:e,readView:this.renderReadViewOld(),
editView:this.renderEditView(),disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:n,onConfirm:s,onCancel:t,onEditRequested:i,isFitContainerWidthReadView:!o,editButtonLabel:d.formatMessage(a("n2YX").a.editButtonLabel,{fieldName:e}),confirmButtonLabel:d.formatMessage(a("n2YX").a.confirmButtonLabel,{fieldName:e}),cancelButtonLabel:d.formatMessage(a("n2YX").a.cancelButtonLabel,{fieldName:e})}))))}}Dr.displayName="RadioInlineEditView",Dr.displayName="RadioInlineEditView",Dr.defaultProps={isEditable:!1,isEditing:!1,isMobile:!1,options:[],value:null,label:"",placeholder:null,noValueText:null,invalidMessage:null};var Rr=Object(l.injectIntl)(Dr);const Lr=e=>({label:e.value,value:e.id}),Mr=e=>e?Lr(e):null,Ar=e=>e&&void 0!==e.value?{id:e.value,value:e.label}:null,_r=Object(l.defineMessages)({placeholder:{id:"issue.radio-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),Nr=ie()((e=>(e=>e&&e.map(Lr)||[])(e)));var xr=Object(a("/cyb").a)(((e,t)=>({
fieldId:t.fieldId,transformFromStateValue:Mr,transformToStateValue:Ar,additionalProps:(e,n)=>({portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,options:Nr(Object(a("KSj7").d)(t.fieldId)(e)),placeholder:n.formatMessage(_r.placeholder,{fieldName:Object(a("KSj7").n)(t.fieldId)(e)}),noValueText:n.formatMessage(ze.noValue),showPinButton:Object(a("NSuG").a)(t.area)})})))(Rr);const Ur=({issueKey:e,fieldKey:t})=>{const[{value:n}]=Object(a("MoW5").a)(e,t),[s]=Object(a("j3bG").b)({fieldKey:t,issueKey:e});return[{value:s,fieldConfig:n},{}]},Fr=b.default.div.withConfig({componentId:"v3qt9y-0"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,Pr=({value:e})=>r.a.createElement(Fr,null,e||"\xa0");Pr.displayName="ReadOnlyFieldView";var Vr=({fieldKey:e,readView:t})=>{const n=Object(a("ovRs").h)(),[{value:s}]=Ur({issueKey:n,fieldKey:e});return null!=t&&"function"==typeof t?Object(o.createElement)(t,{value:s}):r.a.createElement(Pr,{value:s})}
;const Kr=Object(b.default)(a("gEry").d).withConfig({componentId:"sc-1x1ol3d-0"})`align-items:center;`,$r=({fieldId:e,label:t,area:n})=>{const s=Object(a("ovRs").h)(),{formatMessage:i}=Object(a("NRyt").d)(),[{fieldConfig:l}]=Ur({issueKey:s,fieldKey:e}),c=(null==l?void 0:l.title)||t,{noValue:d}=ze,u=Object(o.useCallback)((({value:e})=>null==e?r.a.createElement(a("gVzX").b,null,i(d)):r.a.createElement(Pr,{value:e})),[i,d]),p=Object(a("NSuG").a)(n);return r.a.createElement(Kr,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==s&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:s,fieldKey:e}),!0===p&&r.a.createElement(a("UOlw").a,{fieldId:e,label:c}))},r.a.createElement(a("gEry").c,null,c)):r.a.createElement(a("HlSV").a,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,c),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==s&&void 0!==e&&r.a.createElement(a("n7/x").a,{issueKey:s,fieldKey:e}),!0===p&&r.a.createElement(a("UOlw").a,{fieldId:e,label:c})),r.a.createElement(a("gEry").g,null,r.a.createElement(Vr,{fieldKey:e,readView:u})))};$r.displayName="ReadOnlyView";var Wr=$r;const Br=Object(a("Wwog").a)((e=>({avatarUrl:"",name:e,id:null}))),qr=Object(a("Wwog").a)((e=>[Br(e)]));var Hr=Object(a("Wwog").a)(((e,t,n)=>async s=>{if(!e)return[];return[...!n&&((e,t)=>!!e&&!!t&&t.toLowerCase().startsWith(e.toLowerCase()))(s,t)?[Br(t)]:[],...(await Object(a("QNWr").a)(`${e}${s}`)).map(Oe)]}));const Gr=Object(l.defineMessages)({noReporter:{id:"issue.reporter.text-when-no-value-is-provided",defaultMessage:"Anonymous"}});var Yr=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:Oe,transformToStateValue:ve,additionalProps:(e,n)=>{
const s=Object(a("KSj7").I)(t.fieldId)(e),i=n.formatMessage(Gr.noReporter);return{portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,fetchSuggestions:Hr(Object(a("KSj7").e)(t.fieldId)(e),i,s),emptyOption:s?void 0:Br(i),initialOptions:s?void 0:qr(i),fieldId:"reporter",showPinButton:Object(a("NSuG").a)(t.area)}}})))(ye);const Zr=Object(C.h)((()=>a.e("async-request-feedback").then(a.bind(null,"PtRK"))),{moduleId:"./src/packages/issue/issue-view/src/views/issue-base/context/request-feedback/index.js"}),Xr=e=>r.a.createElement(a("ho8o").a,{id:"jsmRequestFeedback",packageName:"atlassian/jira-issue-view"},r.a.createElement(C.a,{fallback:null},r.a.createElement(Zr,e)));Xr.displayName="AsyncRequestFeedback";var Jr=Xr;var zr=Object(l.defineMessages)({placeholder:{id:"issue.request-language.placeholder",defaultMessage:"Select Request language"},languageUnknown:{id:"issue.request-language.languageUnknown",defaultMessage:"Language unknown"}});const Qr=e=>({
content:e.displayName,value:e.languageCode}),el=Object(a("Wwog").a)((e=>({displayName:e.formatMessage(zr.languageUnknown),languageCode:""}))),tl=(e,t,n)=>Qr(e||el(n)),nl=e=>({displayName:e.content,languageCode:e.value.toString()}),al=["shouldHide"];const sl=Object(a("Wwog").a)(((e,t)=>()=>Promise.resolve(((e,t)=>[{items:[el(t),...e].map(Qr)}])(e,t)))),il=({baseUrl:e,value:t},n)=>{const{languageCode:s}=t;return(async(e,t,n)=>{if(!t)throw new Error("Issue ID not available");return Object(a("/rpS").e)(((e,t)=>`${e}/rest/servicedesk/lingo-integration/1/request-language/${t}`)(e,t),{body:JSON.stringify({languageCode:n})})})(e,Object(a("4dgq").v)(n),s)},ol=e=>e&&e.languageCode;var rl=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:tl,transformToStateValue:nl,saveField:il,additionalProps:(e,n)=>({fetchSuggestions:sl(Object(a("KSj7").d)(t.fieldId)(e),n),shouldHide:!Object(a("OMlv").c)(t.fieldId)(e),hasAutocomplete:!0,placeholder:n.formatMessage(zr.placeholder),
analyticsAttributeIdRetriever:ol,showPinButton:Object(a("NSuG").a)(t.area)})})))((e=>{const{shouldHide:t}=e,n=z()(e,al);return t?null:r.a.createElement(qt,n)})),ll=Object(l.defineMessages)({placeholder:{id:"issue.request-participants.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select the Request Participants"}});const cl="24x24",dl=e=>e?e.map((e=>({content:e.displayName,value:e.accountId,avatarUrl:e.avatarUrls["24x24"],elemBefore:r.a.createElement(a("1JKq").a,{size:"xsmall",src:e.avatarUrls["24x24"]})}))):[],ul=e=>e&&e.map((e=>({displayName:e.content,id:Object(a("Rp3N").a)(e.value),accountId:Object(a("Rp3N").a)(e.value),avatarUrls:{[cl]:e.avatarUrl}}))),pl=e=>[{items:(e&&e.users||[]).map((e=>({content:e.displayName,value:e.accountId,avatarUrl:e.avatarUrl,email:e.email})))}],ml=Object(a("Wwog").a)((e=>t=>e?Object(a("QNWr").a)(`${e}${t}`).then(pl):Promise.resolve([]))),bl=e=>e&&Array.isArray(e)?e.map((e=>e.accountId)).join(","):e,gl=(e,t)=>r.a.createElement(Ja,{
avatarUrl:e.avatarUrl,email:e.email,label:e.label,context:t.context});gl.displayName="formatOptionLabel";var fl=Object(a("/cyb").a)(((e,t)=>{const n=Object(a("KSj7").e)(t.fieldId);return{fieldId:t.fieldId,transformFromStateValue:dl,transformToStateValue:ul,additionalProps:(e,s)=>({fetchSuggestions:ml(n(e)),placeholder:s.formatMessage(ll.placeholder),noValueText:s.formatMessage(ze.noValue),tagAppearance:"rounded",analyticsAttributeIdRetriever:bl,showPinButton:Object(a("NSuG").a)(t.area),formatOptionLabel:gl})}}))(Rt);const hl=Object(C.h)((()=>a.e("async-responders-glance").then(a.bind(null,"iNN0"))),{ssr:!1,moduleId:"./src/packages/issue/fields/responders/src/ui/responders-glance/main.js"}),El=e=>r.a.createElement(a("ho8o").a,{id:"async.responders.glance",packageName:"atlassian/jira-responders"},r.a.createElement(C.a,{fallback:null},r.a.createElement(hl,e)));El.displayName="RespondersGlance";const yl=Object(C.h)((()=>a.e("async-responders-glance-panel").then(a.bind(null,"ZB4t"))),{
ssr:!1,moduleId:"./src/packages/issue/fields/responders/src/ui/responders-glance-panel/main.js"}),Ol=e=>r.a.createElement(a("ho8o").a,{id:"async.responders.glance.panel",packageName:"atlassian/jira-responders"},r.a.createElement(C.a,{fallback:null},r.a.createElement(yl,e)));Ol.displayName="RespondersGlancePanel";Object(C.h)((()=>a.e("async-responders-inline-view").then(a.bind(null,"PiMN"))),{ssr:!1,moduleId:"./src/packages/issue/fields/responders/src/ui/inline/main.js"});const vl=({isVisible:e=!0,onOpenPanel:t,itemId:n,showPinButton:s})=>r.a.createElement(a("ho8o").a,null,e&&r.a.createElement(El,{onOpenPanel:t,itemId:n,showPinButton:s}));vl.displayName="RespondersGlanceContainer";var jl=Object(c.connect)(((e,t)=>({itemId:t.itemId,isVisible:Object(a("nGHA").f)(e),showPinButton:Object(a("NSuG").a)(t.area)})),{})(vl),Il=a("0XPj"),Cl=a.n(Il),Sl=e=>{const t=Object(a("rBSy").c)(),{baseUrl:n,cloudId:s}=t,l=Object(a("ovRs").h)(),[c]=Object(a("pvIb").d)(l),[{value:d}]=Object(a("pncN").a)({
issueKey:l}),{createAnalyticsEvent:u}=Object(a("rZ/p").a)(),p=Object(o.useCallback)((()=>{Object(a("yy8q").b)(u({}),"respondersField updateSucceeded",{})}),[u]),m=Object(o.useCallback)((e=>{Object(a("v/G6").a)({event:u({}),meta:{id:"respondersFieldUpdate",packageName:"jiraIssueView"},error:e,sendToPrivacyUnsafeSplunk:!0})}),[u]),b=Object(o.useCallback)(((e,t,n,s)=>{const i=e||[],o=t||[],r=i.filter((e=>"team"===e.type)).length,l=o.filter((e=>"team"===e.type)).length,c=i.filter((e=>"user"===e.type)).length,d=o.filter((e=>"user"===e.type)).length,u=i.length;Cl()(i,o).length>0?Object(a("yy8q").f)(s,"respondersField updateStarted",{operationType:"remove",numberOfTotalOriginalResponders:u,numberOfOriginalTeamResponder:r,numberOfOriginalUserResponder:c,numberOfTotalRemovedResponders:o.length,numberOfRemovedTeamResponder:l,numberOfRemovedUserResponder:d}):Object(a("yy8q").f)(s,"respondersField updateStarted",{operationType:"add",numberOfTotalOriginalResponders:u,
numberOfOriginalTeamResponder:r,numberOfOriginalUserResponder:c,numberOfTotalAddedResponders:o.length,numberOfAddedTeamResponder:l,numberOfAddeddUserResponder:d})}),[]),[{value:g,error:f},{addResponders:h,removeResponders:E,resetError:y}]=Object(a("VWc/").a)({issueKey:l,onSuccess:p,onFailure:m,onSubmit:b});return r.a.createElement(a("ho8o").a,null,r.a.createElement(a("n9/U").a,{baseUrl:n,cloudId:s,isGlobal:!0},r.a.createElement(Ol,i()({},e,{responders:g,isPanelOpen:void 0!==c,currentAssignee:d,onAddResponders:h,onRemoveResponders:E,respondersFieldError:{error:f,resetError:y}}))))};const kl=Object(it.asyncComponent)({resolve:()=>Promise.all([a.e("vendor~748942c6"),a.e("vendor~31ecd969"),a.e("vendor~f9ca8911"),a.e("async-services-entity-inline-edit-view")]).then(a.bind(null,"bdm1")).then((e=>e.ServiceEntityMain)),name:"AsyncServiceEntityField"}),wl=({children:e,packageName:t})=>r.a.createElement(a("cU7O").a,{id:"issue-service-entity-field",packageName:t,fallback:"flag"},e)
;wl.displayName="IssueServiceEntityFieldBoundary";const Tl=e=>{const{fieldId:t,area:n,onChange:s,onConfirm:i}=e,o=Object(a("ovRs").j)();return r.a.createElement(wl,{packageName:"issue-service-entity-field"},r.a.createElement(kl,{area:n,fieldId:Object(a("aaZY").a)(t),projectKey:o,onChange:s,onConfirm:i}))};Tl.displayName="ServiceEntity";const Dl=Object(a("/cyb").a)(((e,t)=>({area:t.area,fieldId:t.fieldId})))(Tl);var Rl=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,additionalProps:(e,n)=>({noValueText:n.formatMessage(ze.noValue),type:"text",showPinButton:Object(a("NSuG").a)(t.area)})})))(Ua);const Ll=e=>({value:e.id,content:e.value,iconUrl:e.iconUrl}),Ml=e=>e&&Ll(e),Al=e=>e&&{id:e.value,value:e.content,iconUrl:e.iconUrl},_l=e=>e&&[{items:e.map(Ll)}]||[],Nl=Object(l.defineMessages)({placeholder:{id:"issue.single-select.text-for-dropdown-when-nothing-selected",defaultMessage:"Select {fieldName}"}}),xl=ie()((e=>()=>Promise.resolve(e).then(_l)));var Ul=Object(a("/cyb").a)(((e,t)=>({
fieldId:t.fieldId,transformFromStateValue:Ml,transformToStateValue:Al,additionalProps:(e,n)=>({fetchSuggestions:xl(Object(a("KSj7").d)(t.fieldId)(e)),placeholder:n.formatMessage(Nl.placeholder,{fieldName:Object(a("KSj7").n)(t.fieldId)(e)}),noValueText:n.formatMessage(ze.noValue),allowEmptyValue:!0,hasAutocomplete:!0,portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,showPinButton:Object(a("NSuG").a)(t.area)})})))(qt);const Fl=e=>Object(f.createSelector)(a("nGHA").h,a("/LFc").n,Object(a("KSj7").G)(e),((e,t,n)=>e.canScheduleIssues&&t&&n)),Pl=(e,t)=>`${e}/secure/GHGoToBoard.jspa?sprintId=${t}`,Vl=({option:e})=>r.a.createElement(a("JQsD").e,null,null!=e.elemBefore?e.elemBefore:null,r.a.createElement(Ks,null,r.a.createElement($s,null,e.label),null!=e.description?r.a.createElement(Ws,null,e.description):null));Vl.displayName="RichOptionView";const Kl=b.default.div.withConfig({componentId:"sc-14ke152-0"})`margin-left:${a("ZpU/").e}px;`,$l=b.default.span.withConfig({
componentId:"sc-14ke152-1"})`padding:${a("ZpU/").e/2}px;`,Wl=b.default.div.withConfig({componentId:"sc-14ke152-2"})`margin-top:${a("ZpU/").e}px;display:flex;justify-content:space-between;max-width:300px;`,Bl=b.default.span.withConfig({componentId:"sc-14ke152-3"})`font-weight:500;`,ql=`\n    margin-right: ${3*a("ZpU/").e}px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n`,Hl=b.default.a.withConfig({componentId:"sc-14ke152-4"})`${ql};`,Gl=b.default.span.withConfig({componentId:"sc-14ke152-5"})`${ql};`,Yl=b.default.div.withConfig({componentId:"sc-14ke152-6"})`white-space:nowrap;`;class Zl extends o.Component{constructor(...e){super(...e),this.state={isDialogOpen:!1},this.handleButtonClick=e=>{this.setState({isDialogOpen:!this.state.isDialogOpen}),e.stopPropagation()},this.handleDialogClose=e=>{this.setState({isDialogOpen:e.isOpen})},this.handleDialogClick=e=>{e.stopPropagation()},this.handleDialogMouseDown=e=>{e.preventDefault(),e.stopPropagation()},
this.renderInlineDialogContent=()=>r.a.createElement("div",null,r.a.createElement(Bl,null,this.props.closedSprintsLabel),this.props.closedSprints.map((e=>r.a.createElement(Wl,{key:e.name},this.props.shouldHideLinks?r.a.createElement(Gl,null,e.name):r.a.createElement(Hl,{href:e.href},e.name),r.a.createElement(Yl,null,e.endDate)))))}render(){return r.a.createElement(Kl,{onClick:this.handleDialogClick,onMouseDown:this.handleDialogMouseDown},r.a.createElement(a("faw9").a,{content:this.renderInlineDialogContent(),isOpen:this.state.isDialogOpen,onClose:this.handleDialogClose,placement:"bottom"},r.a.createElement(a("340+").a,{onClick:this.handleButtonClick,spacing:"none",isSelected:this.state.isDialogOpen},r.a.createElement($l,null,`+${this.props.closedSprints.length}`))))}}Zl.displayName="ClosedSprintsView",Zl.defaultProps={shouldHideLinks:!1,closedSprints:[],closedSprintsLabel:null};b.default.div.withConfig({componentId:"sc-150t20x-0"})`margin:2px -1px 2px 2px;`
;const Xl=b.default.div.withConfig({componentId:"sc-150t20x-1"})`display:flex;align-items:center;width:100%;`,Jl=b.default.div.withConfig({componentId:"sc-150t20x-2"})`white-space:nowrap;overflow:hidden;text-overflow:ellipsis;`,zl=["baseUrl","closedSprints","closedSprintsLabel","rapidViewId","onSprintClicked","intl","getDataFromCache","route"],Ql=["rapidViewId"];class ec extends o.Component{constructor(...e){super(...e),this.state={data:[],loading:!1,error:!1},this.componentDidMount=()=>{this.getDataFromCache()},this.getDataFromCache=()=>{var e,t;null===(e=(t=this.props).getDataFromCache)||void 0===e||e.call(t,this.props.intl).then((e=>{this.setState({data:e,loading:!1})}))},this.onSprintClick=e=>{const{rapidViewId:t,value:n,onSprintClicked:a}=this.props;void 0!==t&&n&&a(n.value),e.stopPropagation()},this.onEditRequest=()=>{Object(a("B2Rg").b)().cancel({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_INPUT_RESULT},!0),Object(a("B2Rg").b)().markStartOfInteraction({
key:a("/kYB").a.SPRINT.TIME_TO_RENDER_INITIAL_SUGGESTIONS,cancelExisting:!0}),this.props.onEditRequest()},this.onChange=(e,t)=>{t&&("select-option"===t.action?Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_SELECTED_SPRINT}):"clear"===t.action&&Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_REMOVED_SPRINT})),this.props.onChange(e)},this.onConfirm=()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.SPRINT.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),this.props.onConfirm()},this.onCancel=()=>{Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.SPRINT.TIME_TO_RENDER_READ_VIEW,cancelExisting:!0}),this.props.onCancel()},this.onDataRequest=({isInitial:e})=>{e||Object(a("B2Rg").b)().markStartOfInteraction({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_INPUT_RESULT,cancelExisting:!0})},this.onDataLoaded=({isInitial:e}={})=>{e?Object(a("B2Rg").b)().markTimeToFinishTask({
key:a("/kYB").a.SPRINT.TIME_TO_RENDER_INITIAL_SUGGESTIONS}):Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_INPUT_RESULT})},this.renderSprintContent=()=>{const{baseUrl:e,rapidViewId:t,value:n,route:s}=this.props;return Object(a("Oaux").a)(s)&&"number"==typeof t&&t>0?n&&n.content:r.a.createElement("a",{href:null==t&&n?Pl(e,n.value):void 0,onClick:this.onSprintClick},n&&n.content)},this.renderReadView=()=>{const{value:e,noValueText:t,closedSprints:n,closedSprintsLabel:s,isMobile:i}=this.props;return r.a.createElement(Xl,null,r.a.createElement(Jl,null,e?this.renderSprintContent():r.a.createElement(a("gVzX").b,null,t)),n.length>0&&r.a.createElement(Zl,{closedSprints:n,closedSprintsLabel:s,shouldHideLinks:i}))},this.formatOptionLabel=(e,{context:t})=>"menu"===t?r.a.createElement(Vl,{option:e}):e.label,this.fetchSuggestions=(e,t)=>this.props.fetchSuggestions(e,t).then((e=>(this.setState({data:e}),e)))}componentDidUpdate(e){
const{isEditing:t,value:n}=this.props;!e.isEditing&&t&&Object(a("B2Rg").b)().markTimeToFeedback({key:a("/kYB").a.SPRINT.TIME_TO_RENDER_INITIAL_SUGGESTIONS}),e.isEditing&&!t&&(e.value!==n?n?Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_SELECTED_SPRINT}):Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.SPRINT.TIME_TO_REFLECT_REMOVED_SPRINT}):Object(a("B2Rg").b)().markTimeToFinishTask({key:a("/kYB").a.SPRINT.TIME_TO_RENDER_READ_VIEW}))}render(){const e=this.props,{baseUrl:t,closedSprints:n,closedSprintsLabel:a,rapidViewId:s,onSprintClicked:o,intl:l,getDataFromCache:c,route:d}=e,u=z()(e,zl),{data:p,loading:m,error:b}=this.state,g={data:p,loading:m,error:b};return r.a.createElement(qt,i()({},u,{fetchSuggestions:this.fetchSuggestions,debounceFetchSuggestionsTime:300,initialData:g,onEditRequest:this.onEditRequest,onChange:this.onChange,onConfirm:this.onConfirm,onCancel:this.onCancel,onDataRequest:this.onDataRequest,
onDataLoaded:this.onDataLoaded,renderReadView:this.renderReadView,formatOptionLabel:this.formatOptionLabel,hasAutocomplete:!0,optionValuesSafeForAnalytics:!0}))}}ec.displayName="SprintInlineEditView",ec.displayName="SprintInlineEditView",ec.defaultProps={closedSprints:[],closedSprintsLabel:null};const tc=e=>{let{rapidViewId:t}=e,n=z()(e,Ql);const s=Object(a("ovRs").k)(),o=Object(a("vOmQ").a)();return r.a.createElement(ec,i()({},n,{route:o,rapidViewId:s}))};tc.displayName="SprintInlineEditViewWithHooks",tc.defaultProps={closedSprints:[],closedSprintsLabel:null};var nc=tc,ac=Object(l.defineMessages)({label:{id:"issue.sprint.label",defaultMessage:"Sprint"},placeholder:{id:"issue.sprint.text-for-edit-view-when-no-value-is-provided",defaultMessage:"Select Sprint"},activeSprints:{id:"issue.sprint.active-heading",defaultMessage:"Active"},recentSprints:{id:"issue.sprint.recent-heading",defaultMessage:"Recent sprints"},futureSprints:{id:"issue.sprint.future-heading",defaultMessage:"Future"},
closedSprintsLabel:{id:"issue.sprint.text-for-closed-sprints-inline-dialog",defaultMessage:"{count} completed {count, plural, one {sprint} other {sprints}}"}});const sc=e=>(e?e.find((e=>e.state&&"active"===e.state.toLowerCase())):null)||null,ic=e=>({content:e.name,value:e.id,fromCache:e.fromCache||!1}),oc=e=>{const t=sc(e),n=(e=>(e?e.find((e=>e.state&&"future"===e.state.toLowerCase())):null)||null)(e);return t&&ic(t)||n&&ic(n)},rc=e=>t=>{if(!t)return e;const n={name:t.content,id:t.value,state:"active",fromCache:t.fromCache||!1};return e.concat(n)},lc=e=>({content:e.name,value:e.id,description:e.boardName,id:e.id,fromCache:e.fromCache||!1}),cc=(e,t=[],n)=>{const s=e.suggestions||[],i=e.allMatches||[],o=s.concat(i),r=o.filter((e=>"ACTIVE"===e.stateKey)).map(lc),l=o.filter((e=>"FUTURE"===e.stateKey)).map(lc),c=(e=>e.slice(-5).reverse())(((e,t)=>t.map((t=>{const n=e.find((e=>e.id===t.id));return n?(a("P4W6").a.update(`${t.id}`,n),de()(de()({},n),{},{fromCache:!0})):de()(de()({},t),{},{
fromCache:!0})})))(o,t)).map(lc);return[{heading:n.formatMessage(ac.recentSprints),items:c},{heading:n.formatMessage(ac.activeSprints),items:r},{heading:n.formatMessage(ac.futureSprints),items:l}]},dc=Object(a("Wwog").a)(((e,t,n)=>({id:n.id,name:n.name,href:Pl(t,n.id),endDate:e.formatDate(n.endDate,{day:"2-digit",month:"short",year:"numeric"})}))),uc=(e,t)=>{const n=e.length;return n>0?t.formatMessage(ac.closedSprintsLabel,{count:n}):null},pc=Object(a("Wwog").a)(((e,t)=>n=>{const s=`${t}/rest/greenhopper/1.0/sprint/picker?query=${n}&maxResults=10&maxActiveSprints=5`,i=Object(a("QNWr").a)(s);return Promise.all([i,a("P4W6").a.getAll()]).then((([t,n])=>cc(t,n,e)))})),mc=Object(a("Wwog").a)(((e,t,n)=>((e,t,n)=>e.map((e=>dc(n,t,e))))(e,t,n))),bc=e=>a("P4W6").a.getAll().then((t=>cc({},t,e))),gc=Object(a("/cyb").a)(((t,n)=>{const s=(e=>Object(f.createSelector)(Object(a("KSj7").r)(e),(e=>e&&e.value?e.value.filter((e=>"closed"===e.state||"CLOSED"===e.state)):[])))(n.fieldId)(t);return{
fieldId:n.fieldId,transformFromStateValue:oc,transformToStateValue:rc(s),additionalProps:(e,t)=>({fetchSuggestions:pc(t,Object(a("4dgq").f)(e)),closedSprints:mc(s,Object(a("4dgq").f)(e),t),closedSprintsLabel:uc(s,t),placeholder:t.formatMessage(ac.placeholder),noValueText:t.formatMessage(ze.noValue),allowEmptyValue:!0,baseUrl:Object(a("4dgq").f)(e),isEditable:Fl(n.fieldId)(e),showPinButton:Object(a("NSuG").a)(n.area),getDataFromCache:bc}),additionalCallbacks:e=>({onSprintClicked:t=>e(Object(a("5JtD").e)(t))}),saveField:(...t)=>(({baseUrl:t,issueKey:n,fieldMetaKey:s,value:i},o,r)=>{const l=sc(i);return i.forEach((e=>{try{r.createAnalyticsEvent&&Object(a("yy8q").b)(r.createAnalyticsEvent({}),"sprintPickerCache set",{isFromCache:e.fromCache}),e.id&&a("P4W6").a.set(`${e.id}`,e)}catch(t){a("RDfz").a.safeErrorWithoutCustomerData("issue-view.sprints.cache.set",t.message)}})),Object(a("/rpS").e)(Object(a("XtNG").e)(t,n),{body:JSON.stringify({fields:{[s]:l?l.id:null}})}).catch((t=>{
throw i.forEach((t=>{try{r.createAnalyticsEvent&&Object(a("yy8q").b)(r.createAnalyticsEvent({}),"sprintPickerCache removed"),t.id&&a("P4W6").a.remove(`${t.id}`)}catch(e){a("RDfz").a.safeErrorWithoutCustomerData("issue-view.sprints.cache.remove",e.message)}})),t}))})(...t,n)}}))(nc),fc=e=>{const{area:t,fieldId:n}=e,{formatMessage:s}=Object(a("NRyt").d)(),i=Object(a("ovRs").h)(),o=Object(a("ovRs").g)(),l=Object(a("IFiJ").g)(i),c=Object(a("IFiJ").e)(l),[{value:d}]=Object(a("MoW5").a)(i,n),u=(null==d?void 0:d.title)||s(ac.label),p=Object(a("NSuG").a)(t);return r.a.createElement(a("gEry").d,{"data-test-id":"issue.views.issue-base.context.sprint"},Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:!0===p&&r.a.createElement(a("UOlw").a,{fieldId:n,label:u})},r.a.createElement(a("gEry").c,null,u)):r.a.createElement(a("HlSV").a,{
isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,u),!0===p&&r.a.createElement(a("UOlw").a,{fieldId:n,label:u})),r.a.createElement(a("gEry").g,null,r.a.createElement(a("Oc+3").a,{fieldKey:n,issueId:o,issueKey:i,label:u,showPinButton:p,projectId:c})))};fc.displayName="ExtractedSprintField";var hc=Object(a("5WHm").a)(a("d90y").isExtractedSprintFieldEnabled,fc,gc);const Ec=()=>Object(a("D3TY").a)("issue.details.sentry-error-fixes",!1);var yc=Object(l.defineMessages)({errorTitle:{id:"issue-field-classic-story-point.error-title",defaultMessage:"We couldn't set the story point value"},errorMessage:{id:"issue-field-classic-story-point.error-message",defaultMessage:"Check your connection, then give it another try."},negativeNumbersNotAllowed:{id:"issue-field-classic-story-point.negative-numbers-not-allowed",defaultMessage:"Time for some positivity. Story point estimates can't be negative."}}),Oc=a("cr+I")
;const vc=({issueKey:e,issueId:t,fieldKey:n,onSuccess:s})=>{const[{value:i}]=Object(a("MoW5").a)(e,n),o=rr()(i,"schema.type","number"),[{value:r,error:l},{saveValue:c,resetError:d}]=Object(a("35XP").a)({fieldKey:n,issueKey:e,fieldType:o,initialValue:null,saveField:(e,s,i,o)=>(async(e,t,n,s)=>null!==n&&n<0&&!Ec()?Promise.reject(new Error(yc.negativeNumbersNotAllowed.id)):Object(a("/rpS").d)(`${s}/secure/AjaxIssueAction.jspa?decorator=none`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(Oc.stringify)({[t]:n,issueId:e,skipScreenCheck:!0,atl_token:Object(a("sN5M").a)(),singleFieldEdit:!0})}))(Object(a("Rp3N").n)(t.toString()),n,i,o),onSuccess:s});return[{value:r,error:l,fieldConfig:i},{saveValue:c,resetError:d}]},jc=b.default.div.withConfig({componentId:"sc-1wlp2p9-0"})`${()=>Object(a("MrUx").a)()?"":`width: ${8.5*a("ZpU/").e}px;`} cursor:auto;`,Ic=b.default.div.withConfig({componentId:"sc-1wlp2p9-1"
})`margin-left:-${a("ZpU/").e/2}px;margin-right:${a("ZpU/").e/2}px;`,Cc=["isInvalid","type","defaultValue"];var Sc=Object(o.memo)((e=>{const{isInvalid:t=!1,type:n,defaultValue:s}=e,o=z()(e,Cc),{formatMessage:l}=Object(a("NRyt").d)(),c=null===s?"":s;return r.a.createElement(jc,null,Object(a("MrUx").a)()?r.a.createElement(r.a.Fragment,null,r.a.createElement(a("I4Rc").a,i()({appearance:"subtle",autoFocus:!0,isCompact:!0,isLabelHidden:!0,isInvalid:t,type:n,value:c,step:"any",elemAfterInput:!0===t?r.a.createElement(Ic,null,r.a.createElement(a.n(a("DWq1")).a,{size:"medium",primaryColor:"#FFAB00",label:""})):null},o)),Ec()&&t&&r.a.createElement(a("LDCv").a,null,l(yc.negativeNumbersNotAllowed))):r.a.createElement(a("iSg+").a,i()({appearance:"subtle",autoFocus:!0,compact:!0,isLabelHidden:!0,isInvalid:t,shouldFitContainer:!0,type:n,value:c,invalidMessage:Ec()&&t?l(yc.negativeNumbersNotAllowed):void 0},o)))}));const kc=b.default.div.withConfig({componentId:"b98q2j-0"
})`cursor:pointer;${()=>Object(a("MrUx").a)()?`> span:hover  {\n         color: ${a("5kDX").a.N800} !important;\n          background-color: ${a("5kDX").a.N90} !important; \n    }`:`    \n    &:hover > span {\n        color: ${a("5kDX").a.N800} !important;\n        background-color: ${a("5kDX").a.N90} !important;\n    }`}`,wc=b.default.span.withConfig({componentId:"b98q2j-1"})`color:${a("5kDX").a.N300};`;var Tc=({isEditable:e,noValueText:t,value:n})=>{const{formatNumber:s}=Object(a("NRyt").d)(),i={min:-1*Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER};if(null===n)return r.a.createElement(wc,null,t);const o=r.a.createElement(a("7QTw").a,i,s(n));return e?r.a.createElement(kc,null,o):o}
;const Dc=["fieldKey","issueKey","issueId","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","noValueText","label"],Rc=b.css`margin-left:0;${""} & > div{margin:10px 0 2px;}${a("cNqL").b}{left:0;padding:6px 0;line-height:1;}`,Lc=Object(b.default)(a("cNqL").a).withConfig({componentId:"sc-8405uu-0"})`${({isEditable:e})=>!e&&Rc}`,Mc="numberInlineEdit";var Ac=Object(o.memo)((e=>{const{fieldKey:t,issueKey:n,issueId:s,onCancel:l,onEdit:c,onEscape:d,onConfirm:u,onEnter:p,onUpdate:m,readView:b,editView:g,noValueText:f,label:h}=e,E=z()(e,Dc),[{value:y,error:O,fieldConfig:v},{saveValue:j,resetError:I}]=vc({issueKey:Object(a("Rp3N").n)(n),issueId:s&&Object(a("Rp3N").l)(s),fieldKey:t,onSuccess:m}),C=rr()(v,"schema.type","number"),[S,k]=Object(o.useState)(!1),[w,T]=Object(o.useState)(y),D=!!v&&v.isEditable,[R,L]=Object(o.useState)(!1),{formatMessage:M}=Object(a("NRyt").d)()
;(()=>Object(a("D3TY").a)("issue.details.fix-initial-value-on-edit-classic-story-point",!1))()?Object(o.useEffect)((()=>{O&&k(!0),S||T(y)}),[O,S,y]):Object(o.useEffect)((()=>{O&&k(!0)}),[O]);const A=Object(o.useCallback)((e=>{if(w!==y){if(Ec()&&null!==w&&w<0)return void L(!0);j(w,null,e)}k(!1),L(!1),Object(a("yy8q").h)(e)}),[j,w,y]),_=Object(o.useCallback)((e=>{I(),k(!1),T(y),Object(a("yy8q").h)(e),L(!1)}),[I,y]),N=Object(o.useCallback)((e=>{_(e),l&&l(e)}),[l,_]),x=Object(o.useCallback)((e=>{A(e),u&&u(e)}),[u,A]),U=Object(o.useCallback)((e=>{k(!0),Object(a("yy8q").h)(e),c&&c(e)}),[c]),F=Object(o.useCallback)((e=>{_(e),d&&d(e)}),[d,_]),P=Object(o.useCallback)((e=>{A(e),p&&p(e)}),[p,A]),V=Object(o.useCallback)((e=>{I();const t=""===e.target.value?null:Number(e.target.value);T(t)}),[I,T]),K=()=>void 0!==g?g:r.a.createElement(Sc,{defaultValue:w,onChange:V,type:C,isInvalid:Ec()?R:!!O}),$=()=>void 0!==b?b:Object(a("MrUx").a)()?r.a.createElement(a("cNqL").b,null,r.a.createElement(Tc,{
isEditable:D,value:y,noValueText:f})):r.a.createElement(Tc,{isEditable:D,value:y,noValueText:f}),W=()=>M(a("n2YX").a.extendedEditButtonLabel,{inputFieldValue:null!==y?y:f,fieldName:h});return r.a.createElement(r.a.Fragment,null,O&&(()=>{if(!O)return null;const e=O.message===yc.negativeNumbersNotAllowed.id?yc.negativeNumbersNotAllowed:yc.errorMessage;return r.a.createElement(a("gx/I").a,{error:O,title:yc.errorTitle,description:e})})(),Object(a("MrUx").a)()?r.a.createElement(Lc,{isEditable:D},r.a.createElement(a("JZTM").a,i()({editButtonLabel:W(),actionSubject:Mc,isEditable:D,isEditing:S,readView:$(),editView:D?K():null,onCancel:N,onConfirm:x,onEdit:U,onEscape:F},E))):r.a.createElement(a("JZTM").a,i()({editButtonLabel:W(),actionSubject:Mc,isEditable:D,isEditing:S,readView:$(),editView:D?K():null,onCancel:N,onConfirm:x,onEdit:U,onEscape:F,onEnter:P},E)))}));b.default.div.withConfig({componentId:"sc-10skcq7-0"
})`margin-bottom:16px;& > div > div > div > div > div{width:100%;}& > div > div > div > div > div > div{min-height:32px !important;}& > div > div > div > div > div > div > div{padding:0 6px;}`;const _c=Object(b.default)(a("gEry").d).withConfig({componentId:"sc-10skcq7-1"})`& > div > div > div > div > div > div > div{width:100%;}`,Nc=({issueKey:e,fieldId:t,showPinButton:n,issueId:s,label:i,noValueText:o,onUpdate:l})=>r.a.createElement(_c,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:!0===n&&r.a.createElement(a("UOlw").a,{fieldId:t,label:i})},r.a.createElement(a("gEry").c,null,i)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,i),!0===n&&r.a.createElement(a("UOlw").a,{fieldId:t,label:i})),r.a.createElement(a("gEry").g,null,r.a.createElement(Ac,{label:i,
issueKey:e,issueId:s,fieldKey:t,noValueText:o,isFitContainerWidthReadView:!0,onUpdate:l})));Nc.displayName="View";var xc=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,additionalProps:(e,n)=>({issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),noValueText:n.formatMessage(ze.noValue),isEditable:Object(a("KSj7").G)(t.fieldId)(e)&&"PREVIEW"!==Object(a("/LFc").w)(e)&&!!Object(a("sN5M").a)(),showPinButton:Object(a("NSuG").a)(t.area)}),additionalCallbacks:e=>({onUpdate:n=>e(Object(a("QNn4").h)(t.fieldId,n))})})))(Nc);const Uc=async(e,t,n,s)=>{var i;const o=null!==(i=null==n?void 0:n.id)&&void 0!==i?i:null;return Object(a("U+j4").c)(e,t,o,s)},Fc=({issueKey:e,fieldKey:t,onSuccess:n})=>{const[{value:s}]=Object(a("MoW5").a)(e,t),i=rr()(s,"schema.type","array"),[{value:o,error:r},{saveValue:l,resetError:c}]=Object(a("35XP").a)({fieldKey:t,issueKey:e,fieldType:i,initialValue:null,onSuccess:n,saveField:Uc});return[{value:o,error:r,fieldConfig:s},{saveValue:l,resetError:c}]
},Pc=b.default.div.withConfig({componentId:"ixcshu-0"})`& > div > div > div > div > div > div{min-height:${4*a("ZpU/").e}px;}& > div > div > div > div > div > div > div{margin-left:${.75*-a("ZpU/").e}px;margin-right:${.75*-a("ZpU/").e}px;${e=>!e.isEditing&&e.fixedHeight?`height: ${4*a("ZpU/").e}px`:""}}`,Vc=b.default.div.withConfig({componentId:"sc-1l7ono6-0"})`display:flex;font-size:${Object(a("7w+A").f)()}px;height:${2.5*Object(a("7w+A").h)()/Object(a("7w+A").f)()}em;line-height:${2.5*Object(a("7w+A").h)()/Object(a("7w+A").f)()};max-width:100%;padding:0px;`,Kc=(b.default.div.withConfig({componentId:"sc-1l7ono6-1"})`padding:0px;`,b.default.span.withConfig({componentId:"sc-1l7ono6-2"})`padding-left:${a("7w+A").h}px;overflow-x:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left;color:${({isDisabled:e})=>e?"#5E6C84":"#091E42"};`),$c=b.default.div.withConfig({componentId:"sc-1l7ono6-3"
})`width:100%;display:flex;align-items:center;cursor:${({isEditable:e})=>e?"pointer":"default"};`,Wc=b.default.span.withConfig({componentId:"sc-1l7ono6-4"})`background-color:${"#5E6C84"};border-radius:50%;width:${3*Object(a("7w+A").h)()}px;height:${3*Object(a("7w+A").h)()}px;margin:2px;display:flex;align-items:center;justify-content:center;`,Bc=()=>{const{formatMessage:e}=Object(a("NRyt").d)();return r.a.createElement(a("Yto1").a,{content:e(a("VrLr").a.teamErrorViewTooltip)},r.a.createElement($c,null,r.a.createElement(Wc,null,r.a.createElement(a.n(a("H4EA")).a,{label:e(a("VrLr").a.teamErrorViewTooltip),size:"small",primaryColor:"white"})),r.a.createElement(Kc,{isDisabled:!0},e(a("VrLr").a.teamErrorViewText))))};Bc.displayName="ErrorView";const qc=e=>{const{defaultValue:t,placeholder:n}=e;if(pe()(t))return r.a.createElement(Vc,null,r.a.createElement(a("gVzX").b,null,n));if(!1===t.isVisible)return r.a.createElement(Bc,null);const s=t;return r.a.createElement(a("of1o").a,{teamId:s.id,
trigger:"hover-click",position:"left-start"},r.a.createElement($c,null,r.a.createElement(a("1JKq").a,{src:s.avatarUrl,size:"small",borderColor:"transparent"}),r.a.createElement(Kc,null,s.name)))};qc.displayName="TeamPickerView";var Hc=qc;const Gc=["fieldKey","issueKey","issueId","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","noValueText","useTeamField"];var Yc=e=>{var t;const{fieldKey:n,issueKey:s,issueId:l,onCancel:c,onEdit:d,onEscape:u,onConfirm:p,onEnter:m,onUpdate:b,readView:g,editView:f,noValueText:h="DEFAULT PLACEHOLDER MESSAGE",useTeamField:E=Fc}=e,y=z()(e,Gc),O=Object(a("rBSy").c)().cloudId,[{value:v,error:j,fieldConfig:I},{saveValue:C,resetError:S}]=E({issueKey:Object(a("Rp3N").n)(s),fieldKey:n,onSuccess:b}),[k,w]=Object(o.useState)(!1),[T,D]=Object(o.useState)(v),R=null!==(t=null==I?void 0:I.isEditable)&&void 0!==t&&t;Object(o.useEffect)((()=>{j&&w(!0)}),[j]);const L=Object(o.useCallback)((e=>{
(null==T?void 0:T.id)!==(null==v?void 0:v.id)&&C(T,null,e),w(!1),Object(a("yy8q").h)(e)}),[C,T,v]),M=Object(o.useCallback)((e=>{S(),w(!1),D(v),Object(a("yy8q").h)(e)}),[S,v]),A=Object(o.useCallback)((e=>{M(e),c&&c(e)}),[M,c]),_=Object(o.useCallback)((e=>{L(e),p&&p(e)}),[p,L]),N=Object(o.useCallback)((e=>{w(!0),Object(a("yy8q").h)(e),d&&d(e)}),[d]),x=Object(o.useCallback)((e=>{M(e),u&&u(e)}),[M,u]),U=Object(o.useCallback)((e=>{S(),D(e)}),[S,D]);return r.a.createElement(r.a.Fragment,null,j&&(()=>j?r.a.createElement(a("gx/I").a,{error:j,title:a("VrLr").a.errorTitle,description:a("VrLr").a.errorMessage}):null)(),r.a.createElement(Pc,{isEditing:k,fixedHeight:!0},r.a.createElement(a("JZTM").a,i()({isEditable:R,isEditing:k,areActionButtonsHidden:!0,isFitContainerWidthReadView:!0,readView:(()=>void 0!==g?g:r.a.createElement(Hc,{defaultValue:T,placeholder:h}))(),editView:R?(()=>void 0!==f?f:r.a.createElement(a("9IPv").default,{defaultValue:T,siteId:O,onChange:U,autoFocus:!0}))():null,onEdit:N,
shouldConfirmOnEnter:!0,actionSubject:"teamInlineEdit",onCancel:A,onConfirm:_,onEscape:x},y))))};const Zc=e=>{const{label:t,issueKey:n,fieldId:s,issueId:i,isSubTask:o,onUpdate:l,noValueText:c,showPinButton:d}=e;return o?null:r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:!0===d&&r.a.createElement(a("UOlw").a,{fieldId:s,label:t})},r.a.createElement(a("gEry").c,null,t)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,t),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:s,label:t})),r.a.createElement(a("gEry").g,null,r.a.createElement(Yc,{label:t,issueKey:n,issueId:i,fieldKey:s,onUpdate:l,noValueText:c,isFitContainerWidthReadView:!0})))};Zc.displayName="View";var Xc=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,additionalProps:(e,n)=>{
var s,i;return{issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),noValueText:n.formatMessage(ze.noValue),isEditable:Object(a("KSj7").G)(t.fieldId)(e)&&"PREVIEW"!==Object(a("/LFc").w)(e)&&!!Object(a("sN5M").a)(),showPinButton:Object(a("NSuG").a)(t.area),isSubTask:!(null===(s=Object(a("KSj7").r)("issuetype")(e))||void 0===s||null===(i=s.value)||void 0===i||!i.subtask)}},additionalCallbacks:e=>({onUpdate:n=>e(Object(a("QNn4").h)(t.fieldId,n))})})))(Zc);var Jc=Object(l.defineMessages)({menuHeader:{id:"issue.views.field.team.edit.menuHeader",defaultMessage:"Plan-specific teams can only be selected through a plan."},noMatches:{id:"issue.views.field.team.edit.noMatches",defaultMessage:"No Matches"},placeholder:{id:"issue.views.field.team.edit.placeholder",defaultMessage:"Choose a team to assign this issue to."},sharedTeam:{id:"issue.context-items.team.shared-team",defaultMessage:"Shared Team"},menuFooter:{id:"issue.context-items.team.edit.menuFooter",
defaultMessage:"Showing 100 results. To display more results, please refine your search."}});const zc=b.default.img.withConfig({componentId:"sc-1v73egx-0"})`width:${2*a("ZpU/").e}px;height:${2*a("ZpU/").e}px;margin-right:${a("ZpU/").e}px;`,Qc=b.default.div.withConfig({componentId:"sc-1v73egx-1"})`display:flex;flex-direction:row;overflow:hidden;align-items:center;justify-content:start;padding:0 ${a("ZpU/").e/2}px;`,ed=b.default.div.withConfig({componentId:"sc-1v73egx-2"})`overflow:hidden;text-overflow:ellipsis;white-space:nowrap;`,td=b.default.div.withConfig({componentId:"sc-1v73egx-3"})`padding:${a("ZpU/").e}px ${2*a("ZpU/").e}px ${2*a("ZpU/").e}px;`,nd=b.default.div.withConfig({componentId:"sc-1v73egx-4"})`padding:0 ${2*a("ZpU/").e}px ${a("ZpU/").e}px ${2*a("ZpU/").e}px;color:${a("5kDX").a.DN30};font-weight:bold;font-size:12px;`,ad=b.default.div.withConfig({componentId:"sc-1v73egx-5"})`color:${a("5kDX").a.N90};font-size:12px;padding:${a("ZpU/").e}px ${2*a("ZpU/").e}px;`,sd=e=>{
const{formatMessage:t}=Object(a("NRyt").d)(),{options:n}=e,s=n.length>0&&n[0].moreResultsAvailable?r.a.createElement(ad,null,t(Jc.menuFooter)):null;return r.a.createElement(a("gniW").m.MenuList,e,r.a.createElement(td,null,t(Jc.menuHeader)),e.children,s)};sd.displayName="MenuListComponent";var id=sd;var od=e=>{const t=e.data;if(t){const{avatarUrl:n}=t;return r.a.createElement(a("gniW").m.Option,e,r.a.createElement(Qc,null,r.a.createElement(zc,{src:n||a.n(a("JuH2")).a})," ",r.a.createElement(ed,null,e.children)))}return null};const rd=e=>{const{formatMessage:t}=Object(a("NRyt").d)(),{data:n}=e,s=n?n.label:r.a.createElement(a("gVzX").b,null,t(Jc.placeholder));return r.a.createElement(a("gniW").m.SingleValue,e,s)};rd.displayName="SingleValueComponent";var ld=rd;const cd=e=>r.a.createElement(id,e);cd.displayName="MenuList";const dd=e=>r.a.createElement(ld,e);dd.displayName="SingleValue";const ud=e=>r.a.createElement(od,e);ud.displayName="Option";const pd=()=>{
const{formatMessage:e}=Object(a("NRyt").d)();return r.a.createElement(nd,null,e(Jc.sharedTeam))};pd.displayName="GroupHeading";class md extends o.Component{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e),this.props.onConfirm(e)},this.debouncedLoadOptions=Gi()(((e,t)=>{this.props.loadOptions(e).then(t,(()=>{t([])}))}),300)}render(){const{value:e,portalElement:t,menuPlacement:n,intl:{formatMessage:s}}=this.props;return r.a.createElement(a("PoqC").default,{value:e,autoFocus:!0,defaultOptions:!0,menuPortalTarget:t,menuPlacement:n,components:{MenuList:cd,Option:ud,SingleValue:dd,GroupHeading:pd},onChange:this.onChange,loadOptions:this.debouncedLoadOptions,defaultMenuIsOpen:!0,isClearable:null!==e,noOptionsMessage:()=>s(Jc.noMatches),placeholder:s(Jc.placeholder),cacheOptions:!0})}}md.displayName="EditableTeamField";var bd=Object(l.injectIntl)(md),gd=Object(l.defineMessages)({label:{id:"issue.views.field.team.label",defaultMessage:"Team"}})
;const fd=b.default.div.withConfig({componentId:"sc-126nhev-0"})`display:flex;flex-direction:row;overflow:hidden;white-space:nowrap;align-items:center;justify-content:start;`,hd=b.default.div.withConfig({componentId:"sc-126nhev-1"})`overflow:hidden;text-overflow:ellipsis;margin-right:${a("ZpU/").e}px;display:inline-block;`,Ed=b.default.img.withConfig({componentId:"sc-126nhev-2"})`vertical-align:middle;width:${3*a("ZpU/").e}px;height:${3*a("ZpU/").e}px;margin-right:${a("ZpU/").e}px;display:inline-block;`,yd=b.default.span.withConfig({componentId:"sc-126nhev-3"})`width:${2*a("ZpU/").e}px;height:${2*a("ZpU/").e}px;color:${a("5kDX").a.R500};`,Od=e=>{const{value:t,noValueText:n}=e;if(t){const{label:e,isShared:n,avatarUrl:s}=t,i=n?r.a.createElement(yd,null,r.a.createElement(a.n(a("IdOP")).a,{label:"",size:"small"})):null;return r.a.createElement(fd,null,r.a.createElement(Ed,{src:s||a.n(a("JuH2")).a}),r.a.createElement(hd,null,e),i)}return r.a.createElement(a("gVzX").b,null,n)}
;Od.displayName="TeamViewField";var vd=Od;const jd=b.css`margin-left:0;${""} & > div{margin:10px 0 6px;}${a("cNqL").b}{left:0;}`,Id=Object(b.default)(a("cNqL").a).withConfig({componentId:"sc-18tip7z-0"})`${a("cNqL").b}{line-height:20px;}${({isEditable:e})=>!e&&jd}`;class Cd extends o.Component{renderEditableField(){const{isEditable:e,isSubTask:t,fetchSuggestions:n,onChange:a,onConfirm:s,value:i,portalElement:o,menuPlacement:l}=this.props;return e&&!t?r.a.createElement("span",null,r.a.createElement(bd,{value:i,loadOptions:n,portalElement:o,menuPlacement:l,onChange:a,onConfirm:s})):null}render(){const{intl:{formatMessage:e},value:t,noValueText:n,isEditing:s,onConfirm:i,onCancel:o,onEditRequest:l,isMobile:c,fieldId:d,showPinButton:u,isEditable:p,issueKey:m}=this.props,b=e(gd.label),g=Object(a("MrUx").a)()?r.a.createElement(a("cNqL").b,null,r.a.createElement(vd,{noValueText:n,value:t})):r.a.createElement(vd,{noValueText:n,value:t})
;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:r.a.createElement(r.a.Fragment,null,Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==m&&void 0!==d&&r.a.createElement(a("n7/x").a,{issueKey:m,fieldKey:d}),!0===u&&r.a.createElement(a("UOlw").a,{fieldId:d,label:b}))},r.a.createElement(a("gEry").c,null,b)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,b),Object(a("d90y").isFieldDescriptionEnabled)()&&void 0!==m&&void 0!==d&&r.a.createElement(a("n7/x").a,{issueKey:m,fieldKey:d}),!0===u&&r.a.createElement(a("UOlw").a,{fieldId:d,label:b})),r.a.createElement(a("gEry").g,{isEditing:s},r.a.createElement(a("iAtd").a,{onEscape:o},Object(a("MrUx").a)()?r.a.createElement(Id,{hasValue:!!t,isEditable:p
},r.a.createElement(a("JZTM").a,{isLabelHidden:!0,label:b,readView:g,editView:this.renderEditableField(),disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:s,onConfirm:i,onCancel:o,onEditRequested:l,isFitContainerWidthReadView:!c,onEscape:o,isEditable:p})):r.a.createElement(a("eJ3Z").a,{isLabelHidden:!0,label:b,readView:g,editView:this.renderEditableField(),disableEditViewFieldBase:!0,areActionButtonsHidden:!0,isEditing:s,onConfirm:i,onCancel:o,onEditRequested:l,isFitContainerWidthReadView:!c}))))}}Cd.displayName="TeamField";var Sd=Object(l.injectIntl)(Cd);const kd=(e,t)=>e?((e,t)=>({value:e.id,label:e.title,isShared:e.isShared,avatarUrl:e.avatarUrl?`${t}${e.avatarUrl}`:""}))(e,t.baseUrl):null,wd=e=>e?(e=>({id:e.value,title:e.label,isShared:e.isShared,avatarUrl:e.avatarUrl?e.avatarUrl:""}))(e):null,Td=Object(a("Wwog").a)((e=>t=>Object(a("/rpS").d)(`${e}/rest/teams/1.0/teams/find`,{body:JSON.stringify({query:t,excludedIds:[],maxResults:100})}).then((t=>((e,t)=>[{
options:e.teams.map((e=>({value:e.id,label:e.title,isShared:e.shareable,avatarUrl:e.avatarUrl?`${t}${e.avatarUrl}`:""}))),moreResultsAvailable:e.moreResultsAvailable}])(t,e))))),Dd=({baseUrl:e,issueKey:t,fieldMetaKey:n,value:s})=>{const i=s&&s.id?s.id.toString():null;return Object(a("/rpS").e)(Object(a("XtNG").e)(e,t),{body:JSON.stringify({fields:{[n]:i}})})};var Rd=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:kd,transformToStateValue:wd,additionalProps:(e,n)=>({fetchSuggestions:Td(Object(a("4dgq").f)(e)),noValueText:n.formatMessage(ze.noValue),portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,isSubTask:Object(a("OEhx").c)(e),showPinButton:Object(a("NSuG").a)(t.area)}),saveField:Dd})))(Sd),Ld=Object(l.defineMessages)({timeRemainingFieldLabel:{id:"issue.context.time-remaining-field.label",defaultMessage:"Time remaining"},includeSubtasksLabel:{id:"issue.time-tracking.include-subtasks",defaultMessage:"Include subtasks"},
includeChildrenLabel:{id:"issue.time-tracking.include-children",defaultMessage:"Include child issues"},timeSpentRemainingLabel:{id:"issue.context.time-remaining-spent.label",defaultMessage:"{timeSpent} logged, {timeRemaining} remaining- edit {fieldName}"},extendedTimeRemainingLabel:{id:"issue.context.extended-time-remaining-field.label",defaultMessage:"No time logged, {timeRemaining} remaining- edit {fieldName}"},extendedTimeSpentLabel:{id:"issue.context.extended-time-spent-field.label",defaultMessage:"{timeSpent} logged- edit {fieldName}"},noTimeLoggedLabel:{id:"issue.context.no-time-logged-field.label",defaultMessage:"No time logged- edit {fieldName}"}}),Md=a("Y+p1"),Ad=a.n(Md),_d=Object(l.defineMessages)({errorTitle:{id:"issue-field-remaining-estimate.error-title",defaultMessage:"We couldn't set the remaining estimate value"},errorMessage:{id:"issue-field-remaining-estimate.error-message",defaultMessage:"Check your connection, then give it another try."}})
;const Nd=({issueId:e,issueKey:t,onSuccess:n})=>{const[{value:s}]=Object(a("MoW5").a)(t,"timetracking"),i=(null==s?void 0:s.schema.type)||"timetracking",[{value:o,error:r},{saveValue:l,resetError:c}]=Object(a("35XP").a)({fieldKey:"timetracking",issueKey:t,fieldType:i,initialValue:{originalEstimateSeconds:0,timeSpentSeconds:0,remainingEstimateSeconds:0},saveField:(t,n,s,i)=>(async({issueId:e,newValue:t,baseUrl:n})=>{const s=t.remainingEstimateSeconds,i=void 0!==s?Object(a("4A5X").a)(s):null;return Object(a("/rpS").d)(`${n}/secure/AjaxIssueAction.jspa?decorator=none`,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object(Oc.stringify)({issueId:e,timetracking_remainingestimate:i,timetracking_targetsubfield:"timetracking_remainingestimate",fieldsToForcePresent:"timetracking",singleFieldEdit:!0,skipScreenCheck:!0,atl_token:Object(a("sN5M").a)()})})})({issueId:e,newValue:s,baseUrl:i}),onSuccess:n});return[{value:o,error:r,fieldConfig:s},{saveValue:l,resetError:c}]
},xd=b.default.div.withConfig({componentId:"cns71k-0"})`width:${8.5*a("ZpU/").e}px;cursor:auto;`,Ud=e=>{const{defaultValue:t,placeholderMessage:n,onChange:s,isInvalidInput:i,invalidTimeFormatMessage:o}=e;return r.a.createElement(xd,null,r.a.createElement(a("d1Lu").a,{compact:!0,type:"text",value:t,placeholder:n,onChange:s,invalidMessage:i?o:void 0}))};Ud.displayName="RemainingEstimateEdit";var Fd=Ud;const Pd=b.default.div.withConfig({componentId:"sc-1ps7lkb-0"})`padding:0px;`,Vd=e=>{const{defaultValue:t}=e;return r.a.createElement(Pd,null,r.a.createElement(a("7QTw").a,null,t))};Vd.displayName="RemainingEstimateView";var Kd=Vd;const $d=["config","issueKey","issueId","onCancel","onEdit","onEscape","onConfirm","onEnter","onUpdate","readView","editView","placeholderMessage","invalidTimeFormatMessage","useRemainingEstimateField"];var Wd=e=>{
const{config:t,issueKey:n,issueId:s,onCancel:l,onEdit:c,onEscape:d,onConfirm:u,onEnter:p,onUpdate:m,readView:b,editView:g,placeholderMessage:f,invalidTimeFormatMessage:h,useRemainingEstimateField:E=Nd}=e,y=z()(e,$d),O=Object(a("ovRs").j)(),[v]=Object(a("AJ6X").d)(O),j=v.canLogWork,[{value:I,error:C},{saveValue:S,resetError:k}]=E({issueId:s,issueKey:Object(a("Rp3N").n)(n),onSuccess:m}),w=I.remainingEstimateSeconds||0,[T,D]=Object(o.useState)(!1),[R,L]=Object(o.useState)(!1),M=Object(a("NRyt").d)(),A=Object(o.useMemo)((()=>{const e=de()(de()({},M),{},{formatMessage:({defaultMessage:e})=>e||""});return Object(a("/1v1").a)(w||0,{workingHoursPerDay:t.hoursPerDay,workingDaysPerWeek:t.daysPerWeek,timeFormat:t.format||"pretty",defaultUnit:t.defaultUnit},e)}),[t,M,w]),_=Object(o.useMemo)((()=>Object(a("/1v1").a)(w||0,{workingHoursPerDay:t.hoursPerDay,workingDaysPerWeek:t.daysPerWeek,timeFormat:t.format||"pretty",defaultUnit:t.defaultUnit},M)),[t,M,w]),[N,x]=Object(o.useState)(A)
;Object(o.useEffect)((()=>{x(A)}),[A]),Object(o.useEffect)((()=>{C&&L(!0)}),[C]);const U=Object(o.useCallback)((e=>{if(Ad()(N,A))L(!1);else if(Object(a("Uztb").b)(t)(N)){const n=de()(de()({},I),{},{remainingEstimateSeconds:Object(a("Uztb").c)(t)(N)||0});S(n,null,e),Object(a("yy8q").h)(e),D(!1),L(!1)}else D(!0),L(!0)}),[t,A,S,I,N]),F=Object(o.useCallback)((e=>{k(),D(!1),L(!1),x(A),Object(a("yy8q").h)(e)}),[A,k]),P=Object(o.useCallback)((e=>{F(e),l&&l(e)}),[F,l]),V=Object(o.useCallback)((e=>{U(e),u&&u(e)}),[u,U]),K=Object(o.useCallback)((e=>{L(!0),Object(a("yy8q").h)(e),c&&c(e)}),[c]),$=Object(o.useCallback)((e=>{F(e),d&&d(e)}),[F,d]),W=Object(o.useCallback)((e=>{U(e),p&&p(e)}),[p,U]),B=Object(o.useCallback)((e=>{D(!1),k(),x(e.target.value)}),[k,x]);return r.a.createElement(r.a.Fragment,null,C&&(()=>C?r.a.createElement(a("gx/I").a,{error:C,title:_d.errorTitle,description:_d.errorMessage}):null)(),r.a.createElement(a("JZTM").a,i()({actionSubject:"remainingEstimateInlineEdit",isEditable:j,
isEditing:R,readView:(()=>void 0!==b?b:r.a.createElement(Kd,{defaultValue:_}))(),editView:j?(()=>void 0!==g?g:r.a.createElement(Fd,{defaultValue:N,placeholderMessage:f,onChange:B,invalidTimeFormatMessage:h,isInvalidInput:T}))():null,onCancel:P,onConfirm:V,onEdit:K,onEscape:$,onEnter:W},y)))};const Bd=e=>void 0===e,qd=e=>{if(!e)return Object.seal({});const{remainingEstimateSeconds:t,timeSpentSeconds:n}=e;return Un()({loggedTime:n,remainingTime:t},Bd)},Hd=Object(a("Wwog").a)(((e,t,n,s)=>{const{timeSpentSeconds:i,remainingEstimateSeconds:o}=s,r=Object(a("Uztb").a)(n)(i||0),l=Object(a("Uztb").a)(n)(o||0),c=!!i,d=!!o;switch(!0){case c&&d:return e(Ld.timeSpentRemainingLabel,{timeSpent:r,timeRemaining:l,fieldName:t});case d&&!c:return e(Ld.extendedTimeRemainingLabel,{timeRemaining:l,fieldName:t});case c&&!d:return e(Ld.extendedTimeSpentLabel,{timeSpent:r,fieldName:t});default:return e(Ld.noTimeLoggedLabel,{fieldName:t})}})),Gd=b.default.div.withConfig({componentId:"pvpxta-0"
})`margin-bottom:${e=>e.sideBySideMode?0:3*a("ZpU/").e}px;margin-left:-${a("ZpU/").e/2}px;padding-top:${a("ZpU/").e/2+1}px;& > label > span{color:${a("5kDX").a.N500};}`,Yd=b.default.div.withConfig({componentId:"pvpxta-1"})`${({isInlineEditBumpEnabled:e,isEditable:t})=>e&&t?`\n    margin-left: -${a("ZpU/").e}px;\n    margin-top: -${a("ZpU/").e}px;\n    margin-right: ${a("ZpU/").e}px;`:""} ${({isInlineEditBumpEnabled:e})=>e?"":"\n    margin-bottom: 16px;\n    \n    & > div > div > div > div > div {\n        width: 100%;\n    }\n    & > div > div > div > div > div > div {\n        min-height: 32px !important;\n    }\n    & > div > div > div > div > div > div > div {\n        padding: 0 6px;\n    }"}`,Zd=Object(b.default)(a("gEry").d).withConfig({componentId:"pvpxta-2"})`& > div > div > div > div > div > div > div{width:100%;}`;class Xd extends o.Component{renderReadView(){const{value:e,isDone:t,config:n,isEditable:s}=this.props;return r.a.createElement(a("r7NI").a,{value:qd(e),
estimatedTime:e.originalEstimateSeconds,isDone:t,config:n,isEditable:s})}renderRemainingEstimateView(){const{config:e,fieldId:t,issueKey:n,issueId:s,showPinButton:i,invalidTimeFormatMessage:o,placeholderMessage:l,timeRemainingFieldLabel:c}=this.props;return s?r.a.createElement(Zd,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),renderAfterOnHover:!0===i&&r.a.createElement(a("UOlw").a,{fieldId:t,label:c})},r.a.createElement(a("gEry").c,null,c)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,c),!0===i&&r.a.createElement(a("UOlw").a,{fieldId:t,label:c})),r.a.createElement(a("gEry").g,null,r.a.createElement(Wd,{config:e,issueKey:n,issueId:s,value:"",placeholderMessage:l,invalidTimeFormatMessage:o,isFitContainerWidthReadView:!0}))):null}renderRollUpToggle(){
const{rollupLabel:e,isRollingUpData:t,onToggleRollingUpData:n}=this.props;return r.a.createElement(Gd,{sideBySideMode:!0},r.a.createElement(a("epHX").a,{isChecked:t,onChange:({target:{checked:e}},t)=>{n(e,t)},label:e,name:"include-subtasks-children-in-time-tracking-toggle-from-context"}),r.a.createElement(a("02VO").a,{action:"exposed",actionSubject:"feature",actionSubjectId:"toggleRollUpDataControlFromContext"}))}render(){const{isVisible:e,label:t,isEditable:n,isMobile:s,onEditRequest:i,confirmButtonLabel:o,cancelButtonLabel:l,fieldId:c,showPinButton:d,shouldDisplayRollUpDataControl:u,formatMessage:p,config:m,value:b}=this.props;if(!e)return this.renderRemainingEstimateView();const g=Hd(p,t,m,b),f=Object(a("d90y").isInlineEditBumpEnabled)()?a("JZTM").a:a("eJ3Z").a;return r.a.createElement(a("gEry").d,null,Object(a("d90y").isMagmaRenderCostOptimisationEnabled)()?r.a.createElement(a("HlSV").b,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)(),
renderAfterOnHover:!0===d&&r.a.createElement(a("UOlw").a,{fieldId:c,label:t})},r.a.createElement(a("gEry").c,null,t)):r.a.createElement(a("HlSV").a,{isFieldDescriptionEnabled:Object(a("d90y").isFieldDescriptionEnabled)()},r.a.createElement(a("gEry").c,null,t),!0===d&&r.a.createElement(a("UOlw").a,{fieldId:c,label:t})),r.a.createElement(a("gEry").g,{"data-testid":"issue.views.issue-base.context.time-tracking.value"},r.a.createElement(a("iAtd").a,null,Object(a("d90y").isInlineEditBumpEnabled)()?r.a.createElement(Yd,{isInlineEditBumpEnabled:Object(a("d90y").isInlineEditBumpEnabled)(),isEditable:n},r.a.createElement(f,{label:t,readView:this.renderReadView(),editView:n?r.a.createElement("div",null):null,isEditing:!1,isEditable:n,areActionButtonsHidden:!0,disableEditViewFieldBase:!0,isFitContainerWidthReadView:!s,isLabelHidden:!0,onEditRequested:i,editButtonLabel:g,confirmButtonLabel:o,cancelButtonLabel:l})):r.a.createElement(f,{label:t,readView:this.renderReadView(),
editView:n?r.a.createElement("div",null):null,isEditing:!1,areActionButtonsHidden:!0,disableEditViewFieldBase:!0,isFitContainerWidthReadView:!s,isLabelHidden:!0,onEditRequested:i,editButtonLabel:g,confirmButtonLabel:o,cancelButtonLabel:l}),u&&this.renderRollUpToggle())))}}Xd.displayName="TimeTrackingView",Xd.displayName="TimeTrackingView";var Jd=Xd;const zd=["timeTrackingCalculationSelector","area","intl"],Qd=Object(a("4zF2").a)({onToggleRollingUpData:"toggleRollingUpData"})(Object(a("SGpu").b)("worklog")(Jd)),eu=e=>{const{timeTrackingCalculationSelector:t,area:n,intl:s}=e,l=z()(e,zd),[c,{markRollingUpData:d,unmarkRollingUpData:u}]=Object(a("vmHj").a)(),p=Object(o.useCallback)((e=>{e?d():u()}),[d,u]);return r.a.createElement(Qd,i()({},l,{value:t(c),isRollingUpData:c,onToggleRollingUpData:p}))};eu.displayName="WrappedTimeTrackingView";const tu=r.a.createElement(l.FormattedMessage,{id:"issue.time-estimate.input-time-string-is-invalid",
defaultMessage:"Your estimate must be in the format {format}.",values:{format:r.a.createElement("b",null,"2w 4d 6h 45m")}}),nu=Object(c.connect)(((e,t)=>{const{intl:{formatMessage:n},area:s,fieldId:i}=t,o=Object(a("KSj7").n)(t.fieldId)(e);return{formatMessage:n,fieldId:i,timeTrackingCalculationSelector:Object(a("gnYg").j)(e),config:Object(a("gnYg").h)(e),issueKey:Object(a("4dgq").w)(e),issueId:Object(a("4dgq").v)(e),isDone:"DONE"===Object(a("OGP8").a)(e),isEditable:Object(a("gnYg").b)(e),isMobile:Object(a("4dgq").r)(e),isVisible:Object(a("gnYg").c)(e),label:o,editButtonLabel:n(a("n2YX").a.editButtonLabel,{fieldName:o}),confirmButtonLabel:n(a("n2YX").a.confirmButtonLabel,{fieldName:o}),cancelButtonLabel:n(a("n2YX").a.cancelButtonLabel,{fieldName:o}),timeRemainingFieldLabel:n(Ld.timeRemainingFieldLabel),rollupLabel:Object(a("/LFc").m)(e)?n(Ld.includeSubtasksLabel):n(Ld.includeChildrenLabel),showPinButton:Object(a("NSuG").a)(s),shouldDisplayRollUpDataControl:Object(a("gnYg").f)(e),
placeholderMessage:"2w 4d 6h 45m",invalidTimeFormatMessage:tu}}),(e=>({onEditRequest:()=>{e(Object(a("M+5/").L)("ADD_MODAL",null))}})))(eu);var au=e=>{const t=Object(a("NRyt").d)();return r.a.createElement(a("ho8o").a,{id:"issue.issue-view.context.time-tracking-field"},r.a.createElement(a("PF8x").a,{id:"context.time-tracking-field",packageName:"jiraIssueView",sendToPrivacyUnsafeSplunk:!0},r.a.createElement(nu,i()({},e,{intl:t}))))},su=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,additionalProps:(e,n)=>({noValueText:n.formatMessage(ze.noValue),type:"url",showPinButton:Object(a("NSuG").a)(t.area)})})))(Ua);const iu=e=>e.users?e.users.map(Oe):[],ou=Object(a("Wwog").a)((e=>t=>e?Object(a("QNWr").a)(`${e}${t}`).then(iu):Promise.resolve([]))),ru=Object(a("Wwog").a)((e=>({avatarUrl:"",name:e.formatMessage(ze.noValue)})));var lu=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:Oe,transformToStateValue:ve,additionalProps:(e,n)=>({
portalElement:y(t.fieldId)(e)?Object(a("tpMn").a)()||document.body:void 0,fetchSuggestions:ou(Object(a("KSj7").e)(t.fieldId)(e)),emptyOption:Object(a("KSj7").I)(t.fieldId)(e)?void 0:ru(n),showPinButton:Object(a("NSuG").a)(t.area)})})))(ye),cu=Object(l.defineMessages)({createNewItem:{id:"issue.fix-versions.create-new-component-message",defaultMessage:"Create new version"},recent:{id:"issue.fix-versions.create-new-component-message.recent",defaultMessage:"Recent versions"},releasedHeading:{id:"issue.fix-versions.released-message",defaultMessage:"Released"},unreleasedHeading:{id:"issue.fix-versions.unreleased-message",defaultMessage:"Unreleased"}});const du=e=>({content:e.name,value:e.id,fromCache:e.fromCache||!1}),uu={versions:"affectedVersion",fixVersions:"fixVersion"},pu=e=>uu[e]||"fixVersion",mu=(e,{baseUrl:t,projectKey:n,fieldId:s})=>Object(a("d90y").is2afErrorCleanupGroup1Enabled)()?e?e.map((e=>{
const i=`project = ${Object(a("wQ4K").b)(n)} AND ${pu(s)} = ${Object(a("wQ4K").b)(e.name)}`;return{href:Object(a("wQ4K").a)(t,i),content:e.name,value:e.id}})):[]:e.map((e=>{const i=`project = ${Object(a("wQ4K").b)(n)} AND ${pu(s)} = ${Object(a("wQ4K").b)(e.name)}`;return{href:Object(a("wQ4K").a)(t,i),content:e.name,value:e.id}})),bu=e=>e?e.map(du):[],gu=e=>e.map((e=>({name:e.content,id:e.value,fromCache:e.fromCache}))),fu=(e,t,n,s)=>{const i=e.filter((e=>!e.archived)),o=i.filter((e=>!e.released)).map(du),r=i.filter((e=>e.released)).map(du),l=(e=>e.slice(-5).reverse())(((e,t,n)=>t.filter((e=>e.projectId===n)).map((t=>{const s=e.find((e=>e.id===t.id));if(s){const e=de()(de()({},s),{},{projectId:n});return a("LXPp").a.update(`${t.id}`,e),de()(de()({},e),{},{fromCache:!0})}return de()(de()({},t),{},{fromCache:!0})})))(e,t,s).filter((e=>!e.archived)));return[{heading:n.formatMessage(cu.recent),items:l.map(du)},{heading:n.formatMessage(cu.unreleasedHeading),items:o},{
heading:n.formatMessage(cu.releasedHeading),items:r}]};var hu=Object(l.defineMessages)({placeholder:{id:"issue.single-version-picker.text-for-dropdown-when-nothing-selected",defaultMessage:"Select version"}});const Eu=e=>e&&{name:e.content,id:e.value},yu=e=>e&&{content:e.name,value:e.id},Ou=Object(a("Wwog").a)(((e,t,n)=>()=>Promise.resolve(e).then((e=>fu(e,[],t,n)))));var vu=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:yu,transformToStateValue:Eu,additionalProps:(e,n)=>({fetchSuggestions:Ou(Object(a("KSj7").d)(t.fieldId)(e),n,Object(a("/LFc").D)(e)),placeholder:n.formatMessage(hu.placeholder),noValueText:n.formatMessage(ze.noValue),allowEmptyValue:!Object(a("KSj7").I)(t.fieldId)(e),hasAutocomplete:!0,showPinButton:Object(a("NSuG").a)(t.area)})})))(qt);const ju=Object(a("Wwog").a)(((e,t,n)=>()=>Promise.resolve(e).then((e=>fu(e,[],t,n)))));var Iu=Object(a("/cyb").a)(((e,t)=>({fieldId:t.fieldId,transformFromStateValue:bu,transformToStateValue:gu,
additionalProps:(e,n)=>({fetchSuggestions:ju(Object(a("KSj7").d)(t.fieldId)(e),n,Object(a("/LFc").D)(e)),placeholder:n.formatMessage(ze.version_no_value_placeholder),noValueText:n.formatMessage(ze.noValue),showPinButton:Object(a("NSuG").a)(t.area)})})))(Rt);const Cu=["baseUrl","projectId","createNewItemMessage","canAdministerProject","canAdministerJira","onVersionCreated","versionFieldIds"];class Su extends o.Component{constructor(...e){super(...e),this.state={isDialogOpen:!1,data:[],loading:!1,error:!1},this.componentDidMount=()=>{this.getDataFromCache()},this.getDataFromCache=()=>{var e,t;null===(e=(t=this.props).getDataFromCache)||void 0===e||e.call(t).then((e=>{this.setState({data:e,loading:!1})}))},this.fetchSuggestions=(e,t)=>this.props.fetchSuggestions(e,t).then((e=>(this.setState({data:e}),e))),this.openDialog=()=>{this.setState({isDialogOpen:!0})},this.closeDialog=()=>{this.setState({isDialogOpen:!1})},this.onSuccess=e=>{
const{onChange:t,value:n,onVersionCreated:a,versionFieldIds:s}=this.props;t([...n,{content:e.name,value:e.id}]),this.closeDialog(),a(e,s)}}renderSelect(e){const{canAdministerProject:t,canAdministerJira:n,createNewItemMessage:s}=this.props,o=t||n,{data:l,loading:c,error:d}=this.state,u={data:l,loading:c,error:d};return r.a.createElement(Rt,i()({},e,{styles:vt,shouldShowFooter:o,footer:r.a.createElement(Ot,{className:"issue-view__select-footer"},r.a.createElement(a.n(a("9fHu")).a,{label:"",size:"small"}),r.a.createElement(yt,null,s)),onFooterSelect:this.openDialog,allowEmptyValue:!0,optionValuesSafeForAnalytics:!0,fetchSuggestions:this.fetchSuggestions,debounceFetchSuggestionsTime:300,initialData:u}))}render(){const e=this.props,{baseUrl:t,projectId:n,createNewItemMessage:s,canAdministerProject:i,canAdministerJira:o,onVersionCreated:l,versionFieldIds:c}=e,d=z()(e,Cu),{isDialogOpen:u}=this.state;return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(a("mEJw").a,{baseUrl:t,
projectId:n,onCancel:this.closeDialog,onError:this.closeDialog,onSuccess:this.onSuccess}),this.renderSelect(d))}}Su.displayName="FixVersionsView";const ku=Object(a("Wwog").a)(((e,t,n,a,s,i)=>((e,t,n,a,s,i)=>pt(e,t,n,a,s,i))(e,t,n,a,s,i))),wu=Object(a("Wwog").a)(((e,t,n,s,i,o)=>(r,l)=>{const c=ku(n,e,s,i,l,o);return Promise.all([c,a("LXPp").a.refresh()]).then((async([e,n])=>fu(e,n,t,i)))}));var Tu=Object(a("/cyb").a)(((t,n)=>({fieldId:n.fieldId,transformFromStateValue:mu,transformToStateValue:gu,additionalProps:(e,t)=>({fetchSuggestions:wu(Object(a("KSj7").d)(n.fieldId)(e),t,n.fieldId,Object(a("4dgq").v)(e),Object(a("/LFc").D)(e),n.createAnalyticsEvent),canAdministerProject:Object(a("nGHA").c)(e),canAdministerJira:Object(a("nGHA").b)(e),createNewItemMessage:t.formatMessage(cu.createNewItem),baseUrl:Object(a("4dgq").f)(e),projectId:Object(a("/LFc").D)(e),isMobile:Object(a("4dgq").r)(e),placeholder:t.formatMessage(ze.version_no_value_placeholder),noValueText:t.formatMessage(ze.noValue),
versionFieldIds:Object(a("KSj7").w)(e),onTagClick:e=>Object(a("yy8q").h)(e,{name:n.fieldId}),showPinButton:Object(a("NSuG").a)(n.area),getDataFromCache:()=>a("LXPp").a.getAll().then((n=>fu([],n,t,Object(a("/LFc").D)(e))))}),additionalCallbacks:e=>({onVersionCreated:(t,n)=>{n.forEach((n=>{e(Object(a("mUiE").a)(n,[t]))}))}}),saveField:(...t)=>(({baseUrl:t,issueKey:n,fieldMetaKey:s,value:i,fieldEditSessionId:o},r,l)=>{const c=void 0!==o?`${t}/rest/api/2/issue/${n}?fieldEditSessionId=${o}`:`${t}/rest/api/2/issue/${n}`,d=Object(a("/LFc").D)(r);return i.forEach((e=>{try{l.createAnalyticsEvent&&Object(a("yy8q").b)(l.createAnalyticsEvent({}),"versionPickerCache set",{isFromCache:e.fromCache}),e.id&&a("LXPp").a.set(`${e.id}`,de()(de()({},e),{},{projectId:d}))}catch(t){a("RDfz").a.safeErrorWithoutCustomerData("issue-view.versions.cache.set",t.message)}})),Object(a("/rpS").e)(c,{body:JSON.stringify({fields:{[s]:i}})}).catch((t=>{throw i.forEach((t=>{try{
l.createAnalyticsEvent&&Object(a("yy8q").b)(l.createAnalyticsEvent({}),"versionPickerCache removed"),t.id&&a("LXPp").a.remove(`${t.id}`)}catch(e){a("RDfz").a.safeErrorWithoutCustomerData("issue-view.versions.cache.remove",e.message)}})),t}))})(...t,n)})))(Su);const Du=({children:e,id:t,fallback:n=r.a.createElement(r.a.Fragment,null)})=>r.a.createElement(a("ho8o").a,{id:t,packageName:"issue",render:()=>n},r.a.createElement(C.a,{fallback:n},e));Du.displayName="Boundary";const Ru=Object(C.h)((()=>a.e("async-all-dev-panel").then(a.bind(null,"PCQK"))),{moduleId:"./src/packages/issue/issue-view/src/views/issue-base/context/all-dev-info-panel/all-dev-panel-view.js"}),Lu=Object(C.h)((()=>a.e("async-assets-glance").then(a.bind(null,"JU7p"))),{moduleId:"./src/packages/platform/ui/asset-tracking/assets-glance/src/index.js"}),Mu=Object(C.h)((()=>a.e("async-assets-panel").then(a.bind(null,"QCCS"))),{
moduleId:"./src/packages/issue/issue-view/src/views/issue-base/context/assets-panel/assets-panel-view.js"}),Au=Object(C.h)((()=>a.e("async-assets-onboarding").then(a.bind(null,"ICB7"))),{moduleId:"./src/packages/issue/issue-view/src/views/issue-base/context/assets-onboarding/assets-onboarding-view.js"}),_u=e=>r.a.createElement(Du,{id:"all-dev-panel"},r.a.createElement(Ru,e));_u.displayName="AllDevPanel";const Nu=e=>r.a.createElement(Du,{id:"assets-glance"},r.a.createElement(Lu,e));Nu.displayName="AssetsGlance";const xu=e=>r.a.createElement(Du,{id:"assets-panel"},r.a.createElement(Mu,e));xu.displayName="AssetsPanel";const Uu=e=>r.a.createElement(Du,{id:"assets-onboarding"},r.a.createElement(Au,e));Uu.displayName="AssetsOnboarding";n.a=Object(a("Wwog").a)((()=>{const e=Object(a("tnWI").bb)();return{[e.ASSIGNEE_TYPE]:{item:Ue},[e.DUE_DATE_TYPE]:{item:jn},[e.PRIORITY_TYPE]:{item:ir},[e.REPORTER_TYPE]:{item:Yr},[e.DESCRIPTION_TYPE]:{item:P},[e.LABELS_TYPE]:{item:vi},[e.COMPONENTS_TYPE]:{
item:Nt},[e.SPRINT_TYPE]:{item:hc},[e.STORY_POINTS_TYPE]:{item:xc},[e.TEAMS_PLATFORM_CF_TYPE]:{item:Object(a("d90y").isTeamsCustomFieldTypeEnabled)()?Xc:()=>null},[e.EPIC_TYPE]:{item:ai},[e.FIX_VERSIONS_TYPE]:{item:Tu},[e.AFFECTS_VERSIONS_TYPE]:{item:Tu},[e.TIME_ESTIMATE_TYPE]:{item:lo},[e.TIME_TRACKING_TYPE]:{item:au},[e.ENVIRONMENT_TYPE]:{item:ae},[e.DEV_SUMMARY_TYPE]:{item:_u},[e.APPROVALS_PANEL_TYPE]:{item:a("CfTs").b,panel:a("CfTs").a},[e.KNOWLEDGE_BASE_TYPE]:{item:bi,panel:hi},[e.SLA_PANEL_TYPE]:{item:a("8Nla").a},[e.LINKED_ALERTS_TYPE]:{item:ji},[e.CHAT_CHANNEL_TYPE]:{item:Object(a("d90y").isJsmChatChannelEnabled)()?Ve:()=>null},[e.MANAGE_STAKEHOLDERS_TYPE]:{item:Object(a("d90y").isManageStakeholderMajorIncidentEnabled)()?Object(a("d90y").isStakeholdersGlancePanelEnabled)()?Si:Ci:()=>null,panel:Object(a("d90y").isStakeholdersGlancePanelEnabled)()&&Ci()?a("u1nt").b:()=>null},[e.CONFERENCE_CALL_TYPE]:{item:Object(a("d90y").isJsmConferenceCallEnabled)()?Ut:()=>null},
[e.ASSETS_CF_TYPE]:{item:xu,panel:Nu},[e.RESPONDERS_CF_TYPE]:{item:Object(a("d90y").isJsmRespondersEnabled)()?jl:()=>null,panel:Object(a("d90y").isJsmRespondersEnabled)()?Sl:()=>null},[e.MAJOR_INCIDENT_CF_TYPE]:{item:Object(a("d90y").isJsmReplacingMajorIncidentEnabled)()?Ii:()=>null},[e.COLOR_CF_TYPE]:{item:()=>null},[e.EPIC_COLOR_TYPE]:{item:()=>null},[e.RELEASES_TYPE]:{item:()=>null},[e.PARENT_CF_TYPE]:{item:Po},[e.BASELINE_START_CF_TYPE]:{item:jn},[e.BASELINE_END_CF_TYPE]:{item:jn},[e.LABELS_CF_TYPE]:{item:vi},[e.TEXT_CF_TYPE]:{item:Rl},[e.MULTI_USER_CF_TYPE]:{item:is},[e.PARTICIPANTS_CF_TYPE]:{item:is},[e.URL_CF_TYPE]:{item:su},[e.NUMBER_CF_TYPE]:{item:Vi},[e.STORY_POINT_ESTIMATE_CF_TYPE]:{item:qi},[e.SELECT_CF_TYPE]:{item:Ul},[e.EPIC_STATUS_TYPE]:{item:Ul},[e.MULTI_SELECT_CF_TYPE]:{item:Ui},[e.ECOSYSTEM_GLANCE_TYPE]:{item:Wn},[e.FORGE_CUSTOM_FIELD_TYPE]:{item:ys},[e.ISSUE_FIELD_USER_CF_TYPE]:{item:lu},[e.ISSUE_FIELD_GROUPS_CF_TYPE]:{item:ci},[e.ISSUE_FIELD_STRINGS_CF_TYPE]:{
item:vi},[e.FORGE_GLANCE_TYPE]:{item:Ss},[e.TEXT_AREA_CF_TYPE]:{item:ae},[e.MULTI_VERSION_CF_TYPE]:{item:Iu},[e.VERSION_CF_TYPE]:{item:vu},[e.DATE_CF_TYPE]:{item:jn},[e.GROUP_CF_TYPE]:{item:ui},[e.MULTI_GROUP_CF_TYPE]:{item:ci},[e.USER_CF_TYPE]:{item:lu},[e.DATETIME_CF_TYPE]:{item:kn},[e.MULTI_CHECKBOXES_CF_TYPE]:{item:st},[e.RADIO_BUTTONS_CF_TYPE]:{item:xr},[e.TEAM_CF_TYPE]:{item:Rd},[e.ISSUE_FIELD_NUMBER_CF_TYPE]:{item:Vi},[e.ISSUE_FIELD_DATETIME_CF_TYPE]:{item:kn},[e.ISSUE_FIELD_STRING_CF_TYPE]:{item:Rl},[e.ISSUE_FIELD_SINGLE_SELECT_CF_TYPE]:{item:Ul},[e.ISSUE_FIELD_MULTI_SELECT_CF_TYPE]:{item:Ui},[e.REQUEST_TYPE_CF_TYPE]:{item:nn},[e.SERVICE_ENTITY_CF_TYPE]:{item:Dl},[e.REQUEST_PARTICIPANTS_CF_TYPE]:{item:fl},[e.ORGANIZATIONS_CF_TYPE]:{item:no},[e.REQUEST_FEEDBACK_CF_TYPE]:{item:Jr},[e.PEOPLE_CF_TYPE]:{item:Zo},[e.REQUEST_LANGUAGE_CF_TYPE]:{item:rl},[e.ASSET_ONBOARDING_TYPE]:{item:Uu},[e.APPROVERS_LIST_CF_TYPE]:{item:Zo},[e.CASCADING_SELECT_CF_TYPE]:{item:Pe},
[e.PROJECT_PICKER_CF_TYPE]:{item:Cr},[e.CMDB_OBJECT_CF_TYPE]:{item:ct},[e.READ_ONLY_CF_TYPE]:{item:Wr},[e.MESSAGE_VIEW_CF_TYPE]:{item:Ri},[e.MESSAGE_EDIT_CF_TYPE]:{item:Ri},[e.EPIC_NAME_TYPE]:{item:Rl}}}))},oZs7:function(e,t,n){"use strict";const a=[400,403,401,404,409,412];t.a=e=>{if(e instanceof n("HQr3").a)return!1;return!(e instanceof n("HQr3").b&&e.statusCode&&(e=>a.some((t=>t===e)))(e.statusCode))&&("TypeError"!==e.name&&"AbortError"!==e.name)}},oj3Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return A}));var a=n("q1tI"),s=n.n(a),i=n("/MKj");const o=({onCloneItemClick:e,onClick:t,label:i,setDropdownItemRef:o,itemKey:r})=>{const l=Object(a.useCallback)((()=>{e(),null==t||t(r)}),[e,t,r]);return s.a.createElement(n("ourr").a,{key:"clone",onClick:l,innerRef:o},i)};o.displayName="CloneIssue";var r=o,l=n("JRPe"),c=Object(l.defineMessages)({clone:{id:"issue.clone",defaultMessage:"Clone"}}),d=Object(i.connect)(null,(e=>({onCloneItemClick:()=>{
e(Object(n("l6KG").b)())}})))(r);const u=c.clone,p=({onClick:e,label:t,setDropdownItemRef:i,itemKey:o})=>{const r=`/secure/ConvertSubTask.jspa?id=${Object(n("ovRs").g)()||""}`,l=Object(a.useCallback)((()=>{null==e||e(o),window.location.assign(r)}),[e,o,r]);return s.a.createElement(n("ourr").a,{key:"convert-to-issue",onClick:l,innerRef:i},t)};p.displayName="ConvertToIssue";var m=p;const b=Object(l.defineMessages)({convertToIssue:{id:"issue.convert-to-issue",defaultMessage:"Convert to Issue"}}).convertToIssue,g=({onClick:e,label:t,setDropdownItemRef:i,itemKey:o})=>{const r=`/secure/ConvertIssue.jspa?id=${Object(n("ovRs").g)()||""}`,l=Object(a.useCallback)((()=>{null==e||e(o),window.location.assign(r)}),[e,o,r]);return s.a.createElement(n("ourr").a,{key:"convert-to-subtask",onClick:l,innerRef:i},t)};g.displayName="ConvertToSubtask";var f=g;const h=Object(l.defineMessages)({convertToSubtask:{id:"issue.convert-to-subtask",defaultMessage:"Convert to Subtask"}
}).convertToSubtask,E=({onDeleteIssueClick:e,onClick:t,label:i,setDropdownItemRef:o,itemKey:r})=>{const l=Object(a.useCallback)((()=>{e(),null==t||t(r)}),[e,t,r]);return s.a.createElement(n("ourr").a,{key:"delete",onClick:l,innerRef:o},i)};E.displayName="DeleteIssue";var y=E,O=Object(l.defineMessages)({delete:{id:"issue.delete",defaultMessage:"Delete"}});var v=Object(i.connect)(null,(e=>({onDeleteIssueClick:()=>{e(Object(n("zhmH").e)())}})))(y);const j=O.delete,I=({onLinkToParentClick:e,onClick:t,label:i,setDropdownItemRef:o,itemKey:r})=>{const l=Object(a.useCallback)((()=>{e(),null==t||t(r)}),[e,t,r]);return s.a.createElement(n("ourr").a,{key:"link-to-parent",onClick:l,innerRef:o},i)};I.displayName="LinkToParent";var C=I,S=Object(l.defineMessages)({addToParentLevel:{id:"issue.add-to-parent-level",defaultMessage:"Add parent"},changeParentLevel:{id:"issue.change-parent-level",defaultMessage:"Change parent"}});var k=Object(i.connect)(null,(e=>({onLinkToParentClick:()=>{
e(Object(n("erQ6").h)())}})))(C);const w=S.addToParentLevel,T=S.changeParentLevel,D=({onClick:e,label:t,setDropdownItemRef:i,itemKey:o})=>{const r=Object(n("ovRs").g)(),l=Object(n("ovRs").h)(),[c]=Object(n("j3bG").b)({issueKey:l,fieldKey:"issuetype"}),d=(null==c?void 0:c.subtask)?`/secure/MoveSubTaskChooseOperation!default.jspa?id=${r||""}`:`/secure/MoveIssue!default.jspa?id=${r||""}`,u=Object(a.useCallback)((()=>{null==e||e(o),window.location.assign(d)}),[e,o,d]);return s.a.createElement(n("ourr").a,{key:"move",onClick:u,innerRef:i},t)};D.displayName="MoveIssue";var R=D;const L=Object(l.defineMessages)({move:{id:"issue.move",defaultMessage:"Move"}}).move,M=(e,t)=>({name:"",key:"IssueManipulationDropdownGroup",items:e.reduce(((e,{Component:n,label:a,key:i})=>(n&&e.push(s.a.createElement(n,{label:a,key:i,itemKey:i,onClick:t})),e)),[])}),A=e=>{const{formatMessage:t}=Object(n("NRyt").d)(),s=Object(n("ovRs").h)(),i=Object(n("ovRs").j)(),[o]=Object(n("j3bG").b)({issueKey:s,
fieldKey:"hierarchy-level-above"}),[r]=Object(n("j3bG").b)({issueKey:s,fieldKey:"issuetype"}),[l]=Object(n("j3bG").b)({issueKey:s,fieldKey:"subtasks"}),c=Object(n("IFiJ").a)(i),p=Object(n("IFiJ").f)(i),g=null==r?void 0:r.subtask,[E]=Object(n("AJ6X").d)(i),y=Object(a.useMemo)((()=>{const e=!(null==o||!o.name),t=(null==o?void 0:o.issueTypeIds.length)>0;return e&&E.canEditIssues&&t}),[o,E]),O=Object(a.useMemo)((()=>{const e=(null==l?void 0:l.length)>0,t=(p||[]).filter((e=>e.subtask)).length>0;return!g&&!e&&t&&!c}),[l,p,g,c]),I=Object(a.useMemo)((()=>g&&!c),[g,c]);return Object(a.useMemo)((()=>[...y?[{Component:k,label:t(e?T:w),key:"linkToParent"}]:[],...O?[{Component:f,label:t(h),key:"convertToSubtask"}]:[],...I?[{Component:m,label:t(b),key:"convertToIssue"}]:[],...E.canMoveIssue?[{Component:R,label:t(L),key:"moveIssue"}]:[],...E.canCloneIssue?[{Component:d,label:t(u),key:"cloneIssue"}]:[],...E.canDeleteIssue?[{Component:v,label:t(j),key:"deleteIssue"}]:[]]),[E,y,I,O,t,e])}},
ovRs:function(e,t,n){"use strict";n.d(t,"e",(function(){return w})),n.d(t,"h",(function(){return T})),n.d(t,"g",(function(){return D})),n.d(t,"j",(function(){return R})),n.d(t,"a",(function(){return L})),n.d(t,"f",(function(){return M})),n.d(t,"l",(function(){return A})),n.d(t,"c",(function(){return _})),n.d(t,"b",(function(){return N})),n.d(t,"i",(function(){return x})),n.d(t,"k",(function(){return U})),n.d(t,"m",(function(){return F})),n.d(t,"d",(function(){return P}));var a={};n.r(a),n.d(a,"setIssueContext",(function(){return r})),n.d(a,"mergeIssueContext",(function(){return l})),n.d(a,"getMaxTokenLength",(function(){return c})),n.d(a,"getIsLoadedWithPage",(function(){return d})),n.d(a,"getBackButtonUrl",(function(){return u})),n.d(a,"getIsSpaEnabled",(function(){return p})),n.d(a,"getIssueKey",(function(){return m}));var s=n("q1tI"),i=n("3tO9"),o=n.n(i);const r=e=>({setState:t})=>{t(e)},l=e=>({getState:t,setState:n})=>{n(o()(o()({},t()),e))
},c=()=>({getState:e})=>e().maxTokenLength,d=()=>({getState:e})=>e().isLoadedWithPage,u=()=>({getState:e})=>e().backButtonUrl,p=()=>({getState:e})=>e().isSpaEnabled,m=()=>({getState:e})=>e().issueKey,b={issueKey:Object(n("Rp3N").n)(""),issueId:void 0,isModal:!1,maxTokenLength:0,isLoadedWithPage:!1,rapidViewMap:void 0,estimationStatistic:void 0,isLoading:!1,viewMode:void 0,analyticsSource:void 0,backButtonUrl:void 0,boardId:void 0,boardType:void 0,isSpaEnabled:!1,loginRedirectUrl:void 0,onIssueKeyChange:void 0,rapidViewId:void 0,viewScreenId:void 0},g=Object(n("0b8M").a)({name:"issue-context",initialState:b,actions:a}),f=(Object(n("dq9g").a)(g,{selector:e=>e}),Object(n("dq9g").a)(g,{selector:e=>e.issueKey})),h=Object(n("dq9g").a)(g,{selector:e=>e.issueId}),E=Object(n("dq9g").a)(g,{selector:e=>e.isModal}),y=Object(n("dq9g").a)(g,{selector:e=>e.viewScreenId}),O=Object(n("dq9g").a)(g,{selector:e=>void 0!==e.analyticsSource?e.analyticsSource:void 0}),v=Object(n("dq9g").a)(g,{
selector:e=>e.rapidViewMap}),j=(Object(n("dq9g").a)(g,{selector:e=>e.maxTokenLength}),Object(n("dq9g").a)(g,{selector:e=>e.isLoadedWithPage}),Object(n("dq9g").a)(g,{selector:e=>e.estimationStatistic})),I=(Object(n("dq9g").a)(g,{selector:e=>e.isLoading}),Object(n("dq9g").a)(g,{selector:e=>e.viewMode}),Object(n("dq9g").a)(g,{selector:e=>e.backButtonUrl})),C=(Object(n("dq9g").a)(g,{selector:e=>e.boardId}),Object(n("dq9g").a)(g,{selector:e=>e.boardType}),Object(n("dq9g").a)(g,{selector:e=>e.isSpaEnabled}),Object(n("dq9g").a)(g,{selector:e=>e.loginRedirectUrl}),Object(n("dq9g").a)(g,{selector:e=>e.onIssueKeyChange})),S=Object(n("dq9g").a)(g,{selector:e=>e.rapidViewId}),k=(Object(n("UCyb").a)(g),Object(n("dq9g").a)(g,{selector:null})),w=()=>{const[e]=E();return e},T=()=>{const[e]=f();return e},D=()=>{const[e]=h();return e},R=()=>{const[e]=f();return Object(n("Rp3N").t)(e.split("-")[0])},L=()=>{const[e]=O();return e},M=()=>{
const[,{setIssueContext:e,mergeIssueContext:t,getMaxTokenLength:n,getIsLoadedWithPage:a,getBackButtonUrl:i,getIsSpaEnabled:o,getIssueKey:r}]=k();return[void 0,Object(s.useMemo)((()=>({setIssueContext:e,mergeIssueContext:t,getMaxTokenLength:n,getIsLoadedWithPage:a,getBackButtonUrl:i,getIsSpaEnabled:o,getIssueKey:r})),[e,t,n,a,i,o,r])]},A=()=>{const[e]=v();return e},_=()=>{const[e]=j();return e},N=()=>{const[e]=I();return e},x=()=>{const[e]=C();return e},U=()=>{const[e]=S();return e},F=()=>{const[e]=y();return e},P=()=>{const e=Object(n("armP").a)(),t=Object(n("4Oxk").a)(),a=t&&t.software===n("CPb+").a;return e[n("S57X").a.JIRA_SOFTWARE]&&a}},"p+mI":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=()=>Object(n("D3TY").a)("jsw.nextgen.search-field.changeboarding",!1),s=()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1)},"p/Po":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i
}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").I,(e=>e.assignIssueParentModal.isOpen)),i=Object(a.createSelector)(n("4dgq").k,n("/LFc").B,((e,t)=>[{id:e.issueId,key:e.issueKey,parentId:t&&t.id}]))},pKna:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return h}));var a=n("peh1")
;const s=Object(a.createSelector)(n("/LFc").f,(e=>e.confluencePages)),i=Object(a.createSelector)(s,(e=>e.createLinkedPage)),o=Object(a.createSelector)(i,(e=>e.errorMessage)),r=Object(a.createSelector)(i,(e=>e.isInvalid)),l=Object(a.createSelector)(i,(e=>e.isLoading)),c=Object(a.createSelector)(i,(e=>e.clickedCount>0)),d=Object(a.createSelector)(i,(e=>e.clickedCount)),u=Object(a.createSelector)(s,(e=>e&&e.linkedPages)),p=Object(a.createSelector)(s,(e=>e&&e.mentionedPages)),m=Object(a.createSelector)(s,(e=>!(!e||!e.isLinkingEnabled))),b=Object(a.createSelector)(u,(e=>e&&e.pages)),g=Object(a.createSelector)(p,(e=>e&&e.pages)),f=Object(a.createSelector)(u,(e=>e&&e.pageCount)),h=Object(a.createSelector)(p,(e=>e&&e.pageCount))},pTOk:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("vN+2"),o=n.n(i);const r=Object(n("wW5i").a)("button",{onClick:"clicked"})(n("340+").a),l=e=>{const{createAnalyticsEvent:t}=Object(n("rZ/p").a)()
;return s.a.createElement(s.a.Fragment,null,s.a.createElement(r,{onClick:(a,s)=>{const i=t({action:"clicked",actionSubject:"button"});Object(n("yy8q").h)(i,"loopActionsButton"),e.onClick(e.transition,s)}},e.transition.name),s.a.createElement(n("02VO").a,{action:"exposed",actionSubject:"feature",actionSubjectId:"loopActions",attributes:{controlType:"button"}}))};var c=n("3tO9"),d=n.n(c),u=n("QILm"),p=n.n(u),m=n("JRPe"),b=Object(m.defineMessages)({actions:{id:"issue-field-status.status-view.actions.actions-menu.actions",defaultMessage:"Actions"}}),g=n("vOnD");const f=g.default.span.withConfig({componentId:"sc-8mzk26-0"})`padding-right:${.75*n("ZpU/").e}px;`,h=g.default.div.withConfig({componentId:"sc-8mzk26-1"})`margin-right:-${n("ZpU/").e}px;`,E=["buttonStyles"],y=Object(n("wW5i").a)("dropdownItem",{onClick:"clicked"})(n("ourr").a),O=e=>{const{transitions:t,onSelect:i}=e,{createAnalyticsEvent:o}=Object(n("rZ/p").a)(),{formatMessage:r}=Object(n("NRyt").d)(),[l,c]=Object(a.useState)(!1)
;if(0===t.length)return null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(n("BI20").a,{trigger:s.a.createElement(n("0+Gd").a,{appearance:"subtle",isSelected:l,iconAfter:s.a.createElement(h,null,s.a.createElement(n.n(n("1YpF")).a,{label:""})),theme:(e,t)=>{const a=e(t),{buttonStyles:s}=a,i=p()(a,E);return d()(d()({},i),{},{buttonStyles:d()(d()({},s),{},{padding:`0 ${n("ZpU/").e/2}px 0 ${n("ZpU/").e}px`,margin:`0 ${n("ZpU/").e/2}px 0 ${n("ZpU/").e/2}px`,backgroundColor:l?n("5kDX").a.N400:n("5kDX").a.N20,"&:hover":{backgroundColor:l?n("5kDX").a.N500:n("5kDX").a.N30,padding:`0 ${n("ZpU/").e/2}px 0 ${n("ZpU/").e}px`},"&:active":{backgroundColor:l?n("5kDX").a.N500:n("5kDX").a.B50,padding:`0 ${n("ZpU/").e/2}px 0 ${n("ZpU/").e}px`}})})}},s.a.createElement(f,null,r(b.actions))),isOpen:l,onOpenChange:()=>{c(!l)}},s.a.createElement(n("6IoW").a,null,t.map((e=>s.a.createElement(n("Yto1").a,{key:e.id,content:e.name},s.a.createElement(y,{onClick:(t,a)=>((e,t,a)=>{const s=o({
action:"clicked",actionSubject:"dropdown"});Object(n("yy8q").h)(s,"loopActionsMenu"),i(e,a)})(e,0,a)},e.name)))))),s.a.createElement(n("02VO").a,{action:"exposed",actionSubject:"feature",actionSubjectId:"loopActions",attributes:{controlType:"menu"}}))},v=g.keyframes`0%{opacity:0;max-height:0;}50%{max-height:${5*n("ZpU/").e}px;}100%{opacity:1;}`,j=g.default.div.withConfig({componentId:"sc-1oa307m-0"})`display:inline-flex;overflow:hidden;animation-duration:0.5s;animation-iteration-count:1;animation-name:${e=>e.animationEnabled?v:"none"};animation-timing-function:linear;white-space:nowrap;text-overflow:ellipsis;`,I=({initialStatusValue:e,onSubmit:t,onSuccess:i})=>{const r=Object(n("ovRs").h)(),c=Object(n("Rp3N").c)(""),d=Object(n("ovRs").j)(),u=Object(n("IFiJ").i)(d),[p,m]=Object(a.useState)(!1);return s.a.createElement(n("kP+u").a,{projectType:u||null,issueKey:r,baseUrl:c,onSubmit:t,onSuccess:(...e)=>{m(!0),i(...e)},onFailure:o.a,onEditStart:o.a,onEditCancel:o.a,initialValue:e
},(({value:e,loading:t,transitionStatus:a})=>s.a.createElement(n("XoL7").a,{issueKey:r,baseUrl:c,status:e,isSaving:t,preFetch:!0,projectType:u},(({data:t})=>{const i=Object(n("KLbr").b)(t,e.id);return 0===i.length?null:1===i.length?s.a.createElement(j,{animationEnabled:p},s.a.createElement(l,{transition:i[0],onClick:a})):s.a.createElement(j,{animationEnabled:p},s.a.createElement(O,{transitions:i,onSelect:a}))}))))};I.displayName="Actions";t.a=I},pbdj:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("vOnD");const s=a.default.div.withConfig({componentId:"sc-9jew1s-0"})`width:100%;${n("0YYc").a}{padding-left:0;}`,i=Object(a.default)(n("ugic").d).withConfig({componentId:"sc-9jew1s-1"
})`&&&{padding-left:${4*n("ZpU/").e}px;padding-right:${4*n("ZpU/").e}px;padding-bottom:8px;}`,o=a.default.div.withConfig({componentId:"sc-9jew1s-2"})`position:fixed;top:0;left:0;`,r=a.default.div.withConfig({componentId:"sc-9jew1s-3"})`margin:0 ${-3*n("ZpU/").e}px;`,l=a.default.div.withConfig({componentId:"sc-9jew1s-4"})`overflow-x:hidden;overflow-y:auto;> div{height:100%;}`,c=a.default.div.withConfig({componentId:"sc-9jew1s-5"})`height:100%;`,d=a.default.div.withConfig({componentId:"sc-9jew1s-6"})`padding-bottom:${n("0YYc").c}px;`;a.default.div.withConfig({componentId:"sc-9jew1s-7"})``},pfYZ:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u}));const a=()=>({type:"LINK_CONFLUENCE_PAGE_CLICKED"}),s=()=>({
type:"LINK_CONFLUENCE_PAGE_CLOSED"}),i=()=>({type:"CREATE_CONFLUENCE_PAGE_LINK_MODIFIED"}),o=(e,t)=>({type:"CREATE_CONFLUENCE_PAGE_LINK_REQUEST",payload:{pageHref:e},meta:{analyticsEvent:t}}),r=e=>({type:"CREATE_CONFLUENCE_PAGE_LINK_SUCCESS",payload:{confluencePageLink:e}}),l=e=>({type:"CREATE_CONFLUENCE_PAGE_LINK_FAILED",payload:{errorMessage:e}}),c=e=>({type:"DELETE_CONFLUENCE_PAGE_LINK_REQUEST",payload:{globalId:e}}),d=()=>({type:"DELETE_CONFLUENCE_PAGE_LINK_SUCCESS"}),u=()=>({type:"DELETE_CONFLUENCE_PAGE_LINK_FAILED"})},pixR:function(t,n,a){"use strict";a.d(n,"b",(function(){return r})),a.d(n,"a",(function(){return l}));var s=a("3tO9"),i=a.n(s);const o=({experience:t,wasSuccessful:n,action:s,analyticsSource:o,projectType:r,errorMessage:l})=>{let c=null,d=null;if(void 0!==r)try{const{appEditions:e}=Object(a("S57X").h)();c=Object(a("YXYM").f)(r),d=Object(a("JMkI").f)(c,e)}catch(e){}return{experience:t,wasExperienceSuccesful:n,analyticsSource:o,application:c,edition:d,
additionalAttributes:i()({action:s},void 0!==l?{errorMessage:l}:null)}},r=e=>o(i()(i()({},e),{},{experience:"issueComment"})),l=e=>o(i()(i()({},e),{},{experience:"issueCommentAttachment"}))},pncN:function(e,t,n){"use strict";var a=n("3tO9"),s=n.n(a),i=n("q1tI"),o=n("mwIZ"),r=n.n(o);t.a=({issueKey:e,onSuccess:t,onFailure:a})=>{const o=n("TuCe").c,[{value:l}]=Object(n("MoW5").a)(e,o),c=r()(l,"schema.type","user"),[,{setFieldValue:d}]=Object(n("j3bG").b)({issueKey:e,fieldKey:n("TuCe").c}),u=Object(i.useCallback)((a=>{a&&"-1"===a.accountId?(async(e,t)=>{const a=await Object(n("/rpS").b)(((e,t)=>`${e}/rest/api/3/issue/${t}?fields=assignee`)(e,t),s()({},n("sZu9").a)),{assignee:i}=a.fields;return i})("",e).then((a=>{d(e,n("TuCe").c,a),null==t||t(a)})).catch((e=>{Object(n("v/G6").a)({meta:{id:"currentAssigneeFetch",packageName:"jiraIssueFieldAssignee"},error:e,sendToPrivacyUnsafeSplunk:!0}),null==t||t(a)})):null==t||t(a)
}),["",e,t,d]),[{value:p,error:m},{saveValue:b,resetError:g}]=Object(n("35XP").a)({fieldKey:o,issueKey:e,fieldType:c,initialValue:null,onSuccess:u,onFailure:a});return[{value:p,error:m,fieldConfig:l},{saveValue:b,resetError:g}]}},pvIb:function(e,t,n){"use strict";n.d(t,"f",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"a",(function(){return I})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return k}));var a={};n.r(a),n.d(a,"setIssueViewLayout",(function(){return d})),n.d(a,"setIssueViewContainersLayout",(function(){return u})),n.d(a,"setIssueViewLayoutGlance",(function(){return p})),n.d(a,"setIssueViewLayoutContextPanel",(function(){return m}));var s=n("q1tI"),i=n("3tO9"),o=n.n(i),r=n("QILm"),l=n.n(r);const c=["templateKey"],d=(e,t)=>({getState:n,setState:a})=>{const{templateKey:s}=t,i=l()(t,c);a({[String(e)]:o()(o()({},n()[String(e)]),{},{templateKey:s,sections:i})})
},u=(e,t)=>({getState:n,setState:a})=>{a({[String(e)]:o()(o()({},n()[String(e)]),{},{containers:(null==t?void 0:t.containers)||[]})})},p=(e,t)=>({getState:n,setState:a})=>{a({[String(e)]:o()(o()({},n()[String(e)]),{},{glance:t})})},m=(e,t)=>({getState:n,setState:a})=>{a({[String(e)]:o()(o()({},n()[String(e)]),{},{contextPanel:t})})},b=Object(n("0b8M").a)({name:"issue-view-layout-service",initialState:{},actions:a}),g=Object(n("dq9g").a)(b,{selector:(e,t)=>{var n;return(null===(n=e[String(t)])||void 0===n?void 0:n.sections)||{}}}),f=Object(n("dq9g").a)(b,{selector:(e,t)=>{var n;return(null===(n=e[String(t)])||void 0===n?void 0:n.containers)||[]}}),h=Object(n("dq9g").a)(b,{selector:(e,t)=>{var n;return null===(n=e[String(t)])||void 0===n?void 0:n.glance}}),E=Object(n("dq9g").a)(b,{selector:(e,t)=>{var n;return null===(n=e[String(t)])||void 0===n?void 0:n.contextPanel}}),y=Object(n("dq9g").a)(b,{selector:null}),O=e=>{const[t]=g(e);return[t]},v=e=>{const[t]=f(e);return[t]},j=(e,t)=>{var n
;const[a]=f(e),s=a.find((e=>e.containerType===t));return[null!==(n=null==s?void 0:s.items.nodes)&&void 0!==n?n:[]]},I=e=>{switch(e.type){case n("Kv+q").a.field:return e.fieldItemId;case n("Kv+q").a.panel:return e.panelItemId;case n("Kv+q").a.tab:return e.tabContainerId;default:return e.id}},C=e=>{const[t]=h(e);return[t]},S=e=>{const[t]=E(e);return[t]},k=()=>{const[,e]=y();return[null,{setIssueViewLayout:Object(s.useCallback)(((t,n)=>{e.setIssueViewLayout(t,n)}),[e]),setIssueViewContainersLayout:Object(s.useCallback)(((t,n)=>{e.setIssueViewContainersLayout(t,n)}),[e]),setIssueViewLayoutGlance:Object(s.useCallback)(((t,n)=>{e.setIssueViewLayoutGlance(t,n)}),[e]),setIssueViewLayoutContextPanel:Object(s.useCallback)(((t,n)=>{e.setIssueViewLayoutContextPanel(t,n)}),[e])}]}},"q+Ru":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={TIME_TO_RENDER_OPTIONS:"jira.fe.issue.fields.status.time-to.render-options",
TIME_TO_APPLY_SELECTED_OPTION:"jira.fe.issue.fields.status.time-to.reflect-selected",TIME_TO_CANCEL_DROPDOWN:"jira.fe.issue.fields.status.time-to.cancel-dropdown",TIME_TO_OPEN_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.open-transition-screen",TIME_TO_CONFIRM_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.confirm-transition-screen",TIME_TO_CANCEL_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.cancel-transition-screen",TIME_TO_ERROR_TRANSITION_SCREEN:"jira.fe.issue.fields.status.time-to.error-transition-screen"}},q06Z:function(e,t,n){"use strict";var a=n("pVnL"),s=n.n(a),i=n("q1tI"),o=n.n(i);t.a=e=>t=>o.a.createElement(n("QUN3").a,null,(n=>o.a.createElement(e,s()({},t,{isCompact:n}))))},qCEV:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),t.a=e=>void 0!==e.editingValue?e.editingValue:Object(n("2p4G").a)(e);const a=e=>e.editingValue||Object(n("2p4G").b)(e)},qJbg:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){
return i}));var a=n("peh1");const s=Object(a.createSelector)(n("/LFc").f,(e=>e.ecosystem||{})),i=Object(a.createSelector)(n("/LFc").f,(e=>e.forge||n("QUJQ").b))},qNKP:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return E}));var a=n("M6kn");const s="issue.comment.fetch.epic.graphql",i="-created",o=(e,t,a,s)=>n("em5f").a`query {
        issueComments(issueIdOrKey: "${e}", first: ${t}, offset: ${a}, orderBy: "${s}") {
            nodes {
                id
                author {
                  accountId
                  displayName
                  avatarUrls {
                    key
                    value
                  }
                  timeZone
                }
                updateAuthor {
                  accountId
                  displayName
                  avatarUrls {
                    key
                    value
                  }
                  timeZone
                }
                visibility {
                  type
                  value
                }
                created
                updated
                renderedBody
                jsdPublic
                bodyAdf
                ${Object(n("d90y").isOutsiderCommentFFEnabled)()?"jsdAuthorCanSeeRequest":""}
            }
            totalCount
        }
    }`,r=(e,t,a,s,r,l,c)=>Object(n("K4VI").a)(Object(n("XtNG").d)(e),((e,t,a,s,i,r)=>({method:"POST",body:JSON.stringify({query:o(e,t,a,s)}),perf:r,headersProcessor:i&&i(n("lLEp").a.key)}))(t,a,s,i)).map(n("0jFE").f).map((e=>Object(n("0jFE").b)(e,r,l,c))),l=({startAt:e,maxResults:t,orderBy:a,commentId:s,commentAmount:i})=>{const o=null!=s?`, commentId: "${s}"`:""
;return`query issueViewInteractiveQuery($issueKey: String!) {\n       viewIssue(issueKey: $issueKey) {\n           comments (${`first: ${e}`}${""===o&&null!=t?`, maxResults: ${t}`:""}${""!==o&&null!=i?`, commentAmount: ${i}`:""}${null!=a?`, orderBy: "${a}"`:""}${o}) {\n               nodes {\n                   id\n                   author {\n                       accountId\n                       displayName\n                       avatarUrl\n                   }\n                   updateAuthor {\n                       accountId\n                       displayName\n                       avatarUrl\n                   }\n                   visibility {\n                       type\n                       value\n                   }\n                   created\n                   updated\n                   jsdPublic\n                   bodyAdf\n                   ${Object(n("d90y").isOutsiderCommentFFEnabled)()?"jsdAuthorCanSeeRequest":""}\n               }\n               startIndex\n               totalCount\n           }\n       }\n     }\n   `
},c=({issueKey:e,maxResults:t,startAt:n,orderBy:a,commentId:s,commentAmount:i})=>({method:"POST",body:JSON.stringify({query:l({maxResults:t,startAt:n,orderBy:a,commentId:s,commentAmount:i}),variables:{issueKey:e}})}),d=({baseUrl:e,issueKey:t,commentId:a,commentAmount:o})=>Object(n("K4VI").a)(`${e}/rest/gira/1/`,c({issueKey:t,commentAmount:o,startAt:0,orderBy:i,commentId:a})).map(n("xWb8").a).map((e=>Object(n("xWb8").b)(s,e))).map((e=>Object(n("G+I/").b)(e.viewIssue))),u=(e,t,n,a,s)=>{const i=100,o=null!=n?n:0;let r=0;o>0&&(r=o+s.filter((e=>e.completedDate.epochMillis>Math.max(...a.map((e=>e.timestamp))))).length);const l=e+s.length-(a.length+r);return{numNextActivityItemsToLoad:l>i?i:l,numPrevActivityItemsToLoad:r>i?i:r}},p=(e,t,n)=>{let a=0;const s=100,i=e-(t+n);return n>0&&(a=n>s?s:n),{numNextCommentsToLoad:i>s?s:i,numPrevCommentsToLoad:a}},m="issue.comment.fetch.epic",b="Failed to fetch comments",g=(e,t)=>e.ofType("FETCH_LATEST_COMMENTS_REQUEST").switchMap((({type:e})=>{
const s=t.getState(),i=Object(n("4dgq").f)(s),o=Object(n("4dgq").w)(s),l=Object(n("ejT3").K)(s);return(l>10?10:l)>0?r(i,o,5,0,0,0,e).map((e=>Object(n("Rc4V").o)(e))).catch((e=>(Object(n("be7s").a)(m,b,e),n("fnbV").a.safeWarnWithoutCustomerData(m,b),a.Observable.of(Object(n("Rc4V").n)())))):a.Observable.empty()})),f=(e,t)=>e.ofType("FETCH_OLDER_COMMENTS_REQUEST","FETCH_NEWER_COMMENTS_REQUEST").switchMap((({type:e})=>{const o=t.getState(),r=Object(n("4dgq").f)(o),l=Object(n("4dgq").w)(o),d=Object(n("ejT3").L)(o),u=Object(n("ejT3").G)(o),p=Object(n("ejT3").K)(o),{startAt:g,maxResults:f}=((e,t,n,a)=>{let s=0,i=0;return"FETCH_OLDER_COMMENTS_REQUEST"===e?(i=t+a,{maxResults:Math.min(n-i,100),startAt:i}):(i=Math.max(0,t-100),s=t-i,{maxResults:s,startAt:i})})(e,p,d,u);return(({baseUrl:e,issueKey:t,maxResults:a,startAt:o=0,loadedComments:r=0,commentsStartIndex:l=0,commentId:d,type:u})=>Object(n("K4VI").a)(`${e}/rest/gira/1/`,c({issueKey:t,maxResults:a,startAt:o,orderBy:i,commentId:d
})).map(n("xWb8").a).map((e=>Object(n("xWb8").b)(s,e))).map((e=>Object(n("G+I/").c)(e.viewIssue,r,l,u,i))))({baseUrl:r,issueKey:l,maxResults:f,startAt:g,loadedComments:u,commentsStartIndex:p,type:e}).map((e=>Object(n("Rc4V").q)(e))).catch((e=>(Object(n("be7s").a)(m,b,e),n("fnbV").a.safeWarnWithoutCustomerData(m,b),a.Observable.of(Object(n("Rc4V").p)()))))})),h=(e,t)=>e.ofType("FETCH_SORTED_COMMENTS_REQUEST").switchMap((({payload:e})=>{const o=t.getState(),r=Object(n("4dgq").f)(o),l=Object(n("4dgq").w)(o);return void 0!==e?d({baseUrl:r,issueKey:l,commentAmount:Math.floor(5),commentId:e}).map((e=>Object(n("Rc4V").v)(e))).catch((e=>(Object(n("be7s").a)(m,b,e),n("fnbV").a.safeWarnWithoutCustomerData(m,b),a.Observable.of(Object(n("Rc4V").t)())))):(({baseUrl:e,issueKey:t,maxResults:a})=>Object(n("K4VI").a)(`${e}/rest/gira/1/`,c({issueKey:t,maxResults:a,startAt:0,orderBy:i,commentId:void 0
})).map(n("xWb8").a).map((e=>Object(n("xWb8").b)(s,e))).map((e=>Object(n("G+I/").c)(e.viewIssue,0,0,void 0,i))))({baseUrl:r,issueKey:l,maxResults:5}).map((e=>Object(n("Rc4V").v)(e))).catch((e=>(Object(n("be7s").a)(m,b,e),n("fnbV").a.safeWarnWithoutCustomerData(m,b),a.Observable.of(Object(n("Rc4V").t)()))))})),E=e=>(t,s)=>t.ofType("SCROLL_TO_ATTACHMENT_COMMENT").switchMap((()=>{const t=s.getState(),i=Object(n("4dgq").f)(t),o=Object(n("4dgq").w)(t),r=Object(n("/LFc").G)(t)===n("Hh3U").h,l=e.getScrollTargetId(n("nk0S").a.COMMENT);return null===l?a.Observable.of():d({baseUrl:i,issueKey:o,commentAmount:Math.floor(5),commentId:l}).flatMap((t=>(window.history.replaceState({},null,Object(n("LcR/").c)(l,n("bLfd").b.COMMENTS)),e.setScrollTarget(null),a.Observable.of(Object(n("Rc4V").v)(t),Object(n("c/pv").c)(r?n("c/pv").b:n("c/pv").a),Object(n("Rc4V").F)(!1))))).catch((e=>{Object(n("be7s").a)(m,b,e),n("fnbV").a.safeWarnWithoutCustomerData(m,b);const{showFlag:t}=Object(n("uS5k").f)();return t({
type:"error",title:[n("mxtt").a.commentWorklogAttachmentFetchFailedTitle,{field:"comment"}],description:n("mxtt").a.commentWorklogAttachmentFetchFailedDescription,isAutoDismiss:!0}),a.Observable.of()}))}))},qUQc:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("q1tI"),s=n.n(a),i=n("pVnL"),o=n.n(i),r=n("Y+p1"),l=n.n(r);const c=({id:e,type:t,area:i,payload:r={}})=>{const l=Object(n("oUkA").a)(),c=Object(n("ovRs").h)(),[,{setIssueViewLayoutContextPanel:d}]=Object(n("pvIb").b)(),{createAnalyticsEvent:u}=Object(n("rZ/p").a)(),p=Object(a.useCallback)((a=>{Object(n("yy8q").h)(u({}),"contextPanel viewed","issueContextPanel",{contextPanelKey:e,contextPanelType:t,tabItemsCount:a.tabItems?a.tabItems.length:0}),d(c,{payload:a,title:null==a?void 0:a.title,type:t,key:e})}),[u,e,t,d,c]);if(l[t]){const n=l[t].item;return s.a.createElement(n,o()({},r,{key:e,fieldId:e,area:i,onOpenPanel:p}))}
return n("RDfz").a.safeErrorWithoutCustomerData("issue.views.issue-base.context",`Could not find a matching component for "${e}" of type "${t}"`),null},d=Object(a.memo)(c,l.a);d.displayName="LayoutItem";var u=Object(n("5WHm").a)((()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1)),d,c);const p=e=>Object(n("BxuJ").a)()?Object(n("pvIb").a)(e):e.id,m=({items:e,area:t})=>{const a=Object(n("ovRs").h)(),[{value:i}]=Object(n("MoW5").c)(a);return e.map((e=>{if("CustomItem"===e.type)return s.a.createElement("div",{key:p(e)},e.item);if(null==i)return null;const{type:a,id:o}=Object(n("1bbY").a)(i[p(e)],e);if(Object(n("1bbY").e)({type:a,id:o}))return null;const r=e.globalRef?e.globalRef:"";let l={};"ecosystemGlance"!==e.type&&"forgeGlance"!==e.type||(l=e.payload);const c=s.a.createElement(u,{key:o,id:o,type:a,area:t,payload:l});return r?s.a.createElement(n("aOsC").a,{id:r,key:o},c):c}))}},qvH8:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}))
;var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=Object(i.defineMessages)({editResolutionFailedTitle:{id:"issue-field-resolution.edit-resolution-failed-title",defaultMessage:"We couldn't update {issueKey}'s resolution"},editResolutionFailedDescription:{id:"issue-field-resolution.edit-resolution-failed-description",defaultMessage:"Check your connection, then try again."}}),r=Object(i.defineMessages)({readViewMessage:{id:"issue-field-resolution.read.read-view-message",defaultMessage:"You cannot edit the resolution field"},unresolvedResolution:{id:"issue-field-resolution.read.unresolved-resolution",defaultMessage:"Unresolved"}}),l=n("vOnD");const c=25*n("ZpU/").e,d=l.default.div.withConfig({componentId:"sc-1tohg2d-0"})`padding:${e=>e.addPadding?`0 ${2*n("ZpU/").e}px 0 12px`:0};display:flex;align-items:center;height:${4*n("ZpU/").e}px;`,u=l.default.span.withConfig({componentId:"sc-1tohg2d-1"
})`color:${e=>e.isDarkText?n("5kDX").a.N500:n("5kDX").a.N90};display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:${c}px;${e=>e.isDisabled?":hover { cursor: not-allowed; }":""};`,p=({value:e,isLabelClickEnabled:t})=>{const{formatMessage:a}=Object(n("NRyt").d)(),i=e,o=(null==e?void 0:e.name)||a(r.unresolvedResolution),l=i?s.a.createElement(n.n(n("igiX")).a,{size:"medium",label:o,primaryColor:n("5kDX").a.G400}):null;return s.a.createElement(d,{addPadding:!t},l,(e=>{const o=s.a.createElement(u,{isDisabled:!t,isDarkText:t||!!i},e);return t?o:s.a.createElement(n("Yto1").a,{content:a(r.readViewMessage),position:"top"},o)})(o))};p.displayName="ResolutionReadView";const m=({value:e=null,allowedOptions:t,onChange:a})=>s.a.createElement(n("p/Kl").a,{options:t||[],value:e,target:({ref:t})=>s.a.createElement(n("340+").a,{ref:t,iconAfter:s.a.createElement(n.n(n("1YpF")).a,{label:"open"}),appearance:"subtle"},s.a.createElement(p,{value:e?Object(n("1XYV").b)(e):null,
isLabelClickEnabled:!0})),onChange:a,isSearchable:!1,searchThreshold:99999});m.displayName="ResolutionEditView";const b=({issueKey:e})=>{const{showFlag:t}=Object(n("uS5k").f)(),{createAnalyticsEvent:i}=Object(n("rZ/p").a)(),r=Object(a.useCallback)((()=>{t({type:"error",title:[o.editResolutionFailedTitle,{issueKey:e}],description:o.editResolutionFailedDescription})}),[e,t]),[{value:l,fieldConfig:c},{saveValue:d}]=Object(n("F82P").a)({issueKey:e,onFailure:r}),{allowedValues:u=[],isEditable:b=!1}=c||{},g=Object(a.useMemo)((()=>l?Object(n("1XYV").c)(l):null),[l]),f=Object(a.useMemo)((()=>Object(n("1XYV").a)(l,u)),[u,l]),h=b&&f.length>=1,E=Object(a.useCallback)((e=>{const t=Object(n("1XYV").b)(e),a=i({action:"changed",actionSubject:"select"});Object(n("yy8q").h)(a,"resolutionField"),d(t,null,a)}),[i,d]);return null==c?null:h?s.a.createElement(m,{onChange:E,allowedOptions:f,value:g}):s.a.createElement(p,{value:l,isLabelClickEnabled:!1})}},qxqX:function(e,t,n){"use strict"
;var a=n("q1tI"),s=n.n(a),i=n("vN+2"),o=n.n(i);const r=n("vOnD").default.div.withConfig({componentId:"sc-1n144tp-0"})`min-height:${4*n("ZpU/").e}px;margin-right:-${n("ZpU/").e}px;margin-bottom:${n("ZpU/").e/4}px;display:flex;justify-content:space-between;height:100%;align-items:center;`;class l extends a.Component{render(){const{shouldShowCloseButton:e,onClose:t,renderFeedback:a,isCompact:i,viewModeOptions:o,issueDeleteCallbacks:l,shouldShowProjectLevelBreadcrumb:c,shouldShowRootProjectsBreadcrumb:d}=this.props;return s.a.createElement(n("XYfm").a,{isCompact:i},s.a.createElement(n("TuyW").a,{medium:10},s.a.createElement(r,null,s.a.createElement(n("ZMvX").a,{shouldShowProjectLevelBreadcrumb:c,shouldShowRootProjectsBreadcrumb:d,isCompact:i}),s.a.createElement(n("Q7Ko").a,{renderFeedback:a,issueDeleteCallbacks:l,viewModeOptions:o,onClose:t,shouldShowCloseButton:e,isCompact:i}))))}}l.displayName="HeaderItemWithoutCompactMode",l.displayName="Header",l.defaultProps={issueDeleteCallbacks:{},
shouldShowCloseButton:!1,shouldShowProjectLevelBreadcrumb:!1,shouldShowRootProjectsBreadcrumb:!1,renderFeedback:()=>null,viewModeOptions:{viewModeSwitchEnabled:!1},onClose:o.a};t.a=Object(n("v5q+").a)([n("q06Z").a])(l)},r7NI:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("JRPe"),o=n("vOnD");const r=o.default.div.withConfig({componentId:"qbld2j-0"})`${({isInlineEditBumpEnabled:e,isEditable:t})=>e&&t?`\n    padding: 0 0 0 6px;\n    margin-right: -2px;\n    min-height: ${3*n("ZpU/").e}px;\n        `:""} ${({isInlineEditBumpEnabled:e})=>e?"":"\n    width: 100%;\n    display: flex;\n    "} ${({isInlineEditBumpEnabled:e,isEditable:t})=>e&&!t?o.css`margin:-9px 8px -4px -2px;& > div:first-child > div:first-child > div{padding:0px;}`:null}`,l=o.default.div.withConfig({componentId:"qbld2j-1"})`flex-grow:1;margin-top:${({isInlineEditBumpEnabled:e})=>e?n("ZpU/").e/2-1:n("ZpU/").e/4}px;margin-right:${({isInlineEditBumpEnabled:e})=>e?n("ZpU/").e/4:0}px;`,c=o.default.small.withConfig({
componentId:"qbld2j-2"})`color:${n("5kDX").a.N500};display:flex;justify-content:space-between;margin-top:0;font-size:${n("ZpU/").d}px;flex-wrap:wrap;`,d=o.default.span.withConfig({componentId:"qbld2j-3"})`margin-right:${n("ZpU/").e/2}px;`,u=o.default.span.withConfig({componentId:"qbld2j-4"})`cursor:pointer;`,p=o.default.span.withConfig({componentId:"qbld2j-5"})`font-weight:normal;`;class m extends a.Component{constructor(...e){super(...e),this.getTimeRemainingText=()=>{if(!this.props.value.remainingTime)return null;const e=this.secondsToTimeString(this.props.value.remainingTime);return s.a.createElement(u,null,s.a.createElement(i.FormattedMessage,{id:"issue.log-time.remaining-time",defaultMessage:"{time} remaining",values:{time:s.a.createElement(p,null,e)}}))},this.secondsToTimeString=e=>{const{config:t,intl:a}=this.props;return Object(n("/1v1").a)(e,{workingHoursPerDay:t.hoursPerDay,workingDaysPerWeek:t.daysPerWeek,timeFormat:t.format||"pretty",defaultUnit:t.defaultUnit},a)}}
getTimeLoggedText(){if(this.props.value&&this.props.value.loggedTime){const e=this.secondsToTimeString(this.props.value.loggedTime);return s.a.createElement(i.FormattedMessage,{id:"issue.log-time.time-logged",defaultMessage:"{time} logged",values:{time:s.a.createElement(p,{"data-testid":"issue.issue-view.common.logged-time.value"},e)}})}return s.a.createElement(i.FormattedMessage,{id:"issue.log-time.no-time-logged",defaultMessage:"No time logged"})}render(){const{config:e,isDone:t,isCompact:a,value:i,estimatedTime:o,isEditable:u}=this.props;return s.a.createElement(r,{isInlineEditBumpEnabled:Object(n("d90y").isInlineEditBumpEnabled)(),isEditable:u},s.a.createElement(l,{isInlineEditBumpEnabled:Object(n("d90y").isInlineEditBumpEnabled)()},s.a.createElement(n("+NO+").a,{value:i,estimatedTime:o,config:e,isDone:t,isCompact:a}),s.a.createElement(c,null,s.a.createElement(d,null,this.getTimeLoggedText()),this.getTimeRemainingText())))}}m.displayName="LoggedTime",m.defaultProps={isCompact:!0,
isDone:!1};t.a=Object(i.injectIntl)(m)},r9Lg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>Object(n("Rp3N").t)(e.split("-")[0])},rDg7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a="INLINE",s="HEADER"},rYoG:function(e,t,n){"use strict";const a=/^(\d+(?:\.\d+)?)([wdhm])$/,s=e=>{const t=a.exec(e);return t?{quantity:parseFloat(t[1]),unit:t[2]}:null};t.a=(e,t)=>{const n=[{unit:"w",seconds:e*t*60*60},{unit:"d",seconds:60*t*60},{unit:"h",seconds:3600},{unit:"m",seconds:60}];return e=>{const t=e.split(" ").map(s);let a=0,i=0;for(let s=0;s<n.length&&a!==t.length;s+=1){const e=n[s],o=t[a];if(!o)return null;o.unit===e.unit&&(i+=o.quantity*e.seconds,a+=1)}return a<t.length?null:Math.floor(i)}}},rcbi:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}))
;const a=()=>Object(n("D3TY").a)("jff.magma.render-cost-optimisation",!1),s=()=>Object(n("D3TY").a)("gcfe-37-migrating-injectintl-to-useintl-for-functional-components_kq8qg",!1),i=()=>Object(n("D3TY").a)("issue.fields.status-view.status-button.pass-id",!1)},riXy:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return h}));var a=n("3tO9"),s=n.n(a);const i=(e,t,a)=>{const s=a?a.type:"",i=Object(n("0Lwy").a)(e,t,s);return{appKey:i(e),moduleKey:i(t),statusType:i(s)}},o=(e,t)=>{let a=0;const s=e.reduce(((e,n)=>{e[n.appKey]||(e[n.appKey]={total:0,totalOnPage:0});const s=e[n.appKey];s.total+=1;const i=`${n.appKey}_${n.moduleKey}`;return t.includes(i)&&(s.totalOnPage+=1,a+=1),e}),{}),i=JSON.stringify(s);return{totalOnPage:a,total:e.length,data:Object(n("0Lwy").a)(i)(i)}},r=(e,t)=>{const a=Object(n("0Lwy").a)(e,t);return{
appKey:a(e),moduleKey:a(t)}},l=(e,t)=>r(e,t),c=(e,t,a)=>s()(s()({},r(e,t)),{},{event:Object(n("0Lwy").a)(a)(a)}),d=(e,t)=>r(e,t),u=e=>e.map((e=>({appKey:e.appKey,moduleKey:e.moduleKey,name:e.name}))),p=e=>e.map((e=>({appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,type:e.type}))),m=e=>e.map((e=>({appKey:e.appKey,moduleKey:e.moduleKey,name:e.name,type:e.type,showByDefault:e.showByDefault}))),b=e=>e.map((e=>({name:e.name}))),g=e=>"WEB_PANEL"===e.type,f=e=>"ISSUE_MODULE"===e.type,h=(e=[],t=[],a=[],s=[],i=0)=>{const o={glances:p(e),contentPanels:m(t),activityPanels:u(a),operations:b(s)},r=Object.keys(o).reduce(((e,t)=>o[t]&&o[t].length?e+o[t].length:e),0),l=JSON.stringify(o);return{totalGlances:e.filter(f).length,totalLegacyGlances:e.filter(g).length,totalContentPanels:t.filter(f).length,totalLegacyContentPanels:t.filter(g).length,totalActivityPanels:a.length,totalOperations:s.length,totalCustomIssueFields:i,totalModules:r,data:Object(n("0Lwy").a)(l)(l)}}},"sEM/":function(e,t,n){
e.exports=n.p+"assets/add.cb4b04e861ca3b9ce2a2c8032dde1c45.8.png"},sKDb:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return l}));const a=e=>e&&e instanceof KeyboardEvent&&27===e.keyCode,s=e=>13===e.keyCode,i=e=>0===e.button,o=e=>i(e)&&!(e.metaKey||e.ctrlKey),r=e=>1===e.button,l=e=>i(e)&&(e.metaKey||e.ctrlKey)},tCgR:function(e,t,n){"use strict";var a=n("vOnD");t.a=a.default.div.withConfig({componentId:"sc-1ahh4md-0"})`width:100%;display:flex;position:relative;`},"tK/r":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c}));const a="EDIT_FIELD",s=e=>({type:a,payload:{fieldId:e}}),i="ADD_COMMENT",o=()=>({type:i}),r="ASSIGN_TO_ME",l=()=>({type:r}),c=e=>{switch(e.type){case i:return Object(n("Rc4V").c)();case r:return(()=>({
type:"ASSIGN_TO_ME_EXTERNAL"}))();case a:return(e=>({type:"FIELD_EDIT_REQUEST_EXTERNAL",payload:{fieldId:e}}))(e.payload.fieldId);default:throw new Error(`Unhandled external action type: ${e.type}`)}}},tY4a:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){return d}));const a=(e,t)=>({type:"DELETE_REMOTE_LINKED_ISSUE_REQUEST",payload:{globalId:e,analyticsEvent:t}}),s=e=>({type:"DELETE_REMOTE_LINKED_ISSUE_SUCCESS",payload:e}),i=e=>({type:"DELETE_REMOTE_LINKED_ISSUE_FAILURE",payload:e}),o=(e,t,n)=>({type:"SAVE_REMOTE_LINKED_ISSUE_REQUEST",payload:{saveRemoteIssueLinkPayload:e,requestAnalyticsEvent:t,analyticsEvent:n}}),r=(e,t,n)=>({type:"SAVE_REMOTE_LINKED_ISSUE_SUCCESS",payload:{optimisticId:e,saveRemoteLinkResponse:t,analyticsEvent:n}
}),l=(e,t,n,a)=>({type:"SAVE_REMOTE_LINKED_ISSUE_FAILURE",payload:{optimisticId:e,error:n,analyticsEvent:a,remoteIssueKey:t}}),c=(e,t,n)=>({type:"SAVE_REMOTE_LINKED_ISSUE_RETRY",payload:{optimisticId:e,requestAnalyticsEvent:t,analyticsEvent:n}}),d=e=>({type:"SAVE_REMOTE_LINKED_ISSUE_CANCEL",payload:e})},tcin:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));let a=null;const s=e=>(a||(a=(e=>({query:({query:t,variables:a,signal:s})=>Object(n("QNWr").a)(`${e}/rest/gira/1/`,{method:"POST",body:JSON.stringify({query:t,variables:a}),signal:s})}))(e)),a)},tn58:function(e,t,n){"use strict";t.a=({maxResults:e,startAt:t,orderBy:a,commentAmount:s})=>{const i=Object(n("jnBt").a)("COMMENTS"),o=null!=i?`, commentId: ${i}`:""
;return`\n        comments (first: ${t}${""===o&&null!=e?`, maxResults: ${e}`:""}${null!=a?`, orderBy: "${a}"`:""}${o}${""!==o&&null!=s?`, commentAmount: ${s}`:""}) {\n            nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                visibility {\n                    type\n                    value\n                }\n                created\n                updated\n                jsdPublic\n                bodyAdf\n                ${Object(n("WCl/").c)()?"jsdAuthorCanSeeRequest":""}\n            }\n            totalCount\n            startIndex\n        }\n    `}},tpMn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))
;const a=()=>document.querySelector(".issue-app-modal-ak-dropdown-portal"),s=()=>document.querySelector(".issue-app-modal-editor-dropdown-portal")},u129:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var a=n("q1tI");const s=async(e,t,a)=>{let s=`${e}${encodeURIComponent(t)}`;return null!=a&&(s=`${s}&sessionId=${a}`),Object(n("/rpS").b)(s)},i=e=>{const{fieldId:t,getSuggestions:i=s}=e,[o,r]=Object(a.useState)(!1),{createAnalyticsEvent:l}=Object(n("rZ/p").a)(),c=Object(a.useCallback)((async(e,a,s)=>{const o=n("SHpS").d.now(),c=a.length;try{const d=await i(e,a,s);return"labels"===t&&Object(n("fjz3").b)("labels",o,l,{sessionId:s,queryLength:c}),r(!1),d}catch(d){throw"labels"===t&&Object(n("fjz3").a)("labels",o,l,{sessionId:s}),r(!1),d}}),[l,t,i,r]);return[{isLoadingSuggestions:o},Object(a.useMemo)((()=>({getLabelsSuggestions:c,setIsLoadingSuggestions:r})),[c,r])]}},uC67:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),
n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var a={};n.r(a),n.d(a,"setJiraSettings",(function(){return i}));var s=n("q1tI");const i=e=>({setState:t})=>{t(e)},o=Object(n("0b8M").a)({name:"jiraSettings",initialState:{newIssueViewTransitionSettings:{newIssueViewTransitionLockingStatus:"DEFAULT_TO_NEW_ISSUE_VIEW",shouldDelayChangeboarding:!1},issueLinkTypes:[],subtasksConfiguration:{enabled:!0},timeTrackingConfiguration:{isTimeTrackingEnabled:!1,daysPerWeek:0,hoursPerDay:0,defaultUnit:"minute"}},actions:a}),r=Object(n("dq9g").a)(o,{selector:e=>e.timeTrackingConfiguration}),l=Object(n("dq9g").a)(o,{selector:e=>e.newIssueViewTransitionSettings||void 0}),c=(Object(n("dq9g").a)(o,{selector:e=>e.subtasksConfiguration}),Object(n("dq9g").a)(o,{selector:e=>e.issueLinkTypes}),Object(n("dq9g").a)(o,{selector:null})),d=()=>{const[e]=r();return[e]},u=()=>{const[e]=l();return[e]},p=()=>{const[,{setJiraSettings:e}]=c();return[null,Object(s.useMemo)((()=>({setJiraSettings:e
})),[e])]}},udOb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));const a=["issue.adjustments.global-issue-create","pce.gryffindor.gic-performance-experiment"],s=n("RGCN").a.interaction({key:"global-issue-create-modal",featureFlags:a}),i=n("RGCN").a.interaction({key:"global-issue-create-modal-subsequent",featureFlags:a})},uhXo:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return d}));const a=e=>({type:"PROJECT_ISSUE_TYPES_REQUEST",payload:e}),s=e=>({type:"PROJECT_ISSUE_TYPES_REQUEST_SUCCESS",payload:e}),i=e=>({type:"PROJECT_ISSUE_TYPES_REQUEST_FAILURE",payload:e}),o=(e,t,n,a,s)=>({type:"SIMPLE_CHANGE_ISSUE_TYPE_REQUEST",payload:{issueKey:e,issueId:t,currentType:n,targetType:a,analyticsEvent:s}
}),r=(e,t)=>({type:"SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_SUCCESS",payload:{issueKey:e,targetTypeName:t,fieldId:"issuetype"}}),l=e=>({type:"SIMPLE_CHANGE_ISSUE_TYPE_REQUEST_FAILURE",payload:e}),c=(e,t,n)=>({type:"SIMPLE_CHANGE_ISSUE_TYPE_NOT_ALLOWED",payload:{issueId:e,currentType:t,targetType:n}}),d=e=>({type:"SHOW_ISSUE_TYPE_LIST",payload:e})},"upY+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("M6kn");const s=e=>e.projects[0]?{subtaskTypes:e.projects[0].issuetypes.filter((e=>e.subtask)),issueTypes:e.projects[0].issuetypes}:{subtaskTypes:[],issueTypes:[]},i=(e,t,i)=>((e,t)=>Object(n("K4VI").a)(e,{perf:n("lLEp").f,headersProcessor:t&&t(n("lLEp").f.key)}).map(s).catch((e=>(Object(n("be7s").a)("issue.issue-base.content.subtasks.type.subtasks-types-epic","Failed to fetch subtask types.",e,new(n("8r8e").a)({eventNameSuffix:"issue.error",type:"fetch",app:"issue",event:e})),a.Observable.of({subtaskTypes:[],issueTypes:[]})))))(Object(n("XtNG").i)(e,t),i)},
"v5q+":function(e,t,n){"use strict";var a=n("56YH"),s=n.n(a);t.a=(e=[],t)=>a=>s()(...e,Object(n("YNh8").a)({FallbackComponent:t}))(a)},vFHr:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var a=n("3tO9"),s=n.n(a);const i={isDownloading:!1,isFetching:!1,error:null,totalCount:void 0,deletableCount:void 0,visibleAttachments:[]
},o=()=>"\n  query attachmentsQuery($issueKey: String, $startAt: Long, $maxResults: Long, $orderField: AttachmentsOrderField, $orderDirection: OrderDirection) {\n    viewIssue(issueKey: $issueKey) {\n        attachments(startAt: $startAt, maxResults: $maxResults, orderField: $orderField, orderDirection: $orderDirection) {\n            nodes {\n                id\n                filename\n                mimetype\n                mediaApiFileId\n                createdDate\n                filesize\n                parentName\n                parentId\n                author {\n                    accountId\n                }\n                isParentCommentJsdInternal\n            }\n            totalCount\n            deletableCount\n        }\n    }\n  }",r={startAt:0,maxResults:6,orderField:n("RTuT").d,orderDirection:n("RTuT").c},l=async(e,t,a)=>{var i,l;const c=s()(s()({},r),a),d=await Object(n("/rpS").d)(`${t}/rest/gira/1/`,{body:JSON.stringify({query:o(),variables:s()({
issueKey:e},c)})}),u=null==d||null===(i=d.data)||void 0===i||null===(l=i.viewIssue)||void 0===l?void 0:l.attachments;return u&&u.nodes&&void 0!==u.totalCount?d.data.viewIssue.attachments:null},c=async(e,t)=>Object(n("/rpS").a)(`${e}/rest/api/2/attachment/${t}`)},vPcr:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return l}));var a=n("vOnD");const s=a.default.div.withConfig({componentId:"qwux5g-0"})`display:flex;align-items:center;flex-wrap:nowrap;justify-content:${e=>e.leftAlign?"normal":"space-between"};${({isFieldDescriptionEnabled:e})=>e?n("gEry").i:""}`,i=a.default.div.withConfig({componentId:"qwux5g-1"})`display:flex;justify-content:flex-start;align-items:center;max-width:100%;${({isFieldDescriptionEnabled:e})=>e?n("gEry").i:""}`,o=a.default.h2.withConfig({componentId:"qwux5g-2"
})`${n("5kDX").d.h400()};line-height:${3*n("ZpU/").e}px;color:${n("5kDX").a.heading};overflow-wrap:break-word;min-width:0;`,r=a.default.div.withConfig({componentId:"qwux5g-3"})`display:flex;align-items:center;${e=>e.leftAlign?`margin-left: ${n("ZpU/").e}px`:""};`,l=a.default.div.withConfig({componentId:"qwux5g-4"})`${n("5kDX").d.h100()};margin-left:${n("ZpU/").e}px;margin-top:0;flex-shrink:0;`},vUhQ:function(e,t,n){"use strict";t.a=({startAt:e,orderBy:t,worklogAmount:a})=>{const s=null!=t?`, orderBy: "${t}"`:"",i=Object(n("jnBt").a)("WORKLOG");if(null==i)return""
;return`\n        worklogs (startAt: ${e}${s}${`, worklogId: ${i}`}${null!=a?`, worklogAmount: ${a}`:""}) {\n            nodes {\n                id\n                author {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                updateAuthor {\n                    accountId\n                    displayName\n                    avatarUrl\n                }\n                created\n                started\n                updated\n                comment\n                timeSpent\n                timeSpentSeconds\n            }\n            totalCount\n            startIndex\n        }\n    `}},vWB2:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("q1tI"),s=n.n(a),i=n("vOnD");const o=i.default.div.withConfig({componentId:"xkgbo7-0"})`display:flex;align-items:center;`,r=i.default.div.withConfig({componentId:"xkgbo7-1"
})`flex-direction:column;display:flex;width:100%;`,l=i.default.div.withConfig({componentId:"xkgbo7-2"})`margin-right:${n("ZpU/").e}px;display:flex;`,c=i.default.div.withConfig({componentId:"xkgbo7-3"})``,d=i.default.div.withConfig({componentId:"xkgbo7-4"})`font-size:${n("7w+A").g}px;color:${`var(--ds-text-lowEmphasis, ${n("5kDX").a.N300})`};`,u=e=>{const{option:{label:t,iconUrl:a,description:i},optionContext:u}=e;return s.a.createElement(o,null,Boolean(a)&&s.a.createElement(l,null,s.a.createElement(n("1JKq").a,{appearance:"square",size:"xsmall",src:a,borderColor:"transparent"})),s.a.createElement(r,null,s.a.createElement(c,null,t),"menu"===u&&Boolean(i)&&s.a.createElement(d,null,i)))};u.displayName="SelectOptionWithAvatarAndDescription";const p=(e,{context:t})=>s.a.createElement(u,{option:e,optionContext:t});p.displayName="formatOptionLabel"},vmHj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=Object(n("dq9g").a)(n("g3iI").b,{selector:e=>e.isRollingUp})},
vya7:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("vN+2"),o=n.n(i);const r=()=>Object(n("D3TY").a)("issue.details.inline-edit-bump",!1),l=()=>Object(n("D3TY").a)("issue.details.agg-child-issue-panel-pagination",!1);var c=n("vOnD");const d=c.default.div.withConfig({componentId:"m20dat-0"})`display:flex;align-items:center;`,u=Object(c.default)(d).withConfig({componentId:"m20dat-1"})`padding-left:${n("ZpU/").e}px;`,p=Object(a.memo)((({issueKey:e})=>s.a.createElement(u,{role:"button",onClick:n("aKE2").b,onFocus:n("aKE2").c},s.a.createElement(n("iYyS").default,{issueKey:e})))),m=c.default.div.withConfig({componentId:"opcd8l-0"})`width:${3.5*n("ZpU/").e}px;height:${3.5*n("ZpU/").e}px;padding:0;box-sizing:border-box;cursor:default;`,b=Object(a.memo)((({assigneeUrl:e,assigneeDisplayName:t,hideTooltipOnMouseDown:a})=>s.a.createElement(u,null,s.a.createElement(m,null,s.a.createElement(n("Yto1").a,{content:t||"",hideTooltipOnMouseDown:a,position:"bottom"
},s.a.createElement(n("1JKq").a,{name:t||"",src:e||"",size:"small"})))))),g=e=>{Object(n("aKE2").b)(e),Object(n("aKE2").c)(e)},f=Object(a.memo)((({errorInlineMessage:e})=>s.a.createElement(u,{onClick:n("aKE2").c,onMouseDown:g},e)));var h=n("6xe2");const E=c.default.div.withConfig({componentId:"sc-172pupp-0"})`& > div > div{margin-left:0;}`,y=Object(h.h)((()=>n.e("async-issue-field-number").then(n.bind(null,"5Iel"))),{moduleId:"./src/packages/issue/fields/number/src/index.js"}),O=Object(a.memo)((({issueKey:e,estimateFieldId:t})=>{const[{value:a}]=Object(n("aAYo").a)({issueKey:e,fieldKey:t}),i=s.a.createElement(n("Wsbr").a,{isEditable:!0,value:a});return s.a.createElement(E,{role:"button",onClick:n("aKE2").b,onFocus:n("aKE2").c},s.a.createElement(n("Ek2V").a,{packageName:"issue",fallback:i},s.a.createElement(y,{issueKey:e,fieldKey:t,fieldFocusStyle:Object(n("MrUx").a)()?n("7J+s").b:void 0,fieldEditStyle:Object(n("MrUx").a)()?n("7J+s").a:void 0})))}));var v=n("hJd6")
;const j=c.default.a.withConfig({componentId:"sc-1w02eb5-0"})`outline:none;margin-left:${n("ZpU/").e}px;color:${`var(--ds-text-link-resting, ${n("5kDX").a.B400})`};font-weight:500;font-size:12px;text-decoration:${e=>e.isDone?"line-through":"none"};white-space:nowrap;`,{DONE:I}=n("0gK+").a,C=Object(a.memo)((({issueKey:e,issueLink:t,remoteServerHostname:i,statusCategory:o,hideTooltipOnMouseDown:r})=>{const{push:l}=Object(v.r)(),c=void 0===i?null:i,d=Object(a.useCallback)((e=>{e.preventDefault(),null!=t&&Object(n("aKE2").a)(e)?l(t):window.open(t,"_blank")}),[t,l]);return s.a.createElement(n("Yto1").a,{content:c,hideTooltipOnMouseDown:r,position:"bottom"},s.a.createElement(j,{"data-test-id":"issue.issue-view.views.common.issue-line-card.issue-line-card-view.key",href:t,isDone:o===I,onClick:d},e))}));var S=n("JRPe"),k=Object(S.defineMessages)({issueTypeTitle:{id:"issue-line-card.issue-type.issue-type-title",defaultMessage:"Issue type: {issueTypeName}"}})
;const w=Object(c.default)(d).withConfig({componentId:"epk7j3-0"})`cursor:grab;`,T=Object(c.default)(d).withConfig({componentId:"epk7j3-1"})`cursor:not-allowed;&:hover{opacity:0.5;}`,D=c.default.div.withConfig({componentId:"epk7j3-2"})``,R=Object(a.memo)((({issueTypeName:e,issueTypeIconUrl:t,isDraggable:a,isActionVisible:i,restrictedReorderingMessage:o,onHandleUserClickAnalytics:r})=>{const l=Object(n("NRyt").d)().formatMessage(k.issueTypeTitle,{issueTypeName:e}),c=""!==o,u=!a&&c?T:w,p=e||"";return s.a.createElement(n("Yto1").a,{content:!a&&c?String(o):p,hideTooltipOnMouseDown:a,position:"bottom"},s.a.createElement(D,{onClick:()=>null==r?void 0:r("typeIcon")},(a||c)&&i?s.a.createElement(u,null,s.a.createElement(n.n(n("9/Ij")).a,{label:l,size:"small"})):s.a.createElement(d,null,s.a.createElement(n("Opng").a,{alt:l,url:t}))))})),L=Object(a.memo)((()=>s.a.createElement(u,null,s.a.createElement(n("6UK4").a,{size:"small"}))));var M=Object(S.defineMessages)({issuePriorityTitle:{
id:"issue-line-card.priority.issue-priority-title",defaultMessage:"Priority: {issuePriorityName}"}});const A=Object(a.memo)((({issuePriorityUrl:e,issuePriorityName:t,hideTooltipOnMouseDown:a})=>{const i=Object(n("NRyt").d)().formatMessage(M.issuePriorityTitle,{issuePriorityName:t});return s.a.createElement(n("Yto1").a,{content:t||"",hideTooltipOnMouseDown:a,position:"bottom"},s.a.createElement(d,null,s.a.createElement(n("Opng").a,{alt:i,url:e,width:20,height:20})))})),_=c.default.div.withConfig({componentId:"sc-5n3vuw-0"})`margin-left:${1.25*n("ZpU/").e}px;flex:1;overflow:hidden;`,N=({value:e,isInlineEditEnabled:t})=>s.a.createElement(_,{"data-test-id":"issue.issue-view.views.common.issue-line-card.issue-line-card-view.summary"},s.a.createElement(n("C6cy").a,{isEditable:!1,value:null!=e?e:null,isInlineEditEnabled:t}));N.displayName="SummaryReadOnly";var x=Object(S.defineMessages)({remoteLinkDeleteLinkTooltip:{id:"issue-line-card.remove-button.remote-link-delete-link-tooltip",
defaultMessage:"Unlink remote issue"},issueLinkDeleteLinkTooltip:{id:"issue-line-card.remove-button.issue-link-delete-link-tooltip",defaultMessage:"Unlink issue"}});const U=Object(c.default)(d).withConfig({componentId:"sc-1ol2n7p-0"})`width:${4*n("ZpU/").e}px;height:100%;margin-left:${n("ZpU/").e/4}px;margin-right:-${n("ZpU/").e}px;`,F=Object(a.memo)((({issueKey:e,globalId:t,isRemote:i,shouldShowRemoveAction:o,onDelete:r})=>{const l=Object(n("NRyt").d)(),c=Object(a.useCallback)((n=>{n.stopPropagation(),null!=e&&r(e,t)}),[t,e,r]),d=o?l.formatMessage(i?x.remoteLinkDeleteLinkTooltip:x.issueLinkDeleteLinkTooltip):null;return s.a.createElement(n("Yto1").a,{content:d,position:"bottom"},s.a.createElement(U,null,o&&s.a.createElement(n("340+").a,{iconBefore:s.a.createElement(n.n(n("8m3F")).a,{label:""}),onClick:c,tabIndex:-1,appearance:"subtle",spacing:"none"})))}));var P=Object(S.defineMessages)({remoteIssueUneditableStatusTooltip:{
id:"issue-line-card.status.remote-issue-uneditable-status-tooltip",defaultMessage:"Remote issue can't be transitioned here. Select to view the issue, then change the status."}});const V=Object(a.memo)((({issueKey:e,statusName:t,statusId:a,statusCategoryId:i,isRemote:o,isInteractive:r,hideTooltipOnMouseDown:l,projectType:c,onEditStatus:d})=>{const p=Object(n("NRyt").d)(),m=!0===o&&!0!==r?p.formatMessage(P.remoteIssueUneditableStatusTooltip):null;return s.a.createElement(u,{onClick:n("aKE2").b,onFocus:n("aKE2").c},s.a.createElement(n("Yto1").a,{content:m,hideTooltipOnMouseDown:l,position:"bottom"},s.a.createElement(n("HlQC").a,{sourceName:"childIssuesPanel"},s.a.createElement(n("0krZ").a,{isEditable:r,appearance:"lozenge",issueKey:e,projectType:c,initialValue:{id:a,name:t,statusCategory:{id:i}},onSuccess:d}))))})),K=Object(c.default)(d).withConfig({componentId:"scrk7g-0"})`width:100%;height:100%;position:relative;`,$=Object(c.default)(d).withConfig({componentId:"scrk7g-1"
})`padding-right:${n("ZpU/").e/2}px;`,W=Object(c.default)(K).withConfig({componentId:"scrk7g-2"})`flex-direction:column;align-items:flex-start;`,B=c.default.div.withConfig({componentId:"sc-16gohof-0"})`flex:1;margin-left:${1.25*n("ZpU/").e}px;min-width:0;`,q=Object(a.memo)((({issueKey:e,onClick:t})=>s.a.createElement(B,{onClick:r()?e=>{e.stopPropagation()}:o.a,"data-test-id":"issue.issue-view.views.common.issue-line-card.issue-line-card-view.summary"},s.a.createElement(n("yMqG").a,{issueKey:e,onClick:t,appearance:n("rDg7").b
})))),{statusCategoryForId:H}=n("0gK+").a,G="issue-line-card.card-container",Y=Object(a.memo)((({additionalItems:e,assigneeDisplayName:t,assigneeUrl:i,canRemove:r=!0,errorInlineMessage:c,estimateFieldId:d,globalId:u,hasError:m=!1,isActive:g=!1,isDraggable:h=!1,isFocused:E=!1,isHovering:y=!1,isInlineEditEnabled:v=!1,isInteractive:j=!0,isLoading:I=!1,isRemote:S=!1,issueKey:k,issueLink:w,issuePriorityName:T,issuePriorityUrl:D,issueSummary:M,issueTypeIconUrl:_,issueTypeName:x,onDelete:U=o.a,onEdit:P=o.a,onClick:B=o.a,onHandleUserClickAnalytics:Y,projectType:Z,remoteServerHostname:X,restrictedReorderingMessage:J="",statusCategory:z,statusCategoryId:Q,statusId:ee,statusName:te,subtitle:ne})=>{const[ae]=Object(n("1oZq").a)({issueKey:k,fieldKey:"assignee"}),[se]=Object(n("1oZq").a)({issueKey:k,fieldKey:"summary"}),ie=Object(a.useRef)(null),[oe,re]=Object(a.useState)(!1),le=!g&&(y||E),ce=r&&(g||y||E),de=Object(a.useCallback)((e=>P({statusId:e.id,statusName:e.name,
statusCategory:H(e.statusCategory.id),statusCategoryId:e.statusCategory.id})),[P]),ue=Object(a.useCallback)((()=>{ie.current&&clearTimeout(ie.current),ie.current=setTimeout((()=>{re(!0)}),200)}),[re]),pe=Object(a.useCallback)((()=>{ie.current&&(clearTimeout(ie.current),ie.current=null,re(!1))}),[re]),me=Object(a.useCallback)((()=>{re(!0)}),[re]),be=s.a.createElement(K,{isFocused:E,isHovering:y,onMouseEnter:ue,onMouseLeave:pe,onFocus:me,"data-testId":l()?G:""},s.a.createElement(R,{issueTypeName:x,issueTypeIconUrl:_,isDraggable:h,isActionVisible:le,restrictedReorderingMessage:J,onHandleUserClickAnalytics:Y}),s.a.createElement(C,{issueKey:k,issueLink:w,hideTooltipOnMouseDown:h,isActive:g,remoteServerHostname:X,statusCategory:z}),v&&(se||oe)?s.a.createElement(q,{issueKey:k,onClick:B}):s.a.createElement(N,{value:M,isInlineEditEnabled:v}),null==e?void 0:e.map(((e,t)=>s.a.createElement($,{key:t},e))),null!=D&&s.a.createElement(A,{issuePriorityUrl:D,issuePriorityName:T,hideTooltipOnMouseDown:h
}),void 0!==d&&s.a.createElement(O,{issueKey:k,estimateFieldId:d}),v&&(ae||oe)?s.a.createElement(p,{issueKey:k}):s.a.createElement(b,{assigneeDisplayName:t,assigneeUrl:i,hideTooltipOnMouseDown:h}),void 0!==z&&void 0!==te&&void 0!==ee&&void 0!==Q&&s.a.createElement(V,{hideTooltipOnMouseDown:h,isInteractive:j,isRemote:S,issueKey:k,projectType:Z,statusCategoryId:Q,statusId:ee,statusName:te,onEditStatus:de}),I&&s.a.createElement(L,null),(m||c)&&s.a.createElement(f,{errorInlineMessage:c}),U!==o.a&&!I&&!m&&s.a.createElement(F,{issueKey:k,isRemote:S,shouldShowRemoveAction:ce,globalId:u,onDelete:U}));return(()=>Object(n("D3TY").a)("add-subtitle-option-to-issue-line-cards_elnj3",!1))()&&null!=ne?s.a.createElement(W,null,be,ne):be}));t.a=Y},wUly:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("vOnD");const s=n("ZpU/").e,i=n("ZpU/").f.card-1,o=a.default.div.withConfig({componentId:"p21ks7-0"
})`@supports (position:sticky) or (position:-webkit-sticky){position:sticky;background:white;z-index:${i};padding-left:${s}px;margin-left:-${s}px;padding-top:${1}px;top:${e=>e.topOffset+-1}px;${e=>e.showKeyline?`box-shadow: 0 2px ${n("5kDX").a.N30}`:""};${e=>e.customStyles||""};}`},xlxo:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));const a=e=>({type:"SHARE_AS_COMMENT",payload:{value:e}}),s=()=>({type:"CLEAR_SHARED_AS_COMMENT_VALUES"})},xwVU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=(e,t,n)=>async a=>({clientId:t,token:await e(a?a.collectionName:void 0),baseUrl:n}),s=e=>()=>Promise.resolve(e)},yD67:function(e,t,n){"use strict"
;t.a=()=>"attachments(orderDirection: DESC, orderField: CREATED, maxResults: 6) {\n            nodes {\n              id\n              filename\n              mimetype\n              mediaApiFileId\n              createdDate\n              filesize\n              parentName\n              author {\n                  accountId\n              }\n              parentId\n              isParentCommentJsdInternal\n            }\n            totalCount\n            deletableCount\n          }\n    "},yKKQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return i}));const a=()=>({type:"FETCH_JIRA_APP_LINKS_REQUEST"}),s=e=>({type:"FETCH_JIRA_APP_LINKS_SUCCESS",payload:e}),i=()=>({type:"FETCH_JIRA_APP_LINKS_FAILED"})},yMqG:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("3tO9"),o=n.n(i);const r={action:"confirmed",actionSubject:"inlineEdit",attributes:{componentName:"inlineEdit"}},l=o()(o()({},r),{},{
action:"cancelled"}),c=()=>Object(n("D3TY").a)("issue.details.inline-edit-bump",!1);var d=n("vOnD");const u=d.default.div.withConfig({componentId:"sc-1r9nmzv-0"})`display:flex;flex:1 0 auto;justify-content:space-between;overflow:hidden;align-items:center;margin-left:${1.25*n("ZpU/").e}px;border-color:${e=>e.isInvalid?n("5kDX").a.R400:null};border-style:${e=>e.isInvalid?"solid":"none"};border-radius:${e=>e.isInvalid?"3px":null};border-width:${e=>e.isInvalid?"2px":null};`,p=Object(a.memo)((({defaultValue:e,passedRef:t,onChange:i,isInvalid:o,invalidMessage:r})=>{const l=Object(a.useCallback)((e=>{i(e.target.value)}),[i]),[d,p]=Object(a.useState)(!1),m=Object(a.useCallback)((()=>{p(!0)}),[]),b=Object(a.useCallback)((()=>{p(!1)}),[]),g=!!c()&&Object(a.useContext)(n("QUN3").b),f=o?s.a.createElement(n.n(n("DWq1")).a,{size:"medium",primaryColor:"#FFAB00",label:""}):null;return s.a.createElement(s.a.Fragment,null,s.a.createElement(n("faw9").a,{content:r,isOpen:d&&!!r,
placement:c()&&!0===g?"auto-start":"right"},s.a.createElement(u,{isInvalid:o},s.a.createElement(n("I4Rc").a,{type:"text",value:null===e?"":e,onChange:l,label:"",ref:t,appearance:o?"none":"subtle",onBlur:b,onFocus:m,isCompact:!0,autoFocus:!0}),f)))})),m=d.css`@media screen and (-webkit-min-device-pixel-ratio:0){word-break:break-word;}@media screen and (-webkit-transition){word-break:break-word;}@-moz-document url-prefix(){overflow-wrap:anywhere;}`,b=d.default.h1.withConfig({componentId:"sc-1rgscgt-0"})`${n("5kDX").d.h700()};width:100%;margin:0;padding:0;color:${n("5kDX").a.heading};${m};`,g=d.default.h1.withConfig({componentId:"sc-1rgscgt-1"})`font-size:1em;> textarea{${n("5kDX").d.h700()};margin:0;color:${n("5kDX").a.heading};${m};line-height:28px !important;overflow-x:hidden;}width:100%;`,f=d.default.div.withConfig({componentId:"sc-1o7n9ab-0"
})`display:flex;align-items:center;line-height:1;max-width:100%;word-break:break-word;position:relative;span{position:absolute;right:8px;}`,h=Object(a.memo)((({defaultValue:e,passedRef:t,onChange:i,isInvalid:o,invalidMessage:r})=>{const[l,d]=Object(a.useState)(o),u=!!c()&&Object(a.useContext)(n("QUN3").b);Object(a.useEffect)((()=>{d(o)}),[o]);const p=Object(a.useCallback)((e=>{i(e.target.value)}),[i]),m=Object(a.useCallback)((()=>{!0===o&&d(!0)}),[o]),b=Object(a.useCallback)((()=>{d(!1)}),[]);return s.a.createElement(n("faw9").a,{content:r,isOpen:!0===o&&l,placement:c()&&!0===u?"auto-start":"right"},s.a.createElement(f,null,s.a.createElement(g,{ref:t,"data-test-id":"issue.views.issue-base.foundation.summary.heading.writeable"},s.a.createElement(n("TnKB").a,{autoFocus:!0,isInvalid:o,value:e||"",onChange:p,onFocus:m,onBlur:b,rows:1})),!0===o&&s.a.createElement(n.n(n("DWq1")).a,{size:"medium",primaryColor:"#FFAB00",label:""})))
})),E=Object(a.memo)((({defaultValue:e,passedRef:t,onChange:a})=>s.a.createElement(b,{innerRef:t,"data-test-id":"issue.views.issue-base.foundation.summary.heading.writeable"},s.a.createElement(n("gtDP").a,{shouldAutoFocus:!0,value:e,onChange:a})))),y=Object(n("5WHm").a)(c,h,E);var O=n("JRPe"),v=Object(O.defineMessages)({errorEmpty:{id:"issue-field-summary.error-empty",defaultMessage:"You must specify a summary of the issue."},errorTitle:{id:"issue-field-summary.error-title",defaultMessage:"We couldn't save the issue summary."},errorMessage:{id:"issue-field-summary.error-message",defaultMessage:"Check your connection, then give it another try."},editButtonLabel:{id:"issue-field-summary.edit-button-label",defaultMessage:"Edit summary"},extendedEditButtonLabel:{id:"issue-field-summary.extended-edit-button-label",defaultMessage:"{inputFieldValue}- edit summary"}});d.default.div.withConfig({componentId:"h4ph0t-0"})`& > div:first-child{margin-left:0;}`;const j=d.default.div.withConfig({
componentId:"h4ph0t-1"})`display:flex;line-height:1;max-width:100%;word-break:break-word;padding-top:6px;padding-bottom:6px;position:relative;left:6px;`,I=d.default.div.withConfig({componentId:"h4ph0t-2"})`width:100%;margin-left:-8px;margin-top:-8px;> div{width:100%;}`,C=Object(d.default)(n("iAtd").a).withConfig({componentId:"h4ph0t-3"})`width:100%;`,S=({value:e})=>{const t=null===e?"":e.toString();return s.a.createElement(b,{"data-test-id":"issue.views.issue-base.foundation.summary.heading"},t)};S.displayName="SummaryView";t.a=Object(a.memo)((e=>{var t
;const{onCancel:i,onEdit:o,onEscape:d,onConfirm:u,onEnter:m,onUpdate:b,onClick:g,readView:f,editView:h,issueKey:E,source:O,onFailure:k,onRenderSuccess:w,onEditFailure:T,appearance:D="INLINE"}=e,R=O===n("wpii").a.MOBILE_ISSUE,[L,M]=Object(a.useState)(!1),[A,_]=Object(a.useState)(!1),{formatMessage:N}=Object(n("NRyt").d)(),x=A?N(v.errorEmpty):void 0,U=Object(a.useRef)(),F=Object(a.useRef)(),{createAnalyticsEvent:P}=Object(n("rZ/p").a)(),[{value:V,error:K,fieldConfig:{value:$,loading:W}},{saveValue:B,resetError:q}]=Object(n("J3sU").a)({issueKey:Object(n("Rp3N").n)(E),onSuccess:e=>{b&&b(e)},onFailure:e=>{e instanceof n("HQr3").a||e instanceof TypeError||Object(n("HQr3").c)(e)||(k&&k(e,F.current),L&&T&&T("summary",e.message))}}),H=null!==(t=null==$?void 0:$.title)&&void 0!==t?t:"",[G,Y]=Object(a.useState)(V),Z=!!$&&$.isEditable;Object(a.useEffect)((()=>{w&&w()}),[]),Object(a.useEffect)((()=>{F.current=V,K&&M(!0),L||Y(V)}),[K,L,V]);const X=Object(a.useCallback)((e=>{G!==V?(B(G,null,e),
M(!1)):M(!1),Object(n("yy8q").h)(e)}),[B,G,V]),J=Object(a.useCallback)((e=>{q(),M(!1),Y(V),Object(n("yy8q").h)(e)}),[q,V]),z=Object(a.useCallback)((e=>{document&&document.activeElement&&document.activeElement.blur(),_(!1),J(e),i&&i(e)}),[i,J]),Q=Object(a.useCallback)((e=>{null!==G&&""!==G?(document&&document.activeElement&&document.activeElement.blur(),X(e),u&&u(e,G)):A||_(!0)}),[A,u,X,G]),ee=Object(a.useCallback)((e=>{M(!0),Object(n("yy8q").h)(e),o&&o(e)}),[o]),te=Object(a.useCallback)((e=>{q();const t=""===e?null:e.toString();null!==t&&_(!1),Y(t)}),[q,Y]),ne=Object(a.useCallback)((e=>{J(e),d&&d(e)}),[d,J]),ae=Object(a.useCallback)((e=>{X(e),m&&m(e)}),[m,X]),se=Object(a.useCallback)((()=>{const e=P(r);Q(e)}),[P,Q]),ie=Object(a.useCallback)((e=>{e.preventDefault(),e.stopPropagation();const t=P(l);z(t)}),[P,z]),oe=Object(a.useCallback)((()=>{if(!Z)return null;const e="INLINE"===D?s.a.createElement(p,{passedRef:U,defaultValue:G,onChange:te,isInvalid:A,invalidMessage:x
}):s.a.createElement(y,{passedRef:U,defaultValue:G,onChange:te,isInvalid:A,invalidMessage:x});return void 0!==h&&"function"==typeof h?Object(a.createElement)(h,{passedRef:U,defaultValue:G,onChange:te}):s.a.createElement(C,{onEnter:se,onEscape:ie},e)}),[Z,D,G,te,A,x,se,ie,h]),re=()=>{const e="INLINE"===D?null:s.a.createElement(S,{value:V});return void 0!==f&&"function"==typeof f?Object(a.createElement)(f,{value:V}):e};if(U.current&&L&&A){const e=U.current,t=e instanceof HTMLElement?e.querySelector("textarea"):void 0,n="INLINE"===D?e:t,a=document?document.activeElement:null;n&&n!==a&&n.focus()}const le=()=>null!==V?N(v.extendedEditButtonLabel,{inputFieldValue:V}):N(v.editButtonLabel),ce=s.a.createElement(s.a.Fragment,null,K&&s.a.createElement(n("gx/I").a,{error:K,title:v.errorTitle,description:v.errorMessage}),c()?s.a.createElement(I,null,s.a.createElement(n("JZTM").a,{defaultValue:G,readView:()=>s.a.createElement(j,null,re()),editView:oe,onCancel:z,onConfirm:Q,onEnter:ae,onEscape:ne,
onEdit:ee,readViewFitContainerWidth:!R,isEditing:L,isEditable:Z,editButtonLabel:le(),confirmButtonLabel:N(n("n2YX").a.confirmButtonLabel,{fieldName:H}),cancelButtonLabel:N(n("n2YX").a.cancelButtonLabel,{fieldName:H})})):s.a.createElement(n("eJ3Z").a,{label:H,isLabelHidden:!0,defaultValue:G,readView:re(),editView:oe(),onCancel:z,onConfirm:Q,onEditRequested:ee,onEnter:ae,onEscape:ne,isFitContainerWidthReadView:!R,isEditable:Z,isEditing:L,invalidMessage:x,isInvalid:A,editButtonLabel:le(),confirmButtonLabel:N(n("n2YX").a.confirmButtonLabel,{fieldName:H}),cancelButtonLabel:N(n("n2YX").a.cancelButtonLabel,{fieldName:H}),disableEditViewFieldBase:"INLINE"===D}));return"HEADER"===D||L?ce:s.a.createElement(n("C6cy").a,{value:G,setIsEditing:M,isEditable:Z,isConfigLoading:W,onClick:g})}))},ySy9:function(e,t,n){"use strict";var a=n("q1tI"),s=n.n(a),i=n("seZ4"),o=n.n(i),r=n("vOnD");const l=r.default.span.withConfig({componentId:"x994fw-0"
})`display:flex;align-items:center;${e=>e.hasVoted&&!e.isSelected?`color: ${n("5kDX").a.B500};`:""}`,c=r.default.span.withConfig({componentId:"x994fw-1"})`display:flex;`,d=r.default.span.withConfig({componentId:"x994fw-2"})`min-width:${e=>e.hasVoters?"15px":"0"};`,u=({isSelected:e=!1})=>{const t=Object(n("ovRs").h)(),[{hasVoted:a,votes:i}]=Object(n("j3bG").b)({issueKey:t,fieldKey:"votes"});return s.a.createElement(l,{hasVoted:a,isSelected:e},s.a.createElement(c,null,a?s.a.createElement(n("PE+Q").a,{label:"",size:"medium"}):s.a.createElement(n.n(n("ZtFK")).a,{label:"",size:"medium"})),s.a.createElement(d,{hasVoters:0!==i},s.a.createElement(o.a,null,0!==i?i:"")))};u.displayName="VoteIcon";var p=u;const m=Object(r.default)(n("Xuhx").a).withConfig({componentId:"sc-1jxbal8-0"})`&&{padding:0 4px;align-items:center;}`,b=({onClick:e,tooltip:t=null,isSelected:a=!1,isDisabled:i=!1})=>s.a.createElement(n("Yto1").a,{content:t,position:"top"},s.a.createElement(m,{onClick:e,isSelected:a,
appearance:"subtle",spacing:"default","aria-label":t,"aria-expanded":a,isDisabled:i},s.a.createElement(p,{isSelected:a})));b.displayName="VoteButton";t.a=b},zLCk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l}));var a=n("3tO9"),s=n.n(a);const i=[n("lLEp").g,n("lLEp").a,n("lLEp").e,n("lLEp").d,n("lLEp").i,n("lLEp").f,n("lLEp").c,n("lLEp").b,n("lLEp").h];let o;const r=()=>{i.forEach((e=>{const t=`BEGIN_${e.prefix}_${e.key}`,a=`END_${e.prefix}_${e.key}`;n("SHpS").d.clearMarks&&(n("SHpS").d.clearMarks(t),n("SHpS").d.clearMarks(a))})),o=null,window.ISSUE_DATA_AVAILABLE=null},l=()=>(o||(o=(()=>i.reduce(((e,t)=>{const a=`BEGIN_${t.prefix}_${t.key}`,i=`END_${t.prefix}_${t.key}`,o=Object(n("SHpS").g)(a,i);if(null!=o&&o>0){const r=s()(s()({},e),{},{[`${t.key}_NETWORK`]:o});return n("SHpS").d.clearMarks&&(n("SHpS").d.clearMarks(a),n("SHpS").d.clearMarks(i)),r}return e}),{}))()),o)},zXlL:function(e,t,n){
e.exports=n.p+"assets/unknown-error.0ae7398ce07e7e3c1125e09977c8fd48.8.svg"},zhmH:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r}));const a=()=>({type:"OPEN_DELETE_ISSUE_MODAL"}),s=()=>({type:"CLOSE_DELETE_ISSUE_MODAL"}),i=(e,t)=>({type:"DELETE_ISSUE_REQUEST",payload:{issueKey:e,analyticsEvent:t}}),o=e=>({type:"DELETE_ISSUE_SUCCESS",payload:e}),r=(e,t)=>({type:"DELETE_ISSUE_FAILURE",payload:{issueKey:e,error:t}})},zlLD:function(e,t,n){"use strict";t.a=Object(n("Wwog").a)((e=>t=>Object(n("d90y").isProfileCardProviderRendererEnabled)()?void 0:`${e}/people/${t}`))},zyW1:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const a=(e,t,a,s)=>((e,t,a)=>Object(n("IMeA").a)((e=>`${e}/rest/greenhopper/1.0/xboard/issue/flag/flag.json`)(e),{method:"POST",body:JSON.stringify({flag:a,issueKeys:[t],commentVisibility:"",comment:""})
}).toPromise().then((()=>{})))(s,e,Object(n("LL0x").a)(a)),s=({issueKey:e,fieldKey:t,onSuccess:s,onFailure:i})=>{const[o]=Object(n("MoW5").a)(e,t),[{value:r,error:l},{saveValue:c,resetError:d}]=Object(n("35XP").a)({fieldKey:t,issueKey:e,fieldType:"com.atlassian.jira.plugin.system.customfieldtypes:flagged",initialValue:null,saveField:a,onSuccess:s,onFailure:i});return[{value:r,error:l,fieldConfig:o},{saveValue:c,resetError:d}]}}}]);try{window.__jsEvalStop("async-issue-app~issue.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-issue-app~issue.c71e46768b026517bc9e.8.js.map