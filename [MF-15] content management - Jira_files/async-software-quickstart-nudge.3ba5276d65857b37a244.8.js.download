try{window.performance.mark("async-software-quickstart-nudge.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-software-quickstart-nudge"],{"3DRJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return de})),n.d(t,"h",(function(){return ce})),n.d(t,"p",(function(){return ue})),n.d(t,"k",(function(){return le})),n.d(t,"j",(function(){return pe})),n.d(t,"m",(function(){return be})),n.d(t,"q",(function(){return ge})),n.d(t,"s",(function(){return fe})),n.d(t,"e",(function(){return ke})),n.d(t,"v",(function(){return je})),n.d(t,"l",(function(){return ve})),n.d(t,"t",(function(){return Oe})),n.d(t,"n",(function(){return Fe})),n.d(t,"g",(function(){return We})),n.d(t,"f",(function(){return he})),n.d(t,"b",(function(){return Se})),n.d(t,"i",(function(){return Ue})),n.d(t,"c",(function(){return ye})),n.d(t,"o",(function(){return Ie})),n.d(t,"u",(function(){return we})),n.d(t,"r",(function(){return Te})),n.d(t,"d",(function(){return Ae}));var i={};n.r(i),
n.d(i,"changeTaskGroupParent",(function(){return s})),n.d(i,"goBackToPreviousTaskGroup",(function(){return d})),n.d(i,"setIsOpen",(function(){return c})),n.d(i,"refreshAppState",(function(){return b})),n.d(i,"setNudgeStep",(function(){return g})),n.d(i,"addMountedNudge",(function(){return m})),n.d(i,"removeMountedNudge",(function(){return f})),n.d(i,"setShouldRenderComponent",(function(){return k})),n.d(i,"setProjectState",(function(){return j})),n.d(i,"setHasNudgeActive",(function(){return v})),n.d(i,"forceHideNudge",(function(){return O})),n.d(i,"setHasEverSeenRoute",(function(){return F})),n.d(i,"setRoadmapIsCreateEnabled",(function(){return W})),n.d(i,"setRoadmapIsListEmpty",(function(){return h})),n.d(i,"openNextTask",(function(){return y})),n.d(i,"nextMarkAsCompletedTask",(function(){return I})),n.d(i,"nextSetChecklistItemSeen",(function(){return w})),n.d(i,"nextSetChecklistIsDismissed",(function(){return l})),n.d(i,"nextSetChecklistIsOpen",(function(){return u})),
n.d(i,"nextOpenTask",(function(){return U})),n.d(i,"nextAutoExpand",(function(){return T})),n.d(i,"nextShouldShowNudgeAfterNavigation",(function(){return A})),n.d(i,"nextGetTasks",(function(){return te})),n.d(i,"setBoardFeatures",(function(){return oe}));var a=n("3tO9"),o=n.n(a);const r=e=>({setState:t})=>{t(o()(o()({},e),{},{openTask:""})),Object(n("K9eC").a)({key:"jsw-onboarding-checklist.task-group",value:{taskGroup:e}})},s=e=>({getState:t,dispatch:n})=>{const{previousTaskGroupParents:i,currentTaskGroupParent:a}=t();if(i.includes(e))return;i.push(a);n(r({previousTaskGroupParents:i,currentTaskGroupParent:e}))},d=()=>({dispatch:e,getState:t})=>{const{previousTaskGroupParents:n}=t(),i=0===n.length?"root":n.pop();e(r({previousTaskGroupParents:n,currentTaskGroupParent:i}))};var c=e=>({getState:t,setState:i})=>{const{isOpen:a}=t();e!==a&&(i({isOpen:e}),Object(n("K9eC").a)({key:"jsw-onboarding-checklist.open",value:e}))};const u=e=>({getState:t,setState:i})=>{const{isOpen:a}=t()
;e!==a&&(i({isOpen:e,hasNudgeActive:!1}),Object(n("K9eC").a)({key:"jsw-onboarding-checklist.open",value:e}))},l=e=>({getState:t,setState:i,dispatch:a})=>{const{isDismissed:o}=t();e!==o&&(i({isDismissed:e}),!1===e&&Object(n("P5pE").q)()?a(u(!0)):a(u(!1)),Object(n("K9eC").a)({key:"jsw-onboarding-checklist.dismissed",value:e}))},p=[n("FcWU").g,n("FcWU").M,n("FcWU").I,n("FcWU").H,n("FcWU").w,n("FcWU").v,n("FcWU").J,n("FcWU").f,n("FcWU").x,n("FcWU").q,n("FcWU").r,n("FcWU").Q,n("FcWU").t,n("FcWU").y,n("FcWU").d,n("FcWU").L,n("FcWU").S,n("FcWU").b,n("FcWU").e,n("FcWU").c,n("FcWU").R,n("FcWU").T,n("FcWU").C,n("FcWU").E,n("FcWU").z,n("FcWU").B,n("FcWU").F,n("FcWU").A,n("FcWU").D,n("FcWU").o,n("FcWU").l,n("FcWU").n,n("FcWU").j,n("FcWU").h,n("FcWU").i,n("FcWU").m,n("FcWU").k,n("FcWU").P,n("FcWU").G,n("FcWU").U,n("FcWU").u,n("FcWU").s],b=()=>async({getState:e,setState:t,dispatch:i})=>{
const a={},o=p,r=[Object(n("FcWU").V)(n("FcWU").M),Object(n("FcWU").V)(n("FcWU").L),Object(n("FcWU").V)(n("FcWU").S)];a.isOpen=!0,a.isDismissed=!1;const s=await Object(n("MgJy").a)({keys:["jsw-onboarding-checklist.open","jsw-onboarding-checklist.dismissed","jsw-onboarding-checklist.open-task","jsw-onboarding-checklist.task-group","jsw-onboarding-checklist.has-ever-seen-route","jsw.onboarding",...o,...r]}),{projectState:d=null}=e();if(d&&d.projectKey&&(a.isDevOpsProject=await(async e=>{const t=(e=>`/rest/api/2/project/${e}/properties/isDevopsProject`)(e),n=await fetch(t);if(n.ok)return(await n.json()).value;return!1})(d.projectKey)),void 0!==s&&Object.keys(s).length>0&&(a.completedTaskList=Object.keys(s).filter((e=>o.includes(e)&&!0===s[e])),a.hasSeenTasks=r.filter((e=>!0===s[e])),"jsw-onboarding-checklist.dismissed"in s&&(a.isDismissed=s["jsw-onboarding-checklist.dismissed"]),"jsw-onboarding-checklist.open"in s&&(a.isOpen=s["jsw-onboarding-checklist.open"]),
"jsw-onboarding-checklist.open-task"in s&&(a.openTask=s["jsw-onboarding-checklist.open-task"]),"jsw-onboarding-checklist.has-ever-seen-route"in s&&(a.hasEverSeenRoute=s["jsw-onboarding-checklist.has-ever-seen-route"]),Object(n("P5pE").e)("jsw.onboarding.experiment.plan.onboarding")&&"jsw-onboarding-checklist.task-group"in s&&(a.currentTaskGroupParent=s["jsw-onboarding-checklist.task-group"].taskGroup.currentTaskGroupParent,a.previousTaskGroupParents=s["jsw-onboarding-checklist.task-group"].taskGroup.previousTaskGroupParents),"jsw.onboarding"in s&&"onboarding-selected-project-template-type"in s["jsw.onboarding"]&&(a.selectedProjectTemplateKeyFromOnboarding=s["jsw.onboarding"]["onboarding-selected-project-template-type"])),Object(n("P5pE").k)()&&(void 0===s||0===Object.keys(s).length))try{const e=await(()=>Object(n("/rpS").b)("/rest/onboarding/1.0/skip"))();null!=e&&e.quickstart&&(a.isDismissed=!0,a.isOpen=!1,i(l(!0)))}catch(c){Object(n("0Ro8").a)(c,"skipOnboarding")}
a.isQuickstartLoaded=!0,t(a)};var g=e=>({getState:t,setState:n})=>{const{nudgeStep:i}=t();e!==i&&n({nudgeStep:e})};const m=e=>({getState:t,setState:n})=>{const{mountedNudges:i}=t();i.includes(e)||n({mountedNudges:[...i,e]})},f=e=>({getState:t,setState:n})=>{const{mountedNudges:i}=t();i.includes(e)&&n({mountedNudges:i.filter((t=>t!==e))})};var k=e=>({getState:t,setState:n})=>{const{shouldRenderComponent:i}=t();e!==i&&n({shouldRenderComponent:e})},j=e=>({setState:t})=>{t({projectState:e})},v=(e,t="")=>({getState:n,setState:i})=>{const{hasNudgeActive:a,openTask:o}=n();e!==a&&(!1===e&&t!==o||i({hasNudgeActive:e}))};const O=()=>({setState:e})=>{e({hasNudgeActive:!1})};var F=e=>({getState:t,setState:i})=>{const{hasEverSeenRoute:a}=t();if(!Object.keys(e).some((t=>e[t]!==a[t])))return;const r=o()(o()({},a),e);i({hasEverSeenRoute:r}),Object(n("K9eC").a)({key:"jsw-onboarding-checklist.has-ever-seen-route",value:r})};const W=e=>({getState:t,setState:n})=>{const{roadmapIsCreateEnabled:i}=t()
;i!==e&&n({roadmapIsCreateEnabled:e})},h=e=>({getState:t,setState:n})=>{const{roadmapIsListEmpty:i}=t();i!==e&&n({roadmapIsListEmpty:e})},S=e=>({setState:t})=>{t({openTask:e}),Object(n("K9eC").a)({key:"jsw-onboarding-checklist.open-task",value:e})},U=e=>({dispatch:t,getState:i})=>{t(S(e));const{completedTaskList:a}=i(),o=a.includes(e),r=!(""===e||null===e||o);t(v(r,e)),r&&e===n("FcWU").P?t(g("backlogAccordionNudge")):r&&e===n("FcWU").G?t(g("boardBodyNudge")):r&&e===n("FcWU").H?t(g("roadmapCreateEpicButtonNudge")):t(g(""))},y=()=>({getState:e,dispatch:t})=>{const{openTask:i,tasks:a}=e();if(!a)return;const{items:o}=a,r=((e,t)=>{const i=Object(n("fS5g").d)(e,t),a=-1===i?0:i;return e[a]?e[a]:null})(o,i);null!==r&&t(U(r))},I=e=>({getState:t,setState:i})=>{const{completedTaskList:a}=t();a.includes(e)||(Object(n("K9eC").a)({key:e,value:!0}),i({completedTaskList:[...a,e]}))},w=e=>({getState:t,setState:i,dispatch:a})=>{const o=Object(n("FcWU").V)(e),{hasSeenTasks:r}=t();r.includes(o)||(i({
hasSeenTasks:[...r,o]}),Object(n("K9eC").a)({key:Object(n("FcWU").V)(e),value:!0}),a(U(e)))},T=()=>({getState:e,dispatch:t})=>{if(Object(n("MOrQ").a)().get({accountId:n("FcWU").a,key:"jsw-onboarding-checklist.has.navigated.from.link"}))return;const{openTask:i,completedTaskList:a,tasks:o,hasNudgeActive:r}=e();if(!o)return;const{items:s}=o;if(s.includes(i)&&(!a.includes(i)||Object(n("P5pE").o)()&&r))return;const d=((e,t,i)=>{const a=Object(n("fS5g").d)(e,i),o=-1===a?0:a,r=e.length;for(let n=o;n<o+r;n+=1){const i=n%r;if(!t.includes(e[i]))return e[i]}return null})(s,a,i);null!==d&&t((e=>({dispatch:t})=>{t(S(e)),t(v(!1,e)),t(g(""))})(d))},A=e=>({dispatch:t})=>{const i={accountId:n("FcWU").a,key:"jsw-onboarding-checklist.has.navigated.from.link"};Object(n("MOrQ").a)().get(i)===e&&(t(v(!0)),Object(n("MOrQ").a)().remove(i))};var R=n("JRPe");const P=Object(R.defineMessages)({rootTitle:{id:"software-onboarding-quickstart.services.tasks.config.jsw.root-title",defaultMessage:"Quickstart"},
premiumPlanTitle:{id:"software-onboarding-quickstart.services.tasks.config.jsw.premium-plan-title",defaultMessage:"Your Premium plan"},standardPlanTitle:{id:"software-onboarding-quickstart.services.tasks.config.jsw.standard-plan-title",defaultMessage:"Your Standard plan"}}),E={captureIntegrations:"experiment.captureIntegrations",personalisedOnboardingNTKWIteration2:"experiment.personalisedOnboardingNTKWIteration2",planOnboarding:"experiment.planOnboarding",scrumOnboarding:"experiment.scrumOnboarding",kanbanOnboarding:"experiment.kanbanOnboarding",newQrCodeMobileExperience:"experiment.newQrCodeMobileExperience",planningBasicsOnboarding:"experiment.planningBasicsOnboarding"},N={teamManaged:"projectStyle.teamManaged",companyManaged:"projectStyle.companyManaged"},M={siteAdmin:"userRole.siteAdmin",jiraAdmin:"userRole.jiraAdmin",admin:"userRole.admin",projectAdmin:"userRole.projectAdmin"},C={free:"productEdition.free",standard:"productEdition.standard",premium:"productEdition.premium"},x={
roadmap:"boardFeatures.roadmap",simpleRoadmap:"boardFeatures.simpleRoadmap",scrum:"boardFeatures.scrum",kanban:"boardFeatures.kanban"},D={softwareRoadmap:"route.softwareRoadmap",softwareBacklog:"route.softwareBacklog",softwareBoard:"route.softwareBoard"},B=[n("FcWU").g,n("FcWU").f,n("FcWU").x,n("FcWU").y,n("FcWU").q,n("FcWU").d,n("FcWU").r,n("FcWU").Q,n("FcWU").t,n("FcWU").M,n("FcWU").L,n("FcWU").S,n("FcWU").I,n("FcWU").H,n("FcWU").w,n("FcWU").v,n("FcWU").J,n("FcWU").P,n("FcWU").G,n("FcWU").U,n("FcWU").u,n("FcWU").s],L=Object.freeze({root:{title:P.rootTitle,items:B},[n("FcWU").L]:{title:P.premiumPlanTitle,items:[n("FcWU").b,n("FcWU").e,n("FcWU").c,n("FcWU").R,n("FcWU").T]},[n("FcWU").S]:{title:P.standardPlanTitle,items:[n("FcWU").c,n("FcWU").T,n("FcWU").R]}}),q={[n("FcWU").L]:{position:{default:100,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:450}]},visibility:{default:!1,conditional:[{condition:[E.planOnboarding,C.premium,M.admin],value:!0}]}},
[n("FcWU").S]:{position:{default:100,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:450}]},visibility:{default:!1,conditional:[{condition:[E.planOnboarding,C.standard,M.admin],value:!0}]}},[n("FcWU").b]:{position:{default:105},visibility:{default:!1,conditional:[{condition:[E.planOnboarding,C.premium,M.admin],value:!0}]}},[n("FcWU").c]:{position:{default:110},visibility:{default:!1,conditional:[{condition:[E.planOnboarding,C.premium,M.admin],value:!0},{condition:[E.planOnboarding,C.standard,M.admin],value:!0}]}},[n("FcWU").T]:{position:{default:115},visibility:{default:!1,conditional:[{condition:[E.planOnboarding,C.premium,M.admin],value:!0},{condition:[E.planOnboarding,C.standard,M.admin],value:!0}]}},[n("FcWU").e]:{position:{default:120},visibility:{default:!1,conditional:[{condition:[E.planOnboarding,C.premium,M.siteAdmin],value:!0}]}},[n("FcWU").R]:{position:{default:125},visibility:{default:!1,conditional:[{
condition:[E.planOnboarding,C.premium,M.siteAdmin],value:!0},{condition:[E.planOnboarding,C.standard,M.siteAdmin],value:!0}]}}},Q={taskList:L,taskVariants:o()(o()({},q),{},{[n("FcWU").g]:{position:{default:0},visibility:{default:!0,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!1}]}},[n("FcWU").U]:{position:{default:0},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!0}]}},[n("FcWU").M]:{position:{default:100},visibility:{default:!1,conditional:[{condition:[E.planOnboarding],value:!1},{condition:[M.projectAdmin,C.premium],value:!0},{condition:[M.admin,C.premium],value:!0}]}},[n("FcWU").s]:{position:{default:100},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!0}]}},[n("FcWU").u]:{position:{default:120},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!0}]}},[n("FcWU").H]:{position:{default:130},visibility:{default:!1,
conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged,x.simpleRoadmap],value:!0}]}},[n("FcWU").P]:{position:{default:150},visibility:{default:!1,conditional:[{condition:[x.scrum,E.planningBasicsOnboarding,N.teamManaged],value:!0},{condition:[M.siteAdmin,E.scrumOnboarding,D.softwareBacklog],value:!0}]}},[n("FcWU").G]:{position:{default:150},visibility:{default:!1,conditional:[{condition:[x.kanban,E.planningBasicsOnboarding,N.teamManaged],value:!0},{condition:[E.kanbanOnboarding,D.softwareBoard],value:!0}]}},[n("FcWU").I]:{position:{default:150},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!1},{condition:[E.personalisedOnboardingNTKWIteration2,D.softwareRoadmap],value:!0}]}},[n("FcWU").w]:{position:{default:151},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!1},{condition:[E.personalisedOnboardingNTKWIteration2,D.softwareRoadmap],value:!0}]}},[n("FcWU").v]:{position:{
default:151},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!1},{condition:[E.kanbanOnboarding,D.softwareBoard],value:!0}]}},[n("FcWU").J]:{position:{default:152},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!1},{condition:[E.personalisedOnboardingNTKWIteration2,D.softwareRoadmap],value:!0}]}},[n("FcWU").Q]:{position:{default:200},visibility:{default:!1,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged,x.kanban],value:!1},{condition:[E.kanbanOnboarding],value:!1},{condition:[M.projectAdmin,N.teamManaged],value:!0}]}},[n("FcWU").f]:{position:{default:300},visibility:{default:!0,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:!1},{condition:[E.kanbanOnboarding,D.softwareBoard],value:!1}]}},[n("FcWU").x]:{position:{default:400},visibility:{default:!0,conditional:[{condition:[M.projectAdmin,N.teamManaged],value:!1},{condition:[M.admin,N.teamManaged],
value:!1}]}},[n("FcWU").y]:{position:{default:400},visibility:{default:!1,conditional:[{condition:[M.projectAdmin,N.teamManaged],value:!0}]}},[n("FcWU").q]:{position:{default:500},visibility:{default:!0,conditional:[{condition:[E.captureIntegrations],value:!1}]}},[n("FcWU").d]:{position:{default:500,conditional:[{condition:[E.planningBasicsOnboarding,N.teamManaged],value:350}]},visibility:{default:!1,conditional:[{condition:[E.captureIntegrations],value:!0}]}},[n("FcWU").t]:{position:{default:600},visibility:{default:!0,conditional:[{condition:[E.newQrCodeMobileExperience],value:!1}]}},[n("FcWU").r]:{position:{default:700},visibility:{default:!0}}}),experiment:E,projectStyle:N,userRole:M,edition:C,route:D,boardFeatures:x},G=Object(R.defineMessages)({rootTitle:{id:"software-onboarding-quickstart.services.tasks.config.jwm.root-title",defaultMessage:"Quickstart"}}),K={projectTheming:"projectTheming"},H={projectAdmin:"projectAdmin",jiraAdmin:"jiraAdmin",siteAdmin:"siteAdmin"},J={
taskList:Object.freeze({root:{title:G.rootTitle,items:[n("FcWU").C,n("FcWU").E,n("FcWU").B,n("FcWU").F,n("FcWU").A,n("FcWU").z,n("FcWU").D]}}),taskVariants:{[n("FcWU").C]:{position:{default:0},visibility:{default:!0}},[n("FcWU").E]:{position:{default:100},visibility:{default:!0}},[n("FcWU").B]:{position:{default:200},visibility:{default:!0}},[n("FcWU").F]:{position:{default:300},visibility:{default:!0}},[n("FcWU").A]:{position:{default:400},visibility:{default:!0}},[n("FcWU").z]:{position:{default:500},visibility:{default:!1,conditional:[{condition:[K.projectTheming,H.jiraAdmin],value:!0},{condition:[K.projectTheming,H.siteAdmin],value:!0},{condition:[K.projectTheming,H.projectAdmin],value:!0}]}},[n("FcWU").D]:{position:{default:600},visibility:{default:!0}}},userRole:H,experiments:K},V=Object(R.defineMessages)({rootTitle:{id:"software-onboarding-quickstart.services.tasks.config.devops.root-title",defaultMessage:"Quickstart"}}),_={captureIntegrations:"captureIntegrations"},z={
taskList:Object.freeze({root:{title:V.rootTitle,items:[n("FcWU").o,n("FcWU").l,n("FcWU").n,n("FcWU").j,n("FcWU").h,n("FcWU").i,n("FcWU").m,n("FcWU").k]}}),taskVariants:{[n("FcWU").o]:{position:{default:0},visibility:{default:!0}},[n("FcWU").l]:{position:{default:100},visibility:{default:!0}},[n("FcWU").n]:{position:{default:200},visibility:{default:!0}},[n("FcWU").j]:{position:{default:300},visibility:{default:!0,conditional:[{value:!1,condition:[_.captureIntegrations]}]}},[n("FcWU").h]:{position:{default:300},visibility:{default:!1,conditional:[{value:!0,condition:[_.captureIntegrations]}]}},[n("FcWU").i]:{position:{default:400},visibility:{default:!0}},[n("FcWU").m]:{position:{default:500},visibility:{default:!0}},[n("FcWU").k]:{position:{default:600},visibility:{default:!0}}},experiment:_},X=({conditional:e,default:t},n)=>{if(void 0===e)return t;const i=e=>n.includes(e),a=e.find((({condition:e})=>e.every(i)));return a?a.value:t
},$=(e,t)=>X(t,e),Y=(e,t,n)=>n.filter((n=>((e,t)=>void 0===t||X(t,e))(e,t[n].visibility))).sort(((n,i)=>$(e,t[n].position)-$(e,t[i].position))),Z=({variants:e,taskVariants:t,taskList:n,taskGroupParent:i})=>{var a;const{title:o,items:r}=null!==(a=n[i])&&void 0!==a?a:n.root;return{title:o,items:Y(e,t,r)}},ee=({projectState:e,isDevOpsProject:t,taskGroupParent:i,routeName:a,shouldShowScrumOnboardingExperience:o,mountedNudges:r,boardFeatures:s})=>Object(n("ZP08").a)(e)?((e,t)=>{const i=[];return i.push(J.experiments.projectTheming),null!=e&&e.isProjectAdmin&&i.push(J.userRole.projectAdmin),(null==e?void 0:e.userRole)===n("3Pe+").a.JIRA_ADMIN&&i.push(J.userRole.jiraAdmin),(null==e?void 0:e.userRole)===n("3Pe+").a.SITE_ADMIN&&i.push(J.userRole.siteAdmin),Z({variants:i,taskVariants:J.taskVariants,taskList:J.taskList,taskGroupParent:t})})(e,i):t?(e=>{const t=[];return Object(n("DKCI").a)()&&t.push(z.experiment.captureIntegrations),Z({variants:t,taskVariants:z.taskVariants,taskList:z.taskList,
taskGroupParent:e})})(i):((e,t,i,a,o,r={})=>{const s=new Set,d=o.includes("backlogCreateSprintNudge"),c=o.includes("boardCreateColumnNudge");return Object(n("DKCI").a)()&&s.add(Q.experiment.captureIntegrations),Object(n("P5pE").r)()&&!Object(n("P5pE").o)()&&a&&d&&s.add(Q.experiment.scrumOnboarding),!Object(n("P5pE").m)()||Object(n("P5pE").o)()||!c&&i===n("gHjj").c.SOFTWARE_BOARDS||s.add(Q.experiment.kanbanOnboarding),Object(n("P5pE").o)()&&(s.add(Q.experiment.planningBasicsOnboarding),r.SIMPLE_ROADMAP&&s.add(Q.boardFeatures.simpleRoadmap),r.SPRINTS&&r.BACKLOG&&s.add(Q.boardFeatures.scrum),!1===r.SPRINTS&&s.add(Q.boardFeatures.kanban)),i===n("gHjj").c.SOFTWARE_ROADMAP&&Object(n("DKCI").b)(!0)&&s.add(Q.experiment.personalisedOnboardingNTKWIteration2),Object(n("P5pE").e)("jsw.onboarding.experiment.plan.onboarding")&&s.add(Q.experiment.planOnboarding),null!=e&&e.isNextGen?s.add(Q.projectStyle.teamManaged):s.add(Q.projectStyle.companyManaged),
null!=e&&e.isProjectAdmin&&s.add(Q.userRole.projectAdmin),(null==e?void 0:e.userRole)===n("3Pe+").a.JIRA_ADMIN&&(s.add(Q.userRole.jiraAdmin),s.add(Q.userRole.admin)),(null==e?void 0:e.userRole)===n("3Pe+").a.SITE_ADMIN&&(s.add(Q.userRole.siteAdmin),s.add(Q.userRole.admin)),(null==e?void 0:e.edition)===n("JMkI").a?s.add(Q.edition.free):(null==e?void 0:e.edition)===n("JMkI").c?s.add(Q.edition.standard):(null==e?void 0:e.edition)===n("JMkI").b&&s.add(Q.edition.premium),i===n("gHjj").c.SOFTWARE_ROADMAP?s.add(Q.route.softwareRoadmap):i===n("gHjj").c.SOFTWARE_BACKLOG?s.add(Q.route.softwareBacklog):i===n("gHjj").c.SOFTWARE_BOARDS&&s.add(Q.route.softwareBoard),Object(n("P5pE").p)()&&s.add(Q.experiment.newQrCodeMobileExperience),Z({variants:Array.from(s.values()),taskVariants:Q.taskVariants,taskList:Q.taskList,taskGroupParent:t})})(e,i,a,o,r,s),te=e=>({setState:t})=>{t({tasks:ee(e)})};var ne,ie=n("Ku+5")
;const ae=(void 0!==ne||(ne=n("MH4o")).hash&&"ad0f0979523e705a47766400dedf648f"!==ne.hash&&console.error("The definition of 'mainQuickStartQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),ne);var oe=({boardId:e,environment:t,cloudId:i})=>({setState:a})=>{const o=(e=[])=>e.reduce(((e,t)=>(t&&(e[t.key]="ENABLED"===t.status),e)),{});Object(ie.fetchQuery)(t,ae,{boardId:Object(n("No7A").a)({resourceOwner:"jira-software",cloudId:i,resourceType:"board",resourceId:e})},{networkCacheConfig:{force:!0}}).subscribe({error:e=>{Object(n("v/G6").a)({error:e,meta:{id:"useBoardFeaturesGraphQLAPI",packageName:"jiraSoftwareOnboardingQuickstart",teamName:"jlove-makkuro"},attributes:{error:e.message}})},next:e=>{a({boardFeatures:o(null==e?void 0:e.boardScope.features)})}})};const re={shouldRenderComponent:!1,completedTaskList:[],hasSeenTasks:[],isDismissed:!0,isOpen:!1,openTask:"",projectState:null,hasNudgeActive:!1,isQuickstartLoaded:!1,
isDevOpsProject:!1,nudgeStep:"",mountedNudges:[],hasEverSeenRoute:{"jsw.onboarding.experiment.personalised.onboarding.ntkw.onboarding.it2.roadmap":!1},boardFeatures:{},roadmapIsCreateEnabled:!1,roadmapIsListEmpty:!0,previousTaskGroupParents:[],currentTaskGroupParent:"root",selectedProjectTemplateKeyFromOnboarding:void 0},se=Object(n("0b8M").a)({name:"jsw-onboarding-quickstart",initialState:re,actions:i}),de=Object(n("Y6nV").a)(se),ce=Object(n("dq9g").a)(se),ue=(Object(n("UCyb").a)(se,{}),Object(n("dq9g").a)(se,{selector:e=>e.shouldRenderComponent})),le=Object(n("dq9g").a)(se,{selector:e=>e.openTask}),pe=Object(n("dq9g").a)(se,{selector:e=>e.nudgeStep}),be=Object(n("dq9g").a)(se,{selector:null}),ge=Object(n("dq9g").a)(se,{selector:(e,{itemNames:t})=>e.shouldRenderComponent&&e.isOpen&&!e.isDismissed&&t.includes(e.openTask)&&e.hasNudgeActive}),me=Object(n("dq9g").a)(se,{selector:e=>e.shouldRenderComponent&&e.isDismissed}),fe=()=>{const[e,{nextSetChecklistIsDismissed:t}]=me();return{
shouldShow:e,setIsDismissed:t}},ke=Object(n("dq9g").a)(se,{selector:e=>Boolean(e.projectState&&e.projectState.canInvitePeopleToProject)}),je=Object(n("dq9g").a)(se,{selector:e=>{if(!e.projectState)return!1;const{isNextGen:t,userRole:i,isProjectAdmin:a}=e.projectState;return Boolean(t&&(i===n("3Pe+").a.JIRA_ADMIN||i===n("3Pe+").a.SITE_ADMIN||a))}}),ve=Object(n("dq9g").a)(se,{selector:e=>e.projectState}),Oe=Object(n("dq9g").a)(se,{selector:e=>e.shouldRenderComponent&&!e.isDismissed&&!e.isOpen}),Fe=Object(n("dq9g").a)(se,{selector:e=>!1===e.shouldRenderComponent?n("FcWU").O.NOT_LOADED:e.isDismissed?n("FcWU").O.DISMISSED:e.isOpen?n("FcWU").O.OPEN:n("FcWU").O.MINIMIZED}),We=Object(n("dq9g").a)(se,{selector:e=>e.isQuickstartLoaded}),he=Object(n("dq9g").a)(se,{selector:e=>e.isDismissed}),Se=Object(n("dq9g").a)(se,{selector:e=>e.completedTaskList}),Ue=Object(n("dq9g").a)(se,{selector:e=>e.mountedNudges}),ye=Object(n("dq9g").a)(se,{selector:e=>e.hasEverSeenRoute}),Ie=Object(n("dq9g").a)(se,{
selector:e=>({roadmapIsCreateEnabled:e.roadmapIsCreateEnabled,roadmapIsListEmpty:e.roadmapIsListEmpty})}),we=Object(n("dq9g").a)(se,{selector:e=>{var t;return Boolean(Object(n("P5pE").r)()&&e.isQuickstartLoaded&&!e.isDevOpsProject&&"com.pyxis.greenhopper.jira:gh-simplified-agility-scrum"===e.selectedProjectTemplateKeyFromOnboarding&&(null===(t=e.projectState)||void 0===t?void 0:t.userRole)===n("3Pe+").a.SITE_ADMIN)}}),Te=Object(n("dq9g").a)(se,{selector:e=>{var t;return Boolean(Object(n("P5pE").m)()&&e.isQuickstartLoaded&&!e.isDevOpsProject&&"com.pyxis.greenhopper.jira:gh-simplified-agility-kanban"===e.selectedProjectTemplateKeyFromOnboarding&&(null===(t=e.projectState)||void 0===t?void 0:t.userRole)===n("3Pe+").a.SITE_ADMIN)}}),Ae=Object(n("dq9g").a)(se,{selector:e=>e.hasNudgeActive})},"3Pe+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={END_USER:"end-user",SITE_ADMIN:"site-admin",JIRA_ADMIN:"jira-admin"}},DKCI:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=()=>!!Object(n("zVIX").a)()&&"experiment"===Object(n("P5pE").a)(),a=(e=!1)=>"experiment"===Object(n("P5pE").c)(e)},EwQA:function(e,t,n){var i=n("zZ0H");e.exports=function(e){return"function"==typeof e?e:i}},K9eC:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const i=async({key:e,value:t})=>Object(n("GK83").c)(Object(n("Rp3N").c)(""),(()=>{const{atlassianAccountId:e}=Object(n("S57X").h)();if(null===e)throw new Error("Atlassian Account Id is empty");return e})(),e,JSON.stringify(t)).then((e=>{if(!e.ok)throw new(n("tHEo").a)(e.status,e.statusText)})),a=async(e,t)=>{try{await i(e)}catch(a){return Object(n("v/G6").a)({meta:{id:"pushToBackend",packageName:"jiraSoftwareOnboardingQuickstart"},attributes:{action:"pushToBackend",actionSubject:"jiraSoftwareOnboardingChecklist",attemptCount:t,key:e.key,reason:a&&a.message},error:a}),!1}return!0},o=async e=>{await a(e,1)||await a(e,2)}},
MH4o:function(e,t,n){"use strict";var i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],t=[{kind:"Variable",name:"boardId",variableName:"boardId"}],n={kind:"ScalarField",name:"key"},i={kind:"ScalarField",name:"status"};return{fragment:{argumentDefinitions:e,kind:"Fragment",name:"mainQuickStartQuery",selections:[{kind:"RequiredField",field:{args:t,concreteType:"BoardScope",kind:"LinkedField",name:"boardScope",plural:!1,selections:[{kind:"RequiredField",field:{concreteType:"BoardFeature",kind:"LinkedField",name:"features",plural:!0,selections:[{kind:"RequiredField",field:n,action:"THROW",path:"boardScope.features.key"},{kind:"RequiredField",field:i,action:"THROW",path:"boardScope.features.status"}]},action:"THROW",path:"boardScope.features"}]},action:"THROW",path:"boardScope"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"mainQuickStartQuery",selections:[{args:t,concreteType:"BoardScope",kind:"LinkedField",
name:"boardScope",plural:!1,selections:[{concreteType:"BoardFeature",kind:"LinkedField",name:"features",plural:!0,selections:[n,i]}]}]},params:{cacheID:"d426c92db6efb62604ba4d0cdbee682e",id:null,metadata:{},name:"mainQuickStartQuery",operationKind:"query",text:"query mainQuickStartQuery(\n  $boardId: ID!\n) {\n  boardScope(boardId: $boardId) {\n    features {\n      key\n      status\n    }\n  }\n}\n"}}}();i.hash="ad0f0979523e705a47766400dedf648f",e.exports=i},MOrQ:function(t,n,i){"use strict";i.d(n,"a",(function(){return r})),i.d(n,"b",(function(){return s}));const a=({accountId:e,key:t})=>`${e}.${t}`;let o;const r=()=>{if(o)return o;const t=Object(i("iY3i").c)("jsw-onboarding-checklist");try{t.removeExpiredKeys()}catch(e){Object(i("v/G6").a)({meta:{id:"localStorageProviderKeyRemoval",packageName:"jiraSoftwareOnboardingQuickstart"},error:e})}return o={provider:t,remove:({accountId:e,key:n})=>t.remove(a({accountId:e,key:n})),get:({accountId:e,key:n})=>t.get(a({accountId:e,key:n})),
set:({accountId:e,key:n,value:i})=>t.set(a({accountId:e,key:n}),i,(()=>Date.now()+864e5)())},o},s=e=>{r().set({accountId:i("FcWU").a,key:"jsw-onboarding-checklist.has.navigated.from.link",value:e})}},MgJy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=async({keys:e})=>{const{user:t}=await Object(n("tGNm").a)(Object(n("Rp3N").c)(""),{userProperties:e});return t}},SHAY:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const i=()=>Object(n("D3TY").a)("jsw.onboarding.rollout.kuro-1102",!1),a=()=>((e,t=!0)=>"experiment"===Object(n("gOD+").a)().getVariantValue(e,{default:"not-enrolled",oneOf:["not-enrolled","control","experiment"],shouldTrackExposureEvent:t}))("jsw.onboarding.experiment.planning.basics.onboarding",!1)},WJIX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=()=>{
const[e,{nextMarkAsCompletedTask:t,nextAutoExpand:i,setHasNudgeActive:a}]=Object(n("3DRJ").b)(),{createAnalyticsEvent:o}=Object(n("rZ/p").a)();return r=>{e.includes(r)||(Object(n("P5pE").o)()&&a(!1,r),t(r),Object(n("0Ro8").b)(o,r),i())}}},ZP08:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=e=>"business"===(null==e?void 0:e.projectType)},ai9X:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("QILm"),a=n.n(i),o=n("q1tI"),r=n.n(o),s=n("6xe2");const d=["children"],c=Object(s.g)((()=>n.e("async-software-instrumented-nudge-spotlight-card").then(n.bind(null,"EmCR")).then((e=>e.InstrumentedNudgeSpotlightCard))),{ssr:!1,moduleId:"./src/packages/software/onboarding-nudges/src/common/ui/instrumented-nudge-spotlight-card/main.js"}),u=e=>{let{children:t=null}=e,i=a()(e,d);return r.a.createElement(n("6UFO").a,{id:"instrumentedNudgeSpotlightCard",fallback:t,attributes:{nudgeId:i.nudgeId}},r.a.createElement(s.a,{fallback:t},r.a.createElement(c,i,t)))}
;u.displayName="InstrumentedNudgeSpotlightCard"},bNQv:function(e,t,n){var i=n("gFfm"),a=n("SKAX"),o=n("EwQA"),r=n("Z0cm");e.exports=function(e,t){return(r(e)?i:a)(e,o(t))}},i87E:function(e,t,n){"use strict";n.r(t),n.d(t,"QuickstartNudge",(function(){return b}));var i=n("pVnL"),a=n.n(i),o=n("3tO9"),r=n.n(o),s=n("QILm"),d=n.n(s),c=n("q1tI"),u=n.n(c);const l=["isInsideMenu","itemNames","nudgeSpotlightCardProps","nudgeId","children","ContainerComponent","forceHidden","elementIdsToObserveForResizes","extraAnalyticsAttributes"],p=({children:e})=>e,b=e=>{const{isInsideMenu:t,itemNames:i,nudgeSpotlightCardProps:o,nudgeId:s,children:b,ContainerComponent:g=p,forceHidden:m=!1,elementIdsToObserveForResizes:f,extraAnalyticsAttributes:k}=e,j=d()(e,l),[v]=Object(n("3DRJ").k)(),[O,{setHasNudgeActive:F}]=Object(n("3DRJ").q)({itemNames:i}),W=Object(n("WJIX").a)(),h=m||Boolean(!O),S=Object(n("kBLG").a)({elementIdsToObserveForResizes:f||[],nudgeHidden:h,
extraConditionsForUpdate:Object(n("SHAY").b)()&&f&&f.length>0}),U=Object(c.useCallback)((()=>{null!==v&&(W(v),F(!1,v))}),[W,v,F]),y=Object(c.useCallback)((()=>{F(!1,v)}),[v,F]),I=r()({},!h&&null!==v&&r()(r()({},k),{},{source:v}));return u.a.createElement(g,{isInsideMenu:t,isHidden:h},u.a.createElement(n("ai9X").a,a()({nudgeId:s,hidden:h,setHidden:U,hideNudgeOnClick:!0,hideSpotlightOnOutsideClick:!0,onOutsideClick:y,analyticsAttributes:I},j,o,{registerUpdateFn:S,nudgeBlinkId:s}),b))};b.displayName="QuickstartNudge"},kBLG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI");const a=({elementIdsToObserveForResizes:e,nudgeHidden:t,extraConditionsForUpdate:n})=>{const[a,o]=Object(i.useState)((()=>{}));return Object(i.useEffect)((()=>{let i;return!a||!1!==t||void 0!==n&&!0!==n||(i=new ResizeObserver((()=>{a()})),e.forEach((e=>{const t=document.querySelector(`[data-onboarding-observer-id='${e}']`);t&&i.observe(t)}))),()=>{i&&i.disconnect()}}),[a,t,e,n]),o}},
tGNm:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("bNQv"),a=n.n(i);const o=(e,t)=>a()(e[t],((n,i)=>{e[t][i]=JSON.parse(n)})),r=async(e,t)=>{const i=((e,{userProperties:t,projectId:n,projectProperties:i,instanceProperties:a})=>{const o=new URLSearchParams;return t&&o.append("user",t.join(",")),void 0!==n&&o.append("projectId",n),i&&o.append("project",i.join(",")),a&&o.append("instance",a.join(",")),`${e}/rest/internal/latest/frontendconfig/properties?${o.toString()}`})(e,t),a=await Object(n("/rpS").b)(i);return o(a,"user"),o(a,"instance"),o(a,"project"),a}},zVIX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=()=>{const e=Object(n("1lWS").a)("ajs-user-locale");return!!e&&"string"==typeof e&&-1!==e.toLowerCase().indexOf("en",0)}}}]);try{window.__jsEvalStop("async-software-quickstart-nudge.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-software-quickstart-nudge.74f38c08a1678ee944f2.8.js.map