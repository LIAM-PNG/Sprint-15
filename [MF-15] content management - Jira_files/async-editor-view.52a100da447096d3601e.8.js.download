try{window.performance.mark("async-editor-view.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["async-editor-view","d5679701d7","ff50e388d0","977d53770e"],{"+IWU":function(e,t,n){"use strict";var o=n("QILm"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("lSNA"),c=n.n(s),l=n("q1tI"),d=n.n(l);const u=["emojiProvider"],p=()=>(()=>n.e("@atlaskit-internal_emojiPickerComponent").then(n.bind(null,"IClw")))().then((e=>e.default));class h extends n("nMaz").a{constructor(e){super(e,{}),c()(this,"state",{asyncLoadedComponent:h.AsyncLoadedComponent})}asyncLoadComponent(){p().then((e=>{h.AsyncLoadedComponent=e,this.setAsyncState(e)}))}renderLoading(){const e=new(n("OS0S").c);return d.a.createElement("div",{className:n("nc8v").e,ref:e=>{this.props.onPickerRef&&this.props.onPickerRef(e)}},e.renderItem())}renderLoaded(e,t){const n=this.props,{emojiProvider:o}=n,i=r()(n,u);return d.a.createElement(t,a()({emojiProvider:e},i))}}const f=Object(n("VHV8").a)()(h);t.a=f},
"+JSQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=e=>e<10?`0${e}`:e,r=e=>{if((e=>isNaN(e)||e===1/0||e<0)(e))return"0:00";const t=parseInt(`${e}`,10),n=Math.floor(t/3600);let r=t%3600;const i=Math.floor(r/60);r%=60;const a=n>0?n+":":"";return`${a}${a?o(i):i}:${o(r)}`}},"+OuI":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));const o=({editorView:e})=>t=>o=>{const{state:r}=e,i=Object(n("Wd+7").a)(t,r);if(!i)return!1;const{tr:a}=r;return Object(n("ifNk").a)({triggerHandler:i,inputMethod:o})(a),e.dispatch(a),!0},r={insertCurrentQueryAsRawText:!1},i=({editorView:e})=>(t=r)=>{const{state:o}=e,i=Object(n("Wd+7").d)(e.state);let a=o.tr;if(t.attachCommand){const e=e=>{a=e};t.attachCommand(o,e)}if(Object(n("7jB3").a)(a),t.insertCurrentQueryAsRawText&&i&&i.length>0){const e=Object(n("Wd+7").c)(o).trigger.concat(i);a.replaceSelectionWith(o.schema.text(e))}return e.dispatch(a),e.hasFocus()||e.focus(),!0},a=({editorView:e})=>t=>(r="")=>{
const{state:a}=e,s=Object(n("Wd+7").a)(t,a);if(!s)throw new Error(`Handler not found, did you load the ${t} plugin properly`);o({editorView:e})(t)(n("J5HJ").f.KEYBOARD),Object(n("3EgI").a)(r)(e.state,e.dispatch);const c={current:r},l={last:s.getItems({query:r,editorState:a}).then((t=>{if(!s.forceSelect)return t;const o=s.forceSelect({items:t,query:r,editorState:a});if(!o)return t;Object(n("rPiI").a)(e)({handler:s,item:o,query:r,mode:n("FOo9").a.SELECTED,sourceListItem:t})}))};return{type:t=>{if(!t)return;c.current+=t,Object(n("3EgI").a)(c.current)(e.state,e.dispatch);const o=s.getItems({query:c.current,editorState:a});return l.last=o,o},result:()=>l.last,close:i({editorView:e}),insert:({index:t,mode:o})=>l.last.then((i=>{const a=i?i[t]:null;i&&a&&Object(n("rPiI").a)(e)({handler:s,item:a,query:r,mode:o||n("FOo9").a.SELECTED,sourceListItem:i})}))}},s=({editorView:e})=>t=>({contentItem:o,query:r,sourceListItem:i})=>{const{state:a}=e,s=Object(n("Wd+7").a)(t,a)
;return!!s&&(Object(n("rPiI").a)(e)({handler:s,item:o,mode:n("FOo9").a.SELECTED,query:r,sourceListItem:i}),!0)},c=({editorView:e})=>()=>{if(!Object(n("Wd+7").g)(e.state))return!1;const t=Object(n("Wd+7").c)(e.state);return t||!1},l=({editorView:e})=>()=>Object(n("Wd+7").d)(e.state),d=e=>{const t={editorView:e};return{isOpen:c(t),currentQuery:l(t),close:i(t),openMention:o(t)(n("FOo9").b.MENTION),searchMention:a(t)(n("FOo9").b.MENTION),openQuickInsert:o(t)(n("FOo9").b.QUICK_INSERT),searchQuickInsert:a(t)(n("FOo9").b.QUICK_INSERT),openEmoji:o(t)(n("FOo9").b.EMOJI),searchEmoji:a(t)(n("FOo9").b.EMOJI),insertItemMention:s(t)(n("FOo9").b.MENTION),insertItemEmoji:s(t)(n("FOo9").b.EMOJI),insertItemQuickInsert:s(t)(n("FOo9").b.QUICK_INSERT)}}},"+TPg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e));i.displayName="ChevronRightCircleIcon";var a=i;t.default=a},"+U5V":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return u})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return m}));var o=n("UxO+");const r=(e,t)=>function(n,o,r){return Array.isArray(e)||(e=[e]),!e.some((e=>!e(n,r)))&&(t(n,o,r)||!1)
},i=e=>{const{empty:t,$from:o}=e.selection;return t&&(0===o.parentOffset||e.selection instanceof n("g1AK").a)},a=e=>{const{empty:t,$from:o}=e.selection;return t&&(o.end()===o.pos||e.selection instanceof n("g1AK").a)},s=e=>{const{$from:t}=e.selection;return!(t.depth>1)||(e.selection instanceof n("g1AK").a&&0===t.parentOffset||0===t.index(t.depth-1))};function c(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const l=(e,t,o,r,i)=>{const{schema:a}=i.doc.type,{code:s}=a.marks;return r.type===s&&Object(n("yg4z").a)(e,t,i),i.doc.nodesBetween(i.mapping.map(e),i.mapping.map(t),((n,a)=>{if(!n.isText)return!0;const s=Math.max(a,i.mapping.map(e)),c=Math.min(a+n.nodeSize,i.mapping.map(t));return o?i.removeMark(s,c,r):i.addMark(s,c,r),!0})),i},d=(e,t)=>(r,i)=>{const a=e.create(t);if(r.selection instanceof o.TextSelection&&r.selection.$cursor){const e=r.tr
;return a.isInSet(r.storedMarks||r.selection.$cursor.marks())?e.removeStoredMark(a):e.addStoredMark(a),!!i&&(i(e),!0)}return(e=>(t,o)=>{const r=t.tr;if(t.selection instanceof n("n1Ll").a){let n=!1;const o=[];t.selection.forEachCell(((r,i)=>{o.push({node:r,pos:i});const a=i,s=i+r.nodeSize;n||(n=t.doc.rangeHasMark(a,s,e))}));for(let t=o.length-1;t>=0;t--){const i=o[t],a=i.pos,s=a+i.node.nodeSize;l(a,s,n,e,r)}}else{const{$from:n,$to:o}=t.selection,i=t.doc.rangeHasMark(n.pos,o.pos,e);l(n.pos,o.pos,i,e,r)}return!!r.docChanged&&(o&&o(r),!0)})(a)(r,i)},u=e=>(t,n,o)=>e(t,(e=>{e.scrollIntoView(),n&&n(e)}),o),p=e=>{let t=e;for(;t.pos<t.doc.nodeSize-2&&(t.pos===e.pos||t.parentOffset>0);)t=t.doc.resolve(t.pos+1);return{$pos:t,foundNode:t.pos<t.doc.nodeSize-2}},h=e=>{let t=e;for(;t.pos>0&&(t.pos===e.pos||t.parentOffset<t.parent.nodeSize-2);)t=t.doc.resolve(t.pos-1);return{$pos:t,foundNode:t.pos>0}},f=(e,t,n,r)=>{n.forEach((t=>{let[n,o]=t;e.insert(e.mapping.map(o),n)})),r.forEach((t=>{let[n,o]=t
;e.delete(e.mapping.map(n),e.mapping.map(o))})),e.setSelection(new o.TextSelection(t(e)))},m=e=>(t,n)=>(n&&n(t.tr.setSelection(new o.NodeSelection(t.doc.resolve(e)))),!0)},"+V57":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s}));var o=n("UxO+"),r=(n("CsC6"),function(e,t){this.match=e,this.handler="string"==typeof t?function(e){return function(t,n,o,r){var i=e;if(n[1]){var a=n[0].lastIndexOf(n[1]);i+=n[0].slice(a+n[1].length);var s=(o+=a)-r;s>0&&(i=n[0].slice(a-s,a)+i,o=r)}return t.tr.insertText(i,o,r)}}(t):t});function i(e){var t=e.rules,n=new o.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,o,r,i){return a(e,o,r,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var o=e.state.selection.$cursor;o&&a(e,o.pos,o.pos,"",t,n)}))}}},isInputRules:!0});return n}
function a(e,t,n,o,r,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"\ufffc")+o,l=0;l<r.length;l++){var d=r[l].match.exec(c),u=d&&r[l].handler(a,d,t-(d[0].length-o.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:o})),!0}return!1}function s(e,t){for(var n=e.plugins,o=0;o<n.length;o++){var r=n[o],i=void 0;if(r.spec.isInputRules&&(i=r.getState(e))){if(t){for(var a=e.tr,s=i.transform,c=s.steps.length-1;c>=0;c--)a.step(s.steps[c].invert(s.docs[c]));if(i.text){var l=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,e.schema.text(i.text,l))}else a.delete(i.from,i.to);t(a)}return!0}}return!1}new r(/--$/,"\u2014"),new r(/\.\.\.$/,"\u2026"),new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new r(/"$/,"\u201d"),new r(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new r(/'$/,"\u2019")},"+WSe":function(e,t,n){"use strict"
;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("zuKv");const r=n("rJZJ").f,i=o.FabricChannel.editor},"+Z0M":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 010 2h-4a1 1 0 010-2zm0 4h4a1 1 0 010 2h-4a1 1 0 010-2zM6 9h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaWrapLeftIcon";var a=i;t.default=a},"+c6o":function(e,t,n){"use strict";function o(e){return e.indexOf(".")>-1?e.split(".").pop():""}function r(e){return null!==i(e)}function i(e){const t=o(e);switch(t){case"abap":case"ada":case"c":case"css":case"d":
case"dart":case"go":case"graphql":case"groovy":case"html":case"java":case"json":case"matlab":case"xml":case"lua":case"puppet":case"qml":case"sass":case"sql":case"php":case"r":case"swift":case"tcl":case"vala":case"vhdl":case"xquery":return t;case"as":case"asc":return"actionscript";case"ino":return"arduino";case"au3":return"autoit";case"cpp":case"h":case"c++":return"c++";case"coffee":return"coffeescript";case"cs":return"csharp";case"cu":return"cuda";case"pas":case"dpr":case"dproj":case"dpk":return"delphi";case"ex":case"exs":return"elixir";case"erl":case"hrl":return"erlang";case"f90":case"for":case"f":case"fpp":case"i":case"i90":case"ftn":return"fortran";case"dbc":return"foxpro";case"hs":case"has":return"haskell";case"hx":return"haxe";case"js":case"jsx":return"javascript";case"jl":return"julia";case"kt":return"kotlin";case"m":case"mm":return"objective-c";case"j":return"objective-j";case"tex":return"latex";case"nb":case"cdf":return"mathematica";case"cma":return"ocaml";case"pl":return"perl"
;case"py":return"python";case"ps1":case"psd1":case"psm1":return"powershell";case"rb":return"ruby";case"rst":return"restructuredtext";case"rs":return"rust";case"rkt":return"racket";case"sh":return"shell";case"sc":case"sch":return"scheme";case"txt":case"msg":case"log":case"csv":case"md":return"text";case"ts":case"tsx":return"typescript";case"v":return"verilog";case"xq":case"xql":case"xqm":case"xqy":return"xquery";case"lock":case"yaml":case"yml":return"yaml";default:return null}}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}))},"+ld7":function(e,t,n){"use strict";let o;function r(e){return-1!==[o.UP,o.LEFT,o.BACKWARD].indexOf(e)}function i(e){return-1!==[o.RIGHT,o.DOWN,o.FORWARD].indexOf(e)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(o||(o={}))},"+mDI":function(e,t,n){
"use strict";function o(e){return Object(n("/LxC").a)((()=>e)).current}n.d(t,"a",(function(){return o}))},"+uEk":function(e,t,n){"use strict";let o,r,i;n.d(t,"a",(function(){return i})),function(e){e.TEXT="text",e.NODE="node",e.CELL="cell",e.GAP_CURSOR="gapCursor"}(o||(o={})),function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={})),function(e){e.CURRENT_SELECTION="currentSelection",e.HTML_ELEMENT="htmlElement"}(i||(i={}))},"+w+L":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>{if(e===t)return!0;if(null==e||null==t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;const r=Object.prototype.hasOwnProperty.bind(t);for(let i=0;i<n.length;i++){const o=n[i];if(!r(o))return!1;if(e[o]!==t[o])return!1}return!0},r=(e,t,n=o)=>{if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0};function i(e,t){let n
;return e.descendants((e=>!n&&(!t(e)||(n=e,!1)))),n}},"+wsV":function(e,t,n){"use strict";let o,r,i;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(o||(o={})),function(e){e[e.XXL=610]="XXL",e[e.XL=540]="XL",e[e.L=460]="L",e[e.M=450]="M",e[e.S=370]="S"}(r||(r={})),function(e){e[e.XXL=650]="XXL",e[e.XL=580]="XL",e[e.L=540]="L",e[e.M=490]="M",e[e.S=410]="S"}(i||(i={}))},"+yxU":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}));const o=e=>t=>{if(!Object(n("GhYq").a)(t,"cell"))return!1;const o=n("wYWE").b.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),i=o.cellsInRect(e),a=o.cellsInRect(o.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r));for(let e=0,n=i.length;e<n;e++)if(-1===a.indexOf(i[e]))return!1;return!0},r=e=>t=>{
if(Object(n("GhYq").a)(t,"cell")){const r=n("wYWE").b.get(t.$anchorCell.node(-1));return o({left:e,right:e+1,top:0,bottom:r.height})(t)}return!1},i=e=>t=>{if(Object(n("GhYq").a)(t,"cell")){const r=n("wYWE").b.get(t.$anchorCell.node(-1));return o({left:0,right:r.width,top:e,bottom:e+1})(t)}return!1},a=e=>{if(Object(n("GhYq").a)(e,"cell")){const t=n("wYWE").b.get(e.$anchorCell.node(-1));return o({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1}},"/+cc":function(e,t,n){
/*!
 * Fuse.js v3.4.6 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
!function(t,n){e.exports=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=function(e){
return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=n(2),a=n(8),s=n(0),c=function(){function e(t,n){var o=n.location,r=void 0===o?0:o,i=n.distance,s=void 0===i?100:i,c=n.threshold,l=void 0===c?.6:c,d=n.maxPatternLength,u=void 0===d?32:d,p=n.caseSensitive,h=void 0!==p&&p,f=n.tokenSeparator,m=void 0===f?/ +/g:f,g=n.findAllMatches,b=void 0!==g&&g,v=n.minMatchCharLength,y=void 0===v?1:v,E=n.id,w=void 0===E?null:E,O=n.keys,S=void 0===O?[]:O,C=n.shouldSort,T=void 0===C||C,x=n.getFn,k=void 0===x?a:x,I=n.sortFn,A=void 0===I?function(e,t){
return e.score-t.score}:I,N=n.tokenize,M=void 0!==N&&N,R=n.matchAllTokens,j=void 0!==R&&R,P=n.includeMatches,D=void 0!==P&&P,L=n.includeScore,_=void 0!==L&&L,B=n.verbose,H=void 0!==B&&B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:s,threshold:l,maxPatternLength:u,isCaseSensitive:h,tokenSeparator:m,findAllMatches:b,minMatchCharLength:y,id:w,keys:S,includeMatches:D,includeScore:_,shouldSort:T,getFn:k,sortFn:A,verbose:H,tokenize:M,matchAllTokens:j},this.setCollection(t)}var t,n,c;return t=e,(n=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),o=n.tokenSearchers,r=n.fullSearcher,i=this._search(o,r),a=i.weights,s=i.results;return this._computeScore(a,s),this.options.shouldSort&&this._sort(s),
t.limit&&"number"==typeof t.limit&&(s=s.slice(0,t.limit)),this._format(s)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),o=0,r=n.length;o<r;o+=1)t.push(new i(n[o],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,o={},r=[];if("string"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:"",value:n[i],record:i,index:i},{resultMap:o,results:r,tokenSearchers:e,fullSearcher:t});return{weights:null,results:r}}for(var s={},c=0,l=n.length;c<l;c+=1)for(var d=n[c],u=0,p=this.options.keys.length;u<p;u+=1){var h=this.options.keys[u];if("string"!=typeof h){if(s[h.name]={weight:1-h.weight||1},h.weight<=0||h.weight>1)throw new Error("Key weight has to be > 0 and <= 1");h=h.name
}else s[h]={weight:1};this._analyze({key:h,value:this.options.getFn(d,h),record:d,index:c},{resultMap:o,results:r,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:r}}},{key:"_analyze",value:function(e,t){var n=e.key,o=e.arrayIndex,r=void 0===o?-1:o,i=e.value,a=e.record,c=e.index,l=t.tokenSearchers,d=void 0===l?[]:l,u=t.fullSearcher,p=void 0===u?[]:u,h=t.resultMap,f=void 0===h?{}:h,m=t.results,g=void 0===m?[]:m;if(null!=i){var b=!1,v=-1,y=0;if("string"==typeof i){this._log("\nKey: ".concat(""===n?"-":n));var E=p.search(i);if(this._log('Full text: "'.concat(i,'", score: ').concat(E.score)),this.options.tokenize){for(var w=i.split(this.options.tokenSeparator),O=[],S=0;S<d.length;S+=1){var C=d[S];this._log('\nPattern: "'.concat(C.pattern,'"'));for(var T=!1,x=0;x<w.length;x+=1){var k=w[x],I=C.search(k),A={};I.isMatch?(A[k]=I.score,b=!0,T=!0,O.push(I.score)):(A[k]=1,this.options.matchAllTokens||O.push(1)),this._log('Token: "'.concat(k,'", score: ').concat(A[k]))}T&&(y+=1)}v=O[0]
;for(var N=O.length,M=1;M<N;M+=1)v+=O[M];v/=N,this._log("Token score average:",v)}var R=E.score;v>-1&&(R=(R+v)/2),this._log("Score average:",R);var j=!this.options.tokenize||!this.options.matchAllTokens||y>=d.length;if(this._log("\nCheck Matches: ".concat(j)),(b||E.isMatch)&&j){var P=f[c];P?P.output.push({key:n,arrayIndex:r,value:i,score:R,matchedIndices:E.matchedIndices}):(f[c]={item:a,output:[{key:n,arrayIndex:r,value:i,score:R,matchedIndices:E.matchedIndices}]},g.push(f[c]))}}else if(s(i))for(var D=0,L=i.length;D<L;D+=1)this._analyze({key:n,arrayIndex:D,value:i[D],record:a,index:c},{resultMap:f,results:g,tokenSearchers:d,fullSearcher:p})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var n=0,o=t.length;n<o;n+=1){for(var r=t[n].output,i=r.length,a=1,s=1,c=0;c<i;c+=1){var l=e?e[r[c].key].weight:1,d=(1===l?r[c].score:r[c].score||.001)*l;1!==l?s=Math.min(s,d):(r[c].nScore=d,a*=d)}t[n].score=1===s?a:s,this._log(t[n])}}},{key:"_sort",value:function(e){
this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===o(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}))),n=null}var r=[];this.options.includeMatches&&r.push((function(e,t){var n=e.output;t.matches=[];for(var o=0,r=n.length;o<r;o+=1){var i=n[o];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}})),this.options.includeScore&&r.push((function(e,t){t.score=e.score}));for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),r.length){for(var c={item:s.item},l=0,d=r.length;l<d;l+=1)r[l](s,c);t.push(c)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e
;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&r(t.prototype,n),c&&r(t,c),e}();e.exports=c},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=n(3),i=n(4),a=n(7),s=function(){function e(t,n){var o=n.location,r=void 0===o?0:o,i=n.distance,s=void 0===i?100:i,c=n.threshold,l=void 0===c?.6:c,d=n.maxPatternLength,u=void 0===d?32:d,p=n.isCaseSensitive,h=void 0!==p&&p,f=n.tokenSeparator,m=void 0===f?/ +/g:f,g=n.findAllMatches,b=void 0!==g&&g,v=n.minMatchCharLength,y=void 0===v?1:v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:r,distance:s,threshold:l,maxPatternLength:u,isCaseSensitive:h,tokenSeparator:m,findAllMatches:b,minMatchCharLength:y},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}
var t,n,s;return t=e,(n=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,n=t.maxPatternLength,o=t.tokenSeparator;if(this.pattern.length>n)return r(e,this.pattern,o);var a=this.options,s=a.location,c=a.distance,l=a.threshold,d=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:l,findAllMatches:d,minMatchCharLength:u})}}])&&o(t.prototype,n),s&&o(t,s),e}();e.exports=s},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,r=new RegExp(t.replace(n,"\\$&").replace(o,"|")),i=e.match(r),a=!!i,s=[];if(a)for(var c=0,l=i.length;c<l;c+=1){var d=i[c];s.push([e.indexOf(d),d.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var o=n(5),r=n(6);e.exports=function(e,t,n,i){
for(var a=i.location,s=void 0===a?0:a,c=i.distance,l=void 0===c?100:c,d=i.threshold,u=void 0===d?.6:d,p=i.findAllMatches,h=void 0!==p&&p,f=i.minMatchCharLength,m=void 0===f?1:f,g=s,b=e.length,v=u,y=e.indexOf(t,g),E=t.length,w=[],O=0;O<b;O+=1)w[O]=0;if(-1!==y){var S=o(t,{errors:0,currentLocation:y,expectedLocation:g,distance:l});if(v=Math.min(S,v),-1!==(y=e.lastIndexOf(t,g+E))){var C=o(t,{errors:0,currentLocation:y,expectedLocation:g,distance:l});v=Math.min(C,v)}}y=-1;for(var T=[],x=1,k=E+b,I=1<<(E<=31?E-1:30),A=0;A<E;A+=1){for(var N=0,M=k;N<M;)o(t,{errors:A,currentLocation:g+M,expectedLocation:g,distance:l})<=v?N=M:k=M,M=Math.floor((k-N)/2+N);k=M;var R=Math.max(1,g-M+1),j=h?b:Math.min(g+M,b)+E,P=Array(j+2);P[j+1]=(1<<A)-1;for(var D=j;D>=R;D-=1){var L=D-1,_=n[e.charAt(L)];if(_&&(w[L]=1),P[D]=(P[D+1]<<1|1)&_,0!==A&&(P[D]|=(T[D+1]|T[D])<<1|1|T[D+1]),P[D]&I&&(x=o(t,{errors:A,currentLocation:L,expectedLocation:g,distance:l}))<=v){if(v=x,(y=L)<=g)break;R=Math.max(1,2*g-y)}}if(o(t,{
errors:A+1,currentLocation:g,expectedLocation:g,distance:l})>v)break;T=P}return{isMatch:y>=0,score:0===x?.001:x,matchedIndices:r(w,m)}}},function(e,t){e.exports=function(e,t){var n=t.errors,o=void 0===n?0:n,r=t.currentLocation,i=void 0===r?0:r,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,l=void 0===c?100:c,d=o/e.length,u=Math.abs(s-i);return l?d+u/l:u?1:d}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],o=-1,r=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===o?o=i:s||-1===o||((r=i-1)-o+1>=t&&n.push([o,r]),o=-1)}return e[i-1]&&i-o>=t&&n.push([o,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,o=0;o<n;o+=1)t[e.charAt(o)]=0;for(var r=0;r<n;r+=1)t[e.charAt(r)]|=1<<n-r-1;return t}},function(e,t,n){var o=n(0);e.exports=function(e,t){return function e(t,n,r){if(n){var i=n.indexOf("."),a=n,s=null;-1!==i&&(a=n.slice(0,i),s=n.slice(i+1));var c=t[a]
;if(null!=c)if(s||"string"!=typeof c&&"number"!=typeof c)if(o(c))for(var l=0,d=c.length;l<d;l+=1)e(c[l],s,r);else s&&e(c,s,r);else r.push(c.toString())}else r.push(t);return r}(e,t,[])}}])}()}()},"/7XU":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("MEpN"),a=n("UxO+"),s=n("mG1W");class c{constructor(){r()(this,"listeners",[]),r()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher){Object(n("Dp3h").b)(this.eventDispatcher)(n("rJZJ").f,{payload:e})}}))}static from(e,t,n){const o=new c;return o._privateRegisterEditor(e,t,n),o}_privateGetEditorView(){return this.editorView}_privateGetEventDispatcher(){return this.eventDispatcher}_privateRegisterEditor(e,t,n){if(this.contentTransformer=n,this.eventDispatcher=t,!this.editorView&&e)this.editorView=e,this.listeners.forEach((n=>n(e,t)));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.")
;this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))}_privateUnregisterEditor(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0}_privateSubscribe(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)}_privateUnsubscribe(e){this.listeners=this.listeners.filter((t=>t!==e))}focus(){return!(!this.editorView||this.editorView.hasFocus())&&(this.editorView.focus(),this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0)}blur(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)}clear(){if(!this.editorView)return!1;const e=this.editorView,{state:t}=e,n=e.state.tr.setSelection(a.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0}async __temporaryFixForConfigPanel(){const{editorView:e}=this;e&&Object(n("soJG").a)(e)}async getValue(){
const{editorView:e}=this;if(!e)return;const t=await Object(n("soJG").c)(e),o=Object(n("D4z0").x)(t);if(!this.contentEncode)return o;const r=i.Node.fromJSON(this.editorView.state.schema,o);return this.contentEncode(r)}getNodeByLocalId(e){var t,o,r;if(null!==(t=this.editorView)&&void 0!==t&&t.state)return null===(o=Object(n("wqCz").b)(null===(r=this.editorView)||void 0===r?void 0:r.state,e))||void 0===o?void 0:o.node}isDocumentEmpty(){return!this.editorView||Object(n("x+VZ").g)(this.editorView.state.doc)}replaceDocument(e,t=!0,o=!0){if(!this.editorView||null==e)return!1;const{state:r}=this.editorView,{schema:i}=r,s=Object(n("x+VZ").m)(i,e,void 0,void 0,this.contentTransformer,this.dispatchAnalyticsEvent);if(!s)return!1;let c=r.tr.replaceWith(0,r.doc.nodeSize-2,s.content);return t||c.selectionSet||c.setSelection(a.Selection.atStart(c.doc)),t&&(c=c.scrollIntoView()),o||c.setMeta("addToHistory",!1),this.editorView.dispatch(c),!0}replaceSelection(e,t){if(!this.editorView)return!1
;const{state:o}=this.editorView;if(!e){const e=o.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(e),!0}const{schema:r}=o,i=Object(n("x+VZ").m)(r,e);return!!i&&(this.editorView.dispatch(Object(s.safeInsert)(i,void 0,t)(o.tr).scrollIntoView()),!0)}appendText(e){if(!this.editorView||!e)return!1;const{state:t}=this.editorView,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;const o=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(o),!0}}},"/8BB":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=n("vOnD").css`.inline-node--mobile{display:inline-block !important;}`},"/97s":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var o=n("3tO9"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("lSNA"),c=n.n(s),l=n("q1tI"),d=n.n(l),u=n("vOnD");const p=n("9cwX").i+n("9cwX").e,h=n("9cwX").Z+n("9cwX").e,f=u.css`position:absolute;right:0;height:calc(100% - ${n("9cwX").a});`,m=u.default.div.withConfig({componentId:"mayhmt-0"
})`width:${e=>e.visible?e.panelWidth:0}px;height:100%;transition:width ${500}ms ${n("9cwX").O};overflow:hidden;box-shadow:inset 2px 0 0 0 ${"#EBECF0"};${e=>(({positionPanelOverEditor:e})=>{if(e)return f})(e)};`,g=u.default.div.withConfig({componentId:"mayhmt-1"})`transition:width 600ms ${n("9cwX").O};box-sizing:border-box;padding:16px 16px 0px;width:${e=>e.visible?e.panelWidth:0}px;height:100%;overflow-y:auto;`;class b extends d.a.PureComponent{constructor(...e){super(...e),c()(this,"state",{mounted:!1,currentPluginContent:void 0}),c()(this,"showPluginContent",(()=>{const{pluginContent:e}=this.props,{currentPluginContent:t}=this.state;if(t)return d.a.createElement(n("dRu9").d,{timeout:this.state.mounted?500:0,in:!!e,mountOnEnter:!0,unmountOnExit:!0,onExited:()=>this.unsetPluginContent()},t)})),c()(this,"showProvidedContent",(e=>{const{children:t}=this.props;if(t)return d.a.createElement(n("dRu9").d,{timeout:this.state.mounted?500:0,in:e,mountOnEnter:!0,unmountOnExit:!0},t)}))}
static getDerivedStateFromProps(e,t){return e.pluginContent!==t.currentPluginContent?r()(r()({},t),{},{currentPluginContent:e.pluginContent}):null}unsetPluginContent(){this.setState({currentPluginContent:void 0})}componentDidMount(){this.setState({mounted:!0})}render(){const{editorWidth:e}=this.props,t=n("9cwX").g,o=!!this.props.visible,r=o||!!this.state.currentPluginContent;return d.a.createElement(n("GxTc").a,null,(({broadcastWidth:i,broadcastPosition:a,positionedOverEditor:s})=>{const c=!!e&&((e,t)=>{const{lineLength:o,containerWidth:r=0,contentBreakoutModes:i}=e,a=!(o&&o>n("9cwX").i),s=!i.length&&r>=2*t+p,c=!i.includes("full-width")&&i.includes("wide")&&r>=2*t+h;return a&&(s||c)})(e,t);return i(r?t:0),(c&&r)!==s&&a(c&&r),d.a.createElement(m,{panelWidth:t,visible:r,positionPanelOverEditor:c,"data-testid":"context-panel-panel"},d.a.createElement(g,{panelWidth:t,visible:r},this.showPluginContent()||this.showProvidedContent(o)))}))}}b.displayName="SwappableContentArea"
;class v extends d.a.Component{render(){return d.a.createElement(n("WdXo").a,{render:e=>{const t=e._privateGetEventDispatcher(),o=e._privateGetEditorView();return t?d.a.createElement(n("fd7e").a,{eventDispatcher:t,plugins:{contextPanel:n("3FAS").b,widthState:n("IXso").b},render:({contextPanel:e,widthState:t={width:0,containerWidth:0,lineLength:n("9cwX").i}})=>{const i=e&&e.contents.find(Boolean),s=r()(r()({},t),{},{contentBreakoutModes:o?Object(n("x+VZ").c)(o.state.doc,o.state.schema):[]});return d.a.createElement(b,a()({},this.props,{editorView:o,pluginContent:i,editorWidth:s}))}}):d.a.createElement(b,a()({editorView:o},this.props))}})}}v.displayName="ContextPanel"},"/DD6":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a \u201ctask\u201d, \u201cto do item\u201d, or a checklist"},actionDescription:{
id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},filesAndImages:{id:"fabric.editor.filesAndImages",defaultMessage:"Files & images",description:"Insert one or more files or images"},filesAndImagesDescription:{id:"fabric.editor.filesAndImages.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},
emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas \ud83c\udf89 and emotions \ud83d\ude04",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision you\u2019ve made"},decisionDescription:{id:"fabric.editor.decision.description",
defaultMessage:"Capture decisions so they\u2019re easy to track",description:"Capture a decision you\u2019ve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",
description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},
viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}})},"/Dh2":function(t,n,o){"use strict";function r(t,n="untitled"){if(0===t.length)throw new Error("dataURI not found");const o=t.split(","),r=o[0].indexOf("base64")>=0?atob(o[1]):decodeURIComponent(o[1]);let i;try{i=t.split(",")[0].split(":")[1].split(";")[0]}catch(e){i="application/octet-stream"}const a=new Uint8Array(r.length);for(let e=0;e<r.length;e++)a[e]=r.charCodeAt(e);const s=new Blob([a],{type:i});try{return new File([s],n,{type:i})}catch(e){const o=s,r=new Date
;return o.lastModified=r.getTime(),o.lastModifiedDate=r,o.name=n,o.webkitRelativePath="",o}}function i(e){return new Promise(((t,n)=>{const o=new FileReader;o.addEventListener("load",(()=>{const e=o.result;"string"==typeof e?t(e):null===e&&n()})),o.addEventListener("error",n),o.readAsDataURL(e)}))}async function a(e,t){return{file:e,src:t||await i(e)}}async function s(e,t){return{file:t||await r(e),src:e}}function c(e){return new Promise(((t,n)=>{const o=new FileReader;o.addEventListener("load",(()=>{const e=new Uint8Array(o.result);t(e)})),o.addEventListener("error",n),o.readAsArrayBuffer(e)}))}function l(e){return new Promise(((t,n)=>{const o=new Image;o.src=e,o.onload=()=>{t(o)},o.onerror=n}))}function d(e){e.style.position="absolute",e.style.visibility="hidden",document.body.appendChild(e);const{width:t,height:n}=e.getBoundingClientRect();return document.body.removeChild(e),{width:t,height:n}}o.d(n,"a",(function(){return r})),o.d(n,"c",(function(){return i})),o.d(n,"e",(function(){
return a})),o.d(n,"f",(function(){return s})),o.d(n,"b",(function(){return c})),o.d(n,"i",(function(){return l})),o.d(n,"j",(function(){return d})),o.d(n,"d",(function(){return u})),o.d(n,"h",(function(){return h})),o.d(n,"g",(function(){return f}));const u=(e,t,n=document.body)=>{if(e.classList.contains(t))return e;let o=e;for(;o.parentElement!==n;){if(!o.parentElement)return;if(o=o.parentElement,o.classList.contains(t))return o}},p=[{label:"pdf",mimeTypes:["application/pdf"],icon:o.n(o("nwfx")).a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:o.n(o("0WRA")).a},{label:"google-slides",mimeTypes:["application/vnd.google-apps.presentation"],icon:o.n(o("JW/m")).a},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:o.n(o("0WRA")).a},{label:"google-sheets",mimeTypes:["application/vnd.google-apps.spreadsheet"],icon:o.n(o("fLGs")).a},{label:"google-docs",mimeTypes:["application/vnd.google-apps.document","application/vnd.google-apps.kix"],
icon:o.n(o("ZB51")).a},{label:"microsoft-word",mimeTypes:["application/msword","application/vnd.openxmlformats-officedocument.word"],icon:o.n(o("6yBG")).a},{label:"presentation",mimeTypes:["application/x-iwork-keynote-sffkey","application/vnd.oasis.opendocument.presentation"],icon:o.n(o("91Wa")).a},{label:"powerpoint-presentation",mimeTypes:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],icon:o.n(o("fbPS")).a},{label:"giphy",mimeTypes:["image/gif"],icon:o.n(o("eOwP")).a},{label:"spreadsheet",mimeTypes:["text/csv"],icon:o.n(o("t+49")).a},{label:"excel-spreadsheet",mimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/x-iwork-keynote-sffnumbers"],icon:o.n(o("kNBt")).a}];function h(e,t){const n=p.find((t=>t.mimeTypes.indexOf(e)>-1));return n||(Object(o("+c6o").c)(t)?{label:"source-code",icon:o.n(o("7c2K")).a}:t.match(/.*\.sketch$/)?{label:"sketch",
icon:o.n(o("MnA9")).a}:t.match(/.*\.fig$/)?{label:"figma",icon:o.n(o("fHUw")).a}:t.match(/.*\.exe$/)||t.match(/.*\.dmg$/)?{label:"executable",icon:o.n(o("Ciyk")).a}:void 0)}const f=e=>e?void 0:"allow-downloads allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"},"/OWP":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("TSYQ"),c=n.n(s),l=n("vOnD");const d=new(n("UxO+").PluginKey)("gridPlugin"),u=12,p=e=>{const t=Object(n("Dp3h").b)(e);return(e,n,o=[])=>t(d,{visible:e,gridType:n,highlight:o})},h=e=>"wrap-left"===e||"wrap-right"===e?"wrapped":"full",f=["left","right"],m=(e,t,n,o)=>{if(!e.length)return!1;const r=e.reduce(((e,t)=>Math.min(e,t))),i=e.reduce(((e,t)=>Math.max(e,t)));return"left"===t?r<0&&r<=-n&&("number"!=typeof o||r>=-(n+o)):i>u&&i>=u+n&&("number"!=typeof o||i<=u+o)},g=(e,t,o,r)=>{const i=[];if(!r)return i
;const s=(e*n("9cwX").db-e)/2;return f.forEach((r=>{i.push(a.a.createElement("div",{key:r,className:c()("gridLine",m(o,r,0,4)?"highlight":""),style:{position:"absolute",[r]:`-${s}px`}})),i.push(a.a.createElement("div",{key:r+"-bk",className:c()("gridLine",o.indexOf("full-width")>-1?"highlight":""),style:{position:"absolute",[r]:`-${(t-e-n("9cwX").e)/2}px`}}))})),i},b=e=>{const t=[];for(let n=0;n<=u;n++){const o={paddingLeft:"8.333333333333334%"};t.push(a.a.createElement("div",{key:n,className:c()("gridLine",e.indexOf(n)>-1?"highlight":""),style:n<u?o:void 0}))}return t};class v extends a.a.Component{render(){const{highlight:e,shouldCalcBreakoutGridLines:t,theme:n,containerElement:o,editorWidth:r,gridType:i,visible:s}=this.props,l=n.layoutMaxWidth;let d=[...b(e),...g(l,r,e,t)];return a.a.createElement("div",{className:"gridParent"},a.a.createElement("div",{className:c()("gridContainer",i),style:{height:`${o.scrollHeight}px`,display:s?"block":"none"}},d))}}v.displayName="Grid"
;const y=Object(l.withTheme)(v);t.b=e=>({name:"grid",contentComponent:({editorView:t})=>a.a.createElement(n("fd7e").a,{plugins:{grid:d,widthState:n("IXso").b},render:({grid:o,widthState:i={width:n("9cwX").r}})=>o?a.a.createElement(y,r()({shouldCalcBreakoutGridLines:e&&e.shouldCalcBreakoutGridLines,editorWidth:i.width,containerElement:t.dom},o)):null})})},"/Tf5":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));const o="@atlaskit/editor-core",r="150.0.0",i=()=>[Number(r.split(".")[0])+1,0,0].join(".")},"/Tz6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M11.359 15V9.004h-1.5v2.352H7.504V9.004H6V15h1.504v-2.418h2.355V15h1.5zm1.393-6v6h2.483C17.013 15 18 13.911 18 11.942 18 10.068 16.996 9 15.235 9h-2.483zm1.503 1.226h.71c.946 0 1.503.627 1.503 1.745 0 1.188-.529 1.803-1.504 1.803h-.709v-3.548z" fill="inherit"/></g></svg>'},e));i.displayName="VidHdCircleIcon";var a=i;t.default=a},"/f6Q":function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t,n,r){var i,a,s,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(l++))&&45!==i&&95!==i)return!1;for(a=1;l<d;){if((s=e.src.charCodeAt(l++))!==i&&!o(s))return!1;s===i&&a++}return!(a<3)&&(r||(e.line=t+1,(c=e.push("hr","hr",0)).map=[t,e.line],c.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},"/lNA":function(e,t,n){"use strict";n.d(t,"b",(function(){
return o})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));const o=({siteUrl:e,sites:t})=>e||(t&&t.length>0?t[0].siteUrl:""),r=(e,t)=>{const n=t.find((t=>t.cloudId===e));return n?n.siteUrl:""},i=(e,t=[])=>{const n=e.match(/^(http(s)?:\/\/[^\/]+)/);if(!n)return"";const o=n[0],r=t.find((e=>e.siteUrl===o));return r?r.cloudId:""},a=(e,t="",n,o="")=>e&&t?t:o?`/${o}/people/${n}`:`/people/${n}`,s=(e=[])=>e.slice(0,3)},"/r+8":function(e,t,n){"use strict";n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return S})),n.d(t,"e",(function(){return C})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return x}));var o=n("3tO9"),r=n.n(o),i=n("MEpN"),a=n("CsC6"),s=n("ABBN");function c(e,t){return function(n,o){var r=n.selection,s=r.$from,c=r.$to,l=s.blockRange(c),d=!1,u=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){
if(0==s.index(l.depth-1))return!1;var p=n.doc.resolve(l.start-2);u=new i.NodeRange(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new i.NodeRange(s,n.doc.resolve(c.end(l.depth)),l.depth)),d=!0}var h=Object(a.m)(u,e,t,l);return!!h&&(o&&o(function(e,t,n,o,r){for(var s=i.Fragment.empty,c=n.length-1;c>=0;c--)s=i.Fragment.from(n[c].type.create(n[c].attrs,s));e.step(new a.d(t.start-(o?2:0),t.end,t.start,t.end,new i.Slice(s,0,0),n.length,!0));for(var l=0,d=0;d<n.length;d++)n[d].type==r&&(l=d+1);for(var u=n.length-l,p=t.start+n.length-(o?2:0),h=t.parent,f=t.startIndex,m=t.endIndex,g=!0;f<m;f++,g=!1)!g&&Object(a.k)(e.doc,p,u)&&(e.split(p,u),p+=2*u),p+=h.child(f).nodeSize;return e}(n.tr,l,h,d,e).scrollIntoView()),!0)}}var l=n("mG1W");const d={[n("nvD9").b.JOIN_SIBLINGS]:(e,t,o,r)=>{const i=r.node(-1);if(!i.firstChild)return!1;const a=r.before(-1),s=r.after(-1),c=o.pos-1,l=o.pos,d=r.parent.content,u=i.content.cut(i.firstChild.nodeSize)
;return Object(n("+U5V").d)(e,(e=>e.doc.resolve(c)),[[d,c],[u,l]],[[a,s]]),t&&t(e),!0},[n("nvD9").b.JOIN_DESCENDANT_TO_PARENT]:(e,t,o,r)=>{const i=r.node(-2),a=r.node(-1);if(!a.firstChild||!a.lastChild)return!1;const s=r.before(-2),c=r.before(-1),l=o.after(),d=r.after(-2),u=r.after(-1),p=r.start(-2),h=Object(n("EvmU").d)(a.lastChild),f=1===i.childCount&&!h,m=o.pos,g=l,b=p,v=r.parent.content,y=h?a.content.cut(a.firstChild.nodeSize,a.nodeSize-a.lastChild.nodeSize-2):a.content.cut(a.firstChild.nodeSize),E=a.lastChild.content;return Object(n("+U5V").d)(e,(e=>e.doc.resolve(m)),h?[[v,m],[y,g],[E,b]]:[[v,m],[y,g]],[f?[s,d]:[c,u]]),t&&t(e),!0},[n("nvD9").b.JOIN_TO_SIBLING_DESCENDANT]:(e,t,o,r,i)=>{if(!i)return!1;const a=r.node(-1);if(!a.firstChild||!a.lastChild)return!1
;const s=r.parent,c=r.before(-1),l=i.after(),d=r.after(-1),u=Object(n("EvmU").d)(a.lastChild),p=i.pos,h=l,f=o.pos-1,m=s.content,g=u?a.content.cut(a.firstChild.nodeSize,a.nodeSize-a.lastChild.nodeSize-2):a.content.cut(a.firstChild.nodeSize),b=a.lastChild.content;return Object(n("+U5V").d)(e,(e=>e.doc.resolve(p)),u?[[m,p],[g,h],[b,f]]:[[m,p],[g,h]],[[c,d]]),t&&t(e),!0}},u=(e,t)=>{const{tr:o,selection:{$head:r}}=e,i=Object(n("+U5V").k)(r);if(!Object(n("+U5V").f)(e))return!1;const a=((e,t,o)=>{const{$pos:r,foundNode:i}=e,a=Object(n("DQ6B").e)(r),s=Object(n("DQ6B").f)(t),c=0===t.index(-1),l=Object(n("DQ6B").e)(t);if(!(i&&a&&s&&c&&l))return!1;if(Object(n("DQ6B").f)(r))return[n("nvD9").b.JOIN_DESCENDANT_TO_PARENT,null];const d=r.parent.lastChild&&Object(n("EvmU").d)(r.parent.lastChild),u=Object(n("EvmU").e)(r.parent.lastChild);let p,h=o.doc.resolve(r.pos);do{let e=Object(n("+U5V").k)(h);h=e.$pos,p=e.foundNode}while(p&&!h.parent.isTextblock);const f=Object(n("DQ6B").f)(h)
;return p&&d&&f?[n("nvD9").b.JOIN_TO_SIBLING_DESCENDANT,h]:!!u&&[n("nvD9").b.JOIN_SIBLINGS,null]})(i,r,o);if(!a)return!1;const{bulletList:s,orderedList:c}=e.schema.nodes,u=Object(l.findParentNodeOfType)([s,c])(o.selection);let p=n("J5HJ").c.FORMAT_LIST_BULLET;return u&&u.node.type===c&&(p=n("J5HJ").c.FORMAT_LIST_NUMBER),Object(n("SVcB").a)(e,o,{action:n("J5HJ").a.LIST_ITEM_JOINED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:p,eventType:n("J5HJ").e.TRACK,attributes:{inputMethod:n("J5HJ").f.KEYBOARD,direction:n("nvD9").a.BACKWARD,scenario:a[0]}}),d[a[0]](o,t,i.$pos,r,a[1])},p=({tr:e,$next:t,$head:o})=>{if(o.parent.content.size<1)return Object(n("+U5V").d)(e,(e=>e.doc.resolve(o.pos)),[],[[o.pos-1,o.pos]]),!0;const r=o.pos,a=e.doc.nodeAt(t.pos-1),s=e.doc.nodeAt(t.pos);if(!a||!s)return!1;const c=s.firstChild;if(!c)return!1;const l=s.lastChild,d=c.firstChild,u=h(s)&&c.childCount<2&&t.nodeAfter,p=!h(s)&&l&&Object(n("EvmU").d)(l),f=[],m=[]
;if(h(a)&&h(s)&&t.nodeAfter&&m.push([e.mapping.map(t.pos-1),e.mapping.map(t.pos+t.nodeAfter.nodeSize+1)]),p){const n=i.Fragment.from(l.content);f.push([n,e.mapping.map(t.pos)])}if(u||p){m.push([e.mapping.map(t.pos),e.mapping.map(t.pos+s.nodeSize-1)]);const a=i.Fragment.from(c.content);return f.push([a,r]),Object(n("+U5V").d)(e,(e=>e.doc.resolve(o.pos)),f,m),!0}if(s.childCount>1)return f.push([i.Fragment.from(c.content),r]),m.push([e.mapping.map(t.pos+1),e.mapping.map(t.pos+c.nodeSize+1)]),Object(n("+U5V").d)(e,(e=>e.doc.resolve(o.pos)),f,m),!0;if(d&&"hardBreak"===d.type.name){const n=d?d.nodeSize:0;m.push([e.mapping.map(t.pos+2),e.mapping.map(t.pos+2+n)])}else{f.push([i.Fragment.from(c.content),r]);const n=c.nodeSize;m.push([e.mapping.map(t.pos),e.mapping.map(t.pos+2+n)])}return Object(n("+U5V").d)(e,(e=>e.doc.resolve(o.pos)),f,m),!0},h=e=>1===e.childCount,f=({tr:e,$next:t,$head:o})=>{const r=t.parent,i=t.before(),a=t.after(),s=o.pos,c=r.content
;return Object(n("+U5V").d)(e,(e=>e.doc.resolve(s)),[[c,s]],[[i,a]]),!0},m=({tr:e,$next:t,$head:o})=>{const r=t.parent,i=t.nodeAfter;if(!i||!i.lastChild)return!1;const a=i.firstChild;if(!a)return!1;const s=t.before(),c=t.pos,l=o.after(),d=t.after(),u=e.doc.resolve(t.pos+1).after(),p=Object(n("EvmU").d)(i.lastChild),h=1===r.childCount&&!p,f=o.pos,m=l,g=t.pos,b=a.content,v=p?i.content.cut(a.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(a.nodeSize),y=i.lastChild.content;return Object(n("+U5V").d)(e,(e=>e.doc.resolve(f)),p?[[b,f],[v,m],[y,g]]:[[b,f],[v,m]],[h?[s,d]:[c,u]]),!0},g=({tr:e,$next:t,$head:o})=>{const r=t.parent,i=t.nodeAfter;if(!i)return!1;const a=t.before(),s=t.after(),c=o.end(-1),l=o.pos,d=c,u=i.content,p=r.content.cut(i.nodeSize);return Object(n("+U5V").d)(e,(e=>e.doc.resolve(l)),[[u,l],[p,d]],[[a,s]]),!0},b=({tr:e,$next:t,$head:o})=>{const r=t.parent;if(!r.firstChild||!r.lastChild)return!1
;const i=t.before(),a=t.before(),s=t.after(),c=Object(n("EvmU").d)(r.lastChild),l=o.pos,d=o.pos+1,u=a-2,p=r.firstChild.content,h=c?r.content.cut(r.firstChild.nodeSize,r.nodeSize-r.lastChild.nodeSize-2):r.content.cut(r.firstChild.nodeSize),f=r.lastChild.content;return Object(n("+U5V").d)(e,(e=>e.doc.resolve(l)),c?[[p,l],[h,d],[f,u]]:[[p,l],[h,d]],[[i,s]]),!0};var v=n("UxO+");const y=({tr:e,nextListNodeType:t})=>{const{selection:o,selection:{from:r,to:i}}=e,a=[];o instanceof v.TextSelection&&o.$cursor?a.push(r):e.doc.nodesBetween(r,i,((e,t)=>{if(!e.isLeaf)return!0;a.push(t)})),a.reduce(((t,o)=>{const r=Object(l.findParentNodeClosestToPos)(e.doc.resolve(o),n("EvmU").d);if(!r)return t;return t.find((e=>e.pos===r.pos&&e.start===r.start&&e.depth===r.depth))||t.push(r),t}),[]).forEach((n=>{e.setNodeMarkup(n.pos,t)}))},E=({tr:e,nextListNodeType:t,nodeRange:n})=>{for(let o=n.endIndex-1;o>=n.startIndex;o--){const r=n.$from.posAtIndex(o,n.depth),i=e.doc.resolve(r+1),s=i.blockRange(i);if(!s)return
;const c=Object(a.m)(s,t);if(!s||!c)return;e.wrap(s,c)}},w=(e,t)=>{const{selection:o}=e;if(o.empty){const{$from:r}=o,{listItem:a,codeBlock:s}=e.schema.nodes,c=r.node(r.depth),d=r.node(r.depth-1);if(d&&d.type===a){const r=Object(n("x+VZ").f)(d);if(Object(n("x+VZ").j)(c)&&!r)return Object(n("bIcM").a)(n("J5HJ").f.KEYBOARD)(e,t);if(!Object(l.hasParentNodeOfType)(s)(o))return function(e){return function(t,n){const o=t.selection,r=o.$from,a=o.$to,s=o.node;if(s&&s.isBlock||r.depth<2||!r.sameParent(a))return!1;const c=r.node(-1);if(c.type!==e)return!1;if(c.content.content.length<=1&&0===r.parent.content.size&&0!==c.content.size){if(2===r.depth||r.node(-3).type!==e||r.index(-2)!==r.node(-2).childCount-1)return!1;if(n){let o=i.Fragment.empty;const a=r.index(-1)>0;for(let e=r.depth-(a?1:2);e>=r.depth-3;e--)o=i.Fragment.from(r.node(e).copy(o));o=o.append(i.Fragment.from(e.createAndFill()));const s=t.tr.replace(r.before(a?void 0:-1),r.after(-3),new i.Slice(o,a?3:2,2))
;s.setSelection(t.selection.constructor.near(s.doc.resolve(r.pos+(a?3:2)))),n(s.scrollIntoView())}return!0}const l=a.pos===r.end()?c.contentMatchAt(0).defaultType:void 0,d=t.tr.delete(r.pos,a.pos),u=l&&[void 0,{type:l}];return n&&n(d.split(r.pos,2,u).scrollIntoView()),!0}}(a)(e,t)}}return!1},O=(e,t)=>s.c(u,Object(n("+U5V").b)([n("+U5V").f,n("+U5V").g,n("DQ6B").d],s.c(k,Object(n("bIcM").a)(n("J5HJ").f.KEYBOARD))),Object(n("+U5V").b)([n("+U5V").f,n("DQ6B").a],I))(e,t),S=(e,t)=>{const{tr:o,selection:{$head:r}}=e,i=Object(n("+U5V").j)(r);if(!Object(n("+U5V").e)(e))return!1;const a=((e,t)=>{const{$pos:o,foundNode:r}=e,i=t.parent,a=t.node(-1),s=Object(n("DQ6B").e)(t),c=Object(n("DQ6B").f)(t),l=a&&a.lastChild&&(a.lastChild===i||a.childCount>1&&a.child(a.childCount-2)===i&&Object(n("EvmU").d)(a.lastChild)),d=Object(n("DQ6B").e)(o),u=Object(n("DQ6B").f)(o);if(!s&&c&&d)return[n("nvD9").b.JOIN_LIST_ITEM_WITH_PARAGRAPH,p];if(!(r&&s&&c&&l))return!1
;if(!d&&u)return[n("nvD9").b.JOIN_PARAGRAPH_WITH_LIST,f];if(!d)return!1;const h=o.nodeAfter,v=o.node(-1),y=t.node(-2),E=Object(n("EvmU").c)(o.parent),w=Object(n("EvmU").c)(h),O=h&&w&&Object(n("EvmU").e)(h.firstChild);if(!E&&O)return[n("nvD9").b.JOIN_DESCENDANT_TO_PARENT,m];if(!E)return!1;const S=v&&v===y;return!!Object(n("EvmU").e)(h)&&(S?[n("nvD9").b.JOIN_SIBLINGS,g]:[n("nvD9").b.JOIN_PARENT_SIBLING_TO_PARENT_CHILD,b])})(i,r);if(!a)return!1;const[s,c]=a;if(!c({tr:o,$next:i.$pos,$head:r}))return!1;const{bulletList:d,orderedList:u}=e.schema.nodes,h=Object(l.findParentNodeOfType)([d,u])(o.selection);let v=n("J5HJ").c.FORMAT_LIST_BULLET;return h&&h.node.type===u&&(v=n("J5HJ").c.FORMAT_LIST_NUMBER),Object(n("SVcB").a)(e,o,{action:n("J5HJ").a.LIST_ITEM_JOINED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:v,eventType:n("J5HJ").e.TRACK,attributes:{inputMethod:n("J5HJ").f.KEYBOARD,direction:n("nvD9").a.FORWARD,scenario:s}}),t&&t(o),!0};function C(e,t){return function(o,l){let d=o.tr
;const u=Object(n("DQ6B").j)(d),p=o.schema.nodes[t],h="bulletList"===t?n("J5HJ").c.FORMAT_LIST_BULLET:n("J5HJ").c.FORMAT_LIST_NUMBER;if(u){const{selection:s}=o,c=s.$from.node(s.$from.depth-2),f=s.$to.node(s.$to.depth-2),m="bulletList"===u.type.name?n("J5HJ").c.FORMAT_LIST_BULLET:n("J5HJ").c.FORMAT_LIST_NUMBER;if(c.type.name===t&&f.type.name===t){let t=o.tr;return function(e){const{selection:t}=e,o=((e,t)=>{const{bulletList:n,orderedList:o,listItem:r}=t;let i;for(let a=e.depth-1;a>0;a--){const t=e.node(a);if(t.type!==n&&t.type!==o||(i=a),t.type!==n&&t.type!==o&&t.type!==r)break}return i})(t.$to,e.doc.type.schema.nodes);e=Object(n("VMKi").a)(t.$to.pos,t.$to.end(o),o||0,e),e=Object(n("VMKi").b)(t,e)}(t),Object(n("SVcB").a)(o,t,{action:n("J5HJ").a.CONVERTED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:n("J5HJ").c.TEXT,eventType:n("J5HJ").e.TRACK,attributes:r()(r()({},Object(n("2xgt").a)(o)),{},{transformedFrom:m,inputMethod:e})}),l&&l(t),!0}!function({tr:e,nextListNodeType:t}){
const{doc:o,selection:{$from:r,$to:s}}=e;if(r.blockRange(s,n("EvmU").d))return y({tr:e,nextListNodeType:t});const c=r.blockRange(s);if(!c)return;const l=c.parent,{startIndex:d,endIndex:u,depth:p}=c,h={from:Object(n("EvmU").d)(l.child(d))?null:o.resolve(c.$from.posAtIndex(d,p)+1),to:null},f={from:null,to:Object(n("EvmU").d)(l.child(u-1))?null:o.resolve(c.$from.posAtIndex(u-1,p)+1)};let m,g,b,v,w=!1,O=!1;for(let i=d;i<u;i++){const e=c.$from.posAtIndex(i,p),t=o.resolve(e);if(Object(n("x+VZ").h)(l.child(i))&&!w&&(h.from=o.resolve(c.$from.posAtIndex(i,p)+2)),Object(n("x+VZ").h)(l.child(i))&&w&&!O&&(f.to=t,O=!0),Object(n("EvmU").d)(l.child(i))||w){if(!w){w=!0;const e=o.resolve(t.pos+1).end()+1;o.resolve(e).nodeAfter&&(f.from=o.resolve(e+1))}}else h.to=o.resolve(t.pos+1)}if(f.from&&f.to){const n=e.mapping.map(f.from.pos),o=e.mapping.map(f.to.pos);v=new i.NodeRange(e.doc.resolve(n),e.doc.resolve(o),c.depth),b={tr:e,nextListNodeType:t,nodeRange:v}}if(h.from&&h.to){
const n=e.mapping.map(h.from.pos),o=e.mapping.map(h.to.pos);g=new i.NodeRange(e.doc.resolve(n),e.doc.resolve(o),c.depth),m={tr:e,nextListNodeType:t,nodeRange:g}}!v&&!g||v&&!Object(a.m)(v,t)||g&&!Object(a.m)(g,t)||(b&&E(b),m&&E(m),e.docChanged&&Object(n("EvmU").f)({tr:e,forceListType:t}))}({tr:d,nextListNodeType:p}),Object(n("SVcB").a)(o,d,{action:n("J5HJ").a.CONVERTED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:h,eventType:n("J5HJ").e.TRACK,attributes:r()(r()({},Object(n("2xgt").a)(o)),{},{transformedFrom:m,inputMethod:e})})}else{const t=e=>{d=e};!function(e){return s.a(c(e),((t,n)=>t.type===n.type&&t.type===e))}(p)(o,t),Object(n("SVcB").a)(o,d,{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:h,eventType:n("J5HJ").e.TRACK,attributes:{inputMethod:e}})}return!!d.docChanged&&(Object(n("RLN1").d)(d,p),l&&l(d),!0)}}function T(e,t=n("J5HJ").f.TOOLBAR){return C(t,"bulletList")(e.state,e.dispatch)}function x(e,t=n("J5HJ").f.TOOLBAR){
return C(t,"orderedList")(e.state,e.dispatch)}const k=(e,t)=>{const{$from:o}=e.selection,{listItem:r}=e.schema.nodes,i=Object(n("+U5V").c)(o);if(!i||!i.nodeBefore||i.nodeBefore.type!==r)return!1;if(1===i.nodeBefore.childCount&&i.nodeBefore.firstChild.nodeSize<=2){const{tr:n}=e;return t&&t(n.delete(i.pos-i.nodeBefore.nodeSize,o.pos).scrollIntoView()),!0}return!1},I=(e,t)=>{const{$from:o}=e.selection,{paragraph:r,listItem:s,codeBlock:c,bulletList:d,orderedList:u}=e.schema.nodes,p=e.selection instanceof n("g1AK").a,h=p?e.doc.resolve(o.pos+1):o;let f=Object(n("+U5V").c)(h);if(!f)return!1;if(f.nodeBefore&&[d,u].indexOf(f.nodeBefore.type)>-1&&f.nodeAfter&&(f.nodeAfter.type===r||f.nodeAfter.type===c)){let n=f.doc.resolve(f.pos-1);for(;n.parent.type!==r;)n=e.doc.resolve(n.pos-1);let{tr:c}=e;if(p){const e=Object(l.findPositionOfNodeBefore)(c.selection);if("number"!=typeof e)return!1;const t=f.nodeBefore.copy(f.nodeBefore.content.append(i.Fragment.from(s.createChecked({},f.nodeAfter))))
;c.replaceWith(e,o.pos+f.nodeAfter.nodeSize,t)}else c=e.tr.step(new a.d(n.pos,f.pos+f.nodeAfter.nodeSize,f.pos+1,f.pos+f.nodeAfter.nodeSize-1,e.tr.doc.slice(n.pos,f.pos),0,!0));let h=c.doc.resolve(c.mapping.map(f.pos+f.nodeAfter.nodeSize));return h.nodeBefore&&h.nodeAfter&&h.nodeBefore.type===h.nodeAfter.type&&[d,u].indexOf(h.nodeBefore.type)>-1&&(c=c.join(h.pos)),t&&t(c.scrollIntoView()),!0}return!1}},"/x6/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const o="grammarly-extension, grammarly-popups, [data-grammarly-shadow-root]",r=[{name:"grammarly",fns:{sync:()=>{var e;return Boolean(null===(e=document)||void 0===e?void 0:e.querySelector(o))},async:(e,t)=>{var n;Boolean(null===(n=document)||void 0===n?void 0:n.querySelector(o))&&e();let r=[];const i=()=>{for(const n of r)for(const r of n){var t;if("childList"===(null==r?void 0:r.type)&&null!=r&&null!==(t=r.addedNodes)&&void 0!==t&&t.length){Array.from(r.addedNodes).some((e=>{var t
;return null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(o)}))&&e()}}r=[]},a=setInterval((()=>{"function"==typeof window.requestIdleCallback?window.requestIdleCallback(i):window.requestAnimationFrame(i)}),1e3),s=new MutationObserver((e=>{r.push(e)}));t((()=>{r=[],clearInterval(a),null==s||s.disconnect()})),s.observe(document.documentElement,{childList:!0,subtree:!0})}}}];function i(e){try{const t=((e,t)=>t.filter((t=>e.includes(t.name))).map((e=>({name:e.name,state:{detected:!1},fns:{async:e.fns.async,sync:e.fns.sync}}))))(e.extensions,r);if(!0===e.async){const n=[],o=Promise.all(t.map((e=>new Promise((t=>{const o=()=>{e.state.detected=!0,t()},r=e=>{n.push(e)};"function"==typeof e.fns.async?e.fns.async(o,r):(e.state.detected=!1,t())}))))),r=new Promise((t=>setTimeout(t,e.asyncTimeoutMs,"race_complete")));return Promise.race([o,r]).then((()=>t.filter((e=>e.state.detected)).map((e=>e.name)))).catch((()=>[])).finally((()=>n.map((e=>e()))))}return t.filter((e=>{var t,n
;return null===(t=(n=e.fns).sync)||void 0===t?void 0:t.call(n)})).map((e=>e.name))}catch(t){return e.async?Promise.resolve([]):[]}}},"01nc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e));i.displayName="EditorLinkIcon";var a=i;t.default=a},"0F7/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"tasks",[]),r()(this,"running",!1)}request(e){if(window.requestIdleCallback)window.requestIdleCallback(e);else{
const t=performance.now();setTimeout((()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(performance.now()-t))})}),0)}}pending(){var e,t,n,o;return"function"==typeof(null===(e=window.navigator)||void 0===e||null===(t=e.scheduling)||void 0===t?void 0:t.isInputPending)&&!0===(null===(n=window.navigator)||void 0===n||null===(o=n.scheduling)||void 0===o?void 0:o.isInputPending())}process(){this.running||(this.running=!0,this.request((e=>{for(;e.timeRemaining()>0&&this.tasks.length>0&&!this.pending();){const e=this.tasks.shift();e&&e()}this.running=!1,this.tasks.length>0&&this.process()})))}schedule(e){this.tasks.push(e),this.process()}}r()(i,"get",Object(n("2JGX").default)((()=>new i)));const a=e=>({payload:t,channel:o=n("+WSe").b})=>{if(!e)return;if(Boolean(e.__queueAnalytics)){i.get().schedule((()=>{var n;return null===(n=e(t))||void 0===n?void 0:n.fire(o)}))}else{var r;null===(r=e(t))||void 0===r||r.fire(o)}}},"0WRA":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#673AB7" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));i.displayName="GoogleForm24Icon";var a=i;t.default=a},"0XXv":function(e,t,n){"use strict";function o(e,t,a=[],s=document.createElement("canvas")){return function(e,t,a,s){const c=[];let l=0;for(let d=0;d<e.childNodes.length;d++){const u=e.childNodes[d];if(u.nodeType!==Node.COMMENT_NODE)if(u.nodeType===Node.TEXT_NODE){const e=u.parentNode,n=getComputedStyle(e);let o=0
;o="CODE"===e.nodeName||"PRE"===e.nodeName?i(a,e,u.textContent,n.font):r(a,u.textContent,n.font);const d=e.offsetLeft-t.offsetLeft;c.push(l),l+=o+d,"nowrap"===n.whiteSpace&&s.push(e.offsetWidth+3)}else{const e=getComputedStyle(u);e.minWidth&&e.minWidth.endsWith("px")&&"0px"!==e.minWidth&&s.push(Object(n("eGWo").a)(e.minWidth));const{width:r}=o(u,t,s,a);e.display&&e.display.indexOf("inline")>-1?l+=r:(c.push(l),l=r)}}return c.push(l),{minWidth:s.reduce(((e,t)=>Math.max(t,e)),0),width:c.reduce(((e,t)=>Math.max(t,e)),0)}}(e,t||e,s,a)}function r(e,t,n){const o=e.getContext("2d");return o?(n&&(o.font=n),Math.round(o.measureText(t||"").width)):0}function i(e,t,n,o){let i=t;"CODE"===t.nodeName&&(i=t.parentNode);const a=getComputedStyle(i);return n&&"pre"===a.whiteSpace?n.split("\n").reduce(((t,n)=>Math.max(r(e,n,o),t)),0):r(e,n,o)}n.d(t,"a",(function(){return o}))},"0dhB":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){
return a}));var o=n("vOnD");const r="\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n",i=o.default.div.withConfig({componentId:"sc-1gav7bo-0"})`${r}`,a=o.default.div.withConfig({componentId:"sc-1gav7bo-1"})`width:${420}px;display:flex;flex-direction:column;overflow:auto;padding:0;${({provider:e})=>o.css`width:${e?420:360}px;`};line-height:initial;`},"0unr":function(e,t,n){"use strict";function o(e,t){return Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}var r=function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace("#","").match(/.{2}/g);for(var a=0;a<n.length;a++)n[a]=parseInt(n[a],16);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return r.convert({conversions:o,operations:r,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},c={hex:{test:function(e){return"string"==typeof e&&"#"===e.slice(0,1)},convert:r},rgb:{test:function(e){return o(e,["r","g","b"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"hex":return 1==(y=Math.round(n.r).toString(16)).length&&(y="0"+y),1==(E=Math.round(n.g).toString(16)).length&&(E="0"+E),
1==(w=Math.round(n.b).toString(16)).length&&(w="0"+w),"#"+y+E+w;case"cssrgb":return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")";case"hsl":var s=[y=n.r/255,E=n.g/255,w=n.b/255].sort(),c=(s[0]+s[2])/2*100;return s[0]==s[2]?(v=0,b=0):(v=c>=50?(s[2]-s[0])/(2-s[2]-s[0])*100:(s[2]-s[0])/(s[2]+s[0])*100,(b=s[2]==y?(E-w)/(s[2]-s[0])*60:s[2]==E?60*(2+(w-y)/(s[2]-s[0])):60*(4+(y-E)/(s[2]-s[0])))<0?b+=360:b>360&&(b%=360)),{h:b,s:v,l:c};case"csshsl":var l=r.convert({conversions:o,helpers:i},"hsl",n);return"hsl("+Math.round(l.h)+","+Math.round(l.s)+"%,"+Math.round(l.l)+"%)";case"cmyk":var d=n.r/255,u=n.g/255,p=n.b/255,h=1-Math.max(d,u,p);if(1!=h)var f=(1-d-h)/(1-h),m=(1-u-h)/(1-h),g=(1-p-h)/(1-h);else f=0,m=0,g=0;return{c:f,m,y:g,k:h};case"hsv":var b,v,y=n.r/255,E=n.g/255,w=n.b/255,O=Math.min(y,E,w),S=Math.max(y,E,w),C=S-O;if(0==C)b=0,v=0;else{v=C/S;var T=((S-y)/6+C/2)/C,x=((S-E)/6+C/2)/C,k=((S-w)/6+C/2)/C;y==S?b=k-x:E==S?b=1/3+T-k:w==S&&(b=2/3+x-T),b<0&&(b+=1),b>1&&(b-=1)}
return{h:360*b,s:100*v,v:100*S};case"yiq":g=n.r/255*.299+n.g/255*.587+n.b/255*.114;var I=n.r/255*.596+n.g/255*-.274+n.b/255*-.322,A=n.r/255*.211+n.g/255*-.523+n.b/255*.312;return{y:g,i:I=i.bounded(I,[-.5957,.5957]),q:A=i.bounded(A,[-.5226,.5226])};case"XYZ":var N=[n.r,n.g,n.b].map((function(e){return e/255})).map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),M=i.getTransform("SRGB_XYZ").map((function(e){return N.reduce((function(t,n,o){return e[o]*n+t}),0)})).map((function(e){return 100*e})),R=a(M,3);return{X:R[0],Y:R[1],Z:R[2]};case"lms":case"cielab":case"cieluv":case"xyY":var j=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,j);case"cielch":var P=r.convert({conversions:o,operations:r,helpers:i},"cieluv",n);return r.convert({conversions:o,operations:r,helpers:i},t,P);case"hsluv":var D=r.convert({conversions:o,operations:r,helpers:i},"cielch",n);return r.convert({conversions:o,operations:r,
helpers:i},t,D)}}},cssrgb:{test:function(e){return"string"==typeof e&&"rgb("===e.slice(0,4)},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace(/((rgb\(|\))|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);switch(t){case"rgb":return{r:n[0],g:n[1],b:n[2]};default:return r.convert({conversions:o,operations:r,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}}},hsl:{test:function(e){return o(e,["h","s","l"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":if(0==n.s){var a=n.l/100*255;return{r:a,g:a,b:a}}var s,c,l;s=n.l>=50?n.l/100+n.s/100-n.l/100*(n.s/100):n.l/100*(1+n.s/100),c=n.l/100*2-s;var d,u,p,h=(.333+(l=n.h/360))%1,f=l,m=i.negMod(l-.333,1);return(d=6*h<1?c+6*(s-c)*h:2*h<1?s:3*h<2?c+6*(.666-h)*(s-c):c)<0&&(d=0),(u=6*f<1?c+6*(s-c)*f:2*f<1?s:3*f<2?c+6*(.666-f)*(s-c):c)<0&&(u=0),(p=6*m<1?c+6*(s-c)*m:2*m<1?s:3*m<2?c+6*(.666-m)*(s-c):c)<0&&(p=0),{r:255*d,g:255*u,b:255*p};case"csshsl":
return"hsl("+Math.round(n.h)+","+Math.round(n.s)+"%,"+Math.round(n.l)+"%)";case"hsv":n.s=n.s/100,n.l=n.l/100;var g=n.s*(n.l<.5?n.l:1-n.l);return{h:n.h,s:2*g/(n.l+g)*100,v:100*(n.l+g)};default:var b=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,b)}}},csshsl:{test:function(e){return"string"==typeof e&&"hsl("===e.slice(0,4)},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;n=n.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);switch(t){case"hsl":return{h:n[0],s:n[1],l:n[2]};default:return r.convert({conversions:o,operations:r,helpers:i},t,{h:n[0],s:n[1],l:n[2]})}}},hsv:{test:function(e){return o(e,["h","s","v"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":n.h=n.h/360,n.s=n.s/100,n.v=n.v/100;var a=6*n.h;6==a&&(a=0);var s,c,l,d=Math.round(a),u=n.v*(1-n.s),p=n.v*(1-n.s*(a-d)),h=n.v*(1-n.s*(1-(a-d)))
;return 0==d?(s=n.v,c=h,l=u):1==d?(s=p,c=n.v,l=u):2==d?(s=u,c=n.v,l=h):3==d?(s=u,c=p,l=n.v):4==d?(s=h,c=u,l=n.v):(s=n.v,c=u,l=p),{r:255*s,g:255*c,b:255*l};case"hsl":return n.h=n.h/360,n.s=n.s/100,n.v=n.v/100,{h:360*n.h,s:100*((2-n.s)*n.v<1?n.s*n.v/((2-n.s)*n.v):n.s*n.v/(2-(2-n.s)*n.v)),l:(2-n.s)*n.v/2*100};default:var f=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,f)}}},cmyk:{test:function(e){return o(e,["c","m","y","k"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"rgb":return{r:a=255*(1-n.c)*(1-n.k),g:s=255*(1-n.m)*(1-n.k),b:c=255*(1-n.y)*(1-n.k)};case"cssrgb":var a=255*(1-n.c)*(1-n.k),s=255*(1-n.m)*(1-n.k),c=255*(1-n.y)*(1-n.k);return"rgb("+Math.round(a)+","+Math.round(s)+","+Math.round(c)+")";default:var l=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,l)}}},yiq:{test:function(e){
return o(e,["y","i","q"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(n.i=i.bounded(n.i,[-.5957,.5957]),n.q=i.bounded(n.q,[-.5226,.5226]),t){case"rgb":var a=255*(n.y+.956*n.i+.621*n.q),s=255*(n.y+-.272*n.i+-.647*n.q),c=255*(n.y+-1.106*n.i+-1.703*n.q);return{r:a=i.bounded(a,[0,255]),g:s=i.bounded(s,[0,255]),b:c=i.bounded(c,[0,255])};default:var l=r.convert({conversions:o,operations:r,helpers:i},"rgb",n);return r.convert({conversions:o,operations:r,helpers:i},t,l)}}},XYZ:{test:function(e){return o(e,["X","Y","Z"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers,s=i.getIlluminant("D65");switch(t){case"rgb":var c=[n.X,n.Y,n.Z].map((function(e){return e/100})),l=i.getTransform("INVERSE_SRGB_XYZ").map((function(e){return c.reduce((function(t,n,o){return e[o]*n+t}),0)})).map((function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})).map((function(e){return 255*e})),d=a(l,3),u=d[0],p=d[1],h=d[2];return i.boundedRgb({r:u,
g:p,b:h});case"lms":var f=[n.X,n.Y,n.Z].map((function(e){return e/100})),m=i.getTransform("BRADFORD").map((function(e){return f.reduce((function(t,n,o){return e[o]*n+t}),0)}));return{rho:m[0],gamma:m[1],beta:m[2]};case"cielab":var g=n.X/s.X,b=n.Y/s.Y,v=n.Z/s.Z,y=function(e){return e>.008856?i.cbrt(e):(903.3*e+16)/116},E=y(g),w=y(b);return{L:116*w-16,a:500*(E-w),b:200*(w-y(v))};case"cieluv":var O=n.Y/s.Y,S=O>.008856?116*i.cbrt(O)-16:903.3*O,C=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)},T=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)};return{L:S,u:13*S*(C(n)-C(s)),v:13*S*(T(n)-T(s))};case"xyY":return{x:n.X/(n.X+n.Y+n.Z),y:n.Y/(n.X+n.Y+n.Z),Y:n.Y};default:var x=i.boundedRgb(r.convert({conversions:o,operations:r,helpers:i},"rgb",n));return r.convert({conversions:o,operations:r,helpers:i},t,x)}}},xyY:{test:function(e){return o(e,["x","y","Y"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var a=n.Y/n.y*n.x,s=n.Y/n.y*(1-n.x-n.y);return{X:a,Y:n.Y,
Z:s};default:var c=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,c)}}},lms:{test:function(e){return o(e,["rho","gamma","beta"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var a=[n.rho,n.gamma,n.beta],s=i.getTransform("INVERSE_BRADFORD").map((function(e){return a.reduce((function(t,n,o){return e[o]*n+t}),0)}));return{X:100*s[0],Y:100*s[1],Z:100*s[2]};default:var c=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,c)}}},cielab:{test:function(e){return o(e,["L","a","b"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),s=(n.L+16)/116,c=n.a/500+s,l=s-n.b/200,d=function(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(116*e-16)/903.3},u=d(c),p=d(l),h=n.L>903.3*.008856?Math.pow(s,3):n.L/903.3;return{X:u*a.X,Y:h*a.Y,Z:p*a.Z};default:
var f=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,f)}}},cieluv:{test:function(e){return o(e,["L","u","v"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),s=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)}(a),c=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)}(a),l=1/3*(52*n.L/(n.u+13*n.L*s)-1),d=n.L>903.3*.008856?Math.pow((n.L+16)/116,3):n.L/903.3,u=-5*d,p=(d*(39*n.L/(n.v+13*n.L*c)-5)-u)/(l- -1/3);return{X:100*p,Y:100*d,Z:100*(p*l+u)};case"cielch":var h=Math.sqrt(Math.pow(n.u,2)+Math.pow(n.v,2)),f=Math.atan2(n.v,n.u);return f<0&&(f+=2*Math.PI),f=i.toDeg(f),{L:n.L,C:h,h:f};default:var m=r.convert({conversions:o,operations:r,helpers:i},"XYZ",n);return r.convert({conversions:o,operations:r,helpers:i},t,m)}}},cielch:{test:function(e){return o(e,["L","C","h"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"cieluv":
var a=i.toRad(n.h),s=n.C*Math.cos(a),c=n.C*Math.sin(a);return{L:n.L,u:s,v:c};case"hsluv":if(n.L>99.9999999)return{hu:n.h,s:0,l:100};if(n.L<1e-8)return{hu:n.h,s:0,l:0};for(var l=(n.L+16)/1560896,d=l>.008856?l:n.L/903.3,u=i.getTransform("INVERSE_SRGB_XYZ"),p=[],h=0;h<3;h++)for(var f=u[h][0],m=u[h][1],g=u[h][2],b=0;b<2;b++){var v=(284517*f-94839*g)*d,y=(838422*g+769860*m+731718*f)*n.L*d-769860*b*n.L,E=(632260*g-126452*m)*d+126452*b;p.push({m:v/E,b:y/E})}var w=Number.MAX_VALUE,O=i.toRad(n.h);p.forEach((function(e){var t=e.b/(Math.sin(O)-e.m*Math.cos(O));t>=0&&(w=Math.min(w,t))}));var S=w;return{hu:n.h,s:n.C/S*100,l:n.L};default:var C=r.convert({conversions:o,operations:r,helpers:i},"cieluv",n);return r.convert({conversions:o,operations:r,helpers:i},t,C)}}},hsluv:{test:function(e){return o(e,["hu","s","l"])},convert:function(e,t,n){var o=e.conversions,r=e.operations,i=e.helpers;switch(t){case"cielch":if(n.L>99.9999999)return{L:100,C:0,h:n.hu};if(n.L<1e-8)return{L:0,C:0,h:n.hu}
;for(var a=(n.l+16)/1560896,s=a>.008856?a:n.l/903.3,c=i.getTransform("INVERSE_SRGB_XYZ"),l=[],d=0;d<3;d++)for(var u=c[d][0],p=c[d][1],h=c[d][2],f=0;f<2;f++){var m=(284517*u-94839*h)*s,g=(838422*h+769860*p+731718*u)*n.l*s-769860*f*n.l,b=(632260*h-126452*p)*s+126452*f;l.push({m:m/b,b:g/b})}var v=Number.MAX_VALUE,y=i.toRad(n.hu);l.forEach((function(e){var t=e.b/(Math.sin(y)-e.m*Math.cos(y));t>=0&&(v=Math.min(v,t))}));var E=v;return{L:n.l,C:E/100*n.s,h:n.hu};default:var w=r.convert({conversions:o,operations:r,helpers:i},"cielch",n);return r.convert({conversions:o,operations:r,helpers:i},t,w)}}}},l={adapt:function(e,t,n,o){var r=e.operations.convert(e,"XYZ",t),i=e.operations.convert(e,"lms",n);if(o)a=e.operations.convert(e,"lms",o);else var a=e.operations.convert(e,"lms",e.helpers.getIlluminant("D65"))
;var s=e.helpers.getTransform("BRADFORD"),c=e.helpers.getTransform("INVERSE_BRADFORD"),l=[[i.rho/a.rho,0,0],[0,i.gamma/a.gamma,0],[0,0,i.beta/a.beta]],d=e.helpers.matrixMultiply(c,l),u=e.helpers.matrixMultiply(d,s),p=[[r.X],[r.Y],[r.Z]],h=e.helpers.matrixMultiply(u,p),f={X:h[0][0],Y:h[1][0],Z:h[2][0]};return e.helpers.ready(e,f)},adjacent:function(e,t,n,o){for(var r=e.operations.convert(e,"hsl",o),i=[{h:r.h,s:r.s,l:r.l}],a=0;a<n-1;a++)r.h=e.helpers.negMod(r.h+t,360),i.push({h:r.h,s:r.s,l:r.l});return e.helpers.ready(e,i)},brightness:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.l+=t,o.l<0?o.l=0:o.l>100&&(o.l=100),e.helpers.ready(e,o)},complementary:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.h=(n.h+180)%360,e.helpers.ready(e,n)},contrast:function(e,t,n){var o=e.operations.convert(e,"rgb",n);return o.r=255*((o.r/255-.5)*t+.5),o.r<0?o.r=0:o.r>255&&(o.r=255),o.g=255*((o.g/255-.5)*t+.5),o.g<0?o.g=0:o.g>255&&(o.g=255),o.b=255*((o.b/255-.5)*t+.5),
o.b<0?o.b=0:o.b>255&&(o.b=255),e.helpers.ready(e,o)},contrastRatio:function(e,t){var n=e.operations.convert(e,"rgb",t);return n=(299*n.r+587*n.g+114*n.b)/1e3>=128?{r:0,g:0,b:0}:{r:255,g:255,b:255},e.helpers.ready(e,n)},convert:function(e,t,n){if(Object.keys(e.conversions).indexOf(t)>-1){n.colour?n=n.colour:n.colours&&(n=n.colours);var o=e.helpers.determineMode(n);return o!=t?e.conversions[o].convert(e,t,n):n}return e.helpers.ready(e,t)},difference:function(e,t,n,o,r){o=o||1,r=r||1
;var i=e.operations.convert(e,"cielab",t),a=e.operations.convert(e,"cielab",n),s=Math.sqrt(Math.pow(i.a,2)+Math.pow(i.b,2)),c=s-Math.sqrt(Math.pow(a.a,2)+Math.pow(a.b,2)),l=i.L-a.L,d=i.a-a.a,u=i.b-a.b,p=Math.sqrt(Math.pow(d,2)+Math.pow(u,2)-Math.pow(c,2)),h=i.L<16?.511:.040975*i.L/(1.01765*i.L),f=.0638*s/(1.0131*s),m=Math.atan2(i.b,i.a),g=m>=0?m:m+360,b=164<=g&&g<=345?.56+Math.abs(.2*Math.cos(e.helpers.toRad(g+168))):.36+Math.abs(.4*Math.cos(e.helpers.toRad(g+35))),v=Math.pow(s,4)/(Math.pow(s,4)+1900),y=f*(v*b+1-v),E=Math.pow(l/(o*h),2);return Math.pow(c/(r*f),2),Math.pow(p/y,2),Math.sqrt(E+E+E)},fade:function(e,t,n,o){var r=e.operations.convert(e,"rgb",n),i=e.operations.convert(e,"rgb",o),a=[r];t-=1;for(var s=(i.r-r.r)/t,c=(i.g-r.g)/t,l=(i.b-r.b)/t,d={r:r.r,g:r.g,b:r.b},u=0;u<t-1;u++)d.r=e.helpers.slopeMod(d.r+s,255),d.g=e.helpers.slopeMod(d.g+c,255),d.b=e.helpers.slopeMod(d.b+l,255),a.push({r:d.r,g:d.g,b:d.b});return a.push(i),e.helpers.ready(e,a)},greyscale:function(e,t){
var n=e.operations.convert(e,"rgb",t),o=(n.r+n.g+n.b)/3;return n={r:o,g:o,b:o},e.helpers.ready(e,n)},hue:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.h=e.helpers.negMod(o.h+t,360),e.helpers.ready(e,o)},invert:function(e,t){var n=e.operations.convert(e,"rgb",t);return n.r=e.helpers.negMod(255-n.r,255),n.g=e.helpers.negMod(255-n.g,255),n.b=e.helpers.negMod(255-n.b,255),e.helpers.ready(e,n)},invertLightness:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.l=100-n.l,e.helpers.ready(e,n)},mid:function(e,t,n){var o=e.operations.convert(e,"hsl",t),r=e.operations.convert(e,"hsl",n),i={h:(o.h+r.h)/2,s:(o.s+r.s)/2,l:(o.l+r.l)/2};return e.helpers.ready(e,i)},multiply:function(e,t,n){var o=e.operations.convert(e,"hsl",t),r=e.operations.convert(e,"hsl",n),i={h:o.h,s:o.s,l:o.l/100*(r.l/100)*100};return i.l=i.l>100?100:i.l,i.l=i.l<0?0:i.l,e.helpers.ready(e,i)},saturation:function(e,t,n){var o=e.operations.convert(e,"hsl",n);return o.s+=t,o.s<0?o.s=0:o.s>100&&(o.s=100),
e.helpers.ready(e,o)},sepia:function(e,t){var n=e.operations.convert(e,"rgb",t),o={};return o.r=.393*n.r+.769*n.g+.189*n.b,o.g=.349*n.r+.686*n.g+.168*n.b,o.b=.272*n.r+.534*n.g+.131*n.b,e.helpers.ready(e,o)},shade:function(e,t,n){var o=e.operations.convert(e,"hsv",n);return o.v+=t,o.v<0?o.v=0:o.v>100&&(o.v=100),e.helpers.ready(e,o)},temperature:function(e,t){var n=e.operations.convert(e,"xyY",t),o=(n.x-.332)/(n.y-.1858);return-449*Math.pow(o,3)+3525*Math.pow(o,2)-6823.3*o+5520.33},tetrad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),o=[{h:n.h,s:n.s,l:n.l}],r=0;r<3;r++)n.h=(n.h+90)%360,o.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,o)},triad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),o=[{h:n.h,s:n.s,l:n.l}],r=0;r<2;r++)n.h=(n.h+120)%360,o.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,o)}},d={ILLUMINANTS:{A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},
D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}},TRANSFORMS:{BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]}},u=function(e,t,n){var o=Object.keys(e.operations).reduce((function(t,o){var r=e.operations[o];return t[o]=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var c=o.slice(0).map((function(e){return"object"===(void 0===e?"undefined":i(e))?Object.assign({},e):e}));return n&&n.colours?function t(n){var o=n.map((function(n){if(Array.isArray(n)){var o=t(n);return o.colours||o.colour}var a=r.apply(void 0,[e].concat(s(c),[n]))
;return"object"===(void 0===a?"undefined":i(a))?a.colours||a.colour:a}));return"number"!=typeof o[0]?e.helpers.ready(e,o):o}(n.colours):r.apply(void 0,[e].concat(s(c),[n?n.colour:void 0]))},t}),{});return n||(o=Object.assign(o,t)),o},p={getIlluminant:function(e){return d.ILLUMINANTS[e]},getTransform:function(e){return d.TRANSFORMS[e]},matrixMultiply:function(e,t){for(var n=[],o=0;o<e.length;o++){n[o]=[];for(var r=0;r<t[0].length;r++){for(var i=0,a=0;a<e[0].length;a++)i+=e[o][a]*t[a][r];n[o][r]=i}}return n},cbrt:function(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},toRad:function(e){return e*(Math.PI/180)},toDeg:function(e){return e*(180/Math.PI)},negMod:function(e,t){return(e%t+t)%t},slopeMod:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return e>2*t?slopeMod(e-2*t,t):e>t?2*t-e:e<0?slopeMod(e+2*t,t):e})),bounded:function(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e},
boundedRgb:function(e){var t=this,n=function(e){return t.bounded(e,[0,255])};return{r:n(e.r),g:n(e.g),b:n(e.b)}},determineMode:function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].test(e))return t;return null},ready:function(e,t){var n=e.conversions,o=e.operations,r=e.helpers,i={};switch(Object.prototype.toString.call(t)){case"[object Object]":case"[object String]":for(var a in i.colour=t,n)n.hasOwnProperty(a)&&function(e){Object.defineProperty(i,e,{get:function(){return r.determineMode(t),o.convert({conversions:n,operations:o,helpers:r},e,t)},enumerable:!0})}(a);return Object.assign(i,u({conversions:n,operations:o,helpers:r},d,i));case"[object Array]":for(var s in i.colours=t,n)n.hasOwnProperty(s)&&function(e){Object.defineProperty(i,e,{get:function(){return function t(i){return i.map((function(i){return Array.isArray(i)?t(i):o.convert({conversions:n,operations:o,helpers:r},e,i)}))}(t)},enumerable:!0})}(s);return Object.assign(i,u({conversions:n,operations:o,helpers:r},d,i))
;default:return null}}},h=u({conversions:c,operations:l,helpers:p},d);t.a=h},"11sg":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("3tO9"),r=n.n(o);function i(e,t,n=1){if(!e.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");const o=r()(r()({},e),{},{colspan:e.colspan-n});return o.colwidth&&(o.colwidth=o.colwidth.slice(),o.colwidth.splice(t,n),o.colwidth.some((e=>e>0))||(o.colwidth=void 0)),o}function a(e){if(void 0===e.colspan)throw new Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw new Error(`addColSpan: attrs.colspan must be number >= 1, received: ${e.colspan}`)}function s(e,t,n=1){a(e);const o=r()(r()({},e),{},{colspan:e.colspan+n});if(o.colwidth){o.colwidth=o.colwidth.slice();for(let e=0;e<n;e++)o.colwidth.splice(t,0,0)}return o}},"183E":function(e,t,n){"use strict";n.d(t,"d",(function(){return o
})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));const o=e=>e===n("g1AK").b.LEFT;function r(e,t,n,o=-1){let r=t,i=null;const{mediaSingle:a,media:s,mediaGroup:c}=n.nodes;do{if(r=e.resolve(-1===o?r.before():r.after()),!r)return null;if(i=(-1===o?r.nodeBefore:r.nodeAfter)||r.parent,!i||i.type===n.nodes.doc)return null;if(i.type===a||i.type===s||i.type===c)return i}while(r.depth>0);return null}const i=(e,t,n,o)=>{let r=n,i=-1===o?r.nodeBefore:r.nodeAfter;if(i&&(i.isTextblock||i.isText))return!0;for(;r.depth>0;){if(r=e.resolve(-1===o?r.before():r.after()),!r)return!1;if(i=(-1===o?r.nodeBefore:r.nodeAfter)||r.parent,!i||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}let a=i;for(;a&&a.firstChild;)if(a=a.firstChild,a&&(a.isTextblock||a.isText))return!0;return!1};function a(e){let t;return e.attrs.layout&&(t=e.attrs.layout),
e.marks&&e.marks.length&&(t=(e.marks.find((e=>"breakout"===e.type.name))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}const s=e=>{if("BUTTON"===e.nodeName||e.closest("button"))return!0;if(e.closest('[data-id="caption-placeholder"]'))return!0;let t,o=e;for(;o;){if(o.className&&(o.getAttribute("class")||"").indexOf(n("EfLE").b.TABLE_CONTAINER)>-1){t=o;break}o=o.parentNode}if(t){const o=t.querySelector(`.${n("EfLE").b.ROW_CONTROLS_WRAPPER}`),r=e&&e.classList&&e.classList.contains(n("EfLE").b.COLUMN_CONTROLS_DECORATIONS);return o&&o.contains(e)||r}return!!e.closest(`.${n("1BIu").a.BLOCK_CONTAINER}`)}},"1BIu":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var o=n("vOnD");const r={BLOCK_CONTAINER:"unsupportedBlockView-content-wrap",INLINE_CONTAINER:"unsupportedInlineView-content-wrap"
},i=`.${r.INLINE_CONTAINER} > span`,a=`.${r.BLOCK_CONTAINER} > div`,s=o.css`${a},${i}{cursor:pointer;}.${n("9cwX").J}${a},.${n("9cwX").J}${i}{${Object(n("KCGR").a)([n("NJU0").a.Background,n("NJU0").a.Border])}}.danger{.${n("9cwX").J}${a},.${n("9cwX").J}${i}{border:${n("9cwX").H}px solid ${n("9cwX").l};background-color:${n("9cwX").k};}}`},"1M3H":function(e,t,n){"use strict";e.exports=n("CK61")},"1dGX":function(e,t,n){"use strict";t.Any=n("y8fO"),t.Cc=n("p7ys"),t.Cf=n("b9EY"),t.P=n("fKCf"),t.Z=n("T8I8")},"1nBO":function(e,t,n){"use strict";var o=n("AGgm").normalizeReference,r=n("AGgm").isSpace;e.exports=function(e,t,n,i){var a,s,c,l,d,u,p,h,f,m,g,b,v,y,E,w,O=0,S=e.bMarks[t]+e.tShift[t],C=e.eMarks[t],T=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(S))return!1;for(;++S<C;)if(93===e.src.charCodeAt(S)&&92!==e.src.charCodeAt(S-1)){if(S+1===C)return!1;if(58!==e.src.charCodeAt(S+1))return!1;break}for(l=e.lineMax,E=e.md.block.ruler.getRules("reference"),m=e.parentType,
e.parentType="reference";T<l&&!e.isEmpty(T);T++)if(!(e.sCount[T]-e.blkIndent>3||e.sCount[T]<0)){for(y=!1,u=0,p=E.length;u<p;u++)if(E[u](e,T,l,!0)){y=!0;break}if(y)break}for(C=(v=e.getLines(t,T,e.blkIndent,!1).trim()).length,S=1;S<C;S++){if(91===(a=v.charCodeAt(S)))return!1;if(93===a){f=S;break}(10===a||92===a&&++S<C&&10===v.charCodeAt(S))&&O++}if(f<0||58!==v.charCodeAt(f+1))return!1;for(S=f+2;S<C;S++)if(10===(a=v.charCodeAt(S)))O++;else if(!r(a))break;if(!(g=e.md.helpers.parseLinkDestination(v,S,C)).ok)return!1;if(d=e.md.normalizeLink(g.str),!e.md.validateLink(d))return!1;for(s=S=g.pos,c=O+=g.lines,b=S;S<C;S++)if(10===(a=v.charCodeAt(S)))O++;else if(!r(a))break;for(g=e.md.helpers.parseLinkTitle(v,S,C),S<C&&b!==S&&g.ok?(w=g.str,S=g.pos,O+=g.lines):(w="",S=s,O=c);S<C&&(a=v.charCodeAt(S),r(a));)S++;if(S<C&&10!==v.charCodeAt(S)&&w)for(w="",S=s,O=c;S<C&&(a=v.charCodeAt(S),r(a));)S++
;return!(S<C&&10!==v.charCodeAt(S))&&(!!(h=o(v.slice(1,f)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[h]&&(e.env.references[h]={title:w,href:d}),e.parentType=m,e.line=t+O+1),!0))}},"1rMa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 17h10a1 1 0 010 2H7a1 1 0 010-2zM4 5h16a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaFullWidthIcon";var a=i;t.default=a},"1v/Q":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("ABBN"),r=n("UxO+");const i=e=>{const{em:t,code:r,strike:i,strong:a,subsup:s,underline:c}=e.schema.marks,l={}
;if(r&&(l.codeActive=Object(n("lf5m").a)(e,r.create()),l.codeDisabled=!Object(o.h)(r)(e)),t&&(l.emActive=Object(n("lf5m").a)(e,t),l.emDisabled=!!l.codeActive||!Object(o.h)(t)(e)),i&&(l.strikeActive=Object(n("lf5m").a)(e,i),l.strikeDisabled=!!l.codeActive||!Object(o.h)(i)(e)),a&&(l.strongActive=Object(n("lf5m").a)(e,a),l.strongDisabled=!!l.codeActive||!Object(o.h)(a)(e)),s){const t=s.create({type:"sub"}),r=s.create({type:"sup"});l.subscriptActive=Object(n("lf5m").a)(e,t),l.subscriptDisabled=!!l.codeActive||!Object(o.h)(s,{type:"sub"})(e),l.superscriptActive=Object(n("lf5m").a)(e,r),l.superscriptDisabled=!!l.codeActive||!Object(o.h)(s,{type:"sup"})(e)}return c&&(l.underlineActive=Object(n("lf5m").a)(e,c),l.underlineDisabled=!!l.codeActive||!Object(o.h)(c)(e)),l},a=e=>new r.Plugin({state:{init:(e,t)=>i(t),apply(t,o,r,a){const s=i(a);return Object(n("D4z0").v)(o,s)?o:(e(n("6VYC").a,s),s)}},key:n("6VYC").a,props:{handleKeyDown(e,t){const{state:o,dispatch:r}=e
;return t.key===n("4Upw").moveRight.common?n("Nvcy").c()(o,r):t.key===n("4Upw").moveLeft.common&&n("Nvcy").b()(o,r)},handleTextInput(e,t,o,r){const{state:i,dispatch:a}=e,{schema:s,selection:{$from:{parent:{type:c}}}}=i;return!!c.allowsMarkType(s.marks.code)&&Object(n("Nvcy").a)(t,o,r)(i,a)}}})},"1vCU":function(e,t,n){"use strict";var o=n("3tO9"),r=n.n(o),i=n("QILm"),a=n.n(i),s=n("q1tI"),c=n.n(s);const l={danger:{default:{light:"inherit",dark:"inherit"},hover:{light:"rgba(9, 30, 66, 0.08)",dark:"rgba(9, 30, 66, 0.08)"},active:{light:Object(n("5ABH").U)("#B3D4FF",.6),dark:Object(n("5ABH").U)("#B3D4FF",.6)}}},d={danger:{default:{light:"#505F79",dark:"#9FB0CC"},hover:{light:"#DE350B",dark:"#DE350B"},active:{light:"#DE350B",dark:"#DE350B"}}},u=(e,{appearance:t="default",state:n="default",mode:o="light"})=>e[t]&&e[t][n]?e[t][n][o]:"initial",p={"&&":{padding:"0px","&[href]":{padding:"0 2px"}},"& > span":{margin:"0px"}},h=e=>({background:u(l,e),color:u(d,e)}),f=["buttonStyles"]
;t.a=({title:e,icon:t,iconAfter:o,onClick:i,onMouseEnter:s,onMouseLeave:l,onFocus:d,onBlur:u,selected:m,disabled:g,href:b,target:v,appearance:y="subtle",children:E,className:w,tooltipContent:O,testId:S,hideTooltipOnClick:C=!0})=>{const T=(t||o)&&!E?p:{};return c.a.createElement(n("Yto1").a,{content:O||e,hideTooltipOnClick:C,position:"top"},c.a.createElement("div",{onMouseEnter:s,onMouseLeave:l},c.a.createElement(n("0+Gd").a,{className:w,theme:(e,t)=>{const n=e(t),{buttonStyles:o}=n,i=a()(n,f);return r()({buttonStyles:r()(r()(r()({},o),T),"danger"===y&&h({appearance:y,state:t.state,mode:t.mode}))},i)},"aria-label":e,spacing:"compact",href:b,target:v,appearance:y,"aria-haspopup":!0,iconBefore:t||void 0,iconAfter:o,onClick:i,isSelected:m,isDisabled:g,testId:S,onFocus:d,onBlur:u},E)))}},"2KYT":function(e,t,n){"use strict";e.exports.encode=n("xGQ6"),e.exports.decode=n("jzd5"),e.exports.format=n("Q+CF"),e.exports.parse=n("2l+C")},"2aOk":function(e,t,n){"use strict";n.d(t,"j",(function(){
return o})),n.d(t,"k",(function(){return r})),n.d(t,"l",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return f}));const o=37,r=39,i=38,a=40,s=48,c=49,l=50,d=51,u=52,p=53,h=54,f=[s,c,l,d,u,p,h]},"2csd":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s}));const o=e=>{const{tableRef:t}=Object(n("aTJx").c)(e);if(!t)return;if(!t.querySelector("tr"))return;const o=t.parentElement;if(!o||!o.parentElement)return;const r=o.parentElement.querySelectorAll(`.${n("EfLE").b.ROW_CONTROLS_BUTTON_WRAP}`),i=o.parentElement.querySelectorAll(n("EfLE").b.NUMBERED_COLUMN_BUTTON);s(t)
;const a=Object(n("oE+j").d)(t);for(let n=0,s=r.length;n<s;n++){const e=a[n];e&&(r[n].style.height=`${e}px`,i.length&&(i[n].style.height=`${e}px`))}const c=o.parentElement.querySelectorAll(`.${n("EfLE").b.TABLE_RIGHT_SHADOW}`),l=o.parentElement.querySelectorAll(`.${n("EfLE").b.TABLE_LEFT_SHADOW}`);Object(n("k4/a").a)(e,o,t,c,l)},r=(e,t)=>{const n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100},i=(e,t,o)=>{const r=t.target;if(!Object(n("9a+x").c)(r,n("EfLE").b.RESIZE_HANDLE_DECORATION))return null;const i=Object(n("9a+x").b)(r,"td, th");if(!i)return null;return e.posAtDOM(i,0)-1},a=e=>{const t=e.querySelector("tr.sticky");if(!t)return void(e.style.marginTop="");const o=Object(n("9a+x").e)(window.getComputedStyle(t).paddingTop||"")||0,r=t.clientHeight-o-2;e.style.marginTop=`${n("j5wO").a.gecko?r+n("9ehW").e-n("9ehW").c:n("9ehW").h+r}px`},s=e=>{if(!e)return;const t=e.querySelector("tr[data-header-row]");t&&(((e,t)=>{const o=Object(n("ctHz").a)(e,t);o&&(t.style.gridTemplateColumns=o)
})(e.querySelector("colgroup"),t),c(e,t))},c=(e,t)=>{const n=e.querySelector("tbody"),o=e.parentElement;if(n&&o){const e=Math.min(n.offsetWidth+1,o.offsetWidth);t.style.width=`${e}px`,t.scrollLeft=o.scrollLeft}}},"2l+C":function(e,t,n){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(s),l=["%","/","?",";","#"].concat(c),d=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},f={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};o.prototype.parse=function(e,t){var n,o,i,s,c,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var g=a.exec(m);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}
var b=r.exec(m);if(b&&(i=(b=b[0]).toLowerCase(),this.protocol=b,m=m.substr(b.length)),(t||b||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(c="//"===m.substr(0,2))||b&&h[b]||(m=m.substr(2),this.slashes=!0)),!h[b]&&(c||b&&!f[b])){var v,y,E=-1;for(n=0;n<d.length;n++)-1!==(s=m.indexOf(d[n]))&&(-1===E||s<E)&&(E=s);for(-1!==(y=-1===E?m.lastIndexOf("@"):m.lastIndexOf("@",E))&&(v=m.slice(0,y),m=m.slice(y+1),this.auth=v),E=-1,n=0;n<l.length;n++)-1!==(s=m.indexOf(l[n]))&&(-1===E||s<E)&&(E=s);-1===E&&(E=m.length),":"===m[E-1]&&E--;var w=m.slice(0,E);m=m.slice(E),this.parseHost(w),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O){var S=this.hostname.split(/\./);for(n=0,o=S.length;n<o;n++){var C=S[n];if(C&&!C.match(u)){for(var T="",x=0,k=C.length;x<k;x++)C.charCodeAt(x)>127?T+="x":T+=C[x];if(!T.match(u)){var I=S.slice(0,n),A=S.slice(n+1),N=C.match(p);N&&(I.push(N[1]),A.unshift(N[2])),A.length&&(m=A.join(".")+m),this.hostname=I.join(".");break}}}
}this.hostname.length>255&&(this.hostname=""),O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var M=m.indexOf("#");-1!==M&&(this.hash=m.substr(M),m=m.slice(0,M));var R=m.indexOf("?");return-1!==R&&(this.search=m.substr(R),m=m.slice(0,R)),m&&(this.pathname=m),f[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},o.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof o)return e;var n=new o;return n.parse(e,t),n}},"2xgt":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{const{selection:{$from:t,$to:o}}=e,i=Object(n("DQ6B").c)(t),a=Object(n("DQ6B").c)(o);return{itemIndexAtSelectionStart:i.itemIndex,itemIndexAtSelectionEnd:a.itemIndex,indentLevelAtSelectionStart:i.indentLevel,indentLevelAtSelectionEnd:a.indentLevel,itemsInSelection:r(e)}},r=e=>{const{from:t,to:o}=e.selection;if(t===o)return 1;let r=0
;const i=e.doc.cut(t,o);return i.content.nodesBetween(0,i.content.size,((e,t,o,i)=>{o&&Object(n("EvmU").c)(o)&&!Object(n("EvmU").d)(e)&&0===i&&r++})),r}},"31bW":function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i,a,s=-1,c=e.posMax,l=e.pos;for(e.pos=t+1,o=1;e.pos<c;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--o){r=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)o++;else if(n)return e.pos=l,-1}return r&&(s=e.pos),e.pos=l,s}},"34gM":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("pVnL"),r=n.n(o),i=n("q1tI"),a=n.n(i);class s extends n("VisZ").a{async resolve(e){return super.resolve(e,"inline")}}const c=e=>{var t,n;return n=t=class extends i.Component{constructor(){super(),this.jiraCards=void 0,this.jiraCards={provider:Promise.resolve(new s),allowBlockCards:!0,allowEmbeds:!0}}render(){return a.a.createElement(e,r()({jiraCards:this.jiraCards},this.props))}},t.displayName=`WithJiraCardProvider(${e.displayName||e.name||"Component"})`,n}},
"36yd":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=e=>Object(n("bmZU").a)({type:"SHOW_CONFIRM_DIALOG",data:{buttonIndex:e}},(e=>e.setMeta("addToHistory",!1))),r=()=>Object(n("bmZU").a)({type:"HIDE_CONFIRM_DIALOG"},(e=>e.setMeta("addToHistory",!1)))},"37L4":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=new i.PluginKey("featureFlagsContextPlugin"),s=e=>a.getState(e),c=()=>{const{editorActions:e}=Object(n("GqfY").b)(),t=null==e?void 0:e._privateGetEditorView();return null!=t&&t.state?a.getState(t.state):void 0};t.a=(e={})=>({name:"featureFlagsContext",pmPlugins:()=>[{name:"featureFlagsContext",plugin:()=>new i.Plugin({key:a,state:{init:()=>r()({},e),apply:(e,t)=>t}})}]})},"3EgI":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>(t,o)=>{if(n("yUK8").a.getState(t).query===e)return!1;const r=t.tr
;return r.setMeta(n("yUK8").a,{action:n("Y+O0").a.CHANGE_QUERY,params:{query:e}}),o&&o(r),!0}},"3FAS":function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=new i.PluginKey("contextPanelPluginKey");t.a=()=>({name:"contextPanel",pmPlugins:(e=[])=>[{name:"contextPanel",plugin:({dispatch:t})=>function(e,t){return new i.Plugin({key:a,state:{init:(t,n)=>({handlers:e,contents:e.map((e=>e(n)))}),apply(e,n,o,i){let s=n;const c=e.getMeta(a);if(e.docChanged||e.selectionSet||c&&c.changed){const e=n.handlers.map((e=>e(i)));(e.length!==s.contents.length||e.some((e=>s.contents.indexOf(e)<0)))&&(s=r()(r()({},s),{},{contents:e}))}return s!==n&&t(a,s),s}}})}(e.filter(Boolean),t)}]})},"3G5u":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o=e=>{let t=e.depth;for(let o=e.depth;o>0;o--){const r=e.node(o);if(Object(n("EvmU").d)(r)&&(t=o),!Object(n("EvmU").c)(r)&&!Object(n("EvmU").d)(r))break}
return t-1},r=({tr:e,maxIndentation:t})=>{const o=Object(n("DQ6B").i)(e.selection.$from);let r,i=e.selection.$to.pos;do{const o=e.doc.resolve(i);if(r=Object(n("DQ6B").i)(o),r>t)return!1;i++}while(r>=o);return!0}},"3ILy":function(e,t,n){"use strict";function o(e,t,o){const r=Object(n("p81E").a)(t.type.schema).header_cell;for(let n=0;n<e.height;n++){const i=t.nodeAt(e.map[o+n*e.width]);if(i&&i.type!==r)return!1}return!0}function r(e,{map:t,tableStart:r,table:i},a){let s=a>0?-1:0;o(t,i,a+s)&&(s=0===a||a===t.width?null:0);for(let o=0;o<t.height;o++){const c=o*t.width+a;if(a>0&&a<t.width&&t.map[c-1]===t.map[c]){const s=t.map[c],l=i.nodeAt(s);if(!l)throw new Error(`addColumn: invalid cell for pos ${s}`);const d=l.attrs;Object(n("11sg").b)(d),e.setNodeMarkup(e.mapping.map(r+s),void 0,Object(n("11sg").a)(d,a-t.colCount(s))),o+=d.rowspan-1}else{let l;if(null===s)l=Object(n("p81E").a)(i.type.schema).cell;else{const e=t.map[c+s],n=i.nodeAt(e)
;if(!n)throw new Error(`addColumn: invalid node at mapped pos ${e}`);l=n.type}const d=t.positionAt(o,a,i);e.insert(e.mapping.map(r+d),l.createAndFill())}}return e}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},"3taF":function(e,t,n){"use strict";function o(e){return void 0!==e&&(e>="0"&&e<="9")}function r(e){for(const t of e){const e=t>="0"&&t<="9",n=-1!==". ,/".indexOf(t);if(!e&&!n)return!1}return!0}function i(e,t,r){if(e>t.length)return;const i=function(e){const t={day:7,month:1,year:1992},o=Object(n("B9FP").c)(t,e);return o.replace(/\d+/g,(e=>{if(!e)return"";switch(parseInt(e)%100){case 92:return e.replace(/.{1}/g,"y");case 1:return 1===e.length?"m":"mm";case 7:return 1===e.length?"d":"dd"}return""}))}(r);if(!i)return;const a=i.replace(/[^ymd]+$/g,""),s={d:"day",m:"month",y:"year"},c=s[a[0]],l=s[a[a.length-1]],d=["day","month","year"].filter((e=>e!==c&&e!==l))[0];return function(e,t){let n=e-1,r=!0;const i=t.replace(/[^0-9]+$/g,"")
;for(;n>=0&&r;)o(i[n])||(r=!1),n-=1;return r}(e,t)?c:function(e,t){let n=e,r=!0;const i=t.replace(/[^0-9]+$/g,"");for(;n<i.length&&r;)o(i[n])||(r=!1),n+=1;return r}(e,t)?l:d}function a(e,t,o){const r=Object(n("B9FP").b)(e),i="day"===t?Object(n("9/EM").a)(r,o):"month"===t?Object(n("dLU1").a)(r,o):Object(n("zbbA").a)(r,o);return Object(n("B9FP").a)(i)}function s(e){const t=new Date;return void 0!==e&&t.getDate()===e.day&&e.month===t.getMonth()+1&&e.year===t.getFullYear()}n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s}))},"4Nwc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 01-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorFileIcon";var a=i;t.default=a},"4Upw":function(e,t,n){"use strict";n.r(t),n.d(t,"addAltText",(function(){return a})),n.d(t,"toggleBold",(function(){return s})),n.d(t,"toggleItalic",(function(){return c})),n.d(t,"toggleUnderline",(function(){return l})),n.d(t,"toggleStrikethrough",(function(){return d})),n.d(t,"toggleCode",(function(){return u})),n.d(t,"pastePlainText",(function(){return p})),n.d(t,"clearFormatting",(function(){return h})),n.d(t,"setNormalText",(function(){return f})),n.d(t,"toggleHeading1",(function(){return m})),n.d(t,"toggleHeading2",(function(){return g})),n.d(t,"toggleHeading3",(function(){return b})),n.d(t,"toggleHeading4",(function(){return v})),
n.d(t,"toggleHeading5",(function(){return y})),n.d(t,"toggleHeading6",(function(){return E})),n.d(t,"toggleOrderedList",(function(){return w})),n.d(t,"ctrlBackSpace",(function(){return O})),n.d(t,"toggleBulletList",(function(){return S})),n.d(t,"toggleBlockQuote",(function(){return C})),n.d(t,"insertNewLine",(function(){return T})),n.d(t,"shiftBackspace",(function(){return x})),n.d(t,"splitCodeBlock",(function(){return k})),n.d(t,"splitListItem",(function(){return I})),n.d(t,"insertRule",(function(){return A})),n.d(t,"undo",(function(){return N})),n.d(t,"moveUp",(function(){return M})),n.d(t,"moveDown",(function(){return R})),n.d(t,"moveLeft",(function(){return j})),n.d(t,"moveRight",(function(){return P})),n.d(t,"indentList",(function(){return D})),n.d(t,"outdentList",(function(){return L})),n.d(t,"redo",(function(){return _})),n.d(t,"openHelp",(function(){return B})),n.d(t,"addLink",(function(){return H})),n.d(t,"addInlineComment",(function(){return J})),n.d(t,"submit",(function(){
return $})),n.d(t,"enter",(function(){return F})),n.d(t,"shiftEnter",(function(){return z})),n.d(t,"tab",(function(){return U})),n.d(t,"indent",(function(){return V})),n.d(t,"outdent",(function(){return W})),n.d(t,"backspace",(function(){return K})),n.d(t,"deleteKey",(function(){return q})),n.d(t,"forwardDelete",(function(){return G})),n.d(t,"space",(function(){return Y})),n.d(t,"escape",(function(){return X})),n.d(t,"nextCell",(function(){return Q})),n.d(t,"previousCell",(function(){return Z})),n.d(t,"shiftTab",(function(){return ee})),n.d(t,"toggleTable",(function(){return te})),n.d(t,"addRowBefore",(function(){return ne})),n.d(t,"addRowAfter",(function(){return oe})),n.d(t,"addColumnAfter",(function(){return re})),n.d(t,"addColumnBefore",(function(){return ie})),n.d(t,"cut",(function(){return ae})),n.d(t,"copy",(function(){return se})),n.d(t,"paste",(function(){return ce})),n.d(t,"altPaste",(function(){return le})),n.d(t,"find",(function(){return de})),
n.d(t,"TooltipShortcut",(function(){return pe})),n.d(t,"tooltip",(function(){return fe})),n.d(t,"ToolTipContent",(function(){return me})),n.d(t,"findKeymapByDescription",(function(){return ge})),n.d(t,"findShortcutByDescription",(function(){return be})),n.d(t,"findShortcutByKeymap",(function(){return ve})),n.d(t,"makeKeymap",(function(){return Ee})),n.d(t,"makeKeyMapWithCommon",(function(){return we})),n.d(t,"bindKeymapWithCommand",(function(){return Oe})),n.d(t,"findKeyMapForBrowser",(function(){return Se}));var o=n("q1tI"),r=n.n(o),i=n("vOnD");n.d(t,"DOWN",(function(){return n("2aOk").a})),n.d(t,"HEADING_KEYS",(function(){return n("2aOk").b})),n.d(t,"KEY_0",(function(){return n("2aOk").c})),n.d(t,"KEY_1",(function(){return n("2aOk").d})),n.d(t,"KEY_2",(function(){return n("2aOk").e})),n.d(t,"KEY_3",(function(){return n("2aOk").f})),n.d(t,"KEY_4",(function(){return n("2aOk").g})),n.d(t,"KEY_5",(function(){return n("2aOk").h})),n.d(t,"KEY_6",(function(){return n("2aOk").i})),
n.d(t,"LEFT",(function(){return n("2aOk").j})),n.d(t,"RIGHT",(function(){return n("2aOk").k})),n.d(t,"UP",(function(){return n("2aOk").l}))
;const a=we("Add Alt Text","Mod-Alt-y"),s=we("Bold","Mod-b"),c=we("Italic","Mod-i"),l=we("Underline","Mod-u"),d=we("Strikethrough","Mod-Shift-s"),u=we("Code","Mod-Shift-m"),p=we("Paste Plain Text","Mod-Shift-v"),h=we("Clear formatting","Mod-\\"),f=we("Normal text","Mod-Alt-0"),m=we("Heading 1","Mod-Alt-1"),g=we("Heading 2","Mod-Alt-2"),b=we("Heading 3","Mod-Alt-3"),v=we("Heading 4","Mod-Alt-4"),y=we("Heading 5","Mod-Alt-5"),E=we("Heading 6","Mod-Alt-6"),w=we("Numbered list","Mod-Shift-7"),O=we("Cmd + Backspace","Mod-Backspace"),S=we("Bullet list","Mod-Shift-8"),C=Ee("Quote","","Cmd-Alt-9"),T=we("Insert new line","Shift-Enter"),x=we("Shift Backspace","Shift-Backspace"),k=we("Split code block","Enter"),I=we("Split list item","Enter"),A=we("Insert horizontal rule","Mod-Shift--"),N=we("Undo","Mod-z"),M=we("Move up","ArrowUp"),R=we("Move down","ArrowDown"),j=we("Move left","ArrowLeft"),P=we("Move right","ArrowRight"),D=we("Indent List","Tab"),L=we("Outdent List","Shift-Tab"),_=Ee("Redo","Ctrl-y","Mod-Shift-z"),B=we("Open Help","Mod-/"),H=we("Link","Mod-k"),J=we("Annotate","Mod-Alt-c"),$=we("Submit Content","Mod-Enter"),F=we("Enter","Enter"),z=we("Shift Enter","Shift-Enter"),U=we("Tab","Tab"),V=we("Indent","Tab"),W=we("Outdent","Shift-Tab"),K=we("Backspace","Backspace"),q=we("Delete","Delete"),G=Ee("Forward Delete","","Ctrl-d"),Y=we("Space","Space"),X=we("Escape","Escape"),Q=we("Next cell","Tab"),Z=we("Previous cell","Shift-Tab"),ee=we("Shift Tab","Shift-Tab"),te=we("Table","Shift-Alt-t"),ne=we("Add Row Above","Ctrl-Alt-ArrowUp"),oe=we("Add Row Below","Ctrl-Alt-ArrowDown"),re=we("Add Column After","Ctrl-Alt-ArrowRight"),ie=we("Add Column Before","Ctrl-Alt-ArrowLeft"),ae=we("Cut","Mod-x"),se=we("Copy","Mod-c"),ce=we("Paste","Mod-v"),le=we("Paste","Mod-Shift-v"),de=we("Find","Mod-f"),ue={
ARROWLEFT:"\u2190",ARROWRIGHT:"\u2192",ARROWUP:"\u2191",ARROWDOWN:"\u2193"},pe=i.default.span.withConfig({componentId:"sc-1xsjkea-0"})`border-radius:2px;background-color:${"#505F79"};padding:0 2px;`;function he(e){let t;t=n("j5wO").a.mac?e.mac.replace(/Cmd/i,"\u2318").replace(/Shift/i,"\u21e7").replace(/Ctrl/i,"\u2303").replace(/Alt/i,"\u2325").replace(/Backspace/i,"\u232b").replace(/Enter/i,"\u23ce"):e.windows.replace(/Backspace/i,"\u232b");const o=t.split("-");let r=o[o.length-1];return 1===r.length&&(r=r.toUpperCase()),o[o.length-1]=ue[r.toUpperCase()]||r,o.join(n("j5wO").a.mac?"":"+")}function fe(e,t){if(e){const n=he(e);return t?`${t} ${n}`:n}}const me=r.a.memo((({description:e,shortcutOverride:t,keymap:n})=>{const o=t||n&&he(n);return o||e?r.a.createElement(r.a.Fragment,null,e,o&&e&&"\xa0",o&&r.a.createElement(pe,null,o)):null}));function ge(e){return ye.filter((t=>t.description.toUpperCase()===e.toUpperCase()))[0]}function be(e){const t=ge(e);if(t)return ve(t)}function ve(e){
return n("j5wO").a.mac?e.mac:e.windows}const ye=[w,S,s,c,l,d,u,f,m,g,b,v,y,E,C,T,A,k,I,_,N,de,X,F,z];function Ee(e,t,n,o){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:o}}function we(e,t){return Ee(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function Oe(e,t,n){const o=n[e];let r=t;n[e]&&(r=(e,n,r)=>o(e,n)||t(e,n,r)),n[e]=r}function Se(e){if(e)return n("j5wO").a.mac?e.mac:e.windows}},"4fNk":function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},"4l/J":function(e,t,n){
"use strict";n.d(t,"a",(function(){return n("WocY")}));var o=n("q1tI"),r=n.n(o),i=n("17x9"),a=n.n(i),s=n("vOnD"),c=n("2rMq"),l=n.n(c);function d(e){return`\n    body { background: ${e}; }\n  `}function u(e){return{theme:{__ATLASKIT_THEME__:{mode:e}}}}const p=s.default.div.withConfig({componentId:"gbzd3m-0"})`background-color:${e=>e.background};color:${n("WocY").text};a{color:${n("WocY").link};}a:hover{color:${n("WocY").linkHover};}a:active{color:${n("WocY").linkActive};}a:focus{outline-color:${n("WocY").linkOutline};}h1{color:${n("WocY").heading};}h2{color:${n("WocY").heading};}h3{color:${n("WocY").heading};}h4{color:${n("WocY").heading};}h5{color:${n("WocY").heading};}h6{color:${n("WocY").subtleHeading};}small{color:${n("WocY").subtleText};}`;class h extends o.Component{constructor(e){super(e),this.getThemeMode=()=>({mode:this.state.theme.__ATLASKIT_THEME__.mode}),this.state=u(e.mode)}getChildContext(){return{hasAtlaskitThemeProvider:!0}}UNSAFE_componentWillMount(){
if(!this.context.hasAtlaskitThemeProvider&&l.a.canUseDOM){const e=d(this.props.background(this.state));this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=e,document&&document.head&&document.head.appendChild(this.stylesheet)}}UNSAFE_componentWillReceiveProps(e){if(e.mode!==this.props.mode){const t=u(e.mode);if(this.stylesheet){const n=d(e.background(t));this.stylesheet.innerHTML=n}this.setState(t)}}componentWillUnmount(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)}render(){const{children:e}=this.props,{theme:t}=this.state;return r.a.createElement(n("ZFb1").a.Provider,{value:this.getThemeMode},r.a.createElement(s.ThemeProvider,{theme:t},r.a.createElement(p,{background:this.props.background},e)))}}h.displayName="AtlaskitThemeProvider",h.defaultProps={mode:"light",background:n("WocY").background},h.childContextTypes={hasAtlaskitThemeProvider:a.a.bool},h.contextTypes={
hasAtlaskitThemeProvider:a.a.bool}},"5I88":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o="ak-editor-expand",r={prefix:o,expanded:`${o}__expanded`,titleContainer:`${o}__title-container`,inputContainer:`${o}__input-container`,iconContainer:`${o}__icon-container`,icon:`${o}__icon`,titleInput:`${o}__title-input`,content:`${o}__content`,type:e=>`${o}__type-${e}`}},"5M18":function(e,t,n){"use strict";t.a=e=>{const{invokeSingle:t,invokeList:o}=Object(n("77QF").a)(e);return{getExtensions:()=>o("getExtensions"),getExtension:(e,n)=>t("getExtension",[e,n]),search:e=>o("search",[e]),getAutoConverter:()=>o("getAutoConverter")}}},"5Mrk":function(e,t,n){"use strict";var o=n("AGgm").unescapeAll;e.exports=function(e,t,n){var r,i,a=t,s={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(r=e.charCodeAt(t)))return s;if(62===r)return s.pos=t+1,s.str=o(e.slice(a+1,t)),s.ok=!0,s;92===r&&t+1<n?t+=2:t++}return s}
for(i=0;t<n&&32!==(r=e.charCodeAt(t))&&!(r<32||127===r);)if(92===r&&t+1<n)t+=2;else{if(40===r&&i++,41===r){if(0===i)break;i--}t++}return a===t||0!==i||(s.str=o(e.slice(a,t)),s.lines=0,s.pos=t,s.ok=!0),s}},"5fPG":function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n("UxO+");const r=new o.PluginKey("maxContentSizePlugin");t.a=e=>({name:"maxContentSize",pmPlugins:()=>[{name:"maxContentSize",plugin:({dispatch:t})=>function(e,t){if(!t)return;let n=!1;return new o.Plugin({filterTransaction(o){const i=o.doc&&o.doc.nodeSize>t;return(i||i!==n)&&e(r,{maxContentSizeReached:i}),n=i,!i}})}(t,e)}]})},"5xi9":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("3tO9"),c=n.n(s),l=n("Q9gj");const d=e=>t=>{const n=c()(c()({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=l.a,n.attributes.packageVersion=l.b,n.attributes.componentName="status";const o=e(n);return o.fire("fabric-elements"),o},u={
neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"};class p extends i.PureComponent{constructor(...e){super(...e),r()(this,"hoverStartTime",0),r()(this,"handleMouseEnter",(e=>{this.hoverStartTime=Date.now()})),r()(this,"handleMouseLeave",(e=>{const{onHover:t}=this.props;Date.now()-this.hoverStartTime>=1e3&&t&&t(),this.hoverStartTime=0}))}componentWillUnmount(){this.hoverStartTime=0}render(){const{text:e,color:t,style:o,onClick:r}=this.props;if(0===e.trim().length)return null;const i=u[t]||"default";return a.a.createElement("span",{className:"status-lozenge-span",title:e,onClick:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":t,"data-style":o},a.a.createElement(n("05To").a,{appearance:i,maxWidth:200},e))}}p.displayName="StatusInternal",r()(p,"displayName","StatusInternal");const h=Object(n("VHV8").a)({onClick:(e,t)=>{const{localId:n}=t;return d(e)({action:"clicked",
actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:(e,t)=>{const{localId:n}=t;return d(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(p)},"67gn":function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f}));var o,r,i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("i8i4"),d=n("17x9"),u=n.n(d);class p extends n("Dp3h").a{constructor(e,t){super(),a()(this,"portals",new Map),a()(this,"setContext",(e=>{this.context=e})),this.onAnalyticsEvent=e,this.useAnalyticsContext=t}render(e,t,n=!1){this.portals.set(t,{children:e,hasReactContext:n});const o=this.useAnalyticsContext?c.a.createElement(g,null,e()):e();Object(l.unstable_renderSubtreeIntoContainer)(this.context,o,t)}forceUpdate(){this.portals.forEach(((e,t)=>{if(!e.hasReactContext&&!this.useAnalyticsContext)return;const n=this.useAnalyticsContext?c.a.createElement(g,null,e.children()):e.children()
;Object(l.unstable_renderSubtreeIntoContainer)(this.context,n,t)}))}remove(e){this.portals.delete(e);try{Object(l.unmountComponentAtNode)(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{action:n("J5HJ").a.FAILED_TO_UNMOUNT,actionSubject:n("J5HJ").b.EDITOR,actionSubjectId:n("J5HJ").c.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:n("J5HJ").e.OPERATIONAL}})}}}p.displayName="PortalProviderAPI";class h extends c.a.Component{constructor(e){super(e),this.portalProviderAPI=new p(e.onAnalyticsEvent,e.useAnalyticsContext)}render(){return this.props.render(this.portalProviderAPI)}componentDidUpdate(){this.portalProviderAPI.forceUpdate()}}h.displayName="PortalProvider",a()(h,"displayName","PortalProvider");class f extends c.a.Component{constructor(e){super(e),a()(this,"handleUpdate",(e=>this.setState({portals:e}))),e.portalProviderAPI.setContext(this),
e.portalProviderAPI.on("update",this.handleUpdate),this.state={portals:new Map}}render(){const{portals:e}=this.state;return c.a.createElement(c.a.Fragment,null,Array.from(e.entries()).map((([e,t])=>Object(l.createPortal)(t,e))))}}f.displayName="PortalRenderer";const m={getAtlaskitAnalyticsContext(){},getAtlaskitAnalyticsEventHandlers(){}},g=(r=o=class extends c.a.Component{render(){const{value:e}=this.context.contextAdapter.analytics||{value:m};return c.a.createElement(n("5TYI").a.Provider,{value:e},this.props.children)}},a()(o,"contextTypes",{contextAdapter:u.a.object}),r)},"6A5J":function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t,n,r){var i,a,s,c,l,d,u,p,h,f,m,g,b,v,y,E,w,O,S,C,T=e.lineMax,x=e.bMarks[t]+e.tShift[t],k=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(x++))return!1;if(r)return!0;for(c=h=e.sCount[t]+x-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(x)?(x++,c++,h++,i=!1,E=!0):9===e.src.charCodeAt(x)?(E=!0,
(e.bsCount[t]+h)%4==3?(x++,c++,h++,i=!1):i=!0):E=!1,f=[e.bMarks[t]],e.bMarks[t]=x;x<k&&(a=e.src.charCodeAt(x),o(a));)9===a?h+=4-(h+e.bsCount[t]+(i?1:0))%4:h++,x++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(E?1:0),d=x>=k,v=[e.sCount[t]],e.sCount[t]=h-c,y=[e.tShift[t]],e.tShift[t]=x-e.bMarks[t],O=e.md.block.ruler.getRules("blockquote"),b=e.parentType,e.parentType="blockquote",C=!1,p=t+1;p<n&&(e.sCount[p]<e.blkIndent&&(C=!0),!((x=e.bMarks[p]+e.tShift[p])>=(k=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(x++)||C){if(d)break;for(w=!1,s=0,l=O.length;s<l;s++)if(O[s](e,p,n,!0)){w=!0;break}if(w){e.lineMax=p,0!==e.blkIndent&&(f.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}f.push(e.bMarks[p]),m.push(e.bsCount[p]),y.push(e.tShift[p]),v.push(e.sCount[p]),e.sCount[p]=-1}else{for(c=h=e.sCount[p]+x-(e.bMarks[p]+e.tShift[p]),32===e.src.charCodeAt(x)?(x++,c++,h++,i=!1,E=!0):9===e.src.charCodeAt(x)?(E=!0,(e.bsCount[p]+h)%4==3?(x++,c++,
h++,i=!1):i=!0):E=!1,f.push(e.bMarks[p]),e.bMarks[p]=x;x<k&&(a=e.src.charCodeAt(x),o(a));)9===a?h+=4-(h+e.bsCount[p]+(i?1:0))%4:h++,x++;d=x>=k,m.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(E?1:0),v.push(e.sCount[p]),e.sCount[p]=h-c,y.push(e.tShift[p]),e.tShift[p]=x-e.bMarks[p]}for(g=e.blkIndent,e.blkIndent=0,(S=e.push("blockquote_open","blockquote",1)).markup=">",S.map=u=[t,0],e.md.block.tokenize(e,t,p),(S=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=T,e.parentType=b,u[1]=e.line,s=0;s<y.length;s++)e.bMarks[s+t]=f[s],e.tShift[s+t]=y[s],e.sCount[s+t]=v[s],e.bsCount[s+t]=m[s];return e.blkIndent=g,!0}},"6PZK":function(t,n,o){"use strict";var r=o("q1tI"),i=o.n(r),a=o("UxO+"),s=o("3tO9"),c=o.n(s);const l=new a.PluginKey("mediaEditorPlugin"),{createPluginState:d,createCommand:u,getPluginState:p}=Object(o("FJah").a)(l,((e,t)=>{switch(t.type){case"open":return c()(c()({},e),{},{editor:{identifier:t.identifier,pos:t.pos}});case"close":case"upload":return c()(c()({},e),{},{
editor:void 0});case"setMediaClientConfig":return c()(c()({},e),{},{mediaClientConfig:t.mediaClientConfig});default:return e}}),{mapping:(e,t)=>t.editor?c()(c()({},t),{},{editor:c()(c()({},t.editor),{},{pos:e.mapping.map(t.editor.pos)})}):t}),h=e=>t=>{const n=async(e,n)=>{if("mediaProvider"!==e)return;const o=await n;if(!o)return;const r=await o.uploadMediaClientConfig||await o.viewMediaClientConfig,{dispatch:i,state:a}=t;(e=>u({type:"setMediaClientConfig",mediaClientConfig:e}))(r)(a,i,t)};return e.subscribe("mediaProvider",n),{destroy(){e.unsubscribe("mediaProvider",n)}}},f=({dispatch:e,providerFactory:t})=>new a.Plugin({state:d(e,{}),key:l,view:h(t)});const m=new a.PluginKey("mediaAltTextPlugin"),{createPluginState:g,createCommand:b,getPluginState:v}=Object(o("FJah").a)(m,((e,t)=>{switch(t.type){case"updateAltText":return c()({},e);case"openMediaAltTextMenu":return c()(c()({},e),{},{isAltTextEditorOpen:!0});case"closeMediaAltTextMenu":return c()(c()({},e),{},{isAltTextEditorOpen:!1})
;default:return e}}),{onSelectionChanged:(e,t)=>e.getMeta("history$")?t:{isAltTextEditorOpen:!1}}),y=({dispatch:e,providerFactory:t})=>new a.Plugin({state:g(e,{isAltTextEditorOpen:!1}),key:m,view:()=>({update:(e,t)=>{const n=v(e.state),o=v(t);n&&o&&o.isAltTextEditorOpen&&!n.isAltTextEditorOpen&&!e.hasFocus()&&e.focus()}})});var E=o("fwbU");const w=b((e=>!!Object(o("Nrp8").e)(e)&&{type:"closeMediaAltTextMenu"})),O=((e,t,n)=>Object(o("SVcB").c)({action:e,actionSubject:o("J5HJ").b.MEDIA,actionSubjectId:o("J5HJ").c.ALT_TEXT,eventType:o("J5HJ").e.TRACK})(b(t,n)))(o("J5HJ").a.OPENED,(e=>!!Object(o("Nrp8").e)(e)&&{type:"openMediaAltTextMenu"}),(e=>e.setMeta("scrollIntoView",!1)));var S=o("mG1W"),C=o("ABBN");function T(e,t){const{$from:n}=e,o=n.index(n.depth-1),r=n.node(n.depth-1);return r?r.maybeChild(o+t):null}function x(t){return(n,r)=>{const{$from:i}=n.selection,{paragraph:a}=n.schema.nodes,s=T(n.selection,-2);if(!s)return!1;const c=T(n.selection,-1),l=i.pos-c.nodeSize-s.nodeSize
;let d=n.tr;if(function(n){let o=!1;try{o=t(n)}catch(e){}return o}(s))d=d.replace(l-1,l+s.nodeSize);else if(Object(o("D4z0").p)(n.selection)?d.replace(i.pos,i.pos+i.parent.nodeSize-1):d.replace(i.pos-1,i.pos+i.parent.nodeSize-1),s.type===a){const e=l+s.nodeSize-2;Object(S.safeInsert)(i.parent.content,e)(d)}else{const e=l+s.nodeSize-1;Object(S.safeInsert)(i.parent.copy(i.parent.content),e)(d)}return r&&r(d),!0}}const k=e=>{const t=Object(o("D4z0").l)(e);return(e,n)=>{const{selection:r,schema:i}=e,{$from:a}=r;if(!function(e){if(!e.empty)return!1;const{$from:t}=e;return t.parentOffset<=0}(e.selection))return!1;if(!function(e,t){const{$from:n}=e;return n.parent.type===t}(e.selection,i.nodes.paragraph))return!1;if(!function(e,t,n){const o=T(e,n);return!!o&&o.type===t}(e.selection,i.nodes.mediaSingle,-1))return!1;return"wrap-right"===T(e.selection,-1).attrs.layout?x(t)(e,n):(n&&Object(C.f)(e,(r=>{t(a.parent)&&!Object(o("vRZh").d)(e)&&r.replace(a.pos-1,a.pos+a.parent.nodeSize-1),n(r)})),!0)}}
;let I;!function(e){e.showToolbar="MEDIA_SHOW_TOOLBAR",e.hideToolbar="MEDIA_HIDE_TOOLBAR",e.setUrl="MEDIA_SET_LINK_TO",e.unlink="MEDIA_LINKING_UNLINK"}(I||(I={}));const A=new a.PluginKey("mediaLinking"),N={visible:!1,editable:!1,mediaPos:null,link:""};const M=Object(o("FJah").a)(A,((e,t)=>{switch(t.type){case I.showToolbar:return c()(c()({},e),{},{visible:!0});case I.setUrl:return c()(c()({},e),{},{editable:!0,link:t.payload});case I.hideToolbar:return c()(c()({},e),{},{visible:!1});case I.unlink:return c()(c()({},e),{},{link:"",visible:!1,editable:!1})}return e}),{mapping:function(e,t){return t&&null!==t.mediaPos?c()(c()({},t),{},{mediaPos:e.mapping.map(t.mediaPos)}):t},onSelectionChanged:function(e){if(!(e.selection instanceof a.NodeSelection))return N;const t=e.selection.$from.pos+1,n=e.doc.nodeAt(t);if(!n||"media"!==n.type.name)return N;const o=n.marks.find((e=>"link"===e.type.name));return o?c()(c()({},N),{},{mediaPos:t,editable:!0,link:o.attrs.href}):c()(c()({},N),{},{mediaPos:t
})}}),{createCommand:R,getPluginState:j}=M;const P=e=>{const{doc:t,selection:n,schema:o}=e;if(!(t&&n&&n instanceof a.NodeSelection&&n.node.type===o.nodes.mediaSingle))return;const r=t.nodeAt(n.$anchor.pos+1);return r&&r.type===o.nodes.media?r:void 0},D=async(e,t)=>{if("external"===e.attrs.type)return"external";if(e.attrs.id)try{const n=await Object(o("CG+v").a)(t).file.getCurrentState(e.attrs.id,{collectionName:e.attrs.collection});if(n&&"error"!==n.status)return n.mediaType}catch(n){}},L=R((e=>{const t=j(e);if(t&&null!==t.mediaPos){if(e.doc.nodeAt(t.mediaPos))return{type:I.showToolbar}}return!1})),_=(e,t,n)=>{if(t&&n){const r=P(e);if(!r)return!1;const{mediaClientConfig:i}=Object(o("ftVL").b)(e);if(!i)return!1;D(r,i).then((e=>{"external"!==e&&"image"!==e||P(n.state)!==r||t(n.state.tr.setMeta(A,{type:I.showToolbar}))}))}return!0},B=R({type:I.hideToolbar}),H=(e,t,n)=>{B(e,t,n),n&&n.focus()};function J(e,t,{forceRemove:n=!1,url:r}){const i=j(t);if(!i||null===i.mediaPos)return e
;const a=t.doc.resolve(i.mediaPos),s=t.doc.nodeAt(a.pos);if(!s)return e;const l=t.schema.marks.link,{media:d}=t.schema.nodes;return Object(o("t0jr").g)(l,((e,t)=>{if(!t||t.type!==d)return;if(n)return!1;const i=Object(o("CHQz").g)(r);return e&&e.href===i?void 0:""!==i.trim()&&c()(c()({},e),{},{href:i})}),[d])(a.pos,a.pos+s.nodeSize,e,t),e}const $=(e,t,n,r)=>Object(o("SVcB").a)(t,e,{action:n,eventType:o("J5HJ").e.TRACK,actionSubject:o("J5HJ").b.MEDIA,actionSubjectId:o("J5HJ").c.LINK,attributes:r}),F=R({type:I.unlink},((e,t)=>{const n=J(e,t,{forceRemove:!0});return $(n,t,o("J5HJ").a.DELETED)})),z=(e,t)=>{const n=function(e){const{link:t}=e.schema.marks,n=j(e);if(!n||null===n.mediaPos)return;const o=e.doc.resolve(n.mediaPos),r=e.doc.nodeAt(o.pos);if(!r)return;if(!t.isInSet(r.marks))return;return r.marks.find((e=>e.type===t)).attrs.href}(t);return n?e!==n?o("J5HJ").a.EDITED:void 0:o("J5HJ").a.ADDED},U=(t,n)=>R({type:I.setUrl,payload:Object(o("CHQz").g)(t)},((r,i)=>{const a=z(t,i)
;if(!a)return r;try{const e=J(r,i,{url:t});return $(r,i,a,a===o("J5HJ").a.ADDED?{inputMethod:n}:void 0),e}catch(e){throw $(r,i,o("J5HJ").a.ERRORED,{action:a}),e}}));const V=(e,t)=>(n,r)=>{let i=n.tr;if(1!==t.childCount)return!1;if(r){const a=n.schema,s=t.child(0),c=a.nodes.caption.create();i=n.tr.insert(e+s.nodeSize+1,c),i=W(i,e,s.nodeSize,c.nodeSize),i.setMeta("scrollIntoView",!1),Object(o("SVcB").a)(n,i,{action:o("J5HJ").a.ADDED,eventType:o("J5HJ").e.TRACK,actionSubject:o("J5HJ").b.MEDIA_SINGLE,actionSubjectId:o("J5HJ").c.CAPTION}),r(i)}return!0},W=(e,t,n,o)=>Object(S.setTextSelection)(t+n+o)(e);const K=e=>(o("wBzk").a.getState(e).ignoreLinks=!0,!1),q=e=>o("wBzk").a.getState(e).splitMediaGroup(),G=(e,t)=>{const{selection:n,schema:o}=e;if(n instanceof a.NodeSelection&&n.node.type===o.nodes.mediaSingle&&o.nodes.caption){if(t){const{from:o,node:r}=n;V(o,r)(e,t)||((e,t)=>(n,o)=>{if(2!==t.childCount)return!1;if(o){const r=t.child(0),i=t.child(1);let a=n.tr;a=W(a,e,r.nodeSize,i.nodeSize),
a.setMeta("scrollIntoView",!1),o(a)}return!0})(o,r)(e,t)}return!0}return!1};var Y=function(e){const t={},{featureFlags:n}=e||{};return o("4Upw").bindKeymapWithCommand(o("4Upw").undo.common,K,t),o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,q,t),Object(o("8bRg").a)("captions",n)&&(o("4Upw").bindKeymapWithCommand(o("4Upw").moveDown.common,G,t),o("4Upw").bindKeymapWithCommand(o("4Upw").tab.common,G,t)),o("4Upw").bindKeymapWithCommand(o("4Upw").insertNewLine.common,q,t),Object(E.b)(t)};const X=e=>()=>(e.showMediaPicker(),!0);var Q=({editorView:e,eventDispatcher:t,pluginKey:n,isDisabled:r,isReducedSpacing:a})=>i.a.createElement(o("fd7e").a,{editorView:e,eventDispatcher:t,plugins:{mediaPlugin:n},render:({mediaPlugin:e})=>null!=e&&e.allowsUploads?i.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.MEDIA,onClick:X(e),disabled:r,title:"Files & images",spacing:a?"none":"default",iconBefore:i.a.createElement(o.n(o("8R/O")).a,{label:"Files & images"})}):null
}),Z=o("lSNA"),ee=o.n(Z),te=o("pVnL"),ne=o.n(te);let oe=1;const re=new Map;class ie extends r.Component{constructor(...e){super(...e),ee()(this,"state",{animate:!1,offset:0}),ee()(this,"handleSize",(({offset:e})=>this.setState({offset:e}))),ee()(this,"handleScroll",(({animate:e,offset:t})=>this.setState({animate:e,offset:t})))}renderCards(){const{items:e,mediaClientConfig:t,shouldOpenMediaViewer:n,featureFlags:r}=this.props,a=n?{list:e.map((e=>e.identifier))}:void 0;return e.map((e=>{const s=(e=>{switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;{const t=re.get(e.id);if(t)return t;oe++;const n=`${oe}`;return re.set(e.id,n),n}}})(e.identifier);return t?i.a.createElement(o("7jlN").a,ne()({key:s,mediaClientConfig:t,dimensions:o("NdM7").a,useInlinePlayer:!1,shouldOpenMediaViewer:n,mediaViewerDataSource:a,featureFlags:r},e)):i.a.createElement(o("2euv").a,{key:s,dimensions:o("NdM7").a})}))}render(){
const{testId:e="media-filmstrip"}=this.props,{animate:t,offset:n}=this.state;return i.a.createElement(o("S8d9").a,{animate:t,offset:n,onSize:this.handleSize,onScroll:this.handleScroll,testId:e},this.renderCards())}}ie.displayName="Filmstrip";var ae=o("xk4V"),se=o.n(ae);class ce{constructor(t){ee()(this,"updateContextId",(async()=>{const e=this.getAttrs();if(!e||"file"!==e.type)return;const{id:t}=e,n=await this.getObjectId();Object(o("JLWW").e)(t,{__contextId:n},this.props.isMediaSingle)(this.props.view.state,this.props.view.dispatch)})),ee()(this,"hasFileAttributesDefined",(()=>{const e=this.getAttrs();return e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId})),ee()(this,"updateFileAttrs",(async(e=!0)=>{const t=this.getAttrs(),n=await this.props.mediaProvider;if(!n||!n.uploadParams||!t||"file"!==t.type||this.hasFileAttributesDefined())return;const r=n.viewMediaClientConfig,i=Object(o("CG+v").a)(r),a={collectionName:t.collection};let s;try{
if(s=await i.file.getCurrentState(t.id,a),"error"===s.status)return}catch(h){return}const c=this.getNodeContextId()||await this.getObjectId(),{name:l,mimeType:d,size:u}=s,p={__fileName:l,__fileMimeType:d,__fileSize:u,__contextId:c};le(t,p)&&Object(o("JLWW").e)(t.id,p,e)(this.props.view.state,this.props.view.dispatch)})),ee()(this,"getAttrs",(()=>{const{attrs:e}=this.props.node;if(e)return e})),ee()(this,"getObjectId",(async()=>{const e=await this.props.contextIdentifierProvider;return e&&e.objectId})),ee()(this,"uploadExternalMedia",(async t=>{const{node:n}=this.props,r=await this.props.mediaProvider;if(n&&r){const i=r.uploadMediaClientConfig;if(!i||!n.attrs.url)return;const a=Object(o("CG+v").a)(i),s=r.uploadParams&&r.uploadParams.collection;try{const e=await a.file.uploadExternal(n.attrs.url,s),{uploadableFileUpfrontIds:r,dimensions:i}=e;Object(o("JLWW").d)(t()+1,{id:r.id,collection:s,height:i.height,width:i.width,occurrenceKey:r.occurrenceKey
})(this.props.view.state,this.props.view.dispatch)}catch(e){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:o("J5HJ").a.UPLOAD_EXTERNAL_FAIL,actionSubject:o("J5HJ").b.EDITOR,eventType:o("J5HJ").e.OPERATIONAL})}}})),ee()(this,"getNodeContextId",(()=>{const e=this.getAttrs();if(e&&"file"===e.type)return e.__contextId})),ee()(this,"updateDimensions",(e=>{Object(o("JLWW").e)(e.id,{height:e.height,width:e.width},!0)(this.props.view.state,this.props.view.dispatch)})),ee()(this,"hasDifferentContextId",(async()=>{const e=this.getNodeContextId(),t=await this.getObjectId();return!(!e||!t||e===t)})),ee()(this,"isNodeFromDifferentCollection",(async()=>{const e=await this.props.mediaProvider;if(!e||!e.uploadParams)return!1;const t=e.uploadParams.collection,n=this.getAttrs();if(!n||"file"!==n.type)return!1;const{collection:o,__contextId:r}=n;return!(!r&&!(await this.getObjectId())||t===o)})),ee()(this,"copyNodeFromBlobUrl",(async e=>{const t=this.getAttrs()
;if(!t||"external"!==t.type)return;const{url:n}=t,r=Object(o("WUE1").b)(n);if(!r)return;const i=await this.props.mediaProvider;if(!i||!i.uploadParams)return;const a=i.uploadParams.collection,{contextId:s,id:c,collection:l,height:d,width:u,mimeType:p,name:h,size:f}=r,m=i.uploadMediaClientConfig;if(!m||!m.getAuthFromContext)return;const g=Object(o("CG+v").a)(m),b=await m.getAuthFromContext(s),v={id:c,collection:l,authProvider:()=>Promise.resolve(b)},y={collection:a,authProvider:m.authProvider,occurrenceKey:se()()},E=await g.file.copyFile(v,y);Object(o("JLWW").d)(e()+1,{id:E.id,collection:a,height:d,width:u,__fileName:h,__fileMimeType:p,__fileSize:f})(this.props.view.state,this.props.view.dispatch)})),ee()(this,"copyNode",(async()=>{const e=await this.props.mediaProvider,{isMediaSingle:t,view:n}=this.props,r=this.getAttrs();if(!e||!e.uploadParams||!r||"file"!==r.type)return;const i=this.getNodeContextId(),a=e.uploadMediaClientConfig;if(a&&a.getAuthFromContext&&i){
const s=Object(o("CG+v").a)(a),c=await a.getAuthFromContext(i),l=await this.getObjectId(),{id:d,collection:u}=r,p={id:d,collection:u,authProvider:()=>Promise.resolve(c)},h=e.uploadParams.collection,f={collection:h,authProvider:a.authProvider,occurrenceKey:se()()},m=await s.file.copyFile(p,f);Object(o("JLWW").f)(p.id,{id:m.id,collection:h,__contextId:l},t)(n.state,n.dispatch)}})),this.props=t}isMediaBlobUrl(){const e=this.getAttrs();return!(!e||"external"!==e.type||!Object(o("WUE1").c)(e.url))}async getRemoteDimensions(){const e=await this.props.mediaProvider,{mediaOptions:t}=this.props,n=this.getAttrs();if(!e||!n)return!1;const{height:r,width:i}=n;if("external"===n.type||!n.id)return!1;const{id:a,collection:s}=n;if(r&&i)return!1;if(t&&!t.allowRemoteDimensionsFetch)return{id:a,height:o("zaYB").a,width:o("zaYB").b};const c=e.viewMediaClientConfig,l=Object(o("CG+v").a)(c),d=await l.file.getCurrentState(a,{collectionName:s});if(!Object(o("WxjT").c)(d))return!1
;const u=await l.getImageMetadata(a,{collection:s});return!(!u||!u.original)&&{id:a,height:u.original.height||o("zaYB").a,width:u.original.width||o("zaYB").b}}async handleExternalMedia(t){if(this.isMediaBlobUrl())try{await this.copyNodeFromBlobUrl(t)}catch(e){await this.uploadExternalMedia(t)}else await this.uploadExternalMedia(t)}}const le=(e,t)=>e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId,de=e=>Object(o("Dc6L").d)(e.anchorPos,e.headPos,e.getPos(),e.node.nodeSize);class ue extends i.a.Component{constructor(e){super(e),ee()(this,"state",{viewMediaClientConfig:void 0}),ee()(this,"updateNodeAttrs",(e=>{const{view:t,mediaProvider:n,contextIdentifierProvider:o}=e;this.mediaNodes.forEach((e=>{new ce({view:t,mediaProvider:n,contextIdentifierProvider:o,node:e,isMediaSingle:!1}).updateFileAttrs(!1)}))})),ee()(this,"setMediaItems",(e=>{const{node:t}=e;this.mediaNodes=[],t.forEach(((t,n)=>{
this.mediaPluginState.mediaGroupNodes[t.attrs.id]={node:t,getPos:()=>e.getPos()+n+1},this.mediaNodes.push(t)}))})),ee()(this,"getIdentifier",(e=>"external"===e.attrs.type?{mediaItemType:"external-image",dataURI:e.attrs.url}:{id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection})),ee()(this,"isNodeSelected",(e=>{const t=de(this.props);return t===o("Dc6L").a.selectedInRange||t===o("Dc6L").a.selectedInside&&this.props.anchorPos===e})),ee()(this,"renderChildNodes",(()=>{const{viewMediaClientConfig:e}=this.state,{getPos:t,allowLazyLoading:n,disabled:r,mediaOptions:a}=this.props,s=this.mediaNodes.map(((e,s)=>{const c=()=>t()+s+1;return{identifier:this.getIdentifier(e),isLazy:n,selected:this.isNodeSelected(c()),onClick:()=>{Object(o("Gbq5").g)(this.props.view,c())},shouldEnableDownloadButton:a.enableDownloadButton,actions:[{handler:r?()=>{}:this.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,c),icon:i.a.createElement(o.n(o("8m3F")).a,{label:"delete"})}]}}))
;return i.a.createElement(ie,{items:s,mediaClientConfig:e,featureFlags:a.featureFlags})})),this.mediaNodes=[],this.mediaPluginState=o("wBzk").a.getState(e.view.state),this.setMediaItems(e),this.state={viewMediaClientConfig:void 0}}componentDidMount(){this.updateMediaClientConfig(),this.mediaNodes.forEach((async e=>{if("external"===e.attrs.type)return;const{view:t,mediaProvider:n,contextIdentifierProvider:o}=this.props,r=new ce({view:t,mediaProvider:n,contextIdentifierProvider:o,node:e,isMediaSingle:!1});r.getNodeContextId()||await r.updateContextId();await r.hasDifferentContextId()&&await r.copyNode()}))}UNSAFE_componentWillReceiveProps(e){this.updateMediaClientConfig(),this.setMediaItems(e),!1!==e.isCopyPasteEnabled&&this.updateNodeAttrs(e)}shouldComponentUpdate(e){return!(!((e,t)=>de(e)!==de(t)||de(t)===o("Dc6L").a.selectedInside&&e.anchorPos!==t.anchorPos)(this.props,e)&&this.props.node===e.node&&this.state.viewMediaClientConfig===this.mediaPluginState.mediaClientConfig)}
updateMediaClientConfig(){const{viewMediaClientConfig:e}=this.state,{mediaClientConfig:t}=this.mediaPluginState;!e&&t&&this.setState({viewMediaClientConfig:t})}render(){return this.renderChildNodes()}}ue.displayName="MediaGroup",ee()(ue,"displayName","MediaGroup");class pe extends o("gVP2").a{render(e,t){const{providerFactory:n,mediaOptions:r}=e,a=this.getPos;return i.a.createElement(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:n,renderNode:({mediaProvider:e,contextIdentifierProvider:n})=>i.a.createElement(o("fd7e").a,{editorView:this.view,plugins:{reactNodeViewState:o("EfUG").b,editorDisabledPlugin:o("QNcB").b},render:({editorDisabledPlugin:o})=>e?i.a.createElement(ue,{node:this.node,getPos:a,view:this.view,forwardRef:t,disabled:(o||{}).editorDisabled,allowLazyLoading:r.allowLazyLoading,mediaProvider:e,contextIdentifierProvider:n,isCopyPasteEnabled:r.isCopyPasteEnabled,anchorPos:this.view.state.selection.$anchor.pos,
headPos:this.view.state.selection.$head.pos,mediaOptions:r}):null})})}}pe.displayName="MediaGroupNodeView";const he=(e,t,n,o={})=>(r,i,a)=>new pe(r,i,a,e,t,{providerFactory:n,mediaOptions:o}).init();var fe=o("vOnD");const me=fe.default.div.withConfig({componentId:"sc-1c3zwtb-0"})`& > div{${o("zux5").a};position:relative;clear:both;}`;me.displayName="ResizerWrapper";class ge extends i.a.Component{constructor(...e){super(...e),ee()(this,"state",{offsetLeft:be(this.insideInlineLike,this.insideLayout,this.props.view.dom,void 0),isVideoFile:!0}),ee()(this,"calcNewSize",((e,t)=>{const{layout:n,view:{state:r}}=this.props,i=100*Object(o("Qvlh").b)(e,this.props.lineLength);this.setState({resizedPctWidth:i});let a=Object(S.hasParentNodeOfType)(r.schema.nodes.table)(r.selection)?n:this.calcUnwrappedLayout(i,e);return i<=100?(!this.wrappedLayout||t&&100===i||(a=n),{width:i,layout:a}):{width:this.props.pctWidth||null,layout:a}})),
ee()(this,"calcUnwrappedLayout",((e,t)=>e<=100?"center":t<=o("9cwX").Z?"wide":"full-width")),ee()(this,"calcColumnLeftOffset",(()=>{const{offsetLeft:e}=this.state;return this.insideInlineLike?Object(o("Qvlh").a)(e,this.props.lineLength,this.props.gridSize):0})),ee()(this,"calcPxWidth",(e=>{const{width:t=0,height:n,layout:r,pctWidth:i,lineLength:a,containerWidth:s,fullWidthMode:c,getPos:l,view:{state:d}}=this.props,u="function"==typeof l?l():void 0;return Object(o("ZPHY").a)({origWidth:t,origHeight:n,pctWidth:i,state:d,containerWidth:{width:s,lineLength:a},isFullWidthModeEnabled:c,layout:e||r,pos:u})})),ee()(this,"highlights",((e,t)=>{const n=Object(o("GD2S").c)(e,t),{layoutColumn:r,table:i,expand:a,nestedExpand:s}=this.props.view.state.schema.nodes;if(this.$pos&&Object(S.findParentNodeOfTypeClosestToPos)(this.$pos,[r,i,a,s].filter(Boolean)))return[];if(n>o("9cwX").Z)return["full-width"];const{layout:c,lineLength:l,gridSize:d}=this.props,u=Object(o("Qvlh").a)(n,l,d),p=Math.round(u),h=[]
;return"wrap-left"===c||"align-start"===c?h.push(0,p):"wrap-right"===c||"align-end"===c?h.push(d,d-p):this.insideInlineLike?h.push(Math.round(u+this.calcColumnLeftOffset())):h.push(Math.floor((d-p)/2),Math.ceil((d+p)/2)),h})),ee()(this,"saveWrapper",(e=>this.wrapper=e))}componentDidUpdate(){const e=be(this.insideInlineLike,this.insideLayout,this.props.view.dom,this.wrapper);return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0}get wrappedLayout(){return o("zaYB").e.indexOf(this.props.layout)>-1}async componentDidMount(){const{viewMediaClientConfig:e}=this.props;e&&await this.checkVideoFile(e)}UNSAFE_componentWillReceiveProps(e){this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}async checkVideoFile(e){const t=this.$pos;if(!t||!e)return;const n=this.props.view.state.doc.nodeAt(t.pos+1);if(!n||!n.attrs.id)return;const r=Object(o("CG+v").a)(e)
;try{const e=await r.file.getCurrentState(n.attrs.id,{collectionName:n.attrs.collection});e&&"error"!==e.status&&"image"===e.mediaType&&this.setState({isVideoFile:!1})}catch(i){this.setState({isVideoFile:!1})}}checkLayout(e,t){const{resizedPctWidth:n}=this.state;if(o("zaYB").e.indexOf(e)>-1&&"center"===t&&n){const e=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,e)}}get $pos(){if("function"!=typeof this.props.getPos)return null;const e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}get gridWidth(){const{gridSize:e}=this.props;return this.wrappedLayout||this.insideInlineLike?e:e/2}get insideInlineLike(){const e=this.$pos;if(!e)return!1;const{listItem:t}=this.props.view.state.schema.nodes;return!!Object(S.findParentNodeOfTypeClosestToPos)(e,[t])}get insideLayout(){const e=this.$pos;if(!e)return!1;const{layoutColumn:t}=this.props.view.state.schema.nodes
;return!!Object(S.findParentNodeOfTypeClosestToPos)(e,[t])}render(){const{width:e,height:t,layout:n,pctWidth:r,containerWidth:a,fullWidthMode:s,selected:c,view:{state:l},children:d}=this.props,u=this.calcPxWidth();let p;e&&(p=(t/e*100).toFixed(3));const h={};o("GD2S").a.forEach((e=>{const t="left"===e?"right":"left";h[e]=["full-width","wide","center"].concat(`wrap-${t}`).concat(`align-${o("GD2S").b[t]}`).indexOf(n)>-1,"left"===e&&this.insideInlineLike&&(h[e]=!1)}));const f={$pos:this.$pos,akEditorWideLayoutWidth:o("9cwX").Z,allowBreakoutSnapPoints:this.props.allowBreakoutSnapPoints,containerWidth:this.props.containerWidth,gridSize:this.props.gridSize,gridWidth:this.gridWidth,insideInlineLike:this.insideInlineLike,insideLayout:this.insideLayout,isVideoFile:this.state.isVideoFile,lineLength:this.props.lineLength,offsetLeft:this.state.offsetLeft,wrappedLayout:this.wrappedLayout};return i.a.createElement(me,{layout:n,isResized:!!r,containerWidth:a||e,innerRef:this.saveWrapper,
fullWidthMode:s},i.a.createElement(o("j3Is").a,ne()({},this.props,{ratio:p,width:u,selected:c,enable:h,calcNewSize:this.calcNewSize,snapPoints:Object(o("j0F9").b)(f),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,handleResizeStart:()=>{const e=Object(o("jegY").c)(l);return!e||!e.dragging},nodeType:"media",dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),d))}}function be(e,t,n,o){let r=0;if(o&&e&&!t){r=o.getBoundingClientRect().left-n.getBoundingClientRect().left}return r}ge.displayName="ResizableMediaSingle";const ve=fe.default.figure.withConfig({componentId:"pwdo6l-0"})`margin:0;`;ve.displayName="FigureWrapper";const ye=fe.default.div.withConfig({componentId:"pwdo6l-1"})`position:absolute;width:100%;height:100%;`,Ee=fe.default.div.withConfig({componentId:"pwdo6l-2"})`width:100%;position:relative;padding-bottom:${e=>e.dimensions.height/e.dimensions.width*100}%;`,we=({dimensions:e,children:t,onContextMenu:n})=>i.a.createElement(Ee,{
dimensions:e,onContextMenuCapture:n},i.a.createElement(ye,null,t));var Oe=o("JRPe");const Se=Object(Oe.defineMessages)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}}),Ce=fe.default.span.withConfig({componentId:"sc-2misez-0"})`color:${"#6B778C"};width:100%;text-align:center;margin-top:8px !important;display:block;`;var Te=({onClick:e})=>i.a.createElement(Ce,{onClick:e,"data-id":"caption-placeholder","data-testid":"caption-placeholder"},i.a.createElement(Oe.FormattedMessage,Se.placeholder));class xe extends r.Component{constructor(...t){super(...t),ee()(this,"state",{width:void 0,height:void 0,viewMediaClientConfig:void 0,isCopying:!1}),ee()(this,"createMediaNodeUpdater",(e=>{const t=this.props.node.firstChild;return new ce(c()(c()({},e),{},{isMediaSingle:!0,node:t||this.props.node,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}))})),
ee()(this,"setViewMediaClientConfig",(async e=>{const t=await e.mediaProvider;if(t){const e=t.viewMediaClientConfig;this.setState({viewMediaClientConfig:e})}})),ee()(this,"updateMediaNodeAttributes",(async t=>{const n=this.createMediaNodeUpdater(t),{addPendingTask:o}=this.props.mediaPluginState,r=this.props.node.firstChild;if(!r)return;const i=await n.getRemoteDimensions();if(i&&n.updateDimensions(i),"external"===r.attrs.type&&r.attrs.__external){const e=n.handleExternalMedia(this.props.getPos);return o(e),void(await e)}n.getNodeContextId()||await n.updateContextId();if(await n.hasDifferentContextId()){this.setState({isCopying:!0});try{const e=n.copyNode();o(e),await e}catch(e){this.setState({isCopying:!1})}}})),ee()(this,"selectMediaSingle",(({event:e})=>{e.stopPropagation();const t=this.props.getPos(),{state:n}=this.props.view;if(e.shiftKey){if(n.selection instanceof o("n1Ll").a)return
;Object(o("Gbq5").h)(this.props.view,n.selection.from<t?n.selection.from:t,n.selection.to>t?n.selection.to:t+3)}else Object(o("Gbq5").g)(this.props.view,t)})),ee()(this,"updateSize",((e,t)=>{const{state:n,dispatch:o}=this.props.view,r=this.props.getPos();if(void 0===r)return;const i=n.tr.setNodeMarkup(r,void 0,c()(c()({},this.props.node.attrs),{},{layout:t,width:e}));return i.setMeta("scrollIntoView",!1),o(i)})),ee()(this,"clickPlaceholder",(()=>{const{view:e,getPos:t,node:n}=this.props;"boolean"!=typeof t&&V(t(),n)(e.state,e.dispatch)})),ee()(this,"getLineLength",((e,t)=>{if(Object(o("j0F9").d)(e,t)){const n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&o("j0F9").c.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return null}))}UNSAFE_componentWillReceiveProps(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),
!1!==e.isCopyPasteEnabled&&this.createMediaNodeUpdater(e).updateFileAttrs()}async componentDidMount(){const{contextIdentifierProvider:e}=this.props;await Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)]),this.setState({contextIdentifierProvider:await e})}render(){const{selected:e,getPos:t,node:n,mediaOptions:r,fullWidthMode:s,view:{state:c},view:l}=this.props,{layout:d,width:u}=n.attrs,p=n.firstChild.attrs;let{width:h,height:f}=p;if("external"===p.type){if(Object(o("Nrp8").d)(p)){const e=Object(o("WUE1").b)(p.url);if(e){const{width:t,height:n}=e;h=h||t,f=f||n}}const{width:e,height:t}=this.state;null===h&&(h=e||o("zaYB").b),null===f&&(f=t||o("zaYB").a)}h&&f||(h=o("zaYB").b,f=o("zaYB").a);const m={layout:d,width:h,height:f,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:u,fullWidthMode:s,hasFallbackContainer:!1};let g=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){
const e=t();if(e){const t=c.doc.resolve(e),{table:n}=c.schema.nodes,o=!!Object(S.findParentNodeOfTypeClosestToPos)(t,[n]);g=g&&!o}}const b=this.getLineLength(l,t())||this.props.lineLength,v=e(),y=Object(o("8bRg").a)("captions",r.featureFlags)&&2!==n.childCount&&v&&c.selection instanceof a.NodeSelection,E=i.a.createElement(ve,null,i.a.createElement("div",{ref:this.props.forwardRef}),y&&i.a.createElement(Te,{onClick:this.clickPlaceholder}));return g?i.a.createElement(ge,ne()({},m,{lineLength:b,view:this.props.view,getPos:t,updateSize:this.updateSize,displayGrid:Object(o("/OWP").a)(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,allowBreakoutSnapPoints:r&&r.allowBreakoutSnapPoints,selected:v,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),E):i.a.createElement(o("zaYB").c,m,E)}}xe.displayName="MediaSingleNode",ee()(xe,"defaultProps",{mediaOptions:{}}),ee()(xe,"displayName","MediaSingleNode");class ke extends o("gVP2").a{
constructor(...e){super(...e),ee()(this,"lastOffsetLeft",0),ee()(this,"forceViewUpdate",!1),ee()(this,"selectionType",null),ee()(this,"checkAndUpdateSelectionType",(()=>{const e=this.getPos,{selection:t}=this.view.state,n=Object(o("Dc6L").d)(t.$anchor.pos,t.$head.pos,e(),this.node.nodeSize);return this.selectionType=n,n})),ee()(this,"isNodeSelected",(()=>(this.checkAndUpdateSelectionType(),null!==this.selectionType)))}createDomRef(){const e=document.createElement("div");return o("j5wO").a.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}getContentDOM(){const e=document.createElement("div");return e.classList.add("media-content-wrap"),{dom:e}}viewShouldUpdate(e){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==e.attrs||(this.selectionType!==this.checkAndUpdateSelectionType()||(this.node.childCount!==e.childCount||super.viewShouldUpdate(e)))}getNodeMediaId(e){
if(e.firstChild)return e.firstChild.attrs.id}update(e,t,n){return n||(n=(e,t)=>this.getNodeMediaId(e)===this.getNodeMediaId(t)),super.update(e,t,n)}render(e,t){const{eventDispatcher:n,fullWidthMode:r,providerFactory:a,mediaOptions:s,dispatchAnalyticsEvent:c}=this.reactComponentProps,l=this.getPos;return i.a.createElement(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:a,renderNode:({mediaProvider:e,contextIdentifierProvider:a})=>i.a.createElement(o("fd7e").a,{editorView:this.view,plugins:{width:o("IXso").b,mediaPluginState:o("wBzk").a},render:({width:o,mediaPluginState:d})=>i.a.createElement(xe,{width:o.width,lineLength:o.lineLength,node:this.node,getPos:l,mediaProvider:e,contextIdentifierProvider:a,mediaOptions:s,view:this.view,fullWidthMode:r,selected:this.isNodeSelected,eventDispatcher:n,mediaPluginState:d,dispatchAnalyticsEvent:c,forwardRef:t})})})}ignoreMutation(){if(this.dom){const e=this.dom.offsetLeft
;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],(()=>!0)))}return!0}}ke.displayName="MediaSingleNodeView";const Ie=(e,t,n,o,r={})=>(i,a,s)=>new ke(i,a,s,e,t,{eventDispatcher:t,fullWidthMode:r.fullWidthEnabled,providerFactory:n,mediaOptions:r,dispatchAnalyticsEvent:o,isCopyPasteEnabled:r.isCopyPasteEnabled}).init(),Ae=Object(Oe.defineMessages)({annotate:{id:"fabric.editor.annotate",defaultMessage:"Annotate",description:"Annotate an image by drawing arrows, adding text, or scribbles."}}),Ne=(e,t)=>{const n=o("wBzk").a.getState(e);if(!n)return!1;const{mediaSingle:r}=e.schema.nodes,i=n.selectedMediaContainerNode();if(!i||i.type!==r)return!1;const{id:a,collection:s,occurrenceKey:c}=i.firstChild.attrs;return Object(o("SVcB").c)({action:o("J5HJ").a.CLICKED,actionSubject:o("J5HJ").b.MEDIA,actionSubjectId:o("J5HJ").c.ANNOTATE_BUTTON,eventType:o("J5HJ").e.UI})(((e,t)=>u({type:"open",identifier:t,pos:e}))(e.selection.from+1,{id:a,collectionName:s,
mediaItemType:"file",occurrenceKey:c}))(e,t)};class Me extends i.a.Component{constructor(...e){super(...e),ee()(this,"state",{isImage:!1}),ee()(this,"onClickAnnotation",(()=>{const{view:e}=this.props;e&&Ne(e.state,e.dispatch)}))}async componentDidMount(){await this.checkIsImage()}async checkIsImage(){const e=Object(o("CG+v").a)(this.props.viewMediaClientConfig);if(this.props.id)try{const t=await e.file.getCurrentState(this.props.id,{collectionName:this.props.collection});t&&"error"!==t.status&&"image"===t.mediaType&&this.setState({isImage:!0})}catch(t){}}componentDidUpdate(e){e.id!==this.props.id&&this.setState({isImage:!1},(()=>{this.checkIsImage()}))}render(){if(!this.state.isImage)return null;const{intl:e}=this.props,t=e.formatMessage(Ae.annotate);return i.a.createElement(i.a.Fragment,null,i.a.createElement(o("ecD3").a,null),i.a.createElement(o("1vCU").a,{title:t,icon:i.a.createElement(o.n(o("lTRq")).a,{label:t}),onClick:this.onClickAnnotation}))}}Me.displayName="AnnotationToolbar"
;const Re=(e,t)=>(n,o)=>{const r=e.selectedMediaContainerNode();return r&&e.mediaClientConfig?i.a.createElement(Me,{key:o,viewMediaClientConfig:e.mediaClientConfig,id:r.firstChild.attrs.id,collection:r.firstChild.attrs.collection,view:n,intl:t}):null};var je=o("QILm"),Pe=o.n(je);const De=["providerFactory"];const Le=(e,t)=>e.slice(0,t);class _e extends i.a.Component{constructor(e){super(e),ee()(this,"activityProvider",null),ee()(this,"handleSubmit",(()=>{const{items:e,url:t,selectedIndex:n}=this.state,r=this.getCurrentInputMethod();if(r)switch(r){case o("J5HJ").f.MANUAL:this.props.onSubmit({url:t,text:t,inputMethod:o("J5HJ").f.MANUAL});break;case o("J5HJ").f.TYPEAHEAD:{const t=e[n];this.setState((()=>({url:t.url}))),this.props.onSubmit&&this.props.onSubmit({url:t.url,text:t.name,inputMethod:o("J5HJ").f.TYPEAHEAD});break}}})),ee()(this,"handleSelected",((e,t)=>{this.props.onSubmit&&(this.setState((()=>({url:e}))),this.props.onSubmit({text:t,url:e,inputMethod:o("J5HJ").f.TYPEAHEAD}))})),
ee()(this,"handleChange",(async e=>{this.setState({url:e}),this.activityProvider&&(0===e.length?this.setState({items:Le(await this.activityProvider.getRecentItems(),this.props.limit),selectedIndex:-1}):this.setState({items:Le(await this.activityProvider.searchRecent(e),this.props.limit),selectedIndex:0}))})),ee()(this,"handleKeyDown",(e=>{const{items:t,selectedIndex:n}=this.state;t&&t.length&&("ArrowDown"===e.key?(e.preventDefault(),this.setState({selectedIndex:(n+1)%t.length})):"ArrowUp"===e.key&&(e.preventDefault(),this.setState({selectedIndex:n>0?n-1:t.length-1})))})),ee()(this,"handleMouseMove",(e=>{const{items:t}=this.state;if(t){const n=t.findIndex((t=>t.objectId===e));this.setState({selectedIndex:n})}})),ee()(this,"renderRecentList",(()=>{const{items:e,isLoading:t,selectedIndex:n}=this.state;return i.a.createElement(o("OqP8").a,{items:e,isLoading:t,selectedIndex:n,onSelect:this.handleSelected,onMouseMove:this.handleMouseMove})})),ee()(this,"clearValue",(()=>{this.setState({
url:""})})),this.state={selectedIndex:-1,isLoading:!1,items:[],url:e.defaultUrl||""}}UNSAFE_componentWillReceiveProps(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((t=>t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null))}async componentDidMount(){this.props.activityProvider&&(this.activityProvider=await this.props.activityProvider,await this.loadRecentItems(this.activityProvider))}async loadRecentItems(e){try{this.state.url||this.setState({isLoading:!0,items:Le(await e.getRecentItems(),this.props.limit)})}finally{this.setState({isLoading:!1})}}getCurrentInputMethod(){const{items:e,url:t,selectedIndex:n}=this.state;return e&&e.length>0&&n>-1?o("J5HJ").f.TYPEAHEAD:t&&t.length>0?o("J5HJ").f.MANUAL:void 0}render(){const{render:e}=this.props,{url:t}=this.state;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,
currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})}}_e.displayName="RecentLink",ee()(_e,"defaultProps",{limit:5});var Be=function(e){return class extends i.a.Component{constructor(...t){super(...t),ee()(this,"renderNode",(t=>{const n=this.props,{providerFactory:o}=n,r=Pe()(n,De),{activityProvider:a}=t;return i.a.createElement(e,ne()({activityProvider:a},r))}))}render(){const{providerFactory:e}=this.props;return i.a.createElement(o("D0us").a,{providers:["activityProvider"],providerFactory:e,renderNode:this.renderNode})}}}(Object(Oe.injectIntl)(_e));const He=Object(Oe.defineMessages)({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}}),Je=fe.default.section.withConfig({componentId:"b8cw06-0"
})`display:flex;line-height:0;padding:12px 24px 12px 0;margin:0 4px 0 32px;border-top:1px solid ${"#DE350B"};align-items:start;display:flex;flex-direction:column;`,$e=fe.default.span.withConfig({componentId:"b8cw06-1"})`padding:4px 8px 4px 0px;`;class Fe extends i.a.PureComponent{constructor(...e){super(...e),ee()(this,"state",{validationErrors:[]}),ee()(this,"handleSubmit",(({url:e,inputMethod:t})=>{this.props.onSubmit(e,{inputMethod:t})})),ee()(this,"handleOnBack",(({url:e,inputMethod:t})=>{const{onBack:n}=this.props;n&&n(e,{inputMethod:t})})),ee()(this,"handleCancel",(()=>{const{onCancel:e}=this.props;e&&e()})),ee()(this,"handleUnlink",(()=>{const{onUnlink:e}=this.props;e&&e()})),ee()(this,"handleOnBlur",(e=>{this.props.onBlur(e.url)})),ee()(this,"renderContainer",(({activityProvider:e,inputProps:{onChange:t,onKeyDown:n,onSubmit:r,value:a},currentInputMethod:s,renderRecentList:c})=>{
const{intl:{formatMessage:l},displayUrl:d}=this.props,u=l(He.backLink),p=l(o("yYBl").b.unlink),h=this.state.validationErrors.map((function(e,t){return i.a.createElement(o("Cm4f").a,{key:t},e)}));return i.a.createElement("div",{className:"recent-list"},i.a.createElement(o("0dhB").a,{provider:!!e},i.a.createElement(o("0dhB").c,null,i.a.createElement($e,null,i.a.createElement(o("1vCU").a,{title:u,icon:i.a.createElement(o.n(o("oMky")).a,{label:u}),onClick:()=>this.handleOnBack({url:a,inputMethod:s})})),i.a.createElement(o("pG8m").a,{testId:"media-link-input",placeholder:(e=>l(e?o("yYBl").b.placeholder:o("yYBl").b.linkPlaceholder))(!!e),autoFocus:!0,onCancel:this.handleCancel,defaultValue:a,onSubmit:e=>{const t=this.getValidationErrors(e,s);this.setState({validationErrors:t}),t.length||r()},onChange:e=>{this.setState({validationErrors:[]}),t(e)},onKeyDown:n}),Object(o("CHQz").g)(d)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(o("ecD3").a,null),i.a.createElement(o("1vCU").a,{
title:p,icon:i.a.createElement(o.n(o("VAOK")).a,{label:p}),onClick:this.handleUnlink}))),!!h.length&&i.a.createElement(Je,null,h),c()))}))}getValidationErrors(e,t){const{intl:{formatMessage:n}}=this.props;return t===o("J5HJ").f.TYPEAHEAD?[]:e?Object(o("CHQz").g)(e)?[]:[n(o("yYBl").b.invalidLink)]:[n(o("yYBl").b.emptyLink)]}render(){const{providerFactory:e,displayUrl:t}=this.props;return i.a.createElement(Be,{defaultUrl:Object(o("CHQz").g)(t),providerFactory:e,onSubmit:this.handleSubmit,onBlur:this.handleOnBlur,render:this.renderContainer})}}Fe.displayName="LinkAddToolbar";var ze=Fe;function Ue(e){const t=j(e);if(!t||null===t.mediaPos)return!1;const{nodes:{media:n},marks:{link:o}}=e.schema,r=e.doc.nodeAt(t.mediaPos);if(!r||r.type!==n)return!1;const{parent:i}=e.doc.resolve(t.mediaPos);return i&&i.type.allowsMarkType(o)}const Ve=Object(Oe.defineMessages)({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{
id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."},validationMessage:{id:"fabric.editor.alttext.validation",defaultMessage:"Please remove any special characters in alt text.",description:"Please remove any special characters in alt text. "}}),We=fe.default.p.withConfig({componentId:"cwpjfe-0"
})`color:${"#7A869A"};font-size:${Object(o("9cwX").ib)(12)};padding:12px 40px;line-height:20px;border-top:1px solid ${"#EBECF0"};margin:0;`,Ke=fe.default.div.withConfig({componentId:"cwpjfe-1"})`width:${420}px;display:flex;flex-direction:column;overflow:auto;line-height:2;`,qe=fe.default.section.withConfig({componentId:"cwpjfe-2"})`display:flex;line-height:0;padding:5px 0;align-items:center;`,Ge=fe.default.section.withConfig({componentId:"cwpjfe-3"})`display:flex;line-height:0;padding:12px 24px 12px 0;margin:0 12px 0 40px;border-top:1px solid ${"#DE350B"};align-items:start;display:flex;flex-direction:column;`,Ye=fe.default.div.withConfig({componentId:"cwpjfe-4"})`display:flex;padding:4px 8px;`,Xe=fe.default.span.withConfig({componentId:"cwpjfe-5"})`color:${"#97A0AF"};`;class Qe extends i.a.Component{constructor(e){super(e),ee()(this,"state",{showClearTextButton:Boolean(this.props.value),validationErrors:this.props.value?this.getValidationErrors(this.props.value):[],
lastValue:this.props.value}),ee()(this,"closeMediaAltTextMenu",(()=>{const{view:e}=this.props;w(e.state,e.dispatch)})),ee()(this,"dispatchCancelEvent",(e=>{const{view:t}=this.props;t.someProp("handleKeyDown",(n=>n(t,e)))})),ee()(this,"updateAltText",(e=>{const{view:t}=this.props;(e=>b((e=>!!Object(o("Nrp8").e)(e)&&{type:"updateAltText"}),((t,n)=>{const r=Object(o("Nrp8").b)(n),i=t.selection.from+1;return r&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(i,void 0,c()(c()({},r.attrs),{},{alt:e}))),t})))(0===e.length?"":e)(t.state,t.dispatch)})),ee()(this,"handleOnChange",(e=>{const t=this.getValidationErrors(e);this.setState({showClearTextButton:Boolean(e),validationErrors:t,lastValue:e},(()=>{t&&t.length||this.updateAltText(e)}))})),ee()(this,"handleOnBlur",(()=>{const{value:e}=this.props,t=(this.state.lastValue||e||"").trim();this.handleOnChange(t)})),ee()(this,"handleClearText",(()=>{this.handleOnChange("")}));const{createAnalyticsEvent:t}=e
;this.fireCustomAnalytics=Object(o("0F7/").a)(t)}componentDidMount(){this.prevValue=this.props.value}componentWillUnmount(){this.fireAnalytics(o("J5HJ").a.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(o("J5HJ").a.ADDED),this.prevValue&&!this.props.value&&this.fireAnalytics(o("J5HJ").a.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(o("J5HJ").a.EDITED)}getValidationErrors(e){const{altTextValidator:t}=this.props;return e&&"function"==typeof t&&t(e)||[]}render(){const{intl:{formatMessage:e}}=this.props,{showClearTextButton:t}=this.state,n=e(Ve.back),r=i.a.createElement(o("4Upw").ToolTipContent,{description:n,keymap:o("4Upw").escape,shortcutOverride:"Esc"}),a=(this.state.validationErrors||[]).map((function(e,t){return i.a.createElement(o("Cm4f").a,{key:t},e)}));return i.a.createElement(Ke,null,i.a.createElement(qe,null,i.a.createElement(Ye,null,i.a.createElement(o("1vCU").a,{title:e(Ve.back),icon:i.a.createElement(o.n(o("oMky")).a,{
label:e(Ve.back)}),tooltipContent:r,onClick:this.closeMediaAltTextMenu})),i.a.createElement(o("pG8m").a,{testId:"alt-text-input",placeholder:e(Ve.placeholder),defaultValue:this.state.lastValue,onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),t&&i.a.createElement(Ye,null,i.a.createElement(o("1vCU").a,{testId:"alt-text-clear-button",title:e(Ve.clear),icon:i.a.createElement(Xe,null,i.a.createElement(o.n(o("SEpd")).a,{label:e(Ve.clear)})),tooltipContent:e(Ve.clear),onClick:this.handleClearText}))),!!a.length&&i.a.createElement(Ge,null,a),i.a.createElement(We,null,e(Ve.supportText)))}fireAnalytics(e){const{createAnalyticsEvent:t}=this.props;t&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:o("J5HJ").b.MEDIA,actionSubjectId:o("J5HJ").c.ALT_TEXT,eventType:o("J5HJ").e.TRACK}})}}Qe.displayName="AltTextEditComponent"
;var Ze=Object(o("VHV8").a)()(Object(Oe.injectIntl)(Qe));const et=e=>({type:"custom",fallback:[],render:(t,n)=>{if(!t)return null;const r=Object(o("Nrp8").b)(t.state);return r?i.a.createElement(Ze,{view:t,key:n,value:r.attrs.alt,altTextValidator:e&&e.altTextValidator}):null}}),tt=fe.default.div.withConfig({componentId:"lnphcl-0"})`display:flex;align-items:center;margin-right:4px;`,nt=({editorState:e,mediaLinkingState:t,intl:n,onAddLink:a,onEditLink:s,onOpenLink:c})=>{const[l,d]=Object(r.useState)(!1);if(Object(r.useEffect)((()=>{var t;d(!1);const n=P(e);if(!n)return;const r=null===(t=o("wBzk").a.getState(e))||void 0===t?void 0:t.mediaClientConfig;r&&D(n,r).then((e=>{"external"!==e&&"image"!==e||d(!0)}))}),[e]),!l)return null;if(t&&t.editable){const e=Object(o("Z7Qe").b)(t.link),r=n.formatMessage(o("yYBl").b.editLink),a=n.formatMessage(e?o("kALn").a.openLink:o("yYBl").b.unableToOpenLink);return i.a.createElement(i.a.Fragment,null,i.a.createElement(tt,null,i.a.createElement(o("1vCU").a,{
onClick:s,title:r,tooltipContent:i.a.createElement(o("4Upw").ToolTipContent,{description:r,keymap:o("4Upw").addLink})},r)),i.a.createElement(tt,null,i.a.createElement(o("ecD3").a,null)),i.a.createElement(o("1vCU").a,{target:"_blank",href:e?t.link:void 0,disabled:!e,onClick:c,title:a,icon:i.a.createElement(o.n(o("WhJf")).a,{label:a}),className:"hyperlink-open-link"}),i.a.createElement(o("ecD3").a,null))}{const e=n.formatMessage(o("yYBl").b.addLink);return i.a.createElement(i.a.Fragment,null,i.a.createElement(o("1vCU").a,{testId:"add-link-button",onClick:a,title:e,tooltipContent:i.a.createElement(o("4Upw").ToolTipContent,{description:e,keymap:o("4Upw").addLink}),icon:i.a.createElement(o.n(o("01nc")).a,{label:e})}),i.a.createElement(o("ecD3").a,null))}};var ot=o("i8i4"),rt=o.n(ot);const it=e=>{const t=e.selectedMediaContainerNode();return t&&t.attrs?t.attrs:null},at=({mediaPluginState:e})=>{const[t,n]=Object(r.useState)(!1),a=()=>{n(!1)},s=(()=>{if(t){const t={list:[]},n=it(e)
;if(n&&e.mediaClientConfig){const{id:r,collection:s=""}=n,c={id:r,mediaItemType:"file",collectionName:s};return rt.a.createPortal(i.a.createElement(o("HYlX").a,{collectionName:s,dataSource:t,mediaClientConfig:e.mediaClientConfig,selectedItem:c,onClose:a}),document.body)}}return null})();return i.a.createElement("div",null,i.a.createElement(o("1vCU").a,{testId:"file-preview-toolbar-button",key:"editor.media.card.preview",onClick:()=>{n(!0)},icon:i.a.createElement(o.n(o("BOO7")).a,{label:"file preview"})}),s)},st=(e,t)=>(t&&t(Object(S.removeSelectedNode)(e.tr)),!0),ct=(e,t,n)=>{const{mediaGroup:r}=e.schema.nodes;return[{type:"dropdown",title:t.formatMessage(o("XU+y").a.displayThumbnail),options:[{title:t.formatMessage(o("y4yO").a.inline),selected:!1,onClick:()=>!0,testId:"inline-appearance"},{title:t.formatMessage(o("XU+y").a.displayThumbnail),selected:!0,onClick:()=>!0,testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:()=>i.a.createElement(at,{
key:"editor.media.card.preview",mediaPluginState:n})},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:o.n(o("s49W")).a,onClick:()=>((async e=>{try{const t=it(e);if(t&&e.mediaClientConfig){const{id:n,collection:r=""}=t,i=Object(o("CG+v").a)(e.mediaClientConfig),a=await i.file.getCurrentState(n,{collectionName:r}),s="error"===a.status?void 0:a.name;i.file.downloadBinary(n,s,r)}}catch(t){return!1}})(n),!0),title:t.formatMessage(o("XU+y").a.download)},{type:"separator"},{id:"editor.media.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").b)(r,!0),onMouseLeave:Object(o("lgPy").b)(r,!1),onFocus:Object(o("lgPy").b)(r,!0),onBlur:Object(o("lgPy").b)(r,!1),title:t.formatMessage(o("yYBl").a.remove),onClick:e=>((e,t)=>(t.handleMediaNodeRemoval(void 0,(()=>e.selection.$from.parentOffset+1)),!0))(e,n),testId:"media-toolbar-remove-button"}]},lt=(e,t,n,r,a)=>{
const{mediaSingle:s}=e.schema.nodes,{allowResizing:c,allowAnnotation:l,allowLinking:d,allowAdvancedToolBarOptions:u,allowResizingInTables:p,allowAltTextOnImages:h}=n;let f=[];u&&(f=Object(o("VV44").a)(e,t,e.schema.nodes.mediaSingle,c,p),f.length&&l&&f.push({type:"custom",fallback:[],render:Re(r,t)}),f.length&&f.push({type:"separator"}),d&&Ue(e)&&f.push({type:"custom",fallback:[],render:(e,n)=>{if(null!=e&&e.state){const r=()=>{if(e){const{state:t,dispatch:n}=e;L(t,n)}},s=()=>{if(e){const{state:t,dispatch:n}=e;return n(Object(o("SVcB").a)(t,t.tr,{eventType:o("J5HJ").e.TRACK,action:o("J5HJ").a.VISITED,actionSubject:o("J5HJ").b.MEDIA,actionSubjectId:o("J5HJ").c.LINK})),!0}};return i.a.createElement(nt,{key:n,editorState:e.state,intl:t,mediaLinkingState:a,onAddLink:r,onEditLink:r,onOpenLink:s})}return null}})),h&&f.push(((e,t)=>{const n=Object(o("Nrp8").b)(t),r=n&&n.attrs.alt?Ve.editAltText:Ve.altText,a=e.formatMessage(r);return{title:a,id:"editor.media.altText",type:"button",onClick:O,
showTitle:!0,testId:"alt-text-edit-button",tooltipContent:i.a.createElement(o("4Upw").ToolTipContent,{description:a,keymap:o("4Upw").addAltText})}})(t,e),{type:"separator"});const m={id:"editor.media.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").b)(s,!0),onMouseLeave:Object(o("lgPy").b)(s,!1),onFocus:Object(o("lgPy").b)(s,!0),onBlur:Object(o("lgPy").b)(s,!1),title:t.formatMessage(o("yYBl").a.remove),onClick:st,testId:"media-toolbar-remove-button"};return[...f,m]},dt=(e,t,n={})=>{const{media:r,mediaSingle:a,mediaGroup:s}=e.schema.nodes,{altTextValidator:l,allowLinking:d,allowAltTextOnImages:u,providerFactory:p,allowMediaInline:h}=n,f=o("wBzk").a.getState(e),m=j(e);if(!f)return;const g={title:"Media floating controls",nodeType:h?[a,r]:[a],getDomRef:()=>f.element};if(d&&m&&m.visible&&Ue(e)){const n=((e,t,n,o,r)=>{const{link:a,visible:s,editable:l,mediaPos:d}=t;if(s&&null!==d&&n.doc.nodeAt(d))return c()(c()({},e),{},{height:360,width:420,
forcePlacement:!0,items:[{type:"custom",fallback:[],render:(e,t)=>e&&r?i.a.createElement(ze,{key:t,displayUrl:a,providerFactory:r,intl:o,editing:l,onUnlink:()=>F(e.state,e.dispatch,e),onBack:(t,n)=>{t.trim()&&n.inputMethod&&U(t,n.inputMethod)(e.state,e.dispatch,e),H(e.state,e.dispatch,e)},onCancel:()=>H(e.state,e.dispatch,e),onSubmit:(t,n)=>{U(t,n.inputMethod)(e.state,e.dispatch,e),H(e.state,e.dispatch,e)},onBlur:()=>{H(e.state,e.dispatch,e)}}):null}]})})(g,m,e,t,p);if(n)return n}if(u){if(v(e).isAltTextEditorOpen)return((e,t)=>c()(c()({},e),{},{width:420,className:o("KG1a").a.FLOATING_TOOLBAR_COMPONENT,items:[et(t)]}))(g,{altTextValidator:l})}let b=[];const y=Object(S.findParentNodeOfType)(s)(e.selection);if(h&&y&&y.node.type===s){const n=e.selection.$from.parentOffset+1;g.getDomRef=()=>{var e;const t=(e=>`.media-filmstrip-list-item:nth-child(${e})`)(n);return null===(e=f.element)||void 0===e?void 0:e.querySelector(t)},b=ct(e,t,f)}else b=lt(e,t,n,f,m);return c()(c()({},g),{},{items:b})
};class ut extends i.a.PureComponent{constructor(...e){super(...e),ee()(this,"state",{SmartMediaEditor:ut.SmartMediaEditor,isErrored:!1})}async UNSAFE_componentWillMount(){if(!this.state.SmartMediaEditor)try{const[e,t]=await Promise.all([o.e("@atlaskit-internal_media-client").then(o.bind(null,"/Sn5")),o.e("@atlaskit-internal_media-smart-editor").then(o.bind(null,"lc4K"))]);ut.SmartMediaEditor=e.withMediaClient(t.default),this.setState({SmartMediaEditor:ut.SmartMediaEditor})}catch(e){console.error(e),this.setState({isErrored:!0})}}render(){const{isErrored:e}=this.state;return e?null:this.state.SmartMediaEditor?i.a.createElement(this.state.SmartMediaEditor,this.props):i.a.createElement(o("OIM2").a,{blankedColor:"rgba(9, 30, 66, 0.89)",invertSpinnerColor:!0})}}ut.displayName="AsyncSmartMediaEditor",ee()(ut,"displayName","AsyncSmartMediaEditor");class pt extends i.a.PureComponent{constructor(...e){super(...e),ee()(this,"onUploadStart",((e,t)=>{const{state:n,dispatch:o}=this.props.view
;((e,t)=>u({type:"upload",newIdentifier:e},((n,o)=>{const r=p(o).editor;if(!r)return n;const i=n.mapping.map(r.pos),a=n.doc.nodeAt(i),{media:s}=o.schema.nodes;if(!a||a.type!==s)return n;const l=c()(c()({},a.attrs),{},{id:e.id,collection:e.collectionName||a.attrs.collection,occurrenceKey:e.occurrenceKey,width:t.width,height:t.height});return n.setNodeMarkup(i,void 0,l)})))(e,t)(n,o)})),ee()(this,"onClose",(()=>{const{state:e,dispatch:t}=this.props.view;(()=>u({type:"close"}))()(e,t)}))}render(){const{mediaEditorState:{editor:e,mediaClientConfig:t}}=this.props;if(!e||!t)return null;const{identifier:n}=e;return i.a.createElement(ut,{identifier:n,mediaClientConfig:t,onUploadStart:this.onUploadStart,onClose:this.onClose})}}pt.displayName="MediaEditor",ee()(pt,"displayName","MediaEditor");var ht=o("ga5A");const ft={on:()=>{},removeAllListeners:()=>{},emit:()=>{},destroy:()=>{},setUploadParams:()=>{}};class mt extends i.a.Component{constructor(...e){super(...e),ee()(this,"state",{}),
ee()(this,"handleMediaProvider",(async(e,t)=>{const{mediaState:n,analyticsName:r}=this.props,i=await t;if(!i||!i.uploadParams)return;const a=await i.uploadMediaClientConfig||await i.viewMediaClientConfig;if(!a)return;const s={mediaClientConfig:a,errorReporter:n.options.errorReporter||new(o("AG9f").a),featureFlags:n.mediaOptions&&n.mediaOptions.featureFlags},c=await new(o("8ORD").a)("customMediaPicker",s,ft,ht.d,r).init();c.onNewMedia(n.insertFile),c.setUploadParams(i.uploadParams);const l={uploadParams:i.uploadParams};this.setState({pickerFacadeInstance:c,config:l,mediaClientConfig:a})}))}componentDidMount(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)}componentWillUnmount(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)}render(){const{mediaClientConfig:e,config:t,pickerFacadeInstance:n}=this.state;return e&&t&&n?this.props.children({mediaClientConfig:e,config:t,
pickerFacadeInstance:n}):null}}mt.displayName="PickerFacadeProvider";const gt=({mediaState:e,featureFlags:t})=>i.a.createElement(mt,{mediaState:e,analyticsName:"clipboard"},(({mediaClientConfig:e,config:n,pickerFacadeInstance:o})=>i.a.createElement(ht.b,{mediaClientConfig:e,config:n,onError:o.handleUploadError,onPreviewUpdate:o.handleUploadPreviewUpdate,onEnd:o.handleReady,featureFlags:t}))),bt=({mediaState:e,isActive:t,featureFlags:n,editorDomElement:r,appearance:a})=>i.a.createElement(mt,{mediaState:e,analyticsName:"dropzone"},(({mediaClientConfig:s,config:l,pickerFacadeInstance:d})=>{const{options:{customDropzoneContainer:u},handleDrag:p}=e,h=r,f="full-page"===a&&Object(o("fuko").c)(h),m=u||f||h,g=c()(c()({},l),{},{container:m});return t?i.a.createElement(ht.c,{mediaClientConfig:s,config:g,onError:d.handleUploadError,onPreviewUpdate:d.handleUploadPreviewUpdate,onEnd:d.handleReady,onDragEnter:()=>p("enter"),onDragLeave:()=>p("leave"),featureFlags:n}):null
})),vt=({mediaState:e,isOpen:t,onBrowseFn:n,featureFlags:o})=>i.a.createElement(mt,{mediaState:e,analyticsName:"browser"},(({mediaClientConfig:e,config:r,pickerFacadeInstance:a})=>{const s=c()(c()({},r),{},{multiple:!0});return i.a.createElement(ht.a,{onBrowseFn:n,isOpen:t,config:s,mediaClientConfig:e,onEnd:a.handleReady,onError:a.handleUploadError,onPreviewUpdate:a.handleUploadPreviewUpdate,featureFlags:o})}));class yt extends i.a.Component{constructor(...e){super(...e),ee()(this,"state",{isPopupOpened:!1}),ee()(this,"onBrowseFn",(e=>{const{mediaState:t}=this.props;t&&t.setBrowseFn(e)}))}componentDidMount(){const{mediaState:e}=this.props;e.onPopupToggle((e=>{this.setState({isPopupOpened:e})}))}render(){const{mediaState:e,editorDomElement:t,appearance:n}=this.props,{isPopupOpened:r}=this.state,a=e.mediaOptions&&e.mediaOptions.featureFlags;return i.a.createElement(o("fd7e").a,{plugins:{focus:o("HxAM").b},render:({focus:o})=>{const s=o?i.a.createElement(gt,{mediaState:e,featureFlags:a
}):null;return i.a.createElement(i.a.Fragment,null,s,i.a.createElement(bt,{mediaState:e,isActive:!r,featureFlags:a,editorDomElement:t,appearance:n}),!e.shouldUseMediaPickerPopup()&&i.a.createElement(vt,{onBrowseFn:this.onBrowseFn,mediaState:e,featureFlags:a}))}})}}yt.displayName="MediaPickerComponents",ee()(yt,"displayName","MediaPickerComponents");class Et extends r.Component{constructor(e){super(e),ee()(this,"state",{}),ee()(this,"setViewMediaClientConfig",(async()=>{const e=await this.props.mediaProvider;if(e){const t=e.viewMediaClientConfig;this.setState({viewMediaClientConfig:t})}})),ee()(this,"selectMediaSingleFromCard",(({event:e})=>{this.selectMediaSingle(e)})),ee()(this,"selectMediaSingle",(e=>{e.stopPropagation();const t=this.props.getPos(),{state:n}=this.props.view;if(e.shiftKey){if(n.selection instanceof o("n1Ll").a)return;Object(o("Gbq5").h)(this.props.view,n.selection.from<t?n.selection.from:t-1,n.selection.to>t?n.selection.to:t+2)
}else Object(o("Gbq5").g)(this.props.view,t-1)})),ee()(this,"handleNewNode",(e=>{const{node:t}=e;this.mediaPluginState.handleMediaNodeMount(t,(()=>this.props.getPos()))}));const{view:t}=this.props;this.mediaPluginState=o("wBzk").a.getState(t.state)}shouldComponentUpdate(e,t){const n=!this.state.viewMediaClientConfig&&t.viewMediaClientConfig;return!(this.props.selected===e.selected&&this.props.uploadComplete===e.uploadComplete&&this.props.node.attrs.id===e.node.attrs.id&&this.props.node.attrs.collection===e.node.attrs.collection&&this.props.maxDimensions.height===e.maxDimensions.height&&this.props.maxDimensions.width===e.maxDimensions.width&&this.props.contextIdentifierProvider===e.contextIdentifierProvider&&this.props.isLoading===e.isLoading&&this.props.mediaProvider===e.mediaProvider&&!n)}async componentDidMount(){this.handleNewNode(this.props);const{contextIdentifierProvider:e}=this.props;this.setState({contextIdentifierProvider:await e}),await this.setViewMediaClientConfig()}
componentWillUnmount(){const{node:e}=this.props;this.mediaPluginState.handleMediaNodeUnmount(e)}componentDidUpdate(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement(),this.setViewMediaClientConfig()}render(){const{node:e,selected:t,uploadComplete:n,originalDimensions:r,isLoading:a,maxDimensions:s,mediaOptions:c}=this.props,{viewMediaClientConfig:l,contextIdentifierProvider:d}=this.state,{id:u,type:p,collection:h,url:f,alt:m}=e.attrs;if(a||"external"!==p&&(!l||"boolean"==typeof n&&!n))return i.a.createElement(we,{dimensions:r},i.a.createElement(o("2euv").a,null));const g=d&&d.objectId,b="external"===p?{dataURI:f,name:f,mediaItemType:"external-image"}:{id:u,mediaItemType:"file",collectionName:h},v=l||{authProvider:()=>({})};return i.a.createElement(we,{dimensions:r,onContextMenu:this.selectMediaSingle},i.a.createElement(o("7jlN").a,{mediaClientConfig:v,
resizeMode:"stretchy-fit",dimensions:s,originalDimensions:r,identifier:b,selectable:!0,selected:t,disableOverlay:!0,onClick:this.selectMediaSingleFromCard,useInlinePlayer:c&&c.allowLazyLoading,isLazy:c&&c.allowLazyLoading,featureFlags:c&&c.featureFlags,contextId:g,alt:m}))}}Et.displayName="MediaNode";var wt=Object(o("f7y9").a)(Et);class Ot extends o("HAbh").a{constructor(...e){super(...e),ee()(this,"renderMediaNodeWithState",((e,t)=>({width:n})=>{const r=this.getPos,{mediaOptions:s}=this.reactComponentProps,{selection:c}=this.view.state,l=this.getAttrs(),d="external"===l.type?l.url:"";let{width:u,height:p}=l;if(this.isMediaBlobUrl()){const e=Object(o("WUE1").b)(d);if(e){const{width:t,height:n}=e;u=u||t,p=p||n}}u=u||o("zaYB").b,p=p||o("zaYB").a;const h={width:`${n.width}px`,height:p/u*n.width+"px"},f={width:u,height:p};return i.a.createElement(wt,{view:this.view,node:this.node,getPos:r,selected:(()=>this.isNodeInsideSelection(c.from,c.to)||c instanceof a.NodeSelection&&c.from===r())(),
originalDimensions:f,maxDimensions:h,url:d,mediaProvider:e,contextIdentifierProvider:t,uploadComplete:this.uploadComplete(),mediaOptions:s})})),ee()(this,"renderMediaNodeWithProviders",(({mediaProvider:e,contextIdentifierProvider:t})=>i.a.createElement(o("fd7e").a,{editorView:this.view,plugins:{width:o("IXso").b},render:this.renderMediaNodeWithState(e,t)})))}createDomRef(){const e=document.createElement("div");return o("j5wO").a.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}stopEvent(e){if(-1!==["mousedown","contextmenu"].indexOf(e.type)){if(2===e.button)return!0}return!1}getAttrs(){const{attrs:e}=this.node;return e}isMediaBlobUrl(){const e=this.getAttrs();return Object(o("Nrp8").d)(e)}uploadComplete(){return Object(o("JLWW").c)(o("wBzk").a.getState(this.view.state),this.node.attrs.id)}render(){
const{providerFactory:e}=this.reactComponentProps;return i.a.createElement(o("D0us").a,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:e,renderNode:this.renderMediaNodeWithProviders})}}Ot.displayName="MediaNodeView";const St=(e,t,n,o={})=>(r,i,a)=>new Ot(r,i,a,e,t,{eventDispatcher:t,providerFactory:n,mediaOptions:o}).init();n.a=e=>({name:"media",nodes(){const{allowMediaGroup:t=!0,allowMediaSingle:n=!1,featureFlags:r}=e||{},i=Object(o("8bRg").a)("captions",r)?o("im5F").b:o("im5F").a;return[{name:"mediaGroup",node:o("ukiq").a},{name:"mediaSingle",node:i},{name:"media",node:o("kJ/d").d}].filter((e=>"mediaGroup"===e.name?t:"mediaSingle"!==e.name||n))},pmPlugins(){const t=[{name:"media",plugin:({schema:t,dispatch:n,eventDispatcher:r,providerFactory:i,errorReporter:a,portalProviderAPI:s,reactContext:c,dispatchAnalyticsEvent:l})=>Object(o("ftVL").a)(t,{providerFactory:i,nodeViews:{mediaGroup:he(s,r,i,e),mediaSingle:Ie(s,r,i,l,e),media:St(s,r,i,e)},errorReporter:a,
uploadErrorHandler:e&&e.uploadErrorHandler,waitForMediaUpload:e&&e.waitForMediaUpload,customDropzoneContainer:e&&e.customDropzoneContainer,customMediaPicker:e&&e.customMediaPicker,allowResizing:!(!e||!e.allowResizing)},c,n,e)},{name:"mediaKeymap",plugin:()=>Y(e)}];return e&&e.allowMediaSingle&&t.push({name:"mediaSingleKeymap",plugin:({schema:e})=>function(e){const t={},n=k(e);return o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,n,t),Object(E.b)(t)}(e)}),e&&e.allowAnnotation&&t.push({name:"mediaEditor",plugin:f}),e&&e.allowAltTextOnImages&&(t.push({name:"mediaAltText",plugin:y}),t.push({name:"mediaAltTextKeymap",plugin:({schema:e})=>function(e){const t={};return o("4Upw").bindKeymapWithCommand(o("4Upw").addAltText.common,O,t),o("4Upw").bindKeymapWithCommand(o("4Upw").escape.common,w,t),Object(E.b)(t)}()})),e&&e.allowLinking&&(t.push({name:"mediaLinking",plugin:({dispatch:e})=>(e=>new a.Plugin({key:A,state:M.createPluginState(e,N)}))(e)}),t.push({name:"mediaLinkingKeymap",
plugin:({schema:e})=>function(e){const t={};return o("4Upw").bindKeymapWithCommand(o("4Upw").addLink.common,_,t),Object(E.b)(t)}()})),t},contentComponent({editorView:t,eventDispatcher:n,appearance:r}){const a=e&&e.allowAnnotation?i.a.createElement(o("fd7e").a,{editorView:t,plugins:{mediaEditorState:l},eventDispatcher:n,render:({mediaEditorState:e})=>i.a.createElement(pt,{mediaEditorState:e,view:t})}):null;return i.a.createElement(i.a.Fragment,null,i.a.createElement(o("fd7e").a,{editorView:t,plugins:{mediaState:o("wBzk").a},render:({mediaState:e})=>i.a.createElement(yt,{editorDomElement:t.dom,mediaState:e,appearance:r})}),a)},secondaryToolbarComponent:({editorView:e,eventDispatcher:t,disabled:n})=>i.a.createElement(Q,{editorView:e,eventDispatcher:t,pluginKey:o("wBzk").a,isDisabled:n,isReducedSpacing:!0}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"media",title:e(o("/DD6").a.filesAndImages),description:e(o("/DD6").a.filesAndImagesDescription),priority:400,
keywords:["attachment","gif","media","picture"],icon:()=>i.a.createElement(o("Jzj3").j,null),action(e,t){o("wBzk").a.getState(t).showMediaPicker();const n=e("");return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.OPENED,actionSubject:o("J5HJ").b.PICKER,actionSubjectId:o("J5HJ").c.PICKER_CLOUD,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.UI})}}],floatingToolbar:(t,n,o)=>dt(t,n,{providerFactory:o,allowMediaInline:e&&e.allowMediaInline,allowResizing:e&&e.allowResizing,allowResizingInTables:e&&e.allowResizingInTables,allowAnnotation:e&&e.allowAnnotation,allowLinking:e&&e.allowLinking,allowAdvancedToolBarOptions:e&&e.allowAdvancedToolBarOptions,allowAltTextOnImages:e&&e.allowAltTextOnImages,altTextValidator:e&&e.altTextValidator})}})},"6QRn":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("3tO9"),r=n.n(o);function i(e){var t,o,i,a,s,c,l,d,u,p,h,f,m,g,b,v,y,E,w,O,S,C,T,x,k,I,A,N,M,R,j,P,D,L,_,B
;return r()(r()({},Object(n("/DVK").a)(e.featureFlags)),{},{newInsertionBehaviour:e.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof e.allowExpand?e.allowExpand:Boolean(e.allowExpand&&!1!==e.allowExpand.allowInteractiveExpand),placeholderBracketHint:!!e.placeholderBracketHint,placeholderHints:Array.isArray(e.placeholderHints)&&e.placeholderHints.length>0,moreTextColors:"boolean"!=typeof e.allowTextColor&&Boolean(!0===(null===(t=e.allowTextColor)||void 0===t?void 0:t.allowMoreTextColors)),findReplace:!!e.allowFindReplace,findReplaceMatchCase:"object"==typeof e.allowFindReplace&&Boolean(e.allowFindReplace.allowMatchCase),keyboardAccessibleDatepicker:"boolean"==typeof e.allowKeyboardAccessibleDatepicker&&e.allowKeyboardAccessibleDatepicker,addColumnWithCustomStep:!(!e.allowTables||"boolean"==typeof e.allowTables)&&Boolean(e.allowTables.allowAddColumnWithCustomStep),undoRedoButtons:e.UNSAFE_allowUndoRedoButtons,
catchAllTracking:null===(o=e.performanceTracking)||void 0===o||null===(i=o.catchAllTracking)||void 0===i?void 0:i.enabled,nextEmojiNodeView:!0===(null===(a=e.featureFlags)||void 0===a?void 0:a.nextEmojiNodeView),stickyHeadersOptimization:"boolean"==typeof(null===(s=e.featureFlags)||void 0===s?void 0:s.stickyHeadersOptimization)?!(null===(c=e.featureFlags)||void 0===c||!c.stickyHeadersOptimization):"object"==typeof e.allowTables&&!(null===(l=e.allowTables)||void 0===l||!l.stickyHeadersOptimization),initialRenderOptimization:"boolean"==typeof(null===(d=e.featureFlags)||void 0===d?void 0:d.initialRenderOptimization)?!(null===(u=e.featureFlags)||void 0===u||!u.initialRenderOptimization):"object"==typeof e.allowTables&&!(null===(p=e.allowTables)||void 0===p||!p.initialRenderOptimization),
mouseMoveOptimization:"boolean"==typeof(null===(h=e.featureFlags)||void 0===h?void 0:h.mouseMoveOptimization)?!(null===(f=e.featureFlags)||void 0===f||!f.mouseMoveOptimization):"object"==typeof e.allowTables&&!(null===(m=e.allowTables)||void 0===m||!m.mouseMoveOptimization),tableRenderOptimization:"boolean"==typeof(null===(g=e.featureFlags)||void 0===g?void 0:g.tableRenderOptimization)?!(null===(b=e.featureFlags)||void 0===b||!b.tableRenderOptimization):"object"==typeof e.allowTables&&!(null===(v=e.allowTables)||void 0===v||!v.tableRenderOptimization),tableOverflowShadowsOptimization:"boolean"==typeof(null===(y=e.featureFlags)||void 0===y?void 0:y.tableOverflowShadowsOptimization)?!(null===(E=e.featureFlags)||void 0===E||!E.tableOverflowShadowsOptimization):"object"==typeof e.allowTables&&!(null===(w=e.allowTables)||void 0===w||!w.tableOverflowShadowsOptimization),
extendFloatingToolbar:Boolean("object"==typeof e.allowExtension&&(null===(O=e.allowExtension)||void 0===O?void 0:O.allowExtendFloatingToolbars)),displayInlineBlockForInlineNodes:Boolean("boolean"==typeof(null===(S=e.featureFlags)||void 0===S?void 0:S.displayInlineBlockForInlineNodes)&&!(null===(C=e.featureFlags)||void 0===C||!C.displayInlineBlockForInlineNodes)),useUnpredictableInputRule:Boolean("boolean"==typeof(null===(T=e.featureFlags)||void 0===T?void 0:T.useUnpredictableInputRule)?!(null===(x=e.featureFlags)||void 0===x||!x.useUnpredictableInputRule):!e.UNSAFE_allowUndoRedoButtons),showAvatarGroupAsPlugin:Boolean("boolean"==typeof(null===(k=e.featureFlags)||void 0===k?void 0:k.showAvatarGroupAsPlugin)&&!(null===(I=e.featureFlags)||void 0===I||!I.showAvatarGroupAsPlugin)),errorBoundaryDocStructure:Boolean("boolean"==typeof(null===(A=e.featureFlags)||void 0===A?void 0:A.useErrorBoundaryDocStructure)&&!(null===(N=e.featureFlags)||void 0===N||!N.useErrorBoundaryDocStructure)),
synchronyErrorDocStructure:Boolean("boolean"==typeof(null===(M=e.featureFlags)||void 0===M?void 0:M.synchronyErrorDocStructure)&&!(null===(R=e.featureFlags)||void 0===R||!R.synchronyErrorDocStructure)),enableViewUpdateSubscription:Boolean("boolean"==typeof(null===(j=e.featureFlags)||void 0===j?void 0:j.enableViewUpdateSubscription)&&!(null===(P=e.featureFlags)||void 0===P||!P.enableViewUpdateSubscription)),collabAvatarScroll:Boolean("boolean"==typeof(null===(D=e.featureFlags)||void 0===D?void 0:D.collabAvatarScroll)&&!(null===(L=e.featureFlags)||void 0===L||!L.collabAvatarScroll)),codeBidiWarnings:Boolean("boolean"!=typeof(null===(_=e.featureFlags)||void 0===_?void 0:_.codeBidiWarnings)||!(null===(B=e.featureFlags)||void 0===B||!B.codeBidiWarnings))})}},"6VYC":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("textFormatting")},"6ZoY":function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){
for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n("q1tI")),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",
bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:o({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},"6yBG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#004E8C" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.376 6.013A.437.437 0 004 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 00.497-.434V4.868a.437.437 0 00-.499-.434L4.376 6.014zm5.629 5.324L8.687 16H7.295L5.43 8.954h1.533l1.099 4.966h.078l1.284-4.966h1.245l1.309 4.966h.078l1.089-4.966h1.523L12.798 16h-1.382l-1.333-4.663h-.078zM17 7v10h2.5a.5.5 0 00.5-.5v-9a.5.5 0 00-.5-.5H17z"/></svg>'},e,{size:"medium"}));i.displayName="WordDocument24Icon";var a=i;t.default=a},"75pU":function(e,t){function n(e,t,n,o){var r=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(o)?o:n(o),i=t.get(r);return void 0===i&&(i=e.call(this,o),t.set(r,i)),i}function o(e,t,n){var o=Array.prototype.slice.call(arguments,3),r=n(o),i=t.get(r);return void 0===i&&(i=e.apply(this,o),t.set(r,i)),i}function r(e,t,n,o,r){return n.bind(t,e,o,r)}
function i(e,t){return r(e,this,1===e.length?n:o,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,o=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:o})},e.exports.strategies={variadic:function(e,t){return r(e,this,o,t.cache.create(),t.serializer)},monadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)}}},"77QF":function(e,t,n){"use strict";let o;!function(e){e.FULFILLED="fulfilled",e.FAILED="failed"}(o||(o={}));const r=e=>e.status===o.FULFILLED,i=e=>({status:o.FULFILLED,value:e}),a=e=>({status:o.FAILED,reason:e}),s=e=>Promise.all(e.map((e=>e.then(i).catch(a)))),c=e=>e.filter(r).map((e=>e.value));t.a=e=>{
if(0===e.length)throw new Error("At least one provider must be provided");const t=async t=>(await(async()=>{const t=await s(e.map((e=>Promise.resolve(e))));return c(t)})()).map((e=>t(e))),n=(e,t)=>n=>{const o=n[e];if("function"==typeof o)return o.apply(n,t);throw new Error(`"${e}" isn't a function of the provider`)};return{invokeSingle:async(e,o)=>{const r=n(e,o);return(e=>{const t=[];return new Promise(((n,o)=>{e.forEach((r=>r.then((e=>{if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((n=>{t.push(n),t.length===e.length&&o(n)}))))}))})(await t(r))},invokeList:async(e,o)=>{const r=n(e,o),i=await s(await t(r));return(e=>[].concat(...e))(c(i)).filter((e=>e))}}}},"7OFl":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return u})),
n.d(t,"b",(function(){return f}));var o=n("RsOk"),r=n("CsC6"),i=n("UxO+");const a=(e,t,o)=>{const{doc:r,json:i,version:a,reserveCursor:s}=e;if(r){const{state:e}=t,i=Object(n("8PVD").f)(r,e,a,o,s);i.setMeta("isRemote",!0),t.dispatch(i)}else i&&d(i,void 0,t)},s=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("sessionId",e))},c=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("presence",e))},l=(e,t,n)=>{const{json:o,userIds:r=[]}=e;o&&d(o,r,t,n)},d=(e,t,n,i)=>{if(!e||!e.length)return;const{state:a,state:{schema:s}}=n,c=e.map((e=>r.f.fromJSON(s,e)));let l;if(i&&i.useNativePlugin&&t?l=Object(o.c)(a,c,t):(l=a.tr,c.forEach((e=>l.step(e)))),l){l.setMeta("addToHistory",!1),l.setMeta("isRemote",!0);const{from:t,to:o}=a.selection,[r]=e;t===r.from&&o===r.to&&l.setSelection(a.selection.map(l.doc,l.mapping)),n.dispatch(l)}},u=(e,t)=>{const{state:{tr:n}}=t;t.dispatch(n.setMeta("telepointer",e))};function p(e){return e instanceof i.AllSelection}function h(e){return e instanceof i.NodeSelection}
const f=e=>({type:"textSelection",anchor:e.anchor,head:p(e)||h(e)?e.head-1:e.head})},"7c2K":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#00B8D9" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm5.017 12.265l-2.58-2.501L8.236 7.05a.999.999 0 10-1.392-1.436l-3.54 3.432a1 1 0 000 1.436l3.32 3.219a1 1 0 101.393-1.436zm6.638-8.21a1 1 0 00-1.271.62l-4.83 14.046a1 1 0 001.892.65l4.829-14.045a1 1 0 00-.62-1.271zm6.081 9.776l-3.32-3.219a.999.999 0 10-1.393 1.436l2.58 2.501-2.799 2.714a.999.999 0 101.392 1.436l3.54-3.432a1 1 0 000-1.436z"/></svg>'},e,{size:"medium"}));i.displayName="SourceCode24Icon";var a=i;t.default=a},"7eIw":function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm0 4h10a1 1 0 010 2H7a1 1 0 010-2zm0 4h5a1 1 0 010 2H7a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignLeftIcon";var a=i;t.default=a},"7jB3":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>e.setMeta(n("yUK8").a,{action:n("Y+O0").a.CLOSE_TYPE_AHEAD})},"7tlc":function(e,t,n){(function(e){var o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++)n[t[o]]=Object.getOwnPropertyDescriptor(e,t[o]);return n},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1
;for(var o=arguments,i=o.length,a=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}})),c=o[n];n<i;c=o[++n])m(c)||!E(c)?a+=" "+c:a+=" "+s(c);return a},t.deprecate=function(n,o){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,o).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),r=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var o={seen:[],stylize:l};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),f(n)?o.showHidden=n:n&&t._extend(o,n),v(o.showHidden)&&(o.showHidden=!1),v(o.depth)&&(o.depth=2),v(o.colors)&&(o.colors=!1),v(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=c),
d(o,e,o.depth)}function c(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function l(e,t){return e}function d(e,n,o){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,e);return b(r)||(r=d(e,r,o)),r}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return u(n);if(0===a.length){if(S(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}
if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return u(n)}var l,E="",C=!1,T=["{","}"];(h(n)&&(C=!0,T=["[","]"]),S(n))&&(E=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(E=" "+RegExp.prototype.toString.call(n)),w(n)&&(E=" "+Date.prototype.toUTCString.call(n)),O(n)&&(E=" "+u(n)),0!==a.length||C&&0!=n.length?o<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=C?function(e,t,n,o,r){for(var i=[],a=0,s=t.length;a<s;++a)I(t,String(a))?i.push(p(e,t,n,o,String(a),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(p(e,t,n,o,r,!0))})),i}(e,n,o,s,a):a.map((function(t){return p(e,n,o,s,t,C)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]
;return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,E,T)):T[0]+E+T[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,o,r,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),I(o,r)||(a="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),v(a)){if(i&&r.match(/^\d+$/))return s;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}
function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function v(e){return void 0===e}function y(e){return E(e)&&"[object RegExp]"===C(e)}function E(e){return"object"==typeof e&&null!==e}function w(e){return E(e)&&"[object Date]"===C(e)}function O(e){return E(e)&&("[object Error]"===C(e)||e instanceof Error)}function S(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var o=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,o,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",
boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=y,t.isObject=E,t.isDate=w,t.isError=O,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n("j/1Z");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),x[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n("FfBw"),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e}
;var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,o=new Promise((function(e,o){t=e,n=o})),r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);r.push((function(e,o){e?n(e):t(o)}));try{e.apply(this,r)}catch(a){n(a)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=A,t.callbackify=function(t){
if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return r.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(N,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,o(t)),n}}).call(this,n("8oxB"))},"82ng":function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function o(e,t){var n=e.bMarks[t]+e.blkIndent,o=e.eMarks[t];return e.src.substr(n,o-n)}function r(e){var t,n=[],o=0,r=e.length,i=0,a=0,s=!1,c=0;for(t=e.charCodeAt(o);o<r;)96===t?s?(s=!1,c=o):i%2==0&&(s=!0,c=o):124!==t||i%2!=0||s||(n.push(e.substring(a,o)),a=o+1),92===t?i++:i=0,++o===r&&s&&(s=!1,o=c+1),t=e.charCodeAt(o);return n.push(e.substring(a)),n}e.exports=function(e,t,i,a){
var s,c,l,d,u,p,h,f,m,g,b;if(t+2>i)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(e.sCount[u]-e.blkIndent>=4)return!1;if((l=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[u];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!n(s))return!1;l++}for(p=(c=o(e,t+1)).split("|"),f=[],d=0;d<p.length;d++){if(!(m=p[d].trim())){if(0===d||d===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?f.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?f.push("left"):f.push("")}if(-1===(c=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((p=r(c.replace(/^\||\|$/g,""))).length>f.length)return!1;if(a)return!0;for((h=e.push("table_open","table",1)).map=g=[t,0],(h=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<p.length;d++)(h=e.push("th_open","th",1)).map=[t,t+1],f[d]&&(h.attrs=[["style","text-align:"+f[d]]]),h=e.push("paragraph_open","p",1),
(h=e.push("inline","",0)).content=p[d].trim(),h.map=[t,t+1],h.children=[],h=e.push("paragraph_close","p",-1),h=e.push("th_close","th",-1);for((h=e.push("tr_close","tr",-1)).map=b=[t+2,0],u=t+2;u<i&&!(e.sCount[u]<e.blkIndent)&&-1!==(c=o(e,u).trim()).indexOf("|")&&!(e.sCount[u]-e.blkIndent>=4);u++){p=r(c.replace(/^\||\|$/g,"")),h=e.push("tr_open","tr",1);for(var v=0,y=1;v<p.length;v++){h=e.push("td_open","td",1),f[v]&&(h.attrs=[["style","text-align:"+f[v]]]);var E=" "===p[v][0]||/^(\d+\.|\*|-)$/.test(p[v].trim())?1:0;e.bMarks[u]+=y+E,y=(p[v]||"").length+(E?0:1),e.eMarks[u]=e.bMarks[u]+y-1,e.lineMax=1,e.md.block.tokenize(e,u,u+1),h=e.push("td_close","td",-1)}h=e.push("tr_close","tr",-1)}return h=e.push("table_close","table",-1),g[1]=b[1]=u,e.line=u,!0}},"86DB":function(e,t,n){"use strict";n.r(t);n("q1tI");var o=n("qKvR");const r=Object(o.d)({display:"flex",padding:n("oUPQ").e,paddingBottom:n("oUPQ").e-2+"px",position:"relative",alignItems:"center",justifyContent:"space-between"})
;t.default=e=>{const{children:t,testId:i}=e,{testId:a}=Object(n("ry7n").a)(),s=i||a&&`${a}--header`;return Object(o.e)("div",{css:r,"data-testid":s},t)}},"89Qp":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("quickInsertPluginKey")},"8ADI":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={listHeight:208,listWidth:350,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},"8O57":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("QILm"),r=n.n(o),i=n("q1tI"),a=n.n(i);const s=["children"];function c(e){const t=(e,t)=>e(t),n=Object(i.createContext)(e);return{Consumer:function(e){const{children:o}=e,c=r()(e,s),l=(Object(i.useContext)(n)||t)(c);return a.a.createElement(a.a.Fragment,null,o(l))},Provider:function(e){const o=Object(i.useContext)(n),r=e.value||t,s=Object(i.useCallback)((e=>r(o,e)),[o,r])
;return a.a.createElement(n.Provider,{value:s},e.children)}}}},"8ORD":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("lSNA"),r=n.n(o),i=n("ga5A");class a{constructor(e,t,n,o=i.d,a){r()(this,"onDragListeners",[]),r()(this,"onStartListeners",[]),r()(this,"eventListeners",{}),r()(this,"handleUploadPreviewUpdate",(e=>{const{file:t,preview:n}=e,o=this.erroredFiles.has(t.id),{dimensions:r,scaleFactor:a}=Object(i.e)(n)?n:{dimensions:void 0,scaleFactor:void 0},s={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,dimensions:r,scaleFactor:a,status:o?"error":void 0};this.eventListeners[t.id]=[],this.onStartListeners.forEach((e=>e(s,(e=>this.subscribeStateChanged(t,e)),this.analyticsName||this.pickerType)))})),r()(this,"subscribeStateChanged",((e,t)=>{const n=this.eventListeners[e.id];n&&n.push(t)})),r()(this,"handleUploadError",(({error:e,fileId:t})=>{const n=this.eventListeners[t];this.erroredFiles.add(t),n&&(n.forEach((n=>n({id:t,status:"error",error:e&&{
description:e.description,name:e.name}}))),delete this.eventListeners[t])})),r()(this,"handleMobileUploadEnd",(e=>{const{file:t}=e,n=this.eventListeners[t.id];n&&n.forEach((e=>e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})))})),r()(this,"handleReady",(e=>{const{file:t}=e,n=this.eventListeners[t.id];n&&(n.forEach((e=>e({id:t.id,status:"ready"}))),delete this.eventListeners[t.id])})),this.config=t,this.pickerConfig=n,this.mediaPickerFactoryClass=o,this.pickerType=e,this.errorReporter=t.errorReporter,this.analyticsName=a,this.erroredFiles=new Set}async init(){let e;return"customMediaPicker"===this.pickerType?e=this.picker=this.pickerConfig:"popup"===this.pickerType&&(e=this.picker=await this.mediaPickerFactoryClass(this.config.mediaClientConfig,this.pickerConfig)),e?(e.on("upload-preview-update",this.handleUploadPreviewUpdate),e.on("upload-end",this.handleReady),e.on("upload-error",this.handleUploadError),
e.on("mobile-upload-end",this.handleMobileUploadEnd),this):this}get type(){return this.pickerType}get mediaPicker(){return this.picker}destroy(){const{picker:e}=this;if(e){e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[];try{"popup"===this.pickerType&&e.teardown()}catch(t){this.errorReporter.captureException(t)}}}setUploadParams(e){this.picker&&this.picker.setUploadParams(e)}onClose(e){const{picker:t}=this;if("popup"===this.pickerType){const n=t;return n.on("closed",e),()=>n.off("closed",e)}return()=>{}}show(){if("popup"===this.pickerType)try{this.picker.show()}catch(e){this.errorReporter.captureException(e)}}hide(){"popup"===this.pickerType&&this.picker.hide()}onNewMedia(e){this.onStartListeners.push(e)}onDrag(e){this.onDragListeners.push(e)}}},"8PVD":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){
return s})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return u}));var o=n("UxO+"),r=n("pDqG");const i=["#FF8F73","#FF5630","#BF2600","#FFE380","#FFAB00","#FF8B00","#79F2C0","#36B37E","#006644","#79E2F2","#00B8D9","#008DA6","#4C9AFF","#0065FF","#0747A6","#998DD9","#6554C0","#403294","#A5ADBA","#6B778C","#172B4D"].map((e=>({solid:e,selection:Object(n("5ABH").U)(e,.2)}))),a=e=>{let t=0;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t&=t;const n=Math.abs(t)%i.length;return{index:n,color:i[n]}},s=(e,t)=>t.find().reduce(((t,n)=>n.spec.pointer.sessionId===e?t.concat(n):t),[]);const c=(e,t,o,i,s)=>{let c=[];const l=a(o),d=l.index.toString();if(i){const n=`telepointer color-${d} telepointer-selection`;c.push(r.a.inline(e,t,{class:n,"data-initial":s},{pointer:{sessionId:o}}))}const u=document.createElement("span");return u.textContent=n("vNjH").a,
u.className=`telepointer color-${d} telepointer-selection-badge`,u.style.cssText=`${function(e){const t=e&&e.color||"black";return`border-left: 1px solid ${t}; border-right: 1px solid ${t}; margin-right: -2px;`}({color:l.color.solid})};`,u.setAttribute("data-initial",s),c.concat(r.a.widget(t,u,{pointer:{sessionId:o},key:`telepointer-${o}`}))},l=(e,t,n,r,i)=>{const{schema:a,tr:s}=t;let c=(e.content||[]).map((e=>a.nodeFromJSON(e)));if(!!c.length){s.setMeta("addToHistory",!1),s.replaceWith(0,t.doc.nodeSize-2,c);const e=t.selection;if(i){if(e.to<s.doc.content.size-2){const t=s.doc.resolve(e.from),n=s.doc.resolve(e.to),r=new o.TextSelection(t,n);s.setSelection(r)}}else s.setSelection(o.Selection.atStart(s.doc));if(s.setMeta("replaceDocument",!0),void 0!==typeof n&&r&&r.useNativePlugin){const e={version:n,unconfirmed:[]};s.setMeta("collab$",e)}}return s},d=(e,t,r,i)=>{const a=t[i];if(a&&void 0!==a.cursorPos&&a.sessionId!==r){const{state:t}=e;let r=t.tr;const i={action:n("J5HJ").a.MATCHED,
actionSubject:n("J5HJ").b.SELECTION,eventType:n("J5HJ").e.TRACK};r.setSelection(o.Selection.near(r.doc.resolve(a.cursorPos))),r=Object(n("SVcB").a)(t,r,i),r.scrollIntoView(),e.dispatch(r),e.hasFocus()||e.focus()}},u=(e,t)=>{let n;return t.find().forEach((t=>{t.type.spec.pointer.sessionId===e&&(n=t.from)})),n}},"8R/O":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 01-4.238.004 2.97 2.97 0 01.002-4.21L13.339 7a1.75 1.75 0 012.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 01-.699-.007.488.488 0 010-.701l4.764-4.735a.74.74 0 000-1.052.752.752 0 00-1.058 0L8.93 12.785a1.97 1.97 0 000 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 00-.003-4.557 3.253 3.253 0 00-4.589.002l-5.466 5.433a4.451 4.451 0 00-.001 6.314 4.516 4.516 0 006.355-.004l5.113-5.081a.74.74 0 000-1.053.752.752 0 00-1.059 0z" fill="currentColor"/></svg>'},e));i.displayName="EditorAttachmentIcon";var a=i;t.default=a},"8kb8":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n("3tO9"),r=n.n(o);const i=(e,t,o)=>i=>{const a=n("wYWE").b.get(t),s={};for(let o=0;o<a.width;o++)for(let c=0;c<a.height;c++){
const{width:l}=e.cols[o],d=c*a.width+o,u=a.map[d],p=s[u]||r()({},t.nodeAt(u).attrs),h=p.colspan||1;if(p.colwidth&&p.colwidth.length>h&&(i=Object(n("u98z").a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:p.colwidth,colspan:h}})(i),p.colwidth=p.colwidth.slice(0,h)),c&&a.map[d]===a.map[d-a.width])continue;const f=1===h?0:o-a.colCount(u);if(p.colwidth&&p.colwidth[f]===l)continue;let m=p.colwidth?p.colwidth.slice():Array.from({length:h},(e=>0));m[f]=l,m.length>h&&(i=Object(n("u98z").a)({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:m,colspan:h}})(i),m=m.slice(0,h)),s[u]=r()(r()({},p),{},{colwidth:m.includes(0)?void 0:m})}const c=[],l={};for(let e=0;e<a.height;e++){const n=t.child(e),o=[];for(let r=0;r<a.width;r++){const n=e*a.width+r,i=a.map[n],c=t.nodeAt(i);!l[i]&&c&&(o.push(c.type.createChecked(s[i]||c.attrs,c.content,c.marks)),l[i]=!0)}c.push(n.type.createChecked(n.attrs,o,n.marks))}const d=o-1,u=i.selection.getBookmark()
;return i.replaceWith(d,d+t.nodeSize,t.type.createChecked(t.attrs,c,t.marks)),i.setSelection(u.resolve(i.doc))},a=(e,t)=>o=>{if(!t||!Object(n("nwXu").b)(e.node))return o;const{state:r}=t,a=t.domAtPos.bind(t),s=a(e.start).node.closest("table");if(!s)return o;const c=Object(n("zsjf").g)(null==s?void 0:s.dataset.layout),l=Object(n("Rjvn").c)({table:e.node,tableStart:e.start,state:r,layout:c,dynamicTextSizing:!0});let d=Object(n("zsjf").e)({minWidth:n("9ehW").d,table:e.node,start:e.start,tableRef:s,domAtPos:a,maxSize:l});return d.overflow&&(d=Object(n("s6f1").b)(d,l)),i(d,e.node,e.start)(o)}},"8to4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=n("vOnD").default.input.withConfig({componentId:"yb3btg-0"
})`input&{background:transparent;border:0;border-radius:0;box-sizing:content-box;color:${"#505F79"};flex-grow:1;font-size:${Object(n("9cwX").ib)(13)};line-height:20px;padding:0;${e=>e.width?`width: ${e.width}px`:""};min-width:145px;&::-ms-clear{display:none;}&:focus{outline:none;}&::placeholder{color:${"#172B4D"};opacity:0.5;}}`},"8tqJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=e=>{const t=(e=>e.getMeta(n("TypY").a)||null)(e);return e=>t&&["undid","redid"].includes(e.action)?r()(r()({},e),{},{attributes:r()(r()({},e.attributes),{},{historyTriggerMethod:t})}):e};function s(e,t){return r()(r()({},e),{},{attributes:r()(r()({},e.attributes),{},{duration:t}),eventType:n("J5HJ").e.OPERATIONAL})}var c=e=>({name:"analytics",pmPlugins:()=>[{name:"analyticsPlugin",plugin:()=>function(e){if(!e||!e.createAnalyticsEvent)return;const t=Object(n("X0Cu").a)();return new i.Plugin({key:n("OdZc").a,state:{init:()=>r()(r()({},e),{},{
fireAnalytics:Object(n("0F7/").a)(e.createAnalyticsEvent)}),apply:(e,o,r,i)=>{var a;if(null!==(a=Object(n("37L4").b)(i))&&void 0!==a&&a.catchAllTracking){const r=Object(n("SVcB").b)(e);if(r.length>0)for(const{payload:i,channel:a}of r)if(t&&e.docChanged&&i.action!==n("J5HJ").a.INSERTED&&i.action!==n("J5HJ").a.DELETED){const e=`${i.actionSubject}:${i.action}:${i.actionSubjectId}`;Object(n("Xvyu").a)(e,(e=>{Object(n("0F7/").a)(o.createAnalyticsEvent)({payload:s(i,e),channel:a})}))}}return o}}})}(e)}],onEditorViewStateUpdated({originalTransaction:e,transactions:t,newEditorState:o}){const r=n("OdZc").a.getState(o);if(!r||!r.createAnalyticsEvent)return;const i=t.reduce(((e,t)=>{const o=t.steps.filter((e=>e instanceof n("Wabn").a)).map((e=>e.analyticsEvents)).reduce(((e,t)=>e.concat(t)),[]);return e.push(...o),e}),[]);if(0===i.length)return;const{createAnalyticsEvent:s}=r,c=a(e);i.forEach((({payload:e,channel:t})=>{const o=c(e);Object(n("0F7/").a)(s)({payload:o,channel:t})}))}})
;const l=n("OdZc").a;t.b=c},"8y89":function(e,t,n){"use strict";var o=n("QILm"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("q1tI"),c=n("qKvR"),l=n("pxNp"),d=n.n(l);const u=e=>{if(!e)return"auto";const t=-1!==n("oUPQ").i.values.indexOf(e.toString())&&e;return t?`${n("oUPQ").i.widths[t]}px`:"number"==typeof e?`${e}px`:e},p=e=>e?"number"==typeof e?`${e}px`:e:"auto",h=Object(c.d)({width:"100%",maxWidth:"100%",height:"100%",position:"fixed",zIndex:n("ARg4").layers.modal(),top:0,left:0}),f=Object(c.d)({width:"max-content",height:"auto",position:"relative","@media (min-width: 480px)":{margin:"60px auto"}}),m=Object(c.d)({"@media (min-width: 480px)":{width:"max-content",maxWidth:"calc(100vw - 120px)",maxHeight:"calc(100vh - 119px)",marginRight:"auto",marginLeft:"auto",position:"absolute",top:"60px",right:0,left:0,pointerEvents:"none"}}),g=Object(c.d)({transitionDuration:`${n("MLoa").c}ms`,transitionProperty:"transform",transitionTimingFunction:n("VvIz").b,"@media (prefers-reduced-motion: reduce)":{
animation:"none",transition:"none"}}),b={name:"p1g23r",styles:"transform:translateY(var(--modal-dialog-translate-y));"},v={name:"1l0uucg",styles:"transform:none;"};var y=e=>{const{children:t,stackIndex:o,shouldScrollInViewport:r,testId:i}=e;return Object(c.e)("div",{style:{"--modal-dialog-translate-y":o*(n("oUPQ").h/2)+"px"},css:[h,g,o>0?b:v,r?f:m],"data-testid":i&&`${i}--positioner`},t)};const E=Object(c.d)({display:"flex",width:"100%",maxWidth:"100vw",height:"100%",minHeight:0,maxHeight:"100vh",flex:"1 1 auto",flexDirection:"column",backgroundColor:"var(--ds-background-overlay, #FFFFFF)",color:n("oUPQ").f,pointerEvents:"auto","@media (min-width: 480px)":{width:"var(--modal-dialog-width)",maxWidth:"inherit",marginRight:"inherit",marginLeft:"inherit",borderRadius:n("oUPQ").a,boxShadow:"var(--ds-overlay, 0 0 0 1px rgba(9, 30, 66, 0.08), 0 2px 1px rgba(9, 30, 66, 0.08), 0 0 20px -6px rgba(9, 30, 66, 0.31))"},"& > form:only-child":{display:"inherit",maxHeight:"inherit",
flexDirection:"inherit"}}),w={name:"ih41jc",styles:"min-height:100vh;max-height:none;@media (min-width: 480px){min-height:var(--modal-dialog-height);}"},O={name:"1mdptwd",styles:"@media (min-width: 480px){height:var(--modal-dialog-height);max-height:inherit;}"};var S=e=>{const{width:t="medium",shouldScrollInViewport:o=!1,autoFocus:r,stackIndex:i,onClose:l,onCloseComplete:d,onOpenComplete:h,height:f,children:m,testId:g}=e,b=`modal-dialog-title-${Object(n("u2Gm").a)()}`;Object(n("NCz0").a)("object"==typeof r?r:void 0,"object"==typeof r);const[v,S]=function({onOpenComplete:e,onCloseComplete:t}){const n=Object(s.useRef)(null),o=Object(s.useCallback)((o=>{"entering"===o&&e&&e(n.current,!0),"exiting"===o&&t&&t(n.current)}),[e,t]);return[n,o]}({onOpenComplete:h,onCloseComplete:d}),C=Object(s.useMemo)((()=>({testId:g,titleId:b,onClose:l})),[g,b,l]);return Object(c.e)(y,{stackIndex:i,shouldScrollInViewport:o,testId:g},Object(c.e)(n("JK4V").a.Provider,{value:C},Object(c.e)(n("JK4V").b.Provider,{
value:o},Object(c.e)(n("FRPJ").a,{entranceDirection:"bottom",onFinish:S},(e=>Object(c.e)(n("Q+8n").a,null,Object(c.e)("section",a()({},e,{ref:Object(n("1yOk").a)([e.ref,v]),style:{"--modal-dialog-width":u(t),"--modal-dialog-height":p(f)},css:[E,o?w:O],role:"dialog","aria-labelledby":b,"data-testid":g,"data-modal-stack":i,tabIndex:-1,"aria-modal":!0}),m)))))))};const C=[];function T(){var e,t;return window.pageYOffset||(null===(e=document.documentElement)||void 0===e?void 0:e.scrollTop)||(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||0}const x=["autoFocus","shouldCloseOnEscapePress","shouldCloseOnOverlayClick","shouldScrollInViewport","stackIndex","onClose","onStackChange","isBlanketHidden","testId"],k={name:"1k96wn8",styles:"width:100vw;height:100vh;position:fixed;top:0;left:0;overflow-y:auto;-webkit-overflow-scrolling:touch;"};t.a=e=>{
const{autoFocus:t=!0,shouldCloseOnEscapePress:o=!0,shouldCloseOnOverlayClick:i=!0,shouldScrollInViewport:u=!1,stackIndex:p,onClose:h=n("Sf9E").a,onStackChange:f=n("Sf9E").a,isBlanketHidden:m,testId:g}=e,b=r()(e,x),v=function({onStackChange:e}){const{isExiting:t}=Object(n("MJMf").b)(),[o,r]=Object(n("vYhH").a)(0),i=o.current,a=Object(n("ulq1").a)(o.current),c=Object(n("+mDI").a)((()=>{const e=C.indexOf(c);o.current!==e&&(r(e),o.current=e)}));return Object(s.useEffect)((()=>{const e=C.indexOf(c);t||-1!==e||C.unshift(c),t&&-1!==e&&C.splice(e,1),C.forEach((e=>e()))}),[c,t]),Object(s.useEffect)((()=>()=>{const e=C.indexOf(c);-1!==e&&(C.splice(e,1),C.forEach((e=>e())))}),[c]),Object(s.useEffect)((()=>{void 0!==a&&a!==i&&e(i)}),[e,a,i]),i}({onStackChange:f}),y=p||v,E=0===y,w="boolean"==typeof t&&t,O=Object(n("NvXi").a)({fn:h,action:"closed",componentName:"modalDialog",packageName:"@atlaskit/modal-dialog",packageVersion:"12.2.0"}),I=Object(s.useCallback)((e=>{i&&O(e)}),[i,O]);!function(){
const[e,t]=Object(s.useState)(0);Object(s.useLayoutEffect)((()=>{t(T())}),[]);const o=Object(s.useCallback)((()=>{T()!==e&&window.scrollTo(window.pageXOffset,e)}),[e]);Object(n("uFei").a)("scroll",o)}(),Object(n("hT2A").a)({onClose:O,isDisabled:!o||!E});const A=Object(c.e)(n("I+AD").a,{isTinted:!m,onBlanketClicked:I,testId:g&&`${g}--blanket`},Object(c.e)(S,a()({testId:g,autoFocus:t,stackIndex:y,onClose:O,shouldScrollInViewport:u},b)));return Object(c.e)(n("8+lK").a,{zIndex:n("ARg4").layers.modal()},Object(c.e)(n("FRPJ").a,null,(e=>Object(c.e)("div",a()({},e,{css:k,"aria-hidden":!E}),Object(c.e)(n("DUc8").a,{autoFocus:w,disabled:!E,returnFocus:!0},Object(c.e)(d.a,null),u?Object(c.e)(l.TouchScrollable,null,A):A)))))}},"91Wa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#6554C0" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm3 14a1 1 0 00-1 1v3a1 1 0 002 0v-3a1 1 0 00-1-1zm8-6a1 1 0 00-1 1v9a1 1 0 002 0V9a1 1 0 00-1-1zm-4 4a1 1 0 00-1 1v5a1 1 0 002 0v-5a1 1 0 00-1-1zm8-7a1 1 0 00-1 1v12a1 1 0 002 0V6a1 1 0 00-1-1z"/></svg>'},e,{size:"medium"}));i.displayName="Presentation24Icon";var a=i;t.default=a},"92CY":function(e,t,n){"use strict";function o(e){const t=Object(n("aTJx").c)(e);return Boolean(t)&&Boolean(t.pluginConfig.allowAddColumnWithCustomStep)}n.d(t,"a",(function(){return o}))},"977U":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("MEpN");const r=e=>{const t=e.selection,r=e.doc.type.schema,i=Object(n("zYPQ").c)(t);if(!i)return;const{node:a,pos:s}=i,c=e.doc.resolve(s),l=r.nodes.expand,d=new o.NodeRange(c,e.doc.resolve(s+a.nodeSize),c.depth);try{e.wrap(d,[{type:l
}]).setMeta("scrollIntoView",!0),e.doc.check()}catch(u){return}return e}},"9OXl":function(e,t,n){"use strict";n.r(t),n.d(t,"Date",(function(){return d})),n.d(t,"DateLozenge",(function(){return r}));var o=n("vOnD");const r=o.default.span.withConfig({componentId:"sc-71ovs9-0"})`border-radius:${Object(n("egUu").a)()}px;padding:2px 4px;margin:0 1px;position:relative;transition:background 0.3s;white-space:nowrap;cursor:${e=>e.onClick?"pointer":"unset"};${e=>{var t=Object(n("waWg").a)((e=>{if(!e||"grey"===e)return{light:[n("4l/J").a.N30A,n("4l/J").a.N800,n("4l/J").a.N40],dark:[n("4l/J").a.DN70,n("4l/J").a.DN800,n("4l/J").a.DN60]};const t=n("4l/J").a,o=e.toUpperCase().charAt(0),r=[t[`${o}50`],t[`${o}500`],t[`${o}75`]];return{light:r,dark:r}})(e.color))(e);""===t&&(t=["","",""]);const[o,r,i]=t;return`\n      background: ${o};\n      color: ${r};\n      &:hover {\n        background: ${i};\n      }\n    `}};`;var i=n("q1tI"),a=n.n(i),s=n("IOCe"),c=n.n(s);const l=e=>!!e.onClick
;class d extends a.a.Component{constructor(){super(...arguments),this.handleOnClick=e=>{l(this.props)&&this.props.onClick(this.props.value,e)},this.renderContent=()=>this.props.children?"function"==typeof this.props.children?this.props.children(this.props):this.props.children:c()(this.props.value,this.props.format)}render(){return a.a.createElement(r,{className:this.props.className,onClick:l(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())}}d.displayName="Date",d.displayName="Date",d.defaultProps={format:"DD/MM/YYYY",color:"grey"}},"9TOn":function(e,t,n){"use strict";function o(e){return"full-page"===e||"full-width"===e}n.d(t,"a",(function(){return o}))},"9a+x":function(e,t,n){"use strict";function o(e,t){let n=e;for(;n&&n.parentElement&&!t(n);)n=n.parentElement;return n}function r(e,t){const n=document.createDocumentFragment();Array.from(t.children).forEach((e=>{n.appendChild(e)})),e.replaceChild(n,t)}function i(e){
for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){const t=e.parentElement;t.removeChild(e),e=t}}n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return d}));const a=(e,t)=>{if(!e)return!1;if(e.classList&&e.classList.contains)return e.classList.contains(t);if(!e.className)return!1;return-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t)};function s(e,t){if(!e)return null;let n=e;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(t);do{const e=n.matches?n.matches:n.msMatchesSelector;if(e&&e.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function c(e,t){return s(e,t)}function l(e){if(!e.endsWith("px"))return
;const t=parseInt(e,10);return Number.isNaN(t)?void 0:t}function d(e,t){return function(e,t){const n=[];for(let o=0;o<e.childElementCount;o++)n.push(t(e.children[o],o,e));return n}(e,t)}},"9bjj":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("MEpN"),r=n("mG1W");const i=({view:e,macroProvider:t})=>()=>{if(!e)throw new Error("Missing view. Can't update without EditorView");if(!t)throw new Error("Missing macroProvider. Can't use the macro browser for updates");const o=Object(n("wqCz").f)(e.state,!0);if(!o)throw new Error("Missing nodeWithPos. Can't determine position of node");Object(n("JkFw").a)(t,o.node,!0)(e)},a=e=>({action:n("J5HJ").a.INVOKED,actionSubject:n("J5HJ").b.EXTENSION,actionSubjectId:n("J5HJ").c.EXTENSION_API,attributes:{functionName:e},eventType:n("J5HJ").e.TRACK}),s=e=>({editInContextPanel:(t,o)=>{const{editorView:r}=e;Object(n("raAN").d)(t,o)(r.state,r.dispatch,r)},_editInLegacyMacroBrowser:()=>{
const{editorView:t}=e;let o=e.editInLegacyMacroBrowser;if(!o){const r=n("YAmM").a.getState(t.state);o=i({view:e.editorView,macroProvider:(null==r?void 0:r.macroProvider)||void 0})}o()},doc:{insertAfter:(t,r)=>{const{editorView:i}=e,{dispatch:s}=i;if("string"!=typeof t||""===t)throw new Error(`insertAfter(): Invalid localId '${t}'.`);if("object"!=typeof r||Array.isArray(r))throw new Error("insertAfter(): Invalid ADF given.");const{state:c}=i,l=Object(n("wqCz").b)(c,t);if(!l)throw new Error(`insertAfter(): Could not find node with ID '${t}'.`);const{tr:d,schema:u}=c,p=u.nodes[r.type];if(!p)throw new Error(`insertAfter(): Invalid ADF type '${r.type}'.`);const h=o.Fragment.fromJSON(u,r.content),f=(r.marks||[]).map((e=>o.Mark.fromJSON(u,e))),m=null==p?void 0:p.createChecked(r.attrs,h,f);if(!m)throw new Error("insertAfter(): Could not create a node for given ADFEntity.");d.insert(l.pos+l.node.nodeSize,m);try{d.doc.check()}catch(v){
throw new Error(`insertAfter(): The given ADFEntity cannot be inserted in the current position.\n${v}`)}const g=a("insertAfter");Object(n("SVcB").a)(c,d,g);const b=[m];m.descendants((e=>(b.push(e),!0))),b.forEach((e=>{const{extensionKey:t,extensionType:o}=e.attrs,r=Object(n("wqCz").c)(e),i=(null==r?void 0:r.attrs.sources.map((e=>e)))||[],a=!!r,s=a?Object(n("wqCz").d)(i,c):void 0,l={action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,attributes:{nodeType:e.type.name,inputMethod:n("J5HJ").f.EXTENSION_API,hasReferentiality:a,nodeTypesReferenced:s,layout:e.attrs.layout,extensionType:o,extensionKey:t},eventType:n("J5HJ").e.TRACK};Object(n("SVcB").a)(c,d,l)})),s(d)},scrollTo:t=>{const{editorView:o}=e,{dispatch:i}=o;if("string"!=typeof t||""===t)throw new Error(`scrollTo(): Invalid localId '${t}'.`);const{state:s}=o,c=Object(n("wqCz").b)(s,t);if(!c)throw new Error(`scrollTo(): Could not find node with ID '${t}'.`);const l=a("scrollTo");let{tr:d}=s;d=Object(n("SVcB").a)(s,d,l),
d=Object(r.setTextSelection)(c.pos)(d),d=d.scrollIntoView(),i(d)}}})},"9hcL":function(e,t,n){"use strict";n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return m}));var o=n("3tO9"),r=n.n(o),i=n("CsC6"),a=n("hyZr"),s=n("UxO+");const c=({rules:e,pluginKey:t,allowInsertTextOnDocument:n,onInputEvent:o,onBeforeRegexMatch:i})=>({view:a,from:s,to:c,text:l})=>{if(a.composing)return!1;const d=a.state,u=d.doc.resolve(s);if(u.parent.type.spec.code)return!1;if(o&&!o({state:d,from:s,to:c}))return!1;const p=u.parent.textBetween(Math.max(0,u.parentOffset-500),u.parentOffset,void 0,"\ufffc")+l,h=function({rules:e,textBefore:t,from:n,to:o,state:i}){for(let a=0;a<e.length;a++){const n=e[a],s=n.match.exec(t);if(!s)continue;const c=i.selection.$from.start(),l=Math.max(0,i.selection.$from.parentOffset-500),d=Math.max(c+s.index+l,1);if(n.handler(i,s,d,o))return{
from:d,to:o,matchedRule:r()(r()({},n),{},{result:s})}}return null}({rules:e,textBefore:p,from:s,to:c,state:d});if(!h)return!1;const f=n?d.tr.insertText(l,s,c):d.tr;return f.setMeta("input_rule_plugin_transaction",!0),f.setMeta(t,{textInserted:l,from:h.from,to:h.to,matchedRule:h.matchedRule}),i&&i(f),a.dispatch(f),!0};var l=n("+V57");const d=e=>t=>r()(r()({},t),{},{onHandlerApply:(o,r,i)=>{const a="function"==typeof e?e(o,i):e;Object(n("SVcB").a)(o,r,a),t.onHandlerApply&&t.onHandlerApply(o,r,i)}}),u=(e,t)=>({match:e,handler:t,onHandlerApply:(e,t)=>{Object(a.a)(t)}}),p=(e,t,o={})=>{const{isBlockNodeRule:r=!1,allowInsertTextOnDocument:i=!0,useUnpredictableInputRule:d=!0}=o;if(d)return function(e,t,o=!1){const r=(e,t,n)=>{const{doc:o,schema:{marks:r}}=e;let i=!1;const a=e=>e.type===r.code||e.type===r.link||e.type===r.typeAheadQuery;return o.nodesBetween(t,n,(e=>{i=i||e.marks.filter(a).length>0})),i},i=(e,t,n)=>{const{doc:o,schema:{marks:r}}=e;let i=!1;const a=e=>e.type===r.code
;return o.nodesBetween(t,n,(e=>{i=i||e.marks.filter(a).length>0})),i},a=e=>{const t=e.handler.bind(e);return e.handler=(e,n,a,c)=>{const l=o?r(e,a,c):i(e,a,c);return!e.selection.$from.parent.type.spec.code&&e.selection instanceof s.TextSelection&&!l?t(e,n,a,c):null},e},c=e=>{const t=e.handler.bind(e);return e.handler=(e,o,r,i)=>{const a=e.selection.$from.start(),s=Math.max(0,e.selection.$from.parentOffset-n("N3sK").a),c=Math.max(a+o.index+s,1);return t(e,o,c,i)},e},d=e=>t=>{if(!e)return t;const n=t.handler.bind(t);return t.handler=(t,o,r,i)=>{const a=n(t,o,r,i);return a&&e&&e(t,a,o),a},t},u=(e,t,n)=>{const o=new l.a(e,t);return[a,c,d(n)].reduce(((e,t)=>t(e)),o)},p=t.map((e=>{const{match:t,handler:n,onHandlerApply:o}=e;return u(t,n,o)}));0;return Object(l.b)({rules:p})}(0,t,r);return function(e,t,n={}){const o=null==n?void 0:n.onInputEvent,r=null==n?void 0:n.onBeforeRegexMatch,i=Boolean(null==n?void 0:n.allowInsertTextOnDocument),a=new s.PluginKey(`inputRulePlugin__${e}`),l=c({
allowInsertTextOnDocument:i,pluginKey:a,rules:t,onInputEvent:o,onBeforeRegexMatch:r});return new s.Plugin({key:a,state:{init:()=>null,apply:(e,t)=>e.getMeta(a)||(e.selectionSet||e.docChanged?null:t)},appendTransaction:(e,t,n)=>{const o=e.find((e=>e.getMeta(a))),r=null==o?void 0:o.getMeta(a);if(!r||!o)return null;const{matchedRule:i,from:s,to:c}=r,{result:l}=i,d=o.mapping.map(c),u=i.handler(n,l,s,d);return u?(u.setMeta("input_rule_plugin_transaction",!0),i.onHandlerApply&&i.onHandlerApply(n,u,i.result),u):null},props:{handleTextInput:(e,t,n,o)=>l({view:e,from:t,to:n,text:o}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const t=e.state.selection;if(!(t instanceof s.TextSelection))return;const{$cursor:n}=t;n&&l({view:e,from:n.pos,to:n.pos,text:""})})),!1)}},isInputRules:!0})}(e,t,{allowInsertTextOnDocument:i,onInputEvent:({state:e,from:t,to:n})=>{const o=r?["code","link","typeAheadQuery"]:["code"]
;return!(e.selection.$from.parent.type.spec.code||!(e.selection instanceof s.TextSelection)||g(e,t,n,o)||r&&b(e,o))},onBeforeRegexMatch:e=>{Object(a.a)(e)}})},h=({match:e,nodeType:t,getAttrs:n})=>u(e,((e,o,r,i)=>{const a=Math.max(r,1),s=e.doc.resolve(a),c=n instanceof Function?n(o):n,l=s.node(-1);return l&&!l.canReplaceWith(s.index(-1),s.indexAfter(-1),t)?null:e.tr.delete(a,i).setBlockType(a,a,t,c)})),f=({match:e,nodeType:t,getAttrs:n,joinPredicate:o})=>u(e,((e,r,a,s)=>{const c=(n instanceof Function?n(r):n)||{},l=e.tr,d=Math.max(a,1);l.delete(d,s);const u=l.doc.resolve(d).blockRange(),p=u&&Object(i.m)(u,t,c);if(!p||!u)return null;const h=l.mapping.map(u.start),f=l.doc.nodeAt(h),m=p[p.length-1];if(f&&m){const e=m.type.allowedMarks(f.marks)||[];l.setNodeMarkup(h,f.type,f.attrs,e)}l.wrap(u,p);const g=l.doc.resolve(d-1).nodeBefore;return g&&g.type===t&&Object(i.j)(l.doc,d-1)&&(!o||o(r,g))&&l.join(d-1),l})),m=(e,t)=>f({nodeType:t,match:e,getAttrs:{},joinPredicate:(e,n)=>n.type===t
}),g=(e,t,n,o)=>{const r=e.doc.resolve(t),i=e.doc.resolve(n);return((t===n?r.marks():r.marksAcross(i))||[]).some((e=>(o||[]).includes(e.type.name)))},b=(e,t)=>{var n,o;const{selection:r}=e;if(!(r instanceof s.TextSelection))return!1;const{$cursor:i}=r;return Boolean(null==i||null===(n=i.nodeBefore)||void 0===n||null===(o=n.marks)||void 0===o?void 0:o.some((e=>t.includes(e.type.name))))}},"9lTW":function(t,n,o){"use strict";(function(n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,o=t.length,r=0,i=Math.min(n,o);r<i;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=o("7tlc"),s=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l=function(){return"foo"===function(){}.name}();function d(e){return Object.prototype.toString.call(e)}function u(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=t.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function f(e){if(a.isFunction(e)){if(l)return e.name;var t=e.toString().match(h);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(l||!a.isFunction(e))return a.inspect(e);var t=f(e);return"[Function"+(t?": "+t:"")+"]"}function b(e,t,n,o,r){
throw new p.AssertionError({message:n,actual:e,expected:t,operator:o,stackStartFunction:r})}function v(e,t){e||b(e,!0,t,"==",p.ok)}function y(e,t,n,o){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(u(e)&&u(t)&&d(e)===d(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var s=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,n,o){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var r=E(e),i=E(t);if(r&&!i||!r&&i)return!1
;if(r)return y(e=c.call(e),t=c.call(t),n);var s,l,d=S(e),u=S(t);if(d.length!==u.length)return!1;for(d.sort(),u.sort(),l=d.length-1;l>=0;l--)if(d[l]!==u[l])return!1;for(l=d.length-1;l>=0;l--)if(!y(e[s=d[l]],t[s],n,o))return!1;return!0}(e,t,n,o))}return n?e===t:e==t}function E(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function w(t,n){if(!t||!n)return!1;if("[object RegExp]"==Object.prototype.toString.call(n))return n.test(t);try{if(t instanceof n)return!0}catch(e){}return!Error.isPrototypeOf(n)&&!0===n.call({},t)}function O(t,n,o,r){var i;if("function"!=typeof n)throw new TypeError('"block" argument must be a function');"string"==typeof o&&(r=o,o=null),i=function(t){var n;try{t()}catch(e){n=e}return n}(n),r=(o&&o.name?" ("+o.name+").":".")+(r?" "+r:"."),t&&!i&&b(i,o,"Missing expected exception"+r);var s="string"==typeof r,c=!t&&i&&!o;if((!t&&a.isError(i)&&s&&w(i,o)||c)&&b(i,o,"Got unwanted exception"+r),t&&i&&o&&!w(i,o)||!t&&i)throw i}p.AssertionError=function(e){
this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(g(e.actual),128)+" "+e.operator+" "+m(g(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||b;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var o=n.stack,r=f(t),i=o.indexOf("\n"+r);if(i>=0){var a=o.indexOf("\n",i+1);o=o.substring(a+1)}this.stack=o}}},a.inherits(p.AssertionError,Error),p.fail=b,p.ok=v,p.equal=function(e,t,n){e!=t&&b(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&b(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){y(e,t,!1)||b(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){y(e,t,!0)||b(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){y(e,t,!1)&&b(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,o){
y(t,n,!0)&&b(t,n,o,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&b(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&b(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){O(!0,e,t,n)},p.doesNotThrow=function(e,t,n){O(!1,e,t,n)},p.ifError=function(e){if(e)throw e};var S=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,o("yLpj"))},"9mxG":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignImageLeftIcon";var a=i;t.default=a},
A0FV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 00.473.66h1.032a.75.75 0 00.717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 00.717.53h1.113a.5.5 0 00.473-.66L9.337 6.677A1 1 0 008.39 6H7.207a1 1 0 00-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 011-1H20a1 1 0 011 1v6.078a1 1 0 01-1 1h-.151a1 1 0 01-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))
;i.displayName="EditorTextStyleIcon";var a=i;t.default=a},A977:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("0unr");const r=function(e,t){const{r:n,g:r,b:i}=o.a.convert(e).rgb;return`rgba(${n}, ${r}, ${i}, ${t})`}("#172B4D",.12)},ABBN:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return m}));var o=n("CsC6"),r=n("MEpN"),i=n("UxO+");function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function s(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function c(e,t,n){var o=e.selection,r=o.$head,a=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;a=l(r)}var s=a&&a.nodeBefore
;return!(!s||!i.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)}function l(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function u(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function p(e,t){var n=e.selection,o=n.$from,r=n.$to;if(o.parent.inlineContent||r.parent.inlineContent)return!1;var a=u(o.parent.contentMatchAt(r.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){var s=(!o.parentOffset&&r.index()<r.parent.childCount?o:r).pos,c=e.tr.insert(s,a.createAndFill());c.setSelection(i.TextSelection.create(c.doc,s+1)),
t(c.scrollIntoView())}return!0}function h(e,t){var n=e.selection,a=n.$from,s=n.$to;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!a.parentOffset||!Object(o.k)(e.doc,a.pos))&&(t&&t(e.tr.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(t){var c=s.parentOffset==s.parent.content.size,l=e.tr;e.selection instanceof i.TextSelection&&l.deleteSelection();var d=0==a.depth?null:u(a.node(-1).contentMatchAt(a.indexAfter(-1))),p=c&&d?[{type:d}]:null,h=Object(o.k)(l.doc,l.mapping.map(a.pos),1,p);p||h||!Object(o.k)(l.doc,l.mapping.map(a.pos),1,d&&[{type:d}])||(p=[{type:d}],h=!0),h&&(l.split(l.mapping.map(a.pos),1,p),c||a.parentOffset||a.parent.type==d||!a.node(-1).canReplace(a.index(-1),a.indexAfter(-1),r.Fragment.from(d.create(),a.parent))||l.setNodeMarkup(l.mapping.map(a.before()),d)),t(l.scrollIntoView())}return!0}function f(e,t,n){var a,s,c=t.nodeBefore,l=t.nodeAfter;if(c.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){
var r=t.nodeBefore,i=t.nodeAfter,a=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!i.isTextblock&&!Object(o.j)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(a=(s=c.contentMatchAt(c.childCount)).findWrapping(l.type))&&s.matchType(a[0]||l.type).validEnd){if(n){for(var d=t.pos+l.nodeSize,u=r.Fragment.empty,p=a.length-1;p>=0;p--)u=r.Fragment.from(a[p].create(null,u));u=r.Fragment.from(c.copy(u));var h=e.tr.step(new o.d(t.pos-1,d,t.pos,d,new r.Slice(u,1,0),a.length,!0)),f=d+2*a.length;Object(o.j)(h.doc,f)&&h.join(f),n(h.scrollIntoView())}return!0}var m=i.Selection.findFrom(t,1),g=m&&m.$from.blockRange(m.$to),b=g&&Object(o.p)(g);return null!=b&&b>=t.depth&&(n&&n(e.tr.lift(g,b).scrollIntoView()),!0)}
function m(e,t){return function(n,o){var r=n.selection,i=r.empty,a=r.$cursor,s=r.ranges;if(i&&!a||!function(e,t,n){for(var o=function(o){var r=t[o],i=r.$from,a=r.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},r=0;r<t.length;r++){var i=o(r);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(o)if(a)e.isInSet(n.storedMarks||a.marks())?o(n.tr.removeStoredMark(e)):o(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,d=0;!c&&d<s.length;d++){var u=s[d],p=u.$from,h=u.$to;c=n.doc.rangeHasMark(p.pos,h.pos,e)}for(var f=0;f<s.length;f++){var m=s[f],g=m.$from,b=m.$to;c?l.removeMark(g.pos,b.pos,e):l.addMark(g.pos,b.pos,e.create(t))}o(l.scrollIntoView())}return!0}}function g(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n)
;for(var r=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],s=0;s<r.length;s++)r[s]=a.map(r[s]);a.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var c=[],l=0;l<r.length;l+=2)for(var d=r[l],u=r[l+1],p=n.doc.resolve(d),h=p.sharedDepth(u),f=p.node(h),m=p.indexAfter(h),g=p.after(h+1);g<=u;++m){var b=f.maybeChild(m);if(!b)break;if(m&&-1==c.indexOf(g)){var v=f.child(m-1);v.type==b.type&&t(v,b)&&c.push(g)}g+=b.nodeSize}c.sort((function(e,t){return e-t}));for(var y=c.length-1;y>=0;y--)Object(o.j)(n.doc,c[y])&&n.join(c[y]);e(n)}}(r,t))}}function b(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,o){for(var r=0;r<e.length;r++)if(e[r](t,n,o))return!0;return!1}}var v=b(a,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var a=l(r);if(!a){var c=r.blockRange(),d=c&&Object(o.p)(c);return null!=d&&(t&&t(e.tr.lift(c,d).scrollIntoView()),!0)}var u=a.nodeBefore
;if(!u.type.spec.isolating&&f(e,a,t))return!0;if(0==r.parent.content.size&&(s(u,"end")||i.NodeSelection.isSelectable(u))){if(t){var p=e.tr.deleteRange(r.before(),r.after());p.setSelection(s(u,"end")?i.Selection.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):i.NodeSelection.create(p.doc,a.pos-u.nodeSize)),t(p.scrollIntoView())}return!0}return!(!u.isAtom||a.depth!=r.depth-1)&&(t&&t(e.tr.delete(a.pos-u.nodeSize,a.pos).scrollIntoView()),!0)}),c),y=b(a,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;var r=d(o);if(!r)return!1;var a=r.nodeAfter;if(f(e,r,t))return!0;if(0==o.parent.content.size&&(s(a,"start")||i.NodeSelection.isSelectable(a))){if(t){var c=e.tr.deleteRange(o.before(),o.after());c.setSelection(s(a,"start")?i.Selection.findFrom(c.doc.resolve(c.mapping.map(r.pos)),1):i.NodeSelection.create(c.doc,c.mapping.map(r.pos))),t(c.scrollIntoView())}return!0}
return!(!a.isAtom||r.depth!=o.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+a.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var o=e.selection,r=o.$head,a=r;if(!o.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;a=d(r)}var s=a&&a.nodeAfter;return!(!s||!i.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,a.pos)).scrollIntoView()),!0)})),E={Enter:b((function(e,t){var n=e.selection,o=n.$head,r=n.$anchor;return!(!o.parent.type.spec.code||!o.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),p,(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Object(o.k)(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),a=i&&Object(o.p)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}),h),"Mod-Enter":function(e,t){var n=e.selection,o=n.$head,r=n.$anchor
;if(!o.parent.type.spec.code||!o.sameParent(r))return!1;var a=o.node(-1),s=o.indexAfter(-1),c=u(a.contentMatchAt(s));if(!a.canReplaceWith(s,s,c))return!1;if(t){var l=o.after(),d=e.tr.replaceWith(l,l,c.createAndFill());d.setSelection(i.Selection.near(d.doc.resolve(l),1)),t(d.scrollIntoView())}return!0},Backspace:v,"Mod-Backspace":v,Delete:y,"Mod-Delete":y,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}},w={"Ctrl-h":E.Backspace,"Alt-Backspace":E["Mod-Backspace"],"Ctrl-d":E.Delete,"Ctrl-Alt-Backspace":E["Mod-Delete"],"Alt-Delete":E["Mod-Delete"],"Alt-d":E["Mod-Delete"]};for(var O in E)w[O]=E[O];var S=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?w:E},ADCM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorHorizontalRuleIcon";var a=i;t.default=a},AFvE:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var o=n("lSNA"),r=n.n(o),i=n("UxO+"),a=n("pDqG"),s=n("MEpN");class c{constructor(e){r()(this,"pos",void 0),r()(this,"visible",!1),this.pos=e}map(e){return new c(e.map(this.pos))}resolve(e){const t=e.resolve(this.pos);return i.Selection.near(t)}}class l extends i.Selection{constructor(e){super(e,e)}map(e,t){const n=e.resolve(t.map(this.$head.pos));return new l(n)}static content(){return s.Slice.empty}eq(e){return e instanceof l&&e.head===this.head}toJSON(){return{type:"Cursor",pos:this.head}}static fromJSON(e,t){return new l(e.resolve(t.pos))}getBookmark(){return new c(this.anchor)}}i.Selection.jsonID("fake-text-cursor",l);const d=e=>{
if(!(e.selection instanceof l))return null;const t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",a.b.create(e.doc,[a.a.widget(e.selection.head,t,{key:"Cursor"})])}},AG9f:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"handlerStorage",null)}captureMessage(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)}captureException(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)}set handler(e){this.handlerStorage=e}}},AGgm:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function r(e,t){return o.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}
var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,c=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,d=n("vWgF");var u=/[&<>"]/,p=/[&<>"]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function f(e){return h[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var g=n("fKCf");t.lib={},t.lib.mdurl=n("2KYT"),t.lib.ucmicro=n("1dGX"),t.assign=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=r,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(c,(function(e,t,n){return t||function(e,t){var n=0
;return r(d,t)?d[t]:35===t.charCodeAt(0)&&l.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return u.test(e)?e.replace(p,f):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return g.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},
t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"\u1e7e"==="\u1e9e".toLowerCase()&&(e=e.replace(/\u1e9e/g,"\xdf")),e.toLowerCase().toUpperCase()}},"AVf+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("helpDialogPlugin")},AYiB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("gapCursorPlugin")},Atkv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M17.229 7.652c.04.048.124.16.238.33.198.294.398.631.584 1.006 1.138 2.288 1.243 4.648-.316 6.864a7.86 7.86 0 01-.377.492 1 1 0 00.156 1.43 1.062 1.062 0 001.467-.152 9.55 9.55 0 00.475-.62c2.045-2.907 1.907-6.017.472-8.901-.392-.788-.788-1.376-1.07-1.72a1.062 1.062 0 00-1.466-.158 1 1 0 00-.163 1.429z" fill-rule="nonzero"/><path d="M14.214 9.619c.079.101.225.33.376.658.608 1.318.608 2.72-.404 4.141-.32.45-.217 1.074.23 1.395a.992.992 0 001.389-.231c1.476-2.073 1.476-4.226.591-6.146a5.494 5.494 0 00-.619-1.055.992.992 0 00-1.398-.166c-.431.341-.506.97-.165 1.404z" fill-rule="nonzero"/><path d="M7 15V9l4.74-3.892c.57-.323 1.26.116 1.26.8v12.184c0 .684-.69 1.123-1.26.8L7 15zM4 9h2v6H4a1 1 0 01-1-1v-4a1 1 0 011-1z"/></g></svg>'},e));i.displayName="HipchatOutgoingSoundIcon";var a=i;t.default=a},B1jb:function(e,t,n){"use strict";var o=n("AGgm").isSpace
;e.exports=function(e,t,n,r){var i,a,s,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(l))||l>=d)return!1;for(a=1,i=e.src.charCodeAt(++l);35===i&&l<d&&a<=6;)a++,i=e.src.charCodeAt(++l);return!(a>6||l<d&&!o(i))&&(r||(d=e.skipSpacesBack(d,l),(s=e.skipCharsBack(d,35,l))>l&&o(e.src.charCodeAt(s-1))&&(d=s),e.line=t+1,(c=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),c.map=[t,e.line],(c=e.push("inline","",0)).content=e.src.slice(l,d).trim(),c.map=[t,e.line],c.children=[],(c=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},B9FP:function(t,n,o){"use strict";function r(t,n){try{const e=Object(o("mHze").a)(n).parseDate(t);if(isNaN(e.getTime()))return null;const r=e.getFullYear();if(r<1e3||r>9999)return null;return{day:e.getDate(),month:e.getMonth()+1,year:r}}catch(e){return null}}function i(e,t){const{day:n,month:r,year:i}=e,a=Object(o("mHze").a)(t),s=new Date(i,r-1,n)
;return a.formatDate(s)}function a(e){const{day:t,month:n,year:o}=e;return new Date(o,n-1,t)}function s(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}o.d(n,"d",(function(){return r})),o.d(n,"c",(function(){return i})),o.d(n,"b",(function(){return a})),o.d(n,"a",(function(){return s}))},BCXQ:function(t,n,o){"use strict";var r=o("q1tI"),i=o.n(r),a=o("qKvR"),s=o("o0o1"),c=o.n(s),l=o("yXPU"),d=o.n(l),u=o("pVnL"),p=o.n(u),h=o("lwsE"),f=o.n(h),m=o("W8MJ"),g=o.n(m),b=o("a1gu"),v=o.n(b),y=o("Nsbk"),E=o.n(y),w=o("7W2i"),O=o.n(w),S=o("lSNA"),C=o.n(S),T=o("QILm"),x=o.n(T),k=o("RIqP"),I=o.n(k),A=o("MVZn"),N=o.n(A);var M={};function R(e){if(0===e.length||1===e.length)return e;var t=e.join(".");return M[t]||(M[t]=function(e){var t=e.length
;return 0===t||1===t?e:2===t?[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])]:3===t?[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])]:t>=4?[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]:void 0
}(e)),M[t]}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=e.filter((function(e){return"token"!==e})),r=R(o);return r.reduce((function(e,t){return N()({},e,n[t])}),t)}function P(e){return e.join(" ")}function D(e){var t=e.node,n=e.stylesheet,o=e.style,r=void 0===o?{}:o,a=e.useInlineStyles,s=e.key,c=t.properties,l=t.type,d=t.tagName,u=t.value;if("text"===l)return u;if(d){var h,f=function(e,t){var n=0;return function(o){return n+=1,o.map((function(o,r){return D({node:o,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(r)})}))}}(n,a);if(a){var m=Object.keys(n).reduce((function(e,t){return t.split(".").forEach((function(t){e.includes(t)||e.push(t)})),e}),[]),g=c.className&&c.className.includes("token")?["token"]:[],b=c.className&&g.concat(c.className.filter((function(e){return!m.includes(e)})));h=N()({},c,{className:P(b)||void 0,style:j(c.className,Object.assign({},c.style,r),n)})
}else h=N()({},c,{className:P(c.className)});var v=f(t.children);return i.a.createElement(d,p()({key:s},h),v)}}var L=/\n/g;function _(e){var t=e.codeString,n=e.codeStyle,o=e.containerStyle,r=void 0===o?{float:"left",paddingRight:"10px"}:o,a=e.numberStyle,s=void 0===a?{}:a,c=e.startingLineNumber;return i.a.createElement("code",{style:Object.assign({},n,r)},function(e){var t=e.lines,n=e.startingLineNumber,o=e.style;return t.map((function(e,t){var r=t+n;return i.a.createElement("span",{key:"line-".concat(t),className:"react-syntax-highlighter-line-number",style:"function"==typeof o?o(r):o},"".concat(r,"\n"))}))}({lines:t.replace(/\n$/,"").split("\n"),style:s,startingLineNumber:c}))}function B(e){return"".concat(e.toString().length,".25em")}function H(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function J(e,t,n){var o={
display:"inline-block",minWidth:B(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},r="function"==typeof e?e(t):e;return N()({},o,r)}function $(e){var t=e.children,n=e.lineNumber,o=e.lineNumberStyle,r=e.largestLineNumber,i=e.showInlineLineNumbers,a=e.lineProps,s=void 0===a?{}:a,c=e.className,l=void 0===c?[]:c,d=e.showLineNumbers,u=e.wrapLongLines,p="function"==typeof s?s(n):s;if(p.className=l,n&&i){var h=J(o,n,r);t.unshift(H(n,h))}return u&d&&(p.style=N()({},p.style,{display:"flex"})),{type:"element",tagName:"span",properties:p,children:t}}function F(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=0;o<e.length;o++){var r=e[o];if("text"===r.type)n.push($({children:[r],className:I()(new Set(t))}));else if(r.children){var i=t.concat(r.properties.className);n=n.concat(F(r.children,i))}}return n}function z(e,t,n,o,r,i,a,s,c){var l,d=F(e.value),u=[],p=-1,h=0;function f(e,t){
var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return $({children:e,lineNumber:t,lineNumberStyle:s,largestLineNumber:a,showInlineLineNumbers:r,lineProps:n,className:i,showLineNumbers:o,wrapLongLines:c})}function m(e,t){if(o&&t&&r){var n=J(s,t,a);e.unshift(H(t,n))}return e}function g(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t||o.length>0?f(e,n,o):m(e,n)}for(var b=function(){var e=d[h],t=e.children[0].value;if(function(e){return e.match(L)}(t)){var n=t.split("\n");n.forEach((function(t,r){var a=o&&u.length+i,s={type:"text",value:"".concat(t,"\n")};if(0===r){var c=g(d.slice(p+1,h).concat($({children:[s],className:e.properties.className})),a);u.push(c)}else if(r===n.length-1){if(d[h+1]&&d[h+1].children&&d[h+1].children[0]){var l=$({children:[{type:"text",value:"".concat(t)}],className:e.properties.className});d.splice(h+1,0,l)}else{var f=g([s],a,e.properties.className);u.push(f)}}else{var m=g([s],a,e.properties.className);u.push(m)}})),
p=h}h++};h<d.length;)b();if(p!==d.length-1){var v=d.slice(p+1,d.length);if(v&&v.length){var y=g(v,o&&u.length+i);u.push(y)}}return t?u:(l=[]).concat.apply(l,u)}function U(e){var t=e.rows,n=e.stylesheet,o=e.useInlineStyles;return t.map((function(e,t){return D({node:e,stylesheet:n,useInlineStyles:o,key:"code-segement".concat(t)})}))}function V(e){return e&&void 0!==e.highlightAuto}var W=function(t,n){return function(o){var r=o.language,a=o.children,s=o.style,c=void 0===s?n:s,l=o.customStyle,d=void 0===l?{}:l,u=o.codeTagProps,p=void 0===u?{className:r?"language-".concat(r):void 0,style:N()({},c['code[class*="language-"]'],c['code[class*="language-'.concat(r,'"]')])
}:u,h=o.useInlineStyles,f=void 0===h||h,m=o.showLineNumbers,g=void 0!==m&&m,b=o.showInlineLineNumbers,v=void 0===b||b,y=o.startingLineNumber,E=void 0===y?1:y,w=o.lineNumberContainerStyle,O=o.lineNumberStyle,S=void 0===O?{}:O,C=o.wrapLines,T=o.wrapLongLines,k=void 0!==T&&T,I=o.lineProps,A=void 0===I?{}:I,M=o.renderer,R=o.PreTag,j=void 0===R?"pre":R,P=o.CodeTag,D=void 0===P?"code":P,L=o.code,B=void 0===L?Array.isArray(a)?a[0]:a:L,H=o.astGenerator,J=x()(o,["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"]);H=H||t;var $=g?i.a.createElement(_,{containerStyle:w,codeStyle:p.style||{},numberStyle:S,startingLineNumber:E,codeString:B}):null,F=c.hljs||c['pre[class*="language-"]']||{backgroundColor:"#fff"},W=V(H)?"hljs":"prismjs",K=f?Object.assign({},J,{
style:Object.assign({},F,d)}):Object.assign({},J,{className:J.className?"".concat(W," ").concat(J.className):W,style:Object.assign({},d)});if(!H)return i.a.createElement(j,K,$,i.a.createElement(D,p,B));(void 0===C&&M||k)&&(C=!0),M=M||U;var q=[{type:"text",value:B}],G=function(t){var n=t.astGenerator,o=t.language,r=t.code,i=t.defaultCodeValue;if(V(n)){var a=function(e,t){return-1!==e.listLanguages().indexOf(t)}(n,o);return"text"===o?{value:i,language:"text"}:a?n.highlight(o,r):n.highlightAuto(r)}try{return o&&"text"!==o?{value:n.highlight(r,o)}:{value:i}}catch(e){return{value:i}}}({astGenerator:H,language:r,code:B,defaultCodeValue:q});null===G.language&&(G.value=q);var Y=z(G,C,A,g,v,E,G.value.length+E,S,k);return p.style=k?N()({},p.style,{whiteSpace:"pre-wrap"}):N()({},p.style,{whiteSpace:"pre"}),i.a.createElement(j,K,i.a.createElement(D,p,!v&&$,M({rows:Y,stylesheet:c,useInlineStyles:f})))}},K=function(e){
var t=e.loader,n=e.isLanguageRegistered,o=e.registerLanguage,r=e.languageLoaders,a=e.noAsyncLoadingLanguages,s=function(e){function n(){return f()(this,n),v()(this,E()(n).apply(this,arguments))}return O()(n,e),g()(n,[{key:"componentDidUpdate",value:function(){!n.isRegistered(this.props.language)&&r&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var e=this;n.astGeneratorPromise||n.loadAstGenerator(),n.astGenerator||n.astGeneratorPromise.then((function(){e.forceUpdate()})),!n.isRegistered(this.props.language)&&r&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var e=this,t=this.props.language;"text"!==t&&n.loadLanguage(t).then((function(){return e.forceUpdate()})).catch((function(){}))}},{key:"normalizeLanguage",value:function(e){return n.isSupportedLanguage(e)?e:"text"}},{key:"render",value:function(){return i.a.createElement(n.highlightInstance,p()({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:n.astGenerator}))}}],[{
key:"preload",value:function(){return n.loadAstGenerator()}},{key:"loadLanguage",value:function(){var e=d()(c.a.mark((function e(t){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(o=r[t])){e.next=5;break}return e.abrupt("return",o(n.registerLanguage));case 5:throw new Error("Language ".concat(t," not supported"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSupportedLanguage",value:function(e){return n.isRegistered(e)||"function"==typeof r[e]}},{key:"loadAstGenerator",value:function(){return n.astGeneratorPromise=t().then((function(e){n.astGenerator=e,o&&n.languages.forEach((function(t,n){return o(e,n,t)}))})),n.astGeneratorPromise}}]),n}(i.a.PureComponent);return C()(s,"astGenerator",null),C()(s,"highlightInstance",W(null,{})),C()(s,"astGeneratorPromise",null),C()(s,"languages",new Map),C()(s,"supportedLanguages",e.supportedLanguages||Object.keys(r||{})),
C()(s,"isRegistered",(function(e){if(a)return!0;if(!o)throw new Error("Current syntax highlighter doesn't support registration of languages");return s.astGenerator?n(s.astGenerator,e):s.languages.has(e)})),C()(s,"registerLanguage",(function(e,t){if(!o)throw new Error("Current syntax highlighter doesn't support registration of languages");if(s.astGenerator)return o(s.astGenerator,e,t);s.languages.set(e,t)})),s}({loader:function(){return o.e("react-syntax-highlighter/refractor-import").then(o.t.bind(null,"a8JZ",7)).then((function(e){return e.default||e}))},noAsyncLoadingLanguages:!0,
supportedLanguages:["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apl","applescript","aql","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bbcode","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cil","clike","clojure","cmake","coffeescript","concurnas","cpp","crystal","csharp","csp","css-extras","css","cypher","d","dart","dax","dhall","diff","django","dns-zone-file","docker","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","firestore-security-rules","flow","fortran","fsharp","ftl","gcode","gdscript","gedcom","gherkin","git","glsl","gml","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hpkp","hsts","http","ichigojam","icon","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keyman","kotlin","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","lolcode","lua","makefile","markdown","markup-templating","markup","matlab","mel","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","r","racket","reason","regex","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","stan","stylus","swift","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","wiki","xeora","xml-doc","xojo","xquery","yaml","yang","zig"]
}),q=o("3tO9"),G=o.n(q);const Y={"data-ds--code--row":""},X=(e,t)=>t?G()({"data-testid":`${t}-line-${e}`},Y):Y,Q=Object(o("GnSq").default)((e=>{if(!e)return"";const t=o("l3Br").a.find((t=>t.name===e||t.alias.includes(e)));return t?t.value:"text"}));const Z={};function ee(e,t={},n){return function(e){if(0===e.length||1===e.length)return e;const t=e.join(".");return Z[t]||(Z[t]=function(e){const t=e.length
;return 0===t||1===t?e:2===t?[e[0],e[1],`${e[0]}.${e[1]}`,`${e[1]}.${e[0]}`]:3===t?[e[0],e[1],e[2],`${e[0]}.${e[1]}`,`${e[0]}.${e[2]}`,`${e[1]}.${e[0]}`,`${e[1]}.${e[2]}`,`${e[2]}.${e[0]}`,`${e[2]}.${e[1]}`,`${e[0]}.${e[1]}.${e[2]}`,`${e[0]}.${e[2]}.${e[1]}`,`${e[1]}.${e[0]}.${e[2]}`,`${e[1]}.${e[2]}.${e[0]}`,`${e[2]}.${e[0]}.${e[1]}`,`${e[2]}.${e[1]}.${e[0]}`]:t>=4?[e[0],e[1],e[2],e[3],`${e[0]}.${e[1]}`,`${e[0]}.${e[2]}`,`${e[0]}.${e[3]}`,`${e[1]}.${e[0]}`,`${e[1]}.${e[2]}`,`${e[1]}.${e[3]}`,`${e[2]}.${e[0]}`,`${e[2]}.${e[1]}`,`${e[2]}.${e[3]}`,`${e[3]}.${e[0]}`,`${e[3]}.${e[1]}`,`${e[3]}.${e[2]}`,`${e[0]}.${e[1]}.${e[2]}`,`${e[0]}.${e[1]}.${e[3]}`,`${e[0]}.${e[2]}.${e[1]}`,`${e[0]}.${e[2]}.${e[3]}`,`${e[0]}.${e[3]}.${e[1]}`,`${e[0]}.${e[3]}.${e[2]}`,`${e[1]}.${e[0]}.${e[2]}`,`${e[1]}.${e[0]}.${e[3]}`,`${e[1]}.${e[2]}.${e[0]}`,`${e[1]}.${e[2]}.${e[3]}`,`${e[1]}.${e[3]}.${e[0]}`,`${e[1]}.${e[3]}.${e[2]}`,`${e[2]}.${e[0]}.${e[1]}`,`${e[2]}.${e[0]}.${e[3]}`,`${e[2]}.${e[1]}.${e[0]}`,`${e[2]}.${e[1]}.${e[3]}`,`${e[2]}.${e[3]}.${e[0]}`,`${e[2]}.${e[3]}.${e[1]}`,`${e[3]}.${e[0]}.${e[1]}`,`${e[3]}.${e[0]}.${e[2]}`,`${e[3]}.${e[1]}.${e[0]}`,`${e[3]}.${e[1]}.${e[2]}`,`${e[3]}.${e[2]}.${e[0]}`,`${e[3]}.${e[2]}.${e[1]}`,`${e[0]}.${e[1]}.${e[2]}.${e[3]}`,`${e[0]}.${e[1]}.${e[3]}.${e[2]}`,`${e[0]}.${e[2]}.${e[1]}.${e[3]}`,`${e[0]}.${e[2]}.${e[3]}.${e[1]}`,`${e[0]}.${e[3]}.${e[1]}.${e[2]}`,`${e[0]}.${e[3]}.${e[2]}.${e[1]}`,`${e[1]}.${e[0]}.${e[2]}.${e[3]}`,`${e[1]}.${e[0]}.${e[3]}.${e[2]}`,`${e[1]}.${e[2]}.${e[0]}.${e[3]}`,`${e[1]}.${e[2]}.${e[3]}.${e[0]}`,`${e[1]}.${e[3]}.${e[0]}.${e[2]}`,`${e[1]}.${e[3]}.${e[2]}.${e[0]}`,`${e[2]}.${e[0]}.${e[1]}.${e[3]}`,`${e[2]}.${e[0]}.${e[3]}.${e[1]}`,`${e[2]}.${e[1]}.${e[0]}.${e[3]}`,`${e[2]}.${e[1]}.${e[3]}.${e[0]}`,`${e[2]}.${e[3]}.${e[0]}.${e[1]}`,`${e[2]}.${e[3]}.${e[1]}.${e[0]}`,`${e[3]}.${e[0]}.${e[1]}.${e[2]}`,`${e[3]}.${e[0]}.${e[2]}.${e[1]}`,`${e[3]}.${e[1]}.${e[0]}.${e[2]}`,`${e[3]}.${e[1]}.${e[2]}.${e[0]}`,`${e[3]}.${e[2]}.${e[0]}.${e[1]}`,`${e[3]}.${e[2]}.${e[1]}.${e[0]}`]:void 0
}(e)),Z[t]}(e.filter((e=>"token"!==e))).reduce(((e,t)=>G()(G()({},e),n[t])),t)}function te(e){return e.join(" ")}function ne({node:e,stylesheet:t,style:n={},useInlineStyles:r,codeBidiWarningConfig:a,key:s}){const{properties:c,type:l,tagName:d,value:u}=e;if("text"===l){const e=u+"";return Object(o("Q+q7").a)(e,(({bidiCharacter:e,index:t})=>i.a.createElement(o("HDAP").a,{bidiCharacter:e,key:t,label:a.codeBidiWarningLabel,tooltipEnabled:a.codeBidiWarningTooltipEnabled})))}if(d){const o=function(e,t,n){let o=0;return r=>(o+=1,r.map(((r,i)=>ne({node:r,stylesheet:e,useInlineStyles:t,codeBidiWarningConfig:n,key:`code-segment-${o}-${i}`}))))}(t,r,a);let l;if(r){const e=Object.keys(t).reduce(((e,t)=>(t.split(".").forEach((t=>{e.includes(t)||e.push(t)})),e)),[]),o=c.className&&c.className.includes("token")?["token"]:[],r=c.className&&o.concat(c.className.filter((t=>!e.includes(t))));l=G()(G()({},c),{},{className:te(r)||void 0,style:ee(c.className,Object.assign({},c.style,n),t)})
}else l=G()(G()({},c),{},{className:te(c.className)});const u=o(e.children);return i.a.createElement(d,p()({key:s},l),u)}}const oe=Object(r.memo)((function({showLineNumbers:e=!0,language:t="text",highlight:n="",highlightedStartText:i="Highlight start",highlightedEndText:s="Highlight end",testId:c,text:l,codeBidiWarnings:d=!0,codeBidiWarningLabel:u,codeBidiWarningTooltipEnabled:p=!0}){const h=(l||"").split("\n").length,f=Object(o("qwq9").b)(),m=Object(r.useMemo)((()=>Object(o("Hjyh").b)(f,h)),[f,h]),g=Object(r.useMemo)((()=>Object(o("Hjyh").a)(m)),[m]),b=Object(r.useMemo)((()=>g(i,s,e)),[i,s,e,g]),{getHighlightStyles:v,highlightedLines:y}=(({highlight:e="",testId:t})=>{const n=Object(r.useMemo)((()=>e&&e.split(",").map((e=>{if(e.indexOf("-")>0){const[t,n]=e.split("-").map(Number).sort(((e,t)=>e-t));return Array(n+1).fill(void 0).map(((e,t)=>t)).slice(t,n+1)}return Number(e)})).reduce(((e,t)=>e.concat(t)),[])||[]),[e]);return{getHighlightStyles:Object(r.useCallback)(((n,o)=>{
if(!e||0===o.length)return X(n,t);if(o.includes(n)){const e={"data-ds--code--row--highlight":""};return G()(G()({},e),X(n,t))}return X(n,t)}),[e,t]),highlightedLines:n}})({highlight:n,testId:c}),E=Object(r.useCallback)((e=>v(e,y)),[v,y]),w=Object(r.useMemo)((()=>Q(t)),[t]),O=l?w:"text",S=d?function(e){return function({rows:t,stylesheet:n,useInlineStyles:o}){return t.map(((t,r)=>ne({node:t,stylesheet:n,useInlineStyles:o,codeBidiWarningConfig:e,key:`code-segement${r}`})))}}({codeBidiWarningLabel:u,codeBidiWarningTooltipEnabled:p}):void 0;return Object(a.e)(K,{"data-testid":c,"data-code-lang":w,"data-ds--code--code-block":"",css:b,language:O,PreTag:"span",showLineNumbers:e,wrapLines:n.length>0||!!c,lineProps:E,useInlineStyles:!1,renderer:S},l)}));oe.displayName="CodeBlock";n.a=oe},BJ3o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm2.5 4h5a1 1 0 010 2h-5a1 1 0 010-2zm0-8h5a1 1 0 010 2h-5a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignCenterIcon";var a=i;t.default=a},BOO7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#fff" fill-opacity=".01" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 18h3a1 1 0 010 2H6a2 2 0 01-2-2v-3a1 1 0 112 0v3zm12 2h-3a1 1 0 010-2h3v-3a1 1 0 012 0v3a2 2 0 01-2 2zM6 4h3a1 1 0 010 2H6v3a1 1 0 01-2 0V6a2 2 0 012-2zm12 2h-3a1 1 0 110-2h3a2 2 0 012 2v3a1 1 0 01-2 0V6z" fill="currentColor"/><path d="M10.55 12.061l-1.873.337a.998.998 0 01-.718-1.713 1 1 0 01.718-.287h3.7c.316-.08.686.021.957.293.272.271.373.641.293.957v3.7a1 1 0 01-2 0l.337-1.873-2.602 2.603c-.345.344-.94.306-1.33-.084-.391-.39-.429-.986-.084-1.33l2.602-2.603z" fill="currentColor"/></svg>'},e));i.displayName="EditorFilePreviewIcon";var a=i;t.default=a},BS0G:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");let a;!function(e){e[e.RESET_COLOR=0]="RESET_COLOR",
e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(a||(a={}));const s=new i.PluginKey("textColorPlugin");function c(e,t){return new i.Plugin({key:s,state:{init:(e,o)=>function(e,t){const o=(null==t?void 0:t.defaultColor)||n("Z9Bk").a,i=(null==t?void 0:t.allowMoreTextColors)||!1,a=[{value:o.color,label:o.label,border:n("A977").a},...i?n("xy10").b:n("xy10").a],s={color:Object(n("Z9Bk").b)(e),disabled:Object(n("x2he").a)(e),palette:a,defaultColor:o.color};if(i){const e=a.slice(0,7),t=a.slice(7,14),n=a.slice(14),o=t.concat(e).concat(n),i=o[0];return o[0]=o[7],o[7]=i,r()(r()({},s),{},{palette:e,paletteExpanded:o})}return s}(o,t),apply(t,o,i,c){const l=t.getMeta(s)||{};let d;switch(l.action){case a.RESET_COLOR:d=r()(r()({},o),{},{color:o.defaultColor});break;case a.SET_COLOR:d=r()(r()({},o),{},{color:l.color,disabled:!1});break;case a.DISABLE:d=r()(r()({},o),{},{disabled:!0});break;default:d=r()(r()({},o),{},{color:Object(n("Z9Bk").b)(c),disabled:Object(n("x2he").a)(c)})}
return o&&o.color!==d.color||o&&o.disabled!==d.disabled?(e(s,d),d):o}}})}},C4C2:function(t,n,o){"use strict";o.d(n,"b",(function(){return mE})),o.d(n,"a",(function(){return gE}));var r=o("3tO9"),i=o.n(r),a=o("lSNA"),s=o.n(a),c=o("q1tI"),l=o.n(c),d=o("UxO+"),u=o("JRPe"),p=o("mG1W"),h=o("vOnD");const f=["codeBlock","layoutSection","expand"];function m(e){return-1!==f.indexOf(e.type.name)}function g(e){if(e instanceof d.NodeSelection){if(m(e.node))return{pos:e.from,start:e.from,node:e.node,depth:e.$anchor.depth}}const t=Object(p.findParentNode)(m)(e);if(t&&0!==t.depth)return{node:t.node,start:t.start,pos:t.pos,depth:t.depth-1}}const b=new d.PluginKey("breakoutPlugin"),{B300:v,N300:y,N20A:E}=o("+ter"),w=h.default.div.withConfig({componentId:"sc-18wpd0c-0"})`&& button{background:${E};color:${y};:hover{background:${v};color:white !important;}}`,O={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"};class S extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(e=>()=>{
const{state:t,dispatch:n}=this.props.editorView;-1!==[O.WIDE,O.FULL_WIDTH].indexOf(e)?function(e){return(t,n)=>{const o=g(t.selection);if(!o)return!1;const r=t.tr.setNodeMarkup(o.pos,o.node.type,o.node.attrs,[t.schema.marks.breakout.create({mode:e})]);return r.setMeta("scrollIntoView",!1),t.selection instanceof d.NodeSelection&&t.selection.$anchor.pos===o.pos&&r.setSelection(d.NodeSelection.create(r.doc,o.pos)),n&&n(r),!0}}(e)(t,n):function(){return(e,t)=>{const n=g(e.selection);if(!n)return!1;const o=n.node.marks.filter((e=>"breakout"!==e.type.name)),r=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,o);return r.setMeta("scrollIntoView",!1),e.selection instanceof d.NodeSelection&&e.selection.$anchor.pos===n.pos&&r.setSelection(d.NodeSelection.create(r.doc,n.pos)),t&&t(r),!0}}()(t,n)}))}render(){const{intl:{formatMessage:e},mountPoint:t,boundariesElement:n,scrollableElement:r,editorView:i,node:a}=this.props,{state:s}=i;if(!a||!function(e){if(!e.schema.marks.breakout)return!1
;const t=g(e.selection);return!!t&&e.selection.$from.node(t.depth).type.allowsMarkType(e.schema.marks.breakout)}(s))return null;const c=function(e){const t=g(e.selection);if(!t)return;const n=t.node.marks.find((e=>"breakout"===e.type.name));return n?n.attrs.mode:void 0}(i.state),u=(e=>{switch(e){case O.FULL_WIDTH:return o("yYBl").a.layoutFixedWidth;case O.WIDE:return o("yYBl").a.layoutFullWidth;default:return o("yYBl").a.layoutWide}})(c),h=e(u),f=(e=>e===O.FULL_WIDTH?O.CENTER:e===O.WIDE?O.FULL_WIDTH:O.WIDE)(c);let v=function(e,t,n){return t instanceof d.NodeSelection&&m(t.node)?Object(p.findDomRefAtPos)(t.from,n.domAtPos.bind(n)):Object(p.findParentDomRefOfType)(e.breakoutNode.type,n.domAtPos.bind(n))(t)}((e=>b.getState(e))(s),s.selection,i);if(!v)return null;const y=v.querySelector(`.${o("eFkm").a.BREAKOUT_MARK_DOM}`);return y&&y.firstChild&&(v=y.firstChild),l.a.createElement(o("poXX").a,{ariaLabel:h,target:v,offset:[5,0],alignY:"start",alignX:"end",mountTo:t,boundariesElement:n,
scrollableElement:r,stick:!0,forcePlacement:!0},l.a.createElement(w,null,l.a.createElement(o("aEOQ").b,{title:h,testId:u.id,onClick:this.handleClick(f),iconBefore:c===O.FULL_WIDTH?l.a.createElement(o.n(o("oR2R")).a,{label:h}):l.a.createElement(o.n(o("fHir")).a,{label:h})})))}}S.displayName="LayoutButton",s()(S,"displayName","LayoutButton");var C=Object(u.injectIntl)(S);class T{constructor(e,t,n){s()(this,"updateWidth",(e=>{const t=Object(o("xEd5").c)(this.node.attrs.mode,e.width);let n=`width: ${t}; `;const r=e.lineLength,i=Object(o("9a+x").e)(t);if(r&&i){n+=`transform: none; margin-left: ${-(i-r)/2}px;`}else n+="transform: translateX(-50%); margin-left: 50%;";const a=this.view.domObserver;a&&this.view.dom&&(a.stop(),setTimeout((()=>{a.start()}),0)),void 0!==this.dom.style.cssText?this.dom.style.cssText=n:this.dom.setAttribute("style",n)}));const r=document.createElement("div");r.className=o("eFkm").a.BREAKOUT_MARK_DOM;const i=document.createElement("div")
;i.className=o("eFkm").a.BREAKOUT_MARK,i.setAttribute("data-layout",e.attrs.mode),i.appendChild(r),this.dom=i,this.node=e,this.view=t,this.contentDOM=r,this.eventDispatcher=n,n.on(o("IXso").b.key,this.updateWidth),this.updateWidth(o("IXso").b.getState(this.view.state))}destroy(){this.eventDispatcher.off(o("IXso").b.key,this.updateWidth)}}function x({dispatch:e,eventDispatcher:t}){return new d.Plugin({state:{init:()=>({breakoutNode:null}),apply(t,n){const o=g(t.selection),r=o?o.node:null;if(function(e,t){return e&&t?!e.eq(t):!(!e&&!t)}(r,n.breakoutNode)){const t=i()(i()({},n),{},{breakoutNode:r});return e(b,t),t}return n}},key:b,props:{nodeViews:{breakout:(e,n)=>new T(e,n,t)}}})}var k=e=>({name:"breakout",pmPlugins:()=>[{name:"breakout",plugin:x}],marks:()=>[{name:"breakout",mark:o("fj5m").a}],contentComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i})=>e&&!e.allowBreakoutButton?null:l.a.createElement(o("fd7e").a,{plugins:{pluginState:b},
render:({pluginState:e})=>{var o;return l.a.createElement(C,{editorView:t,mountPoint:n,boundariesElement:r,scrollableElement:i,node:null!==(o=null==e?void 0:e.breakoutNode)&&void 0!==o?o:null})}})});const I=e=>{if(e.selection instanceof o("n1Ll").a){const t=[];return e.selection.forEachCell((n=>{const o=n.firstChild.marks.filter((t=>t.type===e.schema.marks.alignment))[0];t.push(o?o.attrs.align:"start")})),t.every((e=>e===t[0]))?t[0]:"start"}const t=Object(p.findParentNodeOfType)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),n=t&&t.node.marks.filter((t=>t.type===e.schema.marks.alignment))[0];return n&&n.attrs.align||"start"};const A=new d.PluginKey("alignmentPlugin");function N(e,t){return new d.Plugin({key:A,state:{init:(e,n)=>function(e,t){return{align:I(e)||t.align,isEnabled:!0}}(n,t),apply(t,n,r,a){const s=I(a),c=(e=>(t,n)=>{const{nodes:{paragraph:r,heading:i},marks:{alignment:a}}=t.schema;return Object(o("t0jr").i)(a,(()=>e?"start"!==e&&{align:e
}:void 0),[r,i])(t,n)})(s)(a),l=i()(i()({},n),{},{align:s,isEnabled:c});return s===n.align&&c===n.isEnabled||e(A,l),l}}})}const M={start:l.a.createElement(o.n(o("7eIw")).a,{label:"Align left"}),end:l.a.createElement(o.n(o("DRvN")).a,{label:"Align right"}),center:l.a.createElement(o.n(o("BJ3o")).a,{label:"Align center"})};class R extends c.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props;e.preventDefault(),t(n)}))}render(){const{label:e,isSelected:t,content:n}=this.props;return l.a.createElement(o("aEOQ").b,{disabled:!1,selected:t,title:e,"aria-label":e,onClick:this.onClick,iconBefore:n})}}R.displayName="AlignmentButton";var j=R;const P=Object(u.defineMessages)({alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"Action to align/justify text to the left"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align center",description:"Action to align/justify text to the center/middle"},alignRight:{
id:"fabric.editor.alignRight",defaultMessage:"Align right",description:"Action to align/justify text to the right"}}),D=h.default.div.withConfig({componentId:"sc-1h43se3-0"})`padding:0 ${Object(o("ARg4").gridSize)()}px;display:flex;flex-wrap:wrap;`,L=[{title:P.alignLeft,value:"start"},{title:P.alignCenter,value:"center"},{title:P.alignRight,value:"end"}];class _ extends c.PureComponent{render(){const{onClick:e,selectedAlignment:t,className:n,intl:o}=this.props;return l.a.createElement(D,{className:n,style:{maxWidth:96}},L.map((n=>{const{value:r,title:i}=n,a=o.formatMessage(i);return l.a.createElement(j,{content:M[r],key:r,value:r,label:a,onClick:e,isSelected:r===t})})))}}_.displayName="Alignment";var B=Object(u.injectIntl)(_);const H=h.default.div.withConfig({componentId:"sc-1vlrwil-0"})`display:flex;`,J=h.default.span.withConfig({componentId:"sc-1vlrwil-1"})`background:${"#EBECF0"};width:1px;height:24px;display:inline-block;margin:0 8px;`,$=h.default.span.withConfig({
componentId:"sc-1vlrwil-2"})`display:flex;align-items:center;div{display:flex;}`,F=h.default.span.withConfig({componentId:"sc-1vlrwil-3"})`margin-left:-8px;`,z=Object(u.defineMessages)({alignment:{id:"fabric.editor.alignment",defaultMessage:"Text alignment",description:"Opens drop down menu of options to configure text alignment"}});class U extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{isOpen:!1}),s()(this,"changeAlignment",(e=>(this.toggleOpen(),this.props.changeAlignment(e)))),s()(this,"toggleOpen",(()=>{this.handleOpenChange({isOpen:!this.state.isOpen})})),s()(this,"handleOpenChange",(({isOpen:e})=>{this.setState({isOpen:e})})),s()(this,"hide",(()=>{!0===this.state.isOpen&&this.setState({isOpen:!1})}))}render(){const{isOpen:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,isReducedSpacing:i,pluginState:a,disabled:s,intl:c}=this.props,d=c.formatMessage(z.alignment)
;return l.a.createElement($,null,l.a.createElement(o("pYeG").a,{mountTo:t,boundariesElement:n,scrollableElement:r,isOpen:this.state.isOpen,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:112,fitHeight:80,trigger:l.a.createElement(o("aEOQ").b,{spacing:i?"none":"default",disabled:s,selected:e,title:d,"aria-label":"Text alignment",className:"align-btn",onClick:this.toggleOpen,iconBefore:l.a.createElement(H,null,M[a.align],l.a.createElement(F,null,l.a.createElement(o.n(o("1YpF")).a,{label:""})))})},l.a.createElement(B,{onClick:e=>this.changeAlignment(e),selectedAlignment:a.align})),l.a.createElement(J,null))}}U.displayName="AlignmentToolbar",s()(U,"displayName","AlignmentToolbar");var V=Object(u.injectIntl)(U);const W={align:"start"};var K=()=>({name:"alignment",marks:()=>[{name:"alignment",mark:o("N/nG").a}],pmPlugins:()=>[{name:"alignmentPlugin",plugin:({dispatch:e})=>N(e,W)}],
primaryToolbarComponent:({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,disabled:i,isToolbarReducedSpacing:a})=>l.a.createElement(o("fd7e").a,{plugins:{align:A},render:({align:s})=>l.a.createElement(V,{pluginState:s,isReducedSpacing:a,changeAlignment:t=>(e=>(t,n)=>{const{nodes:{paragraph:r,heading:i},marks:{alignment:a}}=t.schema;return Object(o("soJG").b)([Object(o("t0jr").b)(e),Object(o("t0jr").i)(a,(()=>e?"start"!==e&&{align:e}:void 0),[r,i])])(t,n)})(t)(e.state,e.dispatch),disabled:i||!s.isEnabled,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r})})});new d.PluginKey("dataConsumerMarkPlugin");var q=()=>({name:"dataConsumerPlugin",marks:()=>[{name:"dataConsumer",mark:o("87RN").a}]});const G=h.default.div.withConfig({componentId:"sc-1u169a5-0"})`& > div > div{display:flex;}`,Y=Object(o("HoxM").a)(o("J+OG").a),X=h.default.div.withConfig({componentId:"sc-1u169a5-1"
})`${e=>e.isSelected?"&& > span, && > span:hover { background: #6c798f; color: #fff; }":""};`,Q=h.default.span.withConfig({componentId:"sc-1u169a5-2"})`${e=>e.hasElemBefore?"margin-left: 8px;":""};`;class Z extends c.PureComponent{constructor(...e){super(...e),s()(this,"state",{popupPlacement:["bottom","left"]}),s()(this,"handleRef",(e=>{this.setState({target:e||void 0})})),s()(this,"updatePopupPlacement",(e=>{const{popupPlacement:t}=this.state;e[0]===t[0]&&e[1]===t[1]||this.setState({popupPlacement:e})})),s()(this,"handleClose",(()=>{this.props.onOpenChange&&this.props.onOpenChange({isOpen:!1})}))}renderItem(e){const{onItemActivated:t,onMouseEnter:n,onMouseLeave:r}=this.props;if(!e.onClick&&!e.value&&!e.value.name)return l.a.createElement("span",{key:String(e.content)},e.content);const i=l.a.createElement(X,{key:e.key||e.content,isSelected:e.isActive},l.a.createElement(o("oNmO").a,{elemBefore:e.elemBefore,elemAfter:e.elemAfter,isDisabled:e.isDisabled,onClick:()=>t&&t({item:e}),
onMouseEnter:()=>n&&n({item:e}),onMouseLeave:()=>r&&r({item:e}),className:e.className,"aria-label":String(e.content)},l.a.createElement(Q,{hasElemBefore:!!e.elemBefore},e.content)));return e.tooltipDescription?l.a.createElement(o("Yto1").a,{key:e.key||e.content,content:e.tooltipDescription,position:e.tooltipPosition},i):i}renderDropdownMenu(){const{target:e,popupPlacement:t}=this.state,{items:n,mountTo:r,boundariesElement:i,scrollableElement:a,offset:s,fitHeight:c,fitWidth:d,isOpen:u,zIndex:p}=this.props;return l.a.createElement(o("poXX").a,{target:u?e:void 0,mountTo:r,boundariesElement:i,scrollableElement:a,onPlacementChanged:this.updatePopupPlacement,fitHeight:c,fitWidth:d,zIndex:p||o("9cwX").p,offset:s},l.a.createElement(Y,{isOpen:!0,appearance:"tall",position:t.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleClose},l.a.createElement("div",{style:{height:0,minWidth:d||0}
}),n.map(((e,t)=>l.a.createElement(o("eoVD").a,{key:t},e.items.map((e=>this.renderItem(e))))))))}render(){const{children:e,isOpen:t}=this.props;return l.a.createElement(G,null,l.a.createElement("div",{ref:this.handleRef},e),t?this.renderDropdownMenu():null)}}Z.displayName="DropdownMenuWrapper";class ee extends c.PureComponent{constructor(...e){super(...e),s()(this,"state",{isDropdownOpen:!1}),s()(this,"onOpenChange",(e=>{this.setState({isDropdownOpen:e.isDropdownOpen})})),s()(this,"handleTriggerClick",(()=>{this.onOpenChange({isDropdownOpen:!this.state.isDropdownOpen})})),s()(this,"createItems",(()=>{const{bulletListDisabled:e,orderedListDisabled:t,bulletListActive:n,orderedListActive:r,intl:{formatMessage:i}}=this.props,a=i(o("aebN").a.unorderedList),s=i(o("aebN").a.orderedList);return[{items:[{key:"unorderedList",content:a,value:{name:"bullet_list"},isDisabled:e,isActive:Boolean(n),elemAfter:l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(o("4Upw").toggleBulletList))},{
key:"orderedList",content:s,value:{name:"ordered_list"},isDisabled:t,isActive:Boolean(r),elemAfter:l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(o("4Upw").toggleOrderedList))}]}]})),s()(this,"handleBulletListClick",(()=>!(this.props.bulletListDisabled||!Object(o("/r+8").d)(this.props.editorView,o("J5HJ").f.TOOLBAR)))),s()(this,"handleOrderedListClick",(()=>!(this.props.orderedListDisabled||!Object(o("/r+8").f)(this.props.editorView,o("J5HJ").f.TOOLBAR)))),s()(this,"onItemActivated",(({item:e})=>{switch(this.setState({isDropdownOpen:!1}),e.value.name){case"bullet_list":this.handleBulletListClick();break;case"ordered_list":this.handleOrderedListClick()}}))}render(){const{disabled:e,isSmall:t,isReducedSpacing:n,isSeparator:r,bulletListActive:i,bulletListDisabled:a,orderedListActive:s,orderedListDisabled:c,intl:{formatMessage:d}}=this.props,{isDropdownOpen:u}=this.state;if(t){
const t=this.createItems(),{popupsMountPoint:a,popupsBoundariesElement:c,popupsScrollableElement:p}=this.props,h=d(o("aebN").a.lists);return l.a.createElement(o("mw/U").j,null,l.a.createElement(Z,{items:t,onItemActivated:this.onItemActivated,mountTo:a,boundariesElement:c,scrollableElement:p,isOpen:u,onOpenChange:this.onOpenChange,fitHeight:188,fitWidth:175},l.a.createElement(o("aEOQ").b,{spacing:n?"none":"default",selected:i||s,disabled:e,onClick:this.handleTriggerClick,title:h,iconBefore:l.a.createElement(o("mw/U").j,null,l.a.createElement(o.n(o("ZfOZ")).a,{label:h}),l.a.createElement(o("mw/U").e,null,l.a.createElement(o.n(o("1YpF")).a,{label:""})))})),r&&l.a.createElement(o("mw/U").g,null))}{const t=d(o("aebN").a.unorderedList),u=d(o("aebN").a.orderedList);return l.a.createElement(o("mw/U").b,{width:n?"small":"large"},l.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.BULLET_LIST,spacing:n?"none":"default",onClick:this.handleBulletListClick,selected:i,disabled:a||e,
title:l.a.createElement(o("4Upw").ToolTipContent,{description:t,keymap:o("4Upw").toggleBulletList}),iconBefore:l.a.createElement(o.n(o("ZfOZ")).a,{label:t})}),l.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.ORDERED_LIST,spacing:n?"none":"default",onClick:this.handleOrderedListClick,selected:s,disabled:c||e,title:l.a.createElement(o("4Upw").ToolTipContent,{description:u,keymap:o("4Upw").toggleOrderedList}),iconBefore:l.a.createElement(o.n(o("lyAC")).a,{label:u})}),r&&l.a.createElement(o("mw/U").g,null))}}}ee.displayName="ToolbarLists";var te=Object(u.injectIntl)(ee);function ne({listType:e,expression:t}){const n="bulletList"===e.name?o("J5HJ").c.FORMAT_LIST_BULLET:o("J5HJ").c.FORMAT_LIST_NUMBER,r={action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.LIST,actionSubjectId:n,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.FORMATTING}},i=Object(o("9hcL").d)({match:t,nodeType:e,getAttrs:{},joinPredicate:(t,n)=>n.type===e});return Object(o("9hcL").f)(r)(i)}
var oe=o("fwbU");var re=function(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").findShortcutByKeymap(o("4Upw").toggleOrderedList),Object(o("/r+8").e)(o("J5HJ").f.KEYBOARD,"orderedList"),e),o("4Upw").bindKeymapWithCommand(o("4Upw").findShortcutByKeymap(o("4Upw").toggleBulletList),Object(o("/r+8").e)(o("J5HJ").f.KEYBOARD,"bulletList"),e),o("4Upw").bindKeymapWithCommand(o("4Upw").indentList.common,Object(o("ShL/").a)(o("J5HJ").f.KEYBOARD),e),o("4Upw").bindKeymapWithCommand(o("4Upw").outdentList.common,Object(o("bIcM").a)(o("J5HJ").f.KEYBOARD),e),o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,o("/r+8").c,e),o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,o("/r+8").a,e),o("4Upw").bindKeymapWithCommand(o("4Upw").deleteKey.common,o("/r+8").b,e),o("4Upw").bindKeymapWithCommand(o("4Upw").findKeyMapForBrowser(o("4Upw").forwardDelete),o("/r+8").b,e),Object(oe.b)(e)};var ie=()=>({name:"list",nodes:()=>[{name:"bulletList",node:o("nGa1").a},{name:"orderedList",
node:o("OYbq").a},{name:"listItem",node:o("cajS").a}],pmPlugins:()=>[{name:"list",plugin:({dispatch:e})=>Object(o("Hb9x").a)(e)},{name:"listInputRule",plugin:({schema:e,featureFlags:t})=>function(e,t){const{nodes:{bulletList:n,orderedList:r}}=e,i=[];if(n&&i.push(ne({expression:/^\s*([\*\-\\u2022]) $/,listType:n})),r&&i.push(ne({expression:/^(1)[\.\)] $/,listType:r})),0!==i.length)return Object(o("9hcL").b)("lists",i,{useUnpredictableInputRule:t.useUnpredictableInputRule})}(e,t)},{name:"listKeymap",plugin:()=>re()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"unorderedList",title:e(o("aebN").a.unorderedList),description:e(o("aebN").a.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:Object(o("4Upw").tooltip)(o("4Upw").toggleBulletList),icon:()=>l.a.createElement(o("Jzj3").m,null),action(e,t){const n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())))
;return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.LIST,actionSubjectId:o("J5HJ").c.FORMAT_LIST_BULLET,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT}})}},{id:"orderedList",title:e(o("aebN").a.orderedList),description:e(o("aebN").a.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:Object(o("4Upw").tooltip)(o("4Upw").toggleOrderedList),icon:()=>l.a.createElement(o("Jzj3").n,null),action(e,t){const n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.LIST,actionSubjectId:o("J5HJ").c.FORMAT_LIST_NUMBER,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT}})}}]},
primaryToolbarComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,toolbarSize:i,disabled:a,isToolbarReducedSpacing:s}){const c=i<o("+wsV").a.L;return l.a.createElement(o("fd7e").a,{plugins:{listState:o("Hb9x").b},render:({listState:o})=>o?l.a.createElement(te,{isSmall:c,isSeparator:!0,isReducedSpacing:s,disabled:a,editorView:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,bulletListActive:o.bulletListActive,bulletListDisabled:o.bulletListDisabled,orderedListActive:o.orderedListActive,orderedListDisabled:o.orderedListDisabled}):null})}});var ae=function(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").insertRule.common,Object(o("gbAj").a)(o("J5HJ").f.SHORTCUT),e),o("4Upw").bindKeymapWithCommand(o("4Upw").escape.common,(()=>!0),e),Object(oe.b)(e)};var se=()=>({name:"rule",nodes:()=>[{name:"rule",node:o("cba5").a}],pmPlugins:()=>[{name:"ruleInputRule",
plugin:({schema:e,featureFlags:t})=>Object(o("rnvK").b)(e,t)},{name:"ruleKeymap",plugin:()=>ae()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"rule",title:e(o("/DD6").a.horizontalRule),description:e(o("/DD6").a.horizontalRuleDescription),keywords:["horizontal","rule","line","hr"],priority:1200,keyshortcut:"---",icon:()=>l.a.createElement(o("Jzj3").e,null),action(e,t){let n=e(t.schema.nodes.rule.createChecked());return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.DIVIDER,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}}]}}),ce=o("pDqG");const le=new d.PluginKey("selection");let de,ue;function pe(e,t,n){return function(r,i,a,s,c,l){if(n.useLongPressSelection)return!1;if(l&&-1!==e.indexOf(a.type.name)&&c.target){const e=c.target;if(t(e)){const e=n.getNodeSelectionPos?n.getNodeSelectionPos(r.state,s):s;return Object(o("+U5V").h)(e)(r.state,r.dispatch),!0}}return!1}}
!function(e){e.Before="Before",e.Start="Start",e.Inside="Inside",e.End="End"}(de||(de={})),function(e){e[e.Before=-1]="Before",e[e.After=1]="After"}(ue||(ue={}));const he=e=>{if(e.selection instanceof d.NodeSelection)return ce.b.create(e.doc,[ce.a.node(e.selection.from,e.selection.to,{class:o("9cwX").J})]);if(e.selection instanceof d.TextSelection||e.selection instanceof d.AllSelection){const t=be(e.selection,e.doc).map((({node:e,pos:t})=>ce.a.node(t,t+e.nodeSize,{class:o("9cwX").J})));return ce.b.create(e.doc,t)}return ce.b.empty};function fe(e){if(e instanceof d.NodeSelection)return{action:o("J5HJ").a.SELECTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.NODE,eventType:o("J5HJ").e.TRACK,attributes:{node:e.node.type.name}}}function me(e){if(e instanceof d.AllSelection)return{action:o("J5HJ").a.SELECTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.ALL,eventType:o("J5HJ").e.TRACK}}function ge(e){if(e.selection instanceof o("n1Ll").a){
const t=Object(o("gtpc").a)(e),n=t.map.cellsInRect(t).length,r=t.map.map.length;return{action:o("J5HJ").a.SELECTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.CELL,eventType:o("J5HJ").e.TRACK,attributes:{selectedCells:n,totalCells:r}}}}const be=(e,t)=>{const n=[];if(e.from!==e.to){const{from:o,to:r}=e;t.nodesBetween(o,r,((e,t)=>{const i=o<=t&&t+e.nodeSize<=r;return!(e&&"paragraph"!==e.type.name&&!e.isText&&i)||(n.push({node:e,pos:t}),!1)}))}return n};function ve(e,t){if(e instanceof d.TextSelection&&e.from!==e.to){const{from:n,to:r,anchor:i,head:a}=e,s=[];return t.nodesBetween(n,r,((e,t)=>{if(e.isText||t>=n&&t+e.nodeSize<=r)return s.push(e.type.name),!1})),{action:o("J5HJ").a.SELECTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.RANGE,eventType:o("J5HJ").e.TRACK,attributes:{from:i,to:a,nodes:s}}}}function ye({oldEditorState:e,newEditorState:t}){const n=e.selection,o=t.selection,r=le.getState(e),i=le.getState(t);if(!r||!i)return!1;if(n.eq(o)){
if(n instanceof d.NodeSelection&&o instanceof d.NodeSelection){const e=r.decorationSet.find(),t=i.decorationSet.find();return e.length>0&&t.length>0?!e[0].eq(t[0]):!(0===e.length&&0===t.length)}return!1}return!(n instanceof d.TextSelection&&o instanceof d.TextSelection&&n.from===n.to&&o.from===o.to)}const Ee=e=>!(!e||e.isAtom||!d.NodeSelection.isSelectable(e)),we=e=>!(!e||!(e.isText||Object(o("x+VZ").h)(e)||d.NodeSelection.isSelectable(e))),Oe=e=>{let t=!1;const n=Object(p.findParentNode)((e=>{const n=Ee(e);return n||Object(o("xiKR").a)(e)||(t=!0),n}))(e);if(!t)return n},Se=(e,t)=>{e.parent.inlineContent&&Ee(e.parent)&&(e=t.resolve(e.start()-1));const n=d.Selection.findFrom(e,-1);if(n){const r=t.resolve(n.from);for(let t=e.depth+1;t<=r.depth;t++){const n=r.node(t);if(Ee(n))return{node:n,pos:r.start(t)-1};if(t>e.depth+1&&!Object(o("xiKR").a)(n))return}if(n instanceof d.NodeSelection&&d.NodeSelection.isSelectable(n.node))return{node:n.node,pos:n.from}}},Ce=(e,t)=>{
const n=d.Selection.findFrom(e,1);if(n){const r=t.resolve(n.from);for(let t=e.depth+1;t<=r.depth;t++){const n=r.node(t);if(Ee(n))return{node:n,pos:r.start(t)-1};if(t>e.depth+1&&!Object(o("xiKR").a)(n))return}}},Te=(e,t)=>Object(o("Gbq5").d)(e,Oe(t)),xe=(e,t)=>Object(o("Gbq5").c)(e,Oe(t));var ke=o("i8i4"),Ie=o.n(ke),Ae=o("QILm"),Ne=o.n(Ae),Me=o("pVnL"),Re=o.n(Me);const je=["buttonStyles"],Pe=Object(c.forwardRef)((function(e,t){return l.a.createElement(o("WwMu").b,Re()({},e,{innerRef:t}))})),De=e=>{const{label:t,allowInteractiveExpand:n}=e,r=Object(c.useCallback)(((t,n)=>{const r=t(n),{buttonStyles:a}=r,s=Ne()(r,je);return i()({buttonStyles:i()(i()({},a),{},{height:"100%","& svg":{transform:e.expanded?"transform: rotate(90deg);":"tranform: rotate(0deg);",transition:`transform 0.2s ${o("9cwX").O};`}})},s)}),[e]);return l.a.createElement(o("0+Gd").a,{appearance:"subtle",className:o("5I88").a.iconContainer,iconBefore:l.a.createElement(o.n(o("thbo")).a,{label:t}),shouldFitContainer:!0,
theme:r,isDisabled:!n})},Le=(e=>class extends l.a.Component{constructor(e){super(e)}render(){const{label:t}=this.props;return l.a.createElement(o("Yto1").a,{content:t,position:"top",tag:Pe},l.a.createElement(e,this.props))}})(De),_e=De,Be=e=>{const{expanded:t,intl:n}=e,r=t?o("WwMu").c.collapseNode:o("WwMu").c.expandNode,i=n&&n.formatMessage(r)||r.defaultMessage,a=!(!!window.matchMedia&&window.matchMedia("(any-hover: hover)").matches!==window.matchMedia("(any-hover: none)").matches)||window.matchMedia("(any-hover: hover)").matches;return e.allowInteractiveExpand&&a?l.a.createElement(Le,Re()({label:i},e)):l.a.createElement(o("WwMu").b,null,l.a.createElement(_e,Re()({label:i},e)))};var He=o("TKQA"),Je=o("MEpN");let $e;!function(e){e.SET_DECORATIONS="SET_DECORATIONS",e.SET_RELATIVE_SELECTION="SET_RELATIVE_SELECTION"}($e||($e={}));const{createCommand:Fe,getPluginState:ze,createPluginState:Ue}=Object(o("FJah").a)(le,(function(e,t){switch(t.type){case $e.SET_DECORATIONS:
return i()(i()({},e),{},{decorationSet:t.decorationSet,selection:t.selection});case $e.SET_RELATIVE_SELECTION:return i()(i()({},e),{},{selectionRelativeToNode:t.selectionRelativeToNode});default:return e}}),{onDocChanged:(e,t)=>{try{if(0===t.decorationSet.find().length&&(!e.selectionSet||0===he(e).find().length))return t;const n=t.decorationSet.map(e.mapping,e.doc);return i()(i()({},t),{},{decorationSet:n})}catch(n){return i()(i()({},t),{},{decorationSet:ce.b.empty})}},onSelectionChanged:(e,t)=>(e.selection instanceof d.NodeSelection&&Ee(e.selection.node)||e.selection instanceof o("n1Ll").a)&&!e.getMeta(le)?i()(i()({},t),{},{selectionRelativeToNode:void 0}):t}),Ve=(e,t)=>Fe({type:$e.SET_RELATIVE_SELECTION,selectionRelativeToNode:e},(e=>t?e.setSelection(t):e)),We=(e,t)=>{const{selection:n}=e;return n instanceof o("g1AK").a?qe(n)(e,t):n instanceof d.NodeSelection?Ye(n)(e,t):n instanceof d.TextSelection&&Qe(n)(e,t)},Ke=(e,t)=>{const{selection:n}=e
;return n instanceof o("g1AK").a?Ge(n)(e,t):n instanceof d.NodeSelection?Xe(n)(e,t):n instanceof d.TextSelection&&Ze(n)(e,t)},qe=e=>(t,n)=>{const{$from:r,$to:i,side:a}=e;if(a===o("g1AK").b.LEFT){const e=Ce(i,t.doc);if(e)return Ve(de.Start,d.NodeSelection.create(t.doc,e.pos))(t,n)}else if(a===o("g1AK").b.RIGHT&&xe(r,e)){const o=Oe(e);if(o)return Ve(de.End,d.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},Ge=e=>(t,n)=>{const{$from:r,side:i}=e,{selectionRelativeToNode:a}=ze(t);if(i===o("g1AK").b.RIGHT){const e=Se(r,t.doc);if(e)return Ve(de.End,d.NodeSelection.create(t.doc,e.pos))(t,n)}else if(i===o("g1AK").b.LEFT&&Te(r,e))if(a===de.Before){const r=t.doc.resolve(e.$from.before(e.$from.depth));if(r){const e=Se(r,t.doc);if(e&&Object(o("xiKR").a)(e.node))return Ve(de.End,d.NodeSelection.create(t.doc,e.pos))(t,n)}Ve()(t,n)}else{const o=Oe(e);if(o)return Ve(de.Start,d.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},Ye=e=>(t,n)=>{const{node:r,from:i,$to:a}=e,{selectionRelativeToNode:s}=ze(t)
;if(r.isAtom)return!!xe(a,e)&&et(de.End,t.doc.resolve(i+1),ue.After)(t,n);if(s===de.Start)return tt(de.Inside,r,i)(t,n);if(Object(o("xiKR").a)(r)&&(!s||s===de.End)){const e=Ce(a,t.doc);if(e&&Object(o("xiKR").a)(e.node))return Ve(de.Start,d.NodeSelection.create(t.doc,e.pos))(t,n)}return!1},Xe=e=>(t,n)=>{const{node:r,from:i,to:a,$from:s}=e,{selectionRelativeToNode:c}=ze(t);if(r.isAtom)return!!Te(s,e)&&et(de.Start,t.doc.resolve(i),ue.Before)(t,n);if(c===de.End)return nt(de.Inside,r,i,a)(t,n);if(!c||c===de.Inside)return tt(de.Before,r,i)(t,n);if(Object(o("xiKR").a)(r)&&c===de.Start){const e=Se(s,t.doc);if(e&&Object(o("xiKR").a)(e.node))return Ve(de.End,d.NodeSelection.create(t.doc,e.pos))(t,n)}return!1},Qe=e=>(t,n)=>{if(xe(e.$to,e)){const o=Oe(e);if(o)return Ve(de.End,d.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},Ze=e=>(t,n)=>{const{selectionRelativeToNode:r}=ze(t);if(r===de.Before){const r=Se(e.$from,t.doc)
;if(r&&Object(o("xiKR").a)(r.node))return Ve(de.End,d.NodeSelection.create(t.doc,r.pos))(t,n);Ve(void 0)(t,n)}else if(Te(e.$from,e)){const o=Oe(e);if(o)return Ve(de.Start,d.NodeSelection.create(t.doc,o.pos))(t,n)}return!1},et=(e,t,n)=>(o,r)=>{const i=d.Selection.findFrom(t,n,!0);return!!i&&Ve(e,i)(o,r)},tt=(e,t,n)=>(r,i)=>{if(Object(o("x+VZ").j)(t))return et(e,r.doc.resolve(n),ue.After)(r,i);const a=(e=>Object(p.flatten)(e).find((e=>we(e.node)||!Object(o("xiKR").a)(e.node))))(t);if(a){const{node:s,pos:c}=a,l=n+c+1;if(s.isText||s.isAtom)return et(e,r.doc.resolve(l),ue.Before)(r,i);if(Object(o("x+VZ").h)(s))return et(e,r.doc.resolve(l+1),ue.Before)(r,i);if(!Object(o("xiKR").a)(t))return Ve(e,new(o("g1AK").a)(r.doc.resolve(l),o("g1AK").b.LEFT))(r,i);if(Ee(t))return Ve(e,d.NodeSelection.create(r.doc,l))(r,i)}return!1},nt=(e,t,n,r)=>(i,a)=>{if(Object(o("x+VZ").j)(t))return et(e,i.doc.resolve(r),ue.Before)(i,a);const s=(e=>{let t;if(e.descendants(((e,n)=>{
if(we(e)||!Object(o("xiKR").a)(e))return t={node:e,pos:n},!1})),t)return t})(t);if(s){const{node:r,pos:c}=s,l=n+c+r.nodeSize;if(r.isText||r.isAtom)return et(e,i.doc.resolve(l+1),ue.After)(i,a);if(Object(o("x+VZ").h)(r))return et(e,i.doc.resolve(l),ue.After)(i,a);if(!Object(o("xiKR").a)(t))return Ve(e,new(o("g1AK").a)(i.doc.resolve(l+1),o("g1AK").b.RIGHT))(i,a);if(Ee(t))return Ve(e,d.NodeSelection.create(i.doc,l))(i,a)}return!1};function ot(e,t){return`${o("5I88").a.prefix} ${o("5I88").a.type(e)} ${t?o("5I88").a.expanded:""}`}class rt{constructor(e,t,n,r){s()(this,"allowInteractiveExpand",!0),s()(this,"focusTitle",(()=>{if(this.input){const{state:e,dispatch:t}=this.view;Ve(de.Start)(e,t),Object(o("vRhk").g)(e,t,this.view),this.input.focus()}})),s()(this,"handleIconKeyDown",(e=>{switch(Object(He.keyName)(e)){case"Tab":e.preventDefault(),this.focusTitle();break;case"Enter":e.preventDefault(),this.handleClick(e)}})),s()(this,"isAllowInteractiveExpandEnabled",(()=>{
const{state:e}=this.view,t=Object(o("37L4").b)(e);return t&&!!t.interactiveExpand})),s()(this,"handleClick",(e=>{const t=e.target,{state:n,dispatch:r}=this.view;if(Object(o("9a+x").b)(t,`.${o("5I88").a.icon}`)){if(!this.isAllowInteractiveExpandEnabled())return;return e.stopPropagation(),this.view.dom instanceof HTMLElement&&this.view.dom.blur(),void Object(o("vRhk").h)(this.getPos(),this.node.type)(n,r)}if(t===this.input)return e.stopPropagation(),void this.focusTitle()})),s()(this,"handleInput",(e=>{const t=e.target;if(t===this.input){e.stopPropagation();const{state:n,dispatch:r}=this.view;Object(o("vRhk").i)(t.value,this.getPos(),this.node.type)(n,r)}})),s()(this,"handleFocus",(e=>{e.stopImmediatePropagation()})),s()(this,"handleTitleKeydown",(e=>{switch(Object(He.keyName)(e)){case"Enter":this.toggleExpand();break;case"Tab":case"ArrowDown":this.moveToOutsideOfTitle(e);break;case"ArrowRight":this.handleArrowRightFromTitle(e);break;case"ArrowLeft":this.handleArrowLeftFromTitle(e);break
;case"ArrowUp":this.setLeftGapCursor(e);break;case"Backspace":this.deleteExpand(e)}})),s()(this,"deleteExpand",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t!==n||0!==t)return;const{state:r}=this.view,i=this.node;i&&Object(o("D4z0").l)(r.schema)(i)&&Object(o("vRhk").c)(this.getPos(),i)(r,this.view.dispatch)})),s()(this,"toggleExpand",(()=>{if(this.isAllowInteractiveExpandEnabled()){const{state:e,dispatch:t}=this.view;Object(o("vRhk").h)(this.getPos(),this.node.type)(e,t)}})),s()(this,"moveToOutsideOfTitle",(e=>{e.preventDefault();const{state:t,dispatch:n}=this.view,o=this.getPos();if("number"!=typeof o)return;let r=o;this.isCollapsed()&&(r=o+this.node.nodeSize);const i=t.doc.resolve(r);if(!i)return;if(this.isCollapsed()&&i.nodeAfter&&["expand","nestedExpand"].indexOf(i.nodeAfter.type.name)>-1)return this.setRightGapCursor(e);const a=d.Selection.findFrom(i,1,!0);a&&(this.view.focus(),n(t.tr.setSelection(a)))})),
s()(this,"isCollapsed",(()=>!this.node.attrs.__expanded)),s()(this,"setRightGapCursor",(e=>{if(!this.input)return;const{value:t,selectionStart:n,selectionEnd:r}=this.input;if(n===r&&n===t.length){const{state:t,dispatch:n}=this.view;e.preventDefault(),this.view.focus(),n(t.tr.setSelection(new(o("g1AK").a)(t.doc.resolve(this.node.nodeSize+this.getPos()),o("g1AK").b.RIGHT)))}})),s()(this,"setLeftGapCursor",(e=>{if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t===n&&0===t){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),n(t.tr.setSelection(new(o("g1AK").a)(t.doc.resolve(this.getPos()),o("g1AK").b.LEFT)))}})),s()(this,"handleArrowRightFromTitle",(e=>{if(!this.input)return;const{value:t,selectionStart:n,selectionEnd:o}=this.input;if(n===o&&n===t.length){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),Ve(de.End,d.NodeSelection.create(t.doc,this.getPos()))(t,n)}})),s()(this,"handleArrowLeftFromTitle",(e=>{
if(!this.input)return;const{selectionStart:t,selectionEnd:n}=this.input;if(t===n&&0===t){e.preventDefault();const{state:t,dispatch:n}=this.view;this.view.focus(),void 0===ze(t).selectionRelativeToNode?Ve(void 0,new(o("g1AK").a)(t.doc.resolve(this.getPos()),o("g1AK").b.LEFT))(t,n):Ve(de.Start,d.NodeSelection.create(t.doc,this.getPos()))(t,n)}})),this.reactContext=r()||{};const{dom:i,contentDOM:a}=Je.DOMSerializer.renderSpec(document,((e,t)=>["div",{class:ot(e.type.name,e.attrs.__expanded),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:o("5I88").a.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:o("5I88").a.icon}],["div",{class:o("5I88").a.inputContainer},["input",{class:o("5I88").a.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(o("WwMu").c.expandPlaceholderText)||o("WwMu").c.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:o("5I88").a.content},0]])(e,this.reactContext.intl));this.getPos=n,this.pos=n(),
this.view=t,this.node=e,this.dom=i,this.contentDOM=a,this.icon=this.dom.querySelector(`.${o("5I88").a.icon}`),this.input=this.dom.querySelector(`.${o("5I88").a.titleInput}`),this.titleContainer=this.dom.querySelector(`.${o("5I88").a.titleContainer}`),this.content=this.dom.querySelector(`.${o("5I88").a.content}`),this.renderIcon(this.reactContext.intl),this.initHandlers()}initHandlers(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)}renderIcon(e,t){if(!this.icon)return;const{__expanded:n}=t&&t.attrs||this.node.attrs;Ie.a.render(l.a.createElement(Be,{allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:n}),this.icon)}stopEvent(e){const t=e.target
;return t===this.input||t===this.icon||!!Object(o("9a+x").b)(t,`.${o("5I88").a.icon}`)}ignoreMutation(e){return"selection"!==e.type}update(e,t){return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(o("5I88").a.expanded),this.renderIcon(this.reactContext&&this.reactContext.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((()=>{this.input&&this.node.attrs.title!==this.input.value&&(this.input.value=this.node.attrs.title)})),this.node=e,!0)}destroy(){this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),Ie.a.unmountComponentAtNode(this.icon)),
this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0}}var it=function(e){return(t,n,o)=>new rt(t,n,o,e)};function at(e,t){return!!e&&e.classList.contains(t)}const st=e=>e instanceof d.NodeSelection&&("expand"===e.node.type.name||"nestedExpand"===e.node.type.name);function ct(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").moveRight.common,((e,t,n)=>{if(!n)return!1;const{selection:r}=e,{selectionRelativeToNode:i}=ze(e);return!(!st(r)||i!==de.Start)&&Object(o("vRhk").d)(r.from+1)(e,t,n)}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveLeft.common,((e,t,n)=>{if(!n)return!1;const{selection:r}=e,{selectionRelativeToNode:i}=ze(e);return!(!st(r)||void 0!==i&&i!==de.End)&&Object(o("vRhk").d)(r.from+1)(e,t,n)}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").tab.common,((e,t,n)=>{if(e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){
const{from:r}=e.selection,i=n.nodeDOM(r);if(!(i&&i instanceof HTMLElement))return!1;const a=i.querySelector(`.${o("5I88").a.iconContainer}`);if(a&&a.focus){const{tr:o}=e,r=e.selection.from;o.setSelection(new d.TextSelection(o.doc.resolve(r))),t&&t(o),n.dom.blur(),a.focus()}return!0}return!1}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveUp.common,((e,t,n)=>{if(!n)return!1;const{selection:r,schema:i}=e,{nodeBefore:a}=r.$from;if(r instanceof o("g1AK").a&&r.side===o("g1AK").b.RIGHT&&a&&(a.type===i.nodes.expand||a.type===i.nodes.nestedExpand)&&!a.attrs.__expanded){const{$from:i}=r;return Object(o("vRhk").d)(Math.max(i.pos-1,0))(e,t,n)}const{$from:s}=e.selection;if(n.endOfTextblock("up")){const r=Object(o("P8UZ").a)(e),i=Math.max(s.pos-s.parentOffset-1,0);if(r&&r.start===i)return Object(o("vRhk").d)(r.start)(e,t,n);const a=d.Selection.findFrom(e.doc.resolve(i),-1),c=Object(o("P8UZ").a)(e,a);if(a&&c)return c.node.attrs.__expanded?(t&&t(e.tr.setSelection(a)),
!0):Object(o("vRhk").d)(c.start)(e,t,n)}return!1}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveDown.common,((e,t,n)=>{if(!n)return!1;const{expand:r,nestedExpand:i}=e.schema.nodes,{selection:a}=e,{nodeAfter:s}=a.$from;if(a instanceof o("g1AK").a&&a.side===o("g1AK").b.LEFT&&s&&(s.type===r||s.type===i)&&!s.attrs.__expanded){const{$from:r}=a;return Object(o("vRhk").d)(r.pos+1)(e,t,n)}if(n.endOfTextblock("down")){const{$from:a}=e.selection,s=e.doc.resolve(a.after());if(s.nodeAfter&&(s.nodeAfter.type===r||s.nodeAfter.type===i))return Object(o("vRhk").d)(s.pos+1)(e,t,n)}return!1}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,((e,t,n)=>{const{selection:r}=e;if(!n||!r.empty)return!1;const{expand:i,nestedExpand:a}=e.schema.nodes,s=Object(o("P8UZ").a)(e);if(!s){const s=d.Selection.findFrom(e.doc.resolve(Math.max(r.$from.pos-1,0)),-1),c=Object(o("P8UZ").a)(e,s);return!(!c||c.node.type!==i&&c.node.type!==a||c.node.attrs.__expanded)&&Object(o("vRhk").d)(c.start)(e,t,n)}
const c=d.Selection.findFrom(e.doc.resolve(s.pos),1,!0);return!!(c&&r.$from.pos===c.$from.pos&&Object(o("D4z0").l)(e.schema)(s.node)&&t)&&Object(o("vRhk").b)()(e,t)}),e),Object(oe.b)(e)}const lt=(e,{formatMessage:t})=>{const{expandRef:n}=Object(o("n683").c)(e);if(n){const{nestedExpand:r,expand:i}=e.schema.nodes;return{title:"Expand toolbar",getDomRef:()=>n,nodeType:[r,i],offset:[0,6],items:[{id:"editor.expand.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onClick:Object(o("vRhk").b)(),onMouseEnter:Object(o("lgPy").b)([r,i],!0),onMouseLeave:Object(o("lgPy").b)([r,i],!1),onFocus:Object(o("lgPy").b)([r,i],!0),onBlur:Object(o("lgPy").b)([r,i],!1),title:t(o("yYBl").a.remove)}]}}};var dt=(e={})=>({name:"expand",nodes:()=>[{name:"expand",node:o("FaEa").a},{name:"nestedExpand",node:o("YVSm").a}],pmPlugins:()=>[{name:"expand",plugin:({dispatch:t,reactContext:n})=>((e,t,n=!1)=>{const r=Object(o("n683").b)(e,{});return new d.Plugin({state:r,key:o("n683").d,props:{nodeViews:{
expand:it(t),nestedExpand:it(t)},handleKeyDown:(e,t)=>at(t.target,o("5I88").a.titleContainer),handleKeyPress:(e,t)=>at(t.target,o("5I88").a.titleContainer),handleScrollToSelection:()=>at(document.activeElement,o("5I88").a.titleInput),handleClickOn:pe(["expand","nestedExpand"],(e=>e.classList.contains(o("5I88").a.prefix)),{useLongPressSelection:n})},filterTransaction:e=>!(at(document.activeElement,o("5I88").a.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric)),view:e=>{const t=e.domAtPos.bind(e);return{update:e=>{const{state:n,dispatch:r}=e,i=Object(o("P8UZ").a)(n);if(i){const e=Object(p.findDomRefAtPos)(i.pos,t);Object(o("n683").c)(n).expandRef!==e&&Object(o("vRhk").f)(e)(n,r)}}}}})})(t,n,e.useLongPressSelection)},{name:"expandKeymap",plugin:ct}],pluginsOptions:{floatingToolbar:lt,quickInsert:({formatMessage:t})=>e&&!0!==e.allowInsertion?[]:[{id:"expand",title:t(o("/DD6").a.expand),description:t(o("/DD6").a.expandDescription),keywords:["accordion","collapse"],priority:600,
icon:()=>l.a.createElement(o("Jzj3").g,null),action(e,t){const n=Object(o("vRhk").a)(t),r=e(n);return Object(o("SVcB").a)(t,r,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?o("J5HJ").c.NESTED_EXPAND:o("J5HJ").c.EXPAND,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}}]}});function ut({allowExpand:e}){return!(!e||"object"!=typeof e)&&!!e.allowInsertion}const pt=new d.PluginKey("caption");class ht extends o("HAbh").a{constructor(...e){super(...e),s()(this,"selected",this.insideSelection())}createDomRef(){const e=document.createElement("figcaption");return e.setAttribute("data-caption","true"),e}getContentDOM(){return{dom:document.createElement("div")}}render(e,t){return l.a.createElement(o("OJn0").a,{selected:this.insideSelection(),hasContent:this.node.content.childCount>0},l.a.createElement("div",{ref:t}))}viewShouldUpdate(e){if(this.node.childCount!==e.childCount)return!0
;const t=this.insideSelection(),n=this.selected!==t;return this.selected=t,n}}function ft(e,t){return(n,o,r)=>new ht(n,o,r,e,t,{}).init()}ht.displayName="CaptionNodeView";const mt=(e,t,n)=>{Object(o("SVcB").a)(e,t,{action:n,eventType:o("J5HJ").e.TRACK,actionSubject:o("J5HJ").b.MEDIA_SINGLE,actionSubjectId:o("J5HJ").c.CAPTION})};function gt(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").moveDown.common,bt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,bt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveDown.common,vt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,vt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveUp.common,yt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").shiftTab.common,yt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").tab.common,vt,e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveLeft.common,Et,e),Object(oe.b)(e)}const bt=(e,t)=>!!Object(p.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)&&Object(o("t0jr").e)(e,t),vt=(e,t)=>{
const n=Object(p.findParentNodeOfType)(e.schema.nodes.caption)(e.selection);if(n){if(t){t(e.tr.setSelection(d.Selection.near(e.tr.doc.resolve(n.pos+n.node.nodeSize))))}return!0}return!1},yt=(e,t)=>{if(Object(p.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){const n=Object(p.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n){if(t){t(e.tr.setSelection(d.Selection.near(e.tr.doc.resolve(n.pos))))}return!0}}return!1},Et=(e,t)=>{if(Object(p.findParentNodeOfType)(e.schema.nodes.caption)(e.selection)){const n=Object(p.findParentNodeOfType)(e.schema.nodes.mediaSingle)(e.selection);if(n&&e.selection.empty&&0===e.tr.doc.resolve(e.selection.from).parentOffset){const r=o("g1AK").a.findFrom(e.tr.doc.resolve(n.pos),0,!1);if(r){if(t){t(e.tr.setSelection(r))}return!0}}}return!1};var wt=()=>({name:"caption",nodes:()=>[{name:"caption",node:o("tIxf").a}],pmPlugins:()=>[{name:"caption",
plugin:({portalProviderAPI:e,providerFactory:t,eventDispatcher:n,dispatch:r})=>((e,t,n,r)=>new d.Plugin({appendTransaction(e,t,n){if(!e.find((e=>e.selectionSet)))return;const r=!n.selection.eq(t.selection),i=Object(p.findParentNodeOfType)(t.schema.nodes.caption)(t.selection),{tr:a}=n;if(r&&i){if(0===i.node.childCount)return a.delete(i.start-1,i.start),a.setMeta("scrollIntoView",!1),mt(n,a,o("J5HJ").a.DELETED),a;mt(n,a,o("J5HJ").a.EDITED)}},key:pt,props:{nodeViews:{caption:ft(e,t)}}}))(e,n)},{name:"captionKeymap",plugin:gt}]});let Ot;function St(e,t,n){if(e.nodes.emoji&&t){!function(e){const t=(e,t)=>{t&&t.then((e=>{e.getAsciiMap().then((t=>{Ot=new At(e,t)}))}))};e.subscribe("emojiProvider",t)}(t);const e=Object(o("9hcL").c)(It.REGEX,Ct);return Object(o("9hcL").b)("emoji",[e],{useUnpredictableInputRule:n.useUnpredictableInputRule})}}function Ct(e,t,n,o){if(!Ot)return null;const r=Ot.match(t);if(r){return new Nt(e,r,n,o).create()}return null}
const Tt=(e,t=!0)=>e[1]+(t?e[2]:""),xt=(e,t=!1)=>(t?e[2]:"")+e[3].trim(),kt=e=>e[4]||"";class It{constructor(e){this.asciiToEmojiMap=e}match(e){return this.getAsciiEmojiMatch((e=>Tt(e,!1))(e),(e=>xt(e,!0))(e),kt(e))||this.getAsciiEmojiMatch(Tt(e),xt(e),kt(e))}getAsciiEmojiMatch(e,t,n){const o=this.asciiToEmojiMap.get(t);return o?{emoji:o,leadingString:e,trailingString:n}:void 0}}s()(It,"REGEX",new RegExp(`((?:^|[\\s${o("N3sK").c}])(?:\\(*?))(\\(?)([^:\\s${o("N3sK").c}\\(]\\S{1,3}|:\\S{1,3}( ))$`));class At extends It{constructor(e,t){super(t),this.emojiProvider=e}match(e){const t=super.match(e);return t&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(t.emoji),t}}class Nt{constructor(e,t,n,o){this.state=e,this.match=t,this.start=n,this.end=o}create(){const e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return Object(o("SVcB").a)(this.state,e,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.EMOJI,
attributes:{inputMethod:o("J5HJ").f.ASCII},eventType:o("J5HJ").e.TRACK})}get from(){return this.start+this.match.leadingString.length}get to(){return this.end}createNodes(){const e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e}createEmojiNode(){const{emoji:e}=this.state.schema.nodes;return e.create(this.getEmojiNodeAttrs())}getEmojiNodeAttrs(){const e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}}trailingTextNodeRequired(){return this.match.trailingString.length>0}createTrailingTextNode(){return this.state.schema.text(this.match.trailingString)}}new d.PluginKey("asciiEmojiPlugin");function Mt(e){return l.a.createElement(o("mw/U").d,null,l.a.createElement(o("lYaY").a,e))}class Rt extends o("gVP2").a{createDomRef(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(o("KsUR").a)():super.createDomRef()}render(e){
const{providerFactory:t,options:n}=e,{shortName:r,id:i,text:a}=this.node.attrs;return l.a.createElement(o("KsUR").b,{useInlineWrapper:n&&n.useInlineWrapper},l.a.createElement(Mt,{providers:t,id:i,shortName:r,fallback:a}),n&&n.allowZeroWidthSpaceAfter&&o("vNjH").a)}}Rt.displayName="EmojiNodeView";class jt{constructor(e,t,n){var r,i,a;if(s()(this,"hasProvider",!1),s()(this,"subscribe",((e,t)=>{this.hasProvider=!1,this.emojiProvider=t,null==t||t.then((()=>this.hasProvider=!0)).then((()=>this.findEmoji())).then((e=>this.update(this.node,null,e)))})),this.node=e,this.providers=n.providerFactory,this.options=n.options,this.dom=jt.toDom(e),null!==(r=this.options)&&void 0!==r&&r.useInlineWrapper){const e=Object(o("KsUR").a)();e.appendChild(this.dom),this.dom=e}this.el=null!==(i=this.options)&&void 0!==i&&i.useInlineWrapper?this.dom.firstElementChild:this.dom,this.providers.subscribe("emojiProvider",this.subscribe),
null!==(a=this.options)&&void 0!==a&&a.allowZeroWidthSpaceAfter&&this.el.after(document.createTextNode(o("vNjH").a)),this.update(this.node,null)}static toDomSpec(e){return["span",{"aria-label":e.attrs.shortName,"data-emoji-id":e.attrs.id,"data-emoji-shortname":e.attrs.shortName,class:"editor-emoji"},e.attrs.shortName]}static toDom(e){return Je.DOMSerializer.renderSpec(document,jt.toDomSpec(e)).dom}static isSprite(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("sprite"))&&void 0!==t&&t}static isImage(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("imagePath"))&&void 0!==t&&t}static isMedia(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("mediaPath"))&&void 0!==t&&t}async findEmoji(e=this.node){const t=await this.emojiProvider;if(t)return t.findByEmojiId({id:e.attrs.id,shortName:e.attrs.shortName,fallback:e.attrs.text})}destroy(){this.providers.unsubscribe("emojiProvider",this.subscribe)}update(e,t,n=this.emoji){
if(this.node.type!==e.type)return this.node=e,!1;const o=this.node.attrs,r=e.attrs;let i=!1;if(o.id!==r.id&&(i=!0,this.el.dataset.emojiId=r.id),o.shortName!==r.shortName&&(i=!0,this.el.dataset.emojiShortname=r.shortName),i)return this.emoji=void 0,this.node=e,this.findEmoji().then((e=>this.update(this.node,t,e))),!0;if(!this.hasProvider)return this.el.classList.add("editor-emoji-loading"),this.el.style.backgroundSize="",this.el.style.backgroundPosition="",this.el.style.backgroundImage="",this.node=e,this.emoji=n,!0;if(this.el.classList.remove("editor-emoji-loading"),!n)return this.el.classList.add("editor-emoji-fallback"),this.el.style.backgroundSize="",this.el.style.backgroundPosition="",this.el.style.backgroundImage="",this.node=e,this.emoji=n,!0;if(this.el.classList.remove("editor-emoji-fallback"),this.emoji===n)return!0;const a=null==n?void 0:n.representation;if(jt.isSprite(a)){const{sprite:e,xIndex:t,yIndex:n}=a,{row:o,column:r,url:i}=e,s=100/(r-1)*(t-0),c=100/(o-1)*(n-0)
;this.el.style.backgroundSize=`${100*r}% ${100*o}%`,this.el.style.backgroundPosition=`${s}% ${c}%`,this.el.style.backgroundImage=`url(${i})`}if(jt.isImage(a)||jt.isMedia(a)){const e=jt.isImage(a)?a.imagePath:a.mediaPath,{width:t,height:n}=a,o=t/(n/20);this.el.style.width=`${o}px`,this.el.style.backgroundImage=`url(${e})`}return this.emoji=n,!0}ignoreMutation(e){return!0}}var Pt=o("17x9"),Dt=o.n(Pt);class Lt extends l.a.Component{getChildContext(){return{emoji:{emojiProvider:this.props.emojiProvider}}}render(){return this.props.children}}Lt.displayName="EmojiContextProvider",s()(Lt,"childContextTypes",{emoji:Dt.a.object});const _t=function(e){const t=new Map;return{call:function(n,o){const r=t.get(n.id||n.shortName);if(r)return r;const i=e(n,o);return t.set(n.id||n.shortName,i),i},clear:t.clear.bind(t)}}(((e,t)=>({title:e.shortName||"",key:e.id||e.shortName,render:({isSelected:n,onClick:r,onHover:i})=>l.a.createElement(Lt,{emojiProvider:t},l.a.createElement(o("xgJV").a,{emoji:e,
selected:n,onMouseMove:i,onSelection:r})),emoji:e})));var Bt=e=>{const t={id:o("FOo9").b.EMOJI,trigger:":",customRegex:"\\(?(:)",headless:e?e.headless:void 0,getItems({query:e,editorState:t}){const n=function(e){return Ft.getState(e)||{}}(t).emojiProvider;return n?new Promise((t=>{const r={result(e){if(e&&e.emojis){const o=e.emojis.map((e=>_t.call(e,n)));t(o)}else t([]);n.unsubscribe(r)}};n.subscribe(r),n.filter(":".concat(e),{limit:50,skinTone:n.getSelectedTone(),sort:e.length?o("DhJ/").a.Default:o("DhJ/").a.UsageFrequency})})):Promise.resolve([])},forceSelect({query:e,items:t,editorState:n}){const{asciiMap:o}=Ft.getState(n),r=":".concat(e);if(o&&r.length>=3&&r.endsWith(" ")&&o.has(r.trim())){const e=o.get(r.trim());return{title:e.name,emoji:e}}return(e=>e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1))(r)?t.find((e=>e.title.toLowerCase()===r)):void 0},selectItem(t,n,r,{mode:i}){const{id:a="",fallback:s,shortName:c}=n.emoji,l=s||c,d=Ft.getState(t)
;d.emojiProvider&&d.emojiProvider.recordSelection&&n.emoji&&d.emojiProvider.recordSelection(n.emoji).then(Object(o("i6+T").m)(e)).catch(Object(o("i6+T").l)(e));const u=t.schema.nodes.emoji.createChecked({shortName:c,id:a,text:l}),p=t.schema.text(" ");return Object(o("SVcB").a)(t,r(Je.Fragment.from([u,p])),{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.EMOJI,attributes:{inputMethod:o("J5HJ").f.TYPEAHEAD},eventType:o("J5HJ").e.TRACK})}};return{name:"emoji",nodes:()=>[{name:"emoji",node:o("Zcjh").a}],pmPlugins:()=>[{name:"emoji",plugin:({providerFactory:t,dispatch:n,portalProviderAPI:r,eventDispatcher:a})=>function(e,t,n,r,a){return new d.Plugin({key:Ft,state:{init:()=>({}),apply(t,n){const{action:o,params:r}=t.getMeta(Ft)||{action:null,params:null};let a=n;switch(o){case Ht:return a=i()(i()({},n),{},{emojiProvider:r.provider}),e(Ft,a),a;case Jt:return a=i()(i()({},n),{},{asciiMap:r.asciiMap}),e(Ft,a),a}return a}},props:{nodeViews:{
emoji(e,i,s){const c=Object(o("37L4").b)(i.state);return(null!=c&&c.nextEmojiNodeView?function(e,t){return(n,o)=>new jt(n,o,{providerFactory:e,options:t})}(t,a):function(e,t,n,o){return(r,i,a)=>new Rt(r,i,a,e,t,{providerFactory:n,options:o}).init()}(n,r,t,a))(e,i,s)}}},view(e){const n=(t,n)=>{switch(t){case"emojiProvider":if(!n)return $t(void 0)(e.state,e.dispatch);n.then((t=>{$t(t)(e.state,e.dispatch),t.getAsciiMap().then((t=>{(e=>(t,n)=>(n&&n(t.tr.setMeta(Ft,{action:Jt,params:{asciiMap:e}})),!0))(t)(e.state,e.dispatch)}))})).catch((()=>$t(void 0)(e.state,e.dispatch)))}};return t.subscribe("emojiProvider",n),{destroy(){t&&t.unsubscribe("emojiProvider",n)}}}})}(n,t,r,a,e)},{name:"emojiAsciiInputRule",plugin:({schema:e,providerFactory:t,featureFlags:n})=>St(e,t,n)}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"emoji",title:e(o("/DD6").a.emoji),description:e(o("/DD6").a.emojiDescription),priority:500,keyshortcut:":",icon:()=>l.a.createElement(o("Jzj3").f,null),action(e,n){
const r=e(void 0);return Object(o("ifNk").a)({triggerHandler:t,inputMethod:o("J5HJ").f.QUICK_INSERT})(r),Object(o("SVcB").a)(n,r,{action:o("J5HJ").a.INVOKED,actionSubject:o("J5HJ").b.TYPEAHEAD,actionSubjectId:o("J5HJ").c.TYPEAHEAD_EMOJI,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.UI})}}],typeAhead:t}}};const Ht="SET_PROVIDER",Jt="SET_ASCII_MAP",$t=e=>(t,n)=>(n&&n(t.tr.setMeta(Ft,{action:Ht,params:{provider:e}})),!0),Ft=new d.PluginKey("emojiPlugin");var zt=o("V0Mj"),Ut=o("jV52");function Vt(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;if(!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;1===t.childCount&&(n>0&&r>0||"table"===t.firstChild.type.spec.tableRole);)if(n--,r--,t=t.firstChild.content,!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");const i=t.firstChild,a=i.type.spec.tableRole,{schema:s}=i.type,c=[];if("row"===a)for(let l=0;l<t.childCount;l++){
let e=t.child(l).content;const i=l?0:Math.max(0,n-1),a=l<t.childCount-1?0:Math.max(0,r-1);(i||a)&&(e=Wt(Object(o("p81E").a)(s).row,new zt.i(e,i,a)).content),c.push(e)}else{if("cell"!==a&&"header_cell"!==a)return null;c.push(n||r?Wt(Object(o("p81E").a)(s).row,new zt.i(t,n,r)).content:t)}return function(e,t){const n=t,r=[];for(let o=0;o<n.length;o++){const e=n[o];for(let t=e.childCount-1;t>=0;t--){const{rowspan:n,colspan:i}=e.child(t).attrs;for(let e=o;e<o+n;e++)r[e]=(r[e]||0)+i}}let i=0;for(let o=0;o<r.length;o++)i=Math.max(i,r[o]);for(let a=0;a<r.length;a++)if(a>=n.length&&n.push(zt.c.empty),r[a]<i){const t=Object(o("p81E").a)(e).cell.createAndFill(),s=[];for(let e=r[a];e<i;e++)s.push(t);n[a]=n[a].append(zt.c.from(s))}return{height:n.length,width:i,rows:n}}(s,c)}function Wt(e,t){const n=e.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new Ut.c(n).replace(0,n.content.size,t).doc}function Kt(e,t,n,o,r,a,s,c){if(0===s||s===t.height)return!1;let l=!1
;for(let d=r;d<a;d++){const r=s*t.width+d,a=t.map[r];if(t.map[r-t.width]===a){l=!0;const r=n.nodeAt(a);if(!r)throw new Error(`isolateHorizontal: no cell found at pos ${a}`);const{top:u,left:p}=t.findCell(a);e.setNodeMarkup(e.mapping.slice(c).map(a+o),void 0,i()(i()({},r.attrs),{},{rowspan:s-u}));const h=r.type.createAndFill(i()(i()({},r.attrs),{},{rowspan:u+r.attrs.rowspan-s}));if(!h)throw new Error("isolateHorizontal: failed to create cell");e.insert(e.mapping.slice(c).map(t.positionAt(s,p,n)),h),d+=r.attrs.colspan-1}}return l}function qt(e,t,n,r,i,a,s,c){if(0===s||s===t.width)return!1;let l=!1;for(let d=i;d<a;d++){const i=d*t.width+s,a=t.map[i];if(t.map[i-1]===a){l=!0;const i=n.nodeAt(a);if(!i)throw new Error(`isolateVertical: could not find cell at pos ${a}`);const u=t.colCount(a),p=e.mapping.slice(c).map(a+r);e.setNodeMarkup(p,void 0,Object(o("11sg").c)(i.attrs,s-u,i.attrs.colspan-(s-u)));const h=i.type.createAndFill(Object(o("11sg").c)(i.attrs,0,s-u))
;if(!h)throw new Error("isolateVertical: failed to create cell");e.insert(p+i.nodeSize,h),d+=i.attrs.rowspan-1}}return l}function Gt(e,t,n,r,i){let a=e.doc;if(n&&(a=e.doc.nodeAt(n-1),!a))throw new Error("insertCells: could not find table at pos "+(n-1));let s=o("wYWE").b.get(a);const{top:c,left:l}=r,d=l+i.width,u=c+i.height,{tr:p}=e;let h=0;function f(){a=n?p.doc.nodeAt(n-1):p.doc,s=o("wYWE").b.get(a),h=p.mapping.maps.length}(function(e,t,n,r,i,a,s){const{schema:c}=e.doc.type,l=Object(o("p81E").a)(c);let d,u;if(i>t.width)for(let o=0,p=0;o<t.height;o++){const a=n.child(o);p+=a.nodeSize;const c=[];let h;h=null==a.lastChild||a.lastChild.type===l.cell?d||(d=l.cell.createAndFill()):u||(u=l.header_cell.createAndFill());for(let e=t.width;e<i;e++)c.push(h);e.insert(e.mapping.slice(s).map(p-1+r),c)}if(a>t.height){const o=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,i);e++){let i;if(e>=t.width)i=!1;else{const o=t.map[r+e],a=n.nodeAt(o)
;if(!a)throw new Error(`growTable: no node found at pos ${o}`);i=a.type===l.header_cell}o.push(i?u||(u=l.header_cell.createAndFill()):d||(d=l.cell.createAndFill()))}const c=l.row.create(null,zt.c.from(o)),p=[];for(let e=t.height;e<a;e++)p.push(c);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),p)}return!(!d&&!u)})(p,s,a,n,d,u,h)&&f(),Kt(p,s,a,n,l,d,c,h)&&f(),Kt(p,s,a,n,l,d,u,h)&&f(),qt(p,s,a,n,c,u,l,h)&&f(),qt(p,s,a,n,c,u,d,h)&&f();for(let o=c;o<u;o++){const e=s.positionAt(o,l,a),t=s.positionAt(o,d,a);p.replace(p.mapping.slice(h).map(e+n),p.mapping.slice(h).map(t+n),new zt.i(i.rows[o-c],0,0))}f(),p.setSelection(new(o("n1Ll").a)(p.doc.resolve(n+s.positionAt(c,l,a)),p.doc.resolve(n+s.positionAt(u-1,d-1,a)))),t(p)}function Yt(e,t,n){if(!Object(o("OC6D").b)(e.state))return!1;let r=Vt(n);const a=e.state.selection;if(a instanceof o("n1Ll").a){r||(r={width:1,height:1,rows:[zt.c.from(Wt(Object(o("p81E").a)(e.state.schema).cell,n))]})
;const t=a.$anchorCell.node(-1),s=a.$anchorCell.start(-1),c=o("wYWE").b.get(t).rectBetween(a.$anchorCell.pos-s,a.$headCell.pos-s);return r=function({width:e,height:t,rows:n},r,a){let s=n,c=e,l=t;if(c!==r){const e=[],t=[];for(let n=0;n<s.length;n++){const i=s[n],a=[];for(let t=e[n]||0,s=0;t<r;s++){let c=i.child(s%i.childCount);t+c.attrs.colspan>r&&(c=c.type.create(Object(o("11sg").c)(c.attrs,c.attrs.colspan,t+c.attrs.colspan-r),c.content)),a.push(c),t+=c.attrs.colspan;for(let t=1;t<c.attrs.rowspan;t++)e[n+t]=(e[n+t]||0)+c.attrs.colspan}t.push(zt.c.from(a))}s=t,c=r}if(l!==a){const e=[];for(let t=0,n=0;t<a;t++,n++){const o=[],r=s[n%l];for(let e=0;e<r.childCount;e++){let n=r.child(e);t+n.attrs.rowspan>a&&(n=n.type.create(i()(i()({},n.attrs),{},{rowspan:Math.max(1,a-n.attrs.rowspan)}),n.content)),o.push(n)}e.push(zt.c.from(o))}s=e,l=a}return{width:c,height:l,rows:s}}(r,c.right-c.left,c.bottom-c.top),Gt(e.state,e.dispatch,s,c,r),!0}if(r){const t=Object(o("b+wK").a)(a)
;if(!t)throw new Error("handlePaste: no cell found");const n=t.start(-1);return Gt(e.state,e.dispatch,n,o("wYWE").b.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}var Xt=o("CsC6"),Qt={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Zt=/Edge\/(\d+)/.exec(navigator.userAgent),en=/MSIE \d/.test(navigator.userAgent),tn=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),nn=Qt.ie=!!(en||tn||Zt);Qt.ie_version=en?document.documentMode||6:tn?+tn[1]:Zt?+Zt[1]:null,Qt.gecko=!nn&&/gecko\/(\d+)/i.test(navigator.userAgent),Qt.gecko_version=Qt.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var on=!nn&&/Chrome\/(\d+)/.exec(navigator.userAgent);Qt.chrome=!!on,Qt.chrome_version=on&&+on[1],Qt.safari=!nn&&/Apple Computer/.test(navigator.vendor),Qt.ios=Qt.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Qt.mac=Qt.ios||/Mac/.test(navigator.platform),Qt.android=/Android \d/.test(navigator.userAgent),
Qt.webkit="webkitFontSmoothing"in document.documentElement.style,Qt.webkit_version=Qt.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var rn=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},an=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},sn=null,cn=function(e,t,n){var o=sn||(sn=document.createRange());return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},ln=function(e,t,n,o){return n&&(un(e,t,n,o,-1)||un(e,t,n,o,1))},dn=/^(img|br|input|textarea|hr)$/i;function un(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:pn(e))){var i=e.parentNode;if(1!=i.nodeType||hn(e)||dn.test(e.nodeName)||"false"==e.contentEditable)return!1;t=rn(e)+(r<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?pn(e):0}}}function pn(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function hn(e){
for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var fn=function(e){var t=e.isCollapsed;return t&&Qt.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function mn(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function gn(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function bn(e,t){return"number"==typeof e?e:e[t]}function vn(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,o=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*o}}function yn(e,t,n){for(var o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=an(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,c=s?gn(i):vn(a),l=0,d=0
;if(t.top<c.top+bn(o,"top")?d=-(c.top-t.top+bn(r,"top")):t.bottom>c.bottom-bn(o,"bottom")&&(d=t.bottom-c.bottom+bn(r,"bottom")),t.left<c.left+bn(o,"left")?l=-(c.left-t.left+bn(r,"left")):t.right>c.right-bn(o,"right")&&(l=t.right-c.right+bn(r,"right")),l||d)if(s)i.defaultView.scrollBy(l,d);else{var u=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),l&&(a.scrollLeft+=l);var h=a.scrollLeft-u,f=a.scrollTop-p;t={left:t.left-h,top:t.top-f,right:t.right-h,bottom:t.bottom-f}}if(s)break}}function En(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=an(e));return t}function wn(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.dom,i=o.top,a=o.left;r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}var On=null;function Sn(e,t){for(var n,o,r=2e8,i=0,a=t.top,s=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var d=void 0;if(1==c.nodeType)d=c.getClientRects();else{if(3!=c.nodeType)continue;d=cn(c).getClientRects()}
for(var u=0;u<d.length;u++){var p=d[u];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<r){n=c,r=h,o=h&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==c.nodeType&&h&&(i=l+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,o=document.createRange(),r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);var i=kn(o,1);if(i.top!=i.bottom&&Cn(t,i))return{node:e,offset:r+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:Sn(n,o)}function Cn(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Tn(e,t,n){var o=e.childNodes.length;if(o&&n.top<n.bottom)for(var r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),i=r;;){var a=e.childNodes[i]
;if(1==a.nodeType)for(var s=a.getClientRects(),c=0;c<s.length;c++){var l=s[c];if(Cn(t,l))return Tn(a,t,l)}if((i=(i+1)%o)==r)break}return e}function xn(e,t){var n,o,r,i,a=e.dom.ownerDocument;if(a.caretPositionFromPoint)try{var s=a.caretPositionFromPoint(t.left,t.top);s&&(r=(n=s).offsetNode,i=n.offset)}catch(g){}if(!r&&a.caretRangeFromPoint){var c=a.caretRangeFromPoint(t.left,t.top);c&&(r=(o=c).startContainer,i=o.startOffset)}var l,d=(e.root.elementFromPoint?e.root:a).elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var u=e.dom.getBoundingClientRect();if(!Cn(t,u))return null;if(!(d=Tn(e.dom,t,u)))return null}if(Qt.safari)for(var p=d;r&&p;p=an(p))p.draggable&&(r=i=null);if(d=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(d,t),r){if(Qt.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var h,f=r.childNodes[i]
;"IMG"==f.nodeName&&(h=f.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(l=function(e,t,n,o){for(var r=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>o.left||s.top>o.top)r=a.posBefore;else{if(!(s.right<o.left||s.bottom<o.top))break;r=a.posAfter}}i=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,i,t))}null==l&&(l=function(e,t,n){var o=Sn(t,n),r=o.node,i=o.offset,a=-1;if(1==r.nodeType&&!r.firstChild){var s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}(e,d,t));var m=e.docView.nearestDesc(d,!0);return{pos:l,inside:m?m.posAtStart-m.border:-1}}function kn(e,t){var n=e.getClientRects()
;return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var In=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function An(e,t,n){var o=e.docView.domFromPos(t,n<0?-1:1),r=o.node,i=o.offset,a=Qt.webkit||Qt.gecko;if(3==r.nodeType){if(!a||!In.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){var s=i,c=i,l=n<0?1:-1;return n<0&&!i?(c++,l=-1):n>=0&&i==r.nodeValue.length?(s--,l=1):n<0?s--:c++,Nn(kn(cn(r,s,c),l),l<0)}var d=kn(cn(r,i,i),n);if(Qt.gecko&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){var u=kn(cn(r,i-1,i-1),-1);if(u.top==d.top){var p=kn(cn(r,i,i+1),-1);if(p.top!=d.top)return Nn(p,p.left<u.left)}}return d}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==pn(r))){var h=r.childNodes[i-1];if(1==h.nodeType)return Mn(h.getBoundingClientRect(),!1)}if(i<pn(r)){var f=r.childNodes[i];if(1==f.nodeType)return Mn(f.getBoundingClientRect(),!0)}return Mn(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==pn(r))){
var m=r.childNodes[i-1],g=3==m.nodeType?cn(m,pn(m)-(a?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(g)return Nn(kn(g,1),!1)}if(i<pn(r)){for(var b=r.childNodes[i];b.pmViewDesc&&b.pmViewDesc.ignoreForCoords;)b=b.nextSibling;var v=b?3==b.nodeType?cn(b,0,a?0:1):1==b.nodeType?b:null:null;if(v)return Nn(kn(v,-1),!0)}return Nn(kn(3==r.nodeType?cn(r):r,-n),n>=0)}function Nn(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function Mn(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Rn(e,t,n){var o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}var jn=/[\u0590-\u08ac]/;var Pn=null,Dn=null,Ln=!1;function _n(e,t,n){return Pn==t&&Dn==n?Ln:(Pn=t,Dn=n,Ln="up"==n||"down"==n?function(e,t,n){var o=t.selection,r="up"==n?o.$from:o.$to;return Rn(e,t,(function(){
for(var t=e.docView.domFromPos(r.pos,"up"==n?-1:1).node;;){var o=e.docView.nearestDesc(t,!0);if(!o)break;if(o.node.isBlock){t=o.dom;break}t=o.dom.parentNode}for(var i=An(e,r.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=cn(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var l=s[c];if(l.bottom>l.top+1&&("up"==n?i.top-l.top>2*(l.bottom-i.top):l.bottom-i.bottom>2*(i.bottom-l.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var o=t.selection.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,i=!r,a=r==o.parent.content.size,s=e.root.getSelection();return jn.test(o.parent.textContent)&&s.modify?Rn(e,t,(function(){var t=s.getRangeAt(0),r=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||r==s.focusNode&&i==s.focusOffset
;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?i:a}(e,t,n))}var Bn=function(e,t,n,o){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},Hn={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Bn.prototype.matchesWidget=function(){return!1},Bn.prototype.matchesMark=function(){return!1},Bn.prototype.matchesNode=function(){return!1},Bn.prototype.matchesHack=function(e){return!1},Bn.prototype.parseRule=function(){return null},Bn.prototype.stopEvent=function(){return!1},Hn.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},Hn.border.get=function(){return 0},Bn.prototype.destroy=function(){this.parent=null,
this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},Bn.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var o=this.children[t];if(o==e)return n;n+=o.size}},Hn.posBefore.get=function(){return this.parent.posBeforeChild(this)},Hn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},Hn.posAfter.get=function(){return this.posBefore+this.size},Hn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},Bn.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,r;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(r=o.pmViewDesc)||r.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{
for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(e==this.dom&&this.contentDOM)s=t>rn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},Bn.prototype.nearestDesc=function(e,t){for(var n=!0,o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},Bn.prototype.getDesc=function(e){
for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},Bn.prototype.posFromDOM=function(e,t,n){for(var o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}return-1},Bn.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}},Bn.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,o=0,r=0;n<this.children.length;n++){var i=this.children[n],a=r+i.size;if(a>e||i instanceof Kn){o=e-r;break}r=a}if(o)return this.children[n].domFromPos(o-this.children[n].border,t);for(var s=void 0;n&&!(s=this.children[n-1]).size&&s instanceof $n&&s.widget.type.side>=0;n--);if(t<=0){for(var c,l=!0;(c=n?this.children[n-1]:null)&&c.dom.parentNode!=this.contentDOM;n--,l=!1);return c&&t&&l&&!c.border&&!c.domAtom?c.domFromPos(c.size,t):{node:this.contentDOM,
offset:c?rn(c.dom)+1:0}}for(var d,u=!0;(d=n<this.children.length?this.children[n]:null)&&d.dom.parentNode!=this.contentDOM;n++,u=!1);return d&&u&&!d.border&&!d.domAtom?d.domFromPos(0,t):{node:this.contentDOM,offset:d?rn(d.dom):this.contentDOM.childNodes.length}},Bn.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,i=n,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==o&&e<=c){var l=i+s.border;if(e>=l&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,l);e=i;for(var d=a;d>0;d--){var u=this.children[d-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){o=rn(u.dom)+1;break}e-=u.size}-1==o&&(o=0)}if(o>-1&&(c>t||a==this.children.length-1)){t=c;for(var p=a+1;p<this.children.length;p++){var h=this.children[p];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){
r=rn(h.dom);break}t+=h.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}},Bn.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},Bn.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,o=t.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]},Bn.prototype.setSelection=function(e,t,n,o){for(var r=Math.min(e,t),i=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var c=this.children[a],l=s+c.size;if(r>s&&i<l)return c.setSelection(e-s-c.border,t-s-c.border,n,o);s=l}var d=this.domFromPos(e,e?-1:1),u=t==e?d:this.domFromPos(t,t?-1:1),p=n.getSelection(),h=!1;if((Qt.gecko||Qt.safari)&&e==t){var f=d.node,m=d.offset;if(3==f.nodeType){
if((h=m&&"\n"==f.nodeValue[m-1])&&m==f.nodeValue.length)for(var g=f,b=void 0;g;g=g.parentNode){if(b=g.nextSibling){"BR"==b.nodeName&&(d=u={node:b.parentNode,offset:rn(b)+1});break}var v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{var y=f.childNodes[m-1];h=y&&("BR"==y.nodeName||"false"==y.contentEditable)}}if(Qt.gecko&&p.focusNode&&p.focusNode!=u.node&&1==p.focusNode.nodeType){var E=p.focusNode.childNodes[p.focusOffset];E&&"false"==E.contentEditable&&(o=!0)}if(o||h&&Qt.safari||!ln(d.node,d.offset,p.anchorNode,p.anchorOffset)||!ln(u.node,u.offset,p.focusNode,p.focusOffset)){var w=!1;if((p.extend||e==t)&&!h){p.collapse(d.node,d.offset);try{e!=t&&p.extend(u.node,u.offset),w=!0}catch(C){if(!(C instanceof DOMException))throw C}}if(!w){if(e>t){var O=d;d=u,u=O}var S=document.createRange();S.setEnd(u.node,u.offset),S.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(S)}}},Bn.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},
Hn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},Bn.prototype.markDirty=function(e,t){for(var n=0,o=0;o<this.children.length;o++){var r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+r.border,s=i-r.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-a,t-a):r.dirty=3);r.dirty=r.dom==r.contentDOM&&r.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},Bn.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Hn.domAtom.get=function(){return!1},Hn.ignoreForCoords.get=function(){return!1},Object.defineProperties(Bn.prototype,Hn);var Jn=[],$n=function(e){function t(t,n,o,r){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(o,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!n.type.spec.raw){if(1!=a.nodeType){
var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,Jn,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(Bn),Fn=function(e){function t(t,n,o,r){e.call(this,t,Jn,n,null),this.textDOM=o,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}}
;return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(Bn),zn=function(e){function t(t,n,o,r){e.call(this,t,[],o,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,r){var i=r.nodeViews[n.type.name],a=i&&i(n,r,o);return a&&a.dom||(a=zt.b.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){
if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,o){var r=t.create(this.parent,this.mark,!0,o),i=this.children,a=this.size;n<a&&(i=ao(i,n,a,o)),e>0&&(i=ao(i,0,e,o));for(var s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r},t}(Bn),Un=function(e){function t(t,n,o,r,i,a,s,c,l){e.call(this,t,n.isLeaf?Jn:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=o,this.innerDeco=r,a&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,o,r,i,a){var s,c,l=i.nodeViews[n.type.name],d=l&&l(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:a}),o,r),u=d&&d.dom,p=d&&d.contentDOM;if(n.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")
}else u=document.createTextNode(n.text);else u||(u=(s=zt.b.renderSpec(document,n.type.spec.toDOM(n))).dom,p=s.contentDOM);p||n.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable=!1),n.type.spec.draggable&&(u.draggable=!0));var h=u;return u=to(u,o,n),d?c=new qn(e,n,o,r,u,p,h,d,i,a+1):n.isText?new Wn(e,n,o,r,u,h,i):new t(e,n,o,r,u,p,h,i,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?zt.c.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&no(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){
var n=this,o=this.node.inlineContent,r=t,i=e.composing&&this.localCompositionInfo(e,t),a=i&&i.pos>-1?i:null,s=i&&i.pos<0,c=new ro(this,a&&a.node);!function(e,t,n,o){var r=t.locals(e),i=0;if(0==r.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);o(s,r,t.forChild(i,s),a),i+=s.nodeSize}return}for(var c=0,l=[],d=null,u=0;;){if(c<r.length&&r[c].to==i){for(var p=r[c++],h=void 0;c<r.length&&r[c].to==i;)(h||(h=[p])).push(r[c++]);if(h){h.sort(io);for(var f=0;f<h.length;f++)n(h[f],u,!!d)}else n(p,u,!!d)}var m=void 0,g=void 0;if(d)g=-1,m=d,d=null;else{if(!(u<e.childCount))break;g=u,m=e.child(u++)}for(var b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;c<r.length&&r[c].from<=i&&r[c].to>i;)l.push(r[c++]);var v=i+m.nodeSize;if(m.isText){var y=v;c<r.length&&r[c].from<y&&(y=r[c].from);for(var E=0;E<l.length;E++)l[E].to<y&&(y=l[E].to);y<v&&(d=m.cut(y-i),m=m.cut(0,y-i),v=y,g=-1)}o(m,l.length?m.isInline&&!m.isLeaf?l.filter((function(e){return!e.inline})):l.slice():Jn,t.forChild(i,m),g),i=v}
}(this.node,this.innerDeco,(function(t,i,a){t.spec.marks?c.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&!a&&c.syncToMarks(i==n.node.childCount?zt.d.none:n.node.child(i).marks,o,e),c.placeWidget(t,e,r)}),(function(t,n,a,l){var d;c.syncToMarks(t.marks,o,e),c.findNodeMatch(t,n,a,l)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(t,n,a,d,e)||c.updateNextNode(t,n,a,e,l)||c.addNode(t,n,a,e,r),r+=t.nodeSize})),c.syncToMarks(Jn,o,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),Gn(this.contentDOM,this.children,e),Qt.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,o=n.from,r=n.to
;if(!(!(e.state.selection instanceof d.TextSelection)||o<t||r>t+this.node.content.size)){var i=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=pn(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){if(this.node.inlineContent){var s=a.nodeValue,c=function(e,t,n,o){for(var r=0,i=0;r<e.childCount&&i<=o;){var a=e.child(r++),s=i;if(i+=a.nodeSize,a.isText){for(var c=a.text;r<e.childCount;){var l=e.child(r++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){var d=c.lastIndexOf(t,o-s);if(d>=0&&d+t.length+s>=n)return s+d}}}return-1}(this.node.content,s,o-t,r-t);return c<0?null:{node:a,pos:c,text:s}}return{node:a,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,o=t.pos,r=t.text;if(!this.getDesc(n)){
for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new Fn(this,i,n,r);e.compositionNodes.push(a),this.children=ao(this.children,o,o+r.length,e,a)}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)},t.prototype.updateInner=function(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!no(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Zn(this.dom,this.nodeDOM,Qn(this.outerDeco,this.node,t),Qn(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),
!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(Bn);function Vn(e,t,n,o,r){return to(o,t,e),new Un(null,e,t,n,o,o,o,r,0)}var Wn=function(e){function t(t,n,o,r,i,a,s){e.call(this,t,n,o,r,i,null,a,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),
0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,o){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,o)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,o){var r=this.node.cut(e,n),i=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},
Object.defineProperties(t.prototype,n),t}(Un),Kn=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}(Bn),qn=function(e){function t(t,n,o,r,i,a,s,c,l,d){e.call(this,t,n,o,r,i,a,s,l,d),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,o,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,o);return i&&this.updateInner(t,n,o,r),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,o,r)},t.prototype.selectNode=function(){
this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,o,r){this.spec.setSelection?this.spec.setSelection(t,n,o):e.prototype.setSelection.call(this,t,n,o,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Un);function Gn(e,t,n){for(var o=e.firstChild,r=!1,i=0;i<t.length;i++){var a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=o;)o=oo(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(s,o);if(a instanceof zn){var c=o?o.previousSibling:e.lastChild;Gn(a.contentDOM,a.children,n),o=c?c.nextSibling:e.firstChild}}for(;o;)o=oo(o),r=!0
;r&&n.trackWrites==e&&(n.trackWrites=null)}function Yn(e){e&&(this.nodeName=e)}Yn.prototype=Object.create(null);var Xn=[new Yn];function Qn(e,t,n){if(0==e.length)return Xn;for(var o=n?Xn[0]:new Yn,r=[o],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var s in a.nodeName&&r.push(o=new Yn(a.nodeName)),a){var c=a[s];null!=c&&(n&&1==r.length&&r.push(o=new Yn(t.isInline?"span":"div")),"class"==s?o.class=(o.class?o.class+" ":"")+c:"style"==s?o.style=(o.style?o.style+";":"")+c:"nodeName"!=s&&(o[s]=c))}}return r}function Zn(e,t,n,o){if(n==Xn&&o==Xn)return t;for(var r=t,i=0;i<o.length;i++){var a=o[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&r!=e&&(c=r.parentNode)&&c.tagName.toLowerCase()==a.nodeName||((c=document.createElement(a.nodeName)).pmIsDeco=!0,c.appendChild(r),s=Xn[0]),r=c}eo(r,s||Xn[0],a)}return r}function eo(e,t,n){for(var o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o)
;for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):Jn,a=n.class?n.class.split(" ").filter(Boolean):Jn,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var l,d=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=d.exec(t.style);)e.style.removeProperty(l[1]);n.style&&(e.style.cssText+=n.style)}}function to(e,t,n){return Zn(e,e,Xn,Qn(t,n,1!=e.nodeType))}function no(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function oo(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var ro=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){
for(var n=e.childCount,o=t.length,r=new Map;n>0&&o>0;o--){var i=t[o-1],a=i.node;if(a){if(a!=e.child(n-1))break;--n,r.set(i,n)}}return{index:n,matched:r}}(e.node.content,e.children)};function io(e,t){return e.type.side-t.type.side}function ao(e,t,n,o,r){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],l=s,d=s+=c.size;l>=n||d<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,o)),r&&(i.push(r),r=null),d>n&&i.push(c.slice(n-l,c.size,o)))}return i}function so(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var r=e.docView.nearestDesc(n.focusNode),i=r&&0==r.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var s,c,l=o.resolve(a);if(fn(n)){for(s=l;r&&!r.node;)r=r.parent;if(r&&r.node.isAtom&&d.NodeSelection.isSelectable(r.node)&&r.parent&&(!r.node.isInline||!function(e,t,n){for(var o=0==t,r=t==pn(e);o||r;){if(e==n)return!0;var i=rn(e);if(!(e=e.parentNode))return!1;o=o&&0==i,r=r&&i==pn(e)}}(n.focusNode,n.focusOffset,r.dom))){var u=r.posBefore
;c=new d.NodeSelection(a==u?l:o.resolve(u))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;s=o.resolve(p)}c||(c=bo(e,s,l,"pointer"==t||e.state.selection.head<l.pos&&!i?1:-1));return c}function co(e){return e.editable?e.hasFocus():vo(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function lo(e,t){var n=e.state.selection;if(mo(e,n),co(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,rn(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&Qt.ie&&Qt.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{var o,r,i=n.anchor,a=n.head;!uo||n instanceof d.TextSelection||(n.$from.parent.inlineContent||(o=po(e,n.from)),
n.empty||n.$from.parent.inlineContent||(r=po(e,n.to))),e.docView.setSelection(i,a,e.root,t),uo&&(o&&fo(o),r&&fo(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){co(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}ro.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ro.prototype.destroyRest=function(){
this.destroyBetween(this.index,this.top.children.length)},ro.prototype.syncToMarks=function(e,t,n){for(var o=0,r=this.stack.length>>1,i=Math.min(r,e.length);o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[r])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=zn.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}},ro.prototype.findNodeMatch=function(e,t,n,o){var r=this.top.children,i=-1;if(o>=this.preMatch.index){for(var a=this.index;a<r.length;a++)if(this.preMatch.matched.get(r[a])==o){r[a].matchesNode(e,t,n)&&(i=a);break}
}else for(var s=this.index,c=Math.min(r.length,s+5);s<c;s++){var l=r[s];if(l.matchesNode(e,t,n)&&!this.preMatch.matched.has(l)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},ro.prototype.updateNodeAt=function(e,t,n,o,r){return!!this.top.children[o].update(e,t,n,r)&&(this.destroyBetween(this.index,o),this.index=o+1,!0)},ro.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o;return-1}e=t}},ro.prototype.updateNextNode=function(e,t,n,o,r){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof Un){var s=this.preMatch.matched.get(a);if(null!=s&&s!=r)return!1;var c=a.dom
;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&no(t,a.outerDeco)))&&a.update(e,t,n,o))return this.destroyBetween(this.index,i),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},ro.prototype.addNode=function(e,t,n,o,r){this.top.children.splice(this.index++,0,Un.create(this.top,e,t,n,o,r)),this.changed=!0},ro.prototype.placeWidget=function(e,t,n){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){var r=new $n(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},ro.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof zn;)e=e.children[e.children.length-1];e&&e instanceof Wn&&!/\n$/.test(e.node.text)||((Qt.safari||Qt.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),
this.addHackNode("BR"))},ro.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Kn(this.top,Jn,t,null)),this.changed=!0}};var uo=Qt.safari||Qt.chrome&&Qt.chrome_version<63;function po(e,t){var n=e.docView.domFromPos(t,0),o=n.node,r=n.offset,i=r<o.childNodes.length?o.childNodes[r]:null,a=r?o.childNodes[r-1]:null;if(Qt.safari&&i&&"false"==i.contentEditable)return ho(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return ho(i);if(a)return ho(a)}}function ho(e){return e.contentEditable="true",Qt.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function fo(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function mo(e,t){if(t instanceof d.NodeSelection){
var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(go(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else go(e)}function go(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function bo(e,t,n,o){return e.someProp("createSelectionBetween",(function(o){return o(e,t,n)}))||d.TextSelection.between(t,n,o)}function vo(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function yo(e,t){var n=e.selection,o=n.$anchor,r=n.$head,i=t>0?o.max(r):o.min(r),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&d.Selection.findFrom(a,t)}function Eo(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function wo(e,t,n){var o=e.state.selection
;if(!(o instanceof d.TextSelection)){if(o instanceof d.NodeSelection&&o.node.isInline)return Eo(e,new d.TextSelection(t>0?o.$to:o.$from));var r=yo(e.state,t);return!!r&&Eo(e,r)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=yo(e.state,t);return!!(i&&i instanceof d.NodeSelection)&&Eo(e,i)}if(!(Qt.mac&&n.indexOf("m")>-1)){var a,s=o.$head,c=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!c||c.isText)return!1;var l=t<0?s.pos-c.nodeSize:s.pos;return!!(c.isAtom||(a=e.docView.descAt(l))&&!a.contentDOM)&&(d.NodeSelection.isSelectable(c)?Eo(e,new d.NodeSelection(t<0?e.state.doc.resolve(s.pos-c.nodeSize):s)):!!Qt.webkit&&Eo(e,new d.TextSelection(e.state.doc.resolve(t<0?l:l+c.nodeSize))))}}function Oo(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function So(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Co(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){var r,i,a=!1
;for(Qt.gecko&&1==n.nodeType&&o<Oo(n)&&So(n.childNodes[o])&&(a=!0);;)if(o>0){if(1!=n.nodeType)break;var s=n.childNodes[o-1];if(So(s))r=n,i=--o;else{if(3!=s.nodeType)break;o=(n=s).nodeValue.length}}else{if(xo(n))break;for(var c=n.previousSibling;c&&So(c);)r=n.parentNode,i=rn(c),c=c.previousSibling;if(c)o=Oo(n=c);else{if((n=n.parentNode)==e.dom)break;o=0}}a?ko(e,t,n,o):r&&ko(e,t,r,i)}}function To(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){for(var r,i,a=Oo(n);;)if(o<a){if(1!=n.nodeType)break;if(!So(n.childNodes[o]))break;r=n,i=++o}else{if(xo(n))break;for(var s=n.nextSibling;s&&So(s);)r=s.parentNode,i=rn(s)+1,s=s.nextSibling;if(s)o=0,a=Oo(n=s);else{if((n=n.parentNode)==e.dom)break;o=a=0}}r&&ko(e,t,r,i)}}function xo(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ko(e,t,n,o){if(fn(t)){var r=document.createRange();r.setEnd(n,o),r.setStart(n,o),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection();var i=e.state
;setTimeout((function(){e.state==i&&lo(e)}),50)}function Io(e,t,n){var o=e.state.selection;if(o instanceof d.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(Qt.mac&&n.indexOf("m")>-1)return!1;var r=o.$from,i=o.$to;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=yo(e.state,t);if(a&&a instanceof d.NodeSelection)return Eo(e,a)}if(!r.parent.inlineContent){var s=t<0?r:i,c=o instanceof d.AllSelection?d.Selection.near(s,t):d.Selection.findFrom(s,t);return!!c&&Eo(e,c)}return!1}function Ao(e,t){if(!(e.state.selection instanceof d.TextSelection))return!0;var n=e.state.selection,o=n.$head,r=n.$anchor,i=n.empty;if(!o.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(o.pos-a.nodeSize,o.pos):s.delete(o.pos,o.pos+a.nodeSize),e.dispatch(s),!0}return!1}function No(e,t,n){e.domObserver.stop(),t.contentEditable=n,
e.domObserver.start()}function Mo(e,t){var n=t.keyCode,o=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Qt.mac&&72==n&&"c"==o?Ao(e,-1)||Co(e):46==n||Qt.mac&&68==n&&"c"==o?Ao(e,1)||To(e):13==n||27==n||(37==n?wo(e,-1,o)||Co(e):39==n?wo(e,1,o)||To(e):38==n?Io(e,-1,o)||Co(e):40==n?function(e){if(Qt.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n&&1==n.nodeType&&0==o&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;No(e,r,!0),setTimeout((function(){return No(e,r,!1)}),20)}}}(e)||Io(e,1,o)||To(e):o==(Qt.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Ro(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Qt.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}
if(e.parentNode.lastChild==e||Qt.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function jo(e,t,n,o,r){if(t<0){var i=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=so(e,i);if(a&&!e.state.selection.eq(a)){var s=e.state.tr.setSelection(a);"pointer"==i?s.setMeta("pointer",!0):"key"==i&&s.scrollIntoView(),e.dispatch(s)}}else{var c=e.state.doc.resolve(t),l=c.sharedDepth(n);t=c.before(l+1),n=e.state.doc.resolve(n).after(l+1);var u=e.state.selection,p=function(e,t,n){var o=e.docView.parseRange(t,n),r=o.node,i=o.fromOffset,a=o.toOffset,s=o.from,c=o.to,l=e.root.getSelection(),d=null,u=l.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(d=[{node:u,offset:l.anchorOffset}],fn(l)||d.push({node:l.focusNode,offset:l.focusOffset})),Qt.chrome&&8===e.lastKeyCode)for(var p=a;p>i;p--){var h=r.childNodes[p-1],f=h.pmViewDesc;if("BR"==h.nodeName&&!f){a=p;break}
if(!f||f.size)break}var m=e.state.doc,g=e.someProp("domParser")||zt.a.fromSchema(e.state.schema),b=m.resolve(s),v=null,y=g.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:i,to:a,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:d,ruleFromNode:Ro,context:b});if(d&&null!=d[0].pos){var E=d[0].pos,w=d[1]&&d[1].pos;null==w&&(w=E),v={anchor:E+s,head:w+s}}return{doc:y,sel:v,from:s,to:c}}(e,t,n);if(Qt.chrome&&e.cursorWrapper&&p.sel&&p.sel.anchor==e.cursorWrapper.deco.from){var h=e.cursorWrapper.deco.type.toDOM.nextSibling,f=h&&h.nodeValue?h.nodeValue.length:1;p.sel={anchor:p.sel.anchor+f,head:p.sel.anchor+f}}var m,g,b=e.state.doc,v=b.slice(p.from,p.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(m=e.state.selection.to,g="end"):(m=e.state.selection.from,g="start"),e.lastKeyCode=null;var y=function(e,t,n,o,r){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b
;if("end"==r){o-=s+Math.max(0,i-Math.min(s,c))-i}if(s<i&&e.size<t.size){c=(i-=o<=i&&o>=s?i-o:0)+(c-s),s=i}else if(c<i){s=(i-=o<=i&&o>=c?i-o:0)+(s-c),c=i}return{start:i,endA:s,endB:c}}(v.content,p.doc.content,p.from,m,g);if(!y){if(!(o&&u instanceof d.TextSelection&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||p.sel&&p.sel.anchor!=p.sel.head){if((Qt.ios&&e.lastIOSEnter>Date.now()-225||Qt.android)&&r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,mn(13,"Enter"))})))return void(e.lastIOSEnter=0);if(p.sel){var E=Po(e,e.state.doc,p.sel);E&&!E.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(E))}return}y={start:u.from,endA:u.to,endB:u.to}}e.domChangeCount++,
e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof d.TextSelection&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Qt.ie&&Qt.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>p.from&&" \xa0"==p.doc.textBetween(y.start-p.from-1,y.start-p.from+1)&&(y.start--,y.endA--,y.endB--);var w,O=p.doc.resolveNoCache(y.start-p.from),S=p.doc.resolveNoCache(y.endB-p.from),C=O.sameParent(S)&&O.parent.inlineContent;if((Qt.ios&&e.lastIOSEnter>Date.now()-225&&(!C||r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!C&&O.pos<p.doc.content.size&&(w=d.Selection.findFrom(p.doc.resolve(O.pos+1),1,!0))&&w.head==S.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,mn(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,o,r){
if(!o.parent.isTextblock||n-t<=r.pos-o.pos||Do(o,!0,!1)<r.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Do(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Do(a,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(a.parent.content)}(b,y.start,y.endA,O,S)&&e.someProp("handleKeyDown",(function(t){return t(e,mn(8,"Backspace"))})))Qt.android&&Qt.chrome&&e.domObserver.suppressSelectionUpdates();else{Qt.chrome&&Qt.android&&y.toB==y.from&&(e.lastAndroidDelete=Date.now()),Qt.android&&!C&&O.start()!=S.start()&&0==S.parentOffset&&O.depth==S.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==y.endA&&(y.endB-=2,S=p.doc.resolveNoCache(y.endB-p.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,mn(13,"Enter"))}))}),20));var T,x,k,I,A=y.start,N=y.endA;if(C)if(O.pos==S.pos)Qt.ie&&Qt.ie_version<=11&&0==O.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){
return lo(e)}),20)),T=e.state.tr.delete(A,N),x=b.resolve(y.start).marksAcross(b.resolve(y.endA));else if(y.endA==y.endB&&(I=b.resolve(y.start))&&(k=function(e,t){for(var n,o,r,i=e.firstChild.marks,a=t.firstChild.marks,s=i,c=a,l=0;l<a.length;l++)s=a[l].removeFromSet(s);for(var d=0;d<i.length;d++)c=i[d].removeFromSet(c);if(1==s.length&&0==c.length)o=s[0],n="add",r=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=s.length||1!=c.length)return null;o=c[0],n="remove",r=function(e){return e.mark(o.removeFromSet(e.marks))}}for(var u=[],p=0;p<t.childCount;p++)u.push(r(t.child(p)));if(zt.c.from(u).eq(e))return{mark:o,type:n}}(O.parent.content.cut(O.parentOffset,S.parentOffset),I.parent.content.cut(I.parentOffset,y.endA-I.start()))))T=e.state.tr,"add"==k.type?T.addMark(A,N,k.mark):T.removeMark(A,N,k.mark);else if(O.parent.child(O.index()).isText&&O.index()==S.index()-(S.textOffset?0:1)){var M=O.parent.textBetween(O.parentOffset,S.parentOffset)
;if(e.someProp("handleTextInput",(function(t){return t(e,A,N,M)})))return;T=e.state.tr.insertText(M,A,N)}if(T||(T=e.state.tr.replace(A,N,p.doc.slice(y.start-p.from,y.endB-p.from))),p.sel){var R=Po(e,T.doc,p.sel);R&&!(Qt.chrome&&Qt.android&&e.composing&&R.empty&&(y.start!=y.endB||e.lastAndroidDelete<Date.now()-100)&&(R.head==A||R.head==T.mapping.map(N)-1)||Qt.ie&&R.empty&&R.head==A)&&T.setSelection(R)}x&&T.ensureMarks(x),e.dispatch(T.scrollIntoView())}}}function Po(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:bo(e,t.resolve(n.anchor),t.resolve(n.head))}function Do(e,t,n){for(var o=e.depth,r=t?e.end():e.pos;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n)for(var i=e.node(o).maybeChild(e.indexAfter(o));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function Lo(e,t){for(var n=[],o=t.content,r=t.openStart,i=t.openEnd;r>1&&i>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,i--;var a=o.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),
o=a.content}var s=e.someProp("clipboardSerializer")||zt.b.fromSchema(e.state.schema),c=Vo(),l=c.createElement("div");l.appendChild(s.serializeFragment(o,{document:c}));for(var d,u=l.firstChild;u&&1==u.nodeType&&(d=zo[u.nodeName.toLowerCase()]);){for(var p=d.length-1;p>=0;p--){for(var h=c.createElement(d[p]);l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),"tbody"!=d[p]&&(r++,i++)}u=l.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",r+" "+i+" "+JSON.stringify(n)),{dom:l,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function _o(t,n,o,r,i){var a,s,c=i.parent.type.spec.code;if(!o&&!n)return null;var l=n&&(r||c||!o);if(l){if(t.someProp("transformPastedText",(function(e){n=e(n,c||r)})),c)return n?new zt.i(zt.c.from(t.state.schema.text(n.replace(/\r\n?/g,"\n"))),0,0):zt.i.empty;var d=t.someProp("clipboardTextParser",(function(e){return e(n,i,r)}));if(d)s=d;else{
var u=i.marks(),p=t.state.schema,h=zt.b.fromSchema(p);a=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=a.appendChild(document.createElement("p"));e&&t.appendChild(h.serializeNode(p.text(e,u)))}))}}else t.someProp("transformPastedHTML",(function(e){o=e(o)})),a=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,o=Vo().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&zo[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(o.innerHTML=e,n)for(var i=0;i<n.length;i++)o=o.querySelector(n[i])||o;return o}(o),Qt.webkit&&function(e){for(var t=e.querySelectorAll(Qt.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var o=t[n];1==o.childNodes.length&&"\xa0"==o.textContent&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}(a)
;var f=a&&a.querySelector("[data-pm-slice]"),m=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!s){var g=t.someProp("clipboardParser")||t.someProp("domParser")||zt.a.fromSchema(t.state.schema);s=g.parseSlice(a,{preserveWhitespace:!(!l&&!m),context:i,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling)return{ignore:!0}}})}if(m)s=function(t,n){if(!t.size)return t;var o,r=t.content.firstChild.type.schema;try{o=JSON.parse(n)}catch(e){return t}for(var i=t.content,a=t.openStart,s=t.openEnd,c=o.length-2;c>=0;c-=2){var l=r.nodes[o[c]];if(!l||l.hasRequiredAttrs())break;i=zt.c.from(l.create(o[c+1],i)),a++,s++}return new zt.i(i,a,s)}(Fo(s,+m[1],+m[2]),m[3]);else if((s=zt.i.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n).contentMatchAt(t.index(n)),r=void 0,i=[];if(e.forEach((function(e){if(i){var t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&Ho(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{
i.length&&(i[i.length-1]=Jo(i[i.length-1],r.length));var a=Bo(e,n);i.push(a),o=o.matchType(a.type,a.attrs),r=n}}})),i)return{v:zt.c.from(i)}},o=t.depth;o>=0;o--){var r=n(o);if(r)return r.v}return e}(s.content,i),!0)).openStart||s.openEnd){for(var b=0,v=0,y=s.content.firstChild;b<s.openStart&&!y.type.spec.isolating;b++,y=y.firstChild);for(var E=s.content.lastChild;v<s.openEnd&&!E.type.spec.isolating;v++,E=E.lastChild);s=Fo(s,b,v)}return t.someProp("transformPasted",(function(e){s=e(s)})),s}function Bo(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,zt.c.from(e));return e}function Ho(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var i=Ho(e,t,n,o.lastChild,r+1);if(i)return o.copy(o.content.replaceChild(o.childCount-1,i));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(zt.c.from(Bo(n,e,r+1))))}}function Jo(e,t){if(0==t)return e
;var n=e.content.replaceChild(e.childCount-1,Jo(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(zt.c.empty,!0);return e.copy(n.append(o))}function $o(e,t,n,o,r,i){var a=t<0?e.firstChild:e.lastChild,s=a.content;return r<o-1&&(s=$o(s,t,n,o,r+1,i)),r>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,e.childCount>1||i<=r).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(zt.c.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Fo(e,t,n){return t<e.openStart&&(e=new zt.i($o(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new zt.i($o(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var zo={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Uo=null;function Vo(){return Uo||(Uo=document.implementation.createHTMLDocument("title"))}var Wo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,
attributeOldValue:!0,subtree:!0},Ko=Qt.ie&&Qt.ie_version<=11,qo=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};qo.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},qo.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Go=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);Qt.ie&&Qt.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new qo,Ko&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",
oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Go.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Go.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Go.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Wo),Ko&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Go.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ko&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Go.prototype.connectSelection=function(){
this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Go.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Go.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Go.prototype.onSelectionChange=function(){if(function(e){return(!e.editable||e.root.activeElement==e.dom)&&vo(e)}(this.view)){if(this.suppressingSelectionUpdates)return lo(this.view);if(Qt.ie&&Qt.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&ln(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Go.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Go.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0
;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Go.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&vo(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,a=[];if(this.view.editable)for(var s=0;s<e.length;s++){var c=this.registerMutation(e[s],a);c&&(o=o<0?c.from:Math.min(c.from,o),r=r<0?c.to:Math.max(c.to,r),c.typeOver&&(i=!0))}if(Qt.gecko&&a.length>1){var l=a.filter((function(e){return"BR"==e.nodeName}));if(2==l.length){var d=l[0],u=l[1];d.parentNode&&d.parentNode.parentNode==u.parentNode?u.remove():d.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(Yo)return
;Yo=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||lo(this.view),this.currentSelection.set(t))}},Go.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var o=0;o<e.addedNodes.length;o++)t.push(e.addedNodes[o]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var r=e.previousSibling,i=e.nextSibling
;if(Qt.ie&&Qt.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var s=e.addedNodes[a],c=s.previousSibling,l=s.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(r=c),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l)}var d=r&&r.parentNode==e.target?rn(r)+1:0,u=n.localPosFromDOM(e.target,d,-1),p=i&&i.parentNode==e.target?rn(i):e.target.childNodes.length;return{from:u,to:n.localPosFromDOM(e.target,p,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Yo=!1;var Xo={},Qo={};function Zo(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function er(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return tr(e,t)})}))}function tr(e,t){return e.someProp("handleDOMEvents",(function(n){var o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}
function nr(e){return{left:e.clientX,top:e.clientY}}function or(e,t,n,o,r){if(-1==o)return!1;for(var i=e.state.doc.resolve(o),a=function(o){if(e.someProp(t,(function(t){return o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function rr(e,t,n){e.focused||e.focus();var o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function ir(e,t,n,o,r){return or(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(r?function(e,t){if(-1==t)return!1;var n,o,r=e.state.selection;r instanceof d.NodeSelection&&(n=r.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var s=a>i.depth?i.nodeAfter:i.node(a);if(d.NodeSelection.isSelectable(s)){o=n&&r.$from.depth>0&&a>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?i.before(r.$from.depth):i.before(a);break}}return null!=o&&(rr(e,d.NodeSelection.create(e.state.doc,o),"pointer"),!0)
}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&d.NodeSelection.isSelectable(o))&&(rr(e,new d.NodeSelection(n),"pointer"),!0)}(e,n))}function ar(e,t,n,o){return or(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(function(n){return n(e,t,o)}))}function sr(e,t,n,o){return or(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t,n){if(0!=n.button)return!1;var o=e.state.doc;if(-1==t)return!!o.inlineContent&&(rr(e,d.TextSelection.create(o,0,o.content.size),"pointer"),!0);for(var r=o.resolve(t),i=r.depth+1;i>0;i--){var a=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(a.inlineContent)rr(e,d.TextSelection.create(o,s+1,s+1+a.content.size),"pointer");else{if(!d.NodeSelection.isSelectable(a))continue;rr(e,d.NodeSelection.create(o,s),"pointer")}return!0}}(e,n,o)}function cr(e){return mr(e)}Qo.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,
!ur(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!Qt.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Mo(e,t)?t.preventDefault():Zo(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,mn(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Qo.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Qo.keypress=function(e,t){if(!(ur(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||Qt.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof d.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}}
;var lr=Qt.mac?"metaKey":"ctrlKey";Xo.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=cr(e),o=Date.now(),r="singleClick";o-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(t,e.lastClick)&&!t[lr]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:o,x:t.clientX,y:t.clientY,type:r};var i=e.posAtCoords(nr(t));i&&("singleClick"==r?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new dr(e,i,t,n)):("doubleClick"==r?ar:sr)(e,i.pos,i.inside,t)?t.preventDefault():Zo(e,"pointer"))};var dr=function(e,t,n,o){var r,i,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[lr],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)r=e.state.doc.nodeAt(t.inside),i=t.inside;else{var s=e.state.doc.resolve(t.pos);r=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var c=o?null:n.target,l=c?e.docView.nearestDesc(c,!0):null
;this.target=l?l.dom:null;var u=e.state.selection;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||u instanceof d.NodeSelection&&u.from<=i&&u.to>i)&&(this.mightDrag={node:r,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Qt.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zo(e,"pointer")};function ur(e,t){return!!e.composing||!!(Qt.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}dr.prototype.done=function(){var e=this
;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return lo(e.view)})),this.view.mouseDown=null},dr.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(nr(e))),
this.allowDefault||!t?Zo(this.view,"pointer"):ir(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Qt.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Qt.chrome&&!(this.view.state.selection instanceof d.TextSelection)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(rr(this.view,d.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Zo(this.view,"pointer")}},dr.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Zo(this.view,"pointer"),0==e.buttons&&this.done()},Xo.touchdown=function(e){cr(e),Zo(e,"pointer")},Xo.contextmenu=function(e){return cr(e)};var pr=Qt.android?5e3:-1;function hr(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return mr(e)}),t))}function fr(e){for(e.composing&&(e.composing=!1,
e.compositionEndedAt=function(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function mr(e,t){if(e.domObserver.forceFlush(),fr(e),t||e.docView.dirty){var n=so(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Qo.compositionstart=Qo.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),mr(e,!0),e.markCursor=null;else if(mr(e),Qt.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var o=e.root.getSelection(),r=o.focusNode,i=o.focusOffset;r&&1==r.nodeType&&0!=i;){var a=i<0?r.lastChild:r.childNodes[i-1];if(!a)break;if(3==a.nodeType){
o.collapse(a,a.nodeValue.length);break}r=a,i=-1}e.composing=!0}hr(e,pr)},Qo.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,hr(e,20))};var gr=Qt.ie&&Qt.ie_version<15||Qt.ios&&Qt.webkit_version<604;function br(e,t,n,o){var r=_o(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,o,r||zt.i.empty)})))return!0;if(!r)return!1;var i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),a=i?e.state.tr.replaceSelectionWith(i,e.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Xo.copy=Qo.cut=function(e,t){var n=e.state.selection,o="cut"==t.type;if(!n.empty){var r=gr?null:t.clipboardData,i=Lo(e,n.content()),a=i.dom,s=i.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){
var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Qo.paste=function(e,t){var n=gr?null:t.clipboardData;n&&br(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?br(e,o.value,null,t):br(e,o.textContent,o.innerHTML,t)}),50)}}(e,t)}
;var vr=function(e,t){this.slice=e,this.move=t},yr=Qt.mac?"altKey":"ctrlKey";for(var Er in Xo.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,r=o.empty?null:e.posAtCoords(nr(t));if(r&&r.pos>=o.from&&r.pos<=(o instanceof d.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(d.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var i=e.docView.nearestDesc(t.target,!0);i&&i.node.type.spec.draggable&&i!=e.docView&&e.dispatch(e.state.tr.setSelection(d.NodeSelection.create(e.state.doc,i.posBefore)))}var a=e.state.selection.content(),s=Lo(e,a),c=s.dom,l=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(gr?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",gr||t.dataTransfer.setData("text/plain",l),e.dragging=new vr(a,!t[yr])}},Xo.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},
Qo.dragover=Qo.dragenter=function(e,t){return t.preventDefault()},Qo.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var o=e.posAtCoords(nr(t));if(o){var r=e.state.doc.resolve(o.pos);if(r){var i=n&&n.slice;i?e.someProp("transformPasted",(function(e){i=e(i)})):i=_o(e,t.dataTransfer.getData(gr?"Text":"text/plain"),gr?null:t.dataTransfer.getData("text/html"),!1,r);var a=n&&!t[yr];if(e.someProp("handleDrop",(function(n){return n(e,t,i||zt.i.empty,a)})))t.preventDefault();else if(i){t.preventDefault();var s=i?Object(Xt.l)(e.state.doc,r.pos,i):r.pos;null==s&&(s=r.pos);var c=e.state.tr;a&&c.deleteSelection();var l=c.mapping.map(s),u=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,p=c.doc;if(u?c.replaceRangeWith(l,l,i.content.firstChild):c.replaceRange(l,l,i),!c.doc.eq(p)){var h=c.doc.resolve(l);if(u&&d.NodeSelection.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new d.NodeSelection(h));else{
var f=c.mapping.map(s);c.mapping.maps[c.mapping.maps.length-1].forEach((function(e,t,n,o){return f=o})),c.setSelection(bo(e,h,c.doc.resolve(f)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}}},Xo.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&lo(e)}),20))},Xo.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},Xo.beforeinput=function(e,t){if(Qt.chrome&&Qt.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,mn(8,"Backspace"))})))){var t=e.state.selection.$cursor
;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Qo)Xo[Er]=Qo[Er];function wr(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var o in t)if(!(o in e))return!1;return!0}var Or=function(e,t){this.spec=t||Ir,this.side=this.spec.side||0,this.toDOM=e};Or.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,this.side<0?-1:1),i=r.pos;return r.deleted?null:new Tr(i-n,i-n,this)},Or.prototype.valid=function(){return!0},Or.prototype.eq=function(e){return this==e||e instanceof Or&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wr(this.spec,e.spec))},Or.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var Sr=function(e,t){this.spec=t||Ir,this.attrs=e};Sr.prototype.map=function(e,t,n,o){var r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new Tr(r,i,this)},Sr.prototype.valid=function(e,t){return t.from<t.to},Sr.prototype.eq=function(e){
return this==e||e instanceof Sr&&wr(this.attrs,e.attrs)&&wr(this.spec,e.spec)},Sr.is=function(e){return e.type instanceof Sr};var Cr=function(e,t){this.spec=t||Ir,this.attrs=e};Cr.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,1);if(r.deleted)return null;var i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new Tr(r.pos-n,i.pos-n,this)},Cr.prototype.valid=function(e,t){var n,o=e.content.findIndex(t.from),r=o.index,i=o.offset;return i==t.from&&!(n=e.child(r)).isText&&i+n.nodeSize==t.to},Cr.prototype.eq=function(e){return this==e||e instanceof Cr&&wr(this.attrs,e.attrs)&&wr(this.spec,e.spec)};var Tr=function(e,t,n){this.from=e,this.to=t,this.type=n},xr={spec:{configurable:!0},inline:{configurable:!0}};Tr.prototype.copy=function(e,t){return new Tr(e,t,this.type)},Tr.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Tr.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},
Tr.widget=function(e,t,n){return new Tr(e,e,new Or(t,n))},Tr.inline=function(e,t,n,o){return new Tr(e,t,new Sr(n,o))},Tr.node=function(e,t,n,o){return new Tr(e,t,new Cr(n,o))},xr.spec.get=function(){return this.type.spec},xr.inline.get=function(){return this.type instanceof Sr},Object.defineProperties(Tr.prototype,xr);var kr=[],Ir={},Ar=function(e,t){this.local=e&&e.length?e:kr,this.children=t&&t.length?t:kr};Ar.create=function(e,t){return t.length?Dr(t,e,0,Ir):Nr},Ar.prototype.find=function(e,t,n){var o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o},Ar.prototype.findInner=function(e,t,n,o,r){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,o+c,r)}},Ar.prototype.map=function(e,t,n){return this==Nr||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Ir)},
Ar.prototype.mapInner=function(e,t,n,o,r){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,o);s&&s.type.valid(t,s)?(i||(i=[])).push(s):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,o,r,i,a){for(var s=e.slice(),c=function(e,t,n,o){for(var a=0;a<s.length;a+=3){var c=s[a+1],l=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:n>=r&&(l=o-n-(t-e))&&(s[a]+=l,s[a+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var d=!1,u=0;u<s.length;u+=3)if(-1==s[u+1]){var p=n.map(e[u]+i),h=p-r;if(h<0||h>=o.content.size){d=!0;continue}var f=n.map(e[u+1]+i,-1)-r,m=o.content.findIndex(h),g=m.index,b=m.offset,v=o.maybeChild(g);if(v&&b==h&&b+v.nodeSize==f){var y=s[u+2].mapInner(n,v,p+1,e[u]+i+1,a);y!=Nr?(s[u]=h,s[u+1]=f,s[u+2]=y):(s[u+1]=-2,d=!0)}else d=!0}if(d){var E=Dr(function(e,t,n,o,r,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(o,r,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[i].spec)}
for(var l=0;l<e.children.length;l+=3)s(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}(s,e,t||[],n,r,i,a),o,0,a);t=E.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var O=0,S=0;O<E.children.length;O+=3){for(var C=E.children[O];S<s.length&&s[S]<C;)S+=3;s.splice(S,0,E.children[O],E.children[O+1],E.children[O+2])}}return new Ar(t&&t.sort(Lr),s)}(this.children,i,e,t,n,o,r):i?new Ar(i.sort(Lr)):Nr},Ar.prototype.add=function(e,t){return t.length?this==Nr?Ar.create(e,t):this.addInner(e,t,0):this},Ar.prototype.addInner=function(e,t,n){var o,r=this,i=0;e.forEach((function(e,a){var s,c=a+n;if(s=jr(t,e,c)){for(o||(o=r.children.slice());i<o.length&&o[i]<a;)i+=3;o[i]==a?o[i+2]=o[i+2].addInner(e,s,c+1):o.splice(i,0,a,a+e.nodeSize,Dr(s,e,c+1,Ir)),i+=3}}));for(var a=Rr(i?Pr(t):t,-n),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new Ar(a.length?this.local.concat(a).sort(Lr):this.local,o||this.children)},
Ar.prototype.remove=function(e){return 0==e.length||this==Nr?this:this.removeInner(e,0)},Ar.prototype.removeInner=function(e,t){for(var n=this.children,o=this.local,r=0;r<n.length;r+=3){for(var i=void 0,a=n[r]+t,s=n[r+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>a&&l.to<s&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var d=n[r+2].removeInner(i,a+1);d!=Nr?n[r+2]=d:(n.splice(r,3),r-=3)}}if(o.length)for(var u=0,p=void 0;u<e.length;u++)if(p=e[u])for(var h=0;h<o.length;h++)o[h].eq(p,t)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Ar(o,n):Nr},Ar.prototype.forChild=function(e,t){if(this==Nr)return this;if(t.isLeaf)return Ar.empty;for(var n,o,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>i&&c.type instanceof Sr){
var l=Math.max(i,c.from)-i,d=Math.min(a,c.to)-i;l<d&&(o||(o=[])).push(c.copy(l,d))}}if(o){var u=new Ar(o.sort(Lr));return n?new Mr([u,n]):u}return n||Nr},Ar.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Ar)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Ar.prototype.locals=function(e){return _r(this.localsInner(e))},Ar.prototype.localsInner=function(e){if(this==Nr)return kr;if(e.inlineContent||!this.local.some(Sr.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Sr||t.push(this.local[n]);return t};var Nr=new Ar;Ar.empty=Nr,Ar.removeOverlap=_r;var Mr=function(e){this.members=e};function Rr(e,t){if(!t||!e.length)return e
;for(var n=[],o=0;o<e.length;o++){var r=e[o];n.push(new Tr(r.from+t,r.to+t,r.type))}return n}function jr(e,t,n){if(t.isLeaf)return null;for(var o=n+t.nodeSize,r=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<o&&((r||(r=[])).push(a),e[i]=null);return r}function Pr(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Dr(e,t,n,o){var r=[],i=!1;t.forEach((function(t,a){var s=jr(e,t,a+n);if(s){i=!0;var c=Dr(s,t,n+a+1,o);c!=Nr&&r.push(a,a+t.nodeSize,c)}}));for(var a=Rr(i?Pr(e):e,-n).sort(Lr),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(o.onRemove&&o.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new Ar(a,r):Nr}function Lr(e,t){return e.from-t.from||e.to-t.to}function _r(e){for(var t=e,n=0;n<t.length-1;n++){var o=t[n];if(o.from!=o.to)for(var r=n+1;r<t.length;r++){var i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),Br(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),
t[r]=i.copy(i.from,o.to),Br(t,r+1,i.copy(o.to,i.to)))}}return t}function Br(e,t,n){for(;t<e.length&&Lr(n,e[t])>0;)t++;e.splice(t,0,n)}function Hr(e){var t=[];return e.someProp("decorations",(function(n){var o=n(e.state);o&&o!=Nr&&t.push(o)})),e.cursorWrapper&&t.push(Ar.create(e.state.doc,[e.cursorWrapper.deco])),Mr.from(t)}Mr.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,Ir)}));return Mr.from(n)},Mr.prototype.forChild=function(e,t){if(t.isLeaf)return Ar.empty;for(var n=[],o=0;o<this.members.length;o++){var r=this.members[o].forChild(e,t);r!=Nr&&(r instanceof Mr?n=n.concat(r.members):n.push(r))}return Mr.from(n)},Mr.prototype.eq=function(e){if(!(e instanceof Mr)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Mr.prototype.locals=function(e){for(var t,n=!0,o=0;o<this.members.length;o++){var r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),
n=!1);for(var i=0;i<r.length;i++)t.push(r[i])}else t=r}return t?_r(n?t:t.sort(Lr)):kr},Mr.from=function(e){switch(e.length){case 0:return Nr;case 1:return e[0];default:return new Mr(e)}};var Jr=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Wr),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ur(this),this.markCursor=null,this.cursorWrapper=null,zr(this),this.nodeViews=Vr(this),this.docView=Vn(this.state.doc,Fr(this),Hr(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,
e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Go(e,(function(t,n,o,r){return jo(e,t,n,o,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Xo[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||tr(e,t)||!e.editable&&t.type in Qo||n(e,t)})};for(var n in Xo)t(n);Qt.safari&&e.dom.addEventListener("input",(function(){return null})),er(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},$r={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Fr(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){
if("function"==typeof n&&(n=n(e.state)),n)for(var o in n)"class"==o&&(t.class+=" "+n[o]),"style"==o?t.style=(t.style?t.style+";":"")+n[o]:t[o]||"contenteditable"==o||"nodeName"==o||(t[o]=String(n[o]))})),[Tr.node(0,e.state.doc.content.size,t)]}function zr(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Tr.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Ur(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Vr(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Wr(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function Kr(e){if(!(e.selection instanceof o("n1Ll").a))return null;const t=[]
;return e.selection.forEachCell(((e,n)=>{t.push(Tr.node(n,n+e.nodeSize,{class:"selectedCell"}))})),Ar.create(e.doc,t)}$r.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Jr.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&er(this),this._props=e,e.plugins&&(e.plugins.forEach(Wr),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},Jr.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var o in t.state=this.state,e)t[o]=e[o];this.update(t)},Jr.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Jr.prototype.updateStateInner=function(e,t){var n=this,o=this.state,r=!1,i=!1;if(e.storedMarks&&this.composing&&(fr(this),i=!0),this.state=e,t){var a=Vr(this);(function(e,t){var n=0,o=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var i in t)o++;return n!=o
})(a,this.nodeViews)&&(this.nodeViews=a,r=!0),er(this)}this.editable=Ur(this),zr(this);var s=Hr(this),c=Fr(this),l=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",u=r||!this.docView.matchesNode(e.doc,c,s);!u&&e.selection.eq(o.selection)||(i=!0);var p="preserve"==l&&i&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top),i=(o.left+o.right)/2,a=r+1;a<Math.min(innerHeight,o.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var c=s.getBoundingClientRect();if(c.top>=r-20){t=s,n=c.top;break}}}return{refDOM:t,refTop:n,stack:En(e.dom)}}(this);if(i){this.domObserver.stop();var h=u&&(Qt.ie||Qt.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&function(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(o.selection,e.selection);if(u){
var f=Qt.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!r&&this.docView.update(e.doc,c,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Vn(e.doc,c,s,this.dom,this)),f&&!this.trackWrites&&(h=!0)}h||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.root.getSelection();return ln(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?lo(this,h):(mo(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){var m=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof d.NodeSelection?yn(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),m):yn(this,this.coordsAtPos(e.selection.head,1),m))}else p&&function(e){
var t=e.refDOM,n=e.refTop,o=e.stack,r=t?t.getBoundingClientRect().top:0;wn(o,0==r?0:r-n)}(p)},Jr.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Jr.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var o=0;o<this.directPlugins.length;o++){var r=this.directPlugins[o];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}},Jr.prototype.someProp=function(e,t){var n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins
;if(a)for(var s=0;s<a.length;s++){var c=a[s].props[e];if(null!=c&&(n=t?t(c):c))return n}},Jr.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Jr.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(On)return e.focus(On);var t=En(e);e.focus(null==On?{get preventScroll(){return On={preventScroll:!0},!0}}:void 0),On||(On=!1,wn(t,0))}(this.dom),lo(this),this.domObserver.start()},$r.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Jr.prototype.posAtCoords=function(e){return xn(this,e)},Jr.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),An(this,e,t)},Jr.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},
Jr.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Jr.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o},Jr.prototype.endOfTextblock=function(e,t){return _n(this,t||this.state,e)},Jr.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hr(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},$r.isDestroyed.get=function(){return null==this.docView},Jr.prototype.dispatchEvent=function(e){return function(e,t){tr(e,t)||!Xo[t.type]||!e.editable&&t.type in Qo||Xo[t.type](e,t)}(this,e)},
Jr.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Jr.prototype,$r);const qr=new d.PluginKey("selectingCells"),Gr=new d.PluginKey("fix-tables");function Yr(e,t,n,o){let r=n;const i=e.childCount,a=t.childCount;e:for(let s=0,c=0;s<a;s++){const n=t.child(s);for(let t=c,o=Math.min(i,s+3);t<o;t++)if(e.child(t)===n){c=t+1,r+=n.nodeSize;continue e}o(n,r),c<i&&e.child(c).sameMarkup(n)?Yr(e.child(c),n,r+1,o):n.nodesBetween(0,n.content.size,o,r+1),r+=n.nodeSize}}function Xr(e,t){let n;const r=(t,r)=>{"table"===t.type.spec.tableRole&&(n=function(e,t,n,r){let a=r;const s=o("wYWE").b.get(t);if(!s.problems)return a;a||(a=e.tr);const c=[];for(let o=0;o<s.height;o++)c.push(0);for(let u=0;u<s.problems.length;u++){const e=s.problems[u];if(e.type===o("wYWE").c.COLLISION){const r=e,i=t.nodeAt(e.pos);if(!i)throw new Error(`fixTable: unable to find cell at pos ${e.pos}`)
;for(let e=0;e<i.attrs.rowspan;e++)c[r.row+e]+=r.n;a.setNodeMarkup(a.mapping.map(n+1+e.pos),void 0,Object(o("11sg").c)(i.attrs,i.attrs.colspan-r.n,r.n))}else if(e.type===o("wYWE").c.MISSING){const t=e;c[t.row]+=t.n}else if(e.type===o("wYWE").c.OVERLONG_ROWSPAN){const o=e,r=t.nodeAt(o.pos);if(!r)throw new Error(`fixTable: unable to find cell at pos ${e.pos}`);a.setNodeMarkup(a.mapping.map(n+1+o.pos),void 0,i()(i()({},r.attrs),{},{rowspan:r.attrs.rowspan-o.n}))}else if(e.type===o("wYWE").c.COLWIDTH_MISMATCH){const o=t.nodeAt(e.pos);if(!o)throw new Error(`fixTable: unable to find cell at pos ${e.pos}`);a.setNodeMarkup(a.mapping.map(n+1+e.pos),void 0,i()(i()({},o.attrs),{},{colwidth:e.colwidth}))}}let l,d;for(let o=0;o<c.length;o++)c[o]&&(null==l&&(l=o),d=o);for(let i=0,u=n+1;i<s.height;i++){const n=t.child(i),r=u+n.nodeSize,s=c[i];if(s>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const c=[];for(let n=0;n<s;n++)c.push(Object(o("p81E").a)(e.schema)[t].createAndFill())
;const p=0!==i&&l!==i-1||d!==i?r-1:u+1;a.insert(a.mapping.map(p),c)}u=r}return a.setMeta(Gr,{fixTables:!0})}(e,t,r,n))};return t?t.doc!==e.doc&&Yr(t.doc,e.doc,0,r):e.doc.descendants(r),n}const Qr=Object(oe.a)({ArrowLeft:ei("horiz",-1),ArrowRight:ei("horiz",1),ArrowUp:ei("vert",-1),ArrowDown:ei("vert",1),"Shift-ArrowLeft":ti("horiz",-1),"Shift-ArrowRight":ti("horiz",1),"Shift-ArrowUp":ti("vert",-1),"Shift-ArrowDown":ti("vert",1),Backspace:ni,"Mod-Backspace":ni,Delete:ni,"Mod-Delete":ni});function Zr(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function ei(e,t){return(n,r,i)=>{if(r){const a=n.selection;if(a instanceof o("n1Ll").a)return Zr(n,r,d.Selection.near(a.$headCell,t));if("horiz"!==e&&!a.empty)return!1;const s=i?ii(i,e,t):null;if(null===s)return!1;if("horiz"===e)return Zr(n,r,d.Selection.near(n.doc.resolve(a.head+t),t));const c=n.doc.resolve(s),l=Object(o("EdO1").c)(c,e,t);let u
;return u=l?d.Selection.near(l,1):t<0?d.Selection.near(n.doc.resolve(c.before(-1)),-1):d.Selection.near(n.doc.resolve(c.after(-1)),1),Zr(n,r,u)}return!0}}function ti(e,t){return(n,r,i)=>{let a=n.selection;if(!(a instanceof o("n1Ll").a)){const r=i?ii(i,e,t):null;if(null===r)return!1;a=new(o("n1Ll").a)(n.doc.resolve(r))}const s=Object(o("EdO1").c)(a.$headCell,e,t);return!!s&&(!r||Zr(n,r,new(o("n1Ll").a)(a.$anchorCell,s)))}}function ni(e,t){const n=e.selection;if(!(n instanceof o("n1Ll").a))return!1;if(t){const{tr:r}=e,i=Object(o("p81E").a)(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(i)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new zt.i(i,0,0))})),r.docChanged&&t(r)}return!0}function oi(e,t){const{doc:n}=e.state,r=Object(o("EdO1").a)(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new(o("n1Ll").a)(r))),!0)}function ri(e,t){const n=t;if(n.ctrlKey||n.metaKey)return!1
;const r=ai(e,n.target),i=Object(o("EdO1").a)(e.state.selection.$anchor);if(n.shiftKey&&e.state.selection instanceof o("n1Ll").a)a(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!==i&&si(e,n).pos!==i.pos)a(i,n),n.preventDefault();else if(!r)return!1;function a(t,n){let r=si(e,n);const i=null==qr.getState(e.state);if(!r||!Object(o("OC6D").a)(t,r)){if(!i)return!1;r=t}const a=new(o("n1Ll").a)(t,r);if(i||!e.state.selection.eq(a)){const n=e.state.tr.setSelection(a);i&&n.setMeta(qr,t.pos),e.dispatch(n)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",c),null!=qr.getState(e.state)&&e.dispatch(e.state.tr.setMeta(qr,-1))}function c(t){const o=qr.getState(e.state);let i;if(null!=o)i=e.state.doc.resolve(o);else if(ai(e,t.target)!==r&&(i=si(e,n),!i))return void s();i&&a(i,t)}return e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),
e.root.addEventListener("mousemove",c),!1}function ii(e,t,n){if(!(e.state.selection instanceof d.TextSelection))return null;const{$head:o}=e.state.selection;for(let r=o.depth-1;r>=0;r--){const i=o.node(r);if((n<0?o.index(r):o.indexAfter(r))!==(n<0?0:i.childCount))return null;if("cell"===i.type.spec.tableRole||"header_cell"===i.type.spec.tableRole){const i=o.before(r),a="vert"===t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}function ai(e,t){let n=t;for(;n&&n!==e.dom;n=n.parentNode)if("TD"===n.nodeName||"TH"===n.nodeName)return n;return null}function si(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n?Object(o("EdO1").a)(e.state.doc.resolve(n.pos)):null}function ci({allowTableNodeSelection:e=!1}={}){return new d.Plugin({key:qr,state:{init:()=>null,apply(e,t){const n=e.getMeta(qr);if(null!=n)return-1===n?null:n;if(null==t||!e.docChanged)return t;const{deleted:o,pos:r}=e.mapping.mapResult(t);return o?null:r}},props:{decorations:Kr,
handleDOMEvents:{mousedown:ri},createSelectionBetween:e=>null!=qr.getState(e.state)?e.state.selection:null,handleTripleClick:oi,handleKeyDown:Qr,handlePaste:Yt},appendTransaction:(t,n,r)=>function(e,t,n){let r=t;const i=(r||e).selection,{doc:a}=r||e;let s,c;if(i instanceof d.NodeSelection&&(c=i.node.type.spec.tableRole),i instanceof d.NodeSelection&&c){if("cell"===c||"header_cell"===c)s=o("n1Ll").a.create(a,i.from);else if("row"===c){const e=a.resolve(i.from+1);s=o("n1Ll").a.rowSelection(e,e)}else if(!n){const e=o("wYWE").b.get(i.node),t=i.from+1,n=t+e.map[e.width*e.height-1];s=o("n1Ll").a.create(a,t+1,n)}}else i instanceof d.TextSelection&&function({$from:e,$to:t}){if(e.pos===t.pos||e.pos<e.pos-6)return!1;let n=e.pos,o=t.pos,{depth:r}=e;for(;r>=0&&!(e.after(r+1)<e.end(r));r--,n++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,o--);return n===o&&/row|table/.test(e.node(r).type.spec.tableRole)
}(i)?s=d.TextSelection.create(a,i.from):i instanceof d.TextSelection&&function({$from:e,$to:t}){let n,o;for(let r=e.depth;r>0;r--){const t=e.node(r);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}for(let r=t.depth;r>0;r--){const e=t.node(r);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){o=e;break}}return n!==o&&0===t.parentOffset}(i)&&(s=d.TextSelection.create(a,i.$from.start(),i.$from.end()));return s&&(r||(r=e.tr)).setSelection(s),r}(r,Xr(r,n),e)})}const li=(e={})=>e.advanced?i()({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,stickToolbarToBottom:!0,permittedLayouts:"all",allowControls:!0},e):e,di=e=>e&&e.hasOwnProperty("slice");const ui=new d.PluginKey("tableLocalIdPlugin"),pi=(e,t)=>e.steps.some((e=>function(e,t){let n=!1;return di(e)?(e.slice.content.descendants((e=>(e.type===t&&(n=!0),!n))),n):n}(e,t))),hi=e=>new d.Plugin({key:ui,state:{
init:()=>({parsedForLocalIds:!1}),apply(t,n){const o=t.getMeta(ui);if(o){if(Object.keys(o).some((e=>n[e]!==o[e]))){const t=i()(i()({},n),o);return e(ui,t),t}}return n}},view:()=>({update(e){const{state:t}=e,n=(e=>e&&ui.getState(e))(t);if(!n)return;if(n.parsedForLocalIds)return;const{table:r}=t.schema.nodes;Object(o("GsWa").a)((()=>{const n=t.tr;let a=!1;e.state.doc.descendants(((e,t)=>{const s=e.type===r,c=e.attrs.localId;return!(s&&!c)||(a=!0,n.setNodeMarkup(t,void 0,i()(i()({},e.attrs),{},{localId:o("klzq").b.generate()})),!1)})),a&&(n.setMeta("addToHistory",!1),e.dispatch(n))}))(),e.dispatch(t.tr.setMeta(ui,{parsedForLocalIds:!0}))}}),appendTransaction:(e,t,n)=>{let r=!1;const a=n.tr,{table:s}=n.schema.nodes,c=new Set;if(e.forEach((e=>{if(!e.docChanged)return;if("cut"===e.getMeta("uiEvent"))return;pi(e,s)&&n.doc.descendants(((e,t)=>{const n=e.type===s,l=e.attrs.localId;return!n||(l&&!c.has(l)?c.add(l):l&&!c.has(l)||(r=!0,a.setNodeMarkup(t,void 0,i()(i()({},e.attrs),{},{
localId:o("klzq").b.generate()}))),!1)}))})),r)return a}}),fi=(e,t)=>t.find(void 0,void 0,(t=>t.key.indexOf(e)>-1)),mi=e=>fi(o("EfLE").c.COLUMN_SELECTED,e),gi=e=>fi(o("EfLE").c.ALL_CONTROLS_HOVER,e),bi=(e,t,n)=>e.map((e=>{const r=[o("EfLE").b.HOVERED_CELL];let i;switch(n&&r.push(o("EfLE").b.HOVERED_CELL_IN_DANGER),r.push("column"===t?o("EfLE").b.HOVERED_COLUMN:"row"===t?o("EfLE").b.HOVERED_ROW:o("EfLE").b.HOVERED_TABLE),t){case"row":i=o("EfLE").c.ROW_CONTROLS_HOVER;break;case"column":i=o("EfLE").c.COLUMN_CONTROLS_HOVER;break;default:i=o("EfLE").c.TABLE_CONTROLS_HOVER}return ce.a.node(e.pos,e.pos+e.node.nodeSize,{class:r.join(" ")},{key:i})})),vi=e=>{const{selection:t,doc:n}=e,r=Object(o("zYPQ").c)(t),i=Object(o("n3wV").a)(t);if(!r||!i)return[];return o("wYWE").b.get(r.node).cellsInRect(i).map(((e,t)=>{const i=n.nodeAt(e+r.start);return ce.a.node(e+r.start,e+r.start+i.nodeSize,{class:o("EfLE").b.COLUMN_SELECTED},{key:`${o("EfLE").c.COLUMN_SELECTED}_${t}`})}))},yi=e=>{
const t=Object(o("Rl6m").a)(0)(e)||[];let n=0;return t.map((e=>{const t=e.node.attrs.colspan||1,r=document.createElement("div");return r.classList.add(o("EfLE").b.COLUMN_CONTROLS_DECORATIONS),r.dataset.startIndex=`${n}`,n+=t,r.dataset.endIndex=`${n}`,ce.a.widget(e.pos+1,r,{key:`${o("EfLE").c.COLUMN_CONTROLS_DECORATIONS}_${n}`,side:-100})}))},Ei=(e,t,n,o)=>{const r=fi(o,t);return t.remove(r).add(e,n)},wi=(e,t)=>{const n=Object(o("zYPQ").c)(e);if(!n||null===t.right)return[];const r=t.right-1,i=o("wYWE").b.get(n.node);return(e=>Array.from(Array(e).keys()))(i.height).map((e=>i.map[i.width*e+r])).filter(((e,t)=>{if(r===i.width)return!0;return e!==i.map[i.width*t+r+1]})).map((e=>({pos:e+n.start,node:n.node.nodeAt(e)}))).map(((e,n)=>{if(e&&e.node)return ce.a.node(e.pos,e.pos+e.node.nodeSize,{class:o("EfLE").b.WITH_RESIZE_LINE},{key:`${o("EfLE").c.COLUMN_RESIZING_HANDLE_LINE}_${t.right}_${n}`})})).filter(o("D4z0").t)},Oi=e=>({decorationSet:t,tr:n})=>e.reduce(((e,t)=>t({decorationSet:e,tr:n
})),t),Si=({decorationSet:e})=>e.remove(gi(e)),Ci=({decorationSet:e,tr:t})=>(e=>e.selection instanceof o("n1Ll").a&&e.selection.isColSelection())(t)?Ei(t.doc,e,vi(t),o("EfLE").c.COLUMN_SELECTED):e,Ti=({decorationSet:e,tr:t})=>Object(o("zYPQ").c)(t.selection)?Ei(t.doc,e,yi(t.selection),o("EfLE").c.COLUMN_CONTROLS_DECORATIONS):e,xi=({decorationSet:e})=>e.remove(mi(e)),ki=({decorationSet:e,tr:t})=>(e=>!!mi(e).length)(e)?xi({decorationSet:e,tr:t}):e,Ii=new d.PluginKey("tableDecorationsPlugin"),Ai=e=>Ii.getState(e),Ni=(e,t,n)=>{if(e.docChanged||e.selection instanceof o("n1Ll").a)return(({decorationSet:e,tr:t})=>Oi([xi,Si,Ci,Ti])({decorationSet:ce.b.empty,tr:t}))({decorationSet:t,tr:e});if(e.selectionSet){if(!e.docChanged&&e.selectionSet&&e.getMeta("pointer")||n.selection instanceof o("n1Ll").a)return ki({decorationSet:t,tr:e})}return t};var Mi=o("ABBN");const Ri=(e,t)=>n=>{if(e){const r=Object(o("p81E").a)(t).cell.createAndFill()
;if(r&&!e.node.content.eq(r.content))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r.content),Object(o("oSJA").a)(n)}return n},ji=(e,t)=>{const n=Object(o("977U").a)(e.tr);return!!n&&(t&&t(n),!0)},Pi=e=>{const{$from:t}=e.selection;for(let n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return Object(o("oSJA").a)(e.delete(t.before(n),t.after(n)))}return e},Di=e=>(t,n)=>r=>{const i=Object(o("zYPQ").c)(r.selection),a="row"===e;if(i){const e=o("wYWE").b.get(i.node);if(t>=0&&t<(a?e.height:e.width)){let s=a?0:t,c=a?t:0,l=a?e.width:t+1,d=a?t+1:e.height;if(n){const t=Object(o("zYPQ").a)(r.selection.$from);if(!t)return r;const n=e.findCell(t.pos-i.start);a?(c=Math.min(c,n.top),d=Math.max(d,n.bottom)):(s=Math.min(s,n.left),l=Math.max(l,n.right))}const u=e.cellsInRect({left:s,top:c,right:a?l:s+1,bottom:a?c+1:d}),p=d-c==1?u:e.cellsInRect({left:a?s:l-1,top:a?d-1:c,right:l,bottom:d}),h=i.start+u[0],f=i.start+p[p.length-1],m=r.doc.resolve(h),g=r.doc.resolve(f)
;return Object(o("oSJA").a)(r.setSelection(new(o("n1Ll").a)(g,m)))}}return r},Li=Di("column"),_i=Di("row"),Bi=[[],[]],Hi=e=>({decorationSet:t,tr:n})=>Ei(n.doc,t,e,o("EfLE").c.COLUMN_RESIZING_HANDLE),Ji=e=>({decorationSet:t,tr:n})=>Ei(n.doc,t,e,o("EfLE").c.LAST_CELL_ELEMENT),$i=e=>({tr:t,decorationSet:n})=>{const[r,i]=e<0?Bi:((e,t)=>{const n=[[],[]],r=Object(o("zYPQ").c)(e.selection);if(!r||!r.node)return n;const i=o("wYWE").b.get(r.node);if(!i.width)return n;const a=(e,t,n,r,i)=>{const a=document.createElement("div");a.classList.add(o("EfLE").b.RESIZE_HANDLE_DECORATION),a.dataset.startIndex=`${e.left}`,a.dataset.endIndex=`${e.right}`;const s=r+i.nodeSize-1;return ce.a.widget(s,a,{key:`${o("EfLE").c.COLUMN_RESIZING_HANDLE}_${n}_${t}`})},s=(e,t,n)=>{let r;return n.forEach(((e,o,i)=>{if(i===n.childCount-1){const n=o+t+1;r={from:n,to:n+e.nodeSize}}})),r?ce.a.node(r.from,r.to,{class:o("EfLE").b.LAST_ITEM_IN_CELL},{key:`${o("EfLE").c.LAST_CELL_ELEMENT}_${e.left}_${e.right}`}):null},c=[],l=[]
;for(let o=0;o<i.height;o++){const n={};for(let d=0;d<i.width;d++){const u=i.map[i.width*o+d];if(n[u])continue;n[u]=!0;const p=r.start+u,h=e.doc.nodeAt(p);if(!h)continue;const f=d,m=(h.attrs.colspan||1)+f;if(m!==t.right)continue;const g=a({left:f,right:m},d,o,p,h),b=s({left:f,right:m},p,h);c.push(g),l.push(b)}}return[c,l.filter(o("D4z0").t)]})(t,{right:e});return Oi([Hi(r),Ji(i)])({decorationSet:n,tr:t})},Fi=(e,t,n)=>Ei(e.doc,Ai(e),t,n),zi=e=>Object(o("aTJx").a)({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}}),Ui=(e,t)=>(t&&t(Pi(e.tr)),!0),Vi=(e,t)=>!!Object(o("+yxU").c)(e.selection)&&Ui(e,t),Wi=(e,t)=>{const{$cursor:n}=e.selection;if(!n||n.parentOffset>0)return!1;let r,i;if(!Object(o("aMLK").f)(n.parent))for(let d=n.depth-1;!r&&d>=0&&(n.index(d)>0&&(i=n.before(d+1),r=n.node(d).child(n.index(d)-1)),!Object(o("aMLK").f)(n.node(d)));d--);if(!r||r.type!==e.schema.nodes.table)return!1;const a=n.node(n.depth-1),{listItem:s}=e.schema.nodes
;if(n.parent.type!==e.schema.nodes.paragraph||a&&a.type!==e.schema.nodes.doc)return!(!a||a.type!==s)&&Object(o("bIcM").a)()(e,t);const{tr:c}=e,l=(i||0)-4;c.setSelection(new d.TextSelection(e.doc.resolve(l)));const{$from:u}=c.selection,p=u.start(-1)+u.parent.nodeSize-1;return t&&t(c.setSelection(new d.TextSelection(e.doc.resolve(p)))),!0},Ki=e=>Object(o("aTJx").a)((t=>e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}),(e=>e.setMeta("addToHistory",!1))),qi=()=>Object(o("aTJx").a)({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(e=>e.setMeta("addToHistory",!1))),Gi=(e,t)=>Object(o("aTJx").a)({type:"SET_TABLE_SIZE",data:{tableHeight:e,tableWidth:t}},(e=>e.setMeta("addToHistory",!1))),Yi=(e,t)=>{const n=[],r=o("wYWE").b.get(e);for(let o=0;o<r.height;o++){const i=e.child(o),a=[];for(let n=0;n<r.width;n++){if(!t[o][n])continue;const i=r.map[o*r.width+n],s=t[o][n],c=e.nodeAt(i);if(!s||!c)continue;const l=c.type.createChecked(Object.assign({},s.attrs),s.content,s.marks);a.push(l)}
n.push(i.type.createChecked(i.attrs,a,i.marks))}return e.type.createChecked(e.attrs,n,e.marks)},Xi=e=>{const t=o("wYWE").b.get(e),n=[];for(let o=0;o<t.height;o++){const r=[],i={};for(let n=0;n<t.width;n++){const a=t.map[o*t.width+n],s=e.nodeAt(a),c=t.findCell(a);s&&!i[a]&&c.top===o?(i[a]=!0,r.push(s)):r.push(null)}n.push(r)}return n};let Qi;function Zi(e){const t=o("O8Sv").a.getState(e);return t?e=>{const{url:n}=e;if(n){const e=t.cards.find((({url:e})=>e===n));if(e&&e.title)return e.title}return null}:()=>null}!function(e){e.ASC="asc",e.DESC="desc"}(Qi||(Qi={}));function ea(e){return(t,n)=>{let r,a,s=t.selection;if(s instanceof o("n1Ll").a){if(s.$anchorCell.pos!==s.$headCell.pos)return!1;r=s.$anchorCell.nodeAfter,a=s.$anchorCell.pos}else{if(r=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(s.$from),!r)return!1;const e=Object(o("EdO1").a)(s.$from);a=e&&e.pos}
if(r&&1===r.attrs.colspan&&1===r.attrs.rowspan)return!1;if(r&&n){let c=r.attrs,l=[],d=c.colwidth;c.rowspan&&c.rowspan>1&&(c=i()(i()({},c),{},{rowspan:1})),c.colspan&&c.colspan>1&&(c=i()(i()({},c),{},{colspan:1}));let u=Object(o("gtpc").a)(t),p=t.tr;for(let e=0;e<u.right-u.left;e++)l.push(d?i()(i()({},c),{},{colwidth:d&&d[e]?[d[e]]:null}):c);let h=null;for(let t=u.top;t<u.bottom;t++){let n=u.map.positionAt(t,u.left,u.table);t===u.top&&(n+=r.nodeSize);for(let o=u.left,i=0;o<u.right;o++,i++){if(o===u.left&&t===u.top)continue;const a=e({node:r,row:t,col:o}).createAndFill(l[i]);a&&p.insert(h=p.mapping.map(n+u.tableStart,1),a)}}"number"==typeof a&&p.setNodeMarkup(a,e({node:r,row:u.top,col:u.left}),l[0]);const f=h&&p.doc.resolve(h);s instanceof o("n1Ll").a&&f instanceof zt.g&&p.setSelection(new(o("n1Ll").a)(p.doc.resolve(s.$anchorCell.pos),f)),n(p)}return!0}}const ta=(e,t)=>{const n=Object(o("aTJx").c)(e),{tableHeader:r,tableCell:i}=e.schema.nodes
;return!t||ea((({row:e,col:t})=>0===e&&n.isHeaderRowEnabled||0===t&&n.isHeaderColumnEnabled?r:i))(e,t)};function na(e,t,n){const o=t.map.cellsInRect({left:0,top:0,right:"row"===e?t.map.width:1,bottom:"column"===e?t.map.height:1});for(let r=0;r<o.length;r++){const e=t.table.nodeAt(o[r]);if(e&&e.type!==n.header_cell)return!1}return!0}function oa(e){return function(t,n){if(!Object(o("OC6D").b)(t))return!1;if(n){let r=Object(o("p81E").a)(t.schema),i=Object(o("gtpc").a)(t),a=t.tr,s=na("row",i,r),c=na("column",i,r),l=("column"===e?s:"row"===e&&c)?1:0;const d="column"===e?new(o("wYWE").a)(0,l,1,i.map.height):"row"===e?new(o("wYWE").a)(l,0,i.map.width,1):i;let u;u="column"===e?c?r.cell:r.header_cell:"row"===e?s?r.cell:r.header_cell:r.cell,i.map.cellsInRect(d).forEach((e=>{const t=e+i.tableStart,n=a.doc.nodeAt(t);n&&a.setNodeMarkup(t,u,n.attrs)})),n(a)}return!0}}const ra=e=>{switch(e){case"default":return"wide";case"wide":return"full-width";case"full-width":default:return"default"}
},ia=(e,t)=>oa("row")(e,(n=>Object(o("aTJx").a)({type:"TOGGLE_HEADER_ROW"},(()=>n.setMeta("scrollIntoView",!1)))(e,t))),aa=(e,t)=>oa("column")(e,(n=>Object(o("aTJx").a)({type:"TOGGLE_HEADER_COLUMN"},(()=>n.setMeta("scrollIntoView",!1)))(e,t))),sa=(e,t)=>{const{tr:n}=e,{node:r,pos:a}=Object(o("zYPQ").c)(e.selection);return n.setNodeMarkup(a,e.schema.nodes.table,i()(i()({},r.attrs),{},{isNumberColumnEnabled:!r.attrs.isNumberColumnEnabled})),n.setMeta("scrollIntoView",!1),t&&t(n),!0},ca=(e,t)=>{const n=Object(o("zYPQ").c)(e.selection);if(!n)return!1;const r=ra(n.node.attrs.layout);return Object(o("aTJx").a)({type:"SET_TABLE_LAYOUT",data:{layout:r}},(t=>(t.setNodeMarkup(n.pos,e.schema.nodes.table,i()(i()({},n.node.attrs),{},{layout:r})),t.setMeta("scrollIntoView",!1))))(e,t)},la=()=>Object(o("aTJx").a)({type:"TOGGLE_CONTEXTUAL_MENU"},(e=>e.setMeta("addToHistory",!1))),da=e=>Object(o("jegY").a)({type:"STOP_RESIZING"},(t=>(e||t).setMeta("scrollIntoView",!1))),ua=(e,t)=>Object(o("jegY").a)({
type:"SET_LAST_CLICK",data:{lastClick:e}},t);function pa(e){const{selection:t}=e;if(!(t instanceof o("n1Ll").a)||t.$anchorCell.pos===t.$headCell.pos)return!1;const n=Object(o("n3wV").a)(t);if(!n)return!1;const r=t.$anchorCell.node(-1);return!function({width:e,height:t,map:n},o){let r=o.top*e+o.left,i=r,a=(o.bottom-1)*e+o.left,s=r+(o.right-o.left-1);for(let c=o.top;c<o.bottom;c++){if(o.left>0&&n[i]===n[i-1]||o.right<e&&n[s]===n[s+1])return!0;i+=e,s+=e}for(let c=o.left;c<o.right;c++){if(o.top>0&&n[r]===n[r-e]||o.bottom<t&&n[a]===n[a+e])return!0;r++,a++}return!1}(o("wYWE").b.get(r),n)}function ha(e){const{content:t}=e;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function fa(e,t,n=1){const o=i()(i()({},e),{},{colspan:(e.colspan||1)+n});if(o.colwidth){o.colwidth=o.colwidth.slice();for(let e=0;e<n;e++)o.colwidth.splice(t,0,0)}return o}function ma(e){const t=o("wYWE").b.get(e),n=function(e){const t=o("wYWE").b.get(e),n=[]
;for(let o=t.width-1;o>=0;o--){const r=t.cellsInRect({left:o,right:o+1,top:0,bottom:t.height});if(r.length){const t=r.map((t=>{const n=e.nodeAt(t);if(n)return n.attrs.colspan})),i=Math.min(...t);n[o+1]?n[o]=1:n[o]=i}}return n}(e);if(!n.some((e=>e>1)))return e;const r=[];for(let o=0;o<t.height;o++){const a={},s=Object.keys(n).map(Number);for(let r in s){const c=s[r],l=t.map[c+o*t.width],d=t.findCell(l),u=a[d.left]||e.nodeAt(l);if(u&&d.top===o)if(n[c]>1){const e=u.attrs.colspan-n[c]+1;if(e<1)return null;const{colwidth:t}=u.attrs,o=u.type.createChecked(i()(i()({},u.attrs),{},{colspan:e,colwidth:t?t.slice(0,e):null}),u.content,u.marks);a[d.left]=o}else a[d.left]=u}const c=Object.keys(a).map((e=>a[e])),l=e.child(o);l&&r.push(l.type.createChecked(l.attrs,c,l.marks))}return r.length?e.type.createChecked(e.attrs,r,e.marks):null}const ga=(e,t=!1)=>n=>{const r=Object(o("zYPQ").c)(n.selection);if(!r)return n;const a=[],s=o("wYWE").b.get(r.node);for(let o=e.top;o<e.bottom;o++)if(t){
const e=r.node.nodeAt(s.map[o*s.width]);e&&e.type!==e.type.schema.nodes.tableHeader&&a.push(o)}else a.push(o);if(!a.length)return n;const c=[],l={},u={};for(let e=0;e<s.height;e++){const t=[],n=r.node.child(e);for(let o=0;o<s.width;o++){const n=s.map[e*s.width+o],c=r.node.nodeAt(n);if(!c)continue;const d=s.cellsInRect({left:0,top:e,right:s.width,bottom:e+1});if(-1!==a.indexOf(e)||l[n])d.indexOf(n)>-1&&(u[n]=!0);else{if(d.indexOf(n)>-1){let o=0;if(a.forEach((t=>{e<t&&c.attrs.rowspan+e-1>=t&&(o+=1)})),o>0){const e=c.type.createChecked(i()(i()({},c.attrs),{},{rowspan:c.attrs.rowspan-o}),c.content,c.marks);t.push(e),l[n]=!0;continue}}else if(u[n]){const e=i()(i()({},c.attrs),{},{colspan:1,rowspan:1});if(c.attrs.colwidth){const t=o>0?o-s.colCount(n):0;e.colwidth=c.attrs.colwidth.slice().splice(t,1)}const r=c.type.createChecked(e,c.type.schema.nodes.paragraph.createChecked(),c.marks);t.push(r);continue}l[n]||(l[n]=!0,t.push(c))}}t.length&&c.push(n.type.createChecked(n.attrs,t,n.marks))}
if(!c.length)return Object(o("u98z").a)({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);const p=r.node.type.createChecked(r.node.attrs,c,r.node.marks),h=ma(p);if(null===h)return Object(o("u98z").a)({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);const f=function(e,t){const n=Math.min(...t),r=n>0?n-1:0,i=o("wYWE").b.get(e);return i.map[r*i.width]}(p,a);return Object(o("u98z").a)({type:"DELETE_ROWS"})(n.replaceWith(r.pos,r.pos+r.node.nodeSize,h).setSelection(d.Selection.near(n.doc.resolve(r.pos+f))))};const ba=e=>t=>{const n=Object(o("zYPQ").c)(t.selection);if(!n)return t;!function(e,t,n,r){let a=e.mapping.maps.length;const s=e.doc.nodeAt(t);if(!s)return e;const c=e.doc.resolve(t).start(1),l=o("wYWE").b.get(s);for(let o=n;o<r;o++)for(let t=0;t<l.height;t++){const n=t*l.width+o,r=l.map[n],d=o>0&&l.map[n-1]===r||t>0&&l.map[(t-1)*l.width+o]===r,u=o<l.width-1&&l.map[n+1]===r||t<l.height-1&&l.map[(t+1)*l.width+o]===r;if(!d&&u){const n=s.nodeAt(r);if(!n)continue
;const{colwidth:d,colspan:u=1,rowspan:p=1}=n.attrs;let h=e.mapping.slice(a);const f=i()(i()({},n.attrs),{},{colspan:1,rowspan:1});for(let r=t;r<t+p;r++)for(let t=0;t<u;t++){let u=e.mapping.slice(a);const p=l.positionAt(r,o+t,s);e.insert(u.map(p+c),n.type.createAndFill(i()(i()({},f),{},{colwidth:d?[d[t]]:void 0})))}h=e.mapping.slice(a),e.delete(h.map(r+c),h.map(r+c+n.nodeSize)),p&&p>1&&(t+=p-1)}}}(t,n.pos,e.left,e.right);let r=t.mapping.maps.length;const a=t.doc,s=[];for(let i=e.left;i<e.right;i++){const e=o("sgbj").a.create(a,n.pos,i,!0);s.push(i),t.step(e.map(t.mapping.slice(r)))}const c=t.mapping.mapResult(n.pos);if(c.deleted){const e=Math.min(c.pos,t.doc.nodeSize-1);t.setSelection(d.Selection.near(t.doc.resolve(e)))}else{const e=t.doc.nodeAt(c.pos);if(e){const o=ya(e,s);t.setSelection(d.Selection.near(t.doc.resolve(n.pos+o)))}}return t},va=e=>t=>{const n=Object(o("zYPQ").c)(t.selection);if(!n)return t;const r=[];for(let o=e.left;o<e.right;o++)r.push(o);if(!r.length)return t
;const a=o("wYWE").b.get(n.node),s=[],c={},l={};for(let e=0;e<a.height;e++){const t=[],o=n.node.child(e);for(let s=0;s<a.width;s++){const o=a.map[e*a.width+s],d=n.node.nodeAt(o);if(!d)continue;const u=a.cellsInRect({left:s,top:0,right:s+1,bottom:a.height});if(-1===r.indexOf(s)){if(u.indexOf(o)>-1&&!c[o]){let e=0;if(r.forEach((t=>{s<t&&d.attrs.colspan+s-1>=t&&(e+=1)})),e>0){const n=i()(i()({},d.attrs),{},{colspan:d.attrs.colspan-e});if(d.attrs.colwidth){const t=Math.min(...r),i=t>0?t-a.colCount(o):0,s=d.attrs.colwidth.slice()||[];s.splice(i,e),n.colwidth=s}const s=d.type.createChecked(n,d.content,d.marks);t.push(s),c[o]=!0;continue}}else if(l[o]){const e=i()(i()({},d.attrs),{},{colspan:1,rowspan:1});if(d.attrs.colwidth){const t=s>0?s-a.colCount(o):0;e.colwidth=d.attrs.colwidth.slice().splice(t,1)}const n=d.type.createChecked(e,d.type.schema.nodes.paragraph.createChecked(),d.marks);t.push(n);continue}c[o]||(c[o]=!0,t.push(d))}else u.indexOf(o)>-1&&(l[o]=!0)}
t.length&&s.push(o.type.createChecked(o.attrs,t,o.marks))}if(!s.length)return Object(o("u98z").a)({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);const u=n.node.type.createChecked(n.node.attrs,s,n.node.marks),p=function(e){const t=o("wYWE").b.get(e),n=function(e){const t=[];for(let n=0;n<e.childCount;n++){const o=[],r=e.child(n);for(let e=0;e<r.childCount;e++){const t=r.child(e);o.push(t.attrs.rowspan)}t[n]=Math.min(...o)}return t}(e);if(!n.some((e=>e>1)))return e;const r=[];for(let o=0;o<t.height;o++){const t=e.child(o);if(1===n[o])r.push(t);else{const e=[];for(let r=0;r<t.childCount;r++){const a=t.child(r),s=a.attrs.rowspan-n[o]+1;if(s<1)return null;const c=a.type.createChecked(i()(i()({},a.attrs),{},{rowspan:s}),a.content,a.marks);e.push(c)}r.push(t.type.createChecked(t.attrs,e,t.marks))}}if(!r.length)return null;return e.type.createChecked(e.attrs,r,e.marks)}(u);if(null===p)return Object(o("u98z").a)({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);const h=ya(u,r)
;return Object(o("u98z").a)({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,p).setSelection(d.Selection.near(t.doc.resolve(n.pos+h))))};function ya(e,t){const n=Math.min(...t),r=n>0?n-1:0;return o("wYWE").b.get(e).map[r]}const Ea=(e,t=!1)=>n=>t?ba(e)(n):va(e)(n),wa={default:o("feK2").b.NORMAL,wide:o("feK2").b.WIDE,"full-width":o("feK2").b.FULL_WIDTH},Oa=(e,t)=>Object(o("SVcB").c)((({selection:t})=>{const{horizontalCells:n,verticalCells:r,totalRowCount:i,totalColumnCount:a}=Object(o("JnOq").a)(t);return{action:o("feK2").a.CLEARED,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,horizontalCells:n,verticalCells:r,totalRowCount:i,totalColumnCount:a},eventType:o("J5HJ").e.TRACK}}))((e=>(t,n)=>{let r,{tr:i}=t;if(Object(o("GhYq").a)(i.selection,"cell")){const e=i.selection;e.forEachCell(((e,n)=>{const r=i.doc.resolve(i.mapping.map(n+1));i=Ri(Object(o("zYPQ").a)(r),t.schema)(i)})),r=e.$headCell.pos}else if(e){
const n=Object(o("zYPQ").a)(i.doc.resolve(e+1));i=Ri(n,t.schema)(i),r=n.pos}if(i.docChanged&&r){const e=i.doc.resolve(i.mapping.map(r)),t=d.Selection.findFrom(e,1,!0);return t&&i.setSelection(t),n&&n(i),!0}return!1})(t)),Sa=()=>Object(o("SVcB").c)((({selection:e})=>{const{horizontalCells:t,verticalCells:n,totalCells:r,totalRowCount:i,totalColumnCount:a}=Object(o("JnOq").a)(e);return{action:o("feK2").a.MERGED,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{horizontalCells:t,verticalCells:n,totalCells:r,totalRowCount:i,totalColumnCount:a},eventType:o("J5HJ").e.TRACK}}))(((e,t)=>(t&&t(function(e){const{selection:t}=e;if(!(t instanceof o("n1Ll").a&&pa(e)))return e;const n=Object(o("n3wV").a)(t),r=Object(o("zYPQ").c)(t),a=o("wYWE").b.get(r.node),s=[],c=a.cellsInRect(n);let l;const u=[];for(let d=0;d<a.height;d++){const t=[],p=r.node.child(d);for(let u=0;u<a.width;u++){const p=a.map[d*a.width+u],h=r.node.nodeAt(p);if(h&&!(s.indexOf(p)>-1))if(s.push(p),u===n.left&&d===n.top){
l=p;let s=ha(h)?Je.Fragment.empty:h.content;const c=[l];for(let e=n.top;e<n.bottom;e++)for(let t=n.left;t<n.right;t++){const n=a.map[e*a.width+t];if(-1===c.indexOf(n)){c.push(n);const e=r.node.nodeAt(n);e&&!ha(e)&&(s=s.append(e.content))}}const d=n.bottom-n.top;if(d<1)return Object(o("u98z").a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);const u=fa(i()(i()({},h.attrs),{},{rowspan:d}),h.attrs.colspan,n.right-n.left-h.attrs.colspan),f=s===Je.Fragment.empty?h.type.createAndFill(u,s,h.marks):h.type.createChecked(u,s,h.marks);t.push(f)}else-1===c.indexOf(p)&&t.push(h)}if(t.length)u.push(p.type.createChecked(p.attrs,t,p.marks));else for(let n=u.length-1;n>=0;n--){const t=u[n],r=[];let a=!1;for(let s=0;s<t.childCount;s++){const c=t.child(s),{rowspan:l}=c.attrs;if(l&&l+n-1>=u.length){if(a=!0,l<2)return Object(o("u98z").a)({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);r.push(c.type.createChecked(i()(i()({},c.attrs),{},{rowspan:l-1}),c.content,c.marks))}else r.push(c)}
a&&(u[n]=p.type.createChecked(t.attrs,r,t.marks))}}if(!u.length)return Object(o("u98z").a)({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);const p=ma(r.node.type.createChecked(r.node.attrs,u,r.node.marks));return null===p?Object(o("u98z").a)({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):Object(o("u98z").a)({type:"MERGE_CELLS"})(e.replaceWith(r.pos,r.pos+r.node.nodeSize,p).setSelection(d.Selection.near(e.doc.resolve((l||0)+r.start))))}(e.tr)),!0))),Ca=()=>Object(o("SVcB").c)((({selection:e})=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("JnOq").a)(e),r=Object(o("zYPQ").a)(e.$anchor);if(r){const{rowspan:e,colspan:i}=r.node.attrs;return{action:o("feK2").a.SPLIT,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{horizontalCells:i,verticalCells:e,totalCells:i*e,totalRowCount:t,totalColumnCount:n},eventType:o("J5HJ").e.TRACK}}}))(ta),Ta=(e,t)=>Object(o("SVcB").c)((({selection:t})=>{
const{horizontalCells:n,verticalCells:r,totalCells:i,totalRowCount:a,totalColumnCount:s}=Object(o("JnOq").a)(t);return{action:o("feK2").a.COLORED,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{cellColor:(o("kBLm").f.get(e.toLowerCase())||e).toLowerCase(),horizontalCells:n,verticalCells:r,totalCells:i,totalRowCount:a,totalColumnCount:s},eventType:o("J5HJ").e.TRACK}}))(((e,t)=>(n,r)=>{let i,{tr:a}=n;if(Object(o("GhYq").a)(a.selection,"cell")){const t=a.selection;t.forEachCell(((t,n)=>{const r=a.doc.resolve(a.mapping.map(n+1));a=Object(o("x8g9").a)(Object(o("zYPQ").a)(r),e)(a)})),i=t.$headCell.pos}else if(t){const n=Object(o("zYPQ").a)(a.doc.resolve(t+1));a=Object(o("x8g9").a)(n,e)(a),i=n.pos}if(a.docChanged&&void 0!==i){const e=a.doc.resolve(a.mapping.map(i));return r&&r(a.setSelection(d.Selection.near(e))),!0}return!1})({background:e},t)),xa=e=>(t,n)=>{const{selection:r}=t,i=r instanceof o("n1Ll").a,a=i?Object(o("n3wV").a)(r):Object(o("zYPQ").b)(r.$from);if(!a)return!1
;const s=i&&"TOP"===e?a.top:a.bottom-1,c="BOTTOM"===e?1:0;return ka(o("J5HJ").f.SHORTCUT,{index:s+c,moveCursorToInsertedRow:!1})(t,n)},ka=(e,t)=>Object(o("SVcB").c)((n=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("JnOq").b)(n.selection);return{action:o("feK2").a.ADDED_ROW,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.index,totalRowCount:r,totalColumnCount:i},eventType:o("J5HJ").e.TRACK}}))(Object(o("hK8d").e)(t.index,t.moveCursorToInsertedRow)),Ia=(e,t)=>Object(o("SVcB").c)((n=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("JnOq").b)(n.selection);return{action:o("feK2").a.ADDED_COLUMN,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:r,totalColumnCount:i},eventType:o("J5HJ").e.TRACK}}))(Object(o("hK8d").d)(t)),Aa=(e,t,n)=>Object(o("SVcB").c)((({selection:n})=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("JnOq").b)(n);return{action:o("feK2").a.DELETED_ROW,
actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.top,count:t.bottom-t.top,totalRowCount:r,totalColumnCount:i},eventType:o("J5HJ").e.TRACK}}))(((e,o)=>(o&&o(ga(t,n)(e.tr)),!0))),Na=(e,t)=>Object(o("SVcB").c)((({selection:n})=>{const{totalRowCount:r,totalColumnCount:i}=Object(o("JnOq").b)(n);return{action:o("feK2").a.DELETED_COLUMN,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.left,count:t.right-t.left,totalRowCount:r,totalColumnCount:i},eventType:o("J5HJ").e.TRACK}}))(((e,n)=>(n&&n(Ea(t,Object(o("92CY").a)(e))(e.tr)),!0))),Ma=(e,t)=>{const{totalRowCount:n,totalColumnCount:r}=Object(o("JnOq").b)(e);return{action:o("feK2").a.DELETED,actionSubject:o("J5HJ").b.TABLE,attributes:{inputMethod:t,totalRowCount:n,totalColumnCount:r},eventType:o("J5HJ").e.TRACK}},Ra=()=>Object(o("SVcB").c)((({selection:e})=>Ma(e,o("J5HJ").f.FLOATING_TB)))(Ui),ja=()=>Object(o("SVcB").c)((e=>{
const{totalRowCount:t,totalColumnCount:n}=Object(o("JnOq").b)(e.selection),{isHeaderRowEnabled:r}=Object(o("aTJx").c)(e);return{action:o("feK2").a.TOGGLED_HEADER_ROW,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{newState:!r,totalRowCount:t,totalColumnCount:n},eventType:o("J5HJ").e.TRACK}}))(ia),Pa=()=>Object(o("SVcB").c)((e=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("JnOq").b)(e.selection),{isHeaderColumnEnabled:r}=Object(o("aTJx").c)(e);return{action:o("feK2").a.TOGGLED_HEADER_COLUMN,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{newState:!r,totalRowCount:t,totalColumnCount:n},eventType:o("J5HJ").e.TRACK}}))(aa),Da=()=>Object(o("SVcB").c)((e=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("JnOq").b)(e.selection);return{action:o("feK2").a.TOGGLED_NUMBER_COLUMN,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{newState:!Object(o("aMLK").c)(e),totalRowCount:t,totalColumnCount:n},eventType:o("J5HJ").e.TRACK}
}))(sa),La=(e,t,n)=>Object(o("SVcB").c)((r=>{const{totalRowCount:i,totalColumnCount:a}=Object(o("JnOq").b)(r.selection);return{action:o("feK2").a.SORTED_COLUMN,actionSubject:o("J5HJ").b.TABLE,attributes:{inputMethod:e,totalRowCount:i,totalColumnCount:a,position:t,sortOrder:n,mode:"editor"},eventType:o("J5HJ").e.TRACK}}))(((e,t=Qi.DESC)=>Object(o("aTJx").a)((n=>({type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}})),((n,r)=>{const i=Object(o("zYPQ").c)(n.selection);if(!i||!i.node)return n;const a=Object(o("GhYq").a)(n.selection,"cell")?Object(o("n3wV").a)(n.selection):Object(o("zYPQ").b)(n.selection.$from);if(!a)return n;const s=Object(o("aTJx").c)(r),c=Xi(i.node);let l;s.isHeaderRowEnabled&&(l=c.shift());const u=Object(o("hKd0").a)({getInlineCardTextFromStore:Zi(r)},t),p=c.sort(((t,n)=>u(t[e],n[e])));l&&p.unshift(l);const h=Yi(i.node,p);n.replaceWith(i.pos,i.pos+i.node.nodeSize,h);const f=o("wYWE").b.get(i.node).positionAt(a.top,e,i.node),m=s.ordering,g={columnIndex:e,order:t}
;return n.step(new(o("YL4i").a)(i.pos,m,g)),n.setSelection(d.Selection.near(n.doc.resolve(i.start+f)))})))(t,n)),_a=(e,{resizeState:t,table:n,attributes:r})=>Object(o("SVcB").c)((()=>({action:o("feK2").a.DISTRIBUTED_COLUMNS_WIDTHS,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:i()({inputMethod:e},r),eventType:o("J5HJ").e.TRACK})))(((e,r)=>(r&&((e,t)=>(n,r)=>{if(r){const i=Object(o("8kb8").b)(e,t.node,t.start)(n.tr);da(i)(n,r)}return!0})(t,n)(e,r),!0))),Ba=()=>Object(o("SVcB").c)((e=>{const{totalRowCount:t,totalColumnCount:n}=Object(o("JnOq").b)(e.selection);return{action:o("feK2").a.COLLAPSED,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{totalRowCount:t,totalColumnCount:n},eventType:o("J5HJ").e.TRACK}}))(ji),Ha=e=>(t,n)=>{const r=Object(o("zYPQ").c)(t.selection);if(!r)return!1
;const i=o("wYWE").b.get(r.node),{tableCell:a,tableHeader:s}=t.schema.nodes,c=Object(p.findParentNodeOfType)([a,s])(t.selection),l=i.positionAt(0,0,r.node)+r.start,u=i.positionAt(i.height-1,i.width-1,r.node)+r.start;return l===c.pos&&-1===e?(ka(o("J5HJ").f.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(t,n),!0):u===c.pos&&1===e?(ka(o("J5HJ").f.KEYBOARD,{index:i.height,moveCursorToInsertedRow:!0})(t,n),!0):!n||function(e){return function(t,n){if(!Object(o("OC6D").b)(t))return!1;const r=Object(o("b+wK").a)(t.selection);if(!r)return!1;const i=function(e,t){if(-1===t){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,o=e.before();n>=0;n--){const t=e.node(-1).child(n);if(t.childCount&&t.lastChild)return o-1-t.lastChild.nodeSize;o-=t.nodeSize}}else{if(e.index()<e.parent.childCount-1&&e.nodeAfter)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),o=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return o+1;o+=e.nodeSize}}
}(r,e);if(void 0===i)return!1;if(n){const e=t.doc.resolve(i);n(t.tr.setSelection(d.TextSelection.between(e,function(e){const t=e.nodeAfter?e.nodeAfter.nodeSize:0;return e.node(0).resolve(e.pos+t)}(e))).scrollIntoView())}return!0}}(e)(t,n)};function Ja(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").nextCell.common,Ha(1),e),o("4Upw").bindKeymapWithCommand(o("4Upw").previousCell.common,Ha(-1),e),o("4Upw").bindKeymapWithCommand(o("4Upw").toggleTable.common,(()=>Object(o("SVcB").c)({action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.TABLE,attributes:{inputMethod:o("J5HJ").f.SHORTCUT},eventType:o("J5HJ").e.TRACK})(Object(o("hK8d").c)()))(),e),o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,Object(Mi.c)((e=>Object(o("SVcB").c)((({selection:t})=>Ma(t,e)))(Vi))(o("J5HJ").f.KEYBOARD),Oa(o("J5HJ").f.KEYBOARD)),e),o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,Wi,e),
o("4Upw").bindKeymapWithCommand(o("4Upw").addRowBefore.common,xa("TOP"),e),o("4Upw").bindKeymapWithCommand(o("4Upw").addRowAfter.common,xa("BOTTOM"),e),o("4Upw").bindKeymapWithCommand(o("4Upw").addColumnBefore.common,(e=>(t,n,r)=>{const{selection:i,schema:{nodes:{tableHeader:a}}}=t;if(i instanceof d.TextSelection){const s=Object(o("zYPQ").a)(i.$from);if(s&&s.node.type!==a)return e(t,n,r)}if(i instanceof o("n1Ll").a){const a=Object(o("n3wV").a)(i);if(!Object(o("aMLK").b)(t)||a&&a.top>0)return e(t,n,r)}return!1})(o("hK8d").b),e),o("4Upw").bindKeymapWithCommand(o("4Upw").addColumnAfter.common,o("hK8d").a,e),Object(oe.b)(e)}let $a;!function(e){e.TopToBottom="TopToBottom",e.BottomToTop="BottomToTop"}($a||($a={}));const Fa=(e,t)=>{const{selection:n}=e;return n instanceof o("n1Ll").a?Ua(n)(e,t):n instanceof o("g1AK").a?Wa(n)(e,t):n instanceof d.TextSelection&&qa(n)(e,t)},za=(e,t)=>{const{selection:n}=e
;return n instanceof o("n1Ll").a?Va(n)(e,t):n instanceof o("g1AK").a?Ka(n)(e,t):n instanceof d.TextSelection&&Ga(n)(e,t)},Ua=e=>(t,n)=>{if(Object(o("+yxU").c)(t.selection)){const{selectionRelativeToNode:o}=ze(t);if(o===de.Start)return Za()(t,n);if(o===de.End)return Qa(e)(t,n);if(void 0===o)return Xa(e,de.Before)(t,n)}return!1},Va=e=>(t,n)=>{if(Object(o("+yxU").c)(t.selection)){const{selectionRelativeToNode:o}=ze(t);if(o===de.Start)return Xa(e)(t,n);if(o===de.End||void 0===o)return es()(t,n)}return!1},Wa=e=>(t,n)=>{const{doc:r}=t,{$from:i,from:a,side:s}=e;if(s===o("g1AK").b.RIGHT){if(i.nodeBefore&&"table"===i.nodeBefore.type.name)return Ya({node:i.nodeBefore,startPos:r.resolve(a-1).start(i.depth+1),dir:$a.TopToBottom})(t,n)}else if(s===o("g1AK").b.LEFT){const r=Object(o("zYPQ").c)(e);if(r&&ts(i,e)){const{selectionRelativeToNode:e}=ze(t);return e===de.Before?Za()(t,n):Ya({node:r.node,startPos:r.start,dir:$a.BottomToTop})(t,n)}}return!1},Ka=e=>(t,n)=>{const{$from:r,from:i,$to:a,side:s}=e
;if(s===o("g1AK").b.LEFT){if(r.nodeAfter&&"table"===r.nodeAfter.type.name)return Ya({node:r.nodeAfter,startPos:i+1,dir:$a.BottomToTop})(t,n)}else if(s===o("g1AK").b.RIGHT){const r=Object(o("zYPQ").c)(e);if(r&&ns(a,e))return Ya({node:r.node,startPos:r.start,dir:$a.TopToBottom})(t,n)}return!1},qa=e=>(t,n)=>{const r=Object(o("zYPQ").c)(e);if(r){const{$from:o}=e;if(ts(o,e)&&"paragraph"===o.parent.type.name&&o.depth===r.depth+3){const{selectionRelativeToNode:e}=ze(t);return e===de.Before?Za()(t,n):Ya({node:r.node,startPos:r.start,dir:$a.BottomToTop})(t,n)}}return!1},Ga=e=>(t,n)=>{const r=Object(o("zYPQ").c)(e);if(r){const{$to:o}=e;if(ns(o,e)&&"paragraph"===o.parent.type.name&&o.depth===r.depth+3)return Ya({node:r.node,startPos:r.start,dir:$a.TopToBottom})(t,n)}return!1},Ya=({node:e,startPos:t,dir:n})=>(r,i)=>{const{doc:a}=r,{map:s}=o("wYWE").b.get(e),c=a.resolve(t+s[0]),l=a.resolve(t+s[s.length-1]);let d,u;return n===$a.TopToBottom?(d=new(o("n1Ll").a)(c,l),
u=de.End):(d=new(o("n1Ll").a)(l,c),u=de.Start),Ve(u,d)(r,i)},Xa=(e,t)=>(n,r)=>{const{$anchorCell:i,$headCell:a}=e,s=i.pos<a.pos?i:a,c=n.doc.resolve(s.pos+1),l=o("g1AK").a.valid(c)?new(o("g1AK").a)(c,o("g1AK").b.LEFT):d.Selection.findFrom(c,1);return Ve(t,l)(n,r)},Qa=(e,t)=>(n,r)=>{const{$anchorCell:i,$headCell:a}=e,s=i.pos>a.pos?i:a,c=s.pos+(s.nodeAfter?s.nodeAfter.content.size:0)+1,l=n.doc.resolve(c),u=o("g1AK").a.valid(l)?new(o("g1AK").a)(l,o("g1AK").b.RIGHT):d.Selection.findFrom(l,-1);return Ve(t,u)(n,r)},Za=()=>(e,t)=>{const n=Object(o("zYPQ").c)(e.selection);if(n){const r=e.doc.resolve(n.pos);if(o("g1AK").a.valid(r)){const n=new(o("g1AK").a)(r,o("g1AK").b.LEFT);return Ve(void 0,n)(e,t)}}return!1},es=()=>(e,t)=>{const n=Object(o("zYPQ").c)(e.selection);if(n){const r=e.doc.resolve(n.pos+n.node.nodeSize);if(o("g1AK").a.valid(r)){const n=new(o("g1AK").a)(r,o("g1AK").b.RIGHT);return Ve(void 0,n)(e,t)}}return!1
},ts=(e,t)=>Object(o("Gbq5").d)(e,Object(o("zYPQ").c)(t)),ns=(e,t)=>Object(o("Gbq5").c)(e,Object(o("zYPQ").c)(t));function os(){const e={};return Object(o("4Upw").bindKeymapWithCommand)(o("4Upw").moveRight.common,za,e),Object(o("4Upw").bindKeymapWithCommand)(o("4Upw").moveLeft.common,Fa,e),Object(oe.b)(e)}const rs=e=>{const t=Object(o("zYPQ").c)(e.selection);if(!t)return[];const n=o("wYWE").b.get(t.node),r=new Set,i=[];return n.map.forEach((e=>{r.has(e)?i.push(e):r.add(e)})),i},is=e=>Array.from(Array(e).keys()),as=()=>Object(o("aTJx").a)((e=>{const t=rs(e.tr);if(!t.length)return!1;const n=Object(o("zYPQ").c)(e.tr.selection);if(!n)return!1;const r=((e,t)=>e.map((e=>ce.a.node(e.pos,e.pos+e.node.nodeSize,{class:o("EfLE").b.HOVERED_CELL_WARNING},{key:o("EfLE").c.CELL_CONTROLS_HOVER}))))(t.map((e=>({pos:e+n.start,start:e+n.start+1,node:n.node.nodeAt(e)}))));return{type:"HOVER_CELLS",data:{decorationSet:Fi(e,r,o("EfLE").c.CELL_CONTROLS_HOVER)}}
}),(e=>e.setMeta("addToHistory",!1))),ss=(e,t)=>Object(o("aTJx").a)((n=>{const r=Object(o("DgfI").a)(e)(n.selection);if(!r)return!1;const i=bi(r,"column",t);return{type:"HOVER_COLUMNS",data:{decorationSet:Fi(n,i,o("EfLE").c.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(e=>e.setMeta("addToHistory",!1))),cs=(e,t)=>Object(o("aTJx").a)((n=>{const r=Object(o("Rl6m").a)(e)(n.selection);if(!r)return!1;const i=bi(r,"row",t);return{type:"HOVER_ROWS",data:{decorationSet:Fi(n,i,o("EfLE").c.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(e=>e.setMeta("addToHistory",!1))),ls=e=>Object(o("aTJx").a)((t=>{const n=Object(o("zYPQ").c)(t.selection);if(!n)return!1;const r=o("wYWE").b.get(n.node),i=is(r.width),a=is(r.height),s=Object(o("Rl6m").a)(a)(t.selection);if(!s)return!1;const c=bi(s,"table",e);return{type:"HOVER_TABLE",data:{decorationSet:Fi(t,c,o("EfLE").c.TABLE_CONTROLS_HOVER),hoveredColumns:i,hoveredRows:a,isInDanger:e}}
}),(e=>e.setMeta("addToHistory",!1))),ds=()=>Object(o("aTJx").a)((e=>({type:"CLEAR_HOVER_SELECTION",data:{decorationSet:Fi(e,[],o("EfLE").c.ALL_CONTROLS_HOVER)}}))),us=`.${o("EfLE").b.TABLE_CELL}, .${o("EfLE").b.TABLE_HEADER_CELL}`,ps=e=>Boolean(e&&(["TH","TD"].indexOf(e.tagName)>-1||!!Object(o("9a+x").b)(e,`.${o("EfLE").b.TABLE_HEADER_CELL}`)||!!Object(o("9a+x").b)(e,`.${o("EfLE").b.TABLE_CELL}`))),hs=e=>[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)],fs=e=>Object(o("9a+x").c)(e,o("EfLE").b.COLUMN_CONTROLS_DECORATIONS),ms=e=>Object(o("9a+x").c)(e,o("EfLE").b.ROW_CONTROLS_BUTTON)||Object(o("9a+x").c)(e,o("EfLE").b.NUMBERED_COLUMN_BUTTON),gs=e=>Object(o("9a+x").c)(e,o("EfLE").b.RESIZE_HANDLE_DECORATION),bs=(e,t,n,o)=>{const r=e.target;if(r instanceof HTMLElement){let c,l;const d=r.closest(us);if(t){var i,a,s;const t=null!==(i=null==d?void 0:d.id)&&void 0!==i?i:""
;c=null!==(a=null==n||null===(s=n[t])||void 0===s?void 0:s.width)&&void 0!==a?a:0,l=e.offsetX}else{const t=r.getBoundingClientRect();c=t.width;const n=t.left;l=e.clientX-n}if(c<=0)return null;if(!o)return l/c>.5?"right":"left";if(l<=o)return"left";if(l>=c-o)return"right"}return null},vs=e=>{const t=e.target;if(t instanceof HTMLElement){const n=t.getBoundingClientRect();if(n.height<=0)return null;return(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},ys=e=>{if(!e)return;const t=e.offsetHeight+o("Npri").q,n=Array.from(e.querySelectorAll(`.${o("EfLE").b.RESIZE_HANDLE}`));n&&n.length&&n.forEach((e=>{e.style.height=`${t}px`}))},Es=(e,t)=>{const{state:n,dispatch:r}=e;return 11===o("j5wO").a.ie_version||(e=>e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&"calendar"===e.relatedTarget.getAttribute("aria-label"))(t)||(e=>e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="dialog"]'))(t)||zi(!1)(n,r),t.preventDefault(),!1
},ws=(e,t)=>{const{state:n,dispatch:o}=e;return zi(!0)(n,o),t.preventDefault(),!1},Os=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const n=t.target,r=Object(o("zYPQ").c)(e.state.selection);if(t instanceof MouseEvent&&fs(n)){const[r]=hs(n),{state:i,dispatch:a}=e;return((e,t)=>Object(o("aTJx").a)((n=>{const r=Object(o("DgfI").a)(e)(n.tr.selection);if(!r||!r.length||"number"!=typeof r[0].pos)return!1;const i=vi(Li(e,t)(n.tr)),a=Fi(n,i,o("EfLE").c.COLUMN_SELECTED);return{type:"SELECT_COLUMN",data:{targetCellPosition:r[0].pos,decorationSet:a}}}),(n=>Li(e,t)(n).setMeta("addToHistory",!1))))(r,t.shiftKey)(i,a)}const i=n.matches?n.matches:n.msMatchesSelector;if(!r||!Object(o("D4z0").k)(n)||!i||i.call(n,"table .image, table p, table .image div"))return!1
;const a=o("wYWE").b.get(r.node),s=Object(o("9a+x").b)(n,"td")||Object(o("9a+x").b)(n,"th"),c=s&&s.cellIndex,l=Object(o("9a+x").b)(n,"tr"),d=l&&l.rowIndex,u=a.width*d+c,p=a.map[u+1],{dispatch:h,state:{tr:f,schema:{nodes:{paragraph:m}}}}=e,g=r.node.nodeAt(a.map[u]);return Object(o("D4z0").o)(g)&&(f.insert(p+r.pos,m.create()),h(f),Object(o("Gbq5").g)(e,p+r.pos)),!0},Ss=(e,t)=>{if(!(t.target instanceof HTMLElement))return!1;const{state:n,dispatch:r}=e,i=t.target,{insertColumnButtonIndex:a,insertRowButtonIndex:s}=Object(o("aTJx").c)(n);if((e=>Object(o("9a+x").c)(e,o("EfLE").b.CONTROLS_INSERT_ROW)||Object(o("9a+x").b)(e,`.${o("EfLE").b.CONTROLS_INSERT_ROW}`)||Object(o("9a+x").c)(e,o("EfLE").b.CONTROLS_BUTTON_OVERLAY)&&Object(o("9a+x").b)(e,`.${o("EfLE").b.ROW_CONTROLS}`))(i)){const[e,o]=hs(i),a="bottom"===vs(t)?o:e;return Ki(a)(n,r)}if(fs(i)){const[t]=hs(i),{state:n,dispatch:o}=e;return ss([t],!1)(n,o)}
if((ps(i)||(e=>Object(o("9a+x").c)(e,o("EfLE").b.CONTROLS_CORNER_BUTTON))(i))&&("number"==typeof a||"number"==typeof s))return qi()(n,r);if(gs(i)){const[e,t]=hs(i);return(e=>Object(o("aTJx").a)((t=>({type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:Fi(t,wi(t.selection,e),o("EfLE").c.COLUMN_RESIZING_HANDLE_LINE)}}))))({left:e,right:t})(n,r)}return!1},Cs=(e,t)=>{const n=!!(t.target&&t.target instanceof HTMLElement&&((e=>Object(o("9a+x").c)(e,o("EfLE").b.TABLE_CONTAINER)||Object(o("9a+x").c)(e,o("EfLE").b.TABLE_NODE_WRAPPER))(t.target)||fs(t.target)||ms(t.target)));return n&&t.preventDefault(),n},Ts=(e,t)=>{if(!(t instanceof MouseEvent&&t.target instanceof HTMLElement))return!1;const n=t.target;if(fs(n)){const{state:t,dispatch:n}=e;return ds()(t,n)}const r=t.relatedTarget;if(gs(n)&&!gs(r)){const{state:t,dispatch:n}=e;return(()=>Object(o("aTJx").a)((e=>({type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:Fi(e,[],o("EfLE").c.COLUMN_RESIZING_HANDLE_LINE)}}))))()(t,n)}return!1},xs=(e,t)=>{
if(!(t.target instanceof HTMLElement))return!1;const{state:n,dispatch:r}=e,{insertColumnButtonIndex:i,insertRowButtonIndex:a}=Object(o("aTJx").c)(n);return!!(e=>Object(o("9a+x").c)(e,o("EfLE").b.CONTROLS_BUTTON)||Object(o("9a+x").c)(e,o("EfLE").b.ROW_CONTROLS_BUTTON_WRAP))(t.target)||!(void 0===i&&void 0===a||!qi()(n,r))},ks=(e,t,n,r)=>{if(!(t.target instanceof HTMLElement))return!1;const i=t.target;if(fs(i)){const{state:a,dispatch:s}=e,{insertColumnButtonIndex:c}=Object(o("aTJx").c)(a),[l,d]=hs(i),u="right"===bs(t,n,r)?d:l;if(u!==c)return(e=>Object(o("aTJx").a)((t=>e>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:e}}),(e=>e.setMeta("addToHistory",!1))))(u)(a,s)}if(ms(i)){const{state:n,dispatch:r}=e,{insertRowButtonIndex:a}=Object(o("aTJx").c)(n),[s,c]=hs(i),l="bottom"===vs(t)?c:s;if(l!==a)return Ki(l)(n,r)}const{mouseMoveOptimization:a}=Object(o("37L4").b)(e.state)||{},s=n&&a;if(!gs(i)&&ps(i)){const n=bs(t,s,r,30);if(null!==n){
const{state:t,dispatch:r}=e,{resizeHandleColumnIndex:a}=Object(o("aTJx").c)(t),s=Object(o("9a+x").b)(i,"td, th"),c=e.posAtDOM(s,0),l=Object(o("zYPQ").b)(t.doc.resolve(c));if(l){const e="left"===n?l.left:l.right;if(e!==a||!(({columnEndIndexTarget:e,target:t})=>{const n=Object(o("9a+x").b)(t,"table");if(!n)return!1;const r=[`.${o("EfLE").b.RESIZE_HANDLE_DECORATION}`,`[data-end-index="${e}"]`],i=n.querySelectorAll(r.join(""));return!(!i||0===i.length)})({target:i,columnEndIndexTarget:e}))return(e=>Object(o("aTJx").a)((t=>{const n=Object(o("zYPQ").c)(t.selection),{pluginConfig:{allowColumnResizing:r}}=Object(o("aTJx").c)(t);return!(!n||!r)&&{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:$i(e)({tr:t.tr,decorationSet:Ai(t)}),resizeHandleColumnIndex:e}}}),(e=>e.setMeta("addToHistory",!1))))(e)(t,r)}}}return!1};function Is(e,t){const{state:n,dispatch:r}=e,i=Object(o("EdO1").a)(n.doc.resolve(t));if(!i)return!1;const a=n.doc.nodeAt(i.pos);if(a){
const e=d.Selection.findFrom(i,1,!0),t=d.Selection.findFrom(n.doc.resolve(i.pos+a.nodeSize),-1,!0);if(e&&t)return r(n.tr.setSelection(new d.TextSelection(e.$from,t.$to))),!0}return!1}const As=(e,t)=>(n,r)=>{var i;const a=Object(o("jegY").c)(n.state),s=Object(o("aTJx").c)(n.state),c=a&&!!a.dragging,l=s&&s.tableNode,d=null==s||null===(i=s.pluginConfig)||void 0===i?void 0:i.tableCellOptimization;return!(!l||c)&&Object(o("GsWa").a)(e(n,r,d,t))};var Ns=o("TSYQ"),Ms=o.n(Ns);const Rs=(e,t)=>{if(!e||void 0===t)return;const n=e.find((e=>e.pos===t+1));return n&&n.sticky?n:void 0},js=new d.PluginKey("stickyHeadersPlugin"),Ps=e=>{const t=[];for(let n=e.left;n<e.right;n++)t.push(n);return t};class Ds extends c.Component{constructor(...e){super(...e),s()(this,"isActive",(()=>{const{editorView:e,hoveredRows:t,isResizing:n}=this.props,{selection:r}=e.state,i=Object(o("zYPQ").c)(r);return!!i&&(Object(o("+yxU").c)(r)||t&&t.length===o("wYWE").b.get(i.node).height&&!n)})),
s()(this,"clearHoverSelection",(()=>{const{state:e,dispatch:t}=this.props.editorView;ds()(e,t)})),s()(this,"selectTable",(()=>{const{state:e,dispatch:t}=this.props.editorView;t((e=>{const t=Object(o("zYPQ").c)(e.selection);if(t){const{map:n}=o("wYWE").b.get(t.node);if(n&&n.length){const r=t.start+n[0],i=t.start+n[n.length-1],a=e.doc.resolve(r),s=e.doc.resolve(i);return Object(o("oSJA").a)(e.setSelection(new(o("n1Ll").a)(s,a)))}}return e})(e.tr).setMeta("addToHistory",!1))})),s()(this,"hoverTable",(()=>{const{state:e,dispatch:t}=this.props.editorView;ls()(e,t)}))}render(){const{isInDanger:e,tableRef:t,isHeaderColumnEnabled:n,isHeaderRowEnabled:r}=this.props;if(!t)return null;const i=this.isActive();return l.a.createElement("div",{className:Ms()(o("EfLE").b.CORNER_CONTROLS,{active:i,sticky:void 0!==this.props.stickyTop}),style:{top:void 0!==this.props.stickyTop?`${this.props.stickyTop}px`:void 0}},l.a.createElement("button",{type:"button",
className:Ms()(o("EfLE").b.CONTROLS_CORNER_BUTTON,{danger:i&&e}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!r&&l.a.createElement("div",{className:o("EfLE").b.CORNER_CONTROLS_INSERT_ROW_MARKER},l.a.createElement("div",{className:o("EfLE").b.CONTROLS_INSERT_MARKER})),!n&&l.a.createElement("div",{className:o("EfLE").b.CORNER_CONTROLS_INSERT_COLUMN_MARKER},l.a.createElement("div",{className:o("EfLE").b.CONTROLS_INSERT_MARKER})))}}Ds.displayName="CornerControls";class Ls extends c.Component{constructor(...e){super(...e),s()(this,"hoverRows",(e=>this.props.tableActive?this.props.hoverRows([e]):null)),s()(this,"selectRow",((e,t)=>{const{tableActive:n,editorView:o,selectRow:r}=this.props;if(!n&&t.target&&t.target instanceof Node){const{doc:e,selection:n,tr:r}=o.state,i=o.posAtDOM(t.target,1),a=e.resolve(i),s=n.head>i?d.Selection.near(e.resolve(i+(a.parent.nodeSize-3)),-1):d.Selection.near(a);o.dispatch(r.setSelection(s))}r(e,t.shiftKey)})),
s()(this,"clearHoverSelection",(()=>{const{tableActive:e,editorView:t}=this.props;if(e){const{state:e,dispatch:n}=t;ds()(e,n)}})),s()(this,"getClassNames",(e=>{const{hoveredRows:t,editorView:n,isInDanger:r,isResizing:i}=this.props,a=Object(o("+yxU").b)(e)(n.state.selection)||-1!==(t||[]).indexOf(e)&&!i;return[o("EfLE").b.NUMBERED_COLUMN_BUTTON,a?o("EfLE").b.HOVERED_CELL_ACTIVE:"",a&&r?o("EfLE").b.HOVERED_CELL_IN_DANGER:""].join(" ")}))}render(){const{tableRef:e,hasHeaderRow:t}=this.props,n=Object(o("oE+j").d)(e);return l.a.createElement("div",{className:o("EfLE").b.NUMBERED_COLUMN,style:{marginTop:t&&void 0!==this.props.stickyTop?n[0]:void 0}},n.map(((e,n)=>l.a.createElement("div",{key:`wrapper-${n}`,className:this.getClassNames(n),"data-index":n,style:{height:e,top:void 0!==this.props.stickyTop&&t&&0===n?`${this.props.stickyTop}px`:void 0},onClick:e=>this.selectRow(n,e),onMouseOver:()=>this.hoverRows(n),onMouseOut:this.clearHoverSelection},t?n>0?n:null:n+1))))}}
Ls.displayName="NumberColumn";class _s extends c.Component{constructor(...e){super(...e),s()(this,"clearHoverSelection",(()=>{const{state:e,dispatch:t}=this.props.editorView;ds()(e,t)}))}render(){const{editorView:e,tableRef:t,hoveredRows:n,isInDanger:r,isResizing:i}=this.props;if(!t)return null;const{selection:a}=e.state,s=Object(o("oE+j").d)(t),c=Object(o("oE+j").e)(s),d=t.querySelector("tr"),u=!!d&&d.getAttribute("data-header-row");return l.a.createElement("div",{className:o("EfLE").b.ROW_CONTROLS},l.a.createElement("div",{className:o("EfLE").b.ROW_CONTROLS_INNER},c.map((({startIndex:e,endIndex:t,height:c},d)=>{let p=-1;1===d&&u&&void 0!==this.props.stickyTop&&(p+=s[d-1]+o("Npri").q);const h=void 0!==this.props.stickyTop&&0===d&&u;return l.a.createElement("div",{className:`${o("EfLE").b.ROW_CONTROLS_BUTTON_WRAP} ${Object(o("oE+j").b)(e,a,n,r,i)} ${h?"sticky":""}`,key:e,style:{height:c,marginTop:`${p}px`,top:h?`${this.props.stickyTop+3}px`:void 0,paddingTop:h?`${o("Npri").l}px`:void 0
}},l.a.createElement("button",{type:"button",className:`${o("EfLE").b.ROW_CONTROLS_BUTTON}\n                  ${o("EfLE").b.CONTROLS_BUTTON}\n                `,onClick:t=>this.props.selectRow(e,t.shiftKey),onMouseOver:()=>this.props.hoverRows([e]),onMouseOut:this.clearHoverSelection,"data-start-index":e,"data-end-index":t}),l.a.createElement("div",{className:o("EfLE").b.CONTROLS_INSERT_MARKER}))}))))}}_s.displayName="RowControls";class Bs extends c.Component{constructor(...e){super(...e),s()(this,"selectRow",((e,t)=>{const{editorView:n}=this.props,{state:r,dispatch:i}=n;11===o("j5wO").a.ie_version&&n.dom.blur(),((e,t)=>Object(o("aTJx").a)((t=>{let n;const r=Object(o("Rl6m").a)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(n=>_i(e,t)(n).setMeta("addToHistory",!1))))(e,t)(r,i)})),s()(this,"hoverRows",((e,t)=>{const{state:n,dispatch:o}=this.props.editorView;cs(e,t)(n,o)}))}componentDidMount(){
this.tryInitResizeObserver()}componentDidUpdate(){this.tryInitResizeObserver()}tryInitResizeObserver(){var e;let{tableRef:t}=this.props;const{tableRenderOptimization:n}=Object(o("37L4").b)(this.props.editorView.state)||{};n&&t&&!this.resizeObserver&&null!==(e=window)&&void 0!==e&&e.ResizeObserver&&(this.resizeObserver=new ResizeObserver((e=>{for(let t of e){const e=t.contentRect.height;this.setState({tableHeight:e})}})),this.resizeObserver.observe(t))}shouldComponentUpdate(e,t){var n;const{tableRef:r,isInDanger:i,isResizing:a,isHeaderRowEnabled:s,isNumberColumnEnabled:c,hoveredRows:l,selection:d,tableActive:u,isHeaderColumnEnabled:p,ordering:h,headerRowHeight:f,stickyHeader:m}=this.props,{tableRenderOptimization:g}=Object(o("37L4").b)(this.props.editorView.state)||{},b=g?null===(n=this.state)||void 0===n?void 0:n.tableHeight:this.props.tableHeight,v=g?null==t?void 0:t.tableHeight:e.tableHeight
;return h!==e.ordering||r!==e.tableRef||b!==v||u!==e.tableActive||i!==e.isInDanger||a!==e.isResizing||l!==e.hoveredRows||s!==e.isHeaderRowEnabled||p!==e.isHeaderColumnEnabled||c!==e.isNumberColumnEnabled||((e,t)=>!(t||!e)||Object(o("GhYq").a)(e,"cell")!==Object(o("GhYq").a)(t,"cell")||Object(o("GhYq").a)(e,"cell")&&Object(o("GhYq").a)(t,"cell")&&e.ranges!==t.ranges)(d,e.selection)||f!==e.headerRowHeight||m!==e.stickyHeader}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}render(){const{editorView:e,tableRef:t,isInDanger:n,isResizing:o,isNumberColumnEnabled:r,isHeaderRowEnabled:i,isHeaderColumnEnabled:a,tableActive:s,hasHeaderRow:c,hoveredRows:d,stickyHeader:u}=this.props;if(!t)return null;const p=u&&u.sticky&&c?u.top:void 0;return l.a.createElement("div",{onMouseDown:e=>e.preventDefault()},r?l.a.createElement(Ls,{editorView:e,hoverRows:this.hoverRows,tableRef:t,tableActive:s,hoveredRows:d,hasHeaderRow:c,isInDanger:n,isResizing:o,selectRow:this.selectRow,
stickyTop:p}):null,s&&l.a.createElement(l.a.Fragment,null,l.a.createElement(Ds,{editorView:e,tableRef:t,isInDanger:n,isResizing:o,isHeaderRowEnabled:i,isHeaderColumnEnabled:a,hoveredRows:d,stickyTop:s?p:void 0}),l.a.createElement(_s,{editorView:e,tableRef:t,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:n,isResizing:o,selectRow:this.selectRow,stickyTop:s?p:void 0})))}}Bs.displayName="TableFloatingControls",s()(Bs,"displayName","TableFloatingControls");class Hs{constructor(e,t,n){s()(this,"firstCell",null),s()(this,"lastCell",null),s()(this,"getFirstCell",((e,t)=>{var n;return null===(n=this.table)||void 0===n?void 0:n.querySelector(e||!t?"table tbody tr td":"table tbody tr th")})),s()(this,"getLastCell",((e,t)=>{var n;return null===(n=this.table)||void 0===n?void 0:n.querySelector(e||!t?"table tbody tr td:last-child":"table tbody tr th:last-child")})),s()(this,"isSticky",!1),s()(this,"stickyRowHeight",0),s()(this,"init",(()=>{const e=this.table
;if(this.wrapper&&e)if(this.tableIntersectionObserver);else{const e=e=>{var t,n;(null!==(t=e.rootBounds)&&void 0!==t&&t.height||null!==(n=e.rootBounds)&&void 0!==n&&n.width)&&(e.target!==this.firstCell&&e.target!==this.lastCell||(this.updateStickyShadowsHeightIfChanged(),this.checkIntersectionEvent(e,this.firstCell===e.target?o("EfLE").a.SHOW_BEFORE_SHADOW:o("EfLE").a.SHOW_AFTER_SHADOW)))};this.tableIntersectionObserver=new IntersectionObserver(((t,n)=>{t.forEach((t=>e(t)))}),{threshold:[0,1],root:this.wrapper,rootMargin:`0px ${10-o("9ehW").c}px 0px 0px`})}})),s()(this,"checkIntersectionEvent",((e,t)=>{e.isIntersecting&&1===e.intersectionRatio?this.updateShadowState(t,!1):e.intersectionRatio<1&&this.updateShadowState(t,!0)})),s()(this,"observeCells",((e,t)=>{const n=!!e!==this.isSticky;if(this.isSticky=!!e,this.updateStickyShadowsHeightIfChanged(),!n){const n=this.getFirstCell(e,t),o=this.getLastCell(e,t);if(!n||!o||n===this.firstCell&&o===this.lastCell)return}
this.firstCell=this.getFirstCell(e,t),this.lastCell=this.getLastCell(e,t),this.tableIntersectionObserver&&this.firstCell&&this.lastCell&&(this.tableIntersectionObserver.disconnect(),this.tableIntersectionObserver.observe(this.firstCell),this.tableIntersectionObserver.observe(this.lastCell))})),s()(this,"updateStickyShadows",(e=>{var t,n,r,i,a;if(!this.isSticky)return;const s=this.getStickyCell();if(!s||null===(t=this.wrapper)||void 0===t||!t.parentElement)return;const c=`${e||s.clientHeight+1}px`,l=null===(n=this.wrapper)||void 0===n||null===(r=n.parentElement)||void 0===r?void 0:r.getElementsByClassName(`${o("EfLE").b.TABLE_RIGHT_SHADOW}`),d=null===(i=this.wrapper)||void 0===i||null===(a=i.parentElement)||void 0===a?void 0:a.getElementsByClassName(`${o("EfLE").b.TABLE_LEFT_SHADOW}`);Object(o("k4/a").b)(c,d),Object(o("k4/a").b)(c,l)})),this.updateShadowState=e,this.table=t,this.wrapper=n,this.init()}updateStickyShadowsHeightIfChanged(){if(!this.isSticky)return
;const e=this.getStickyCell();if(!e)return;const t=e.clientHeight+1;t===this.stickyRowHeight&&(this.stickyRowHeight=t,this.updateStickyShadows(this.stickyRowHeight))}getStickyCell(){var e;const t=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector("tr.sticky");return t&&t.firstElementChild}dispose(){this.tableIntersectionObserver&&(this.tableIntersectionObserver.disconnect(),this.tableIntersectionObserver=void 0)}}const Js=11===o("j5wO").a.ie_version,$s=()=>{},Fs=()=>l.a.createElement("div",{style:{position:"absolute",top:"30px"}}," ");class zs extends l.a.Component{constructor(e){super(e),s()(this,"state",{scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0,[o("EfLE").a.SHOW_BEFORE_SHADOW]:!1,[o("EfLE").a.SHOW_AFTER_SHADOW]:!1}),s()(this,"updateShadowState",((e,t)=>{if(this.state[e]!==t)return e===o("EfLE").a.SHOW_BEFORE_SHADOW?this.setState({[e]:t}):void this.setState({[e]:t})})),s()(this,"onStickyState",(e=>{
const{tableOverflowShadowsOptimization:t}=Object(o("37L4").b)(this.props.view.state)||{},n=this.props.getPos();if(!Object(o("Gbq5").e)(n,this.props.view.state))return;const r=Rs(e,n);r!==this.state.stickyHeader&&(this.setState({stickyHeader:r}),t&&this.overflowShadowsObserver&&this.overflowShadowsObserver.updateStickyShadows())})),s()(this,"prevTableState",null),s()(this,"getMarginLeft",(e=>{const{containerWidth:t}=this.props,{lineLength:n}=t;let r;if("inherit"!==e&&n){const t=Object(o("9a+x").e)(e);t&&(r=(n-t)/2)}return r})),s()(this,"handleScroll",(e=>{if(!this.wrapper||e.target!==this.wrapper)return;if(this.table){const e=this.table.querySelectorAll("tr[data-header-row]");for(let t=0;t<e.length;t++){const n=e[t];n.scrollLeft=this.wrapper.scrollLeft,n.style.marginRight="2px"}}const{tableOverflowShadowsOptimization:t}=Object(o("37L4").b)(this.props.view.state)||{};t||this.updateShadows()})),s()(this,"handleTableResizing",(()=>{
const{getNode:e,containerWidth:t,options:n}=this.props,r=this.node,i=e(),a=r.attrs,s=a.layout!==i.attrs.layout&&a.__autoSize===i.attrs.__autoSize,c=this.getParentNodeWidth(),l=c&&c!==this.state.parentWidth,d=this.tableNodeLayoutSize(i,t.width,n),u=a.isNumberColumnEnabled!==i.attrs.isNumberColumnEnabled,p=Object(o("aMLK").i)(i,r);(s||l||u||d!==this.layoutSize||p)&&(u||p||this.scaleTable({parentWidth:c,layoutChanged:s}),this.updateParentWidth(c)),this.updateTableContainerWidth(),this.node=i,this.containerWidth=t,this.layoutSize=d})),s()(this,"scaleTable",(e=>{const{view:t,getNode:n,getPos:r,containerWidth:a,options:s}=this.props,c=n(),{state:l,dispatch:d}=t,u=r();if(!Object(o("Gbq5").e)(u,l))return;const p=t.domAtPos.bind(t),{width:h}=a;this.frameId&&window&&window.cancelAnimationFrame(this.frameId),((e,t,n)=>(r,i)=>{if(!e)return!1;const{node:a,start:s,parentWidth:c}=t;if(!1===Object(o("nwXu").b)(a))return Object(o("nwXu").c)(e,a),!1;let l
;if(l=c?Object(o("s6f1").c)(e,c,a,s,n):Object(o("s6f1").a)(e,t,n),l){let{tr:e}=r;if(e=Object(o("8kb8").b)(l,a,s)(e),e.docChanged&&i)return e.setMeta("scrollIntoView",!1),e.setMeta("scaleTable",!0),i(e),!0}return!1})(this.table,i()(i()({},e),{},{node:c,prevNode:this.node||c,start:u+1,containerWidth:h,previousContainerWidth:this.containerWidth.width||h},s),p)(l,d)})),s()(this,"handleAutoSize",(()=>{if(this.table){const{view:e,getNode:t,getPos:n,options:r,containerWidth:i}=this.props,a=t(),s=n();if(!Object(o("Gbq5").e)(s,e.state))return;((e,t,n,r,i)=>{e.dispatch(Object(o("IWa1").b)(e,t,n,r,i))})(e,a,this.table,s,{dynamicTextSizing:r&&r.dynamicTextSizing||!1,containerWidth:i.width})}})),s()(this,"handleWindowResize",(()=>{const{getNode:e,containerWidth:t}=this.props,n=this.tableNodeLayoutSize(e());if(t.width>n)return;const o=this.getParentNodeWidth();this.frameId=this.scaleTableDebounced(o)})),s()(this,"updateTableContainerWidth",(()=>{
const{getNode:e,containerWidth:t,options:n}=this.props,r=e();if(n&&!1===n.isBreakoutEnabled)return;const i=Object(o("9ehW").b)(r.attrs.layout,t.width);if(this.state.tableContainerWidth===i)return null;this.setState((e=>n&&!1===n.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:{tableContainerWidth:i}))})),s()(this,"getParentNodeWidth",(()=>{const{getPos:e,containerWidth:t,options:n,view:{state:r}}=this.props,i=e();if(Object(o("Gbq5").e)(i,r))return Object(o("ioPV").b)(i,r,t,n&&n.isFullWidthModeEnabled)})),s()(this,"updateParentWidth",(e=>{this.setState({parentWidth:e})})),s()(this,"tableNodeLayoutSize",((e,t,n)=>Object(o("Rjvn").b)(e.attrs.layout,t||this.props.containerWidth.width,n||this.props.options||{}))),s()(this,"scaleTableDebounced",Object(o("GsWa").a)(this.scaleTable)),s()(this,"handleTableResizingDebounced",Object(o("GsWa").a)(this.handleTableResizing)),s()(this,"handleScrollDebounced",Object(o("GsWa").a)(this.handleScroll)),
s()(this,"handleAutoSizeDebounced",Object(o("GsWa").a)(this.handleAutoSize)),s()(this,"handleWindowResizeDebounced",Object(o("GsWa").a)(this.handleWindowResize));const{options:t,containerWidth:n,getNode:r,view:a}=e;this.node=r(),this.containerWidth=n;const c=!!t&&t.dynamicTextSizing,l=!!t&&t.wasFullWidthModeEnabled;this.layoutSize=this.tableNodeLayoutSize(this.node,n.width,{dynamicTextSizing:c,isFullWidthModeEnabled:l}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((e=>{document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")}));const{initialRenderOptimization:d}=Object(o("37L4").b)(a.state)||{};d||requestAnimationFrame((()=>{this.setState({isLoading:!1})}))}componentDidMount(){const{allowColumnResizing:e,eventDispatcher:t}=this.props;e&&this.wrapper&&!Js&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),e&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),
this.frameId=this.handleTableResizingDebounced(this.props));const n=js.getState(this.props.view.state);n&&this.onStickyState(n),t.on(js.key,this.onStickyState)}componentWillUnmount(){this.wrapper&&!Js&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.frameId&&window&&window.cancelAnimationFrame(this.frameId),this.overflowShadowsObserver&&this.overflowShadowsObserver.dispose(),this.props.eventDispatcher.off(js.key,this.onStickyState)}componentDidUpdate(e){const{view:t,getNode:n}=this.props,{tableOverflowShadowsOptimization:r}=Object(o("37L4").b)(t.state)||{};var i,a;r?(null!==(i=this.wrapper)&&void 0!==i&&i.parentElement&&this.table&&!this.overflowShadowsObserver&&(this.overflowShadowsObserver=new Hs(this.updateShadowState,this.table,this.wrapper)),
this.overflowShadowsObserver&&this.overflowShadowsObserver.observeCells(null===(a=this.state.stickyHeader)||void 0===a?void 0:a.sticky,Object(o("aMLK").d)(t.state,n()))):this.updateShadows();const s=n();if(s.attrs.__autoSize)this.handleAutoSizeDebounced();else if(this.props.allowColumnResizing&&this.table){const t=this.node;if(Object(o("aMLK").h)(s,t)||Object(o("aMLK").i)(s,t)){const{view:e}=this.props;Object(o("nwXu").c)(this.table,s),Object(o("2csd").d)(e.state)}this.frameId=this.handleTableResizingDebounced(e)}}updateShadows(){var e;const t=null===(e=this.wrapper)||void 0===e?void 0:e.parentElement;if(this.wrapper&&t){const e=t.querySelectorAll(`.${o("EfLE").b.TABLE_RIGHT_SHADOW}`),n=t.querySelectorAll(`.${o("EfLE").b.TABLE_LEFT_SHADOW}`);Object(o("k4/a").a)(this.props.view.state,this.wrapper,this.table,e,n)}}render(){
const{view:e,getNode:t,tableResizingPluginState:n,allowControls:r=!0,isHeaderRowEnabled:i,ordering:a,isHeaderColumnEnabled:s,tableActive:c,containerWidth:d}=this.props,{isLoading:u,tableContainerWidth:p,showBeforeShadow:h,showAfterShadow:f}=this.state,m=t(),{isInDanger:g,hoveredRows:b}=Object(o("aTJx").c)(e.state),{stickyHeadersOptimization:v,initialRenderOptimization:y,tableRenderOptimization:E,tableOverflowShadowsOptimization:w}=Object(o("37L4").b)(e.state)||{},O=this.table||void 0,S=!!n&&!!n.dragging,C=O?O.querySelector("tr[data-header-row]"):void 0,T=O&&!E?O.offsetHeight:void 0,x=Object(o("aMLK").d)(e.state,m),k=l.a.createElement("div",{className:o("EfLE").b.ROW_CONTROLS_WRAPPER},l.a.createElement(Bs,{editorView:e,tableRef:O,tableActive:c,hoveredRows:b,isInDanger:g,isResizing:S,isNumberColumnEnabled:m.attrs.isNumberColumnEnabled,isHeaderRowEnabled:i,ordering:a,isHeaderColumnEnabled:s,hasHeaderRow:x,selection:e.state.selection,tableHeight:T,headerRowHeight:C?C.offsetHeight:void 0,
stickyHeader:this.state.stickyHeader})),I=r&&(!u||y)&&c?-o("9cwX").W:o("9ehW").g,A=w?Object(o("2JGX").default)((e=>({visibility:e?"visible":"hidden"}))):$s;return l.a.createElement("div",{style:{width:p,marginLeft:this.getMarginLeft(p)},className:Ms()(o("EfLE").b.TABLE_CONTAINER,{[o("EfLE").b.WITH_CONTROLS]:r&&c,[o("EfLE").b.TABLE_STICKY]:this.state.stickyHeader&&x,[o("EfLE").b.HOVERED_DELETE_BUTTON]:g,[o("EfLE").b.TABLE_SELECTED]:Object(o("+yxU").c)(e.state.selection),"less-padding":d.width<o("9cwX").z}),"data-number-column":m.attrs.isNumberColumnEnabled,"data-layout":m.attrs.layout},v&&l.a.createElement("div",{className:o("EfLE").b.TABLE_STICKY_SENTINEL_TOP}),l.a.createElement(Fs,null),r&&(!u||y)&&k,l.a.createElement("div",{style:A(h),className:o("EfLE").b.TABLE_LEFT_SHADOW}),this.state.stickyHeader&&l.a.createElement("div",{className:`${o("EfLE").b.TABLE_LEFT_SHADOW} ${o("EfLE").b.TABLE_STICKY_SHADOW}`,style:{visibility:w?h&&x?"visible":"hidden":void 0,
top:`${this.state.stickyHeader.top+this.state.stickyHeader.padding+I+2}px`}}),l.a.createElement("div",{className:Ms()(o("EfLE").b.TABLE_NODE_WRAPPER),ref:e=>{if(this.wrapper=e,e){this.props.contentDOM(e);const t=e.querySelector("table");t!==this.table&&(this.table=t)}}}),l.a.createElement("div",{style:A(f),className:o("EfLE").b.TABLE_RIGHT_SHADOW}),this.state.stickyHeader&&l.a.createElement("div",{style:{position:"absolute",right:"-2px"}},l.a.createElement("div",{className:`${o("EfLE").b.TABLE_RIGHT_SHADOW} ${o("EfLE").b.TABLE_STICKY_SHADOW}`,style:{visibility:w?f&&x?"visible":"hidden":void 0,top:`${this.state.stickyHeader.top+this.state.stickyHeader.padding+I+2}px`}})),v&&l.a.createElement("div",{className:o("EfLE").b.TABLE_STICKY_SENTINEL_BOTTOM}))}}zs.displayName="TableComponent",s()(zs,"displayName","TableComponent");var Us=zs;const Vs="TABLE_DELETED",Ws=e=>({"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize,
"data-table-local-id":e.attrs.localId||""});class Ks extends o("gVP2").a{constructor(e){super(e.node,e.view,e.getPos,e.portalProviderAPI,e.eventDispatcher,e),s()(this,"getNode",(()=>this.node)),s()(this,"hasHoveredRows",!1),this.getPos=e.getPos,this.editorView=e.view,this.tableRenderOptimization=e.tableRenderOptimization,this.eventDispatcher=e.eventDispatcher}getContentDOM(){var e;const t=Je.DOMSerializer.renderSpec(document,((e,t)=>{let n="";return t.allowColumnResizing&&(n=["colgroup",{},...Object(o("nwXu").a)(e)]),["table",Ws(e),n,["tbody",0]]})(this.node,this.reactComponentProps));return t.dom&&(this.table=t.dom),this.tableRenderOptimization&&this.table&&!this.resizeObserver&&null!==(e=window)&&void 0!==e&&e.ResizeObserver&&(this.resizeObserver=new ResizeObserver((e=>{for(let t of e){const e=t.contentRect?t.contentRect.height:t.target.offsetHeight,n=t.contentRect?t.contentRect.width:t.target.offsetWidth;Gi(e,n)(this.editorView.state,this.editorView.dispatch)}})),
this.resizeObserver.observe(this.table)),t}setDomAttrs(e){if(!this.table)return;const t=Ws(e);Object.keys(t).forEach((e=>{this.table.setAttribute(e,t[e])}))}render(e,t){return l.a.createElement(o("fd7e").a,{plugins:{containerWidth:o("IXso").b,pluginState:o("aTJx").d,tableResizingPluginState:o("fRKR").a},editorView:e.view,render:n=>{const{tableResizingPluginState:o,pluginState:r,containerWidth:i}=n,a=e.getPos()===r.tablePos;return l.a.createElement(Us,{view:e.view,allowColumnResizing:e.allowColumnResizing,eventDispatcher:e.eventDispatcher,getPos:e.getPos,options:e.options,allowControls:r.pluginConfig.allowControls,isHeaderRowEnabled:r.isHeaderRowEnabled,isHeaderColumnEnabled:r.isHeaderColumnEnabled,tableActive:a,ordering:r.ordering,tableResizingPluginState:o,getNode:this.getNode,containerWidth:i,contentDOM:t})}})}viewShouldUpdate(e){if(this.tableRenderOptimization){const{hoveredRows:t}=Object(o("aTJx").c)(this.view.state),n=!(null==t||!t.length)!==this.hasHoveredRows
;if(e.attrs.isNumberColumnEnabled&&n)return this.hasHoveredRows=!(null==t||!t.length),!0;const r=this.getNode();if(typeof r.attrs!=typeof e.attrs)return!0;const i=Object.keys(r.attrs),a=Object.keys(e.attrs);return i.length!==a.length||i.some((t=>r.attrs[t]!==e.attrs[t]))}return super.viewShouldUpdate(e)}ignoreMutation(){return!0}destroy(){var e;this.resizeObserver&&this.resizeObserver.disconnect(),null===(e=this.eventDispatcher)||void 0===e||e.emit(Vs,this.node),super.destroy()}}Ks.displayName="TableView";const qs=(e,t,n)=>{if(Object(o("+yxU").c)(e.selection)){const r=Object(o("zYPQ").c)(e.selection);if(r){const i="string"==typeof t?new Je.Slice(Je.Fragment.from(e.schema.text(t)),0,0):t;let a=e.tr.replace(r.pos,r.pos+r.node.nodeSize,i);a.setSelection(d.TextSelection.create(a.doc,r.pos+i.size+1));const{totalRowCount:s,totalColumnCount:c}=Object(o("JnOq").b)(e.selection);return Object(o("SVcB").a)(e,a,{action:o("feK2").a.REPLACED,actionSubject:o("J5HJ").b.TABLE,attributes:{
totalColumnCount:c,totalRowCount:s,inputMethod:n},eventType:o("J5HJ").e.TRACK}),a}}return e.tr};var Gs=o("EcEN"),Ys=o.n(Gs);class Xs{constructor(e,t,n,r){this.view=t,this.node=e;const{dom:i,contentDOM:a}=Je.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e));this.getPos=n,this.dom=i,this.contentDOM=a;const{mouseMoveOptimization:s}=Object(o("37L4").b)(t.state)||{};s&&r&&(this.contentDOM.id=Ys()(),this.mouseMoveOptimization=s,this.observer=r,r.observe(this.contentDOM))}updateNodeView(e){if(this.node.type!==e.type)return!1;const t=Object(o("kBLm").b)(this.node),n=Object(o("kBLm").b)(e),{colspan:r,rowspan:i}=Object(o("kBLm").a)(this.dom);if(r!==(e.attrs.colspan||1)||i!==(e.attrs.rowspan||1))return!1;const a=Object.entries(n).filter((([e,n])=>t[e]!==n)),s=Object.keys(t).filter((e=>!n.hasOwnProperty(e)));return a.length||s.length?(a.forEach((([e,t])=>this.dom.setAttribute(e,t||""))),s.forEach((e=>this.dom.removeAttribute(e))),!0):!!this.node.sameMarkup(e)}update(e){
const t=this.updateNodeView(e);return this.node=e,t}destroy(){this.mouseMoveOptimization&&this.observer&&this.observer.unobserve(this.contentDOM)}}let Qs,Zs,ec,tc;const nc=(e,t,n,r,a,s,c,l)=>{var u;Qs=s,Zs=a,ec=c,tc=l;const h=Object(o("aTJx").b)(e,i()({pluginConfig:r,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,isFullWidthModeEnabled:ec,isHeaderRowEnabled:!!r.allowHeaderRow,isHeaderColumnEnabled:!1},o("QN9l").a));let f={};const m=null!==(u=window)&&void 0!==u&&u.ResizeObserver?new ResizeObserver((e=>{e.forEach((e=>{e.target.id&&(f[e.target.id]=e.contentRect)}))})):void 0,g=r.tableCellOptimization?{tableCell:(e,t,n)=>new Xs(e,t,n,m),tableHeader:(e,t,n)=>new Xs(e,t,n,m)}:{};return new d.Plugin({state:h,key:o("aTJx").d,appendTransaction:(e,t,n)=>{const r=e.find((e=>"cut"===e.getMeta("uiEvent")));if(r){const e=((e,t,n)=>{const r=t.tr.selection;let{tr:i}=n;if(r instanceof o("n1Ll").a){
const a=e.doc.resolve(e.mapping.map(r.$anchorCell.pos)),s=e.doc.resolve(e.mapping.map(r.$headCell.pos)),c=new(o("n1Ll").a)(a,s);if(i.setSelection(c),i.selection instanceof o("n1Ll").a){const e=Object(o("n3wV").a)(c);if(e){const{verticalCells:r,horizontalCells:a,totalCells:s,totalRowCount:c,totalColumnCount:l}=Object(o("JnOq").a)(i.selection);if(i=Object(o("SVcB").a)(n,i,{action:o("feK2").a.CUT,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{verticalCells:r,horizontalCells:a,totalCells:s,totalRowCount:c,totalColumnCount:l},eventType:o("J5HJ").e.TRACK}),i.selection instanceof o("n1Ll").a)if(i.selection.isRowSelection()&&i.selection.isColSelection())i=Pi(i);else if(i.selection.isRowSelection()){const{pluginConfig:{isHeaderRowRequired:t}}=Object(o("aTJx").c)(n);i=ga(e,t)(i)}else i.selection.isColSelection()&&(i=Ea(e,Object(o("92CY").a)(t))(i))}}}return i})(r,t,n);return Object(o("IWa1").c)(e)||e}if(e.find((e=>e.docChanged)))return Object(o("IWa1").c)(n.tr)},view:e=>{
const t=e.domAtPos.bind(e);return{update:e=>{const{state:n,dispatch:r}=e,{selection:i}=n,a=Object(o("aTJx").c)(n);let s,c;if(a.editorHasFocus){const e=Object(p.findParentDomRefOfType)(n.schema.nodes.table,t)(i);e&&(s=e.querySelector("table")||void 0),c=Object(o("zYPQ").c)(n.selection)}if(a.tableRef!==s&&(e=>Object(o("aTJx").a)((t=>{const n=e,r=Object(o("zYPQ").c)(t.selection),i=e&&r?r.node:void 0,a=e&&r?r.pos:void 0,s=Object(o("9a+x").b)(n,`.${o("EfLE").b.TABLE_NODE_WRAPPER}`)||void 0,c=i?i.attrs.layout:void 0,l=Fi(t,yi(t.selection),o("EfLE").c.COLUMN_CONTROLS_DECORATIONS);return{type:"SET_TABLE_REF",data:{tableRef:n,tableNode:i,tablePos:a,tableWrapperTarget:s,layout:c||"default",isHeaderRowEnabled:Object(o("aMLK").b)(t),isHeaderColumnEnabled:Object(o("aMLK").a)(t),decorationSet:l,resizeHandleColumnIndex:void 0}}}),(e=>e.setMeta("addToHistory",!1))))(s)(n,r),a.tableNode!==c&&ys(s),a.editorHasFocus&&a.tableRef){const{$cursor:e}=n.selection;if(e){
const e=Object(p.findParentNodeOfType)(n.schema.nodes.tableHeader)(n.selection);e&&(e=>(t,n)=>{const{tr:r}=t;if(Object(o("D4z0").r)(r.selection)&&r.selection.$cursor&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&Object(o("Dc6L").e)(e.node.firstChild,t.schema)){const{strong:e}=t.schema.marks;return r.setStoredMarks([e.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1})(e)(n,r)}}},destroy:()=>{m&&m.disconnect()}}},props:{handleClick:({state:e,dispatch:t},n,r)=>{const i=Ii.getState(e);if(gi(i).length&&ds()(e,t),o("j5wO").a.chrome&&r.target){const e=r.target.classList;if(e.contains(o("EfLE").b.CONTROLS_BUTTON)||e.contains(o("EfLE").b.CONTEXTUAL_MENU_BUTTON))return!0}return!1},handleScrollToSelection:e=>{const{tableHeader:t}=e.state.schema.nodes,n=Object(p.findParentDomRefOfType)(t,e.domAtPos.bind(e))(e.state.selection),r=Object(o("9a+x").b)(n,"tr");return!!r&&r.classList.contains("sticky")},handleTextInput:({state:e,dispatch:t},n,r,i)=>{
const a=qs(e,i,o("J5HJ").f.KEYBOARD);return!!a.selectionSet&&(t(a),!0)},nodeViews:i()(i()({},g),{},{table:(e,r,i)=>((e,t,n,r,i,a)=>{const{pluginConfig:s}=Object(o("aTJx").c)(t.state),{allowColumnResizing:c}=li(s),{tableRenderOptimization:l}=Object(o("37L4").b)(t.state)||{};return new Ks({node:e,view:t,allowColumnResizing:c,portalProviderAPI:r,eventDispatcher:i,getPos:n,options:a,tableRenderOptimization:l}).init()})(e,r,i,t,n,{isBreakoutEnabled:Qs,dynamicTextSizing:Zs,isFullWidthModeEnabled:ec,wasFullWidthModeEnabled:tc})}),handleDOMEvents:{focus:ws,blur:Es,mousedown:Cs,mouseover:As(Ss),mouseleave:As(xs),mouseout:As(Ts),mousemove:As(ks,f),click:As(Os)},handleTripleClick:Is}})},{createPluginState:oc,createCommand:rc}=Object(o("FJah").a)(js,((e,t)=>{if("UPDATE"===t.name){let n=!1;const o=e.map((e=>{const o=e.pos===t.state.pos;return o&&(n=!0),o?t.state:e}));return n||o.push(t.state),o}return"REMOVE"===t.name?e.filter((e=>e.pos!==t.pos)):e}),{mapping:(e,t)=>e.docChanged?t.map((t=>{
const n=e.mapping.mapResult(t.pos);return n?i()(i()({},t),{},{pos:n.pos}):void 0})).filter((e=>void 0!==e)):t}),ic=e=>rc({name:"UPDATE",state:e},(e=>e.setMeta("addToHistory",!1))),ac=e=>!e||e instanceof Window?0:e.getBoundingClientRect().top,sc=e=>{const t=Object(o("n8Jk").c)(e,(e=>"tableHeader"===e.type.name)).every(Boolean),n=Object(o("n8Jk").c)(e,(e=>e.attrs.rowspan||0)).some((e=>e>1));return t&&!n};class cc{get tree(){return(e=>{const t=e.parentElement;if(!t)return null;const n=t.parentElement;if(!n)return null;const o=n.parentElement;return o?{wrapper:o,table:n}:null})(this.dom)}constructor(e,t,n,r){s()(this,"colControlsOffset",0),s()(this,"focused",!1),s()(this,"scrollElementTop",0),s()(this,"isSticky",!1),s()(this,"stickyHeadersOptimization",!1),s()(this,"sentinels",{}),s()(this,"listening",!1),s()(this,"onScroll",(()=>{this.tree&&(this.latestDomTop=ac(this.tree.wrapper),this.nextFrame||this.loop())})),s()(this,"loop",(()=>{this.nextFrame=window.requestAnimationFrame((()=>{
if(this.previousDomTop===this.latestDomTop&&this.previousPadding===this.padding)return void(this.nextFrame=void 0);const e=this.tree;e?(this.paint(e),this.previousPadding=this.padding,this.previousDomTop=this.latestDomTop,this.loop()):this.nextFrame=void 0}))})),s()(this,"paint",(e=>{const{table:t,wrapper:n}=e;this.shouldHeaderStick(e)?this.makeHeaderRowSticky(e):this.makeRowHeaderNotSticky(t),this.dom.scrollLeft=n.scrollLeft})),s()(this,"onTablePluginState",(e=>{const t=e.tableRef;let n=!1;const r=this.tree;if(!r)return;e.isHeaderRowEnabled||[this.sentinels.top,this.sentinels.bottom].forEach((e=>{e&&delete e.dataset.isObserved}));const i=t===r.table;i!==this.focused&&(n=!0),this.focused=i;const{wrapper:a}=r,s=a.parentElement.parentElement,c=s&&s.parentElement;i?(this.colControlsOffset=o("Npri").l,c&&c.getAttribute("data-layout-content")&&(s.style.paddingLeft="11px")):(this.colControlsOffset=0,c&&c.getAttribute("data-layout-content")&&s.style.removeProperty("padding-left")),
setTimeout((()=>{(!this.stickyHeadersOptimization||n&&this.isSticky)&&this.paint(r),Object(o("2csd").c)(r.table)}),0)})),s()(this,"onWidthPluginState",(()=>{const e=this.tree;e&&Object(o("2csd").c)(e.table)})),s()(this,"shouldHeaderStick",(e=>{const{wrapper:t}=e,n=this.scrollElementTop,o=this.getWrapperRefTop(t),r=t.getBoundingClientRect(),i=!this.dom.previousElementSibling,a=!!this.dom.nextElementSibling,s=n-r.bottom<this.dom.clientHeight;return o<=n&&s&&i&&a})),s()(this,"makeHeaderRowSticky",(e=>{const{table:t}=e,n=this.getCurrentTableTop(e),r=n>0?this.scrollElementTop:this.scrollElementTop+n;this.isSticky||(Object(o("2csd").c)(t),this.dom.classList.add("sticky"),t.classList.add(o("EfLE").b.TABLE_STICKY),this.isSticky=!0),this.dom.style.top=`${r}px`,Object(o("2csd").e)(t),this.emitOn(r,this.colControlsOffset)})),s()(this,"getWrapperoffset",((e=!1)=>(e?!this.focused:this.focused)?0:o("Npri").l)),s()(this,"getWrapperRefTop",(e=>Math.round(ac(e))+this.getWrapperoffset())),
s()(this,"getScrolledTableTop",(e=>this.getWrapperRefTop(e)-this.scrollElementTop)),s()(this,"getCurrentTableTop",(e=>this.getScrolledTableTop(e.wrapper)+e.table.clientHeight)),s()(this,"makeRowHeaderNotSticky",(e=>{this.isSticky&&(this.dom.style.removeProperty("width"),this.dom.classList.remove("sticky"),e.classList.remove(o("EfLE").b.TABLE_STICKY),this.isSticky=!1,this.dom.style.top="",e.style.removeProperty("margin-top"),this.emitOff())})),s()(this,"padding",0),s()(this,"top",0),s()(this,"emitOn",((e,t)=>{e===this.top&&t===this.padding||(this.top=e,this.padding=t,ic({pos:this.getPos(),top:e,sticky:!0,padding:t})(this.view.state,this.view.dispatch,this.view))})),s()(this,"emitOff",(()=>{0===this.top&&0===this.padding||(this.top=0,this.padding=0,ic({pos:this.getPos(),sticky:!1,top:this.top,padding:this.padding})(this.view.state,this.view.dispatch,this.view))})),this.view=t,this.node=e,this.getPos=n,this.eventDispatcher=r,this.dom=document.createElement("tr"),this.contentDOM=this.dom
;const i=Object(o("37L4").b)(t.state)||{},{stickyHeadersOptimization:a}=i;this.stickyHeadersOptimization=!!a,this.isHeaderRow=sc(e),this.isHeaderRow&&(this.dom.setAttribute("data-header-row","true"),this.subscribe())}subscribe(){this.scrollElement=Object(o("fuko").c)(this.view.dom)||window,this.scrollElement&&(this.stickyHeadersOptimization?this.initObservers():this.scrollElement.addEventListener("scroll",this.onScroll),this.scrollElementTop=ac(this.scrollElement)),this.eventDispatcher.on(o("IXso").b.key,this.onWidthPluginState),this.eventDispatcher.on(o("aTJx").d.key,this.onTablePluginState),this.listening=!0}unsubscribe(){this.listening&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.scrollElement&&!this.stickyHeadersOptimization&&this.scrollElement.removeEventListener("scroll",this.onScroll),this.eventDispatcher.off(o("IXso").b.key,this.onWidthPluginState),
this.eventDispatcher.off(o("aTJx").d.key,this.onTablePluginState),this.listening=!1)}initObservers(){this.dom&&!this.dom.dataset.isObserved&&(this.dom.dataset.isObserved="true",this.createIntersectionObserver(),this.createResizeObserver(),this.intersectionObserver&&this.resizeObserver&&(this.resizeObserver.observe(this.dom),window.requestAnimationFrame((()=>{var e;const t=null===(e=this.tree)||void 0===e?void 0:e.wrapper.closest(`.${o("EfLE").b.NODEVIEW_WRAPPER}`);t&&(this.sentinels.top=t.getElementsByClassName(o("EfLE").b.TABLE_STICKY_SENTINEL_TOP).item(0),this.sentinels.bottom=t.getElementsByClassName(o("EfLE").b.TABLE_STICKY_SENTINEL_BOTTOM).item(0),[this.sentinels.top,this.sentinels.bottom].forEach((e=>{e&&!e.dataset.isObserved&&(e.dataset.isObserved="true",this.intersectionObserver.observe(e))})))}))))}createResizeObserver(){this.resizeObserver=new ResizeObserver((e=>{if(!this.tree)return;const{table:t}=this.tree;e.forEach((e=>{
const n=e.contentRect?e.contentRect.height:e.target.offsetHeight;this.sentinels.bottom&&Math.abs(n-(this.stickyRowHeight||0))>1&&(this.stickyRowHeight=n,this.sentinels.bottom.style.bottom=`${23+n}px`,Object(o("2csd").e)(t))}))}))}createIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(((e,t)=>{if(!this.tree)return;const{table:n}=this.tree;e.forEach((e=>{var t;const r=e.target;if(0!==(null===(t=e.rootBounds)||void 0===t?void 0:t.height)){if(r.classList.contains(o("EfLE").b.TABLE_STICKY_SENTINEL_TOP)){var i;const t=((null===(i=e.rootBounds)||void 0===i?void 0:i.bottom)||0)<e.boundingClientRect.bottom;e.isIntersecting||t?n&&this.makeRowHeaderNotSticky(n):this.tree&&this.makeHeaderRowSticky(this.tree)}if(r.classList.contains(o("EfLE").b.TABLE_STICKY_SENTINEL_BOTTOM)){var a;const t=e.boundingClientRect.top-this.dom.offsetHeight<((null===(a=e.rootBounds)||void 0===a?void 0:a.top)||0)
;n&&!e.isIntersecting&&t?this.makeRowHeaderNotSticky(n):e.isIntersecting&&t&&this.tree&&this.makeHeaderRowSticky(this.tree)}}}))}),{root:this.scrollElement})}update(e,...t){if(e===this.node)return!0;const n=sc(e);if(this.isHeaderRow!==n)return!1;if(this.node=e,!this.isHeaderRow)return!0;const r=this.dom.parentElement,i=r&&r.parentElement;return Object(o("2csd").c)(i),!0}destroy(){this.unsubscribe(),this.tree&&this.makeRowHeaderNotSticky(this.tree.table),this.emitOff()}ignoreMutation(e){return!("selection"===e.type&&"TR"===e.target.tagName)}}const lc=(e,t,n,r,i)=>{const a=n>0?Object(o("wWYC").a)(e,t,n,i):n<0?Object(o("wWYC").c)(e,t,n,i):e;return Object(o("zsjf").h)(a,r),a},dc=(e,t,n,r)=>{const{state:i,dispatch:a}=e,{editorDisabled:s}=o("QNcB").b.getState(i),c=e.domAtPos.bind(e);if(s||null===n||!Object(o("Rjvn").d)(i.doc.resolve(n)))return!1;t.preventDefault();const l=t.timeStamp,d=i.doc.nodeAt(n),u=i.doc.resolve(n),p=u.node(-1),h=u.start(-1);let f=c(h).node
;f&&"TABLE"!==f.nodeName&&(f=f.closest("table"));const m=o("IXso").b.getState(i);let g=Object(o("ioPV").b)(h,i,m)||Object(o("Rjvn").b)(f.getAttribute("data-layout"),m.width,{dynamicTextSizing:r});p.attrs.isNumberColumnEnabled&&(g-=o("9cwX").T);const b=Object(o("zsjf").e)({minWidth:o("9ehW").d,maxSize:g,table:p,tableRef:f,start:h,domAtPos:c});if((({resizeState:e,table:t,start:n,event:r})=>(i,a)=>{if(!Object(o("+yxU").c)(i.selection))return!1;const{lastClick:s}=Object(o("jegY").c)(i),c=Date.now();if(s&&c-s.time<500&&Object(o("2csd").b)(r,s)){const r=Object(o("zsjf").c)(e);return ua(null,(e=>Object(o("8kb8").b)(r,t,n)(e)))(i,a),!0}return ua({x:r.clientX,y:r.clientY,time:c})(i,a),!1})({resizeState:b,table:p,start:h,event:t})(i,a))return y(t),!0;const v=Object(o("Rjvn").a)(e,n,d.attrs);function y(t){window.removeEventListener("mouseup",y),window.removeEventListener("mousemove",E);const{clientX:n}=t,{state:r,dispatch:i}=e,{dragging:a,resizeHandlePos:s}=Object(o("jegY").c)(r)
;if(null===s)return da()(r,i);if(!Object(o("Rjvn").d)(r.doc.resolve(s)))return;const c=r.doc.resolve(s),d=c.start(-1),u=c.node(-1);if(a&&n===a.startX)return da()(r,i);let{tr:h}=r;if(a){const{startX:e}=a;if(u.eq(p)){const i=o("wYWE").b.get(u),s=i.colCount(c.pos-d)+(c.nodeAfter?c.nodeAfter.attrs.colspan:1)-1,p=Object(o("n3wV").a)(r.selection),m=p?Ps(p):[],g=m.indexOf(s)>-1||m.indexOf(s+1)>-1,v=lc(b,s,n-e,f,g?m:void 0);if(h=Object(o("8kb8").b)(v,u,d)(h),s===i.width-1){const e=t.timeStamp;h=Object(o("SVcB").a)(r,h,{action:o("feK2").a.ATTEMPTED_TABLE_WIDTH_CHANGE,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{type:"table-border",position:"right",duration:e-l,delta:Math.abs(n-a.startX)},eventType:o("J5HJ").e.UI})}}return da(h)(r,i)}}function E(t){const{clientX:n,which:r}=t,{state:i}=e,{dragging:a,resizeHandlePos:s}=Object(o("jegY").c)(i);if(!r||!a||null===s||!Object(o("Rjvn").d)(i.doc.resolve(s)))return y(t)
;const c=i.doc.resolve(s),l=c.node(-1),d=o("wYWE").b.get(l).colCount(c.pos-c.start(-1))+c.nodeAfter.attrs.colspan-1;lc(b,d,n-a.startX,f),Object(o("2csd").d)(i),ys(f)}return((e,t)=>Object(o("jegY").a)({type:"SET_DRAGGING",data:{dragging:e}},(e=>t||e)))({startX:t.clientX,startWidth:v})(i,a),window.addEventListener("mouseup",y),window.addEventListener("mousemove",E),!0};function uc(e,{lastColumnResizable:t=!0,dynamicTextSizing:n=!1}){return new d.Plugin({key:o("fRKR").a,state:Object(o("jegY").b)(e,{lastColumnResizable:t,dynamicTextSizing:n,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes(e){const t=Object(o("jegY").c)(e);return{class:Ms()(o("EfLE").b.RESIZING_PLUGIN,{[o("EfLE").b.RESIZE_CURSOR]:null!==t.resizeHandlePos,[o("EfLE").b.IS_RESIZING]:!!t.dragging})}},handleDOMEvents:{mousedown(e,r){const{state:i}=e,a=Object(o("jegY").c)(i).resizeHandlePos||Object(o("2csd").a)(e,r,t),{dragging:s}=Object(o("jegY").c)(i);if(null!==a&&!s&&dc(e,r,a,n)){
const{state:t,dispatch:n}=e;return(e=>Object(o("jegY").a)({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}}))(a)(t,n)}return!1}}}})}const pc=(e,t)=>{const n=Object(o("p81E").a)(e.schema);return ea((({node:e})=>n[e.type.spec.tableRole]))(e,t)};var hc=Object(u.defineMessages)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column right",description:"Inserts a new column to the right of selected column."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Delete {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row below",description:"Inserts a new row below the selected row."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Delete {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",
description:"Opens a menu with options for the current table cell."},confirmDeleteLinkedModalOKButton:{id:"fabric.editor.tables.confirmDeleteLinkedModalOKButton",defaultMessage:"Remove table and data",description:"Action button label for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.tables.confirmDeleteLinkedModalMessage",defaultMessage:"Removing this table will also remove all of the data contained in any connected charts.",description:"Message for confirm modal when deleting a table linked to an extension."}});const fc=[];o("kBLm").f.forEach(((e,t)=>{const n=e.toLowerCase().replace(" ","-"),r=Object(o("pvYR").a)(o("uDCx").a,n);fc.push({value:t,label:e,border:o("kBLm").d,message:r})}));var mc=fc;const gc=Object(u.defineMessages)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",
defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A \u2192 Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z \u2192 A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:"\u26a0\ufe0f You can't sort a table with merged cells",description:"Split your cells to enable this feature"},distributeColumns:{id:"fabric.editor.distributeColumns",defaultMessage:"Distribute columns",description:"Distribute widths between selected columns"}})
;class bc extends c.Component{constructor(...e){super(...e),s()(this,"state",{isSubmenuOpen:!1}),s()(this,"handleSubMenuRef",(e=>{const t=Object(o("9a+x").b)(this.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(!t||!e)return;const n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.left+r.width>n.width&&(e.style.left=`-${r.width}px`)})),s()(this,"createItems",(()=>{const{allowMergeCells:e,allowColumnSorting:t,allowBackgroundColor:n,editorView:{state:r},isOpen:a,selectionRect:s,intl:{formatMessage:c},editorView:d}=this.props,u=[],{isSubmenuOpen:p}=this.state,{targetCellPosition:h,pluginConfig:{allowDistributeColumns:f}}=Object(o("aTJx").c)(d.state);if(n){var m;const e=a&&h?r.doc.nodeAt(h):null,t=(null==e||null===(m=e.attrs)||void 0===m?void 0:m.background)||"#ffffff";u.push({content:c(gc.cellBackground),value:{name:"background"},elemAfter:l.a.createElement("div",null,l.a.createElement(o("mw/U").c,{selectedColor:t,className:o("EfLE").b.CONTEXTUAL_MENU_ICON
}),p&&l.a.createElement("div",{className:o("EfLE").b.CONTEXTUAL_SUBMENU,ref:this.handleSubMenuRef},l.a.createElement(o("auKG").a,{cols:7,palette:mc,onClick:this.setColor,selectedColor:t})))})}u.push({content:c(hc.insertColumn),value:{name:"insert_column"},elemAfter:l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(o("4Upw").addColumnAfter))}),u.push({content:c(hc.insertRow),value:{name:"insert_row"},elemAfter:l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(o("4Upw").addRowAfter))});const{top:g,bottom:b,right:v,left:y}=s,E=v-y,w=b-g;if(u.push({content:c(hc.removeColumns,{0:E}),value:{name:"delete_column"}}),u.push({content:c(hc.removeRows,{0:w}),value:{name:"delete_row"}}),e&&(u.push({content:c(gc.mergeCells),value:{name:"merge"},isDisabled:!pa(r.tr)}),u.push({content:c(gc.splitCell),value:{name:"split"},isDisabled:!pc(r)})),f){var O;const e=Object(o("zsjf").d)(s,r,d.domAtPos.bind(d)),t=null!==(O=null==e?void 0:e.changed)&&void 0!==O&&O;u.push({
content:c(gc.distributeColumns),value:{name:"distribute_columns"},isDisabled:!t})}if(t){const e=rs(r.tr).length>0?{tooltipDescription:c(gc.canNotSortTable),isDisabled:!0}:{};u.push(i()({content:c(gc.sortColumnASC),value:{name:"sort_column_asc"}},e)),u.push(i()({content:c(gc.sortColumnDESC),value:{name:"sort_column_desc"}},e))}return u.push({content:c(gc.clearCells,{0:Math.max(E,w)}),value:{name:"clear"},elemAfter:l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(o("4Upw").backspace))}),u.length?[{items:u}]:null})),s()(this,"onMenuItemActivated",(({item:e})=>{const{editorView:t,selectionRect:n}=this.props,{state:r,dispatch:i}=t,{targetCellPosition:a}=Object(o("aTJx").c)(r);switch(e.value.name){case"sort_column_desc":La(o("J5HJ").f.CONTEXT_MENU,n.left,Qi.DESC)(r,i),this.toggleOpen();break;case"sort_column_asc":La(o("J5HJ").f.CONTEXT_MENU,n.left,Qi.ASC)(r,i),this.toggleOpen();break;case"merge":Sa()(r,i),this.toggleOpen();break;case"split":Ca()(r,i),this.toggleOpen();break
;case"distribute_columns":const e=Object(o("zsjf").d)(n,r,t.domAtPos.bind(t));e&&(_a(o("J5HJ").f.CONTEXT_MENU,e)(r,i),this.toggleOpen());break;case"clear":Oa(o("J5HJ").f.CONTEXT_MENU,a)(r,i),this.toggleOpen();break;case"insert_column":Ia(o("J5HJ").f.CONTEXT_MENU,n.right)(r,i,t),this.toggleOpen();break;case"insert_row":ka(o("J5HJ").f.CONTEXT_MENU,{index:n.bottom,moveCursorToInsertedRow:!0})(r,i),this.toggleOpen();break;case"delete_column":Na(o("J5HJ").f.CONTEXT_MENU,n)(r,i),this.toggleOpen();break;case"delete_row":const{pluginConfig:{isHeaderRowRequired:s}}=Object(o("aTJx").c)(r);Aa(o("J5HJ").f.CONTEXT_MENU,n,!!s)(r,i),this.toggleOpen()}})),s()(this,"toggleOpen",(()=>{const{isOpen:e,editorView:{state:t,dispatch:n}}=this.props;la()(t,n),e||this.setState({isSubmenuOpen:!1})})),s()(this,"handleOpenChange",(()=>{const{editorView:{state:e,dispatch:t}}=this.props;la()(e,t),this.setState({isSubmenuOpen:!1})})),s()(this,"handleItemMouseEnter",(({item:e})=>{
const{editorView:{state:t,dispatch:n},selectionRect:o}=this.props;"background"===e.value.name&&(this.state.isSubmenuOpen||this.setState({isSubmenuOpen:!0})),"delete_column"===e.value.name&&ss(Ps(o),!0)(t,n),"delete_row"===e.value.name&&cs((e=>{const t=[];for(let n=e.top;n<e.bottom;n++)t.push(n);return t})(o),!0)(t,n),["sort_column_asc","sort_column_desc"].indexOf(e.value.name)>-1&&0!==rs(t.tr).length&&as()(t,n)})),s()(this,"handleItemMouseLeave",(({item:e})=>{const{state:t,dispatch:n}=this.props.editorView;"background"===e.value.name&&this.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(e.value.name)>-1&&ds()(t,n)})),s()(this,"closeSubmenu",(()=>{this.state.isSubmenuOpen&&this.setState({isSubmenuOpen:!1})})),s()(this,"setColor",(e=>{const{editorView:t}=this.props,{targetCellPosition:n}=Object(o("aTJx").c)(t.state),{state:r,dispatch:i}=t;Ta(e,n)(r,i),this.toggleOpen()}))}render(){
const{isOpen:e,mountPoint:t,offset:n,boundariesElement:o}=this.props,r=this.createItems();return r?l.a.createElement("div",{onMouseLeave:this.closeSubmenu},l.a.createElement(Z,{mountTo:t,items:r,isOpen:e,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:180,boundariesElement:o,offset:n})):null}}bc.displayName="ContextualMenu",s()(bc,"defaultProps",{boundariesElement:document.body});var vc=Object(u.injectIntl)(bc);const yc=Object(u.defineMessages)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{
id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"},collapseTable:{id:"fabric.editor.collapseTable",defaultMessage:"Collapse table",description:"Wraps table in an expand"}}),Ec=e=>{const t=e.selection;return Object(o("GhYq").a)(t,"cell")?Object(o("n3wV").a)(t):Object(o("zYPQ").b)(t.$from)},wc=e=>(t,n)=>{const r=Object(o("zYPQ").c)(t.selection),a=Object(o("aTJx").c)(t),s=o("fRKR").a.getState(t);if(r&&a.editorHasFocus){const c=t.schema.nodes.table,l=((e,t,{formatMessage:n})=>{const o=[{id:"editor.table.headerRow",title:n(yc.headerRow),onClick:ja(),selected:t.isHeaderRowEnabled,hidden:!e.allowHeaderRow},{id:"editor.table.headerColumn",title:n(yc.headerColumn),onClick:Pa(),selected:t.isHeaderColumnEnabled,hidden:!e.allowHeaderColumn},{id:"editor.table.numberedColumn",title:n(yc.numberedColumn),onClick:Da(),selected:t.isNumberColumnEnabled,hidden:!e.allowNumberColumn},{id:"editor.table.collapseTable",
title:n(yc.collapseTable),onClick:Ba(),selected:!!t.isTableCollapsed,disabled:!t.canCollapseTable,hidden:!e.allowCollapse}];return{id:"editor.table.tableOptions",type:"dropdown",title:n(yc.tableOptions),hidden:o.every((e=>e.hidden)),options:o}})(e,i()(i()({},a),{},{isNumberColumnEnabled:Object(o("aMLK").c)(t)}),n),d=Sc(e,t,n);let u;const h=r.node.attrs.localId;h&&((e,t)=>{let n=!1;return e.doc.descendants((o=>{if(n)return!1;const r=o.marks.find((t=>t.type===e.schema.marks.dataConsumer));return!r||(n=(r.attrs.sources||[]).includes(t),!n)})),n})(t,h)&&(u={okButtonLabel:n.formatMessage(hc.confirmDeleteLinkedModalOKButton),message:n.formatMessage(hc.confirmDeleteLinkedModalMessage)});return{title:"Table floating controls",getDomRef:e=>{let n;const r=e.domAtPos.bind(e),i=Object(p.findParentDomRefOfType)(c,r)(t.selection);if(i){const e=i.querySelector("table")||void 0;e&&(n=Object(o("9a+x").b)(e,`.${o("EfLE").b.TABLE_NODE_WRAPPER}`)||void 0)}return n},nodeType:c,offset:[0,3],
items:[l,Oc(l.hidden),...d,{type:"extensions-placeholder",separator:"end"},{id:"editor.table.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onClick:Ra(),disabled:!!s&&!!s.dragging,onMouseEnter:ls(!0),onMouseLeave:ds(),title:n.formatMessage(o("yYBl").a.remove),confirmDialog:u}]}}},Oc=e=>({type:"separator",hidden:e}),Sc=(e,t,{formatMessage:n})=>{if(e.allowCellOptionsInFloatingToolbar){const e=Ec(t);if(e){const r=((e,t,{formatMessage:n})=>{const{top:r,bottom:i,right:a,left:s}=t,c=a-s,l=i-r,d=[{id:"editor.table.insertColumn",title:n(hc.insertColumn),onClick:(e,t,n)=>{const r=Ec(e),i=null==r?void 0:r.right;return i&&Ia(o("J5HJ").f.FLOATING_TB,i)(e,t,n),!0},selected:!1,disabled:!1},{id:"editor.table.insertRow",title:n(hc.insertRow),onClick:(e,t)=>{const n=Ec(e),r=null==n?void 0:n.bottom;return r&&ka(o("J5HJ").f.FLOATING_TB,{index:r,moveCursorToInsertedRow:!0})(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.removeColumns",title:n(hc.removeColumns,{0:c}),
onClick:(e,t,n)=>{const r=Ec(e);return r&&Na(o("J5HJ").f.FLOATING_TB,r)(e,t,n),!0},selected:!1,disabled:!1},{id:"editor.table.removeRows",title:n(hc.removeRows,{0:l}),onClick:(e,t)=>{const n=Ec(e);return n&&Aa(o("J5HJ").f.FLOATING_TB,n,!1)(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.mergeCells",title:n(gc.mergeCells),onClick:Sa(),selected:!1,disabled:!pa(e.tr)},{id:"editor.table.splitCell",title:n(gc.splitCell),onClick:Ca(),selected:!1,disabled:!pc(e)},{id:"editor.table.clearCells",title:n(gc.clearCells,{0:Math.max(c,l)}),onClick:(e,t)=>{const{targetCellPosition:n}=Object(o("aTJx").c)(e);return Oa(o("J5HJ").f.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1}];return{id:"editor.table.cellOptions",type:"dropdown",title:n(hc.cellOptions),hidden:!0,options:d}})(t,e,{formatMessage:n});return[r,Oc(r.hidden)]}}return[]
},Cc=h.css`> div{background:${"#F4F5F7"};border-radius:${Object(o("ARg4").borderRadius)()}px;border:2px solid ${"#FFFFFF"};display:flex;height:${14}px;flex-direction:column;}&& button{flex-direction:column;padding:0;height:100%;display:flex;}&& button > span{margin:0px -4px;}&& span{pointer-events:none;}`,Tc=h.default.div.withConfig({componentId:"sc-1bp5cb9-0"})`${Cc}`;class xc extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(()=>{const{state:e,dispatch:t}=this.props.editorView;this.props.isContextualMenuOpen||la()(e,t)}))}render(){const{mountPoint:e,scrollableElement:t,editorView:n,targetCellPosition:r,isContextualMenuOpen:i,intl:{formatMessage:a},dispatchAnalyticsEvent:s}=this.props,c=n.domAtPos.bind(n);let d;try{d=Object(p.findDomRefAtPos)(r,c)}catch(g){if(console.warn(g),s){s({action:o("J5HJ").a.ERRORED,actionSubject:o("J5HJ").b.CONTENT_COMPONENT,eventType:o("J5HJ").e.OPERATIONAL,attributes:{component:o("J5HJ").d.FLOATING_CONTEXTUAL_BUTTON,
selection:n.state.selection.toJSON(),position:r,docSize:n.state.doc.nodeSize,error:g.toString(),errorStack:g.stack||void 0}})}}if(!(d&&d instanceof HTMLElement))return null;const u=Object(o("9a+x").b)(d,`.${o("EfLE").b.TABLE_NODE_WRAPPER}`),h=a(hc.cellOptions),f=l.a.createElement(Tc,null,l.a.createElement(o("aEOQ").b,{className:o("EfLE").b.CONTEXTUAL_MENU_BUTTON,selected:i,title:h,onClick:this.handleClick,iconBefore:l.a.createElement(o.n(o("1YpF")).a,{label:h})})),m=d.parentElement&&d.parentElement.className.indexOf("sticky")>-1;if(this.props.stickyHeader&&m){const e=d.getBoundingClientRect();return l.a.createElement("div",{style:{position:"fixed",top:this.props.stickyHeader.top+this.props.stickyHeader.padding+3+3,zIndex:o("9cwX").o,left:e.left+d.clientWidth-20-3}},f)}return l.a.createElement(o("poXX").a,{alignX:"right",alignY:"start",target:d,mountTo:u||e,boundariesElement:d,scrollableElement:t,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0,zIndex:o("9cwX").L},f)}
shouldComponentUpdate(e){return this.props.tableNode!==e.tableNode||this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled||this.props.stickyHeader!==e.stickyHeader}}xc.displayName="FloatingContextualButtonInner",s()(xc,"displayName","FloatingContextualButton");const kc=Object(u.injectIntl)(xc);var Ic=function(e){return l.a.createElement(o("KzBb").a,{component:o("J5HJ").b.FLOATING_CONTEXTUAL_BUTTON,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,fallbackComponent:null},l.a.createElement(kc,e))}
;const Ac=h.css`.${o("EfLE").b.CONTEXTUAL_SUBMENU}{border-radius:${Object(o("ARg4").borderRadius)()}px;background:white;box-shadow:0 4px 8px -2px ${"rgba(9, 30, 66, 0.31)"},0 0 1px ${"rgba(9, 30, 66, 0.31)"};display:block;position:absolute;top:0;left:${180}px;padding:8px;> div{padding:0;}}.${o("EfLE").b.CONTEXTUAL_MENU_ICON}{display:flex;&::before{content:'';display:block;border:1px solid ${o("kBLm").d};border-radius:${Object(o("ARg4").borderRadius)()}px;width:20px;height:20px;}&::after{content:'›';margin-left:4px;line-height:20px;color:${"#8993A4"};}}`,Nc=h.default.div.withConfig({componentId:"y3x09y-0"})`${Ac}`,Mc=(e,t)=>{const{tableRef:n}=o("aTJx").d.getState(t);let r=-16;if(n&&e){const t=e.getBoundingClientRect(),o=n.getBoundingClientRect();let i=t.top-o.top;i<200&&(r-=i+2)}return[8,r]},Rc=({mountPoint:e,boundariesElement:t,scrollableElement:n,editorView:r,isOpen:i,pluginConfig:a})=>{const{targetCellPosition:s}=Object(o("aTJx").c)(r.state)
;if(!i||!s||r.state.doc.nodeSize<=s)return null;const{selection:c}=r.state,d=Object(o("GhYq").a)(c,"cell")?Object(o("n3wV").a)(c):Object(o("zYPQ").b)(c.$from);if(!d)return null;const u=r.domAtPos.bind(r),h=Object(p.findDomRefAtPos)(s,u);return h?l.a.createElement(o("poXX").a,{alignX:"right",alignY:"top",target:h,mountTo:e,boundariesElement:t,scrollableElement:n,fitHeight:188,fitWidth:180,zIndex:o("9cwX").o,forcePlacement:!0,offset:[-7,0]},l.a.createElement(Nc,null,l.a.createElement(vc,{editorView:r,offset:Mc(h,r.state),isOpen:i,targetCellPosition:s,allowColumnSorting:a&&a.allowColumnSorting,allowMergeCells:a.allowMergeCells,allowBackgroundColor:a.allowBackgroundColor,selectionRect:d,boundariesElement:t}))):null};Rc.displayName="FloatingContextualMenu";var jc=Rc;var Pc=Object(u.injectIntl)((({style:e,onClick:t,onMouseEnter:n,onMouseLeave:r,removeLabel:i,intl:{formatMessage:a}})=>l.a.createElement("div",{className:o("EfLE").b.CONTROLS_DELETE_BUTTON_WRAP,style:e,onMouseEnter:n,
onMouseLeave:r},l.a.createElement("button",{type:"button",title:a(i,{0:1}),className:o("EfLE").b.CONTROLS_DELETE_BUTTON,onMouseDown:t,onMouseMove:e=>e.preventDefault()},l.a.createElement("svg",{className:o("EfLE").b.CONTROLS_BUTTON_ICON},l.a.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))));const Dc=o("Npri").q+16+6;function Lc({left:e,top:t,selectionType:n,tableWrapper:o}){switch(n){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,Dc],shouldRenderPopup(){if(t){const n=t.getBoundingClientRect().width+t.scrollLeft-16,o=t.scrollLeft;return n-e>0&&e>o}return!0}}}(e,o);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:e=>i()(i()({},e),{},{left:-Dc})}}(t);default:return{}}}
class _c extends c.Component{constructor(e){super(e),s()(this,"wrapper",null),s()(this,"updateWrapper",(()=>{const e=Object(o("9a+x").b)(this.props.tableRef,`.${o("EfLE").b.TABLE_NODE_WRAPPER}`);e?(this.wrapper=e,this.wrapper.addEventListener("scroll",this.onWrapperScrolled),this.setState({scrollLeft:e.scrollLeft})):(this.wrapper&&(this.wrapper.removeEventListener("scroll",this.onWrapperScrolled),this.setState({scrollLeft:0})),this.wrapper=null)})),s()(this,"onWrapperScrolled",(e=>{const t=e.target;this.setState({scrollLeft:t.scrollLeft})})),s()(this,"handleMouseEnter",(()=>{const{state:e,dispatch:t}=this.props.editorView;switch(this.state.selectionType){case"row":return cs(this.state.indexes,!0)(e,t,this.props.editorView);case"column":return ss(this.state.indexes,!0)(e,t,this.props.editorView)}return!1})),s()(this,"handleMouseLeave",(()=>{const{state:e,dispatch:t}=this.props.editorView;return ds()(e,t)})),s()(this,"handleClick",(()=>{let{state:e,dispatch:t}=this.props.editorView
;const{pluginConfig:{isHeaderRowRequired:n}}=Object(o("aTJx").c)(e),r=Object(o("n3wV").a)(e.selection);if(r)switch(this.state.selectionType){case"column":return void Na(o("J5HJ").f.BUTTON,r)(e,t);case"row":return void Aa(o("J5HJ").f.BUTTON,r,!!n)(e,t)}({state:e,dispatch:t}=this.props.editorView),ds()(e,t)})),this.state={selectionType:void 0,top:0,left:0,indexes:[],scrollLeft:0}}shouldComponentUpdate(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top||this.state.scrollLeft!==t.scrollLeft}componentDidMount(){this.updateWrapper()}componentDidUpdate(){this.updateWrapper()}componentWillUnmount(){this.wrapper&&this.wrapper.removeEventListener("scroll",this.onWrapperScrolled)}static getDerivedStateFromProps(e,t){const n=function(e){if(!Object(o("+yxU").c)(e)&&e instanceof o("n1Ll").a){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}
}(e.selection),r=e.stickyHeaders&&e.stickyHeaders.sticky,a=Object(o("n3wV").a)(e.selection),s=a&&0===a.top&&1===a.bottom,c=r&&s,l=e.stickyHeaders?e.stickyHeaders.top+e.stickyHeaders.padding:0;if(n)switch(n){case"column":{const t=Object(o("ctHz").c)(e.editorView),a=Object(o("ctHz").b)(t,e.editorView.state.selection);return a?i()(i()({},a),{},{top:r?e.stickyHeaders.top:0,position:r?"sticky":void 0,selectionType:n}):null}case"row":if(e.tableRef){const t=Object(o("oE+j").d)(e.tableRef),a=r?-t[0]:0,s=Object(o("oE+j").c)(t,e.editorView.state.selection,c?l:a);if(s)return i()(i()({},s),{},{position:c?"sticky":void 0,left:0,selectionType:n})}return null}return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null}render(){const{mountPoint:e,boundariesElement:t,tableRef:n}=this.props,{selectionType:r}=this.state;if(!r||!n)return null;const i=Object(o("9a+x").b)(n,`.${o("EfLE").b.TABLE_CONTAINER}`),a=l.a.createElement(Pc,{removeLabel:"column"===r?hc.removeColumns:hc.removeRows,
onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),s=Lc({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:this.wrapper}),c=i||e;if("sticky"===this.state.position&&c){const e=n.querySelector("tr.sticky");if(e){const t=e.getBoundingClientRect(),n=(s.onPositionCalculated||(e=>e))({left:this.state.left,top:this.state.top});return Object(ke.createPortal)(l.a.createElement("div",{style:{position:"fixed",top:n.top,zIndex:o("Npri").e,left:t.left+(n.left||0)-("column"===this.state.selectionType?this.state.scrollLeft:0)-(this.props.isNumberColumnEnabled?o("9cwX").T:0)}},a),c)}}return l.a.createElement(o("poXX").a,Re()({target:n,mountTo:c,boundariesElement:i||t,scrollableElement:this.wrapper||void 0,forcePlacement:!0,allowOutOfBounds:!0},s),a)}}_c.displayName="FloatingDeleteButton",s()(_c,"displayName","FloatingDeleteButton");var Bc=_c;const Hc=-10+o("9cwX").T,Jc=o("Npri").q+3,$c=-(o("Npri").q+3+20)
;var Fc=function(e,t,n,o){switch(e){case"column":return function(e,t,n){const o={alignX:"end",alignY:"top",offset:[-10,Jc],onPositionCalculated(o){const{left:r}=o;if(!r)return o;if(0===e)return i()(i()({},o),{},{left:n?Hc:-10});const a=t?t.getBoundingClientRect():null;return i()(i()({},o),{},{left:a&&r>a.width?a.width:r})}};return 0===e?i()(i()({},o),{},{alignX:"left",alignY:"top"}):o}(t,o,n);case"row":return function(e){let t={alignX:"left",alignY:"bottom",offset:[0,10]};return 0===e&&(t=i()(i()({},t),{},{alignY:"top",offset:[0,-10]})),i()(i()({},t),{},{onPositionCalculated:e=>i()(i()({},e),{},{left:$c})})}(t);default:return{}}};const zc=(e,t)=>{const n=t?e.getBoundingClientRect().top-4*o("9ehW").h-3:o("Npri").q+3;return e.offsetHeight+n},Uc=e=>{const{parentElement:t,offsetWidth:n}=e,r=t.offsetWidth,{scrollLeft:i}=t,a=n-r,s=(e=>{const t=Object(o("9a+x").b)(e,`.${o("EfLE").b.TABLE_CONTAINER}`)
;return t&&t.querySelector(`.${o("EfLE").b.NUMBERED_COLUMN}`)?o("Npri").q+o("9cwX").T-1:o("Npri").q})(e);return Math.min(n+s,r+s-Math.max(i-a,0))+4},Vc=e=>"row"===e?hc.insertRow:hc.insertColumn;var Wc=Object(u.injectIntl)((({onMouseDown:e,tableRef:t,type:n,intl:{formatMessage:r},hasStickyHeaders:i})=>{const a=l.a.createElement(o("Yto1").a,{content:l.a.createElement(o("4Upw").ToolTipContent,{description:r(Vc(n)),keymap:"row"===n?o("4Upw").addRowAfter:o("4Upw").addColumnAfter}),position:"top"},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:o("EfLE").b.CONTROLS_INSERT_BUTTON_INNER},l.a.createElement("button",{type:"button",className:o("EfLE").b.CONTROLS_INSERT_BUTTON,onMouseDown:e},l.a.createElement("svg",{className:o("EfLE").b.CONTROLS_BUTTON_ICON},l.a.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),l.a.createElement("div",{
className:o("EfLE").b.CONTROLS_INSERT_LINE,style:"row"===n?{width:Uc(t)}:{height:zc(t,i)}}))),s="column"===n?o("EfLE").b.CONTROLS_FLOATING_BUTTON_COLUMN:o("EfLE").b.CONTROLS_FLOATING_BUTTON_ROW;return l.a.createElement("div",{className:s},l.a.createElement("div",{className:`${o("EfLE").b.CONTROLS_INSERT_BUTTON_WRAP} ${o("EfLE").b.CONTROLS_INSERT_ROW}`},a))}));class Kc extends l.a.Component{constructor(e){super(e),this.insertColumn=this.insertColumn.bind(this),this.insertRow=this.insertRow.bind(this)}render(){const{tableNode:e,editorView:t,insertColumnButtonIndex:n,insertRowButtonIndex:r,tableRef:i,mountPoint:a,boundariesElement:s,isHeaderColumnEnabled:c,isHeaderRowEnabled:d,dispatchAnalyticsEvent:u}=this.props,h=void 0!==n?"column":void 0!==r?"row":null;if(!e||!i||!h)return null;if("column"===h&&c&&0===n||"row"===h&&d&&0===r)return null;const{state:{tr:f}}=t;if(f.selection instanceof o("n1Ll").a&&(f.selection.isColSelection()||f.selection.isRowSelection()))return null
;const m=this.getCellPosition(h);if(!m)return null;const g=Object(o("zYPQ").c)(t.state.selection);if(!g)return null;const b=t.domAtPos.bind(t),v=m+g.start+1;let y;try{y=Object(p.findDomRefAtPos)(v,b)}catch(T){if(console.warn(T),u){u({action:o("J5HJ").a.ERRORED,actionSubject:o("J5HJ").b.CONTENT_COMPONENT,eventType:o("J5HJ").e.OPERATIONAL,attributes:{component:o("J5HJ").d.FLOATING_INSERT_BUTTON,selection:t.state.selection.toJSON(),position:v,docSize:t.state.doc.nodeSize,error:T.toString(),errorStack:T.stack||void 0}})}}if(!(y&&y instanceof HTMLElement))return null;const E="row"===h?Object(o("9a+x").b)(y,"tr"):Object(o("9a+x").b)(y,"td, th");if(!E)return null;const w=Object(o("9a+x").b)(E,`.${o("EfLE").b.TABLE_CONTAINER}`),O=Object(o("9a+x").b)(E,`.${o("EfLE").b.TABLE_NODE_WRAPPER}`),S="column"===h?n:r,C=Object(o("aMLK").c)(t.state);return l.a.createElement(o("poXX").a,Re()({target:E,mountTo:w||a,boundariesElement:w||s,scrollableElement:O,forcePlacement:!0,allowOutOfBounds:!0
},Fc(h,S,C,w)),l.a.createElement(Wc,{type:h,tableRef:i,onMouseDown:"column"===h?this.insertColumn:this.insertRow,hasStickyHeaders:this.props.hasStickyHeaders||!1}))}getCellPosition(e){const{tableNode:t,insertColumnButtonIndex:n,insertRowButtonIndex:r}=this.props,i=o("wYWE").b.get(t);if("column"===e){const e=0===n?0:n-1;return e>i.width-1?null:i.positionAt(0,e,t)}{const e=0===r?0:r-1;return e>i.height-1?null:i.positionAt(e,0,t)}}insertRow(e){const{editorView:t,insertRowButtonIndex:n}=this.props;if(void 0!==n){e.preventDefault();const{state:r,dispatch:i}=t;ka(o("J5HJ").f.BUTTON,{index:n,moveCursorToInsertedRow:!0})(r,i)}}insertColumn(e){const{editorView:t,insertColumnButtonIndex:n}=this.props;if(void 0!==n){e.preventDefault();const{state:r,dispatch:i}=t;Ia(o("J5HJ").f.BUTTON,n)(r,i,t)}}}Kc.displayName="FloatingInsertButton",s()(Kc,"displayName","FloatingInsertButton");var qc=Object(u.injectIntl)(Kc);const Gc=e=>i()(i()({},e),{},{top:e.top?e.top+22:void 0});class Yc extends l.a.Component{
constructor(...e){super(...e),s()(this,"handleClick",(()=>{const{state:e,dispatch:t}=this.props.editorView;(()=>Object(o("SVcB").c)((e=>{const{table:t,totalRowCount:n,totalColumnCount:r}=Object(o("JnOq").b)(e.selection);if(t){const{layout:e}=t.node.attrs;return{action:o("feK2").a.CHANGED_BREAKOUT_MODE,actionSubject:o("J5HJ").b.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:wa[ra(e)],previousBreakoutMode:wa[e],totalRowCount:n,totalColumnCount:r},eventType:o("J5HJ").e.TRACK}}}))(ca))()(e,t)}))}render(){const{intl:{formatMessage:e},mountPoint:t,boundariesElement:n,scrollableElement:r,targetRef:i,isResizing:a,layout:s="default"}=this.props;if(!i)return null;const c=e((e=>{switch(e){case"default":return o("yYBl").a.layoutWide;case"wide":return o("yYBl").a.layoutFullWidth;default:return o("yYBl").a.layoutFixedWidth}})(s));return l.a.createElement(o("poXX").a,{ariaLabel:c,target:i,alignY:"start",alignX:"end",onPositionCalculated:Gc,stick:!0,mountTo:t,boundariesElement:n,
scrollableElement:r,forcePlacement:!0},l.a.createElement("div",{className:Ms()(o("EfLE").b.LAYOUT_BUTTON,{[o("EfLE").b.IS_RESIZING]:a})},l.a.createElement(o("aEOQ").b,{title:c,onClick:this.handleClick,iconBefore:"full-width"===s?l.a.createElement(o.n(o("oR2R")).a,{label:c}):l.a.createElement(o.n(o("fHir")).a,{label:c})})))}shouldComponentUpdate(e){const{targetRef:t,layout:n,isResizing:o,tableWidth:r}=this.props;return t!==e.targetRef||n!==e.layout||o!==e.isResizing||r!==e.tableWidth}}Yc.displayName="LayoutButton",s()(Yc,"displayName","LayoutButton");var Xc=Object(u.injectIntl)(Yc);var Qc=e=>({name:"table",nodes:()=>[{name:"table",node:o("kBLm").c},{name:"tableHeader",node:o("kBLm").k},{name:"tableRow",node:o("kBLm").n},{name:"tableCell",node:o("kBLm").g}],pmPlugins:()=>[{name:"table",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:o})=>{const{dynamicSizingEnabled:r,fullWidthEnabled:i,wasFullWidthEnabled:a,breakoutEnabled:s,tableOptions:c}=e||{};return nc(t,n,o,li(c),s&&r,s,i,a)
}},{name:"tablePMColResizing",plugin:({dispatch:t})=>{const{dynamicSizingEnabled:n,fullWidthEnabled:o,tableOptions:r}=e||{},{allowColumnResizing:i}=li(r);return i?uc(t,{dynamicTextSizing:n&&!o,lastColumnResizable:!o}):void 0}},{name:"tableEditing",plugin:()=>(()=>new d.Plugin({state:{init:()=>ce.b.empty,apply:(e,t,n)=>{let r=t;const i=e.getMeta(o("aTJx").d);return i&&i.data&&i.data.decorationSet&&(r=i.data.decorationSet),e.docChanged||e.selectionSet?Ni(e,r,n):r}},key:Ii,props:{decorations:e=>Ai(e)}}))()},{name:"tableKeymap",plugin:()=>Ja()},{name:"tableSelectionKeymap",plugin:()=>os()},{name:"tableEditing",plugin:()=>ci()},{name:"tableStickyHeaders",plugin:({dispatch:t,eventDispatcher:n})=>e&&e.tableOptions.stickyHeaders?((e,t,n=(()=>[]))=>new d.Plugin({state:oc(e,n),key:js,props:{nodeViews:{tableRow:(e,n,o)=>new cc(e,n,o,t)}}}))(t,n):void 0},{name:"tableLocalId",plugin:({dispatch:e})=>hi(e)}],
contentComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,dispatchAnalyticsEvent:a})=>l.a.createElement(o("KzBb").a,{component:o("J5HJ").b.TABLES_PLUGIN,dispatchAnalyticsEvent:a,fallbackComponent:null},l.a.createElement(o("fd7e").a,{plugins:{tablePluginState:o("aTJx").d,tableResizingPluginState:o("fRKR").a,stickyHeadersState:js},render:({tableResizingPluginState:s,stickyHeadersState:c,tablePluginState:d})=>{const{state:u}=t,p=null==s?void 0:s.dragging,{tableNode:h,tablePos:f,targetCellPosition:m,isContextualMenuOpen:g,layout:b,tableRef:v,pluginConfig:y,insertColumnButtonIndex:E,insertRowButtonIndex:w,isHeaderColumnEnabled:O,isHeaderRowEnabled:S,tableWrapperTarget:C,tableWidth:T}=d,{allowControls:x}=y,{tableRenderOptimization:k}=Object(o("37L4").b)(u)||{},I=c?Rs(c,f):void 0;return l.a.createElement(l.a.Fragment,null,m&&v&&!p&&e&&e.allowContextualMenu&&l.a.createElement(Ic,{isNumberColumnEnabled:h&&h.attrs.isNumberColumnEnabled,editorView:t,
tableNode:h,mountPoint:n,targetCellPosition:m,scrollableElement:i,dispatchAnalyticsEvent:a,isContextualMenuOpen:g,layout:b,stickyHeader:I}),x&&l.a.createElement(qc,{tableNode:h,tableRef:v,insertColumnButtonIndex:E,insertRowButtonIndex:w,isHeaderColumnEnabled:O,isHeaderRowEnabled:S,editorView:t,mountPoint:n,boundariesElement:r,scrollableElement:i,hasStickyHeaders:I&&I.sticky,dispatchAnalyticsEvent:a}),l.a.createElement(jc,{editorView:t,mountPoint:n,boundariesElement:r,targetCellPosition:m,isOpen:Boolean(g),pluginConfig:y}),x&&l.a.createElement(Bc,{editorView:t,selection:t.state.selection,tableRef:v,mountPoint:n,boundariesElement:r,scrollableElement:i,stickyHeaders:I,isNumberColumnEnabled:h&&h.attrs.isNumberColumnEnabled}),Object(o("aMLK").g)(u)&&e&&e.breakoutEnabled&&l.a.createElement(Xc,{editorView:t,mountPoint:n,boundariesElement:r,scrollableElement:i,targetRef:C,layout:b,isResizing:!!s&&!!s.dragging,tableWidth:k?T:void 0}))}})),pluginsOptions:{quickInsert:({formatMessage:e})=>[{
id:"table",title:e(o("/DD6").a.table),description:e(o("/DD6").a.tableDescription),keywords:["cell"],priority:600,keyshortcut:Object(o("4Upw").tooltip)(o("4Upw").toggleTable),icon:()=>l.a.createElement(o("Jzj3").w,null),action(e,t){const n=e(Object(o("H1L9").a)({schema:t.schema}));return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.TABLE,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}}],floatingToolbar:wc(li(null==e?void 0:e.tableOptions))}});const Zc=(e,t)=>Object(o("9hcL").c)(e,((e,n,r,i)=>Object(o("aznN").d)(e,t,o("J5HJ").f.FORMATTING,el(r,i)))),el=(e,t)=>({tr:n,state:r,list:i,item:a,listLocalId:s,itemLocalId:c})=>{const{selection:{$from:l},schema:u}=r,{paragraph:h,hardBreak:f}=u.nodes,m=l.node(l.depth).content;let g=!1;m.forEach(((t,n)=>{t.type===f&&n<e&&(g=!0)}));const b=r.doc.resolve(t),v=r.doc.resolve(b.after())
;if(b.parent.type!==h||!Object(p.canInsert)(v,i.createAndFill()))return null;if(g){const r=Object(o("aznN").a)(l,n.selection.$from);n.split(l.pos).setSelection(new d.NodeSelection(n.doc.resolve(l.pos+1))).replaceSelectionWith(i.create({localId:s},[a.create({localId:c},n.doc.nodeAt(l.pos+1).content)])).setSelection(new d.TextSelection(n.doc.resolve(l.pos+r))).delete(e,t+1)}else n.replaceRangeWith(l.before(),l.after(),i.create({localId:s},[a.create({localId:c},m)])).delete(e+1,t+1).setSelection(new d.TextSelection(n.doc.resolve(e+1)));return n};var tl=function(e,t){const n=[],{decisionList:r,decisionItem:i,taskList:a,taskItem:s}=e.nodes;return r&&i&&n.push(Zc(new RegExp(`(^|${o("N3sK").c})\\<\\>\\s$`),"decisionList")),a&&s&&n.push(Zc(new RegExp(`(^|${o("N3sK").c})\\[\\]\\s$`),"taskList")),Object(o("9hcL").b)("tasks-and-decisions",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})};const nl=e=>{const{decisionItem:t,taskItem:n}=e.schema.nodes
;return Object(p.hasParentNodeOfType)([t,n])(e.selection)},ol=e=>{const{taskList:t,decisionList:n}=e.type.schema.nodes;return[t,n].indexOf(e.type)>-1},rl=e=>{const{taskItem:t,decisionItem:n}=e.type.schema.nodes;return[t,n].indexOf(e.type)>-1},il=e=>{const{taskItem:t}=e.schema.nodes;return Object(p.hasParentNodeOfType)([t])(e.selection)},al=(e,t)=>{const{taskList:n}=e.doc.type.schema.nodes;let o=t.end();const r=t.doc.resolve(o+1),i=r.nodeAfter;return i&&i.type===n&&r.depth===t.depth-1&&(o+=i.nodeSize),e.blockRange(t.doc.resolve(o))},sl=e=>{const{$from:t}=e,{taskList:n}=t.doc.type.schema.nodes,r=Object(o("x+VZ").b)((e=>e.type===n))(t);return r?t.depth-r.depth:null},cl=e=>{let t=e;for(;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},ll=(e,t,n)=>{const o=al(t,n);if(!o)return null;const r=Object(Xt.p)(o);return"number"!=typeof r?null:e.lift(o,r).scrollIntoView()},dl=(e,t)=>{const{$from:n,$to:o}=e.selection,r=ll(e.tr,n,o);return t&&r&&t(r),!!r},ul=(e,t)=>{
const{$from:n,$to:o}=e.selection,r=al(n,o);if(!r)return!0;const i=Object(Xt.m)(r,e.schema.nodes.taskList);return!i||(t&&t(e.tr.wrap(r,i).scrollIntoView()),!0)},pl=e=>(t,n)=>{const r=Object(o("+U5V").c)(e);if(!r)return!1;const{paragraph:i}=r.doc.type.schema.nodes;if(r.nodeBefore&&ol(r.nodeBefore)&&r.nodeAfter&&r.nodeAfter.type===i){let e=r.doc.resolve(r.pos-1);for(;!rl(e.parent);)e=t.doc.resolve(e.pos-1);const o=t.tr.doc.slice(e.pos,r.pos),i=t.tr.step(new Xt.d(e.pos,r.pos+r.nodeAfter.nodeSize,r.pos+1,r.pos+r.nodeAfter.nodeSize-1,o,0,!0));return n&&n(i),!0}return!1},hl=(e,t)=>({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_INDENT,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.KEYBOARD,previousIndentationLevel:e,newIndentLevel:t===o("lZzB").a.OUTDENT?e-1:e+1,direction:t,indentType:o("lZzB").b.TASK_LIST}}),fl=e=>{const t=(e=>e.doc.resolve(e.end()).nodeAfter)(e);return!t||rl(t)},ml=Object(o("+U5V").b)(il,((e,t)=>{
const n=sl(e.selection);return!(!n||1===n)&&Object(o("SVcB").c)(hl(n,o("lZzB").a.OUTDENT))(Object(Mi.a)(dl,["taskList"]))(e,t)})),gl=Object(o("+U5V").b)(il,((e,t)=>{const n=sl(e.selection);if(!n||n>=6)return!0;const{taskList:r,taskItem:i}=e.schema.nodes,{$from:a,$to:s}=e.selection;return((e,t,n)=>{const r=Object(o("x+VZ").b)((e=>n.indexOf(e.type)>-1))(e);if(!r)return-1;const i=e.depth-r.depth,a=al(e,t);if(!a)return-1;let s=e.depth;return e.doc.nodesBetween(a.start,a.end,((t,o,r)=>{if(s=Math.max(e.doc.resolve(o).depth,s),n.indexOf(t.type)>-1)return!0})),i+(s-e.depth)})(a,s,[r,i])>=6||Object(o("SVcB").c)(hl(n,o("lZzB").a.INDENT))(Object(Mi.a)(ul,["taskList"]))(e,t)})),bl=Object(o("+U5V").b)(o("+U5V").f,Object(Mi.a)(Object(Mi.c)(((e,t)=>pl(e.selection.$from)(e,t)),Object(o("+U5V").b)(nl,((e,t)=>(e=>(t,n)=>{const o=e.doc.resolve(e.before());if(o.nodeBefore&&rl(o.nodeBefore)&&2===o.nodeBefore.nodeSize)return!1;const{taskList:r,paragraph:i}=t.schema.nodes
;if(e.node(e.depth-2).type===r)return ml(t,n);if(fl(e)){if(n){const o=t.doc.slice(e.start(),e.end()).content,r=o.size?i.createChecked(void 0,o):i.createChecked();n(El(t.tr,r,e,!0))}return!0}return!1})(e.selection.$from)(e,t)))),["taskList","decisionList"])),vl=Object(o("+U5V").b)([nl,o("+U5V").e],Object(Mi.c)(((e,t)=>{const n=cl(e.selection.$from),{taskList:o,taskItem:r,decisionList:i,decisionItem:a,paragraph:s,bulletList:c,orderedList:l,listItem:d}=e.schema.nodes;if(!Object(p.findParentNodeOfTypeClosestToPos)(n,[o,r,i,a])){if(n.parent.type===s)return pl(n.doc.resolve(n.pos))(e,t);if((n.parent.type===c||n.parent.type===l)&&n.parent.firstChild&&n.parent.firstChild.type===d){const o=e.doc.resolve(n.pos+1),r=ll(e.tr,o,o);return Object(Mi.a)(((e,t)=>!!r&&(t&&t(r),!0)),["bulletList","orderedList"])(e,t)}}return!1}),((e,t)=>{const n=cl(e.selection.$from),{taskList:o,paragraph:r,doc:i}=e.schema.nodes;if(!n.parent||n.parent.type===i)return!1;const a=n.doc.resolve(n.before())
;if(a.nodeBefore&&rl(a.nodeBefore)&&2===a.nodeBefore.nodeSize)return!1;if(n.node(n.depth-2).type===o||n.node(n.depth-1).type===o&&n.parent.type===o){const o=ll(e.tr,n,n);return t&&o&&t(o),!0}if((e=>{if(!e)return!1;const{table:t,tableHeader:n,tableCell:o,tableRow:r}=e.type.schema.nodes;return[t,n,o,r].includes(e.type)})(a.nodeBefore))return!1;if(fl(e.selection.$from)){if(t){const o=e.doc.slice(n.start(),n.end()).content,i=o.size?r.createChecked(void 0,o):[];t(El(e.tr,i,n,!1))}return!0}return!1}))),yl=Object(Mi.a)(vl,["taskList","decisionList"]),El=(e,t,n,r)=>{const i=e.doc,a=n.node(n.depth-2),s=n.index(n.depth-1),c=!(!ol(a)&&0===s);c&&(e=e.split(n.pos,1,[{type:n.parent.type,attrs:{localId:o("klzq").b.generate()}}]));const l=Je.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),l.size?new Je.Slice(l,0,0):Je.Slice.empty),r&&(e=e.setSelection(new d.TextSelection(e.doc.resolve(n.pos+1-(c?0:2)))));const u=i.resolve(n.after())
;if(u.depth===n.depth-1&&u.nodeAfter&&ol(u.nodeAfter)){const t=e.mapping.map(u.pos+2),n=e.doc.resolve(t),o=al(n,e.doc.resolve(n.after(n.depth-1)-1));o&&(e=e.lift(o,o.depth-1).scrollIntoView()),e=e.deleteRange(t-3,t-1)}return e},wl=Object(o("+U5V").b)(nl,Object(Mi.c)(Object(o("+U5V").b)((e=>{const{selection:t,schema:n}=e,{$from:o}=t,r=o.node(o.depth);return r&&(r.type===n.nodes.taskItem||r.type===n.nodes.decisionItem)&&0===r.content.size}),Object(Mi.c)(ml,((e,t)=>{let{tr:n,selection:{$from:o}}=e;const{schema:{nodes:{paragraph:r}}}=e;return!!fl(o)&&(t&&t(El(n,r.createChecked(),o,!0)),!0)}))),((e,t)=>{const{selection:n,schema:r}=e,{taskItem:i}=r.nodes,{$from:a,$to:s}=n,c=a.node(a.depth),l=c&&c.type,d=l===i?"taskList":"decisionList",u=Object(o("aznN").d)(e,d,o("J5HJ").f.KEYBOARD,(({tr:e,itemLocalId:t})=>{if(a.pos===s.pos&&0===a.parentOffset){const n=l.createAndFill({localId:t});if(n)return e.insert(a.pos-1,n)}return e.split(a.pos,1,[{type:l,attrs:{localId:t}}])}))
;return u&&t&&(u.scrollIntoView(),t(u)),!0})));var Ol=function(e,t,n){const o={"Shift-Tab":n?Object(Mi.c)(ml,nl):ml,Tab:n?Object(Mi.c)(gl,nl):gl},r=n?{"Shift-Tab":nl,Tab:nl}:{},a=i()({Backspace:bl,Delete:yl,Enter:wl},t?o:r);return Object(oe.b)(a)};const Sl=Object(u.defineMessages)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision\u2026",description:"Placeholder description for an empty decision in the editor"}});class Cl extends l.a.Component{render(){const{contentRef:e,showPlaceholder:t,intl:{formatMessage:n}}=this.props,r=n(Sl.placeholder);return l.a.createElement(o("w4ej").a,{contentRef:e,placeholder:r,showPlaceholder:t})}}Cl.displayName="Decision",s()(Cl,"displayName","Decision");var Tl=Object(u.injectIntl)(Cl);class xl extends o("gVP2").a{isContentEmpty(e){return 0===e.content.childCount}createDomRef(){const e=document.createElement("li");return e.style["list-style-type"]="none",e}getContentDOM(){const e=document.createElement("div")
;return e.className="decision-item",{dom:e}}render(e,t){return l.a.createElement(Tl,{contentRef:t,showPlaceholder:this.isContentEmpty(this.node)&&!Object(o("Wd+7").g)(this.view.state)})}viewShouldUpdate(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}update(e,t){return super.update(e,t,((e,t)=>!this.isContentEmpty(t)))}}xl.displayName="Decision";const kl=(e,t)=>(n,o,r)=>new xl(n,o,r,e,t,{}).init();var Il=o("OhBV");const Al=["contextIdentifierProvider"];class Nl extends c.Component{constructor(...e){super(...e),s()(this,"state",{resolvedContextProvider:void 0}),s()(this,"mounted",!1)}UNSAFE_componentWillMount(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)}async updateContextIdentifierProvider(e){if(e.contextIdentifierProvider)try{const t=await e.contextIdentifierProvider
;this.mounted&&this.setState({resolvedContextProvider:t})}catch(t){this.mounted&&this.setState({resolvedContextProvider:void 0})}else this.setState({resolvedContextProvider:void 0})}render(){const e=this.props,{contextIdentifierProvider:t}=e,n=Ne()(e,Al),{objectId:r}=this.state.resolvedContextProvider||{},i=r?"edit":"new";return l.a.createElement(Il.e,{data:{userContext:i}},l.a.createElement(o("pRoW").a,Re()({},n,{objectAri:r})))}}Nl.displayName="TaskItemWithProviders",s()(Nl,"displayName","TaskItemWithProviders");const Ml=["providers","intl"],Rl=Object(u.defineMessages)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}});class jl extends c.PureComponent{constructor(e){super(e),s()(this,"renderWithProvider",(e=>{
const t=this.props,{providers:n,intl:{formatMessage:o}}=t,r=Ne()(t,Ml),{taskDecisionProvider:i,contextIdentifierProvider:a}=e,s=o(Rl.placeholder);return l.a.createElement(Nl,Re()({},r,{placeholder:s,taskDecisionProvider:i,contextIdentifierProvider:a}))})),this.providerFactory=e.providers||new(o("U7Mc").a)}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return l.a.createElement(o("D0us").a,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}jl.displayName="TaskItem",s()(jl,"displayName","TaskItem");var Pl=Object(u.injectIntl)(jl);class Dl extends o("gVP2").a{constructor(...t){super(...t),s()(this,"handleOnChange",((e,t)=>{const{tr:n}=this.view.state,o=this.getPos();n.setNodeMarkup(o,void 0,{state:t?"DONE":"TODO",localId:e}),this.view.dispatch(n)})),s()(this,"addListAnalyticsData",(t=>{try{
const e=this.view.state.doc.resolve(this.getPos()),n=e.index(),o=e.parent.childCount,r=e.parent.attrs.localId;t.update((e=>{const{attributes:t={},actionSubject:a}=e;return"action"!==a?e:i()(i()({},e),{},{attributes:i()(i()({},t),{},{position:n,listSize:o,listLocalId:r})})}))}catch(e){}}))}isContentEmpty(e){return 0===e.content.childCount}createDomRef(){const e=document.createElement("div");return e.style["list-style-type"]="none",e}getContentDOM(){const e=document.createElement("div");return e.className="task-item",{dom:e}}render(e,t){const{localId:n,state:r}=this.node.attrs;return l.a.createElement(o("w9FA").a,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},l.a.createElement(o("fd7e").a,{plugins:{taskDecisionPlugin:o("qvPZ").a},render:()=>l.a.createElement(Pl,{taskId:n,contentRef:t,isDone:"DONE"===r,onChange:this.handleOnChange,showPlaceholder:this.isContentEmpty(this.node)&&!Object(o("Wd+7").g)(this.view.state),providers:e.providerFactory})}))}viewShouldUpdate(e){
return this.isContentEmpty(this.node)&&!!e.content.childCount}update(e,t){return super.update(e,t,((e,t)=>!(this.isContentEmpty(t)||e.attrs.state!==t.attrs.state)))}}function Ll(e,t,n){return(o,r,i)=>new Dl(o,r,i,e,t,{providerFactory:n}).init()}Dl.displayName="Task";const _l=["localId"];var Bl;!function(e){e[e.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER"}(Bl||(Bl={}));const Hl=e=>(t,n)=>(n&&n(t.tr.setMeta(o("qvPZ").a,{action:Bl.SET_CONTEXT_PROVIDER,data:e})),!0);class Jl extends c.PureComponent{constructor(...e){super(...e),s()(this,"state",{disabled:!1}),s()(this,"handleInsertDecision",(()=>{const{editorView:e}=this.props;return!!e&&(Object(o("aznN").c)(e,"decisionList")(e.state,e.dispatch),!0)}))}render(){const{disabled:e}=this.state,{isDisabled:t,isReducedSpacing:n,intl:{formatMessage:r}}=this.props,i=r(o("/DD6").a.decision);return l.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.DECISION_LIST,onClick:this.handleInsertDecision,disabled:e||t,spacing:n?"none":"default",
title:`${i} <>`,iconBefore:l.a.createElement(o.n(o("efs6")).a,{label:i})})}}Jl.displayName="ToolbarDecision";var $l=Object(u.injectIntl)(Jl);class Fl extends c.PureComponent{constructor(...e){super(...e),s()(this,"state",{disabled:!1}),s()(this,"handleInsertTask",(()=>{const{editorView:e}=this.props;return!!e&&(Object(o("aznN").c)(e,"taskList")(e.state,e.dispatch),!0)}))}render(){const{disabled:e}=this.state,{isDisabled:t,isReducedSpacing:n,intl:{formatMessage:r}}=this.props,i=r(o("/DD6").a.action);return l.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.TASK_LIST,onClick:this.handleInsertTask,disabled:e||t,spacing:n?"none":"default",title:`${i} []`,iconBefore:l.a.createElement(o.n(o("p3Tp")).a,{label:i})})}}Fl.displayName="ToolbarTask";var zl=Object(u.injectIntl)(Fl);const Ul=h.default.div.withConfig({componentId:"sc-1nwzgte-0"})`display:flex;`,Vl=(e,t,n)=>{const{list:r,item:i}=Object(o("aznN").b)(n,t.schema)
;return Object(o("aznN").d)(t,n,o("J5HJ").f.QUICK_INSERT,(({listLocalId:t,itemLocalId:n})=>e(r.createChecked({localId:t},i.createChecked({localId:n})))))};var Wl=({allowNestedTasks:e,consumeTabs:t,useLongPressSelection:n}={})=>({name:"taskDecision",nodes:()=>[{name:"decisionList",node:o("Xrqx").a},{name:"decisionItem",node:o("8ygS").a},{name:"taskList",node:o("cfwZ").a},{name:"taskItem",node:o("sw7r").a}],pmPlugins:()=>[{name:"tasksAndDecisions",plugin:({portalProviderAPI:e,providerFactory:t,eventDispatcher:r,dispatch:a})=>function(e,t,n,r,a=!1){return new d.Plugin({props:{nodeViews:{taskItem:Ll(e,t,n),decisionItem:kl(e,t)},handleTextInput(e,t,n,o){const{state:r,dispatch:i}=e,{tr:a}=r;return r.selection instanceof d.NodeSelection&&r.selection.node.type===e.state.schema.nodes.decisionItem&&(r.selection.replace(a),a.insertText(o),i&&i(a),!0)},handleClickOn:pe(["decisionItem"],(e=>e.hasAttribute("data-decision-wrapper")||"Decision"===e.getAttribute("aria-label")),{useLongPressSelection:a
})},state:{init:()=>({insideTaskDecisionItem:!1}),apply(e,t){const{action:n,data:a}=e.getMeta(o("qvPZ").a)||{action:null,data:null};let s=t;switch(n){case Bl.SET_CONTEXT_PROVIDER:s=i()(i()({},t),{},{contextIdentifierProvider:a})}return r(o("qvPZ").a,s),s}},view:e=>(n.subscribe("contextIdentifierProvider",((t,n)=>{"contextIdentifierProvider"===t&&(n?n.then((t=>{Hl(t)(e.state,e.dispatch)})):Hl(void 0)(e.state,e.dispatch))})),{}),key:o("qvPZ").a,appendTransaction:(e,t,n)=>{const r=n.tr;let a=!1;if(e.forEach((e=>{e.docChanged&&Object(o("x+VZ").l)(e,((e,t)=>{const{decisionList:s,decisionItem:c,taskList:l,taskItem:d}=n.schema.nodes;if(e.type&&(e.type===s||e.type===c||e.type===l||e.type===d)){const n=e.attrs,{localId:s}=n,c=Ne()(n,_l);null!=s&&""!==s||(r.setNodeMarkup(t,void 0,i()({localId:o("klzq").b.generate()},c)),a=!0)}}))})),a)return r.setMeta("addToHistory",!1)}})}(e,r,t,a,n)},{name:"tasksAndDecisionsInputRule",plugin:({schema:e,featureFlags:t})=>tl(e,t)},{
name:"tasksAndDecisionsKeyMap",plugin:({schema:n})=>Ol(n,e,t)}],secondaryToolbarComponent:({editorView:e,disabled:t})=>l.a.createElement(Ul,null,l.a.createElement($l,{editorView:e,isDisabled:t,isReducedSpacing:!0}),l.a.createElement(zl,{editorView:e,isDisabled:t,isReducedSpacing:!0})),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"action",title:e(o("/DD6").a.action),description:e(o("/DD6").a.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:()=>l.a.createElement(o("Jzj3").a,null),action:(e,t)=>Vl(e,t,"taskList")},{id:"decision",title:e(o("/DD6").a.decision),description:e(o("/DD6").a.decisionDescription),priority:900,keyshortcut:"<>",icon:()=>l.a.createElement(o("Jzj3").d,null),action:(e,t)=>Vl(e,t,"decisionList")}]}}),Kl=o("CnBM"),ql=o.n(Kl);const Gl=ql()({loader:()=>o.e("@atlaskit-internal_editor-core-helpdialog").then(o.bind(null,"UX/r")).then((e=>e.default)),loading:()=>null});const Yl=()=>{const e={}
;return o("4Upw").bindKeymapWithCommand(o("4Upw").openHelp.common,((e,t)=>{let{tr:n}=e;return n.getMeta(o("AVf+").a)||(n=Object(o("SVcB").a)(e,n,{action:o("J5HJ").a.CLICKED,actionSubject:o("J5HJ").b.BUTTON,actionSubjectId:o("J5HJ").c.BUTTON_HELP,attributes:{inputMethod:o("J5HJ").f.SHORTCUT},eventType:o("J5HJ").e.UI}),Object(o("hlZK").b)(n,t)),!0}),e),Object(oe.b)(e)};var Xl=e=>({name:"helpDialog",pmPlugins:()=>[{name:"helpDialog",plugin:({dispatch:t})=>function(e,t){return new d.Plugin({key:o("AVf+").a,state:{init:()=>({isVisible:!1,imageEnabled:t}),apply(t,n,r){const a=t.getMeta(o("AVf+").a),s=o("AVf+").a.getState(r);if(void 0!==a&&a!==s.isVisible){const t=i()(i()({},s),{},{isVisible:a});return e(o("AVf+").a,t),t}return s}}})}(t,!!e)},{name:"helpDialogKeymap",plugin:()=>Yl()}],pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"helpdialog",title:e(o("/DD6").a.help),description:e(o("/DD6").a.helpDescription),keywords:["?"],priority:4e3,
keyshortcut:Object(o("4Upw").tooltip)(o("4Upw").openHelp),icon:()=>l.a.createElement(o.n(o("epF8")).a,{label:""}),action(e,t){const n=e("");return Object(o("hlZK").b)(n),Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.HELP_OPENED,actionSubject:o("J5HJ").b.HELP,actionSubjectId:o("J5HJ").c.HELP_QUICK_INSERT,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.UI})}}]},contentComponent:({editorView:e})=>l.a.createElement(o("fd7e").a,{plugins:{helpDialog:o("AVf+").a,quickInsert:o("89Qp").a},render:({helpDialog:t={},quickInsert:n})=>l.a.createElement(Gl,{editorView:e,isVisible:t.isVisible,quickInsertEnabled:!!n,imageEnabled:t.imageEnabled})})});function Ql(e,t){if(t)return Object(oe.b)({Enter:(n,r,i)=>!!function(e){const{$cursor:t}=e.state.selection,{decisionItem:n,paragraph:o,taskItem:r}=e.state.schema.nodes;return!t||t.parent.type===o&&1===t.depth||t.parent.type===n&&!Zl(t)||t.parent.type===r&&!Zl(t)}(i)&&(e(o("+WSe").a,ed(n)),t(i),!0)})}function Zl(e){
const{content:t}=e.parent;return!(t&&t.size)}const ed=e=>({payload:{action:o("J5HJ").a.STOPPED,actionSubject:o("J5HJ").b.EDITOR,actionSubjectId:o("J5HJ").c.SAVE,attributes:{inputMethod:o("J5HJ").f.SHORTCUT,documentSize:e.doc.nodeSize},eventType:o("J5HJ").e.UI}});var td=e=>({name:"saveOnEnter",pmPlugins:()=>[{name:"saveOnEnter",plugin:({dispatch:t})=>Ql(t,e)}]});function nd(e){const{clipboardData:t}=e;return!!t&&function(e,t){return(e=>!e.indexOf&&!!e.contains)(e)?e.contains(t):e.indexOf(t)>-1}(t.types,"Files")}const od=async e=>{if((()=>!!navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)())try{await navigator.clipboard.writeText(e)}catch(t){throw new Error("Clipboard api is not supported")}else{if(!(()=>window.clipboardData&&"function"==typeof window.clipboardData.setData)())throw new Error("Clipboard api is not supported");try{await window.clipboardData.setData("text",e)}catch(t){throw new Error("IE clipboard api is not supported")}}};function rd(e){const t=e
;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}const id=e=>{const{mediaSingle:t}=e.schema.nodes,{$to:n}=e.selection;if(t)for(let o=n.depth;o>=0;o--){let e=n.index(o);if(n.node(o).canReplaceWith(e,e,t))return!0}return!1},ad=(e,t)=>{const{media:n,mediaSingle:o}=t.nodes;if(!n||!o)return null;const r=n.createChecked({type:"external",url:e});return o.createChecked({},r)},sd=new d.PluginKey("imageUploadPlugin"),cd=e=>t=>((e,t)=>e.setMeta(sd,t))(t,{name:"START_UPLOAD",event:e}),ld=e=>(t,n)=>!!sd.getState(t).enabled&&(n&&n(cd(e)(t.tr)),!0),dd=(e,t)=>(t,n)=>!!e(n)&&(n.preventDefault(),n.stopPropagation(),ld(n)(t.state,t.dispatch),!0),ud=({dispatch:t,providerFactory:n})=>{let o;return new d.Plugin({state:{init:(e,t)=>({active:!1,enabled:id(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}),apply(e,n,o,r){const a=(e=>{const{media:t}=e.schema.nodes;return e.selection instanceof d.NodeSelection&&e.selection.node.type===t
})(r),s=id(r),c=((e,t)=>{const n=e.getMeta(sd);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload})(e,n);if(a!==n.active||s!==n.enabled||c!==n.activeUpload){const e=i()(i()({},n),{},{active:a,enabled:s,activeUpload:c});return t(sd,e),e}return n}},key:sd,view:()=>{const t=async(t,n)=>{if("imageUploadProvider"===t&&n)try{o=await n}catch(e){o=void 0}};return n.subscribe("imageUploadProvider",t),{update(e,t){const{state:n}=e,r=sd.getState(n),i=sd.getState(t);r.activeUpload!==i.activeUpload&&r.activeUpload&&o&&o(r.activeUpload.event,(t=>(e=>(t,n)=>{if(!sd.getState(t).enabled||!e.src)return!1;const o=ad(e.src,t.schema);return!!o&&(n&&n(Object(p.safeInsert)(o,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)})(t)(e.state,e.dispatch)))},destroy(){n.unsubscribe("imageUploadProvider",t)}}},props:{handleDOMEvents:{drop:dd(rd),paste:dd(nd)}}})};var pd=function(e,t){if(!e.nodes.media||!e.nodes.mediaSingle)return;const n=Object(o("9hcL").c)(/!\[(.*)\]\((\S+)\)$/,((e,t,n,o)=>{
const{schema:r}=e,i={src:t[2],alt:t[1]},a=ad(i.src,r);return a?e.tr.replaceWith(n,o,a):null}));return Object(o("9hcL").b)("image-upload",[n],{useUnpredictableInputRule:t.useUnpredictableInputRule})};var hd=()=>({name:"imageUpload",pmPlugins:()=>[{name:"imageUpload",plugin:ud},{name:"imageUploadInputRule",plugin:({schema:e,featureFlags:t})=>pd(e,t)}]}),fd=o("RsOk");var md=e=>{let t=()=>{};const n=(e=>async(t,n)=>{try{const n=await e;if(n)return t(n)}catch(o){n?n(o):console.error(o)}})(new Promise((e=>{t=e})));return{name:"collabEdit",pmPlugins(){const{useNativePlugin:r=!1,userId:i=null}=e||{};return[...r?[{name:"pmCollab",plugin:()=>Object(fd.a)({clientID:i})}]:[],{name:"collab",plugin:({dispatch:r,providerFactory:i})=>(i&&i.subscribe("collabEditProvider",((e,n)=>{n&&n.then((e=>t(e)))})),Object(o("VHIC").a)(r,i,n,e))}]},onEditorViewStateUpdated(t){const r=Object(o("mY1j").b)(t.newEditorState,t.newEditorState.tr)
;n((({originalTransaction:e,transactions:t,oldEditorState:n,newEditorState:r,useNativePlugin:i})=>a=>{const s=t.find((e=>e.docChanged)),c=o("uOGI").a.getState(r);if(!c.isReady)return;const l=!e.getMeta("isRemote")&&!e.getMeta("scaleTable")&&s;(i||l)&&a.send(s,n,r);const d=o("uOGI").a.getState(n),{activeParticipants:u}=d,{activeParticipants:p,sessionId:h}=c,f=!n.selection.eq(r.selection),m=!u.eq(p);if(h&&f&&!s||h&&m){const e={type:"telepointer",selection:Object(o("7OFl").b)(r.selection),sessionId:h};a.sendMessage(e)}})({originalTransaction:t.originalTransaction,transactions:t.transactions,oldEditorState:t.oldEditorState,newEditorState:t.newEditorState,useNativePlugin:e&&e.useNativePlugin}),r)}}};const gd=h.default.span.withConfig({componentId:"sc-1lsesv-0"
})`align-items:center;background:${"#EBECF0"};border:1px solid ${"#C1C7D0"};border-radius:${Object(o("ARg4").borderRadius)()}px;box-sizing:border-box;cursor:default;display:inline-flex;font-size:${Object(o("9cwX").ib)(13)};margin:0 2px;min-height:24px;padding:0 4px;user-select:none;vertical-align:middle;white-space:nowrap;.ProseMirror-selectednode &{background:${"#C1C7D0"};outline:none;}`,bd=h.default.span.withConfig({componentId:"sc-1lsesv-1"})`display:inline-block;color:#707070;line-height:24px;vertical-align:top;&::before{color:black;content:'JIRA | ';}`,vd=h.default.span.withConfig({componentId:"sc-1lsesv-2"})`display:inline-block;height:24px;vertical-align:top;width:24px;& > div{height:24px;width:24px;}`;function yd(e){const{node:{attrs:{issueKey:t}}}=e;return l.a.createElement(gd,null,l.a.createElement(vd,null,l.a.createElement(o("qW2m").a,{size:"small"})),l.a.createElement(bd,null,t))}
const Ed=new d.PluginKey("jiraIssuePlugin"),wd=({portalProviderAPI:e,eventDispatcher:t})=>new d.Plugin({key:Ed,props:{nodeViews:{confluenceJiraIssue:o("gVP2").a.fromComponent(yd,e,t)}}});var Od=()=>({name:"confluenceJiraIssue",nodes:()=>[{name:"confluenceJiraIssue",node:o("TL4l").a}],pmPlugins:()=>[{name:"jiraIssue",plugin:wd}]});const Sd=(e,t)=>{const{panel:n}=e.schema.nodes;return Object(p.findSelectedNodeOfType)(n)(t||e.selection)||Object(p.findParentNodeOfType)(n)(t||e.selection)},Cd={info:o.n(o("hL5s")).a,success:o.n(o("2MZH")).a,note:o.n(o("lcwu")).a,tip:o.n(o("MWUb")).a,warning:o.n(o("mLKr")).a,error:o.n(o("Gnel")).a,custom:o.n(o("hL5s")).a},Td=e=>{const{allowCustomPanel:t,providerFactory:n,panelAttributes:{panelType:r,panelIcon:i}}=e;if(t&&i&&r===o("XN8Y").a.CUSTOM)return l.a.createElement(o("lYaY").a,{providers:n,shortName:i,showTooltip:!1,allowTextFallback:!1,fitToHeight:o("9cwX").h});const a=Cd[r];return l.a.createElement(a,{label:`Panel ${r}`})};class xd{
constructor(e,t,n,r,i){this.providerFactory=i,this.pluginOptions=r,this.view=t,this.node=e;const{dom:a,contentDOM:s}=Je.DOMSerializer.renderSpec(document,((e,t)=>{const{panelColor:n,panelType:r,panelIcon:i}=e,a=r===o("XN8Y").a.CUSTOM&&t,s=n&&a?`background-color: ${n}`:"",c=!a||!!i,l={class:o("7csE").a.prefix,"data-panel-type":r||o("XN8Y").a.INFO,style:s},d=["span",{class:o("7csE").a.icon}],u=["div",{class:o("7csE").a.content},0];return c?["div",l,d,u]:["div",l,u]})(e.attrs,r.UNSAFE_allowCustomPanel||!1));this.getPos=n,this.dom=a,this.contentDOM=s,this.icon=this.dom.querySelector(`.${o("7csE").a.icon}`),this.icon&&(this.icon.contentEditable="false",Ie.a.render(l.a.createElement(Td,{allowCustomPanel:r.UNSAFE_allowCustomPanel,panelAttributes:e.attrs,providerFactory:this.providerFactory}),this.icon))}ignoreMutation(e){return e.target===this.icon}}const kd=(e,t)=>(n,o,r)=>new xd(n,o,r,e,t),Id=new d.PluginKey("panelPlugin");function Ad(){return l.a.createElement("svg",{width:"24",
height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("rect",{width:"24",height:"24",fill:"white",fillOpacity:"0.01"}),l.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",
d:"M5.84238 8.67075C5.29444 9.68427 5 10.827 5 12C5 13.8565 5.7375 15.637 7.05025 16.9497C8.36301 18.2625 10.1435 19 12 19C12.9193 19 13.8295 18.8189 14.6788 18.4672C14.9012 18.375 15.1183 18.2717 15.3292 18.1576L14.2087 17.037C13.5324 17.3347 12.7851 17.5 12 17.5C8.967 17.5 6.5 15.033 6.5 12C6.50084 11.2327 6.66182 10.4821 6.9644 9.79277L5.84238 8.67075ZM17.0371 14.2086C17.3347 13.5323 17.5 12.7851 17.5 12C17.5 8.967 15.033 6.5 12 6.5C11.2327 6.50084 10.4821 6.6618 9.79285 6.96437L8.67083 5.84234C9.68433 5.29442 10.827 5 12 5C12.9193 5 13.8295 5.18106 14.6788 5.53284C15.5281 5.88463 16.2997 6.40024 16.9497 7.05025C17.5998 7.70026 18.1154 8.47194 18.4672 9.32122C18.8189 10.1705 19 11.0807 19 12C19 12.9193 18.8189 13.8295 18.4672 14.6788C18.375 14.9012 18.2717 15.1182 18.1577 15.3292L17.0371 14.2086Z",fill:"currentColor"}),l.a.createElement("rect",{x:"4.31882",y:"5.55618",width:"1.75",height:"19.9758",rx:"0.875",transform:"rotate(-45 4.31882 5.55618)",fill:"currentColor"}))}
const Nd=()=>(e,t)=>{const{schema:{nodes:n},tr:r}=e,i={action:o("J5HJ").a.DELETED,actionSubject:o("J5HJ").b.PANEL,attributes:{inputMethod:o("J5HJ").f.TOOLBAR},eventType:o("J5HJ").e.TRACK};let a=r;return Object(p.findSelectedNodeOfType)(n.panel)(r.selection)?a=Object(p.removeSelectedNode)(r):Object(p.findParentNodeOfType)(n.panel)(r.selection)&&(a=Object(p.removeParentNodeOfType)(n.panel)(r)),!!a&&(t&&t(Object(o("SVcB").a)(e,a,i)),!0)},Md=(e,t={},n=!1)=>(r,a)=>{const{schema:{nodes:s},tr:c}=r,l=Sd(r);if(void 0===l)return!1;let u,p=e,h=l.node.attrs.panelType;if(n){let n=l.node.attrs.panelColor||Object(o("7csE").c)(h),r=l.node.attrs.panelIcon,a=i()({color:n,emoji:r},t);u=c.setNodeMarkup(l.pos,s.panel,{panelIcon:a.emoji,panelColor:a.color,panelType:e})}else u=c.setNodeMarkup(l.pos,s.panel,{panelType:e});const f={action:o("J5HJ").a.CHANGED_TYPE,actionSubject:o("J5HJ").b.PANEL,attributes:{newType:p,previousType:h},eventType:o("J5HJ").e.TRACK
},m=r.selection instanceof d.NodeSelection&&"panel"===r.selection.node.type.name?u.setSelection(new d.NodeSelection(c.doc.resolve(l.pos))):u,g=Object(o("SVcB").a)(r,m,f);return g.setMeta("scrollIntoView",!1),a&&a(g),!0},Rd=[{label:"Doctor",value:o("UYs2").a.N0},{label:"Pixie dust",value:o("UYs2").a.B50},{label:"Gram's sofa",value:o("UYs2").a.T50},{label:"The smell",value:o("UYs2").a.G50},{label:"James blonde",value:o("UYs2").a.Y50},{label:"Rosie",value:o("UYs2").a.R50},{label:"Lavender secret",value:o("UYs2").a.P50},{label:"Gram's hair",value:o("UYs2").a.N20},{label:"Schwag",value:o("UYs2").a.B75},{label:"Arctic chill",value:o("UYs2").a.T75},{label:"Mintie",value:o("UYs2").a.G75},{label:"Dandelion whisper",value:o("UYs2").a.Y75},{label:"Bondi sunburn",value:o("UYs2").a.R75},{label:"Phantom mist",value:o("UYs2").a.P75},{label:"Sentinel",value:o("UYs2").a.N60},{label:"Arvo breeze",value:o("UYs2").a.B100},{label:"Hairy fairy",value:o("UYs2").a.T100},{label:"Green tea",
value:o("UYs2").a.G200},{label:"Pub mix",value:o("UYs2").a.Y200},{label:"Alexandria",value:o("UYs2").a.R100},{label:"Herky jerky",value:o("UYs2").a.P100}].map((e=>i()(i()({},e),{},{border:o("A977").a}))),jd=Object(u.defineMessages)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."},emoji:{
id:"fabric.editor.panel.emoji",defaultMessage:"Add emoji",description:"Select the panel icon"},backgroundColor:{id:"fabric.editor.panel.backgroundColor",defaultMessage:"Background color",description:"Select the panel background color."}}),Pd=(e,t,n={},r)=>{const{formatMessage:i}=t,a=Sd(e);if(a){const t=e.schema.nodes.panel,{panelType:r,panelColor:s,panelIcon:c}=a.node.attrs;return{title:"Panel floating controls",getDomRef:e=>{const t=e.domAtPos.bind(e);return Object(p.findDomRefAtPos)(a.pos,t)},nodeType:t,items:((e,t,n,r,i,a,s)=>{const c=[{id:"editor.panel.info",type:"button",icon:o.n(o("hL5s")).a,onClick:Md(o("XN8Y").a.INFO),selected:i===o("XN8Y").a.INFO,title:e(jd.info)},{id:"editor.panel.note",type:"button",icon:o.n(o("lcwu")).a,onClick:Md(o("XN8Y").a.NOTE),selected:i===o("XN8Y").a.NOTE,title:e(jd.note)},{id:"editor.panel.success",type:"button",icon:o.n(o("2MZH")).a,onClick:Md(o("XN8Y").a.SUCCESS),selected:i===o("XN8Y").a.SUCCESS,title:e(jd.success)},{id:"editor.panel.warning",
type:"button",icon:o.n(o("mLKr")).a,onClick:Md(o("XN8Y").a.WARNING),selected:i===o("XN8Y").a.WARNING,title:e(jd.warning)},{id:"editor.panel.error",type:"button",icon:o.n(o("Gnel")).a,onClick:Md(o("XN8Y").a.ERROR),selected:i===o("XN8Y").a.ERROR,title:e(jd.error)}];if(n){const t=e=>(t,r)=>{const i=Sd(t);if(void 0===i)return!1;let a=i.node.attrs.panelColor||Object(o("7csE").c)(i.node.attrs.panelType);if(a===e)return Md(o("XN8Y").a.CUSTOM,{color:e},n)(t,r),!1;const s={action:o("J5HJ").a.CHANGED_BACKGROUND_COLOR,actionSubject:o("J5HJ").b.PANEL,actionSubjectId:o("J5HJ").c.PANEL,attributes:{newColor:e,previousColor:a},eventType:o("J5HJ").e.TRACK};return Object(o("SVcB").c)(s)(Md(o("XN8Y").a.CUSTOM,{color:e},n))(t,r),!1},r=e=>(t,n)=>{const r=Sd(t);if(void 0===r)return!1;let i=r.node.attrs.panelIcon||"";if(i===e)return Md(o("XN8Y").a.CUSTOM,{emoji:e},!0)(t,n),!1;const a={action:o("J5HJ").a.CHANGED_ICON,actionSubject:o("J5HJ").b.PANEL,actionSubjectId:o("J5HJ").c.PANEL,attributes:{newIcon:e,
previousIcon:i},eventType:o("J5HJ").e.TRACK};return Object(o("SVcB").c)(a)(Md(o("XN8Y").a.CUSTOM,{emoji:e},!0))(t,n),!1},l=()=>(e,t)=>{const r=Sd(e);if(i===o("XN8Y").a.CUSTOM&&!s)return!1;if(void 0===r)return!1;const a={action:o("J5HJ").a.REMOVE_ICON,actionSubject:o("J5HJ").b.PANEL,actionSubjectId:o("J5HJ").c.PANEL,attributes:{icon:r.node.attrs.panelIcon},eventType:o("J5HJ").e.TRACK};return Object(o("SVcB").c)(a)(Md(o("XN8Y").a.CUSTOM,{emoji:void 0},n))(e,t),!1},d=i===o("XN8Y").a.CUSTOM?a||Object(o("7csE").c)(o("XN8Y").a.INFO):Object(o("7csE").c)(i),u=Rd.find((e=>e.value===d))||{label:"Custom",value:d,border:o("A977").a},p={id:"editor.panel.colorPicker",title:e(jd.backgroundColor),type:"select",selectType:"color",defaultValue:u,options:Rd,onChange:e=>t(e.value)},h={id:"editor.panel.emojiPicker",title:e(jd.emoji),type:"select",selectType:"emoji",options:[],selected:i===o("XN8Y").a.CUSTOM&&!!s,onChange:e=>r(e)},f={id:"editor.panel.removeEmoji",type:"button",icon:Ad,onClick:l(),
title:e(o("yYBl").a.removeEmoji),disabled:!s};c.push(h,f,{type:"separator"},p)}return c.push({type:"separator"},{id:"editor.panel.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onClick:Nd(),onMouseEnter:Object(o("lgPy").b)(t,!0),onMouseLeave:Object(o("lgPy").b)(t,!1),onFocus:Object(o("lgPy").b)(t,!0),onBlur:Object(o("lgPy").b)(t,!1),title:e(o("yYBl").a.remove)}),c})(i,t,n.UNSAFE_allowCustomPanel||!1,0,r,n.UNSAFE_allowCustomPanel?s:void 0,n.UNSAFE_allowCustomPanel?c:void 0)}}};var Dd=function(){const e={Backspace:(e,t)=>{const{selection:n,schema:{nodes:o},tr:r}=e,{panel:i}=o,{$from:a,$to:s}=n;if(a.pos!==s.pos)return!1;if(0!==a.parentOffset)return!1;const c=r.doc.resolve(Math.max(0,a.before(a.depth)-1)),l=c.pos>0&&c.parent&&c.parent.type,d=a.parent.type;if(l===i&&!(d===i)){const e=a.node(a.depth).content,n=c.pos-1;return((e,t)=>t.delete(e.before(e.depth)-1,e.end(e.depth)+1))(a,r).insert(n,e),t&&t(Object(p.setTextSelection)(n)(r).scrollIntoView()),!0}
return a.node().type===i}};return Object(oe.b)(e)};const Ld=(e,t,n)=>{const r=n(_d(e,t));return r&&Object(o("SVcB").a)(t,r,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.PANEL,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT,panelType:e.panelType},eventType:o("J5HJ").e.TRACK}),r},_d=(e,t)=>t.schema.nodes.panel.createChecked(e,t.schema.nodes.paragraph.createChecked());var Bd=(e={})=>({name:"panel",nodes:()=>[{name:"panel",node:e.UNSAFE_allowCustomPanel?o("XN8Y").b:o("XN8Y").c}],pmPlugins:()=>[{name:"panel",plugin:({providerFactory:t,dispatch:n})=>((e,t,n)=>{const{useLongPressSelection:r=!1}=n;return new d.Plugin({key:Id,props:{nodeViews:{panel:kd(n,t)},handleClickOn:pe(["panel"],(e=>!!e.closest(`.${o("7csE").a.prefix}`)),{useLongPressSelection:r})}})})(0,t,e)},{name:"panelKeyMap",plugin:()=>Dd()}],pluginsOptions:{quickInsert:({formatMessage:t})=>{let n=[{id:"infopanel",title:t(o("RJFP").a.infoPanel),keywords:["panel"],
description:t(o("RJFP").a.infoPanelDescription),priority:800,icon:()=>l.a.createElement(o("Jzj3").p,null),action:(e,t)=>Ld({panelType:o("XN8Y").a.INFO},t,e)},{id:"notepanel",title:t(o("RJFP").a.notePanel),description:t(o("RJFP").a.notePanelDescription),priority:1e3,icon:()=>l.a.createElement(o("Jzj3").r,null),action:(e,t)=>Ld({panelType:o("XN8Y").a.NOTE},t,e)},{id:"successpanel",title:t(o("RJFP").a.successPanel),description:t(o("RJFP").a.successPanelDescription),keywords:["tip"],priority:1e3,icon:()=>l.a.createElement(o("Jzj3").s,null),action:(e,t)=>Ld({panelType:o("XN8Y").a.SUCCESS},t,e)},{id:"warningpanel",title:t(o("RJFP").a.warningPanel),description:t(o("RJFP").a.warningPanelDescription),priority:1e3,icon:()=>l.a.createElement(o("Jzj3").t,null),action:(e,t)=>Ld({panelType:o("XN8Y").a.WARNING},t,e)},{id:"errorpanel",title:t(o("RJFP").a.errorPanel),description:t(o("RJFP").a.errorPanelDescription),priority:1e3,icon:()=>l.a.createElement(o("Jzj3").q,null),action:(e,t)=>Ld({
panelType:o("XN8Y").a.ERROR},t,e)}];return e.UNSAFE_allowCustomPanel&&n.push({id:"custompanel",title:t(o("RJFP").a.customPanel),description:t(o("RJFP").a.customPanelDescription),priority:1e3,icon:()=>l.a.createElement(o("yQD/").default,null),action:(e,t)=>Ld({panelType:o("XN8Y").a.CUSTOM,panelIcon:":rainbow:",panelColor:"#B3F5FF"},t,e)}),n},floatingToolbar:(t,n,o)=>Pd(t,n,e)}});const Hd="wider-layout",Jd=Object(h.default)(o("WSRu").f).withConfig({componentId:"b66viv-0"})`&.without-frame{background:transparent;}cursor:pointer;width:100%;.extension-overflow-wrapper:not(.with-body){overflow-x:auto;}.ProseMirror > ${'[data-mark-type="dataConsumer"]'} > [extensiontype] &.${Hd},.ProseMirror > [extensiontype] &.${Hd}{width:${({extensionWidth:e})=>`${e}`};margin-left:50%;transform:translateX(-50%);}`,$d=h.default.div.withConfig({componentId:"b66viv-1"
})`padding:${o("WSRu").g/2}px ${o("WSRu").g/2}px ${o("WSRu").g/4}px;vertical-align:middle;&.with-children:not(.without-frame){padding:4px 8px 8px;}&.without-frame{padding:0;}`,Fd=h.default.div.withConfig({componentId:"b66viv-2"})`padding:${o("WSRu").g}px;background:${Object(o("ku5o").a)({light:"white",dark:"#1B2638"})};color:${Object(o("ku5o").a)({dark:"#E6EDFA"})};border:1px solid ${"#EBECF0"};border-radius:${Object(o("ARg4").borderRadius)()}px;cursor:initial;`,zd=h.default.div.withConfig({componentId:"b66viv-3"})`padding:0 ${o("WSRu").g}px ${o("WSRu").g}px;`,Ud=["url"];class Vd extends c.Component{render(){const{node:e}=this.props,t=Object(o("wT6a").a)({node:e,type:"image"});if(t&&"extension"!==e.type.name)return this.renderImage(t);const n=Object(o("wT6a").a)({node:e,type:"icon"});return this.renderFallback(n)}renderImage(e){const{extensionKey:t}=this.props.node.attrs,{url:n}=e,r=Ne()(e,Ud);return l.a.createElement(o("WSRu").e,Re()({src:n},r,{alt:t}))}renderFallback(e){
const{parameters:t,extensionKey:n}=this.props.node.attrs,{name:r}=this.props.node.type,a=t&&t.macroParams,s=t&&t.extensionTitle||t&&t.macroMetadata&&t.macroMetadata.title||n,c="extension"===r;return l.a.createElement(o("WSRu").c,null,e&&!c?this.renderImage(i()({height:24,width:24},e)):l.a.createElement(o.n(o("4Nwc")).a,{label:s}),l.a.createElement("span",{className:"extension-title"},(e=>e.charAt(0).toUpperCase()+e.slice(1))(s)),a&&!c&&l.a.createElement(o("WSRu").d,null,Object.keys(a).map((e=>e&&` | ${e} = ${a[e].value}`))))}}Vd.displayName="ExtensionLozenge";var Wd=Object(o("MysJ").a)((e=>{const{node:t,handleContentDOMRef:n,children:r,view:i,handleRef:a,shadowClassNames:s,hideFrame:c,editorAppearance:d}=e,u="bodiedExtension"===t.type.name,p=!!r,h=c&&!("mobile"===d)&&!u||!1,f=Ms()("extension-container","block",s,{"with-overlay":!u,"without-frame":h,"wider-layout":["full-width","wide"].includes(t.attrs.layout)}),m=Ms()({"with-children":p,"without-frame":h})
;return l.a.createElement(o("fd7e").a,{editorView:i,plugins:{widthState:o("IXso").b},render:({widthState:e={width:0}})=>l.a.createElement(Jd,{innerRef:a,"data-layout":t.attrs.layout,className:f,extensionWidth:Object(o("xEd5").c)(t.attrs.layout,e.width)},l.a.createElement("div",{className:"extension-overflow-wrapper "+(u?"with-body":"")},l.a.createElement(o("WSRu").b,{className:"extension-overlay"}),l.a.createElement($d,{contentEditable:!1,className:m},!h&&l.a.createElement(Vd,{node:t}),r),u&&l.a.createElement(zd,null,l.a.createElement(Fd,{innerRef:n,className:"extension-content block"}))))})}),{overflowSelector:".extension-overflow-wrapper"});const Kd=Object(h.default)(o("WSRu").f).withConfig({componentId:"sc-19bi9m1-0"})`cursor:pointer;display:inline-flex;margin:1px;> img{border-radius:${Object(o("ARg4").borderRadius)()}px;}&::after,&::before{vertical-align:text-top;display:inline-block;width:1px;content:'';}&.with-children{padding:0;background:white;}`;class qd extends c.Component{
render(){const{node:e,children:t}=this.props,n=!!t?"with-overlay with-children":"with-overlay";return l.a.createElement(Kd,{className:`extension-container inline ${n}`},l.a.createElement(o("WSRu").b,{className:"extension-overlay"}),t||l.a.createElement(Vd,{node:e}))}}qd.displayName="InlineExtension";class Gd extends c.Component{constructor(...t){super(...t),s()(this,"privatePropsParsed",!1),s()(this,"state",{}),s()(this,"mounted",!1),s()(this,"getNodeRenderer",Object(o("2JGX").default)(o("P4PC").c)),s()(this,"getExtensionModuleNodePrivateProps",Object(o("2JGX").default)(o("P4PC").b)),s()(this,"setStateFromPromise",((e,t)=>{t&&t.then((t=>{this.mounted&&this.setState({[e]:t})}))})),s()(this,"parsePrivateNodePropsIfNeeded",(async()=>{if(this.privatePropsParsed||!this.state.extensionProvider)return;this.privatePropsParsed=!0;const{extensionType:t,extensionKey:n}=this.props.node.attrs;try{const e=await this.getExtensionModuleNodePrivateProps(this.state.extensionProvider,t,n);this.setState({
_privateProps:e})}catch(e){console.error("Provided extension handler has thrown an error\n",e)}})),s()(this,"handleExtension",(e=>{const{extensionHandlers:t,editorView:n}=this.props,{extensionType:r,extensionKey:i,parameters:a,text:s}=e.attrs;if("bodiedExtension"===e.type.name)return;const c={type:e.type.name,extensionType:r,extensionKey:i,parameters:a,content:s,localId:e.attrs.localId};let d;if(t&&t[r]){d=Object(o("QedE").a)(t[r])(c,n.state.doc)}if(!d){const e=this.state.extensionProvider&&this.getNodeRenderer(this.state.extensionProvider,r,i);if(e){const t=e;return l.a.createElement(t,{node:c,references:this.props.references})}}return d}))}UNSAFE_componentWillMount(){this.mounted=!0}componentDidMount(){const{extensionProvider:e}=this.props;e&&this.setStateFromPromise("extensionProvider",e)}componentDidUpdate(){this.parsePrivateNodePropsIfNeeded()}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e){const{extensionProvider:t}=e
;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)}render(){var e;const{node:t,handleContentDOMRef:n,editorView:o,references:r,editorAppearance:i}=this.props,a=this.tryExtensionHandler();switch(t.type.name){case"extension":case"bodiedExtension":return l.a.createElement(Wd,{node:t,references:r,extensionProvider:this.state.extensionProvider,handleContentDOMRef:n,view:o,editorAppearance:i,hideFrame:null===(e=this.state._privateProps)||void 0===e?void 0:e.__hideFrame},a);case"inlineExtension":return l.a.createElement(qd,{node:t},a);default:return null}}tryExtensionHandler(){const{node:t}=this.props;try{const e=this.handleExtension(t);if(e&&l.a.isValidElement(e))return e}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null}}Gd.displayName="ExtensionComponent";class Yd extends c.Component{constructor(e){super(e),s()(this,"renderWithProvider",(({extensionProvider:e})=>{
const{node:t,editorView:n,handleContentDOMRef:o,extensionHandlers:r,references:i,editorAppearance:a}=this.props;return l.a.createElement(Gd,{editorView:n,node:t,references:i,extensionProvider:e,handleContentDOMRef:o,extensionHandlers:r,editorAppearance:a})})),this.providerFactory=e.providerFactory||new(o("U7Mc").a)}componentWillUnmount(){this.props.providerFactory||this.providerFactory.destroy()}render(){return l.a.createElement(o("D0us").a,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}Yd.displayName="Extension",s()(Yd,"displayName","Extension");var Xd=({children:e,nodeType:t})=>l.a.createElement("span",null,e,"inlineExtension"===t&&o("vNjH").a);class Qd extends o("gVP2").a{ignoreMutation(e){return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName}getContentDOM(){if(this.node.isInline)return;const e=document.createElement("div");return e.className=`${this.node.type.name}-content-dom-wrapper`,{dom:e
}}render(e,t){var n;return l.a.createElement(Xd,{nodeType:this.node.type.name},l.a.createElement(Yd,{editorView:this.view,node:this.node,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers,editorAppearance:null===(n=e.extensionNodeViewOptions)||void 0===n?void 0:n.appearance}))}}function Zd(e,t,n,o,r){return(i,a,s)=>new Qd(i,a,s,e,t,{providerFactory:n,extensionHandlers:o,extensionNodeViewOptions:r}).init()}Qd.displayName="ExtensionNode";const eu=async(e,t)=>{try{const n=await(async(e,t)=>{const n=Object(o("wqCz").f)(e.state,!0);if(!n)throw new Error("There is no selection");const{extensionType:r,extensionKey:i}=n.node.attrs,a=await Object(o("P4PC").a)(t,r,i),s=Object(o("wqCz").f)(e.state,!0);if(s&&s.node.attrs.extensionType===r&&s.node.attrs.extensionKey===i&&s.pos===n.pos&&a)return a.update})(e,t);return Object(o("raAN").f)({showEditButton:!!n,updateExtension:n&&Promise.resolve(n)||void 0})(e.state,e.dispatch),n}catch{}
},tu=(e,t,n,r,i,a=!1,s={})=>{const c=Object(o("eFSV").b)(e,{layout:"default",showEditButton:!1,showContextPanel:!1}),l={appearance:s.appearance};return new d.Plugin({state:c,view:e=>{const r=e.domAtPos.bind(e),i=(e=>async(t,n)=>{if("extensionProvider"===t&&n)try{const t=await n;Object(o("raAN").f)({extensionProvider:t})(e.state,e.dispatch),await eu(e,t)}catch{Object(o("raAN").f)({extensionProvider:void 0})(e.state,e.dispatch)}})(e),a=(e=>async(t,n)=>{if("contextIdentifierProvider"===t&&n)try{const t=await n;Object(o("raAN").f)({contextIdentifierProvider:t})(e.state,e.dispatch)}catch{Object(o("raAN").f)({contextIdentifierProvider:void 0})(e.state,e.dispatch)}})(e);return t.subscribe("extensionProvider",i),t.subscribe("contextIdentificationProvider",a),{update:e=>{const{state:t,dispatch:i}=e,{element:a,localId:s,extensionProvider:c,showContextPanel:l}=Object(o("eFSV").c)(t),d=Object(o("wqCz").f)(t,!0);if(!d)return void(l&&Object(o("raAN").a)(t,i))
;const{node:u}=d,p=Object(o("wqCz").e)(t.schema,r,d);if(u.attrs.localId?s!==u.attrs.localId:a!==p){l&&Object(o("raAN").a)(t,i);const{extensionType:r}=u.attrs,a=n[r],s=((e,t)=>{const n=!e&&!t||"function"==typeof e,o="object"==typeof e&&"function"==typeof e.update;return!(!n&&!o)})(a,c),h=(async(e,t,n)=>{if(t&&"object"==typeof t)return t.update;if(n){const t=await eu(e,n);if(t)return t}throw new Error("No update method available")})(e,a,c).catch((()=>{})),f=d?u.attrs.layout:"default";Object(o("raAN").f)({localId:u.attrs.localId,showContextPanel:!1,element:p,showEditButton:s,updateExtension:h,layout:f})(t,i)}else a!==p&&Object(o("raAN").f)({element:p})(t,i);return!0},destroy:()=>{t.unsubscribe("extensionProvider",i),t.unsubscribe("contextIdentificationProvider",a)}}},key:o("JE3G").a,props:{nodeViews:{extension:Zd(r,i,t,n,l),bodiedExtension:Zd(r,i,t,n,l),inlineExtension:Zd(r,i,t,n,l)},handleClickOn:pe(["extension","bodiedExtension"],(e=>!e.closest(".extension-content")),{
useLongPressSelection:a})}})};function nu(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").escape.common,((e,t)=>!!Object(o("eFSV").c)(e).showContextPanel&&Object(o("raAN").a)(e,t)),e),Object(oe.b)(e)}const ou=["localId"],ru=new d.PluginKey("extensionUniqueIdPlugin"),iu=(e,t,n,o,r)=>{switch(e){case"extension":return t.nodes.extension.createChecked(n,o,r);case"inlineExtension":return t.nodes.inlineExtension.createChecked(n,o,r);case"bodiedExtension":return t.nodes.bodiedExtension.create(n,o,r)}},au=(e,t,n)=>async(r,a,s)=>{const{attrs:c,type:l,content:u,marks:h}=t.node;if(!r.schema.nodes[l.name])return!1;const{parameters:f}=c;try{const t=await e(f,n);if(t){const e=i()(i()({},c),{},{parameters:i()(i()({},f),t)});return((e,t,n,r,i)=>(a,s,c)=>{if(!c)throw Error("EditorView is required to perform node update!");const{state:l,dispatch:u}=c,h=iu(e,l.schema,t,n,r);if(!h)return!1
;const{selection:f,schema:m}=l,{extension:g,inlineExtension:b,bodiedExtension:v}=m.nodes,y=!!Object(p.findSelectedNodeOfType)([v])(f),E=Object(o("eFSV").c)(l);let w=o("+uEk").a.CURRENT_SELECTION,O=o("J5HJ").a.UPDATED,{tr:S}=l;if(h.type!==v||y){if(Object(p.findSelectedNodeOfType)([g,v,b])(f))S=Object(p.replaceSelectedNode)(h)(S),S.setSelection(d.NodeSelection.create(S.doc,S.mapping.map(l.selection.anchor)));else if(E.element){const e=c.posAtDOM(E.element,-1);e>-1?(S=S.replaceWith(e,e+(n.size||0)+1,h),S.setSelection(d.Selection.near(S.doc.resolve(e))),w=o("+uEk").a.HTML_ELEMENT):O=o("J5HJ").a.ERRORED}}else S=Object(p.replaceParentNodeOfType)(l.schema.nodes.bodiedExtension,h)(S),S.setSelection(d.TextSelection.create(S.doc,l.selection.anchor));if(u&&S.docChanged){const{extensionType:e,extensionKey:t,layout:n,localId:r}=h.attrs;Object(o("SVcB").a)(l,S,{action:O,actionSubject:o("J5HJ").b.EXTENSION,actionSubjectId:h.type.name,eventType:o("J5HJ").e.TRACK,attributes:{
inputMethod:o("J5HJ").f.CONFIG_PANEL,extensionType:e,extensionKey:t,layout:n,localId:r,selection:S.selection.toJSON(),targetSelectionSource:w}}),u(i?S.scrollIntoView():S)}return!0})(l.name,e,u,h,!0)(r,a,s)}}catch{}return!0},su=(e,t)=>(n,r,i)=>{if(!i)return!1;const{localId:a}=Object(o("eFSV").c)(n),s=Object(o("wqCz").a)(n,a);if(!s)return!1;const c=Object(o("9bjj").b)({view:i,macroProvider:e||void 0});if(t)t.then((t=>{if(t&&i){const e=Object(o("9bjj").a)({editorView:i,editInLegacyMacroBrowser:c});au(t,s,e)(n,r,i)}else t||!e||c()}));else{if(!e)return!1;c()}return!0},cu=Object(u.defineMessages)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."}}),lu=(e,t,n,r)=>{const i=Object(o("wqCz").f)(e,!0),{layout:a}=n;return i&&r&&((e,t)=>{const{schema:{nodes:{bodiedExtension:n,extension:o,layoutSection:r,table:i,expand:a}},selection:s}=e
;return!!t&&!(t.node.type!==n&&(t.node.type!==o||Object(p.hasParentNodeOfType)([n,i,a].filter(Boolean))(s))||Object(p.hasParentNodeOfType)([r])(s))})(e,i)?[{type:"button",icon:o.n(o("xN1B")).a,onClick:Object(o("raAN").e)("default"),selected:"default"===a,title:t(o("yYBl").a.layoutFixedWidth)},{type:"button",icon:o.n(o("krE2")).a,onClick:Object(o("raAN").e)("wide"),selected:"wide"===a,title:t(o("yYBl").a.layoutWide)},{type:"button",icon:o.n(o("1rMa")).a,onClick:Object(o("raAN").e)("full-width"),selected:"full-width"===a,title:t(o("yYBl").a.layoutFullWidth)}]:[]},du=(e=!0)=>(t,n)=>{const{formatMessage:r}=n,i=Object(o("eFSV").c)(t);if(i&&!i.showContextPanel&&i.element){const n=[t.schema.nodes.extension,t.schema.nodes.inlineExtension,t.schema.nodes.bodiedExtension],a=((e,t)=>t.showEditButton?[{id:"editor.extension.edit",type:"button",icon:o.n(o("ubpr")).a,testId:"extension-toolbar-edit-button",onClick:(e,t,n)=>{const r=o("YAmM").a.getState(e),{updateExtension:i}=Object(o("eFSV").c)(e)
;return su(r&&r.macroProvider,i)(e,t,n),!0},title:e(cu.edit)}]:[])(r,i),s=lu(t,r,i,e);return{title:"Extension floating controls",getDomRef:()=>i.element.parentElement||void 0,nodeType:n,items:[...a,...s,{type:"separator",hidden:0===a.length&&0===s.length},{type:"extensions-placeholder",separator:"end"},{id:"editor.extension.delete",type:"button",icon:o.n(o("Fn6O")).a,appearance:"danger",onClick:Object(o("raAN").c)(),onMouseEnter:Object(o("lgPy").b)(n,!0),onMouseLeave:Object(o("lgPy").b)(n,!1),onFocus:Object(o("lgPy").b)(n,!0),onBlur:Object(o("lgPy").b)(n,!1),title:r(o("yYBl").a.remove)}]}}};var uu=ql()({loader:()=>o.e("@atlaskit-internal_editor-core-config-panel").then(o.bind(null,"50GQ")).then((e=>e.default)),loading:o("FaP8").a});const pu=Object(u.defineMessages)({saveIndicator:{id:"fabric.editor.extensions.config-panel.save-indicator",defaultMessage:"All changes are always autosaved",description:"Message shown to the user to notify to them that we save the changes automatically."}
}),hu=()=>{},fu=h.default.div.withConfig({componentId:"sc-16e8vdz-0"})`display:flex;justify-content:center;`,mu=h.default.div.withConfig({componentId:"sc-16e8vdz-1"})`position:fixed;width:256px;bottom:20px;display:flex;flex-direction:row;align-items:center;padding:6px 12px;background:${"#FFFFFF"};box-shadow:0px 8px 12px rgba(9,30,66,0.15),0px 0px 1px rgba(9,30,66,0.31);border-radius:16px;`,gu=h.default.span.withConfig({componentId:"sc-16e8vdz-2"})`padding-left:6px;`,bu=({children:e,duration:t,visible:n=!0})=>{const[r,i]=Object(c.useState)(!1),a=Object(c.useRef)(!1),s=Object(c.useCallback)((()=>{a.current||(i(!0),a.current=!0)}),[]);return Object(c.useEffect)((()=>{if(r){const e=setTimeout((()=>{i(!1)}),t);return()=>clearTimeout(e)}}),[r,t]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,e({onSaveStarted:s,onSaveEnded:hu})),n&&r&&l.a.createElement(fu,null,l.a.createElement(mu,{"data-testid":"save-indicator-content"},l.a.createElement(o.n(o("Ld6T")).a,{label:"Saving",
primaryColor:"#36B37E",size:"small"}),l.a.createElement(gu,null,l.a.createElement(u.FormattedMessage,pu.saveIndicator)))))},vu=e=>t=>{const n=Object(o("wqCz").f)(t,!0);if(!n)return;const r=Object(o("eFSV").c)(t),{autoSaveResolve:a,showContextPanel:s,extensionProvider:c,processParametersBefore:d,processParametersAfter:u}=r;if(r&&s&&c&&u){const{extensionType:t,extensionKey:r,parameters:s}=n.node.attrs,[u,p]=Object(o("4XCL").b)(r,t),h=d?d(s||{}):s;return l.a.createElement(bu,{duration:5e3,visible:e},(({onSaveStarted:r,onSaveEnded:d})=>l.a.createElement(o("WdXo").a,{render:f=>{const m=f._privateGetEditorView();return m?l.a.createElement(uu,{showHeader:!0,closeOnEsc:!0,extensionType:t,extensionKey:u,nodeKey:p,extensionParameters:s,parameters:h,extensionProvider:c,autoSave:e,autoSaveTrigger:a,onChange:async t=>{await async function(e,t={},n={},r,a){const{processParametersAfter:s,processParametersBefore:c}=Object(o("eFSV").c)(e.state);if(!s)return;const l=c?c(n):n;if(((e,t)=>{
if("object"==typeof e&&"object"==typeof t&&null!==e&&null!==t){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.every((n=>e[n]===t[n]))}return e===t})(l,t))return;a&&a();const d=Date.now(),{positions:u}=Object(o("eFSV").c)(e.state);await Object(o("raAN").f)({positions:i()(i()({},u),{},{[d]:r.pos})})(e.state,e.dispatch);const p=await s(t),{positions:h}=Object(o("eFSV").c)(e.state);if(!h)return;if(!(d in h))return;const{node:f}=r,m=iu(r.node.toJSON().type,e.state.schema,i()(i()({},f.attrs),{},{parameters:i()(i()({},n),p)}),f.content,f.marks);if(!m)return;const g=h[d],b=e.state.tr.replaceWith(g,g+m.nodeSize,m),{selection:v}=e.state;if(!v.eq(b.selection)){const e=Object(o("Gbq5").a)(v,b.doc);e&&b.setSelection(e)}const y=i()({},Object(o("eFSV").c)(e.state).positions);delete y[d],await Object(o("raAN").f)({positions:y})(e.state,e.dispatch),e.dispatch(b)}(m,t,s,n,r),d(),a&&a(),e||Object(o("raAN").a)(m.state,m.dispatch)},onCancel:async()=>{e&&await new Promise((e=>{
Object(o("raAN").b)(e)(m.state,m.dispatch)})),Object(o("raAN").a)(m.state,m.dispatch)}}):null}})))}};var yu=(e={})=>({name:"extension",nodes:()=>[{name:"extension",node:o("WjiB").a},{name:"bodiedExtension",node:o("3jnN").a},{name:"inlineExtension",node:o("IAX4").a}],pmPlugins:()=>[{name:"extension",plugin:({dispatch:t,providerFactory:n,portalProviderAPI:o,eventDispatcher:r})=>{const i=e.extensionHandlers||{};return tu(t,n,i,o,r,e.useLongPressSelection,{appearance:e.appearance})}},{name:"extensionKeymap",plugin:nu},{name:"extensionUniqueId",plugin:()=>(()=>new d.Plugin({appendTransaction:(e,t,n)=>{const r=n.tr,a=r.selection.getBookmark();let s=!1;if(e.forEach((e=>{e.docChanged&&Object(o("x+VZ").l)(e,((e,t)=>{const{extension:a,bodiedExtension:c,inlineExtension:l}=n.schema.nodes;if(e.type&&(e.type===a||e.type===c||e.type===l)){const n=e.attrs,{localId:a}=n,c=Ne()(n,ou);a||(r.setNodeMarkup(t,void 0,i()({localId:o("klzq").b.generate()},c)),s=!0)}}))})),
s)return r.setSelection(a.resolve(r.doc))},key:ru}))()}],pluginsOptions:{floatingToolbar:du(e.breakoutEnabled),contextPanel:vu(e.allowAutoSave)}}),Eu=o("9OXl");class wu extends l.a.Component{constructor(...e){super(...e),s()(this,"handleClick",(e=>{e.nativeEvent.stopImmediatePropagation();const{state:t,dispatch:n}=this.props.view;Object(o("bcXr").h)(t.selection.from)(t,n)}))}render(){const{node:{attrs:{timestamp:e}},view:{state:{doc:t,schema:n,selection:r}},intl:i,getPos:a}=this.props,s=("function"==typeof a?t.resolve(a()):r.$from).parent,c=s.type===n.nodes.taskItem&&"DONE"!==s.attrs.state,d=c&&Object(o("Jvvb").a)(e)?"red":void 0;return l.a.createElement("span",{className:o("SmJf").a.DATE_WRAPPER,onClick:this.handleClick},l.a.createElement(Eu.Date,{color:d,value:e},c?Object(o("Jvvb").d)(e,i):Object(o("Jvvb").c)(e,i)))}}wu.displayName="DateNodeView";var Ou=Object(u.injectIntl)(wu);const Su=e=>{if(e instanceof d.NodeSelection){return"date"===e.node.type.name}return!1
},{createPluginState:Cu,getPluginState:Tu}=Object(o("FJah").a)(o("VpzP").a,(function(e,t){if(t.showDatePickerAt===e.showDatePickerAt)return i()(i()({},e),{},{showDatePickerAt:null});const{showDatePickerAt:n,isNew:o}=e,{showDatePickerAt:r}=t;return n&&r&&n!==r&&o?i()(i()(i()({},e),t),{},{isNew:!1}):i()(i()({},e),t)}),{mapping:function(e,t){if(!t.showDatePickerAt)return t;const{pos:n}=e.mapping.mapResult(t.showDatePickerAt);return{showDatePickerAt:n,isNew:t.isNew,isDateEmpty:t.isDateEmpty,focusDateInput:t.focusDateInput}},onSelectionChanged:function(e,t){return e.docChanged&&Su(e.selection)?i()(i()({},t),{},{isQuickInsertAction:!1,showDatePickerAt:e.selection.from}):Su(e.selection)||t.isQuickInsertAction?t:t.showDatePickerAt?{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}:t}});var xu=({dispatch:e,portalProviderAPI:t,eventDispatcher:n})=>new d.Plugin({state:Cu(e,{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}),key:o("VpzP").a,props:{nodeViews:{
date:o("gVP2").a.fromComponent(Ou,t,n)}}});var ku=function(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,((e,t)=>{const n=Tu(e);return e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(Object(o("bcXr").a)()(e,t),!0):(Object(o("bcXr").g)()(e,t),!0))}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").tab.common,((e,t)=>{const n=Tu(e);return!!(e.selection instanceof d.NodeSelection&&e.selection.node.type===e.schema.nodes.date)&&(!!n.showDatePickerAt&&(Object(o("bcXr").e)()(e,t),!0))}),e),Object(oe.b)(e)};const Iu=ql()({loader:()=>o.e("@atlaskit-internal_editor-datepicker").then(o.bind(null,"FVyO")).then((e=>e.default)),loading:()=>null});var Au=()=>({name:"date",nodes:()=>[{name:"date",node:o("rAl/").a}],pmPlugins:()=>[{name:"date",plugin:e=>(Iu.preload(),xu(e))},{name:"dateKeymap",plugin:()=>(Iu.preload(),ku())}],
contentComponent({editorView:e,dispatchAnalyticsEvent:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i}){const{state:a,dispatch:s}=e,c=e.domAtPos.bind(e);return l.a.createElement(o("fd7e").a,{plugins:{datePlugin:o("VpzP").a,editorDisabledPlugin:o("QNcB").b},render:({editorDisabledPlugin:d,datePlugin:u})=>{if(null==u||!u.showDatePickerAt||null!=d&&d.editorDisabled)return null;const{showDatePickerAt:h,isNew:f,focusDateInput:m}=u,g=Object(p.findDomRefAtPos)(h,c),b=Object(o("37L4").b)(a),{keyboardAccessibleDatepicker:v}=b;return l.a.createElement(Iu,{mountTo:n,boundariesElement:r,scrollableElement:i,key:h,showTextField:v,element:g,isNew:f,autoFocus:m,onDelete:()=>{Object(o("bcXr").d)()(e.state,s),e.focus()},onSelect:(t,n)=>{null!=t&&(Object(o("bcXr").f)(t,void 0,n)(e.state,s),e.focus())},onTextChanged:t=>{Object(o("bcXr").f)(t,void 0,void 0,!1)(e.state,s)},closeDatePicker:()=>{Object(o("bcXr").a)()(e.state,s),e.focus()},closeDatePickerWithAnalytics:({date:t})=>{
Object(o("bcXr").b)({date:t})(e.state,s),e.focus()},dispatchAnalyticsEvent:t})}})},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"date",title:e(o("/DD6").a.date),description:e(o("/DD6").a.dateDescription),priority:800,keywords:["calendar","day","time","today","/"],keyshortcut:"//",icon:()=>l.a.createElement(o("Jzj3").c,null),action(e,t){const n=Object(o("bcXr").c)(!0)(e,t);return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.DATE,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT}}),n}}]}});const Nu=e=>e.nodeType===Node.TEXT_NODE?e.parentNode:e,Mu=(e,t,n)=>o=>{if(!e)return o;const r=(e=>parseFloat(window.getComputedStyle(e,void 0).lineHeight||""))(Nu(t)),i=((e,t,n)=>{const{left:o,top:r,height:i}=t.getBoundingClientRect();return{left:e.left-o,right:e.right-o,top:e.top-(r-n)+t.scrollTop,bottom:i-(e.top-(r-n)-t.scrollTop)}})(n(),e,r);return{left:o.left?i.left:void 0,
right:o.right?i.right:void 0,top:o.top?i.top:void 0,bottom:o.bottom?i.bottom:void 0}},Ru=h.default.div.withConfig({componentId:"sibqm2-0"})`border-radius:${Object(o("ARg4").borderRadius)()}px;${o("mw/U").k} display:flex;align-items:center;box-sizing:border-box;padding:4px 8px;background-color:${"#FFFFFF"};${({height:e})=>e?h.css`height:${e}px;`:""};`;class ju extends c.PureComponent{render(){const{containerRef:e,children:t,target:n,offset:r,fitWidth:i,fitHeight:a=40,onPositionCalculated:s,popupsMountPoint:c,popupsBoundariesElement:d,className:u,alignX:p,alignY:h,zIndex:f}=this.props;return n?l.a.createElement(o("poXX").a,{alignX:p,alignY:h,target:n,zIndex:f,mountTo:c,boundariesElement:d,offset:r,fitWidth:i,fitHeight:a,onPositionCalculated:s},l.a.createElement(Ru,{height:a,className:u,innerRef:e},t)):null}}ju.displayName="FloatingToolbar";const Pu=Object(u.defineMessages)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",
description:""}});class Du extends l.a.Component{constructor(...e){super(...e),s()(this,"handleSubmit",(e=>{e?(this.props.insertPlaceholder(e),this.props.setFocusInEditor()):this.props.hidePlaceholderFloatingToolbar()})),s()(this,"handleBlur",(()=>{this.props.hidePlaceholderFloatingToolbar()}))}render(){const{getNodeFromPos:e,showInsertPanelAt:t,editorViewDOM:n,popupsMountPoint:r,getFixedCoordinatesFromPos:i,popupsBoundariesElement:a,intl:{formatMessage:s}}=this.props,c=e(t),d=((e,t)=>t?t.offsetParent:e.offsetParent)(n,r),u=Mu(d,c,(()=>i(t)));return l.a.createElement(ju,{target:Nu(c),onPositionCalculated:u,popupsMountPoint:r,popupsBoundariesElement:a,fitHeight:32,offset:[0,12]},l.a.createElement(o("pG8m").a,{placeholder:s(Pu.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))}}Du.displayName="PlaceholderFloatingToolbar";var Lu=Object(u.injectIntl)(Du);const _u=new d.PluginKey("placeholderTextPlugin");class Bu{constructor(e,t,n){
this.node=e,this.view=t,this.getPos=n;const o=Je.DOMSerializer.fromSchema(this.view.state.schema);this.dom=o.serializeNode(this.node)}ignoreMutation(e){const{view:t,dom:n,node:o}=this,r=n.textContent||"",i=o.attrs.text;if("characterData"===e.type&&r!==i&&r.includes(i)&&"function"==typeof this.getPos){const e=this.getPos(),n=e+this.node.nodeSize,o=r.replace(i,"");let a=t.state.tr.replaceRangeWith(e,n,t.state.schema.text(o));a=a.setSelection(d.TextSelection.create(a.doc,n,n)),t.dispatch(a)}return"selection"!==e.type}}const Hu=e=>({name:"placeholderText",nodes:()=>[{name:"placeholder",node:o("F5wB").a}],pmPlugins:()=>[{name:"placeholderText",plugin:({dispatch:t})=>function(e,t){const n=!!t.allowInserting;return new d.Plugin({key:_u,state:{init:()=>({showInsertPanelAt:null,allowInserting:n}),apply:(t,o)=>{const r=t.getMeta(_u);if(r&&void 0!==r.showInsertPanelAt){const t={showInsertPanelAt:r.showInsertPanelAt,allowInserting:n};return e(_u,t),t}if(o.showInsertPanelAt){const r={
showInsertPanelAt:t.mapping.map(o.showInsertPanelAt),allowInserting:n};return e(_u,r),r}return o}},appendTransaction(e,t,n){if(e.some((e=>e.docChanged))){const e=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,r=n.selection.$head.nodeAfter,i=n.selection.$head.pos,a=n.schema.nodes.placeholder;if(r&&r.type===a&&e&&t.selection.$head.pos<n.selection.$head.pos&&!Object(o("x+VZ").j)(n.selection.$head.nodeBefore)){const{$from:e,$to:t}=d.NodeSelection.create(n.doc,i);return n.tr.deleteRange(e.pos,t.pos)}}return!_u.getState(t).showInsertPanelAt&&_u.getState(n).showInsertPanelAt?n.tr.setSelection(new(o("AFvE").a)(n.selection.$from)):_u.getState(t).showInsertPanelAt&&!_u.getState(n).showInsertPanelAt&&n.selection instanceof o("AFvE").a?n.tr.setSelection(new d.TextSelection(n.selection.$from)):void 0},props:{nodeViews:{placeholder:(e,t,n)=>new Bu(e,t,n)}}})}(t,e)}],contentComponent({editorView:e,popupsMountPoint:t,popupsBoundariesElement:n}){
const r=t=>(e=>(t,n)=>(n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(_u,{showInsertPanelAt:null}).scrollIntoView()),!0))(t)(e.state,e.dispatch),i=()=>((e,t)=>(t(e.tr.setMeta(_u,{showInsertPanelAt:null})),!0))(e.state,e.dispatch),a=t=>e.domAtPos(t).node,s=t=>e.coordsAtPos(t),c=()=>e.focus();return l.a.createElement(o("fd7e").a,{plugins:{placeholderTextState:_u},render:({placeholderTextState:o={}})=>o.showInsertPanelAt?l.a.createElement(Lu,{editorViewDOM:e.dom,popupsMountPoint:t,popupsBoundariesElement:n,getFixedCoordinatesFromPos:s,getNodeFromPos:a,hidePlaceholderFloatingToolbar:i,showInsertPanelAt:o.showInsertPanelAt,insertPlaceholder:r,setFocusInEditor:c}):null})}});var Ju=e=>((e,t)=>t.allowInserting?(e.pluginsOptions={quickInsert:({formatMessage:e})=>[{id:"placeholderText",title:e(o("/DD6").a.placeholderText),description:e(o("/DD6").a.placeholderTextDescription),priority:1400,keywords:["placeholder"],
icon:()=>l.a.createElement(o.n(o("bwse")).a,{label:""}),action(e,t){const n=e(t.schema.nodes.placeholder.createChecked());return n.setMeta(_u,{showInsertPanelAt:n.selection.anchor}),Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.PLACEHOLDER_TEXT,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}}]},e):e)(Hu(e),e);const $u=new d.PluginKey("layout"),Fu=["single"],zu=["two_equal","two_left_sidebar","two_right_sidebar"],Uu=["three_equal","three_with_sidebars"],Vu=e=>{switch(e){case"single":return[100];case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},Wu=e=>{switch(Object(o("n8Jk").c)(e,(e=>e.attrs.width)).join(",")){case"100":return"single";case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":
return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},Ku=(e,t)=>e&&Wu(e)&&Wu(e)||t,qu=e=>{const{layoutSection:t,layoutColumn:n}=e.schema.nodes,o=Je.Fragment.fromArray([n.createAndFill({width:50}),n.createAndFill({width:50})]);return t.createAndFill(void 0,o)},Gu=(e,t)=>(t&&t(Object(p.safeInsert)(qu(e))(e.tr)),!0);function Yu(e,t){return n=>{n.replaceWith(n.mapping.map(t),n.mapping.map(t),e.nodes.layoutColumn.createAndFill())}}function Xu(e,t,n){return r=>{Object(o("x+VZ").g)(e)?r.replaceRange(r.mapping.map(t-1),r.mapping.map(n),Je.Slice.empty):r.replaceRange(r.mapping.map(t-1),r.mapping.map(t+1),Je.Slice.empty)}}const Qu=Yu,Zu=Yu,ep=Xu,tp=Xu;function np(e,t,n,o){const r=e.tr,i=n+t.nodeSize-1,a=t.childCount;if(zu.indexOf(o)>=0&&3===a){const e=t.content.child(2),n=i-e.nodeSize;tp(e,n,i)(r)}else if(Uu.indexOf(o)>=0&&2===a)Qu(e.schema,i)(r);else if(Fu.indexOf(o)>=0&&2===a){const e=t.content.child(1),n=i-e.nodeSize;ep(e,n,i)(r)
}else Fu.indexOf(o)>=0&&3===a?((e,t,n)=>{const o=e.content.child(2);tp(o,n-o.nodeSize,n)(t);const r=e.content.child(1);ep(r,n-o.nodeSize-r.nodeSize,n)(t)})(t,r,i):zu.indexOf(o)>=0&&1===a?Zu(e.schema,i)(r):Uu.indexOf(o)>=0&&1===a&&((e,t)=>n=>{Yu(e,t)(n),Yu(e,t)(n)})(e.schema,i)(r);return r}function op(e,t,n){const{layoutColumn:r}=t.nodes,a=n.map((e=>Number(e.toFixed(2))));return Object(o("n8Jk").a)(e.content,((e,t)=>e.type===r?r.create(i()(i()({},e.attrs),{},{width:a[t]}),e.content,e.marks):e))}function rp(e,t,n,o){let r=np(e,t,n,o);const i=r.selection;r=function(e,t,n,o){const r=t.doc.nodeAt(n);return r?t.replaceWith(n+1,n+r.nodeSize-1,op(r,e.schema,Vu(o))):t}(e,r,n,o);const a=r.doc.resolve(i.$from.pos);return r.setSelection(e.selection instanceof d.NodeSelection?new d.NodeSelection(a):new d.TextSelection(a))}const ip=e=>(t,n)=>{const{pos:r,selectedLayout:i}=$u.getState(t);if(i===e||null===r)return!1;const a=t.doc.nodeAt(r);if(!a)return!1;let s=rp(t,a,r,e)
;return!!s&&(s=Object(o("SVcB").a)(t,s,{action:o("J5HJ").a.CHANGED_LAYOUT,actionSubject:o("J5HJ").b.LAYOUT,attributes:{previousLayout:lp(i),newLayout:lp(e)},eventType:o("J5HJ").e.TRACK}),s.setMeta("scrollIntoView",!1),n&&n(s),!0)};function ap(e){return!Wu(e)}function sp(e,t,n){if(e.type===n.nodes.layoutSection){if(!ap(e))return;const o=2===e.childCount?"two_equal":3===e.childCount?"three_equal":"single",r=op(e,n,Vu(o));return{from:t+1,to:t+e.nodeSize-1,slice:new Je.Slice(r,0,0)}}}const cp=(e,t)=>{const{pos:n,selectedLayout:r}=$u.getState(e);if(null!==n){const i=e.doc.nodeAt(n);if(t){let a=e.tr.delete(n,n+i.nodeSize);a=Object(o("SVcB").a)(e,a,{action:o("J5HJ").a.DELETED,actionSubject:o("J5HJ").b.LAYOUT,attributes:{layout:lp(r)},eventType:o("J5HJ").e.TRACK}),t(a)}return!0}return!1},lp=e=>{switch(e){case"single":return o("abi4").a.SINGLE_COL;case"two_equal":return o("abi4").a.TWO_COLS_EQUAL;case"three_equal":return o("abi4").a.THREE_COLS_EQUAL;case"two_left_sidebar":
return o("abi4").a.LEFT_SIDEBAR;case"two_right_sidebar":return o("abi4").a.RIGHT_SIDEBAR;case"three_with_sidebars":return o("abi4").a.THREE_WITH_SIDEBARS}},dp=e=>{const t=Object(p.findParentNodeOfType)(e.schema.nodes.layoutColumn)(e.selection);if(t){return e.selection.from<t.pos+t.node.nodeSize}return!1},up=(e,t)=>{const{selection:n}=e,{schema:{nodes:{layoutColumn:o,layoutSection:r}}}=e,i=Object(p.findParentNodeOfType)(r)(n),a=Object(p.findParentNodeOfType)(o)(n);if(a.node!==i.node.lastChild){const n=e.doc.resolve(a.pos+a.node.nodeSize),o=d.TextSelection.findFrom(n,1);t&&t(e.tr.setSelection(o))}return!0};var pp=e=>new d.Plugin({key:$u,state:{init:(t,n)=>((e,t)=>{const n=Object(p.findParentNodeOfType)(t.schema.nodes.layoutSection)(t.selection),o=e.allowBreakout||!1,r=e.UNSAFE_addSidebarLayouts||!1,i=e.UNSAFE_allowSingleColumnLayout||!1;return{pos:n?n.pos:null,allowBreakout:o,addSidebarLayouts:r,selectedLayout:Ku(n&&n.node,"two_equal"),allowSingleColumnLayout:i}})(e,n),apply:(e,t,n,o)=>{
if(e.docChanged||e.selectionSet){const{schema:{nodes:{layoutSection:e}},selection:n}=o,r=Object(p.findParentNodeOfType)(e)(n)||Object(p.findSelectedNodeOfType)([e])(n);return i()(i()({},t),{},{pos:r?r.pos:null,selectedLayout:Ku(r&&r.node,t.selectedLayout)})}return t}},props:{decorations(e){const t=$u.getState(e);if(null!==t.pos)return ce.b.create(e.doc,((e,t)=>[ce.a.node(e,e+t.nodeSize,{class:"selected"})])(t.pos,e.doc.nodeAt(t.pos)))},handleKeyDown:Object(oe.a)({Tab:Object(o("+U5V").b)(dp,up)}),handleClickOn:pe(["layoutColumn"],(e=>e.hasAttribute("data-layout-section")||e.hasAttribute("data-layout-column")),{useLongPressSelection:e.useLongPressSelection||!1,getNodeSelectionPos:(e,t)=>e.doc.resolve(t).before()})},appendTransaction:(e,t,n)=>{let r=[];if(e.forEach((e=>{if(r.forEach((t=>({from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}))),!e.docChanged)return;const t=((e,t)=>{const{layoutSection:n}=t.schema.nodes;let r;const i=Object(o("x+VZ").e)(e);if(!i)return
;e.doc.nodesBetween(i.from,i.to,((e,o)=>e.type!==n||(ap(e)&&(r=sp(e,o,t.schema)),!1)));const a=e.doc.resolve(i.to);if(a.depth>0){const o=a.after(),i=e.doc.nodeAt(o);i&&i.type===n&&ap(i)&&(r=sp(i,o,t.schema))}return r})(e,n);t&&r.push(t)})),r.length){let e=n.tr;const t=n.selection.toJSON();if(r.forEach((t=>{e.replaceRange(t.from,t.to,t.slice)})),e=(e=>{const{pos:t,selectedLayout:n}=$u.getState(e);if(null!==t&&n){const o=e.doc.nodeAt(t);if(o&&o.childCount!==Vu(n).length)return rp(e,o,t,n)}})(n)||e,e.docChanged)return e.setSelection(d.Selection.fromJSON(e.doc,t)),e.setMeta("addToHistory",!1),e}}});const hp=Object(u.defineMessages)({singleColumn:{id:"fabric.editor.single",defaultMessage:"Single column",description:"Layout with one single column"},twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",
description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),fp=[{id:"editor.layout.twoEquals",type:"two_equal",title:hp.twoColumns,icon:o.n(o("N+rM")).a},{id:"editor.layout.threeEquals",type:"three_equal",title:hp.threeColumns,icon:o.n(o("banK")).a}],mp=[{id:"editor.layout.singeLayout",type:"single",title:hp.singleColumn,icon:o.n(o("rM0u")).a},...fp],gp=[{id:"editor.layout.twoRightSidebar",type:"two_right_sidebar",title:hp.rightSidebar,icon:o.n(o("g02o")).a},{id:"editor.layout.twoLeftSidebar",
type:"two_left_sidebar",title:hp.leftSidebar,icon:o.n(o("cQff")).a},{id:"editor.layout.threeWithSidebars",type:"three_with_sidebars",title:hp.threeColumnsWithSidebars,icon:o.n(o("hrq7")).a}],bp=(e,t,n)=>({id:t.id,type:"button",icon:t.icon,testId:t.title.id,title:e.formatMessage(t.title),onClick:ip(t.type),selected:!!n&&n===t.type});var vp=(e={})=>({name:"layout",nodes:()=>[{name:"layoutSection",node:o("gwnN").a},{name:"layoutColumn",node:o("il4+").a}],pmPlugins:()=>[{name:"layout",plugin:()=>pp(e)}],pluginsOptions:{floatingToolbar(e,t){const{pos:n,allowBreakout:r,addSidebarLayouts:i,allowSingleColumnLayout:a}=$u.getState(e);if(null!==n)return((e,t,n,r,i,a)=>{const s=e.doc.nodeAt(n);if(s){const r=Wu(s),c={type:"separator"},l=e.schema.nodes.layoutSection,d={id:"editor.layout.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,testId:o("yYBl").a.remove.id,title:t.formatMessage(o("yYBl").a.remove),onClick:cp,onMouseEnter:Object(o("lgPy").b)(l,!0),
onMouseLeave:Object(o("lgPy").b)(l,!1),onFocus:Object(o("lgPy").b)(l,!0),onBlur:Object(o("lgPy").b)(l,!1)};return{title:"Layout floating controls",getDomRef:e=>Object(p.findDomRefAtPos)(n,e.domAtPos.bind(e)),nodeType:l,items:[...(a?mp:fp).map((e=>bp(t,e,r))),...i?gp.map((e=>bp(t,e,r))):[],c,d]}}})(e,t,n,0,i,a)},quickInsert:({formatMessage:e})=>[{id:"layout",title:e(o("/DD6").a.columns),description:e(o("/DD6").a.columnsDescription),keywords:["column","section"],priority:1100,icon:()=>l.a.createElement(o("Jzj3").k,null),action(e,t){const n=e(qu(t));return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.LAYOUT,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}}]}});var yp=(e,t)=>{switch(t.type){case"QUEUE":return((e,t)=>i()(i()({},e),{},{requests:e.requests.concat(t.requests)}))(e,t);case"SET_PROVIDER":return((e,t)=>i()(i()({},e),{},{provider:t.provider}))(e,t);case"RESOLVE":return((e,t)=>{
const n=e.requests.reduce(((e,n)=>(n.url!==t.url&&e.push(n),e)),[]);return i()(i()({},e),{},{requests:n})})(e,t);case"REGISTER":return((e,t)=>i()(i()({},e),{},{cards:e.cards.filter((e=>e.pos!==t.info.pos)).concat(t.info)}))(e,t);case"REGISTER_EVENTS":return((e,t)=>i()(i()({},e),{},{smartLinkEvents:t.smartLinkEvents}))(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return((e,t)=>i()(i()({},e),{},{showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type}))(e,t)}};const Ep=(e,t)=>n=>(Object(o("X6Aa").f)(t.url,n,t.analyticsAction)(e.state,e.dispatch),n),wp=(e,t)=>()=>{Object(o("X6Aa").c)(t.url,t.source)(e.state,e.dispatch)},Op=e=>o("O8Sv").a.getState(e),Sp=(e,t)=>e.url===t.url&&e.pos===t.pos;function Cp(e,t){var n,r;return r=n=class extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{isError:!1})}render(){const{url:n}=Object(o("osj6").d)(this.props.node);if(n&&!Object(o("Z7Qe").b)(n))return l.a.createElement(t,null);if(this.state.isError)return n?l.a.createElement("a",{
href:n,onClick:e=>{e.preventDefault()}},n):l.a.createElement(t,null);const r=this.context.contextAdapter?this.context.contextAdapter.card:void 0;return l.a.createElement(e,Re()({cardContext:r},this.props))}componentDidCatch(e){const t=e;if(t.kind&&"fatal"===t.kind){this.setState({isError:!0});const{view:e,node:t,getPos:n}=this.props,{url:r}=Object(o("osj6").d)(t);if(!n||"boolean"==typeof n)return;return Object(o("X6Aa").a)(void 0,r,!0,t,n())(e.state,e.dispatch),null}this.setState({isError:!0})}},s()(n,"contextTypes",{contextAdapter:Dt.a.object}),r}const Tp=h.default.div.withConfig({componentId:"gni3l-0"})`& > div{${o("zux5").a};position:relative;clear:both;> div{position:absolute;height:100%;width:100%;}}`;class xp extends l.a.Component{constructor(...e){super(...e),s()(this,"state",{offsetLeft:this.calcOffsetLeft()}),s()(this,"calcNewSize",((e,t)=>{const{layout:n,view:{state:r}}=this.props,i=100*Object(o("Qvlh").b)(e,this.props.lineLength);this.setState({resizedPctWidth:i})
;let a=Object(p.hasParentNodeOfType)(r.schema.nodes.table)(r.selection)?n:this.calcUnwrappedLayout(i,e);return i<=100?(!this.wrappedLayout||t&&100===i||(a=n),{width:i,layout:a}):{width:this.props.pctWidth||null,layout:a}})),s()(this,"calcUnwrappedLayout",((e,t)=>e<=100?"center":t<=this.wideLayoutWidth?"wide":"full-width")),s()(this,"calcColumnLeftOffset",(()=>{const{offsetLeft:e}=this.state;return this.insideInlineLike?Object(o("Qvlh").a)(e,this.props.lineLength,this.props.gridSize):0})),s()(this,"calcPxWidth",(e=>{const{layout:t,pctWidth:n,lineLength:r,containerWidth:i,fullWidthMode:a,getPos:s,view:{state:c}}=this.props,{resizedPctWidth:l}=this.state,d="function"==typeof s?s():void 0;return Object(o("ZPHY").a)({origWidth:o("9cwX").c,origHeight:o("9cwX").b,pctWidth:n,state:c,containerWidth:{width:i,lineLength:r},isFullWidthModeEnabled:a,layout:e||t,pos:d,resizedPctWidth:l})})),s()(this,"highlights",((e,t)=>{
const n=Object(o("GD2S").c)(e,t),{layoutColumn:r,table:i,expand:a,nestedExpand:s}=this.props.view.state.schema.nodes;if(this.$pos&&Object(p.findParentNodeOfTypeClosestToPos)(this.$pos,[r,i,a,s].filter(Boolean)))return[];if(n>this.wideLayoutWidth)return["full-width"];const{layout:c,lineLength:l,gridSize:d}=this.props,u=Object(o("Qvlh").a)(n,l,d),h=Math.round(u),f=[];return"wrap-left"===c||"align-start"===c?f.push(0,h):"wrap-right"===c||"align-end"===c?f.push(d,d-h):this.insideInlineLike?f.push(Math.round(u+this.calcColumnLeftOffset())):f.push(Math.floor((d-h)/2),Math.ceil((d+h)/2)),f}))}componentDidUpdate(){const e=this.calcOffsetLeft();e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e})}get wrappedLayout(){return o("zaYB").e.indexOf(this.props.layout)>-1}UNSAFE_componentWillReceiveProps(e){this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}checkLayout(e,t){const{resizedPctWidth:n}=this.state;if(o("zaYB").e.indexOf(e)>-1&&"center"===t&&n){
const e=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,e)}}get $pos(){if("function"!=typeof this.props.getPos)return null;const e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}get gridWidth(){const{gridSize:e}=this.props;return this.wrappedLayout||this.insideInlineLike?e:e/2}calcOffsetLeft(){let e=0;if(this.wrapper&&this.insideInlineLike){const t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e}get wideLayoutWidth(){const{lineLength:e}=this.props;return e?Math.ceil(e*o("9cwX").db):o("9cwX").Z}calcSnapPoints(){const{offsetLeft:e}=this.state,{containerWidth:t,lineLength:n}=this.props,r=[];for(let c=0;c<this.gridWidth;c++)r.push(Object(o("Qvlh").c)(c,n,this.gridWidth)-e);r.push(n-e);const i=Object(o("Qvlh").c)(this.wrappedLayout||this.insideInlineLike?1:2,n,this.props.gridSize);let a=r.filter((e=>e>=i));const s=this.$pos;if(!s)return a
;if("doc"===s.parent.type.name){a.push(this.wideLayoutWidth);const e=t-o("9cwX").e;e>this.wideLayoutWidth&&a.push(e)}return a}get insideInlineLike(){const e=this.$pos;if(!e)return!1;const{listItem:t}=this.props.view.state.schema.nodes;return!!Object(p.findParentNodeOfTypeClosestToPos)(e,[t])}getHeightDefiningComponent(){const{height:e,aspectRatio:t}=this.props;let n;return n=e?{height:`${e}px`}:{paddingBottom:`calc(${(1/t*100).toFixed(3)}% + ${o("Fq9v").h}px)`},l.a.createElement("span",{"data-testid":"resizable-embed-card-height-definer",style:i()({display:"block",fontSize:0,lineHeight:0},n)})}render(){const{layout:e,pctWidth:t,containerWidth:n,fullWidthMode:r,children:i}=this.props,a=this.calcPxWidth()-o("9cwX").x,s={};return o("GD2S").a.forEach((t=>{const n="left"===t?"right":"left";s[t]=["full-width","wide","center"].concat(`wrap-${n}`).concat(`align-${o("GD2S").b[n]}`).indexOf(e)>-1,"left"===t&&this.insideInlineLike&&(s[t]=!1)})),l.a.createElement(Tp,{layout:e,isResized:!!t,
containerWidth:n||o("9cwX").c,innerRef:e=>this.wrapper=e,fullWidthMode:r},l.a.createElement(o("j3Is").a,Re()({},this.props,{width:a,enable:s,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,innerPadding:o("9cwX").x,nodeType:"embed"}),i,this.getHeightDefiningComponent()))}}xp.displayName="ResizableEmbedCard",s()(xp,"defaultProps",{aspectRatio:o("9cwX").c/o("9cwX").b});class kp extends l.a.PureComponent{constructor(...t){super(...t),s()(this,"embedIframeRef",l.a.createRef()),s()(this,"onClick",(()=>{})),s()(this,"state",{hasPreview:!0}),s()(this,"getPosSafely",(()=>{const{getPos:t}=this.props;if(t&&"boolean"!=typeof t)try{return t()}catch(e){}})),s()(this,"onResolve",(t=>{const{view:n}=this.props,{title:r,url:i,aspectRatio:a}=t,{originalHeight:s,originalWidth:c}=this.props.node.attrs;!a||s||c||(this.setState({initialAspectRatio:a}),
this.saveOriginalDimensionsAttributes(o("9cwX").b,o("9cwX").b*a)),Object(o("GsWa").a)((()=>{const e=this.getPosSafely();if(void 0!==e)return n.dispatch(Object(o("ost5").c)({title:r,url:i,pos:e})(n.state.tr))}))();try{const e=this.context.contextAdapter?this.context.contextAdapter.card:void 0;e&&e.value.extractors.getPreview(i,this.props.platform)||this.setState({hasPreview:!1})}catch(e){}})),s()(this,"updateSize",((e,t)=>{const{state:n,dispatch:o}=this.props.view,r=this.getPosSafely();if(void 0===r)return;const a=n.tr.setNodeMarkup(r,void 0,i()(i()({},this.props.node.attrs),{},{width:e,layout:t}));return a.setMeta("scrollIntoView",!1),o(a),!0})),s()(this,"getLineLength",((e,t,n)=>{if("number"==typeof t&&Object(o("j0F9").d)(e,t)){const n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&o("j0F9").c.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return n})),
s()(this,"saveOriginalDimensionsAttributes",((e,t)=>{const{view:n}=this.props,r=o("fRKR").a.getState(n.state);null!=r&&r.dragging||Object(o("GsWa").a)((()=>{const r=this.getPosSafely();void 0!==r&&n.dispatch(n.state.tr.step(new(o("ml8T").a)(r,{originalHeight:e,originalWidth:t})).setMeta("addToHistory",!1))}))()})),s()(this,"onHeightUpdate",(e=>{this.setState({liveHeight:e}),this.saveOriginalDimensionsAttributes(e,void 0)}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(o("fuko").c)(e.dom);this.scrollContainer=t||void 0}render(){const{node:e,cardContext:t,platform:n,allowResizing:r,fullWidthMode:i,view:a,dispatchAnalyticsEvent:s,getPos:c}=this.props;let{url:d,width:u,layout:p,originalHeight:h,originalWidth:f}=e.attrs;const{hasPreview:m,liveHeight:g,initialAspectRatio:b}=this.state;let v=null!=g?g:!f&&h||void 0;const y=!v&&(b||h&&f&&f/h)||void 0,E={layout:p,pctWidth:u,fullWidthMode:i},w=l.a.createElement(o("c44y").a,{embedIframeRef:this.embedIframeRef,
onHeightUpdate:this.onHeightUpdate},l.a.createElement(o("fd7e").a,{editorView:a,plugins:{widthState:o("IXso").b},render:({widthState:e})=>{const t=(null==e?void 0:e.lineLength)||0,i=(null==e?void 0:e.width)||0,u=this.getPosSafely();if(void 0===u)return null;const p=this.getLineLength(a,u,t),h=Object(o("j0F9").d)(a,u)?p:i,f=l.a.createElement(o("h2B5").a,{url:d,appearance:"embed",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===n,isFrameVisible:!0,inheritDimensions:!0,platform:n,container:this.scrollContainer,embedIframeRef:this.embedIframeRef});if(!r||!m){const e=o("9cwX").c/o("9cwX").b;let t=1,n=y||e;return v&&(t=v,n=void 0),l.a.createElement(o("zaYB").c,Re()({},E,{height:t,width:n,nodeType:"embedCard",hasFallbackContainer:m,lineLength:p,containerWidth:h}),f)}return l.a.createElement(xp,Re()({},E,{height:v,aspectRatio:y,view:this.props.view,getPos:c,lineLength:p,gridSize:12,containerWidth:h,displayGrid:Object(o("/OWP").a)(this.props.eventDispatcher),
updateSize:this.updateSize,dispatchAnalyticsEvent:s}),f)}}));return l.a.createElement(l.a.Fragment,null,t&&t.value?l.a.createElement(t.Provider,{value:t.value},w):null)}}kp.displayName="EmbedCardComponent",s()(kp,"contextTypes",{contextAdapter:Dt.a.object});const Ip=Cp(kp,o("TZ02").a);class Ap extends o("HAbh").a{viewShouldUpdate(e){return this.node.attrs!==e.attrs||super.viewShouldUpdate(e)}createDomRef(){const e=document.createElement("div");return o("j5wO").a.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}render(){const{eventDispatcher:e,allowResizing:t,platform:n,fullWidthMode:o,dispatchAnalyticsEvent:r}=this.reactComponentProps;return l.a.createElement(Ip,{node:this.node,view:this.view,eventDispatcher:e,getPos:this.getPos,allowResizing:t,platform:n,fullWidthMode:o,dispatchAnalyticsEvent:r})}}Ap.displayName="EmbedCard";class Np extends l.a.PureComponent{constructor(...e){super(...e),
s()(this,"onClick",(()=>{})),s()(this,"onResolve",(e=>{const{getPos:t,view:n}=this.props;if(!t||"boolean"==typeof t)return;const{title:r,url:i}=e;Object(o("GsWa").a)((()=>n.dispatch(Object(o("ost5").c)({title:r,url:i,pos:t()})(n.state.tr))))()})),s()(this,"gapCursorSpan",(()=>{if(!(o("j5wO").a.ie&&o("j5wO").a.ie_version<79))return l.a.createElement("span",{contentEditable:!0})}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(o("fuko").c)(e.dom);this.scrollContainer=t||void 0}render(){const{node:e,cardContext:t,platform:n}=this.props,{url:r,data:i}=e.attrs,a=l.a.createElement(l.a.Fragment,null,l.a.createElement(o("h2B5").a,{key:r,url:r,data:i,container:this.scrollContainer,appearance:"block",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===n,platform:n}),this.gapCursorSpan());return l.a.createElement("div",null,t&&t.value?l.a.createElement(t.Provider,{value:t.value},a):i?a:null)}}Np.displayName="BlockCardComponent",s()(Np,"contextTypes",{
contextAdapter:Dt.a.object});const Mp=Cp(Np,o("TZ02").a);class Rp extends o("gVP2").a{createDomRef(){const e=document.createElement("div");return o("j5wO").a.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}render(){return l.a.createElement(Mp,{node:this.node,view:this.view,getPos:this.getPos,platform:this.reactComponentProps.platform})}}Rp.displayName="BlockCard";class jp extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"onClick",(()=>{})),s()(this,"onResolve",(e=>{const{getPos:t,view:n}=this.props;if(!t||"boolean"==typeof t)return;const{title:r,url:i}=e;Object(o("GsWa").a)((()=>n.dispatch(Object(o("ost5").c)({title:r,url:i,pos:t()})(n.state.tr))))()}))}UNSAFE_componentWillMount(){const{view:e}=this.props,t=Object(o("fuko").c)(e.dom);this.scrollContainer=t||void 0}render(){
const{node:e,cardContext:t,useAlternativePreloader:n}=this.props,{url:r,data:i}=e.attrs,a=l.a.createElement("span",null,l.a.createElement("span",null,o("vNjH").a),l.a.createElement("span",{className:"card"},l.a.createElement(o("h2B5").a,{key:r,url:r,data:i,appearance:"inline",onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve,inlinePreloaderStyle:n?"on-right-without-skeleton":void 0})),l.a.createElement("span",null,o("vNjH").a));return t&&t.value?l.a.createElement(t.Provider,{value:t.value},a):i?a:null}}jp.displayName="InlineCardComponent",s()(jp,"contextTypes",{contextAdapter:Dt.a.object});const Pp=Cp(jp,o("kbU5").a);class Dp extends o("gVP2").a{createDomRef(){return this.reactComponentProps.useInlineWrapper?Object(o("KsUR").a)():super.createDomRef({displayInlineBlockForInlineNodes:!1})}render(){const{useInlineWrapper:e,useAlternativePreloader:t}=this.reactComponentProps;return l.a.createElement(o("KsUR").b,{useInlineWrapper:e},l.a.createElement(Pp,{
node:this.node,view:this.view,getPos:this.getPos,useAlternativePreloader:t}))}}Dp.displayName="InlineCard";const Lp=(e,t,n,r,a)=>({portalProviderAPI:s,eventDispatcher:c,providerFactory:l,dispatchAnalyticsEvent:u})=>new d.Plugin({state:{init:()=>({requests:[],provider:null,cards:[],showLinkingToolbar:!1,smartLinkEvents:void 0,createAnalyticsEvent:a}),apply(e,t){const n=((e,t)=>i()(i()({},e),{},{requests:e.requests.map((e=>i()(i()({},e),{},{pos:t.mapping.map(e.pos)}))),cards:e.cards.map((e=>i()(i()({},e),{},{pos:t.mapping.map(e.pos)})))}))(t,e),r=e.getMeta(o("O8Sv").a);if(r){return yp(n,r)}return n}},view(e){const t={},n=(t,n)=>((e,t,n)=>{t&&t.then((e=>{const{state:t,dispatch:r}=n;r(Object(o("ost5").f)(e)(t.tr))}))})(0,n,e),r=[];return l.subscribe("cardProvider",n),{update(e,n){const i=Op(e.state),a=Op(n);if(i&&i.provider){const n=((e,t)=>e?t.requests.filter((t=>!e.requests.find((e=>Sp(e,t))))):t.requests)(a,i),{provider:s}=i;n.forEach((n=>{const i=Object(o("GsWa").a)((()=>((e,t,n,o)=>{
const r=n.resolve(o.url,o.appearance).then((e=>(delete t[o.url],e))).then(Ep(e,o),wp(e,o));return t[o.url]=r,r})(e,t,s,n)));r.push(i.cancel),i()}))}},destroy(){Object.keys(t).forEach((e=>Promise.reject(t[e]))),r.forEach((e=>e())),l.unsubscribe("cardProvider",n)}}},props:{nodeViews:{inlineCard:(t,o,r)=>new Dp(t,o,r,s,c,{useAlternativePreloader:n,useInlineWrapper:"mobile"===e},void 0,!0).init(),blockCard:(t,n,o)=>new Rp(t,n,o,s,c,{platform:e},void 0,!0).init(),embedCard:(n,o,i)=>new Ap(n,o,i,s,c,{eventDispatcher:c,allowResizing:t,platform:e,fullWidthMode:r,dispatchAnalyticsEvent:u},void 0,!0).init()}},key:o("O8Sv").a});function _p(e,t,n){return e.filter((e=>-1===t.findIndex((t=>n?n(e,t):e===t))))}var Bp=o("sEfC"),Hp=o.n(Bp),Jp=o("c4+4"),$p=o.n(Jp);const Fp={"jira.issue":l.a.createElement(o.n(o("fZEY")).a,{label:"Issue"}),"jira.issue.bug":l.a.createElement(o.n(o("wjJn")).a,{label:"Bug"}),"jira.issue.story":l.a.createElement(o.n(o("Z+2l")).a,{label:"Story"}),
"jira.issue.task":l.a.createElement(o.n(o("Qcls")).a,{label:"Task"}),"confluence.page":l.a.createElement(o.n(o("CI1p")).a,{label:"Page"}),"confluence.blogpost":l.a.createElement(o.n(o("dw6k")).a,{label:"Blog"})},zp=e=>$p.a.createHash().update(e).digest("hex"),Up=e=>e.split(" ").length,Vp=h.default.span.withConfig({componentId:"se8ntx-0"})`cursor:pointer;padding-right:8px;color:${"#97A0AF"};`,Wp=h.default.div.withConfig({componentId:"se8ntx-1"})`${o("0dhB").b};border-top:1px solid ${"#EBECF0"};border-bottom:1px solid ${"#EBECF0"};`,Kp=h.default.span.withConfig({componentId:"se8ntx-2"})`color:${"#97A0AF"};padding:4px 8px;width:18px;`,qp=Object(u.defineMessages)({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",
description:"Clears link in the link toolbar"},searchLinkAriaDescription:{id:"fabric.editor.hyperlink.searchLinkAriaDescription",defaultMessage:"Suggestions will appear below as you type into the field",description:"Describes what the search field does for screen reader users."},searchLinkResults:{id:"fabric.editor.hyperlink.searchLinkResults",defaultMessage:"{count, plural, =0 {no results} one {# result} other {# results}} found",description:"Announce search results for screen-reader users."}}),Gp=l.a.createElement(o.n(o("CI1p")).a,{label:"page"}),Yp=({name:e,container:t,iconUrl:n,objectId:o,url:r,viewedTimestamp:i})=>({objectId:o,name:e,container:t,iconUrl:n,url:r,lastViewedDate:i?new Date(i):void 0}),Xp=({objectId:e,container:t,title:n,contentType:o,url:r,updatedTimestamp:i})=>({objectId:e,container:t,name:n,url:r,lastUpdatedDate:i?new Date(i):void 0,icon:o&&Fp[o]||Gp});class Qp extends c.PureComponent{constructor(e){super(e),s()(this,"submitted",!1),
s()(this,"urlInputContainer",null),s()(this,"displayTextInputContainer",null),s()(this,"wrapperRef",l.a.createRef()),s()(this,"quickSearchQueryVersion",0),s()(this,"analyticSource","createLinkInlineDialog"),s()(this,"quickSearch",(async(e,t,n)=>{var r;const{searchProvider:i,displayUrl:a}=this.state,{pluginState:s}=this.props;if(!i)return;const c=++this.quickSearchQueryVersion;this.fireAnalytics({action:o("J5HJ").a.ENTERED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.LINK_SEARCH_INPUT,attributes:{queryLength:e.length,queryVersion:c,queryHash:zp(e),searchSessionId:null!==(r=s.searchSessionId)&&void 0!==r?r:"",wordCount:Up(e),source:this.analyticSource},nonPrivacySafeAttributes:{query:e},eventType:o("J5HJ").e.UI});const l=performance.now();try{var d;const r=await i.quickSearch(e,n),u=eh(function(e,t){return e.filter(((e,n,o)=>o.findIndex((n=>t?t(e,n):e===n))===n))}([...t,...r.map(Xp)],((e,t)=>e.objectId===t.objectId)));a===e&&c===this.quickSearchQueryVersion&&this.setState({
items:u,isLoading:!1});const p=performance.now()-l;this.fireAnalytics({action:o("J5HJ").a.INVOKED,actionSubject:o("J5HJ").b.SEARCH_RESULT,actionSubjectId:o("J5HJ").c.QUICK_SEARCH,attributes:{duration:p,count:r.length},eventType:o("J5HJ").e.OPERATIONAL}),this.fireAnalytics({action:o("J5HJ").a.SHOWN,actionSubject:o("J5HJ").b.SEARCH_RESULT,actionSubjectId:o("J5HJ").c.POST_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,postQueryRequestDurationMs:p,searchSessionId:null!==(d=s.searchSessionId)&&void 0!==d?d:"",resultCount:r.length,results:r.map((e=>({resultContentId:e.objectId,resultType:e.contentType})))},eventType:o("J5HJ").e.UI})}catch(u){const e=performance.now()-l;this.fireAnalytics({action:o("J5HJ").a.INVOKED,actionSubject:o("J5HJ").b.SEARCH_RESULT,actionSubjectId:o("J5HJ").c.QUICK_SEARCH,attributes:{duration:e,count:-1,errorCode:u.status},nonPrivacySafeAttributes:{error:u.message},eventType:o("J5HJ").e.OPERATIONAL})}})),s()(this,"updateInput",(async e=>{
const{activityProvider:t,searchProvider:n}=this.state;if(this.setState({displayUrl:e}),t)if(0===e.length)this.setState({items:await this.getRecentItems(t),selectedIndex:-1});else if(Object(o("Z7Qe").b)(e))this.setState({items:[],selectedIndex:-1,isLoading:!1});else{const o=await this.getRecentItems(t,e),r=o.length<5&&!!n;this.setState({items:o,isLoading:r}),r&&this.debouncedQuickSearch(e,o,5)}})),s()(this,"createClearHandler",(e=>async()=>{const{activityProvider:t}=this.state;if(t)switch(e){case"displayUrl":this.setState({[e]:"",items:eh(await t.getRecentItems())}),this.urlInputContainer&&this.urlInputContainer.focus();break;case"displayText":this.setState({[e]:""}),this.displayTextInputContainer&&this.displayTextInputContainer.focus()}})),s()(this,"handleClickOutside",(e=>{if(e.target instanceof Element&&this.wrapperRef.current&&!this.wrapperRef.current.contains(e.target)){const{view:e}=this.props;Object(o("Qi0S").b)()(e.state,e.dispatch)}})),
s()(this,"isUrlPopulatedWithSelectedItem",(()=>{const{items:e,selectedIndex:t,displayUrl:n}=this.state,o=e[t];return!(!o||o.url!==n)})),s()(this,"handleSelected",((e,t)=>{this.handleInsert(e,t,o("J5HJ").f.TYPEAHEAD,"click")})),s()(this,"handleInsert",((e,t,n,r)=>{const{pluginState:i,onSubmit:a}=this.props,{items:s,selectedIndex:c,displayText:l}=this.state;if(a&&(this.submitted=!0,a(e,t,l,n)),"click"===r||this.isUrlPopulatedWithSelectedItem()){var d;const e=s[c];this.fireAnalytics({action:o("J5HJ").a.SELECTED,actionSubject:o("J5HJ").b.SEARCH_RESULT,attributes:{source:this.analyticSource,searchSessionId:null!==(d=i.searchSessionId)&&void 0!==d?d:"",trigger:r,resultCount:s.length,selectedResultId:e.objectId,selectedRelativePosition:c},eventType:o("J5HJ").e.UI})}})),s()(this,"handleMouseEnterResultItem",(e=>{const{items:t}=this.state,n=Zp(t,(t=>t.objectId===e));this.setState({selectedIndex:n})})),s()(this,"handleMouseLeaveResultItem",(e=>{const{items:t,selectedIndex:n}=this.state
;n===Zp(t,(t=>t.objectId===e))&&this.setState({selectedIndex:-1})})),s()(this,"handleSubmit",(()=>{const{displayUrl:e,selectedIndex:t,items:n}=this.state,r=n[t];if(this.isUrlPopulatedWithSelectedItem())this.handleInsert(Object(o("CHQz").g)(r.url),r.name,o("J5HJ").f.TYPEAHEAD,"keyboard");else if(e&&e.length>0){const t=Object(o("CHQz").g)(e);t&&this.handleInsert(t,e,o("J5HJ").f.MANUAL,"notselected")}})),s()(this,"handleTextKeyDown",(e=>{const{keyCode:t}=e;if(9!==t)this.handleKeyDown(e);else{if(!this.submitted){const{displayUrl:e,displayText:t}=this.state,n=Object(o("CHQz").g)(e);this.handleInsert(n,t||e,o("J5HJ").f.MANUAL,"notselected")}e.preventDefault()}})),s()(this,"handleKeyDown",(e=>{const{items:t,selectedIndex:n}=this.state,{pluginState:r,view:i}=this.props,{keyCode:a}=e,s=40,c=38;if(27===a)return e.preventDefault(),Object(o("Qi0S").b)()(i.state,i.dispatch),void i.dispatch(Object(o("ost5").a)(i.state.tr));if(!t||!t.length)return;let l=n;var d;(a===s?(e.preventDefault(),
l=(n+1)%t.length):a===c&&(e.preventDefault(),l=n>0?n-1:t.length-1),[s,c].includes(a)&&t[l])&&(this.setState({selectedIndex:l,displayUrl:t[l].url}),this.fireAnalytics({action:o("J5HJ").a.HIGHLIGHTED,actionSubject:o("J5HJ").b.SEARCH_RESULT,attributes:{source:this.analyticSource,searchSessionId:null!==(d=r.searchSessionId)&&void 0!==d?d:"",selectedResultId:t[l].objectId,selectedRelativePosition:l},eventType:o("J5HJ").e.UI}))})),s()(this,"updateTextInput",(e=>{this.setState({displayText:e})})),s()(this,"handleCancel",(e=>{const{view:t}=this.props;e.preventDefault(),Object(o("Qi0S").b)()(t.state,t.dispatch)})),this.state={selectedIndex:-1,isLoading:!1,displayUrl:Object(o("CHQz").g)(e.displayUrl),displayText:e.displayText,items:[]},this.handleClearText=this.createClearHandler("displayUrl"),this.handleClearDisplayText=this.createClearHandler("displayText"),this.debouncedQuickSearch=Hp()(this.quickSearch,400),this.fireCustomAnalytics=Object(o("0F7/").a)(e.createAnalyticsEvent)}
async componentDidMount(){var e,t;const{pluginState:n}=this.props;document.addEventListener("mousedown",this.handleClickOutside),this.fireAnalytics({action:o("J5HJ").a.VIEWED,actionSubject:o("J5HJ").b.CREATE_LINK_INLINE_DIALOG,attributes:{timesViewed:n.timesViewed,searchSessionId:null!==(e=n.searchSessionId)&&void 0!==e?e:"",trigger:null!==(t=n.inputMethod)&&void 0!==t?t:""},eventType:o("J5HJ").e.SCREEN});const[r,i]=await Promise.all([this.props.activityProvider,this.props.searchProvider]);this.setState({activityProvider:r,searchProvider:i}),await this.loadInitialLinkSearchResult()}componentWillUnmount(){const{pluginState:e}=this.props;var t;(document.removeEventListener("mousedown",this.handleClickOutside),this.submitted)||this.fireAnalytics({action:o("J5HJ").a.DISMISSED,actionSubject:o("J5HJ").b.CREATE_LINK_INLINE_DIALOG,attributes:{source:this.analyticSource,searchSessionId:null!==(t=e.searchSessionId)&&void 0!==t?t:"",trigger:"blur"},eventType:o("J5HJ").e.UI})}
async getRecentItems(e,t){const{pluginState:n}=this.props,r=performance.now();try{var i;const a=eh(t?await e.searchRecent(t):await e.getRecentItems()),s=a.map(Yp),c=performance.now()-r;return this.fireAnalytics({action:o("J5HJ").a.INVOKED,actionSubject:o("J5HJ").b.SEARCH_RESULT,actionSubjectId:o("J5HJ").c.RECENT_ACTIVITIES,attributes:{duration:c,count:s.length},eventType:o("J5HJ").e.OPERATIONAL}),this.fireAnalytics({action:o("J5HJ").a.SHOWN,actionSubject:o("J5HJ").b.SEARCH_RESULT,actionSubjectId:o("J5HJ").c.PRE_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,preQueryRequestDurationMs:c,searchSessionId:null!==(i=n.searchSessionId)&&void 0!==i?i:"",resultCount:s.length,results:a.map((e=>{var t;return{resultContentId:e.objectId,resultType:null!==(t=e.type)&&void 0!==t?t:""}}))},eventType:o("J5HJ").e.UI}),s}catch(a){const e=performance.now()-r;return this.fireAnalytics({action:o("J5HJ").a.INVOKED,actionSubject:o("J5HJ").b.SEARCH_RESULT,
actionSubjectId:o("J5HJ").c.RECENT_ACTIVITIES,attributes:{duration:e,count:-1,errorCode:a.status},nonPrivacySafeAttributes:{error:a.message},eventType:o("J5HJ").e.OPERATIONAL}),[]}}fireAnalytics(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:e})}async loadInitialLinkSearchResult(){const{displayUrl:e,activityProvider:t}=this.state;try{if(!e&&t){this.setState({isLoading:!0});const e=await this.getRecentItems(t);this.setState({items:e})}}finally{this.setState({isLoading:!1})}}render(){const{items:e,isLoading:t,selectedIndex:n,displayUrl:r,displayText:i}=this.state,{intl:{formatMessage:a},activityProvider:s}=this.props,c=a(s?o("yYBl").b.placeholder:o("yYBl").b.linkPlaceholder),d=a(o("yYBl").b.linkAddress),u=a(qp.clearLink),p=a(qp.displayText),h="search-recent-links-field-description";return l.a.createElement("div",{className:"recent-list"},l.a.createElement(o("0dhB").a,{provider:!!s,innerRef:this.wrapperRef
},l.a.createElement(o("0dhB").c,null,l.a.createElement(Kp,null,l.a.createElement(o("Yto1").a,{content:d},l.a.createElement(o.n(o("Ydou")).a,{label:d}))),l.a.createElement(o("j28F").a,{"aria-hidden":"true",id:h},a(qp.searchLinkAriaDescription)),l.a.createElement(o("pG8m").a,{describedById:h,ref:e=>this.urlInputContainer=e,placeholder:c,testId:"link-url",onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.handleCancel,defaultValue:r,onKeyDown:this.handleKeyDown}),r&&l.a.createElement(o("Yto1").a,{content:u},l.a.createElement(Vp,{onClick:this.handleClearText},l.a.createElement(o.n(o("SEpd")).a,{label:u})))),l.a.createElement(Wp,null,l.a.createElement(Kp,null,l.a.createElement(o("Yto1").a,{content:p},l.a.createElement(o.n(o("7eIw")).a,{label:p}))),l.a.createElement(o("pG8m").a,{ref:e=>this.displayTextInputContainer=e,placeholder:p,ariaLabel:"Link label",testId:"link-label",onChange:this.updateTextInput,onCancel:this.handleCancel,defaultValue:i,
onSubmit:this.handleSubmit,onKeyDown:this.handleTextKeyDown}),i&&l.a.createElement(o("Yto1").a,{content:a(qp.clearText)},l.a.createElement(Vp,{onClick:this.handleClearDisplayText},l.a.createElement(o.n(o("SEpd")).a,{label:a(qp.clearText)})))),l.a.createElement(o("j28F").a,{"aria-live":"assertive",id:"fabric.editor.hyperlink.suggested.results"},r&&a(qp.searchLinkResults,{count:e.length})),l.a.createElement(o("OqP8").a,{ariaControls:"fabric.editor.hyperlink.suggested.results",items:e,isLoading:t,selectedIndex:n,onSelect:this.handleSelected,onMouseEnter:this.handleMouseEnterResultItem,onMouseLeave:this.handleMouseLeaveResultItem})))}}function Zp(e,t){let n=-1;return e.some(((e,o)=>!!t(e)&&(n=o,!0))),n}function eh(e){return e.slice(0,5)}Qp.displayName="HyperlinkLinkAddToolbar";const th=Object(u.injectIntl)(Qp);var nh=Object(o("VHV8").a)()(th);class oh extends l.a.PureComponent{render(){const{onSubmit:e,displayText:t,displayUrl:n,providerFactory:r,view:i}=this.props
;return l.a.createElement(o("D0us").a,{providers:["activityProvider","searchProvider"],providerFactory:r,renderNode:({activityProvider:r,searchProvider:a})=>l.a.createElement(o("fd7e").a,{editorView:i,plugins:{hyperlinkPluginState:o("E3sl").e},render:({hyperlinkPluginState:o})=>l.a.createElement(nh,{activityProvider:r,searchProvider:a,onSubmit:e,displayText:t,displayUrl:n,pluginState:o,view:i})})})}}oh.displayName="HyperlinkAddToolbar";class rh extends l.a.Component{componentDidUpdate(e){e.node!==this.props.node&&this.hideLinkToolbar()}componentWillUnmount(){this.hideLinkToolbar()}hideLinkToolbar(){const{view:e}=this.props;e.dispatch(Object(o("ost5").a)(e.state.tr))}render(){const{providerFactory:e,url:t,text:n,view:o,onSubmit:r}=this.props;return l.a.createElement(oh,{view:o,providerFactory:e,displayUrl:t,displayText:n,onSubmit:(e,t,n)=>{this.hideLinkToolbar(),r&&r(e,n||t)}})}}rh.displayName="EditLinkToolbar";const ih=(e,t)=>{let n="hyperlink"
;return e.selection instanceof d.NodeSelection&&(n=e.selection.node.type.name),!!t&&(t(Object(o("SVcB").a)(e,Object(o("ost5").g)(e.tr),Object(o("WzQf").a)(n))),!0)},ah=({providerFactory:e,node:t})=>({type:"custom",fallback:[],render:(n,r)=>{if(!n||!e)return null;const i=Object(o("osj6").b)(t,Object(o("osj6").c)(n.state));return l.a.createElement(rh,{key:r,view:n,providerFactory:e,url:i.url,text:i.title||"",node:t,onSubmit:(e,t)=>{const r=e!==i.url;return t!==i.title?Object(o("X6Aa").a)(t,e)(n.state,n.dispatch):r?Object(o("X6Aa").h)(e)(n.state,n.dispatch):void 0}})}}),sh={height:360,width:420,forcePlacement:!0};class ch extends l.a.Component{constructor(...e){super(...e),s()(this,"renderDropdown",((e,t)=>{const{url:n,intl:r,currentAppearance:i,editorState:a,allowEmbeds:s,platform:c}=this.props,d=s&&t&&n&&t.extractors.getPreview(n,c);if(n){var u,p;const e=null==t||null===(u=t.store)||void 0===u?void 0:u.getState()[n]
;if("fatal"===(null==e||null===(p=e.error)||void 0===p?void 0:p.kind))return null}const h=Object(o("Dc6L").f)(a,Je.Fragment.from(a.schema.nodes.blockCard.createChecked({})),i),f=h?void 0:lh(a,r),m=s&&d&&{title:r.formatMessage(o("y4yO").a.embed),onClick:Object(o("X6Aa").g)("embed"),selected:"embed"===i,hidden:!1,testId:"embed-appearance",disabled:!h,tooltip:f},g=[{title:r.formatMessage(o("y4yO").a.url),onClick:()=>Object(o("X6Aa").a)(n,n,!0)(a,null==e?void 0:e.dispatch),selected:!i,testId:"url-appearance"},{title:r.formatMessage(o("y4yO").a.inline),onClick:Object(o("X6Aa").g)("inline"),selected:"inline"===i,hidden:!1,testId:"inline-appearance"},{title:r.formatMessage(o("y4yO").a.block),onClick:Object(o("X6Aa").g)("block"),selected:"block"===i,hidden:!1,testId:"block-appearance",disabled:!h,tooltip:f}],b=r.formatMessage(i?o("y4yO").a[i]:o("y4yO").a.url);return m&&g.push(m),l.a.createElement(o("RE28").a,{key:"link-toolbar",buttonTestId:"link-toolbar-appearance-button",title:b,
dispatchCommand:t=>{t&&t(a,e&&e.dispatch)},options:g})}))}render(){const e=this.context.contextAdapter?this.context.contextAdapter.card:void 0,{editorView:t}=this.props;return this.renderDropdown(t,e&&e.value)}}ch.displayName="LinkToolbarAppearance",s()(ch,"contextTypes",{contextAdapter:Dt.a.object});const lh=(t,n)=>{try{const e=t.selection.$from.node(1),r=n.formatMessage(o("yYBl").a[e.type.name]);return n.formatMessage(o("y4yO").a.displayOptionUnavailableInParentNode,{node:r})}catch(e){return n.formatMessage(o("y4yO").a.displayOptionUnavailableInParentNode,{node:n.formatMessage(o("yYBl").a.defaultBlockNode)})}},dh=(e,t)=>{if(!(e.selection instanceof d.NodeSelection))return!1;const n=e.selection.node.type.name,r={action:o("J5HJ").a.DELETED,actionSubject:o("J5HJ").b.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:o("J5HJ").f.TOOLBAR,displayMode:n},eventType:o("J5HJ").e.TRACK};return t&&t(Object(o("SVcB").a)(e,Object(p.removeSelectedNode)(e.tr),r)),!0},uh=(e,t)=>{
if(!(e.selection instanceof d.NodeSelection))return!1;const{type:n}=e.selection.node,{url:r}=Object(o("osj6").d)(e.selection.node);return window.open(r),t&&t(Object(o("SVcB").a)(e,e.tr,Object(o("WzQf").b)(n.name))),!0},ph=(e,t)=>{const n=Object(o("osj6").b)(e,Object(o("osj6").c)(t)),r=n.title||n.url;return r?Object(o("X6Aa").b)(r):()=>!1},hh=(e,t,n)=>{const{inlineCard:r}=t.schema.nodes,i={id:"editor.link.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").b)(e.type,!0),onMouseLeave:Object(o("lgPy").b)(e.type,!1),onFocus:Object(o("lgPy").b)(e.type,!0),onBlur:Object(o("lgPy").b)(e.type,!1),title:n.formatMessage(o("yYBl").a.remove),onClick:dh};if(e.type===r){return[...[{id:"editor.link.unlink",type:"button",title:n.formatMessage(o("yYBl").b.unlink),icon:o.n(o("VAOK")).a,onClick:ph(e,t)},{type:"separator"}],i]}return[i]},fh=(e,t,n,r,i)=>a=>{const{url:s}=Object(o("osj6").d)(a);let c={};if(s&&!Object(o("Z7Qe").b)(s))return[];{
const{title:t}=Object(o("osj6").b)(a,Object(o("osj6").c)(e));c={url:s,title:t}}const d=o("O8Sv").a.getState(e),u=Object(o("osj6").a)(a.type);if(d.showLinkingToolbar&&"mobile"!==i)return[ah({providerFactory:n,node:a})];{const n=[{id:"editor.link.edit",type:"button",selected:!1,metadata:c,title:t.formatMessage(o("yYBl").b.editLink),showTitle:!0,testId:"link-toolbar-edit-link-button",onClick:ih},{type:"separator"},{id:"editor.link.openLink",type:"button",icon:o.n(o("WhJf")).a,metadata:c,className:"hyperlink-open-link",title:t.formatMessage(o("kALn").a.openLink),onClick:uh},{type:"separator"},...hh(a,e,t)];if("embed"===u){const r=((e,t)=>Object(o("VV44").a)(e,t,e.schema.nodes.embedCard,!0,!0))(e,t);r.length&&r.push({type:"separator"}),n.unshift(...r)}const{allowBlockCards:d,allowEmbeds:p}=r;return(d||p)&&u&&n.unshift({type:"custom",fallback:[],render:n=>l.a.createElement(ch,{key:"link-appearance",url:s,intl:t,currentAppearance:u,editorView:n,editorState:e,allowEmbeds:p,platform:i})},{
type:"separator"}),n}},mh=(e,t)=>(n,r,a)=>{const{inlineCard:s,blockCard:c,embedCard:l}=n.schema.nodes,u=[s,c,l],h=o("O8Sv").a.getState(n);if(!(n.selection instanceof d.NodeSelection))return;const f=n.selection.node;if(!f)return;const m="embed"===Object(o("osj6").a)(f.type),g=m?{offset:[0,24]}:{};return i()(i()({title:r.formatMessage(o("y4yO").a.card),nodeType:u},g),{},{getDomRef:e=>{const t=Object(p.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e));if(t)return m?t.querySelector(`.${o("EcU6").b}`):t},items:fh(n,r,a,e,t)},h.showLinkingToolbar?sh:{})};const gh=({editorView:e})=>{const t=function(){return Object(c.useMemo)((()=>new(o("dzME").a)),[])}();return Object(c.useEffect)((()=>{t&&e.dispatch(Object(o("ost5").d)(t)(e.state.tr))}),[t,e]),null};var bh=e=>({name:"card",nodes(){const t=[{name:"inlineCard",node:o("b7I9").a},{name:"blockCard",node:o("daZh").a}];return e.allowEmbeds&&t.push({name:"embedCard",node:o("nuPT").a}),t},pmPlugins(){var t,n
;const o=null===(t=e.allowResizing)||void 0===t||t,r=null===(n=e.useAlternativePreloader)||void 0===n||n;return[{name:"card",plugin:Lp(e.platform,o,r,e.fullWidthMode,e.createAnalyticsEvent)}]},contentComponent:({editorView:e})=>l.a.createElement(gh,{editorView:e}),pluginsOptions:{floatingToolbar:mh(e,e.platform)}});var vh=(e,t)=>{switch(t.action){case"matched":return((e,t)=>i()(i()({},e),{},{resolving:[...e.resolving,{start:t.start,end:t.end,match:t.match}]}))(e,t);case"resolved":return((e,t)=>i()(i()({},e),{},{matches:[...e.matches,{replacement:t.replacement,matchString:t.matchString}]}))(e,t);case"finish":return((e,t)=>i()(i()({},e),{},{resolving:e.resolving.filter((e=>e.match[0]!==t.matchString)),matches:e.matches.filter((e=>e.matchString!==t.matchString))}))(e,t);default:return e}};const yh=(e,t,n,o,r)=>{const{state:i}=e,a=i.doc.resolve(n);if(a.parent.type.spec.code)return!1;let s=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,void 0,"\ufffc")+r
;for(let c=0;c<t.length;c++){let i;if(i=r.length?t[c].matchTyping.exec(s):t[c].matchEnter.exec(s),i){const a=n-(i[0].length-r.length);return t[c].handler(e,i,a,o),!0}}return!1};var Eh=o("hyZr");const wh=new d.PluginKey("customAutoformatPlugin"),Oh=(e,t)=>e.setMeta(wh,t),Sh=(e,t)=>async(e,n,r,i)=>{const a=t(n.slice(1,n.length-1));e.dispatch(Oh(e.state.tr,{action:"matched",match:n,start:r,end:i}));const s=await a,c=Object(o("x+VZ").m)(e.state.schema,s);return e.dispatch(Oh(e.state.tr,{action:"resolved",matchString:n[0],replacement:c})),s},Ch=({providerFactory:e})=>{const t=[];return new d.Plugin({state:{init:()=>({resolving:[],matches:[]}),apply(e,t){if(!t)return t;const n=i()(i()({},t),{},{resolving:t.resolving.map((t=>i()(i()({},t),{},{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})))}),o=e.getMeta(wh);return o?vh(n,o):n}},props:{handleTextInput:(e,n,o,r)=>(yh(e,t,n,o,r),!1),handleKeyDown:Object(oe.a)({Enter:(e,n,o)=>(yh(o,t,o.state.selection.from,o.state.selection.to,""),
!1)})},view(){const n=(e,n)=>{"autoformattingProvider"===e&&n&&n.then((async e=>{const n=await e.getRules();Object.keys(n).forEach((e=>{const o={matchTyping:new RegExp("(\\s+|^)"+e+"(\\s|,|\\.)$"),matchEnter:new RegExp("(\\s+|^)"+e+"()$"),handler:Sh(0,n[e])};t.push(o)}))}))};return e.subscribe("autoformattingProvider",n),{update(e){const t=(e=>wh.getState(e))(e.state);t&&t.matches&&((e,t)=>{const{inlineCard:n}=e.state.schema.nodes;t.matches.forEach((o=>{const r=t.resolving.filter((e=>e.match[0]===o.matchString));let i=e.state.tr;r.forEach((t=>{const{match:r,start:a,end:s}=t,{replacement:c}=o,l=r[1],d=s+r[r.length-1].length;c&&(c.type===n||c.isText)&&e.state.doc.textBetween(a,d,"#","|")===r[0]&&(i=i.replaceWith(i.mapping.map(a+l.length),i.mapping.map(s,-1),c))})),i=Oh(i,{action:"finish",matchString:o.matchString}),e.dispatch(Object(Eh.a)(i))}))})(e,t)},destroy(){e.unsubscribe("autoformattingProvider",n)}}},key:wh})};var Th=()=>({name:"customAutoformat",pmPlugins:()=>[{
name:"customAutoformat",plugin:Ch}]});function xh(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,kh,e),o("4Upw").bindKeymapWithCommand(o("4Upw").tab.common,kh,e),Object(oe.b)(e)}const kh=(e,t)=>!!Object(o("GZmM").b)(e.tr.selection);const Ih=Object(u.defineMessages)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",
description:"Tooltip for the green color in color palette"}}),Ah=h.default.button.withConfig({componentId:"b1ilf7-0"})`height:24px;width:24px;background:${"#091E42"};padding:0;border-radius:4px;border:1px solid ${"#FFFFFF"};cursor:pointer;display:block;box-sizing:border-box;overflow:hidden;`,Nh=h.default.span.withConfig({componentId:"b1ilf7-1"})`border:1px solid transparent;margin:0 2px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:hover{border:1px solid ${"#C1C7D0"};}`;class Mh extends c.PureComponent{constructor(...e){super(...e),s()(this,"hoverStartTime",0),s()(this,"onMouseEnter",(()=>{this.hoverStartTime=Date.now()})),s()(this,"onMouseLeave",(()=>{const{onHover:e}=this.props;Date.now()-this.hoverStartTime>=1e3&&e&&e(this.props.value),this.hoverStartTime=0})),s()(this,"onMouseDown",(e=>{e.preventDefault()})),s()(this,"onClick",(e=>{const{onClick:t,value:n}=this.props;e.preventDefault(),t(n)}))}render(){
const{tabIndex:e,backgroundColor:t,isSelected:n,borderColor:r,value:i}=this.props,a=`1px solid ${r}`;return l.a.createElement(Nh,null,l.a.createElement(u.FormattedMessage,Ih[`${i}Color`],(i=>l.a.createElement(Ah,{onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,tabIndex:e,className:""+(n?"selected":""),title:i,style:{backgroundColor:t||"transparent",border:a}},n&&l.a.createElement(o.n(o("q3rX")).a,{primaryColor:r,label:i})))))}componentWillUnmount(){this.hoverStartTime=0}}Mh.displayName="Color";const Rh=[["neutral","#DFE1E6","#505F79"],["purple","#EAE6FF","#5243AA"],["blue","#DEEBFF","#0052CC"],["red","#FFEBE6","#DE350B"],["yellow","#FFF0B3","#FF991F"],["green","#E3FCEF","#00875A"]],jh=h.default.div.withConfig({componentId:"sc-13ba75u-0"})`margin:${Object(o("7w+A").h)()}px ${Object(o("7w+A").h)()}px 0 ${Object(o("7w+A").h)()}px;display:flex;flex-wrap:wrap;`
;var Ph=({cols:e=7,onClick:t,selectedColor:n,className:o,onHover:r})=>l.a.createElement(jh,{className:o,style:{maxWidth:32*e}},Rh.map((([e,o,i])=>l.a.createElement(Mh,{key:e,value:e,backgroundColor:o,borderColor:i,onClick:t,onHover:r,isSelected:e===n}))));const Dh=h.default.div.withConfig({componentId:"tgij5g-0"})`margin:0 ${Object(o("7w+A").h)()}px;`;class Lh extends c.PureComponent{constructor(...e){super(...e),s()(this,"fieldTextWrapperKey",Math.random().toString()),s()(this,"colorPaletteKey",Math.random().toString()),s()(this,"onChange",(e=>{this.props.onTextChanged(e.target.value)})),s()(this,"onKeyPress",(e=>{"Enter"===e.key&&this.props.onEnter()})),s()(this,"handleInputRef",(e=>{e&&this.props.autoFocus&&setTimeout((()=>{e.focus()}))}))}render(){const{text:e,selectedColor:t,onColorClick:n,onColorHover:r}=this.props;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Dh,{key:this.fieldTextWrapperKey},l.a.createElement(o("I4Rc").a,{css:null,value:e,isCompact:!0,
ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off"})),l.a.createElement(Ph,{key:this.colorPaletteKey,onClick:n,onHover:r,selectedColor:t}))}}Lh.displayName="StatusPicker",s()(Lh,"defaultProps",{autoFocus:!0});const _h=e=>e?"new":"update",Bh=Object(o("HoxM").a)(o("poXX").a);let Hh;!function(e){e.blur="blur",e.escKey="escKey",e.enterKey="enterKey"}(Hh||(Hh={}));const Jh=h.default.div.withConfig({componentId:"sc-1aq0jkb-0"})`background:${"#FFFFFF"};padding:${Object(o("ARg4").gridSize)()}px 0;border-radius:${Object(o("ARg4").borderRadius)()}px;${o("mw/U").k};input{text-transform:uppercase;}`;class $h extends l.a.Component{constructor(e){super(e),s()(this,"handleClickOutside",(e=>{e.preventDefault(),this.inputMethod=Hh.blur,this.props.closeStatusPicker()})),s()(this,"handleEscapeKeydown",(e=>{e.preventDefault(),this.inputMethod=Hh.escKey,this.props.onEnter(this.state)})),s()(this,"onColorHover",(e=>{
this.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:this.state.localId,state:_h(this.props.isNew)}})})),s()(this,"onColorClick",(e=>{const{text:t,localId:n}=this.state;e===this.state.color?(this.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:n,state:_h(this.props.isNew)}}),this.onEnter()):(this.setState({color:e}),this.props.onSelect({text:t,color:e,localId:n}))})),s()(this,"onTextChanged",(e=>{const{color:t,localId:n}=this.state;this.setState({text:e}),this.props.onTextChanged({text:e,color:t,localId:n},!!this.props.isNew)})),s()(this,"onEnter",(()=>{this.inputMethod=Hh.enterKey,this.props.onEnter(this.state)})),s()(this,"handlePopupClick",(e=>e.nativeEvent.stopImmediatePropagation())),this.state=this.extractStateFromProps(e),this.createStatusAnalyticsAndFireFunc=(e=>t=>{if(e&&t){const n=i()(i()({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),
n.attributes.packageName=o("YBum").a,n.attributes.packageVersion=o("YBum").b,n.attributes.componentName="status",e(n).fire("fabric-elements")}})(e.createAnalyticsEvent)}fireStatusPopupOpenedAnalytics(e){const{color:t,text:n,localId:o,isNew:r}=e;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:o,state:_h(r)}})}fireStatusPopupClosedAnalytics(e){const{color:t,text:n,localId:o,isNew:r}=e;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:o,state:_h(r)}})}reset(){this.startTime=Date.now(),this.inputMethod=Hh.blur}componentDidMount(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)}componentWillUnmount(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0}componentDidUpdate(e,t,n){
const o=this.props.target;if(e.target!==o){const e=this.extractStateFromProps(this.props);this.setState(e),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(e)}}extractStateFromProps(e){const{defaultColor:t,defaultText:n,defaultLocalId:r,isNew:i}=e;return{color:t||o("tkcb").a.color,text:n||o("tkcb").a.text,localId:r,isNew:i}}render(){const{isNew:e,target:t}=this.props,{color:n,text:r}=this.state;return t&&l.a.createElement(Bh,{target:t,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:o("9cwX").n,fitHeight:40},l.a.createElement(Jh,{onClick:this.handlePopupClick},l.a.createElement(Lh,{autoFocus:e,selectedColor:n,text:r,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))}}$h.displayName="StatusPickerWithoutAnalytcs";var Fh=Object(o("VHV8").a)()($h);var zh=e=>((e,t)=>(!0===t.menuDisabled||(e.pluginsOptions={
quickInsert:({formatMessage:e})=>[{id:"status",title:e(o("/DD6").a.status),description:e(o("/DD6").a.statusDescription),priority:700,keywords:["lozenge"],icon:()=>l.a.createElement(o("Jzj3").v,null),action:(e,t)=>Object(o("SVcB").a)(t,Object(o("tkcb").c)()(e,t),{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.STATUS,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}]}),e))((e=>({name:"status",nodes:()=>[{name:"status",node:o("NAZv").a}],pmPlugins:()=>[{name:"status",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:r})=>Object(o("OdEI").a)(t,n,r,e)},{name:"statusKeymap",plugin:xh}],contentComponent({editorView:e}){const t=e.domAtPos.bind(e);return l.a.createElement(o("fd7e").a,{plugins:{statusState:o("KwUl").a},render:({statusState:n={}})=>{const{showStatusPickerAt:r}=n;if("number"!=typeof r)return null;const i=Object(p.findDomRefAtPos)(r,t),a=e.state.doc.nodeAt(r);if(!a||"status"!==a.type.name)return null
;const{text:s,color:c,localId:d}=a.attrs;return l.a.createElement(Fh,{isNew:n.isNew,target:i,defaultText:s,defaultColor:c,defaultLocalId:d,onSelect:t=>{Object(o("tkcb").f)(t)(e.state,e.dispatch)},onTextChanged:t=>{Object(o("tkcb").f)(t)(e.state,e.dispatch)},closeStatusPicker:()=>{Object(o("tkcb").b)()(e)},onEnter:()=>{Object(o("tkcb").b)()(e)}})}})}}))(e),e);const Uh={paragraph:o("lZzB").b.PARAGRAPH,heading:o("lZzB").b.HEADING};function Vh(e,t){return void 0===t?Wh(e):!1===t?0:t.level}function Wh(e){return void 0===e?0:e.level}const Kh=(e,t)=>{const{nodes:{paragraph:n,heading:o},marks:{alignment:r}}=e;if([n,o].indexOf(t.type)>-1){if(r){return!t.marks.filter((e=>e.type===r))[0]}return!0}return!1};function qh(e,t){const{getAttrs:n,getAndResetAttrsChanges:r}=function(e,t){let n=[];return{getAttrs:function(o,r){const i=e(o,r);return n.push({node:r,prevAttrs:o,newAttrs:i,options:t}),i},getAndResetAttrsChanges(){const e=n;return n=[],e}}}(e,{direction:t}),i=function(e){return(t,n)=>{
const{indentation:r}=t.schema.marks;return Object(o("t0jr").i)(r,e,Kh)(t,n)}}(n);return(e,t)=>i(e,function(e,t,n){return r=>{let i=r;e().forEach((({node:e,prevAttrs:n,newAttrs:r,options:{direction:a}})=>{const s=Uh[e.type.name];s&&(i=Object(o("SVcB").a)(t,i,{action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_INDENT,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.KEYBOARD,previousIndentationLevel:Wh(n),newIndentLevel:Vh(n,r),direction:a,indentType:s}}))})),n&&n(r)}}(r,e,t))}const Gh=qh((e=>{if(!e)return{level:1};const{level:t}=e;return t>=6?void 0:{level:t+1}}),o("lZzB").a.INDENT),Yh=qh((e=>{if(!e)return;const{level:t}=e;return!(t<=1)&&{level:t-1}}),o("lZzB").a.OUTDENT);function Xh(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").findShortcutByKeymap(o("4Upw").indent),Gh,e),o("4Upw").bindKeymapWithCommand(o("4Upw").findShortcutByKeymap(o("4Upw").outdent),Yh,e),
o("4Upw").bindKeymapWithCommand(o("4Upw").findShortcutByKeymap(o("4Upw").backspace),((e,t)=>{const{selection:n}=e;return!(!Object(o("D4z0").r)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&Yh(e,t))}),e),Object(oe.b)(e)}var Qh=()=>({name:"indentation",marks:()=>[{name:"indentation",mark:o("ZUFI").a}],pmPlugins:()=>[{name:"indentationKeymap",plugin:()=>Xh()}]});const Zh=new d.PluginKey("scrollIntoViewPlugin");var ef=()=>({name:"scrollIntoView",pmPlugins:()=>[{name:"scrollIntoView",plugin:()=>(()=>new d.Plugin({key:Zh,appendTransaction:(e,t,n)=>{if(!e.length)return;const r=e[0];return!r.docChanged&&!r.storedMarksSet||r.scrolledIntoView||!1===r.getMeta("scrollIntoView")||!1===r.getMeta("addToHistory")||r.getMeta("isRemote")||r.getMeta(o("N3sK").b)?void 0:n.tr.scrollIntoView()}}))()}]});const tf=()=>({keyboardHeight:-1,mobilePaddingTop:0,windowHeight:window.innerHeight});var nf=()=>({name:"mobileDimensions",pmPlugins:()=>[{name:"mobileDimensions",plugin:({dispatch:e})=>(e=>{let t
;return new d.Plugin({state:Object(o("RB5l").b)(e,tf),key:o("RB5l").c,view(e){const n=()=>{let n=window.innerHeight,r=0;const i=()=>{window.innerHeight===n&&(r++,r>=5?(t=void 0,Object(o("bJo2").c)(window.innerHeight)(e.state,e.dispatch)):t=requestAnimationFrame(i))};t=requestAnimationFrame(i)};return window.addEventListener("resize",n),{destroy(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})})(e)}]});var of=o("44Ds"),rf=o.n(of);const af=["macro-browser","slash-onboarding"],sf=e=>"string"==typeof e.content&&e.content.includes("macro"),cf=([e],[t])=>{const n=e,o=t;return!Object.keys(n).some((e=>{const t=e;return n[t]!==o[t]}))},lf=e=>({content:e.content,tooltipDescription:e.tooltipDescription,value:{name:e.name},elemBefore:l.a.createElement(e.Icon,{label:e.content}),elemAfter:e.shortcut?l.a.createElement(o("mw/U").h,null,e.shortcut):void 0,shortcut:e.shortcut,isDisabled:e.disabled}),df=e=>Object(o("2JGX").default)(e,cf),uf=df((e=>lf({content:e.content,
tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"action",shortcut:"[]",Icon:o.n(o("p3Tp")).a}))),pf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"link",shortcut:Object(o("4Upw").tooltip)(o("4Upw").addLink),Icon:o.n(o("01nc")).a}))),hf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"media",Icon:o.n(o("MLD/")).a}))),ff=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"image upload",Icon:o.n(o("MLD/")).a}))),mf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"mention",Icon:o.n(o("WfRv")).a,shortcut:"@"}))),gf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"emoji",Icon:o.n(o("pSCn")).a,shortcut:":"}))),bf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"table",Icon:o.n(o("kl+u")).a,
shortcut:Object(o("4Upw").tooltip)(o("4Upw").toggleTable)}))),vf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"layout",Icon:o.n(o("N+rM")).a}))),yf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"codeblock",Icon:o.n(o("iCnE")).a,shortcut:e.shortcut}))),Ef=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"panel",Icon:o.n(o("hL5s")).a,shortcut:e.shortcut}))),wf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"blockquote",Icon:o.n(o("cObF")).a,shortcut:e.shortcut}))),Of=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"decision",Icon:o.n(o("efs6")).a,shortcut:"<>"}))),Sf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"horizontalrule",Icon:o.n(o("ADCM")).a,shortcut:"---"}))),Cf=df((e=>lf({content:e.content,
tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"expand",Icon:o.n(o("+TPg")).a}))),Tf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"date",Icon:o.n(o("xuwc")).a,shortcut:"//"}))),xf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"placeholder text",Icon:()=>l.a.createElement(o.n(o("bwse")).a,{label:""})}))),kf=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"status",Icon:o.n(o("MMpk")).a}))),If=df((e=>lf({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"macro",Icon:()=>l.a.createElement(o.n(o("MSKp")).a,{label:""})}))),Af=rf()((e=>i()(i()({},e),{},{title:l.a.createElement(o("4Upw").ToolTipContent,{description:e.content,shortcutOverride:e.shortcut})}))),Nf=Object(o("2JGX").default)((e=>rf()((t=>i()(i()({},t),{},{title:l.a.createElement(o("4Upw").ToolTipContent,{description:e,shortcutOverride:"/"})
}))))),Mf=Object(o("2JGX").default)((e=>{const{isTypeAheadAllowed:t,tableSupported:n,mediaUploadsEnabled:r,mediaSupported:i,imageUploadSupported:a,imageUploadEnabled:s,mentionsSupported:c,availableWrapperBlockTypes:l,actionSupported:d,decisionSupported:u,showElementBrowserLink:p,linkSupported:h,linkDisabled:f,emojiDisabled:m,emojiProvider:g,nativeStatusSupported:b,insertMenuItems:v,dateEnabled:y,placeholderTextEnabled:E,horizontalRuleEnabled:w,layoutSectionEnabled:O,expandEnabled:S,numberOfButtons:C,schema:T,formatMessage:x,isNewMenuEnabled:k}=e,I=[];if(d&&I.push(uf({content:x(o("/DD6").a.action),tooltipDescription:x(o("/DD6").a.actionDescription),disabled:!1})),h&&I.push(pf({content:x(o("/DD6").a.link),tooltipDescription:x(o("/DD6").a.linkDescription),disabled:!!f})),i&&r&&I.push(hf({content:x(o("/DD6").a.filesAndImages),tooltipDescription:x(o("/DD6").a.filesAndImagesDescription),disabled:!1})),a&&I.push(ff({content:x(o("/DD6").a.image),disabled:!s})),c&&I.push(mf({
content:x(o("/DD6").a.mention),tooltipDescription:x(o("/DD6").a.mentionDescription),disabled:!t})),g&&I.push(gf({content:x(o("/DD6").a.emoji),tooltipDescription:x(o("/DD6").a.emojiDescription),disabled:m||!t})),n&&I.push(bf({content:x(o("/DD6").a.table),tooltipDescription:x(o("/DD6").a.tableDescription),disabled:!1})),O){const e=x(o("/DD6").a.columns);I.push(vf({content:e,tooltipDescription:x(o("/DD6").a.columnsDescription),disabled:!1}))}const A=l||[],N=A.find((e=>"codeblock"===e.name)),M=A.find((e=>"panel"===e.name)),R=A.find((e=>"blockquote"===e.name));if(N&&I.push(yf({content:x(N.title),tooltipDescription:x(o("RJFP").a.codeblockDescription),disabled:!1,shortcut:"```"})),M&&I.push(Ef({content:x(M.title),tooltipDescription:x(o("RJFP").a.infoPanelDescription),disabled:!1})),R&&I.push(wf({content:x(R.title),tooltipDescription:x(o("RJFP").a.blockquoteDescription),disabled:!1,shortcut:">"})),u&&I.push(Of({content:x(o("/DD6").a.decision),
tooltipDescription:x(o("/DD6").a.decisionDescription),disabled:!1})),w&&T.nodes.rule&&I.push(Sf({content:x(o("/DD6").a.horizontalRule),tooltipDescription:x(o("/DD6").a.horizontalRuleDescription),disabled:!1})),S&&T.nodes.expand&&I.push(Cf({content:x(o("/DD6").a.expand),tooltipDescription:x(o("/DD6").a.expandDescription),disabled:!1})),y){const e=x(o("/DD6").a.date);I.push(Tf({content:e,tooltipDescription:x(o("/DD6").a.dateDescription),disabled:!1}))}if(E&&I.push(xf({content:x(o("/DD6").a.placeholderText),disabled:!1})),b){const e=x(o("/DD6").a.status);I.push(kf({content:e,tooltipDescription:x(o("/DD6").a.statusDescription),disabled:!1}))}v&&I.push(...v),p&&I.push(If({content:x(o("/DD6").a.viewMore),disabled:!1}));const j=I.slice(0,C).map(Af),P=I.slice(C)
;return[j,(k?P:(e=>e.sort(((e,t)=>af.includes(e.value.name)&&af.includes(t.value.name)?af.indexOf(e.value.name)-af.indexOf(t.value.name):af.includes(t.value.name)?-1:af.includes(e.value.name)||sf(e)&&!sf(t)?1:sf(t)&&!sf(e)||e.content<t.content?-1:1)))(P)).map(Nf(x(o("/DD6").a.insertMenu)))]}),cf),Rf=({item:e})=>{const t=Object(c.useCallback)((t=>{13!==t.which&&32!==t.which||e.action()}),[e]);return l.a.createElement(h.ThemeProvider,{theme:Lf},l.a.createElement(o("oNmO").a,{onClick:e.action,elemBefore:l.a.createElement(Df,null,e.icon()),"aria-describedby":e.title,"data-testid":"view-more-elements-item",onKeyPress:t},e.title))},jf=({name:e})=>{const t={codeblock:o("Jzj3").b,panel:o("Jzj3").p,blockquote:o("Jzj3").u,decision:o("Jzj3").d,horizontalrule:o("Jzj3").e,expand:o("Jzj3").g,date:o("Jzj3").c,status:o("Jzj3").v}[e];return t?l.a.createElement(t,{label:""}):void 0},Pf=h.default.div.withConfig({componentId:"j2780t-0"
})`display:flex;flex-direction:column;width:320px;height:${({itemCount:e})=>e>0&&e<6?75*e+112:560}px;background-color:${Object(o("ku5o").a)({light:"#FFFFFF",dark:"#283447"})()};border-radius:${Object(o("ARg4").borderRadius)()}px;box-shadow:0 0 0 1px ${"rgba(9, 30, 66, 0.08)"},0 2px 1px ${"rgba(9, 30, 66, 0.08)"},0 0 20px -6px ${"rgba(9, 30, 66, 0.31)"};`,Df=h.default.div.withConfig({componentId:"j2780t-1"})`width:40px;height:40px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;margin-right:${Object(o("ARg4").gridSize)()/2}px;`,Lf={[o("t7+/").e]:{padding:{default:{left:14}},height:40}},_f=h.default.div.withConfig({componentId:"j2780t-2"})`display:flex;flex:1;box-sizing:border-box;overflow:hidden;`,Bf=Object(o("HoxM").a)(_f);var Hf=({editorView:e,dropdownItems:t,onInsert:n,toggleVisiblity:r})=>{const[i,a]=Object(c.useState)(0),s=Object(c.useCallback)((e=>({title:e.content,description:e.tooltipDescription,keyshortcut:e.shortcut,icon:()=>jf({name:e.value.name
})||e.elemBefore,action:()=>n({item:e}),onClick:e.onClick,value:e.value})),[n]),d=t.map(s),u=d.pop(),p=Object(c.useCallback)((t=>{r(),e.hasFocus()||e.focus(),Object(o("QDVM").b)(t)(e.state,e.dispatch)}),[e,r]),h=Object(c.useCallback)((e=>(t,n)=>{let r;return r=t?Object(o("dbDw").b)(e,{})(t,n):d.concat(Object(o("dbDw").a)(e,{})()),a(r.length),r}),[d]),f=Object(c.useCallback)((({quickInsertState:e})=>l.a.createElement(Bf,{handleClickOutside:r,handleEscapeKeydown:r},l.a.createElement(o("Wi02").a,{mode:"inline",getItems:h(e),emptyStateHandler:null==e?void 0:e.emptyStateHandler,onInsertItem:p,showSearch:!0,showCategories:!1,key:d.length}))),[h,p,d.length,r]);return l.a.createElement(Pf,{itemCount:i},l.a.createElement(o("fd7e").a,{plugins:{quickInsertState:o("89Qp").a},render:f}),i>0&&u&&l.a.createElement(Rf,{item:u}))};const Jf=h.default.span.withConfig({componentId:"jmlqn4-0"
})`width:42px;display:flex;align-items:center;> div,> span{display:flex;}> div > div{display:flex;}`,$f=l.a.memo((e=>l.a.createElement(Jf,null,l.a.createElement(o.n(o("umwh")).a,{label:e.label}),l.a.createElement(o("mw/U").e,null,l.a.createElement(o.n(o("1YpF")).a,{label:""}))))),Ff=l.a.memo((e=>l.a.createElement(o("aEOQ").b,{ref:e.handleRef,selected:e.selected,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,iconBefore:l.a.createElement($f,{label:e.label}),title:l.a.createElement(o("4Upw").ToolTipContent,{description:e.label,shortcutOverride:"/"})}))),zf=e=>l.a.createElement(l.a.Fragment,null,e.open&&l.a.createElement(o("poXX").a,{target:e.plusButtonRef,fitHeight:500,fitWidth:350,offset:[0,3],mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement},l.a.createElement(Hf,{editorView:e.editorView,dropdownItems:e.items,onInsert:e.onInsert,toggleVisiblity:e.togglePlusMenuVisibility})),l.a.createElement(Ff,{handleRef:e.onRef,
selected:e.open,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,label:e.label})),Uf=e=>{const{items:t}=e,n=l.a.useMemo((()=>[{items:t}]),[t]);return l.a.createElement(Z,{items:n,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement,isOpen:e.open,fitHeight:188,fitWidth:175,zIndex:o("9cwX").y},l.a.createElement(Ff,{handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,label:e.label}))},Vf=e=>0===e.items.length?null:e.disabled?l.a.createElement("div",null,l.a.createElement(Ff,{handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,spacing:e.spacing,label:e.label})):e.replacePlusMenuWithElementBrowser?l.a.createElement(zf,{disabled:e.disabled,editorView:e.editorView,items:e.items,label:e.label,onClick:e.onClick,onInsert:e.onInsert,onRef:e.onPlusButtonRef,open:e.open,plusButtonRef:e.plusButtonRef,
popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing,togglePlusMenuVisibility:e.togglePlusMenuVisibility}):l.a.createElement(Uf,{disabled:e.disabled,items:e.items,label:e.label,onClick:e.onClick,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,onRef:e.onRef,open:e.open,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing}),Wf=()=>{},Kf=Object(o("HoxM").a)(o("+IWU").a);class qf extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{isPlusMenuOpen:!1,emojiPickerOpen:!1,buttons:[],dropdownItems:[]}),s()(this,"onOpenChange",(e=>{const t={isPlusMenuOpen:e.isPlusMenuOpen,emojiPickerOpen:this.state.emojiPickerOpen};this.state.emojiPickerOpen&&!e.open&&(t.emojiPickerOpen=!1),this.setState(t,(()=>{const{dispatchAnalyticsEvent:e}=this.props;if(!e)return
;const{isPlusMenuOpen:t}=this.state;return e(t?{action:o("J5HJ").a.OPENED,actionSubject:o("J5HJ").b.PLUS_MENU,eventType:o("J5HJ").e.UI}:{action:o("J5HJ").a.CLOSED,actionSubject:o("J5HJ").b.PLUS_MENU,eventType:o("J5HJ").e.UI})}))})),s()(this,"togglePlusMenuVisibility",(()=>{const{isPlusMenuOpen:e}=this.state;this.onOpenChange({isPlusMenuOpen:!e})})),s()(this,"toggleEmojiPicker",((e=o("J5HJ").f.TOOLBAR)=>{this.setState((e=>({emojiPickerOpen:!e.emojiPickerOpen})),(()=>{if(this.state.emojiPickerOpen){const{dispatchAnalyticsEvent:t}=this.props;t&&t({action:o("J5HJ").a.OPENED,actionSubject:o("J5HJ").b.PICKER,actionSubjectId:o("J5HJ").c.PICKER_EMOJI,attributes:{inputMethod:e},eventType:o("J5HJ").e.UI})}}))})),s()(this,"handleEmojiPressEscape",(()=>{this.toggleEmojiPicker(o("J5HJ").f.KEYBOARD)})),s()(this,"handleEmojiClickOutside",(e=>{e.target&&!(e=>!document.body.contains(e))(e.target)&&this.toggleEmojiPicker(o("J5HJ").f.TOOLBAR)})),s()(this,"handleEmojiButtonRef",(e=>{
const t=Ie.a.findDOMNode(e);t&&(this.emojiButtonRef=t)})),s()(this,"handlePlusButtonRef",(e=>{const t=Ie.a.findDOMNode(e);t&&(this.plusButtonRef=t)})),s()(this,"handleDropDownButtonRef",(e=>{const t=Ie.a.findDOMNode(e);t&&(this.dropdownButtonRef=t)})),s()(this,"toggleLinkPanel",(e=>{const{editorView:t}=this.props;return Object(o("Qi0S").i)(e)(t.state,t.dispatch),!0})),s()(this,"insertMention",(e=>{const{editorView:t}=this.props;return!t||(Object(o("+OuI").a)(t).openMention(e),!0)})),s()(this,"insertTable",(e=>{const{editorView:t}=this.props;return Object(o("SVcB").c)({action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.TABLE,attributes:{inputMethod:e},eventType:o("J5HJ").e.TRACK})(Object(o("hK8d").c)())(t.state,t.dispatch)})),s()(this,"createDate",(e=>{const{editorView:t}=this.props;return Object(o("bcXr").f)(void 0,e)(t.state,t.dispatch),!0})),s()(this,"createPlaceholderText",(()=>{const{editorView:e}=this.props;return((e,t)=>{const n=e.tr
;e.selection.empty||n.deleteSelection(),n.setMeta(_u,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n)})(e.state,e.dispatch),!0})),s()(this,"insertLayoutColumns",(e=>{const{editorView:t}=this.props;return(e=>Object(o("SVcB").c)({action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.LAYOUT,attributes:{inputMethod:e},eventType:o("J5HJ").e.TRACK})(Gu))(e)(t.state,t.dispatch),!0})),s()(this,"createStatus",(e=>{const{editorView:t}=this.props;return Object(o("tkcb").g)(e)(t.state,t.dispatch),!0})),s()(this,"openMediaPicker",(e=>{const{onShowMediaPicker:t,dispatchAnalyticsEvent:n}=this.props;return t&&(t(),n&&n({action:o("J5HJ").a.OPENED,actionSubject:o("J5HJ").b.PICKER,actionSubjectId:o("J5HJ").c.PICKER_CLOUD,attributes:{inputMethod:e},eventType:o("J5HJ").e.UI})),!0})),s()(this,"insertTaskDecision",((e,t)=>()=>{const{editorView:n}=this.props;if(!n)return!1;const r="action"===e?"taskList":"decisionList"
;return Object(o("aznN").c)(n,r,t)(n.state,n.dispatch),!0})),s()(this,"insertHorizontalRule",(e=>{const{editorView:{state:t,dispatch:n}}=this.props;return Object(o("gbAj").a)(e)(t,n)})),s()(this,"insertExpand",(()=>{const{state:e,dispatch:t}=this.props.editorView;return Object(o("vRhk").e)(e,t)})),s()(this,"insertBlockType",(e=>()=>{const{editorView:t,onInsertBlockType:n}=this.props,{state:o,dispatch:r}=t;return n(e)(o,r),!0})),s()(this,"handleSelectedEmoji",(e=>(this.props.editorView.focus(),function(e,t){return(n,r)=>{const{emoji:a}=n.schema.nodes;if(a&&e){const s=a.createChecked(i()(i()({},e),{},{text:e.fallback||e.shortName})),c=n.schema.text(" ");if(r){const e=Je.Fragment.fromArray([s,c]),i=Object(p.safeInsert)(e)(n.tr);t&&Object(o("SVcB").a)(n,i,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.EMOJI,attributes:{inputMethod:t},eventType:o("J5HJ").e.TRACK}),r(i.setSelection(d.Selection.near(i.doc.resolve(n.selection.$from.pos+e.size))))}
return!0}return!1}}(e,o("J5HJ").f.PICKER)(this.props.editorView.state,this.props.editorView.dispatch),this.toggleEmojiPicker(),!0))),s()(this,"openElementBrowser",(()=>{Object(o("QDVM").c)()(this.props.editorView.state,this.props.editorView.dispatch)})),s()(this,"onItemActivated",(({item:e,inputMethod:t})=>{const{editorView:n,editorActions:o,handleImageUpload:r,expandEnabled:i}=this.props;switch(n.hasFocus()||n.focus(),e.value.name){case"link":this.toggleLinkPanel(t);break;case"table":this.insertTable(t);break;case"image upload":if(r){const{state:e,dispatch:t}=n;r()(e,t)}break;case"media":this.openMediaPicker(t);break;case"mention":this.insertMention(t);break;case"emoji":this.toggleEmojiPicker(t);break;case"codeblock":case"blockquote":case"panel":this.insertBlockType(e.value.name)();break;case"action":case"decision":this.insertTaskDecision(e.value.name,t)();break;case"horizontalrule":this.insertHorizontalRule(t);break;case"macro":this.openElementBrowser();break;case"date":
this.createDate(t);break;case"placeholder text":this.createPlaceholderText();break;case"layout":this.insertLayoutColumns(t);break;case"status":this.createStatus(t);break;case"expand":if(i){this.insertExpand();break}default:if(e&&e.onClick){e.onClick(o);break}}this.setState({isPlusMenuOpen:!1})})),s()(this,"insertToolbarMenuItem",(e=>this.onItemActivated({item:e,inputMethod:o("J5HJ").f.TOOLBAR}))),s()(this,"insertInsertMenuItem",(({item:e})=>this.onItemActivated({item:e,inputMethod:o("J5HJ").f.INSERT_MENU})))}static getDerivedStateFromProps(e,t){const[n,o]=Mf({isTypeAheadAllowed:e.isTypeAheadAllowed,tableSupported:e.tableSupported,mediaUploadsEnabled:e.mediaUploadsEnabled,mediaSupported:e.mediaSupported,imageUploadSupported:e.imageUploadSupported,imageUploadEnabled:e.imageUploadEnabled,mentionsSupported:e.mentionsSupported,actionSupported:e.actionSupported,decisionSupported:e.decisionSupported,linkSupported:e.linkSupported,linkDisabled:e.linkDisabled,emojiDisabled:e.emojiDisabled,
nativeStatusSupported:e.nativeStatusSupported,dateEnabled:e.dateEnabled,placeholderTextEnabled:e.placeholderTextEnabled,horizontalRuleEnabled:e.horizontalRuleEnabled,layoutSectionEnabled:e.layoutSectionEnabled,expandEnabled:e.expandEnabled,macroProvider:e.macroProvider,showElementBrowserLink:e.showElementBrowserLink,emojiProvider:e.emojiProvider,availableWrapperBlockTypes:e.availableWrapperBlockTypes,insertMenuItems:e.insertMenuItems,schema:e.editorView.state.schema,numberOfButtons:e.buttons,formatMessage:e.intl.formatMessage,isNewMenuEnabled:e.replacePlusMenuWithElementBrowser});return i()(i()({},t),{},{buttons:n,dropdownItems:o})}componentDidUpdate(e){e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1})}renderPopup(){
const{emojiPickerOpen:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,emojiProvider:i,replacePlusMenuWithElementBrowser:a}=this.props,s=this.state.dropdownItems.some((({value:{name:e}})=>"emoji"===e)),c=a?this.plusButtonRef:this.dropdownButtonRef,d=s?c:this.emojiButtonRef;return e&&d&&i?l.a.createElement(o("poXX").a,{target:d,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:t,boundariesElement:n,scrollableElement:r},l.a.createElement(Kf,{emojiProvider:i,onSelection:this.handleSelectedEmoji,handleClickOutside:this.handleEmojiClickOutside,handleEscapeKeydown:this.handleEmojiPressEscape})):null}render(){var e,t;const{buttons:n,dropdownItems:r}=this.state,{isDisabled:i,isReducedSpacing:a}=this.props;return 0===n.length&&0===r.length?null:l.a.createElement(o("mw/U").b,{width:a?"small":"large"},n.map((e=>l.a.createElement(o("aEOQ").b,{item:e,ref:"emoji"===e.value.name?this.handleEmojiButtonRef:Wf,key:e.value.name,spacing:a?"none":"default",
disabled:i||e.isDisabled,iconBefore:e.elemBefore,selected:e.isActive,title:e.title,onItemClick:this.insertToolbarMenuItem}))),l.a.createElement(o("mw/U").j,null,this.renderPopup(),l.a.createElement(Vf,{popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,disabled:null!==(e=this.props.isDisabled)&&void 0!==e&&e,editorView:this.props.editorView,spacing:this.props.isReducedSpacing?"none":"default",label:this.props.intl.formatMessage(o("/DD6").a.insertMenu),open:this.state.isPlusMenuOpen,plusButtonRef:this.plusButtonRef,items:this.state.dropdownItems,onRef:this.handleDropDownButtonRef,onPlusButtonRef:this.handlePlusButtonRef,onClick:this.togglePlusMenuVisibility,onItemActivated:this.insertInsertMenuItem,onInsert:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,togglePlusMenuVisibility:this.togglePlusMenuVisibility,
replacePlusMenuWithElementBrowser:null!==(t=this.props.replacePlusMenuWithElementBrowser)&&void 0!==t&&t})),this.props.showSeparator&&l.a.createElement(o("mw/U").g,null))}}qf.displayName="ToolbarInsertBlock";var Gf=Object(u.injectIntl)(qf);function Yf(e){return Object(o("XJbs").c)(e,o("J5HJ").f.TOOLBAR)}var Xf=(e={})=>({name:"insertBlock",primaryToolbarComponent({editorView:t,editorActions:n,dispatchAnalyticsEvent:r,providerFactory:i,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:c,toolbarSize:d,disabled:u,isToolbarReducedSpacing:p,isLastItem:h}){const f=(e=>{switch(e){case o("+wsV").a.XXL:case o("+wsV").a.XL:case o("+wsV").a.L:case o("+wsV").a.M:return 7;case o("+wsV").a.S:return 2;default:return 0}})(d);return l.a.createElement(o("D0us").a,{providerFactory:i,providers:["emojiProvider"],renderNode:i=>l.a.createElement(o("fd7e").a,{plugins:{typeAheadState:o("yUK8").a,blockTypeState:o("t+JJ").b,mediaState:o("wBzk").a,mentionState:o("UgDi").a,macroState:o("YAmM").a,
hyperlinkState:o("E3sl").e,emojiState:Ft,dateState:o("VpzP").a,imageUpload:sd,placeholderTextState:_u,layoutState:$u},render:({mentionState:m,blockTypeState:g,mediaState:b,macroState:v={},hyperlinkState:y,emojiState:E,dateState:w,imageUpload:O,placeholderTextState:S,layoutState:C})=>l.a.createElement(Gf,{buttons:f,isReducedSpacing:p,isDisabled:u,isTypeAheadAllowed:Object(o("Wd+7").e)(t.state),editorView:t,tableSupported:e.allowTables,actionSupported:!!t.state.schema.nodes.taskItem,mentionsSupported:!(!m||!m.mentionProvider),decisionSupported:!!t.state.schema.nodes.decisionItem,dateEnabled:!!w,placeholderTextEnabled:S&&S.allowInserting,layoutSectionEnabled:!!C,expandEnabled:!!e.allowExpand,mediaUploadsEnabled:b&&b.allowsUploads,onShowMediaPicker:b&&b.showMediaPicker,mediaSupported:!!b,imageUploadSupported:!!O,imageUploadEnabled:O&&O.enabled,handleImageUpload:ld,availableWrapperBlockTypes:g&&g.availableWrapperBlockTypes,linkSupported:!!y,
linkDisabled:!y||!y.canInsertLink||!!y.activeLinkMark,emojiDisabled:!E||!E.emojiProvider,emojiProvider:i.emojiProvider,nativeStatusSupported:e.nativeStatusSupported,horizontalRuleEnabled:e.horizontalRuleEnabled,onInsertBlockType:Yf,onInsertMacroFromMacroBrowser:o("JkFw").a,macroProvider:v.macroProvider,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:c,insertMenuItems:e.insertMenuItems,editorActions:n,dispatchAnalyticsEvent:r,replacePlusMenuWithElementBrowser:e.replacePlusMenuWithElementBrowser,showElementBrowserLink:e.showElementBrowserLink,showSeparator:!h&&d<=o("+wsV").a.S})})})}});const Qf=h.default.div.withConfig({componentId:"eswbve-0"})`display:flex;flex-grow:1;justify-content:flex-end;align-items:center;& > div{margin-right:0;}`,Zf=e=>{const{dispatchAnalyticsEvent:t}=e;return Object(c.useEffect)((()=>{t&&t({action:o("J5HJ").a.VIEWED,actionSubject:o("J5HJ").b.BUTTON,actionSubjectId:o("J5HJ").c.AVATAR_GROUP_PLUGIN,eventType:o("J5HJ").e.UI})}),[t]),
l.a.createElement(Qf,{"aria-label":"Editors","data-testid":"avatar-group-in-plugin"},l.a.createElement(o("HRS3").a,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:e.collabEdit&&e.collabEdit.inviteToEditComponent,inviteToEditHandler:e.collabEdit&&e.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:e.collabEdit&&e.collabEdit.isInviteToEditButtonSelected}))};var em=e=>({name:"avatarGroup",primaryToolbarComponent:({editorView:t,popupsMountPoint:n,popupsBoundariesElement:o,popupsScrollableElement:r,disabled:i,isToolbarReducedSpacing:a,eventDispatcher:s,dispatchAnalyticsEvent:c})=>l.a.createElement(Zf,{dispatchAnalyticsEvent:c,editorView:t,eventDispatcher:s,collabEdit:e.collabEdit})});let tm;!function(e){e.ACTIVATE="ACTIVATE",e.FIND="FIND",e.UPDATE_DECORATIONS="UPDATE_DECORATIONS",e.FIND_NEXT="FIND_NEXT",e.FIND_PREVIOUS="FIND_PREVIOUS",e.REPLACE="REPLACE",e.REPLACE_ALL="REPLACE_ALL",e.CANCEL="CANCEL",e.BLUR="BLUR",
e.TOGGLE_MATCH_CASE="TOGGLE_MATCH_CASE"}(tm||(tm={}));var nm=e=>(t,n)=>{switch(n.type){case tm.ACTIVATE:case tm.FIND:return i()(i()({},t),{},{isActive:!0,shouldFocus:n.type===tm.ACTIVATE,findText:void 0!==n.findText?n.findText:t.findText,matches:n.matches||t.matches,index:void 0!==n.index?n.index:t.index});case tm.UPDATE_DECORATIONS:return i()(i()({},t),{},{decorationSet:n.decorationSet});case tm.FIND_NEXT:case tm.FIND_PREVIOUS:return i()(i()({},t),{},{index:n.index,decorationSet:n.decorationSet});case tm.REPLACE:case tm.REPLACE_ALL:return i()(i()({},t),{},{replaceText:n.replaceText,decorationSet:n.decorationSet,matches:n.matches,index:n.index});case tm.CANCEL:return e();case tm.BLUR:return i()(i()({},t),{},{shouldFocus:!1});case tm.TOGGLE_MATCH_CASE:return i()(i()({},t),{},{shouldMatchCase:!t.shouldMatchCase});default:return t}};const om=new d.PluginKey("findReplace");const rm=(e,t)=>t.map((({start:t,end:n},o)=>im(t,n,o===e))),im=(e,t,n)=>{let o="search-match"
;return n&&(o+=" selected-search-match"),ce.a.inline(e,t,{class:o})};function am(e,t,n,o=0){let r=[];const i=t.length;let a=null;const s=e=>{if(!e)return;let{text:a,pos:s}=e;const c=o+s;n||(t=t.toLowerCase(),a=a.toLowerCase());let l=a.indexOf(t);for(;-1!==l;){const e=l+i;r.push({start:c+l,end:c+e}),l=a.indexOf(t,e)}};return i>0&&(e.descendants(((e,t)=>{e.isText?null===a?a={text:e.text,pos:t}:a.text=a.text+e.text:(s(a),a=null)})),a&&s(a)),r}function sm(e,t,n=!1){if(n){let n=t.findIndex((t=>t.start>=e))-1;return n<0&&(n=t.length-1),n}return Math.max(t.findIndex((t=>t.start>=e)),0)}const cm=(e,t)=>(e+1)%t,lm=(e,t,n,o,r=0)=>o[n]?d.TextSelection.create(t,o[n].start+r):e,dm=(e,t)=>{if(!t)return;const n=e.find(t.start,t.end);return n.length?n.find((e=>e.from===t.start&&e.to===t.end)):void 0},um=(e,t,n)=>{const o=e.find(),r=(e=e.remove(t.map((e=>e.copy(e.from,e.to))))).find(),i=hm(t,o,r);return i.length>0&&(e=e.add(n,i)),e},pm=(e,t,n)=>(t.filter((e=>!!e)).map((t=>dm(e,t))).forEach((t=>{
t&&(e=um(e,[t],n))})),e),hm=(e,t,n)=>{let o=[];if(t.length-e.length>n.length){const r=e.length>0?e[0].from:0,i=fm(t,r),a=fm(n,r),s=Math.min(i,a),c=t.slice(s),l=n.slice(s),d=[],u=c.length-l.length;let p=!1,h=0;for(let t=0;t<c.length;t++){const n=c[t];if(e.find((e=>e.from===n.from))){h-=1;continue}let o=t+h;for(o>=l.length&&(d.push(n),d.length===u&&(p=!0));o<l.length;o++){const e=l[o];if(n.from===e.from)break;if(e.from>n.from||o===l.length-1){d.push(n),h-=1,d.length===u&&(p=!0);break}}if(p)break}o=d.filter((t=>!e.find((e=>t.from===e.from))))}return o},fm=(e,t)=>{let n=0;for(let o=e.length-1;o>=0;o-=100){if(e[o].from<t){n=o;for(let r=o;r<=e.length-1&&e[r].from<=t;r++)n=r;break}o<100&&o>0&&(o=100)}return n},mm=(e,t,n)=>{const{from:o,to:r,slice:i}=t,a=i.content.size;return o+a>=e.start&&r-a<=e.end||n.mapping.map(o)+a>=e.start&&n.mapping.map(r)-a<=e.end},gm={isActive:!1,shouldFocus:!1,findText:"",replaceText:"",index:0,matches:[],decorationSet:ce.b.empty,shouldMatchCase:!1
},{createCommand:bm,getPluginState:vm,createPluginState:ym}=Object(o("FJah").a)(om,nm((()=>gm)),{onDocChanged:(e,t)=>{const{isActive:n,findText:o}=t;if(!n||!o)return t;if(!e.steps.find(di))return t;let{index:r,decorationSet:a,matches:s,shouldMatchCase:c}=t;const l=am(e.doc,o,c);a=a.map(e.mapping,e.doc);const d=a.find().length,u=s.map((t=>({start:e.mapping.map(t.start),end:e.mapping.map(t.end)})));let p=[],h=[];if(l.length>0&&0===d?p=l:0===l.length&&d>0?a=ce.b.empty:(l.length>0||d>0)&&e.steps.forEach((t=>{di(t)&&(p=[...p,...l.filter((n=>mm(n,t,e)&&!dm(a,n)))],h=[...h,..._p(u.filter((n=>mm(n,t,e)&&!!dm(a,n))),l,((e,t)=>e.start===t.start&&e.end===t.end))])})),h.length>0){const t=h.reduce(((e,t)=>[...e,...a.find(t.start,t.end)]),[]);a=um(a,t,e.doc)}p.length>0&&(a=a.add(e.doc,rm(e.selection.from,p)));let f=r;const m=u[r];m&&(f=l.findIndex((e=>e.start===m.start))),void 0!==f&&-1!==f||(f=sm(e.selection.from,l));const g=l[f];return a=pm(a,[m,g],e.doc),g&&(a=a.add(e.doc,rm(0,[g]))),
i()(i()({},t),{},{matches:l,index:f,decorationSet:a})}}),Em=100,wm=2e3;var Om=new class{stop(){this.rafId&&cancelAnimationFrame(this.rafId)}async applyAllSearchDecorations(e,t,n,o){if(this.stop(),this.addDecorations=n,this.removeDecorations=o,!t)return;const r=t.querySelector(".ProseMirror");if(!r)return;const i=this.calcDecorationPositions(e,t,r),{startPos:a,endPos:s,viewportStartPos:c,viewportEndPos:l}=i;let d=0,u=c,p=l-wm;for(await this.updateDecorationsBetween(e,c,l);u>a||p<s;)if(d++%2==0&&u>a||p>=s){const t=u-a;u=Math.max(u-wm,a),await this.updateDecorationsBetween(e,u,u+Math.min(t,wm))}else p=Math.min(p+wm,s),await this.updateDecorationsBetween(e,p,Math.min(p+wm,s))}async updateDecorationsBetween(e,t,n){await this.removeDecorationsBetween(e,t,n),await this.addDecorationsBetween(e,t,n)}async addDecorationsBetween(e,t,n){const{selection:o}=e.state,{matches:r,decorationSet:i}=vm(e.state);if(0===r.length)return
;const a=r.filter((e=>e.start>=t&&(void 0===n||e.start<n))),s=r.find((e=>e.start>=o.from)),c=a.findIndex((e=>e===s));return await this.batchRequests((e=>{let t=a.slice(e,e+Em);if(0===t.length)return!1;let n=c>=e&&c<e+Em;if(s&&n){dm(i,s)&&(t.splice(c%Em,1),n=!1)}this.addDecorations&&this.addDecorations(rm(n?c%Em:-1,t))}),{increment:Em,until:a.length})}async removeDecorationsBetween(e,t,n){const{decorationSet:o}=vm(e.state),r=o.find(t,n);if(0!==r.length)return await this.batchRequests((e=>{let n=r.slice(e,e+Em);if(0===n.length)return!1;for(let o=0;o<n.length&&!(n[o].from>=t);o++)n=n.slice(1);this.removeDecorations&&this.removeDecorations(n)}),{increment:Em,until:r.length})}calcDecorationPositions(e,t,n){const o=t.getBoundingClientRect(),r=n.getBoundingClientRect();return{viewportStartPos:this.getStartPos(e,0,r.left),viewportEndPos:this.getEndPos(e,o.top+o.height,r.left),startPos:1,endPos:e.state.doc.nodeSize}}getStartPos(e,t,n){const o=e.posAtCoords({top:t,left:n});return o?o.pos:1}
getEndPos(e,t,n){const o=e.state.doc.nodeSize,r=e.posAtCoords({top:t,left:n});return r?r.pos:o}batchRequests(e,t){let n=0;const{increment:o,until:r}=t;return new Promise((t=>{const i=()=>{let a=e(n);for(;!1===a&&n<r;)n+=o,a=e(n);n<r?(n+=o,this.rafId=requestAnimationFrame(i)):(this.rafId=void 0,t())};this.rafId=requestAnimationFrame(i)}))}};const Sm=(e,t)=>{const n=vm(e),{matches:o,findText:r}=n;let{decorationSet:i,index:a}=n;if(r){const n=sm(e.selection.from,o,"previous"===t);a=a===n?"next"===t?cm(a,o.length):((e,t)=>(e-1+t)%t)(a,o.length):n,i=xm(e,a)}return{type:"next"===t?tm.FIND_NEXT:tm.FIND_PREVIOUS,index:a,decorationSet:i}},Cm=e=>bm((t=>{const{decorationSet:n}=vm(t);return{type:tm.UPDATE_DECORATIONS,decorationSet:n.add(t.doc,e)}})),Tm=e=>bm((t=>{const{decorationSet:n}=vm(t);return{type:tm.UPDATE_DECORATIONS,decorationSet:um(n,e,t.doc)}})),xm=(e,t)=>{let{decorationSet:n,index:o,matches:r}=vm(e);const i=r[o],a=r[t];if(o===t)return n;const s=dm(n,i),c=dm(n,a),l=[]
;return s&&l.push(s),c&&l.push(c),l.length>0&&(l.sort(((e,t)=>e.from<t.from?-1:1)),n=um(n,l,e.doc)),i&&(n=n.add(e.doc,[im(i.start,i.end)])),a&&(n=n.add(e.doc,[im(a.start,a.end,!0)])),n},km=({triggerMethod:e})=>Object(o("SVcB").c)((t=>({eventType:o("J5HJ").e.UI,action:o("J5HJ").a.ACTIVATED,actionSubject:o("J5HJ").b.FIND_REPLACE_DIALOG,attributes:{inputMethod:t.selection instanceof d.TextSelection&&!t.selection.empty?o("J5HJ").f.PREFILL:o("J5HJ").f.KEYBOARD,triggerMethod:e}})))((()=>bm((e=>{const{selection:t}=e;let n,o,r;if(t instanceof d.TextSelection&&!t.empty){n=function(e){let t="";const n=e.content().content;for(let o=0;o<n.childCount;o++)t+=n.child(o).textContent;return t}(t);const{shouldMatchCase:i}=vm(e);o=am(e.doc,n,i),r=sm(t.from,o)}return{type:tm.ACTIVATE,findText:n,matches:o,index:r}})))()),Im=({editorView:e,containerElement:t,keyword:n})=>Object(o("SVcB").c)({eventType:o("J5HJ").e.TRACK,action:o("J5HJ").a.FIND_PERFORMED,actionSubject:o("J5HJ").b.TEXT
})(((e,t,n)=>Object(o("+U5V").l)(bm((o=>{const{selection:r}=o,{shouldMatchCase:i}=vm(o),a=void 0!==n?am(o.doc,n,i):[],s=sm(r.from,a);return Om.applyAllSearchDecorations(e,t,(t=>Cm(t)(e.state,e.dispatch)),(t=>Tm(t)(e.state,e.dispatch))),{type:tm.FIND,findText:n||"",matches:a,index:s}}),((e,t)=>{const{selection:o}=t,{shouldMatchCase:r}=vm(t),i=void 0!==n?am(t.doc,n,r):[];if(i.length>0){const t=sm(o.from,i);return e.setSelection(lm(e.selection,e.doc,t,i))}return e}))))(e,t,n)),Am=({triggerMethod:e})=>Object(o("SVcB").c)({eventType:o("J5HJ").e.TRACK,action:o("J5HJ").a.FIND_NEXT_PERFORMED,actionSubject:o("J5HJ").b.TEXT,attributes:{triggerMethod:e}})((()=>Object(o("+U5V").l)(bm((e=>Sm(e,"next")),((e,t)=>{const{matches:n,index:o}=vm(t);let r=sm(t.selection.from,n);return r===o&&(r=cm(r,n.length)),e.setSelection(lm(e.selection,e.doc,r,n))}))))()),Nm=({triggerMethod:e})=>Object(o("SVcB").c)({eventType:o("J5HJ").e.TRACK,action:o("J5HJ").a.FIND_PREV_PERFORMED,actionSubject:o("J5HJ").b.TEXT,
attributes:{triggerMethod:e}})((()=>Object(o("+U5V").l)(bm((e=>Sm(e,"previous")),((e,t)=>{const{matches:n}=vm(t),o=sm(t.selection.from,n,!0);return e.setSelection(lm(e.selection,e.doc,o,n))}))))()),Mm=({triggerMethod:e,replaceText:t})=>Object(o("SVcB").c)({eventType:o("J5HJ").e.TRACK,action:o("J5HJ").a.REPLACED_ONE,actionSubject:o("J5HJ").b.TEXT,attributes:{triggerMethod:e}})((e=>Object(o("+U5V").l)(bm((t=>{const n=vm(t),{findText:o}=n;let{decorationSet:r,matches:i,index:a}=n;return r=xm(t,cm(a,i.length)),-1===e.toLowerCase().indexOf(o.toLowerCase())?(r=pm(r,[i[a]],t.doc),i.splice(a,1),a>i.length-1&&(a=0)):a=cm(a,i.length),{type:tm.REPLACE,replaceText:e,decorationSet:r,matches:i,index:a}}),((t,n)=>{const{matches:o,index:r,findText:i}=vm(n);if(o[r]){const{start:n,end:a}=o[r],s=cm(r,o.length);t.insertText(e,n,a).setSelection(lm(t.selection,t.doc,s,o,0===s?0:e.length-i.length))}return t}))))(t)),Rm=({replaceText:e})=>Object(o("SVcB").c)({eventType:o("J5HJ").e.TRACK,
action:o("J5HJ").a.REPLACED_ALL,actionSubject:o("J5HJ").b.TEXT})((e=>bm({type:tm.REPLACE_ALL,replaceText:e,decorationSet:ce.b.empty,matches:[],index:0},((t,n)=>(vm(n).matches.forEach((n=>{t.insertText(e,t.mapping.map(n.start),t.mapping.map(n.end))})),t.setMeta("scrollIntoView",!1),t))))(e)),jm=({triggerMethod:e})=>Object(o("SVcB").c)({eventType:o("J5HJ").e.UI,action:o("J5HJ").a.DEACTIVATED,actionSubject:o("J5HJ").b.FIND_REPLACE_DIALOG,attributes:{triggerMethod:e}})((()=>bm((()=>(Om.stop(),{type:tm.CANCEL}))))());var Pm=()=>{const e={};return Object(o("4Upw").bindKeymapWithCommand)(o("4Upw").find.common,(()=>(e,t)=>(km({triggerMethod:o("J5HJ").g.SHORTCUT})(e,t),!0))(),e),Object(oe.b)(e)};function Dm(e){return l.a.createElement(o("340+").a,e)}const Lm=Object(h.default)(Dm).withConfig({componentId:"sc-1tq49li-0"})`&&{margin-left:4px;}`,_m=h.default.hr.withConfig({componentId:"sc-1tq49li-1"
})`width:100%;border:none;background-color:${"rgba(9, 30, 66, 0.08)"};margin:4px 0px;height:1px;border-radius:1px;`,Bm=h.default.div.withConfig({componentId:"sc-1tq49li-2"})`display:flex;flex-direction:column;> *:not(${_m}){margin:0px 4px;}`,Hm=h.default.div.withConfig({componentId:"sc-1tq49li-3"})`display:flex;align-items:center;> *{flex:0 0 auto;display:inline-flex;height:32px;}`,Jm=h.default.span.withConfig({componentId:"sc-1tq49li-4"})`color:${"#B3BAC5"};font-size:${Object(o("9cwX").ib)(12)};flex:0 0 auto;justify-content:center;align-items:center;margin-left:4px;margin-right:8px;`;class $m extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"buttonRef",l.a.createRef()),s()(this,"handleClick",(()=>{this.props.onClick(this.buttonRef)}))}render(){const{title:e,icon:t,keymapDescription:n,disabled:r,isPressed:a}=this.props,s=i()({},"boolean"==typeof a&&{"aria-pressed":a});return l.a.createElement(o("Yto1").a,{content:l.a.createElement(o("4Upw").ToolTipContent,{
description:e,keymap:Object(o("4Upw").findKeymapByDescription)(n)}),hideTooltipOnClick:!0,position:"top"},l.a.createElement(o("340+").a,Re()({label:e,appearance:"subtle",testId:e,ref:this.buttonRef,iconBefore:t,isDisabled:r,onClick:this.handleClick,isSelected:a,shouldFitContainer:!0},s)))}}$m.displayName="FindReplaceTooltipButton",s()($m,"defaultProps",{keymapDescription:"no-keymap"});const Fm=Object(u.defineMessages)({find:{id:"fabric.editor.find",defaultMessage:"Find",description:"The word or phrase to search for on the document"},matchCase:{id:"fabric.editor.matchCase",defaultMessage:"Match case",description:"Toggle whether should also match case when searching for text"},findNext:{id:"fabric.editor.findNext",defaultMessage:"Find next",description:"Locate the next occurrence of the word or phrase that was searched for"},findPrevious:{id:"fabric.editor.findPrevious",defaultMessage:"Find previous",description:"Locate the previous occurrence of the word or phrase that was searched for"
},closeFindReplaceDialog:{id:"fabric.editor.closeFindReplaceDialog",defaultMessage:"Close",description:'Cancel search and close the "Find and Replace" dialog'},noResultsFound:{id:"fabric.editor.noResultsFound",defaultMessage:"No results",description:"No matches were found for the word or phrase that was searched for"},resultsCount:{id:"fabric.editor.resultsCount",description:"Text for selected search match position and total results count",defaultMessage:"{selectedMatchPosition} of {totalResultsCount}"}});class zm extends l.a.Component{constructor(e){super(e),s()(this,"findTextfieldRef",l.a.createRef()),s()(this,"isComposing",!1),s()(this,"skipWhileComposing",(e=>{this.isComposing||e()})),s()(this,"focusFindTextfield",(()=>{const e=this.findTextfieldRef.current;this.props.shouldFocus&&e&&e.select()})),s()(this,"handleFindChange",(e=>this.skipWhileComposing((()=>{this.updateFindValue(e.target.value)})))),s()(this,"updateFindValue",(e=>{this.props.onFind(e)})),
s()(this,"handleFindKeyDown",(e=>this.skipWhileComposing((()=>{"Enter"===e.key?e.shiftKey?this.props.onFindPrev({triggerMethod:o("J5HJ").g.KEYBOARD}):this.props.onFindNext({triggerMethod:o("J5HJ").g.KEYBOARD}):"ArrowDown"===e.key&&this.props.onArrowDown()})))),s()(this,"handleFindNextClick",(e=>this.skipWhileComposing((()=>{this.props.onFindNext({triggerMethod:o("J5HJ").g.BUTTON})})))),s()(this,"handleFindPrevClick",(e=>this.skipWhileComposing((()=>{this.props.onFindPrev({triggerMethod:o("J5HJ").g.BUTTON})})))),s()(this,"handleCompositionStart",(()=>{this.isComposing=!0})),s()(this,"handleCompositionEnd",(e=>{this.isComposing=!1,this.updateFindValue(e.target.value)})),s()(this,"clearSearch",(()=>{this.props.onCancel({triggerMethod:o("J5HJ").g.BUTTON})})),s()(this,"handleMatchCaseClick",(e=>{this.props.allowMatchCase&&this.props.onToggleMatchCase&&(this.props.onToggleMatchCase(),this.props.onFind(this.props.findText))}));const{intl:{formatMessage:t}}=e;this.find=t(Fm.find),
this.closeFindReplaceDialog=t(Fm.closeFindReplaceDialog),this.noResultsFound=t(Fm.noResultsFound),this.findNext=t(Fm.findNext),this.findPrevious=t(Fm.findPrevious),this.matchCase=t(Fm.matchCase),this.matchCaseIcon=l.a.createElement(o.n(o("Isu6")).a,{label:this.matchCase}),this.findNextIcon=l.a.createElement(o.n(o("SI9v")).a,{label:this.findNext}),this.findPrevIcon=l.a.createElement(o.n(o("X+Ng")).a,{label:this.findPrevious}),this.closeIcon=l.a.createElement(o.n(o("8m3F")).a,{label:this.closeFindReplaceDialog})}componentDidMount(){this.props.onFindTextfieldRefSet(this.findTextfieldRef),this.focusFindTextfield()}componentDidUpdate(){this.focusFindTextfield()}render(){const{findText:e,count:t,allowMatchCase:n,shouldMatchCase:r,intl:{formatMessage:i}}=this.props,a=i(Fm.resultsCount,{selectedMatchPosition:t.index+1,totalResultsCount:t.total});return l.a.createElement(Hm,null,l.a.createElement(o("I4Rc").a,{name:"find",appearance:"none",placeholder:this.find,value:e,ref:this.findTextfieldRef,
autoComplete:"off",onChange:this.handleFindChange,onKeyDown:this.handleFindKeyDown,onBlur:this.props.onFindBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),e&&l.a.createElement(Jm,null,0===t.total?this.noResultsFound:a),n&&l.a.createElement($m,{title:this.matchCase,icon:this.matchCaseIcon,onClick:this.handleMatchCaseClick,isPressed:r}),l.a.createElement($m,{title:this.findNext,icon:this.findNextIcon,keymapDescription:"Enter",onClick:this.handleFindNextClick,disabled:t.total<=1}),l.a.createElement($m,{title:this.findPrevious,icon:this.findPrevIcon,keymapDescription:"Shift Enter",onClick:this.handleFindPrevClick,disabled:t.total<=1}),l.a.createElement($m,{title:this.closeFindReplaceDialog,icon:this.closeIcon,keymapDescription:"Escape",onClick:this.clearSearch}))}}zm.displayName="Find";var Um=Object(u.injectIntl)(zm);const Vm=Object(u.defineMessages)({replaceWith:{id:"fabric.editor.replaceWith",defaultMessage:"Replace with",
description:"The value that will replace the word or phrase that was searched for"},replace:{id:"fabric.editor.replace",defaultMessage:"Replace",description:"Replace only the currently selected instance of the word or phrase"},replaceAll:{id:"fabric.editor.replaceAll",defaultMessage:"Replace all",description:"Replace all instances of the word or phrase throughout the entire document"}});class Wm extends l.a.PureComponent{constructor(e){super(e),s()(this,"replaceTextfieldRef",l.a.createRef()),s()(this,"skipWhileComposing",(e=>{this.state.isComposing||e()})),s()(this,"handleReplaceClick",(()=>this.skipWhileComposing((()=>{this.props.onReplace({triggerMethod:o("J5HJ").g.BUTTON,replaceText:this.state.replaceText})})))),s()(this,"handleReplaceChange",(e=>this.skipWhileComposing((()=>{this.updateReplaceValue(e.target.value)})))),s()(this,"updateReplaceValue",(e=>{const{dispatchAnalyticsEvent:t}=this.props;t&&t({eventType:o("J5HJ").e.TRACK,action:o("J5HJ").a.CHANGED_REPLACEMENT_TEXT,
actionSubject:o("J5HJ").b.FIND_REPLACE_DIALOG}),this.setState({replaceText:e})})),s()(this,"handleReplaceKeyDown",(e=>this.skipWhileComposing((()=>{"Enter"===e.key?this.props.onReplace({triggerMethod:o("J5HJ").g.KEYBOARD,replaceText:this.state.replaceText}):"ArrowUp"===e.key&&this.props.onArrowUp()})))),s()(this,"handleReplaceAllClick",(()=>this.skipWhileComposing((()=>{this.props.onReplaceAll({replaceText:this.state.replaceText})})))),s()(this,"handleCompositionStart",(()=>{this.setState({isComposing:!0})})),s()(this,"handleCompositionEnd",(e=>{this.setState({isComposing:!1}),this.updateReplaceValue(e.target.value)}));const{replaceText:t,intl:{formatMessage:n}}=e;this.state={replaceText:t||"",isComposing:!1},this.replaceWith=n(Vm.replaceWith),this.replace=n(Vm.replace),this.replaceAll=n(Vm.replaceAll)}componentDidMount(){this.props.onReplaceTextfieldRefSet(this.replaceTextfieldRef)}componentDidUpdate({replaceText:e}){const{replaceText:t}=this.props;t&&t!==e&&this.setState({
replaceText:t,isComposing:!1})}render(){const{replaceText:e}=this.state,{canReplace:t}=this.props;return l.a.createElement(Hm,null,l.a.createElement(o("I4Rc").a,{name:"replace",appearance:"none",placeholder:this.replaceWith,defaultValue:e,ref:this.replaceTextfieldRef,autoComplete:"off",onChange:this.handleReplaceChange,onKeyDown:this.handleReplaceKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),l.a.createElement(Lm,{testId:this.replace,onClick:this.handleReplaceClick,isDisabled:!t},this.replace),l.a.createElement(Lm,{testId:this.replaceAll,onClick:this.handleReplaceAllClick,isDisabled:!t},this.replaceAll))}}Wm.displayName="Replace";var Km=Object(u.injectIntl)(Wm);class qm extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"findTextfield",null),s()(this,"replaceTextfield",null),s()(this,"setFindTextfieldRef",(e=>{this.findTextfield=e.current})),s()(this,"setReplaceTextfieldRef",(e=>{this.replaceTextfield=e.current})),
s()(this,"setFocusToFind",(()=>{this.findTextfield&&this.findTextfield.focus()})),s()(this,"setFocusToReplace",(()=>{this.replaceTextfield&&this.replaceTextfield.focus()}))}render(){const{findText:e,count:t,shouldFocus:n,onFind:o,onFindBlur:r,onFindNext:i,onFindPrev:a,onCancel:s,replaceText:c,onReplace:d,onReplaceAll:u,dispatchAnalyticsEvent:p,allowMatchCase:h,shouldMatchCase:f,onToggleMatchCase:m}=this.props;return l.a.createElement(Bm,null,l.a.createElement(Um,{allowMatchCase:h,shouldMatchCase:f,onToggleMatchCase:m,findText:e,count:t,shouldFocus:n,onFind:o,onFindBlur:r,onFindPrev:a,onFindNext:i,onFindTextfieldRefSet:this.setFindTextfieldRef,onCancel:s,onArrowDown:this.setFocusToReplace}),l.a.createElement(_m,null),l.a.createElement(Km,{canReplace:t.total>0,replaceText:c,onReplace:d,onReplaceAll:u,onReplaceTextfieldRefSet:this.setReplaceTextfieldRef,onArrowUp:this.setFocusToFind,dispatchAnalyticsEvent:p}))}}qm.displayName="FindReplace";var Gm=qm;const Ym=h.default.div.withConfig({
componentId:"sc-1ci8det-0"})`display:flex;flex:1 1 auto;flex-grow:${e=>e.takeFullWidth?1:0};justify-content:flex-end;align-items:center;padding:0 8px;@media (max-width:${o("9cwX").A}px){justify-content:center;padding:0;}`,Xm=h.default.div.withConfig({componentId:"sc-1ci8det-1"})`display:flex;flex-direction:column;`,Qm=Object(u.defineMessages)({findReplaceToolbarButton:{id:"fabric.editor.findReplaceToolbarButton",defaultMessage:"Find and replace",description:'"Find" highlights all instances of a word or phrase on the document, and "Replace" changes one or all of those instances to something else'}});class Zm extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"handleKeydown",(e=>{e.metaKey&&"f"===e.key&&e.preventDefault()})),s()(this,"toggleOpen",(()=>{this.props.isActive?this.props.onCancel({triggerMethod:o("J5HJ").g.TOOLBAR}):this.props.onActivate()}))}componentDidMount(){window.addEventListener("keydown",this.handleKeydown)}componentWillUnmount(){
window.removeEventListener("keydown",this.handleKeydown)}render(){const{popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:n,isReducedSpacing:r,findText:i,replaceText:a,isActive:s,index:c,numMatches:d,intl:{formatMessage:u},takeFullWidth:p}=this.props,h=u(Qm.findReplaceToolbarButton),f=o("9cwX").p-1;return l.a.createElement(Ym,{takeFullWidth:p},l.a.createElement(o("pYeG").a,{mountTo:e,boundariesElement:t,scrollableElement:n,isOpen:s,handleEscapeKeydown:()=>{s&&this.props.onCancel({triggerMethod:o("J5HJ").g.KEYBOARD})},fitWidth:352,zIndex:f,trigger:l.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.FIND_REPLACE,spacing:r?"none":"default",selected:s,title:l.a.createElement(o("4Upw").ToolTipContent,{description:h,keymap:Object(o("4Upw").findKeymapByDescription)("Find")}),iconBefore:l.a.createElement(o.n(o("kITC")).a,{label:h}),onClick:this.toggleOpen})},l.a.createElement(Xm,null,l.a.createElement(Gm,Re()({findText:i,replaceText:a,count:{index:c,total:d}},this.props)))))
}}Zm.displayName="FindReplaceToolbarButton";var eg=Object(u.injectIntl)(Zm);var tg=e=>({name:"findReplace",pmPlugins:()=>[{name:"findReplace",plugin:({dispatch:e})=>(e=>new d.Plugin({key:om,state:ym(e,(()=>gm)),props:{decorations(e){const{isActive:t,findText:n,decorationSet:o}=vm(e);if(t&&n)return o}}}))(e)},{name:"findReplaceKeymap",plugin:()=>Pm()}],primaryToolbarComponent({popupsBoundariesElement:t,popupsMountPoint:n,popupsScrollableElement:r,isToolbarReducedSpacing:i,editorView:a,containerElement:s,dispatchAnalyticsEvent:c}){const d=e=>{const t=document.activeElement;a.focus(),e(),null==t||t.focus()},u=e=>{const{state:t,dispatch:n}=a;e(t,n)},p=()=>{d((()=>u(km({triggerMethod:o("J5HJ").g.TOOLBAR}))))},h=e=>{d((()=>u(Im({editorView:a,containerElement:s,keyword:e}))))},f=({triggerMethod:e})=>{d((()=>u(Am({triggerMethod:e}))))},m=({triggerMethod:e})=>{d((()=>u(Nm({triggerMethod:e}))))},g=({triggerMethod:e,replaceText:t})=>{d((()=>u(Mm({triggerMethod:e,replaceText:t}))))
},b=({replaceText:e})=>{d((()=>u(Rm({replaceText:e}))))},v=()=>{u((()=>bm({type:tm.BLUR}))())},y=({triggerMethod:e})=>{u(jm({triggerMethod:e})),a.focus()},E=()=>{u((()=>bm({type:tm.TOGGLE_MATCH_CASE}))())},{findReplaceMatchCase:w}=Object(o("37L4").b)(a.state);return l.a.createElement(o("fd7e").a,{debounce:!1,plugins:{findReplaceState:om},render:({findReplaceState:o})=>l.a.createElement(eg,{allowMatchCase:w,shouldMatchCase:o.shouldMatchCase,onToggleMatchCase:E,isActive:o.isActive,findText:o.findText,index:o.index,numMatches:o.matches.length,replaceText:o.replaceText,shouldFocus:o.shouldFocus,popupsBoundariesElement:t,popupsMountPoint:n,popupsScrollableElement:r,isReducedSpacing:i,dispatchAnalyticsEvent:c,onFindBlur:v,onCancel:y,onActivate:p,onFind:h,onFindNext:f,onFindPrev:m,onReplace:g,onReplaceAll:b,takeFullWidth:e.takeFullWidth})})}});const ng=new d.PluginKey("codeBidiWarningPlugin");const{createPluginState:og,getPluginState:rg}=Object(o("FJah").a)(ng,((e,t)=>e),{
onDocChanged:(e,t)=>{if(!e.steps.find(di))return t;const n=ig({doc:e.doc,codeBidiWarningLabel:t.codeBidiWarningLabel});return i()(i()({},t),{},{decorationSet:n})}});function ig({doc:e,codeBidiWarningLabel:t}){const n=[];if(e.descendants(((e,t)=>{if("text"===e.type.name&&e.marks&&e.marks.some((e=>"code"===e.type.name)))return Object(o("Q+q7").a)(e.textContent,(({bidiCharacter:e,index:o})=>{n.push({position:t+o,bidiCharacter:e})})),!1;"codeBlock"===e.type.name&&Object(o("Q+q7").a)(e.textContent,(({bidiCharacter:e,index:o})=>{n.push({position:t+o+1,bidiCharacter:e})}))})),0===n.length)return ce.b.empty;return ce.b.create(e,n.map((({position:e,bidiCharacter:n})=>ce.a.widget(e,(()=>function(e,t){const n=document.createElement("span");return Ie.a.render(l.a.createElement(o("HDAP").a,{bidiCharacter:e,skipChildren:!0,label:t}),n),n}(n,t))))))}var ag=()=>({name:"codeBidiWarning",pmPlugins:()=>[{name:"codeBidiWarning",plugin:e=>(({dispatch:e,reactContext:t})=>{
const n=t().intl.formatMessage(o("XXJR").a.label);return new d.Plugin({key:ng,state:og(e,(e=>({decorationSet:ig({doc:e.doc,codeBidiWarningLabel:n}),codeBidiWarningLabel:n}))),props:{decorations:e=>{const{decorationSet:t}=rg(e);return t}}})})(e)}]});function sg(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}function cg(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}function lg(...e){return t=>{let n=!0;return t.content.descendants((t=>(n=n&&e.indexOf(t.type)>-1,n))),n}}function dg(e,t){return n=>{const{marks:{code:o,link:r,annotation:i}}=e;if(!Array.isArray(t)||0===t.length)return n;const a=Je.Slice.fromJSON(e,n.toJSON()||{}),s=[r,i];return a.content.descendants(((e,n,i)=>!(e.isText&&i&&i.isBlock)||(e.marks=[...e.marks&&!o.isInSet(t)&&e.marks.filter((e=>s.includes(e.type)))||[],...i.type.allowedMarks(t).filter((e=>e.type!==r))],!1))),a}}function ug(e){if(!e)return!1;const{type:t}=e,n=t.createAndFill()
;return n&&n.nodeSize===e.nodeSize&&n.content.eq(e.content)&&Je.Mark.sameSet(n.marks,e.marks)}function pg(e){if(e instanceof d.NodeSelection&&function(e){return Boolean(e&&"panel"===e.type.name)}(e.node))return e.node;const{doc:{type:{schema:{nodes:{panel:t}}}}}=e.$from,n=Object(p.findParentNodeOfType)(t)(e);return n?n.node:null}const hg=e=>!!e&&(e.includes("</a></a>")||e.includes('"></a><a'));function fg(e){const t=Object(o("n8Jk").d)(Je.Fragment.from(e),(e=>(e=>e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn)(e)?e.content:e)),n=[];return t.forEach((e=>n.push(e))),n}function mg(e,t){return 0===t?fg(e):e}function gg(e,t,n){return t===n.childCount-1?fg(e):e}const bg=e=>{const{schema:t}=e.type;if(e.type===t.nodes.table){const n=[],{tableCell:o,tableHeader:r}=t.nodes;return e.descendants((e=>(e.type!==o&&e.type!==r||n.push(...Object(p.flatten)(e,!1).map((e=>e.node))),!0))),n}return e},vg=(e,t)=>0===t?bg(e):e,yg=(e,t,n)=>t===n.childCount-1?bg(e):e
;function Eg({tr:e,slice:t}){const{selection:n,selection:{$to:r,$from:i}}=e,{$cursor:a}=n,s=pg(n),c=i.blockRange(r,o("EvmU").d);return!a&&c?function({tr:e,slice:t}){const{selection:{$to:n,$from:o,to:r,from:i}}=e;if(o.sameParent(n)||o.depth===n.depth)return e.replaceSelection(t);const a=o.blockRange(n);if(!a)return;const s=i,c=n.nodeAfter?r:r+2,l=e.doc.slice(c,a.end);e.deleteRange(s,a.end);const u=e.mapping.map(s);if(e.replaceRange(u,u,t),l.size<=0)return;const p=d.TextSelection.near(e.doc.resolve(e.mapping.map(u)),-1);l.openEnd=l.openStart,e.replaceRange(p.from,p.from,l),e.setSelection(d.TextSelection.near(e.doc.resolve(p.from),-1))}({tr:e,slice:t}):s&&ug(s)&&i.node()===r.node()?function(e){return({tr:t,slice:n})=>{const{selection:r,selection:{$to:i,$from:a}}=t,{from:s}=r;if(e&&!e.type.validContent(Je.Fragment.from(n.content))){var c;const e=i.pos+1;t.replaceRange(e,e,n);const r=t.doc.resolve(a.before()).node()
;if(r&&r.childCount>1&&"paragraph"===(null===(c=r.firstChild)||void 0===c?void 0:c.type.name)&&Object(o("x+VZ").h)(r.firstChild)){const e=t.doc.resolve(a.before()).posAtIndex(0),n=t.doc.resolve(a.before()).posAtIndex(1);n-e==2&&t.delete(e,n)}return void t.setSelection(d.TextSelection.near(t.doc.resolve(e+n.content.size-n.openStart-n.openEnd+1)))}const l=new Xt.i(t.doc.type.createAndFill());l.replaceRange(0,l.doc.content.size,n);const u=l.doc.slice(0),p=e.copy(u.content),h=r instanceof d.NodeSelection?r.node:null,f=h?s:t.doc.resolve(s).start(),m=h?s+h.nodeSize:f;t.replaceRangeWith(f,m,p),t.setSelection(d.TextSelection.near(t.doc.resolve(a.pos+p.content.size),-1))}}(s)({tr:e,slice:t}):!a||c?e.replaceSelection(t):ug(e.doc.resolve(a.pos).node())?function({tr:e,slice:t}){e.replaceSelection(t)}({tr:e,slice:t}):function(e){return e instanceof d.TextSelection&&e.empty&&e.$cursor&&(!e.$cursor.nodeBefore||!e.$cursor.nodeAfter)}(n)?function({tr:e,slice:t}){const{selection:n}=e,{$cursor:o}=n
;if(!o)return;const r=o.nodeBefore?o.after():o.before();e.replaceRange(r,r,t);const i=e.doc.resolve(Math.min(r+t.content.size-t.openEnd,e.doc.content.size));e.setSelection(d.TextSelection.near(i,-1))}({tr:e,slice:t}):void e.replaceSelection(t)}function wg(e){return(t,n)=>{const{schema:r,tr:{selection:i}}=t,{marks:{code:a},nodes:{decisionItem:s,decisionList:c,emoji:l,hardBreak:u,mention:h,paragraph:f,taskList:m,taskItem:g,text:b}}=r;if(!(s&&c&&m&&g&&Object(p.hasParentNodeOfType)([s,g])(t.selection)))return!1;const v=[Object(o("CHQz").e)(r)],y=i.$head.marks(),E=o("6VYC").a.getState(t);i instanceof d.TextSelection&&Array.isArray(y)&&y.length>0&&lg(f,b,l,h,u)(e)&&(!a.isInSet(y)||E.codeActive)&&v.push(dg(r,i.$head.marks()));const w=o("D4z0").e.apply(null,v)(e),O=Object(Eh.a)(t.tr).replaceSelection(w).scrollIntoView();return Object(o("X6Aa").e)(t,O,o("J5HJ").f.CLIPBOARD),n&&n(O),!0}}function Og(e){return(t,n)=>{const{schema:r,selection:i,selection:{from:a,to:s},tr:c}=t;let l
;if(1===e.content.childCount&&Object(o("Dc6L").e)(e.content.child(0),r)){const t=e.content.child(0);if(1===t.content.childCount&&Object(o("Dc6L").g)(t.content.child(0),r)){const e=t.content.child(0);l=e.marks.find((t=>Object(o("Dc6L").c)(t,r)&&t.attrs.href===e.text))}}return!!(l&&i instanceof d.TextSelection&&!i.empty&&Object(o("E3sl").c)(a,s)(t))&&(c.addMark(a,s,l),n&&n(c),!0)}}function Sg(e,t){return(t,n,r)=>{if(r&&r.shiftKey){let r=Object(Eh.a)(t.tr);const{selection:i}=r;return r=qs(t,e,o("J5HJ").f.CLIPBOARD),r.docChanged||r.replaceSelection(e),(t.storedMarks||[]).forEach((t=>{r.addMark(i.from,i.from+e.size,t)})),r.scrollIntoView(),n&&n(r),!0}return!1}}function Cg(e){return(t,n)=>{const{schema:r,tr:{selection:i}}=t,{marks:{code:a,link:s},nodes:{bulletList:c,emoji:l,hardBreak:u,heading:p,listItem:h,mention:f,orderedList:m,paragraph:g,text:b}}=r;if(!(i instanceof d.TextSelection))return!1;const v=i.$head.marks();if(0===v.length)return!1;const y=o("6VYC").a.getState(t)
;if(a.isInSet(v)&&!y.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===g&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===b&&s.isInSet(v)&&1===v.length){const r=Object(Eh.a)(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(v).scrollIntoView();return Object(o("X6Aa").e)(t,r,o("J5HJ").f.CLIPBOARD),n&&n(r),!0}if(lg(c,u,p,h,g,b,l,f,m)(e)){const i=dg(r,v)(e),a=Object(Eh.a)(t.tr).replaceSelection(i).setStoredMarks(v).scrollIntoView();return Object(o("X6Aa").e)(t,a,o("J5HJ").f.CLIPBOARD),n&&n(a),!0}return!1}}function Tg(e,t,n){if(n){const o=n.state.tr.selection,r=n.state.tr.replaceSelection(e),i=r.mapping.map(o.from,-1);return n.dispatch(r),n.dispatch(Object(Eh.a)(n.state.tr).replaceRangeWith(i,i+e.size,t).scrollIntoView()),!0}return!1}function xg(e,t,n,r){return(i,a,s)=>{let c=null;if(r){const t=r(e);t&&(c=Je.Node.fromJSON(i.schema,t))}return c||(c=Object(o("JkFw").b)(i,e)),
c?n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length?n.resolveBeforeMacros.indexOf(c.attrs.extensionKey)<0?Tg(t,c,s):(async function(e,t,n){if(!n.provider)throw Error("No card provider found");const o=await n.provider;return await o.resolve(e,t)}(e,"inline",n).then((e=>{if(!s)throw new Error("Missing view");const{schema:t,tr:n}=s.state,r=Object(o("x+VZ").m)(t,e);if(!r)throw new Error("Received invalid ADF from CardProvider");s.dispatch(Object(o("X6Aa").d)(n,r,t))})).catch((()=>Tg(t,c,s))),!0):Tg(t,c,s):!!c}}function kg(e){return(t,n)=>{const{codeBlock:o}=t.schema.nodes;if(e&&Object(p.hasParentNodeOfType)(o)(t.selection)){const o=Object(Eh.a)(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}function Ig(t){return(n,r)=>{if(!Object(o("D4z0").i)(n))return!1;const{expand:i,nestedExpand:a}=n.schema.nodes;let{tr:s}=n,c=!1;const l=Object(o("n8Jk").e)(t,(t=>{if(t.type===i){c=!0;try{return a.createChecked(t.attrs,t.content,t.marks)}catch(e){
return s=Object(p.safeInsert)(t,s.selection.$to.pos)(s),Je.Fragment.empty}}return t}));return!(!c||!r)&&(t.openStart>1&&t.openEnd>1?r(s.replaceSelection(l)):r(Object(p.safeInsert)(l.content)(s)),!0)}}function Ag(e){return(t,n)=>{const r=Object(Eh.a)(t.tr);return r.replaceSelection(e),Object(o("X6Aa").e)(t,r,o("J5HJ").f.CLIPBOARD),n&&n(r.scrollIntoView()),!0}}function Ng(e,t){e.content.forEach((e=>{Object(o("EvmU").d)(e)||Object(o("EvmU").c)(e)&&Object(o("EvmU").d)(e.firstChild)?Ng(e,t):t.push(e)}))}function Mg(e,t){if(0===t.content.size)return t;const{schema:n,selection:{$from:r}}=e;if(!function(e){let t=!1;return e.content.descendants((e=>(e.marks.length>0&&(t=!0),!1))),t}(t))return t;const i=r.parent.textContent.length>0;if(1===t.content.childCount&&i)return t;const a=r.node(Math.max(0,r.depth-1)),s=function(e){const t=new Set;return e.content.descendants((e=>(e.marks.map((e=>e.type)).forEach((e=>t.add(e))),!1))),t}(t);let c=[];for(let o of s)a.type.allowsMarkType(o)||c.push(o)
;if(0===c.length){const e=Math.max(0,t.openStart-1);return new Je.Slice(t.content,e,t.openEnd)}return Object(o("n8Jk").e)(t,(e=>e.type===n.nodes.paragraph?n.nodes.paragraph.createChecked(void 0,e.content,e.marks.filter((e=>!c.includes(e.type)))):e))}function Rg(e){if(!e.content.firstChild)return e;const t=e.content.firstChild,n=[];Ng(t,n);const o=e.content.replaceChild(0,t.type.createChecked(t.attrs,n));return new Je.Slice(o,e.openEnd,e.openEnd)}function jg(e){return(t,n)=>{var r;const{codeBlock:i,panel:a}=t.schema.nodes;let s=t.tr;(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((t=>t.type===e.schema.marks.code))})(t,e)&&function(e){const{$from:{nodeBefore:t},from:n}=e.selection;t&&t.isText&&t.text.endsWith("`")&&e.delete(n-1,n)}(s),function(e,t){const n=t.content.firstChild;return n&&Object(o("D4z0").i)(e)&&Object(o("EvmU").d)(n)&&t.openStart>t.openEnd}(t,e)&&(e=Rg(e)),Object(Eh.a)(s);let c=Object(p.findParentNodeOfType)(a)(s.selection)
;const l=Object(o("EvmU").d)(e.content.firstChild),u=Object(o("EvmU").d)(e.content.lastChild),h=l||u,f=c&&2===(null===(r=c.node)||void 0===r?void 0:r.content.size);return h||f?Eg({tr:s,slice:e}):function(e,t,n){let o=Object(p.findParentNodeOfType)(n)(e.selection);if(e.selection.$from===e.selection.$to&&o&&!o.node.textContent){e=Object(p.safeInsert)(t.content,e.selection.$to.pos)(e);const o=Object(p.findParentNodeOfType)(n)(e.selection);o&&e.setSelection(d.TextSelection.near(e.doc.resolve(o.pos+o.node.nodeSize)))}else e.replaceSelection(t)}(s,e,a),s.setStoredMarks([]),s.selection.empty&&s.selection.$from.parent.type===i&&s.setSelection(d.TextSelection.near(s.selection.$from,1)),s.scrollIntoView(),n&&n(Object(o("X6Aa").e)(t,s,o("J5HJ").f.CLIPBOARD)),!0}}const Pg=e=>(t,n)=>{const r=qs(t,e,o("J5HJ").f.CLIPBOARD);return!!r.docChanged&&(n&&n(r),!0)};function Dg(e){const t=[];return e.forEach((e=>{if(e.type===e.type.schema.nodes.codeBlock){const n=t[t.length-1]
;if(n&&n.type===e.type)return t.push(function(e,t){const n=`${e.textContent}\n${t.textContent}`;return e.type.create(e.attrs,e.type.schema.text(n))}(t.pop(),e))}return t.push(e)})),Je.Fragment.from(t)}const Lg=(e,t)=>{const{codeBlock:n}=e.schema.nodes;return Object(p.findSelectedNodeOfType)(n)(t||e.selection)||Object(p.findParentNodeOfType)(n)(t||e.selection)},_g={url:o("t73I").a.url,paragraph:o("t73I").a.text,bulletList:o("t73I").a.bulletList,orderedList:o("t73I").a.orderedList,heading:o("t73I").a.heading,blockquote:o("t73I").a.blockquote,codeBlock:o("t73I").a.codeBlock,panel:o("t73I").a.panel,rule:o("t73I").a.rule,mediaSingle:o("t73I").a.mediaSingle,mediaCard:o("t73I").a.mediaCard,mediaGroup:o("t73I").a.mediaGroup,table:o("t73I").a.table,tableCells:o("t73I").a.tableCells,tableHeader:o("t73I").a.tableHeader,tableRow:o("t73I").a.tableRow,decisionList:o("t73I").a.decisionList,decisionItem:o("t73I").a.decisionItem,taskList:o("t73I").a.taskItem,extension:o("t73I").a.extension,
bodiedExtension:o("t73I").a.bodiedExtension,blockCard:o("t73I").a.blockCard,layoutSection:o("t73I").a.layoutSection},Bg={blockquote:o("J5HJ").c.PASTE_BLOCKQUOTE,blockCard:o("J5HJ").c.PASTE_BLOCK_CARD,bodiedExtension:o("J5HJ").c.PASTE_BODIED_EXTENSION,bulletList:o("J5HJ").c.PASTE_BULLET_LIST,codeBlock:o("J5HJ").c.PASTE_CODE_BLOCK,decisionList:o("J5HJ").c.PASTE_DECISION_LIST,extension:o("J5HJ").c.PASTE_EXTENSION,heading:o("J5HJ").c.PASTE_HEADING,mediaGroup:o("J5HJ").c.PASTE_MEDIA_GROUP,mediaSingle:o("J5HJ").c.PASTE_MEDIA_SINGLE,orderedList:o("J5HJ").c.PASTE_ORDERED_LIST,panel:o("J5HJ").c.PASTE_PANEL,rule:o("J5HJ").c.PASTE_RULE,table:o("J5HJ").c.PASTE_TABLE,tableCell:o("J5HJ").c.PASTE_TABLE_CELL,tableHeader:o("J5HJ").c.PASTE_TABLE_HEADER,tableRow:o("J5HJ").c.PASTE_TABLE_ROW,taskList:o("J5HJ").c.PASTE_TASK_LIST};function Hg(e){
const{state:{selection:t,schema:{nodes:{paragraph:n,listItem:r,taskItem:i,decisionItem:a}}}}=e,s=Object(p.findParentNode)((e=>e.type!==n&&e.type!==r&&e.type!==i&&e.type!==a))(t);if(!s)return o("J5HJ").c.PASTE_PARAGRAPH;const c=s.node.type,l=Bg[c.name];return l||o("J5HJ").c.PASTE_PARAGRAPH}function Jg(e,t,n){return i()({action:o("J5HJ").a.PASTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:e,eventType:o("J5HJ").e.TRACK,attributes:i()({inputMethod:o("J5HJ").f.KEYBOARD},t)},n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{})}function $g(e,t,n,r){const i=t.clipboardData?t.clipboardData.getData("text/plain")||t.clipboardData.getData("text/uri-list"):"",a=Hg(e);if(r.asPlain)return function(e,t){return{action:o("J5HJ").a.PASTED_AS_PLAIN,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:e,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.KEYBOARD,pasteSize:t.length}}}(a,i);const s=function(e){const t=e.clipboardData.getData("text/html");return function(e){
return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":sg(t)?"microsoft-word":cg(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}(t);if(r.type===o("t73I").b.plain)return Jg(a,{pasteSize:i.length,type:r.type,content:o("t73I").a.text,source:s,hyperlinkPasteOnText:!1});const c=n.size,l=function(e,t){const{schema:{nodes:{paragraph:n},marks:{link:r}}}=e,i=new Set;if(t.content.forEach((e=>{e.type===n&&0===e.content.size||("text"===e.type.name&&r.isInSet(e.marks)||e.type===n&&e.rangeHasMark(0,e.nodeSize-2,r)?i.add("url"):i.add(e.type.name))})),i.size>1)return o("t73I").a.mixed;if(0===i.size)return o("t73I").a.uncategorized;const a=i.values().next().value
;return _g[a]||o("t73I").a.uncategorized}(e.state,n),d=[];l!==o("t73I").a.url&&l!==o("t73I").a.mixed||Object(o("n8Jk").e)(n,(e=>{const t=e.marks.find((e=>"link"===e.type.name));return t&&d.push(t.attrs.href),e}));const u=d.map(o("CHQz").b);return Jg(a,{type:r.type,pasteSize:c,content:l,source:s,hyperlinkPasteOnText:!!r.hyperlinkPasteOnText},u)}function Fg(e,t,n,r){const i=$g(e,t,n,r);e.dispatch(Object(o("SVcB").a)(e.state,e.state.tr,i))}function zg(e,t,n,r){return Object(o("SVcB").c)((()=>$g(e,t,n,r)))}const Ug=(e,t,n,r)=>Object(o("D4z0").u)(function(e){return function(t){return(n,r,i)=>{if(i){if(function(e,t){const{media:n}=e.schema.nodes;return 1===t.content.childCount&&t.content.firstChild.type===n}(n,t))return Object(o("ZPHY").b)(i,t.content.firstChild,e);if(Object(o("D4z0").i)(n)&&function(e,t){const{mediaSingle:n}=e.schema.nodes;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(n,t)){
const e=n.tr.replaceSelection(t),i=e.doc.resolve(e.mapping.map(n.selection.$from.pos));return r&&r(e.setSelection(new(o("g1AK").a)(i,o("g1AK").b.RIGHT))),!0}}return!1}}}(o("J5HJ").f.CLIPBOARD),zg(e,t,n,{type:r}))(n),Vg=(e,t,n,r)=>Object(o("D4z0").u)(Cg,zg(e,t,n,{type:r}))(n),Wg=(e,t,n,r)=>Object(o("D4z0").u)(Og,zg(e,t,n,{type:r,hyperlinkPasteOnText:!0}))(n),Kg=e=>{let t=new Set;return e.size&&e.forEach((e=>{e.content&&e.content.size&&(t=new Set([...t,...Kg(e.content)])),t.add(e.type.name)})),Array.from(t)},qg=new d.PluginKey("betterTypeHistoryPlugin");var Gg=()=>new d.Plugin({key:qg,appendTransaction:(e,t,n)=>{if(e.find((e=>e.getMeta(qg))))return Object(Eh.a)(n.tr);const o=(e=>{const t=1===e.length&&e[0];if(!(t&&t.docChanged&&t.isGeneric&&t.selection instanceof d.TextSelection))return null;const{selection:n,steps:o}=t,r=o.filter((e=>e instanceof Xt.e||e instanceof Xt.d));return n.$cursor&&1===r.length?r[0]:null})(e);if(!o)return
;const r=(e=>e instanceof Xt.e||e instanceof Xt.d?e.slice:null)(o),{schema:i}=n;return r&&((e=>{if(!(e.size>1&&2===e.content.childCount))return!1;const t=e.content.child(0),n=e.content.child(1);return t&&n&&t.type===n.type})(r)||((e,t)=>{const n=Je.Fragment.from(t.text("\n"));return e.content.eq(n)})(r,i))?Object(Eh.a)(n.tr):void 0}});const Yg=new d.PluginKey("pastePlugin");function Xg(t,n,r,a,s){const c=new(o("HuUl").a)(t,o("Lb0w").a);let l;return s&&s.subscribe("extensionProvider",(async function(t,n){if("extensionProvider"===t&&n)try{l=await Object(o("x1JX").d)(n)}catch(e){console.error(e)}})),new d.Plugin({key:Yg,props:{handlePaste(e,a,s){var d,u;const p=a;if(!p.clipboardData)return!1;let h=p.clipboardData.getData("text/plain");const f=p.clipboardData.getData("text/html"),m=p.clipboardData.getData("text/uri-list");!m||h||f||(h=m,s=new Je.Slice(Je.Fragment.from(t.text(h)),1,1));const g=nd(p),b=h&&!f,v=!!f;if(g){if(!f)return!0;if(function(e){
return!!e.match(/<img .*>/)&&!Object(o("WUE1").c)(e)}(f))return!0;p.stopPropagation()}const{state:y}=e,E=o("8tqJ").a.getState(y);if(null==E||null===(d=E.performanceTracking)||void 0===d||null===(u=d.pasteTracking)||void 0===u?void 0:u.enabled){const t=Kg(s.content),r=Ys()(),i=`${o("lZxZ").a.PASTE}_${r}`;Object(o("Xvyu").a)(i,(r=>{const i=((e,t,n)=>{const r=Hg(e);return{action:o("J5HJ").a.PASTED_TIMED,actionSubject:o("J5HJ").b.EDITOR,eventType:o("J5HJ").e.OPERATIONAL,attributes:{pasteIntoNode:r,content:n,time:t}}})(e,r,t);i&&n(i)}))}const w=t=>{var n;const{placeholder:o}=y.schema.nodes;(null===(n=y.doc.resolve(y.selection.$anchor.pos).nodeAfter)||void 0===n?void 0:n.type)!==o&&t.setMeta(qg,!0),e.dispatch(t)};if(s=Mg(y,s),((e,t,n)=>Object(o("D4z0").u)(Sg,zg(e,t,n,{type:o("t73I").b.plain,asPlain:!0}))(n,t))(e,p,s)(y,w,e))return!0;let O;if(s=Object(o("ZPHY").e)(s,t)(y.selection),b&&(O=function(e,t,n){let o=e;o.includes(":\\\\")&&(o=o.replace(/:\\\\/g,":\\\\\\\\"))
;const r=c.parse(function(e){return e.replace(/(\[([^\]]+)\]\()?((https?|ftp):\/\/[^\s]+)/g,(e=>e.match(/^(https?|ftp):\/\/[^\s]+$/)?`<${e}>`:e))}(o));if(r&&r.content)return new Je.Slice(r.content,t,n)}(h,s.openStart,s.openEnd),O)){if(Wg(e,p,O,o("t73I").b.markdown)(y,w))return!0;if(xg(h,O,r,l)(y,w,e))return Fg(e,p,O,{type:o("t73I").b.markdown}),!0}return s=Object(o("osj6").e)(s,y),!!((e,t,n,r)=>Object(o("D4z0").u)(wg,zg(e,t,n,{type:r}))(n))(e,p,s,b?o("t73I").b.plain:o("t73I").b.richText)(y,w)||(!!((e,t,n,r)=>Object(o("D4z0").u)(kg,zg(e,t,n,{type:o("t73I").b.plain}))(r))(e,p,s,h)(y,w)||(!!Ug(e,p,s,g?o("t73I").b.binary:o("t73I").b.richText)(y,w,e)||(!!((e,t,n)=>Object(o("D4z0").u)(Pg,zg(e,t,n,{type:o("t73I").b.richText}))(n))(e,p,s)(y,w)||(b&&O?!!Vg(e,p,O,o("t73I").b.markdown)(y,w)||((e,t,n)=>Object(o("D4z0").u)(Ag,zg(e,t,n,{type:o("t73I").b.markdown}))(n))(e,p,O)(y,w):!!v&&(s=Object(o("CHQz").e)(y.schema)(s),!!Wg(e,p,s,o("t73I").b.richText)(y,w)||(xg(h,s,r,l)(y,w,e)?(Fg(e,p,s,{
type:o("t73I").b.richText}),!0):(!Object(o("D4z0").i)(y)&&function(e){const t=Object(o("aTJx").c)(e);return t&&t.pluginConfig.isHeaderRowRequired}(y)&&(s=((e,t)=>{const{table:n,tableHeader:r,tableRow:i}=t.nodes;return Object(o("n8Jk").e)(e,(e=>{if(e.type===n){const t=e.firstChild;if(t){const n=[];t.forEach((e=>{n.push(r.createChecked(e.attrs,e.content,e.marks))}));const o=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,o))}}return e}))})(s,y.schema)),function(e){const t=Object(o("aTJx").c)(e);return t&&t.pluginConfig.allowColumnResizing}(y)||(s=((e,t)=>{const{tableHeader:n,tableCell:r}=t.nodes;return Object(o("n8Jk").e)(e,(e=>e.type!==r&&e.type!==n||!e.attrs.colwidth?e:e.type.createChecked(i()(i()({},e.attrs),{},{colwidth:void 0}),e.content,e.marks)))})(s,y.schema)),function(e){const t=Object(o("aTJx").c)(e);return t&&t.pluginConfig.allowBackgroundColor}(y)||(s=((e,t)=>{const{tableCell:n,tableHeader:r}=t.nodes;return Object(o("n8Jk").e)(e,(e=>{
if(e.type===n||e.type===r){const t=i()({},e.attrs);return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))})(s,y.schema)),Yt(e,0,s)?(Fg(e,p,s,{type:o("t73I").b.richText}),!0):(s.content.size&&Object(o("CAky").b)(s,y)&&Object(o("CAky").k)(s,y),!!Vg(e,p,s,o("t73I").b.richText)(y,w)||(!!((e,t,n)=>Object(o("D4z0").u)(Ig,zg(e,t,n,{type:o("t73I").b.richText}))(n))(e,p,s)(y,w)||(Object(o("D4z0").i)(y)||(s=Object(o("P8UZ").b)(s,y.schema)),((e,t,n)=>Object(o("D4z0").u)(jg,zg(e,t,n,{type:o("t73I").b.richText}))(n))(e,p,s)(y,w)))))))))))},transformPasted:e=>(a&&(e=function(e,t){return Object(o("n8Jk").e)(e,(e=>{if(e.type.name===t.nodes.mention.name){const n=e.attrs,o=i()(i()({},n),{},{text:""});return t.nodes.mention.create(o,e.content,e.marks)}return e}))}(e,t)),e=function(e,t){if(e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection)return new Je.Slice(Object(o("n8Jk").a)(e.content,mg),e.openStart-2,e.openEnd-2)
;return e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new Je.Slice(Object(o("n8Jk").a)(e.content,mg),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new Je.Slice(Object(o("n8Jk").a)(e.content,gg),e.openStart,e.openEnd-2)),e}(e=((e,t)=>{const{paragraph:n,table:o,hardBreak:r}=t.nodes,i=n.createAndFill(),a=r.createAndFill(),s=(i?i.nodeSize:0)+(a?a.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===n&&e.content.lastChild.nodeSize===s){const t=bg(e.content.firstChild);if(t instanceof Array)return new Je.Slice(Je.Fragment.from(t[0]),e.openStart,e.openEnd)}return e})(e,t),t),e=((e,t)=>{if(1===e.content.childCount&&(e.openStart||e.openEnd)){const n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new Je.Slice(Je.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}
return e})(e=function(e){return e=Object(o("n8Jk").e)(e,(e=>e.isBlock&&!e.isTextblock?e.copy(Dg(e.content)):e)),new Je.Slice(Dg(e.content),e.openStart,e.openEnd)}(e=((e,t)=>{const{bodiedExtension:n}=t.nodes,r=Object(o("n8Jk").d)(e.content,((t,o,r)=>{if(t.type===n&&!o){const n=e.openStart&&0===r,o=e.openEnd&&r+1===e.content.childCount;if(n||o)return t.content}return t}));return new Je.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)
})(e=((e,t)=>e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table?new Je.Slice(Object(o("n8Jk").a)(e.content,bg),e.openStart-3,e.openEnd-3):e.openStart>=4&&e.content.firstChild.type===t.nodes.table?new Je.Slice(Object(o("n8Jk").a)(e.content,vg),e.openStart-3,e.openEnd):e.openEnd>=4&&e.content.lastChild.type===t.nodes.table?new Je.Slice(Object(o("n8Jk").a)(e.content,yg),e.openStart,e.openEnd-3):e)(e=Object(o("P8UZ").c)(e,t),t),t)),t),e=((e,t)=>{const n=e.content.firstChild;if(1===e.content.childCount&&n&&"decisionItem"===n.type.name){const o=t.nodes.decisionList.create({},n);return new Je.Slice(Je.Fragment.from(o),e.openStart,e.openEnd)}return e})(e=((e,t)=>{const{tableCell:n,tableHeader:r}=t.nodes;return Object(o("n8Jk").e)(e,(e=>!e||e.type!==n&&e.type!==r||e.content.childCount?e:e.type.createAndFill(e.attrs)||e))})(e=Object(o("Nrp8").l)(e,t),t),t),e=Object(o("VMKi").c)(e,t),
(e=Object(o("VMKi").d)(e,t)).content.childCount&&e.content.lastChild.type===t.nodes.codeBlock&&(e=new Je.Slice(e.content.append(Je.Fragment.from(t.nodes.paragraph.createAndFill())),e.openStart,1)),e),transformPastedHTML:e=>(e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),!sg(e)&&!cg(e)&&e.indexOf("<img ")>=0&&(e=Object(o("Nrp8").m)(e)),hg(e)&&(e=(e=>{if(hg(e))return e.split(/(?=<a)/).filter((e=>!(e.includes("<a")&&e.includes('"></a>')||e.includes("<a")&&!e.includes("</a>")))).join("").replace(/<\/a><\/a>/gi,"</a>").replace(/<a>/gi,"<a");return e})(e)),e)}})}var Qg=({cardOptions:e,sanitizePrivateContent:t})=>({name:"paste",pmPlugins:()=>[{name:"paste",plugin:({schema:n,providerFactory:o,dispatchAnalyticsEvent:r})=>Xg(n,r,e,t,o)}]}),Zg=o("+V57");function eb(e){return new d.Plugin({props:{handleKeyDown(t,n){const o=Object(He.keyName)(n);let r=n
;return n.ctrlKey&&1===o.length&&/[^\u0000-\u007f]/.test(o)&&(r=new KeyboardEvent("keydown",{key:He.base[n.keyCode],code:n.code,ctrlKey:!0})),Object(oe.a)(e)(t,r)}}})}const tb=Object(Mi.c)(Zg.c,Eh.d);const nb=(e,t,n,o,r,i)=>{const{hardBreak:a,codeBlock:s,listItem:c}=e.schema.nodes,l=e.doc.resolve(o);if(l.nodeAfter.type!==a)return null;if(l.depth>1&&(t!==s||!Object(p.hasParentNodeOfType)(c)(e.selection)))return null;let u=e.tr.delete(o,r).split(o),h=u.doc.nodeAt(o+1),f=!1;u.doc.nodesBetween(o,o+h.nodeSize,((e,t)=>{f||e.type!==a||(f=!0,u=u.split(t+1).delete(t,t+1))})),f&&(h=u.doc.nodeAt(o+1));const{blockquote:m,paragraph:g}=e.schema.nodes;let b,v;t===m?(v=3,b=[g.create({},h.content)]):(v=2,b=h.content);const y=t.create(i,b);return u=u.setSelection(new d.NodeSelection(u.doc.resolve(o+1))).replaceSelectionWith(y).setSelection(new d.TextSelection(u.doc.resolve(o+v))),u};function ob(e){return{level:e[1].length}}function rb(e){const t=function(e,t){return Object(o("9hcL").e)({
match:new RegExp("^(#{1,"+t+"})\\s$"),nodeType:e,getAttrs:ob})}(e.nodes.heading,6),n=Object(o("9hcL").c)(new RegExp(`${o("N3sK").c}(#{1,6})\\s$`),((t,n,o,r)=>{const i=n[1].length;return nb(t,e.nodes.heading,0,o,r,{level:i})})),r=Object(o("9hcL").f)(((e,t)=>({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,eventType:o("J5HJ").e.TRACK,actionSubjectId:o("J5HJ").c.FORMAT_HEADING,attributes:{inputMethod:o("J5HJ").f.FORMATTING,newHeadingLevel:ob(t).level}})));return[r(t),r(n)]}function ib(e){const t=function(e){return Object(o("9hcL").a)(/^\s*>\s$/,e)}(e.nodes.blockquote),n=Object(o("9hcL").c)(new RegExp(`${o("N3sK").c}\\s*>\\s$`),((t,n,o,r)=>nb(t,e.nodes.blockquote,0,o,r))),r=Object(o("9hcL").f)({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,eventType:o("J5HJ").e.TRACK,actionSubjectId:o("J5HJ").c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:o("J5HJ").f.FORMATTING}});return[r(t),r(n)]}function ab(e){const t=Object(o("9hcL").f)({action:o("J5HJ").a.INSERTED,
actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.CODE_BLOCK,attributes:{inputMethod:o("J5HJ").f.FORMATTING},eventType:o("J5HJ").e.TRACK}),n=Object(o("9hcL").c)(/(?!\s)(`{3,})$/,((e,t,n,r)=>{const i={};if(t[4]&&(i.language=t[4]),function(e){if(!e.selection)return!1;const{$from:t}=e.selection,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;const o=t.depth-1,r=t.node(o),i=t.index(o);return r.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}(e))return function(e,t,n,r){if(!e.selection.empty)return e.tr;const i=e.selection.$from,a=i.end(),s=i.start(),c=i.before(),l=Object(o("n8Jk").e)(e.doc.slice(i.pos,a),(t=>t.type===e.schema.nodes.hardBreak?e.schema.text("\n"):t.isText?t.mark([]):t.isInline?t.attrs.text?e.schema.text(t.attrs.text):null:t.content.childCount?t.content:null)),u=e.tr,p=s===t?c:t,h=e.schema.nodes.codeBlock.createChecked(r,l.content);u.replaceWith(p,Math.min(a,u.doc.content.size),h)
;const f=u.doc.resolve(u.mapping.map(p)+1),m=d.TextSelection.findFrom(f,1,!0);return m?u.setSelection(m):u.setSelection(d.TextSelection.create(u.doc,Math.min(t+i.node().nodeSize-1,u.doc.content.size)))}(e,n,0,i);const a=e.tr;a.delete(n,r);const s=a.doc.type.schema.nodes.codeBlock.createChecked();return Object(p.safeInsert)(s)(a),a})),r=Object(o("9hcL").c)(new RegExp(`((${o("N3sK").c}\`{3,})|^\\s(\`{3,}))(\\S*)$`),((t,n,o,r)=>{const i={};n[4]&&(i.language=n[4]);const a=Math.max(n.index+t.selection.$from.start(),1);return nb(t,e.nodes.codeBlock,0,a,r,i)}));return[t(n),t(r)]}var sb=function(e,t){const n=[];if(e.nodes.heading&&n.push(...rb(e)),e.nodes.blockquote&&n.push(...ib(e)),e.nodes.codeBlock&&n.push(...ab(e)),0!==n.length)return Object(o("9hcL").b)("block-type",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})};const cb=h.default.div.withConfig({componentId:"csb9d9-0"
})`${o("rgrP").a};>{h1,h2,h3,h4,h5,h6{margin-top:0;}}${e=>e.selected?`${e.tagName} { color: white }`:""};`,lb=Object(h.default)(o("mw/U").h).withConfig({componentId:"csb9d9-1"})`${e=>e.selected?"color: #505F79;":""} margin-left:16px;`,db=Object(u.defineMessages)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),ub=e=>{const t=e.formatMessage(db.textStyles);return l.a.createElement(o("aEOQ").b,{spacing:e.isReducedSpacing?"none":"default",selected:e.selected,className:"block-type-btn",disabled:e.disabled,onClick:e.onClick,title:t,"aria-label":t,iconAfter:l.a.createElement(o("mw/U").j,{isSmall:e.isSmall},e.isSmall&&l.a.createElement(o.n(o("A0FV")).a,{label:t}),l.a.createElement(o("mw/U").e,null,l.a.createElement(o.n(o("1YpF")).a,{label:""})))},!e.isSmall&&l.a.createElement(o("mw/U").a,{spacing:e.isReducedSpacing?"none":"default"
},l.a.createElement(u.FormattedMessage,e.title||o("Kuh0").k.title),l.a.createElement("div",{style:{overflow:"hidden",height:0}},e.children)))};class pb extends l.a.PureComponent{constructor(...e){super(...e),s()(this,"state",{active:!1}),s()(this,"onOpenChange",(e=>{this.setState({active:e.isOpen})})),s()(this,"handleTriggerClick",(()=>{this.onOpenChange({isOpen:!this.state.active})})),s()(this,"createItems",(()=>{const{intl:{formatMessage:e}}=this.props,{currentBlockType:t,availableBlockTypes:n}=this.props.pluginState;return[{items:n.map(((n,r)=>{const i=t===n,a=n.tagName||"p";return{content:l.a.createElement(cb,{tagName:a,selected:i},l.a.createElement(a,null,e(n.title))),value:n,key:`${n.name}-${r}`,elemAfter:l.a.createElement(lb,{selected:i},Object(o("4Upw").tooltip)(Object(o("4Upw").findKeymapByDescription)(n.title.defaultMessage))),isActive:i}}))}]})),s()(this,"handleSelectBlockType",(({item:e})=>{const t=e.value;this.props.setBlockType(t.name),this.setState({active:!1})}))}
render(){const{active:e}=this.state,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,isSmall:i,isReducedSpacing:a,pluginState:{currentBlockType:s,blockTypesDisabled:c,availableBlockTypes:d},intl:{formatMessage:u}}=this.props;if(!d.some((e=>"heading"===e.nodeName)))return null;const p=d.filter((e=>e.name===s.name)).map((e=>e.title)),h=[o("Kuh0").k,...d].reduce(((e,t)=>{const n=u(t.title);return n.length>=e.length?n:e}),"");if(!this.props.isDisabled&&!c){const s=this.createItems();return l.a.createElement(o("mw/U").f,null,l.a.createElement(Z,{items:s,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:e,mountTo:t,boundariesElement:n,scrollableElement:r,zIndex:o("9cwX").y,fitHeight:360,fitWidth:106},l.a.createElement(ub,{isSmall:i,isReducedSpacing:a,selected:e,disabled:!1,title:p[0],onClick:this.handleTriggerClick,formatMessage:u},h)),l.a.createElement(o("mw/U").g,null))}return l.a.createElement(o("mw/U").j,null,l.a.createElement(ub,{
isSmall:i,isReducedSpacing:a,selected:e,disabled:!0,title:p[0],onClick:this.handleTriggerClick,formatMessage:u},h),l.a.createElement(o("mw/U").g,null))}}pb.displayName="ToolbarBlockType";var hb=Object(u.injectIntl)(pb);const fb=({formatMessage:e},t)=>t?Array.from({length:6},((t,n)=>{const r=n+1,i=o("RJFP").a[`heading${r}Description`],a=o("4Upw").tooltip(o("4Upw")[`toggleHeading${r}`]),s=`heading${r}`;return{id:s,title:e(o("RJFP").a[s]),description:e(i),priority:1300,keywords:[`h${r}`],keyshortcut:a,icon:()=>l.a.createElement(o("Jzj3").i,{level:r}),action(e,t){const n=e(t.schema.nodes.heading.createChecked({level:r}));return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,eventType:o("J5HJ").e.TRACK,actionSubjectId:o("J5HJ").c.FORMAT_HEADING,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT,newHeadingLevel:r}})}}})):[],mb=({formatMessage:e},t)=>t?[{id:"blockquote",title:e(o("RJFP").a.blockquote),description:e(o("RJFP").a.blockquoteDescription),
priority:1300,keyshortcut:o("4Upw").tooltip(o("4Upw").toggleBlockQuote),icon:()=>l.a.createElement(o("Jzj3").u,null),action(e,t){const n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,eventType:o("J5HJ").e.TRACK,actionSubjectId:o("J5HJ").c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT}})}}]:[];var gb=e=>({name:"blockType",nodes(){const t=[{name:"heading",node:o("SYx2").a},{name:"blockquote",node:o("9gOt").a},{name:"hardBreak",node:o("9GCh").a}];if(e&&e.allowBlockType){const n=e.allowBlockType.exclude?e.allowBlockType.exclude:[];return t.filter((e=>-1===n.indexOf(e.name)))}return t},pmPlugins:()=>[{name:"blockType",plugin:({dispatch:t})=>Object(o("t+JJ").a)(t,e&&e.lastNodeMustBeParagraph)},{name:"blockTypeInputRule",plugin:({schema:e,featureFlags:t})=>sb(e,t)},{name:"blockTypeKeyMap",plugin:({schema:e,featureFlags:t})=>function(e,t){
const n={};return o("4Upw").bindKeymapWithCommand(o("4Upw").insertNewLine.common,o("t0jr").h,n),o("4Upw").bindKeymapWithCommand(o("4Upw").moveUp.common,o("t0jr").d,n),o("4Upw").bindKeymapWithCommand(o("4Upw").moveDown.common,o("t0jr").e,n),o("4Upw").bindKeymapWithCommand(o("4Upw").findKeyMapForBrowser(o("4Upw").redo),Eh.c,n),o("4Upw").bindKeymapWithCommand(o("4Upw").undo.common,t.useUnpredictableInputRule?tb:Eh.d,n),o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,o("XJbs").a,n),e.nodes[o("Kuh0").a.nodeName]&&o("4Upw").bindKeymapWithCommand(o("4Upw").findShortcutByKeymap(o("4Upw").toggleBlockQuote),Object(o("XJbs").c)(o("Kuh0").a.name,o("J5HJ").f.KEYBOARD),n),eb(n)}(e,t)}],primaryToolbarComponent({editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,toolbarSize:a,disabled:s,isToolbarReducedSpacing:c,eventDispatcher:d}){
const u=e&&e.isUndoRedoButtonsEnabled?a<o("+wsV").a.XXL:a<o("+wsV").a.XL,p=e=>Object(o("XJbs").e)(e,o("J5HJ").f.TOOLBAR)(t.state,t.dispatch);return l.a.createElement(o("fd7e").a,{editorView:t,eventDispatcher:d,plugins:{pluginState:o("t+JJ").b},render:({pluginState:e})=>l.a.createElement(hb,{isSmall:u,isDisabled:s,isReducedSpacing:c,setBlockType:p,pluginState:e,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i})})},pluginsOptions:{quickInsert:t=>{const n=e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[];return[...mb(t,-1===n.indexOf("blockquote")),...fb(t,-1===n.indexOf("heading"))]}}});const bb=new d.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function vb(){return new d.Plugin({key:bb,appendTransaction:(e,t,n)=>{if(!Object(o("x+VZ").g)(t.doc)&&Object(o("x+VZ").g)(n.doc))return n.tr.setStoredMarks([])}})}var yb=()=>({name:"clearMarksOnEmptyDoc",pmPlugins:()=>[{name:"clearMarksOnChange",plugin:vb}]});function Eb(e,t=!1,n){
if(!e.marks.link)return;const r=!("boolean"==typeof n.useUnpredictableInputRule)||Boolean(n.useUnpredictableInputRule),i=function(e,t=!1,n=!0){return Object(o("9hcL").c)(e,((e,r,i,a)=>{const{schema:s}=e;if(e.doc.rangeHasMark(i,a,s.marks.link))return null;const c=r,l=Object(o("CHQz").g)(c.url),d=s.mark("link",{href:l}),u=i,p=Math.min(i+c.text.length,e.doc.content.size),h=Object(o("ost5").b)([{url:c.url,pos:u,appearance:"inline",compareLinkText:!0,source:o("J5HJ").f.AUTO_DETECT}])(e.tr.addMark(u,p,d));return(n||p===a)&&h.insertText(" "),t?h:Object(o("SVcB").a)(e,h,Object(o("N1l4").a)(o("J5HJ").f.AUTO_DETECT,l))}))}(o("CHQz").a.create(r),t,n.useUnpredictableInputRule),a=Object(o("9hcL").c)(/(^|[^!])\[(.*?)\]\((\S+)\)$/,((e,n,r,i)=>{const{schema:a}=e,[,s,c,l]=n,d=Object(o("CHQz").g)(l).trim(),u=a.mark("link",{href:d}),p=e.tr.replaceWith(r+s.length,i,a.text((c||"").trim(),[u]));return t?p:Object(o("SVcB").a)(e,p,Object(o("N1l4").a)(o("J5HJ").f.FORMATTING,d))}))
;return Object(o("9hcL").b)("hyperlink",[i,a],{useUnpredictableInputRule:n.useUnpredictableInputRule})}function wb(e=!1){const t={};return o("4Upw").bindKeymapWithCommand(o("4Upw").addLink.common,Object(o("Qi0S").i)(o("J5HJ").f.SHORTCUT),t),o("4Upw").bindKeymapWithCommand(o("4Upw").enter.common,Ob(e),t),o("4Upw").bindKeymapWithCommand(o("4Upw").insertNewLine.common,Ob(e),t),o("4Upw").bindKeymapWithCommand(o("4Upw").escape.common,((e,t,n)=>!!o("E3sl").e.getState(e).activeLinkMark&&(Object(o("Qi0S").b)()(e,t),n&&n.focus(),!1)),t),Object(oe.b)(t)}const Ob=e=>function(t,n){const r=t.selection.$from.nodeBefore;if(!r||!r.isText)return!1;const i=r.text.split(" "),a=i[i.length-1],s=Object(o("CHQz").c)(a);if(s){const r=s.raw,i=t.selection.$from.pos-r.length,a=t.selection.$from.pos;if(t.doc.rangeHasMark(i,a,t.schema.marks.link))return!1;const c=s.url,l=t.schema.mark("link",{href:c}),d=Object(o("ost5").b)([{url:c,pos:i,appearance:"inline",compareLinkText:!0,source:o("J5HJ").f.AUTO_DETECT
}])(t.tr.addMark(i,a,l));n&&n(e?d:Object(o("SVcB").a)(t,d,Object(o("N1l4").a)(o("J5HJ").f.AUTO_DETECT,c)))}return!1};const Sb=new d.PluginKey("fakeCursorToolbarPlugin"),Cb=e=>{const t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",ce.a.widget(e,t,{key:"hyperlink-text-cursor"})},Tb=(e,t)=>ce.a.inline(e,t,{class:"ProseMirror-fake-text-selection"}),xb=e=>{const t=o("E3sl").e.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===o("E3sl").a.INSERT_LINK_TOOLBAR)return t.activeLinkMark};var kb=new d.Plugin({key:Sb,state:{init:()=>ce.b.empty,apply(e,t,n,o){const r=xb(n),i=xb(o);if(r&&i){const{from:n,to:o}=i,a=e.mapping.map(r.from),s=e.mapping.map(r.to);if(a===n&&s===o)return t.map(e.mapping,e.doc)}if(i){const{from:t,to:n}=i;return ce.b.create(e.doc,[t===n?Cb(t):Tb(t,n)])}return ce.b.empty}},props:{decorations:e=>Sb.getState(e)}});class Ib extends c.Component{constructor(...e){super(...e),s()(this,"state",{supportedUrlsMap:new Map}),
s()(this,"getProvider",(async()=>this.cardProvider?this.cardProvider:new Promise((e=>{const{providerFactory:t}=this.props;t.subscribe("cardProvider",(async(t,n)=>{n&&(this.cardProvider=await n,e(this.cardProvider))}))})))),s()(this,"resolveUrl",(async e=>{const{supportedUrlsMap:t}=this.state;if(t.has(e))return;let n=!1;try{const t=await this.getProvider();n=await t.findPattern(e)}catch(o){n=!1}t.set(e,n),this.setState({supportedUrlsMap:t})})),s()(this,"componentDidMount",(()=>this.resolveUrl(this.props.url)))}componentWillReceiveProps(e){e.url!==this.props.url&&this.resolveUrl(e.url)}render(){const{url:e,intl:t,editorView:n,editorState:o,cardOptions:r,platform:i}=this.props,{supportedUrlsMap:a}=this.state;return a.get(e)?l.a.createElement(ch,{key:"link-appearance",url:e,intl:t,editorView:n,editorState:o,allowEmbeds:null==r?void 0:r.allowEmbeds,platform:i}):null}}function Ab(e){return void 0!==e.pos}Ib.displayName="HyperlinkToolbarAppearance"
;const Nb=()=>(e,t)=>(t&&t(Object(o("SVcB").a)(e,e.tr,Object(o("WzQf").b)(o("J5HJ").c.HYPERLINK))),!0);const Mb=(e,t,n,r)=>{const{formatMessage:a}=t,s=o("E3sl").e.getState(e);if(s&&s.activeLinkMark){const{activeLinkMark:c}=s,d={title:"Hyperlink floating controls",nodeType:[e.schema.nodes.text,e.schema.nodes.paragraph,e.schema.nodes.heading,e.schema.nodes.taskItem,e.schema.nodes.decisionItem,e.schema.nodes.caption].filter((e=>!!e)),align:"left",className:c.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(c.type){case"EDIT":{const{pos:s,node:u}=c,p=u.marks.filter((t=>t.type===e.schema.marks.link)),h=p[0]&&p[0].attrs.href,f=Object(o("Z7Qe").b)(h),m=a(f?o("kALn").a.openLink:o("yYBl").b.unableToOpenLink),g=a(o("yYBl").b.unlink),b=a(o("yYBl").b.editLink);let v={url:h,title:""};return c.node.text&&(v.title=c.node.text),i()(i()({},d),{},{height:32,width:250,items:[{type:"custom",fallback:[],render:o=>l.a.createElement(Ib,{key:"link-appearance",url:h,intl:t,
editorView:o,editorState:e,cardOptions:r,providerFactory:n})},{id:"editor.link.edit",type:"button",onClick:Object(o("Qi0S").a)(),selected:!1,title:b,showTitle:!0,metadata:v},{type:"separator"},{id:"editor.link.openLink",type:"button",disabled:!f,target:"_blank",href:f?h:void 0,onClick:Nb(),selected:!1,title:m,icon:o.n(o("WhJf")).a,className:"hyperlink-open-link",metadata:v},{type:"separator"},{id:"editor.link.unlink",type:"button",onClick:Object(o("Qi0S").h)(s),selected:!1,title:g,icon:o.n(o("VAOK")).a}]})}case"EDIT_INSERTED":case"INSERT":{let t;if(Ab(c)&&c.node){const n=c.node.marks.filter((t=>t.type===e.schema.marks.link));t=n[0]&&n[0].attrs.href}const a=Ab(c)?function(e,t){if(!e.node)return;const n=Object(o("CHQz").g)(e.node.text),r=e.node.marks.find((e=>e.type===t.schema.marks.link));return n!==(r&&r.attrs.href)?e.node.text:void 0}(c,e):s.activeText;return i()(i()({},d),{},{height:360,width:420,items:[{type:"custom",fallback:[],render:(e,i)=>e?l.a.createElement(oh,{view:e,key:i,
displayUrl:t,displayText:a||"",providerFactory:n,onSubmit:(t,n="",i,a)=>{Ab(c)?Object(o("Qi0S").j)(t,i||n,c.pos)(e.state,e.dispatch):Object(o("Qi0S").d)(a,c.from,c.to,t,n,i,!(!r||!r.provider))(e.state,e.dispatch),e.focus()}}):null}]})}}}};var Rb=e=>({name:"hyperlink",marks:()=>[{name:"link",mark:o("MJQM").a}],pmPlugins(){const t=!!e&&!!e.provider;return[{name:"hyperlink",plugin:({dispatch:e})=>Object(o("E3sl").d)(e)},{name:"fakeCursorToolbarPlugin",plugin:()=>kb},{name:"hyperlinkInputRule",plugin:({schema:e,featureFlags:n})=>Eb(e,t,n)},{name:"hyperlinkKeymap",plugin:()=>wb(t)}]},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"hyperlink",title:e(o("/DD6").a.link),description:e(o("/DD6").a.linkDescription),keywords:["hyperlink","url"],priority:1200,keyshortcut:Object(o("4Upw").tooltip)(o("4Upw").addLink),icon:()=>l.a.createElement(o("Jzj3").l,null),action(e,t){const n=e(void 0);return n.setMeta(o("E3sl").e,{type:o("E3sl").b.SHOW_INSERT_TOOLBAR}),Object(o("SVcB").a)(t,n,{
action:o("J5HJ").a.INVOKED,actionSubject:o("J5HJ").b.TYPEAHEAD,actionSubjectId:o("J5HJ").c.TYPEAHEAD_LINK,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.UI})}}],floatingToolbar:(t,n,o)=>Mb(t,n,o,e)}});const jb=new d.PluginKey("clearFormattingPlugin");var Pb,Db=function(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").clearFormatting.common,Object(o("FT/o").c)(o("J5HJ").f.SHORTCUT),e),Object(oe.b)(e)},Lb=new d.Plugin({props:{handleClick(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1
;const{code:o}=e.state.schema.marks,{paragraph:r}=e.state.schema.nodes,i=e.state.doc.resolve(t),a=(i.nodeBefore?i.nodeBefore.isInline:i.nodeAfter)&&(i.nodeAfter?i.nodeAfter.isInline:i.nodeBefore)&&0===i.textOffset,s=o&&(i.nodeBefore&&o.isInSet(i.nodeBefore.marks)||i.nodeAfter&&o.isInSet(i.nodeAfter.marks)),c=n.target&&n.target instanceof Node&&e.posAtDOM(n.target),l=e.state.doc.nodeAt(t),u=!(!l||!l.isText),p=i.parent.type===r&&0===i.textOffset&&null===i.nodeAfter;if(a&&s&&c&&(u||p)){const t=n.target.parentNode===e.domAtPos(c).node&&o.isInSet(e.state.doc.resolve(c).nodeAfter.marks),r=i.nodeBefore&&o.isInSet(i.nodeBefore.marks)?i.nodeAfter:i.nodeBefore,a=e.state.tr.setSelection(d.TextSelection.near(i));return t?a.setStoredMarks([o.create()]):a.setStoredMarks(r?r.marks:[]),e.dispatch(a),!0}return!1}}});!function(e){e.STRONG="__",e.STRIKE="~~",e.STRONG_MARKDOWN="**",e.ITALIC_MARKDOWN="*",e.ITALIC="_",e.CODE="`"}(Pb||(Pb={}));const _b={
[Pb.STRIKE]:[Pb.ITALIC,Pb.STRONG,Pb.STRONG_MARKDOWN,Pb.ITALIC_MARKDOWN],[Pb.STRONG]:[Pb.STRIKE,Pb.ITALIC_MARKDOWN],[Pb.STRONG_MARKDOWN]:[Pb.ITALIC,Pb.STRIKE],[Pb.ITALIC_MARKDOWN]:[Pb.STRIKE,Pb.STRONG],[Pb.ITALIC]:[Pb.STRIKE,Pb.STRONG_MARKDOWN],[Pb.CODE]:["( "]};function Bb(e,t,n){return(t,r,i,a)=>{var s,c;const{doc:l,schema:d,tr:u}=t,p=t.doc.textBetween(i,i+n.length);if(p!==n||null!=d&&null!==(s=d.marks)&&void 0!==s&&null!==(c=s.code)&&void 0!==c&&c.isInSet(l.resolve(i+1).marks()))return null;let h;if(l.nodesBetween(i,a,(e=>e.type===d.nodes.hardBreak?(h=!0,null):!h)),h)return null;const f=l.resolve(i),m=l.resolve(a);if(f.sameParent(m)&&!f.parent.type.allowsMarkType(e))return null;"code"===e.name&&Object(o("yg4z").a)(u.mapping.map(i),u.mapping.map(a),u);const g=u.mapping.map(i),b=u.mapping.map(a);u.addMark(g,b,e.create());u.doc.textBetween(b-n.length,b)===n&&u.delete(b-n.length,b);const{useUnpredictableInputRule:v}=Object(o("37L4").b)(t);return v&&(2===n.length&&u.delete(b-1,b),
u.selection.empty||u.deleteSelection()),p===n&&u.delete(g,g+n.length),u.removeStoredMark(e)}}class Hb extends RegExp{exec(e){if(!e)return null;const t=[...e].reverse().join(""),n=super.exec(t);if(!n)return null;for(let o=0;o<n.length;o++)n[o]&&"string"==typeof n[o]&&(n[o]=[...n[o]].reverse().join(""));return n.input&&"string"==typeof n.input&&(n.input=[...n.input].reverse().join("")),n.input&&n[0]&&(n.index=n.input.length-n[0].length),n}}const Jb=e=>{const t=e.replace(/(\W)/g,"\\$1"),n=_b[e].map((e=>e.replace(/(\W)/g,"\\$1"))).join("|"),r="^X(?=[^X\\s]).*?[^\\sX]X(?=[\\sOBJECT_REPLACEMENT_CHARACTER]COMBINATIONS|$)".replace("OBJECT_REPLACEMENT_CHARACTER",o("N3sK").c).replace("COMBINATIONS",n?`|${n}`:""),i=r.replaceAll?r.replaceAll("X",t):r.replace(/X/g,t);return new Hb(i)},$b=Jb(Pb.STRONG),Fb=Jb(Pb.STRONG_MARKDOWN),zb=Jb(Pb.ITALIC),Ub=Jb(Pb.ITALIC_MARKDOWN),Vb=Jb(Pb.STRIKE),Wb=Jb(Pb.CODE);var Kb=function(e,t){const n=[];if(e.marks.strong&&n.push(...function(e){
const t=Object(o("9hcL").f)((()=>({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_STRONG,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.FORMATTING}}))),n=Object(o("9hcL").c)($b,Bb(e.marks.strong,0,Pb.STRONG)),r=Object(o("9hcL").c)(Fb,Bb(e.marks.strong,0,Pb.STRONG_MARKDOWN));return[t(n),t(r)]}(e)),e.marks.em&&n.push(...function(e){const t=Object(o("9hcL").f)((()=>({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_ITALIC,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.FORMATTING}}))),n=Object(o("9hcL").c)(zb,Bb(e.marks.em,0,Pb.ITALIC)),r=Object(o("9hcL").c)(Ub,Bb(e.marks.em,0,Pb.ITALIC_MARKDOWN));return[t(n),t(r)]}(e)),e.marks.strike&&n.push(...function(e){return[Object(o("9hcL").f)((()=>({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_STRIKE,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.FORMATTING
}})))(Object(o("9hcL").c)(Vb,Bb(e.marks.strike,0,Pb.STRIKE)))]}(e)),e.marks.code&&n.push(...function(e){return[Object(o("9hcL").f)((()=>({action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_CODE,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.FORMATTING}})))(Object(o("9hcL").c)(Wb,Bb(e.marks.code,0,Pb.CODE)))]}(e)),0!==n.length)return Object(o("9hcL").b)("text-formatting",n,{useUnpredictableInputRule:t.useUnpredictableInputRule})};function qb(e,t){return Object(o("9hcL").c)(t,function(e){return(t,n,o,r)=>{const[,i,,a]=n,s=(i||"")+e+(a||"");let{tr:c,selection:{$to:l}}=t;return c.replaceWith(o,r,t.schema.text(s,l.marks())),c.setSelection(d.Selection.near(c.doc.resolve(c.selection.to))),c}}(e))}function Gb(e,t){return Object.keys(e).map((n=>{const o=qb(n,e[n]);return t?t(n)(o):o}))}function Yb(){return Gb({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,
Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},(e=>Object(o("9hcL").f)(((t,n)=>({action:o("J5HJ").a.SUBSTITUTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.PRODUCT_NAME,eventType:o("J5HJ").e.TRACK,attributes:{product:e,originalSpelling:n[2]}})))))}function Xb(){const e={"\u2192":o("CkRR").b.ARROW_RIGHT,"\u2190":o("CkRR").b.ARROW_LEFT,"\u2194\ufe0e":o("CkRR").b.ARROW_DOUBLE};return Gb({"\u2192":/(\s+|^)(--?>)(\s)$/,"\u2190":/(\s+|^)(<--?)(\s)$/,"\u2194\ufe0e":/(\s+|^)(<->?)(\s)$/},(t=>Object(o("9hcL").f)((()=>({action:o("J5HJ").a.SUBSTITUTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.SYMBOL,eventType:o("J5HJ").e.TRACK,attributes:{symbol:e[t]}})))))}function Qb(){const e={"\u2013":o("CkRR").a.DASH,"\u2026":o("CkRR").a.ELLIPSIS,"\u201c":o("CkRR").a.QUOTE_DOUBLE,"\u201d":o("CkRR").a.QUOTE_DOUBLE,[o("CkRR").a.QUOTE_SINGLE]:o("CkRR").a.QUOTE_SINGLE},t=t=>Object(o("9hcL").f)((()=>({action:o("J5HJ").a.SUBSTITUTED,
actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.PUNC,eventType:o("J5HJ").e.TRACK,attributes:{punctuation:e[t]}})));return[...Gb({"\u2013":/(\s+|^)(--)(\s)$/,"\u2026":/()(\.\.\.)$/},t),...Gb({"\u201c":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"\u201d":/"$/},t),...function(){return[Object(o("9hcL").c)(/(\s|^)'(\S+.*\S+)'$/,((e,t,n,o)=>{const[,r,i]=t,a=r+"\u2018",s=n+a.length+i.length;return e.tr.insertText("\u2019",s,o).insertText(a,n,n+a.length)})),qb("\u2019",/(\w+)(')(\w+)$/)]}().map((e=>t(o("CkRR").a.QUOTE_SINGLE)(e)))]}let Zb;!function(e){e.strong="strong",e.em="em",e.underline="underline",e.strike="strike",e.code="code",e.subscript="subscript",e.superscript="superscript"}(Zb||(Zb={}));const ev=e=>e({inputMethod:o("J5HJ").f.TOOLBAR}),tv={strong:{buttonId:o("XGsD").a.TEXT_FORMATTING_STRONG,command:ev(o("Nvcy").k),message:o("UmKr").a.bold,tooltipKeymap:o("4Upw").toggleBold,component:({label:e})=>l.a.createElement(o.n(o("hCh4")).a,{label:e})},em:{
buttonId:o("XGsD").a.TEXT_FORMATTING_ITALIC,command:ev(o("Nvcy").g),message:o("UmKr").a.italic,tooltipKeymap:o("4Upw").toggleItalic,component:({label:e})=>l.a.createElement(o.n(o("aEpL")).a,{label:e})},underline:{command:ev(o("Nvcy").q),message:o("UmKr").a.underline,tooltipKeymap:o("4Upw").toggleUnderline},strike:{command:ev(o("Nvcy").i),message:o("UmKr").a.strike,tooltipKeymap:o("4Upw").toggleStrikethrough},code:{command:ev(o("Nvcy").e),message:o("UmKr").a.code,tooltipKeymap:o("4Upw").toggleCode},subscript:{command:ev(o("Nvcy").m),message:o("UmKr").a.subscript},superscript:{command:ev(o("Nvcy").o),message:o("UmKr").a.superscript}},nv={[Zb.strong]:"strong",[Zb.em]:"em",[Zb.strike]:"strike",[Zb.code]:"code",[Zb.underline]:"underline",[Zb.superscript]:"subsup",[Zb.subscript]:"subsup"},ov=e=>{const t=(e=>({schema:t,textFormattingPluginState:n})=>{const o=Boolean(n),r=nv[e],i=Boolean(t.marks[r]);if(!o)return{isActive:!1,isDisabled:!0,isHidden:!1,hasSchemaMark:i}
;const a=n[`${e}Active`],s=n[`${e}Disabled`],c=n[`${e}Hidden`];return{isActive:Boolean(a),isDisabled:Boolean(s),isHidden:Boolean(c),hasSchemaMark:i}})(e);return({schema:n,textFormattingPluginState:r,intl:i,isToolbarDisabled:a})=>{const s=t({schema:n,textFormattingPluginState:r}),{isActive:d,isDisabled:u,isHidden:p,hasSchemaMark:h}=s,f=Object(c.useMemo)((()=>(({iconType:e,isDisabled:t,isActive:n,intl:r})=>{const i=tv[e],a=r.formatMessage(i.message),{tooltipKeymap:s}=i;return{content:a,buttonId:i.buttonId,iconMark:e,key:e,command:i.command,iconElement:i.component?i.component({label:a}):void 0,tooltipElement:s?l.a.createElement(o("4Upw").ToolTipContent,{description:a,keymap:s}):void 0,elemAfter:s?l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(s)):void 0,value:{name:e},isActive:n,isDisabled:t}})({iconType:Zb[e],isDisabled:a||u,isActive:d,intl:i})),[a,u,d,i]),m=h&&!p;return Object(c.useMemo)((()=>m?f:null),[m,f])}
},rv=ov(Zb.strong),iv=ov(Zb.em),av=ov(Zb.underline),sv=ov(Zb.strike),cv=ov(Zb.code),lv=ov(Zb.subscript),dv=ov(Zb.superscript),uv=e=>Object(c.useMemo)((()=>o("6VYC").a.getState(e)),[e]),pv=Object(o("FT/o").c)(o("J5HJ").f.TOOLBAR),hv=({intl:e,editorState:t})=>{const n=(e=>Object(c.useMemo)((()=>jb.getState(e)),[e]))(t),r=Boolean(n),i=Boolean(null==n?void 0:n.formattingIsPresent),a=e.formatMessage(o("UmKr").a.clearFormatting);return Object(c.useMemo)((()=>r?{key:"clearFormatting",command:pv,content:a,elemAfter:l.a.createElement(o("mw/U").h,null,Object(o("4Upw").tooltip)(o("4Upw").clearFormatting)),value:{name:"clearFormatting"},isActive:!1,isDisabled:!i}:null),[a,r,i])},fv=[Zb.strong,Zb.em],mv=[Zb.underline,Zb.strike,Zb.code,Zb.subscript,Zb.superscript],gv={[o("+wsV").a.XXL]:fv,[o("+wsV").a.XL]:fv,[o("+wsV").a.L]:fv,[o("+wsV").a.M]:[],[o("+wsV").a.S]:[],[o("+wsV").a.XXXS]:[]},bv={[o("+wsV").a.XXL]:mv,[o("+wsV").a.XL]:mv,[o("+wsV").a.L]:mv,[o("+wsV").a.M]:[Zb.strong,Zb.em,...mv],
[o("+wsV").a.S]:[Zb.strong,Zb.em,...mv],[o("+wsV").a.XXXS]:[Zb.strong,Zb.em,...mv]},vv=({icons:e,toolbarSize:t,responsivenessEnabled:n})=>{const o=(({toolbarSize:e,responsivenessEnabled:t})=>{const n=Object(c.useMemo)((()=>gv[e]),[e]);return t?n:fv})({toolbarSize:t,responsivenessEnabled:n});return Object(c.useMemo)((()=>e.reduce(((e,t)=>{if(!t||!t.iconMark)return e;return o.includes(t.iconMark)?{dropdownItems:e.dropdownItems,singleItems:[...e.singleItems,t]}:{dropdownItems:[...e.dropdownItems,t],singleItems:e.singleItems}}),{dropdownItems:[],singleItems:[]})),[e,o])},yv=l.a.memo((({items:e,isReducedSpacing:t,editorView:n})=>{const r=Object(c.useCallback)((e=>()=>(e(n.state,n.dispatch),!1)),[n.state,n.dispatch]);return l.a.createElement(o("mw/U").b,{width:t?"small":"large"},e.map((e=>l.a.createElement(o("aEOQ").b,{key:e.key,buttonId:e.buttonId,spacing:t?"none":"default",onClick:r(e.command),selected:e.isActive,disabled:e.isDisabled,title:e.tooltipElement,iconBefore:e.iconElement}))))
})),Ev=l.a.memo((({label:e,isReducedSpacing:t,isSelected:n,isDisabled:r,onClick:i})=>{const a=Object(c.useMemo)((()=>l.a.createElement(o("mw/U").i,null,l.a.createElement(o.n(o("MSKp")).a,{label:e}))),[e]);return l.a.createElement(o("aEOQ").b,{disabled:r,selected:n,onClick:i,spacing:t?"none":"default",title:e,iconBefore:a})})),wv=l.a.memo((({editorView:e,moreButtonLabel:t,isReducedSpacing:n,items:r,hasFormattingActive:i,popupsBoundariesElement:a,popupsMountPoint:s,popupsScrollableElement:d})=>{const[u,p,h]=(()=>{const[e,t]=Object(c.useState)(!1),n=Object(c.useCallback)((()=>{t(!e)}),[e]),o=Object(c.useCallback)((()=>{t(!1)}),[]);return[e,n,o]})(),f=Object(c.useMemo)((()=>[{items:r}]),[r]),m=Object(c.useCallback)((({item:t})=>{t.command(e.state,e.dispatch),h()}),[e.state,e.dispatch,h]);return l.a.createElement(Z,{mountTo:s,onOpenChange:h,boundariesElement:a,scrollableElement:d,onItemActivated:m,isOpen:u,items:f,zIndex:o("9cwX").y,fitHeight:188,fitWidth:136},l.a.createElement(Ev,{
isSelected:u||i,label:t,isReducedSpacing:n,isDisabled:!1,onClick:p}))})),Ov=({shouldUseResponsiveToolbar:e,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,editorView:i,toolbarSize:a,isReducedSpacing:s,isToolbarDisabled:d,intl:u})=>{const p=Object(c.useMemo)((()=>i.state),[i.state]),h=(({isToolbarDisabled:e,editorState:t,intl:n})=>{const o=uv(t),{schema:r}=t,i={schema:r,textFormattingPluginState:o,intl:n,isToolbarDisabled:Boolean(e)},a=rv(i),s=iv(i),l=av(i),d=sv(i),u=cv(i),p=lv(i),h=dv(i);return Object(c.useMemo)((()=>[a,s,l,d,u,p,h]),[a,s,l,d,u,p,h])})({editorState:p,intl:u,isToolbarDisabled:d}),f=hv({editorState:p,intl:u}),m=(({toolbarSize:e,responsivenessEnabled:t})=>{const n=Object(c.useMemo)((()=>bv[e]),[e]);return t?n:mv})({toolbarSize:a,responsivenessEnabled:e}),g=(({editorState:e,iconTypeList:t})=>{const n=uv(e);return Object(c.useMemo)((()=>!!n&&t.some((e=>n[`${e}Active`]))),[n,t])})({editorState:i.state,iconTypeList:m
}),{dropdownItems:b,singleItems:v}=vv({icons:h,toolbarSize:a,responsivenessEnabled:e}),y=Object(c.useMemo)((()=>f?[...b,f]:b),[f,b]),E=u.formatMessage(o("UmKr").a.moreFormatting);return l.a.createElement(o("mw/U").b,{width:s?"small":"large"},l.a.createElement(yv,{items:v,editorView:i,isReducedSpacing:s}),l.a.createElement(o("mw/U").j,null,d?l.a.createElement("div",null,l.a.createElement(Ev,{label:E,isReducedSpacing:s,isDisabled:!0,isSelected:!1})):l.a.createElement(wv,{popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,editorView:i,isReducedSpacing:s,moreButtonLabel:E,hasFormattingActive:g,items:y}),l.a.createElement(o("mw/U").g,null)))};class Sv extends l.a.PureComponent{render(){const{popupsMountPoint:e,popupsScrollableElement:t,toolbarSize:n,isReducedSpacing:o,editorView:r,isToolbarDisabled:i,shouldUseResponsiveToolbar:a,intl:s}=this.props;return l.a.createElement(Ov,{popupsMountPoint:e,popupsScrollableElement:t,toolbarSize:n,isReducedSpacing:o,editorView:r,
isToolbarDisabled:i,shouldUseResponsiveToolbar:a,intl:s})}}Sv.displayName="Toolbar";var Cv=Object(u.injectIntl)(Sv);var Tv=(e={})=>({name:"textFormatting",marks:()=>[{name:"em",mark:o("XcIC").a},{name:"strong",mark:o("6ioc").a},{name:"strike",mark:o("0X/2").a}].concat(e.disableCode?[]:{name:"code",mark:o("ldIr").a}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:o("j1q6").a}).concat(e.disableUnderline?[]:{name:"underline",mark:o("7mUr").a}),pmPlugins:()=>[{name:"textFormatting",plugin:({dispatch:e})=>Object(o("1v/Q").a)(e)},{name:"textFormattingCursor",plugin:()=>Lb},{name:"textFormattingInputRule",plugin:({schema:e,featureFlags:t})=>Kb(e,t)},{name:"textFormattingSmartRule",plugin:({featureFlags:t})=>e.disableSmartTextCompletion?void 0:(e=>Object(o("9hcL").b)("text-formatting:smart-input",[...Yb(),...Xb(),...Qb()],{useUnpredictableInputRule:e.useUnpredictableInputRule}))(t)},{name:"textFormattingClear",plugin:({dispatch:e})=>(e=>new d.Plugin({state:{init:(e,t)=>({
formattingIsPresent:Object(o("lf5m").b)(t)}),apply(t,n,r,i){const a=Object(o("lf5m").b)(i);return a!==n.formattingIsPresent?(e(jb,{formattingIsPresent:a}),{formattingIsPresent:a}):n}},key:jb}))(e)},{name:"textFormattingClearKeymap",plugin:()=>Db()},{name:"textFormattingKeymap",plugin:({schema:e})=>function(e){const t={};return e.marks.strong&&o("4Upw").bindKeymapWithCommand(o("4Upw").toggleBold.common,o("Nvcy").k({inputMethod:o("J5HJ").f.SHORTCUT}),t),e.marks.em&&o("4Upw").bindKeymapWithCommand(o("4Upw").toggleItalic.common,o("Nvcy").g({inputMethod:o("J5HJ").f.SHORTCUT}),t),e.marks.code&&o("4Upw").bindKeymapWithCommand(o("4Upw").toggleCode.common,o("Nvcy").e({inputMethod:o("J5HJ").f.SHORTCUT}),t),e.marks.strike&&o("4Upw").bindKeymapWithCommand(o("4Upw").toggleStrikethrough.common,o("Nvcy").i({inputMethod:o("J5HJ").f.SHORTCUT}),t),e.marks.underline&&o("4Upw").bindKeymapWithCommand(o("4Upw").toggleUnderline.common,o("Nvcy").q({inputMethod:o("J5HJ").f.SHORTCUT}),t),eb(t)}(e)}],
primaryToolbarComponent:({editorView:t,popupsMountPoint:n,popupsScrollableElement:r,isToolbarReducedSpacing:i,toolbarSize:a,disabled:s})=>l.a.createElement(o("fd7e").a,{plugins:{textFormattingState:o("6VYC").a},render:()=>l.a.createElement(Cv,{editorState:t.state,popupsMountPoint:n,popupsScrollableElement:r,toolbarSize:a,isReducedSpacing:i,editorView:t,isToolbarDisabled:s,shouldUseResponsiveToolbar:Boolean(e.responsiveToolbarMenu)})})});const xv=new d.PluginKey("unsupportedContentPlugin"),kv=({portalProviderAPI:e,eventDispatcher:t,dispatchAnalyticsEvent:n})=>new d.Plugin({key:xv,props:{nodeViews:{confluenceUnsupportedBlock:o("gVP2").a.fromComponent(o("TZ02").a,e,t,{dispatchAnalyticsEvent:n}),confluenceUnsupportedInline:o("gVP2").a.fromComponent(o("kbU5").a,e,t,{dispatchAnalyticsEvent:n}),unsupportedBlock:o("gVP2").a.fromComponent(o("TZ02").a,e,t,{dispatchAnalyticsEvent:n}),unsupportedInline:o("gVP2").a.fromComponent(o("kbU5").a,e,t,{dispatchAnalyticsEvent:n})}}});var Iv=()=>({
name:"unsupportedContent",marks:()=>[{name:"unsupportedMark",mark:o("8lHm").a},{name:"unsupportedNodeAttribute",mark:o("hvSW").a}],nodes:()=>[{name:"confluenceUnsupportedBlock",node:o("hcJP").a},{name:"confluenceUnsupportedInline",node:o("DFPE").a},{name:"unsupportedBlock",node:o("goZM").a},{name:"unsupportedInline",node:o("cxSf").a}],pmPlugins:()=>[{name:"unsupportedContent",plugin:kv}]});const Av=new d.PluginKey("fixChromeSelectionPlugin");const Nv=new d.PluginKey("newlinePreserveMarksPlugin"),Mv=e=>!!e.selection.$to.parent.marks.find((t=>t.type===e.schema.marks.alignment)),Rv=e=>!o("yUK8").a.getState(e).active,jv=(e,t)=>(t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0);var Pv=()=>new d.Plugin({key:Nv,props:{handleKeyDown:Object(oe.a)({Enter:Object(o("+U5V").b)([o("x+VZ").k,Mv,Rv],jv)})}});const Dv=new d.PluginKey("inlineCursorTargetPlugin"),Lv=["mention","emoji"],_v=e=>e&&-1!==Lv.indexOf(e.type.name);var Bv=()=>new d.Plugin({key:Dv,state:{init:()=>({positions:[]}),
apply(e){const{selection:t}=e,{$from:n}=t,o=[],r=((e,t)=>{if(_v(e.nodeAfter))return e.pos+1;const{parentOffset:n,parent:o}=e,r=t.doc.nodeSize-2;if(n===o.content.size&&e.pos+1<r-2){const{nodeAfter:n}=t.doc.resolve(e.pos+1);if(n&&_v(n.firstChild))return e.pos+2}})(n,e),i=((e,t)=>{if(_v(e.nodeBefore))return e.pos-1;if(0===e.pos)return;const{parentOffset:n}=e;if(0===n){const{nodeBefore:n}=t.doc.resolve(e.pos-1);if(n&&_v(n.firstChild))return e.pos-2}})(n,e);return void 0!==r&&o.push(r),void 0!==i&&o.push(i),{positions:o}}},props:{decorations(e){const{doc:t}=e,{positions:n}=Dv.getState(e);if(n&&n.length){const e=n.map((e=>{const t=document.createElement("span");return t.appendChild(document.createTextNode(o("vNjH").a)),ce.a.widget(e,t,{raw:!0,side:-1,key:"inlineCursor"})}));return ce.b.create(t,e)}return null}}});const Hv=120;function Jv(e,t){if(function(){
return"undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype}()){return new IntersectionObserver(((e,n)=>{e.forEach((e=>{t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}}function $v(e,t,n){const o=e.offsetHeight,r=e.getBoundingClientRect().top,i=function(){const e=window.getSelection();if(e&&e.rangeCount>0){const t=e.getRangeAt(0);if(t){const e=t.getClientRects();if(e&&e.length>0)return e[0].top;const n=t.startContainer;if(n&&n.getBoundingClientRect)return n.getBoundingClientRect().top}}}();if(!i)return!1;return!(i-r<o-n-80)&&(t.scrollIntoView(!1),!0)}var Fv=(e={})=>{const{getScrollElement:t,allowCustomScrollHandler:n,gutterSize:r=Hv}=e;if(!t)return;const i=function(e){const t=document.createElement("div");t.style.paddingBottom=`${e}px`,t.id="#editor-scroll-gutter".substr(1);let n,o=!1,r=!1,i=null,a=!1;return{addGutter(e){e&&(i=e,e.appendChild(t),r=!0,
n&&n.observe(t))},removeGutter(){i&&r&&(r=!1,i.removeChild(t),n&&n.unobserve(t))},element:()=>t,isMounted:()=>r,visible:()=>n?a:r,observe(e){o||(o=!0,n=Jv(e,(e=>a=e)))},destroy(){n&&n.disconnect(),n=void 0,this.removeGutter(),o=r=!1}}}(r);let a=null;return new d.Plugin({props:{scrollThreshold:r/2,scrollMargin:r,handleScrollToSelection:()=>!1!==n&&(!!(i.isMounted()&&i.visible()&&a)&&$v(a,i.element(),r))},view(n){a=t(n);let s=n.dom,c=s.parentElement;return{destroy(){i.destroy(),a=c=s=null},update(t,n){if(!a||!c)return;const s=t.state;if(n.selection===s.selection)return;const l=i.isMounted(),d=()=>{l||(i.observe(a),i.addGutter(c))};if(e.persistScrollGutter)return void(Object(o("x+VZ").g)(s.doc)?i.removeGutter():d());const u=(e=>o("RB5l").c.getState(e))(s),p=a.offsetHeight-(u&&u.keyboardHeight?u.keyboardHeight:0);c.offsetHeight-(l?r:0)>=p-r?d():l&&i.removeGutter()}}}})};const zv=e=>e,Uv=(e,t,n,r,a,s)=>{var c;const{state:l}=t,d=r?Object(o("Cepr").a)(t.state):{};return e({
action:o("J5HJ").a.BROWSER_FREEZE,actionSubject:o("J5HJ").b.EDITOR,attributes:i()(i()({objectId:null===(c=Object(o("Wx28").b)(l))||void 0===c?void 0:c.objectId,freezeTime:n,nodeSize:l.doc.nodeSize},d),{},{participants:Object(o("EjDT").a)(t.state),interactionType:a,severity:s}),eventType:o("J5HJ").e.OPERATIONAL})};const Vv=o("j5wO").a.chrome&&o("j5wO").a.chrome_version>=88;var Wv=t=>({name:"base",pmPlugins(){const n=[{name:"filterStepsPlugin",plugin:({dispatchAnalyticsEvent:e})=>(e=>new d.Plugin({filterTransaction:t=>!(e=>(e.steps||[]).some((e=>e.from>e.to)))(t)||(console.warn("The transaction was blocked because it contains invalid steps",t.steps),e({action:o("J5HJ").a.DISCARDED_INVALID_STEPS_FROM_TRANSACTION,actionSubject:o("J5HJ").b.EDITOR,attributes:{analyticsEventPayloads:Object(o("SVcB").b)(t)},eventType:o("J5HJ").e.OPERATIONAL}),!1)}))(e)},{name:"inlineCursorTargetPlugin",plugin:()=>t&&t.allowInlineCursorTarget?Bv():void 0},{name:"focusHandlerPlugin",
plugin:({dispatch:e})=>Object(o("HxAM").a)(e)},{name:"newlinePreserveMarksPlugin",plugin:Pv},{name:"reactNodeView",plugin:()=>o("EfUG").a},{name:"frozenEditor",plugin:({dispatchAnalyticsEvent:n,providerFactory:r})=>t&&t.inputTracking&&t.inputTracking.enabled?((t,n,r)=>{let a,s=0;null!=r&&r.trackInteractionType&&(a=zv(o("xLu2").a.LOADING));const c=n&&"number"==typeof n.samplingRate?n.samplingRate:100,l=n&&"number"==typeof n.slowThreshold?n.slowThreshold:300,u=n&&"number"==typeof n.freezeThreshold?n.freezeThreshold:600,p=n&&n.countNodes,h=(null==n?void 0:n.trackSeverity)||!1,f=(null==n?void 0:n.severityNormalThreshold)||100,m=(null==n?void 0:n.severityDegradedThreshold)||500;return new d.Plugin({props:Object(o("X0Cu").a)()?{handleTextInput(e){const{state:n}=e,d=performance.now();return null!=r&&r.trackInteractionType&&(a=o("xLu2").a.TYPING),requestAnimationFrame((()=>{const r=Object(o("aMlB").a)(d);if(c&&++s===c){var a;const c=p?Object(o("Cepr").a)(e.state):{};s=0;const l={
action:o("J5HJ").a.INPUT_PERF_SAMPLING,actionSubject:o("J5HJ").b.EDITOR,attributes:i()(i()({time:r,nodeSize:n.doc.nodeSize},c),{},{participants:Object(o("EjDT").a)(n),objectId:null===(a=Object(o("Wx28").b)(n))||void 0===a?void 0:a.objectId}),eventType:o("J5HJ").e.OPERATIONAL};h&&(l.attributes.severity=Object(o("rJZJ").h)(r,f,m)),t(l)}if(r>l){var u;const a=p?Object(o("Cepr").a)(e.state):{};t({action:o("J5HJ").a.SLOW_INPUT,actionSubject:o("J5HJ").b.EDITOR,attributes:i()(i()({time:r,nodeSize:n.doc.nodeSize},a),{},{participants:Object(o("EjDT").a)(n),objectId:null===(u=Object(o("Wx28").b)(n))||void 0===u?void 0:u.objectId}),eventType:o("J5HJ").e.OPERATIONAL})}})),!1},handleDOMEvents:null!=r&&r.trackInteractionType?{click:()=>(a=zv(o("xLu2").a.CLICKING),!1),paste:()=>(a=zv(o("xLu2").a.PASTING),!1)}:void 0}:void 0,view(n){if(!Object(o("X0Cu").b)())return{};try{new PerformanceObserver((e=>{const i=e.getEntries();for(let s=0;s<i.length;s++){const{duration:e}=i[s]
;e>u&&Uv(t,n,e,p,null!=r&&r.trackInteractionType?a:void 0,null!=r&&r.trackSeverity?Object(o("rJZJ").h)(e,r.severityNormalThreshold||2e3,r.severityDegradedThreshold||3e3):void 0)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:()=>{}}}})})(n,t.inputTracking,t.browserFreezeTracking):void 0},{name:"decorationPlugin",plugin:()=>Object(o("lgPy").a)()},{name:"history",plugin:()=>Object(Eh.b)()},{name:"codeBlockIndent",plugin:()=>eb(i()(i()({},Mi.b),{},{"Mod-[":()=>!0,"Mod-]":()=>!0}))},{name:"contextIdentifier",plugin:({dispatch:e,providerFactory:t})=>Object(o("Wx28").a)(e,t)},{name:"betterTypeHistory",plugin:({dispatch:e,providerFactory:t})=>Gg()}];return t&&t.allowScrollGutter&&n.push({name:"scrollGutterPlugin",plugin:()=>Fv(t.allowScrollGutter)}),Vv&&n.push({name:"fixChrome88SelectionPlugin",plugin:()=>(()=>new d.Plugin({key:Av,props:{handleDOMEvents:{focus:e=>(function(e){return"div"===e.tagName.toLowerCase()
}(e.dom)&&!Object(p.isNodeSelection)(e.state.selection)&&(e.dom.style.display="inline-block",e.dom.offsetHeight,e.dom.style.display="block"),!1)}}}))()}),n},nodes:()=>[{name:"doc",node:o("s2EJ").a},{name:"paragraph",node:o("9yGC").a},{name:"text",node:o("u4ca").a}]});const Kv=e=>({payload:{action:o("J5HJ").a.STOPPED,actionSubject:o("J5HJ").b.EDITOR,actionSubjectId:o("J5HJ").c.SAVE,attributes:{inputMethod:o("J5HJ").f.SHORTCUT,documentSize:e.doc.nodeSize},eventType:o("J5HJ").e.UI}});var qv=e=>({name:"submitEditor",pmPlugins:()=>[{name:"submitEditor",plugin:({dispatch:t})=>function(e,t){if(t)return Object(oe.b)({[`${o("4Upw").submit.common}`]:(n,r,i)=>{const a=o("wBzk").a.getState(n);return a&&a.waitForMediaUpload&&!a.allUploadsFinished||(e(o("+WSe").a,Kv(n)),t(i)),!0}})}(t,e)}]});const Gv=new d.PluginKey("fakeTextCursorPlugin");var Yv=()=>({name:"fakeTextCursor",pmPlugins:()=>[{name:"fakeTextCursor",plugin:()=>(()=>new d.Plugin({key:Gv,props:{decorations:o("AFvE").b}}))()}]})
;const Xv=l.a.createContext([]);Xv.Provider;class Qv{constructor(){this.plugins=[]}add(e){return this.plugins.push(e),this}has(e){return this.plugins.some((t=>Array.isArray(t)?t[0]===e:t===e))}getEditorPlugins(e){const t=this.processEditorPlugins();return this.removeExcludedPlugins(t,e)}processEditorPlugins(){const e=new Map;this.plugins.forEach((t=>{if(Array.isArray(t)){const[n,o]=t;e.set(n,o)}else{if(e.has(t)&&void 0===e.get(t))throw new Error(`${t} is already included!`);e.set(t,void 0)}}));let t=[];return e.forEach(((e,n)=>{t.push(n(e))})),t}removeExcludedPlugins(e,t){return t?e.filter((e=>!e||!t.has(e.name))):e}}const Zv=new d.PluginKey("clipboardPlugin"),ey=(e,t,n)=>{const o=ty(e.state,n);return o&&t(o),!1},ty=(e,t)=>{const{selection:n,doc:r}=e,i=fe(n)||ve(n,r)||me(n)||ge(e);if(i){const{actionSubjectId:e}=i;let n=[];switch(e){case o("J5HJ").c.NODE:n.push(i.attributes.node);break;case o("J5HJ").c.RANGE:n.push(...i.attributes.nodes);break;case o("J5HJ").c.ALL:n.push("all");break
;case o("J5HJ").c.CELL:{const{selectedCells:e}=i.attributes;n.push(...Array(e).fill("tableCell"));break}}return{eventType:o("J5HJ").e.TRACK,action:t,actionSubject:o("J5HJ").b.DOCUMENT,attributes:{content:n}}}if(n instanceof d.TextSelection&&n.$cursor)return{eventType:o("J5HJ").e.TRACK,action:t,actionSubject:o("J5HJ").b.DOCUMENT,attributes:{content:["caret"]}}};var ny=()=>({name:"clipboard",pmPlugins:()=>[{name:"clipboard",plugin:e=>(({dispatchAnalyticsEvent:e})=>new d.Plugin({key:Zv,props:{handleDOMEvents:{cut:t=>ey(t,e,o("J5HJ").a.CUT),copy:t=>ey(t,e,o("J5HJ").a.COPIED)}}}))(e)}]});const oy=new d.PluginKey("placeholderPlugin");function ry(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}const iy={hasPlaceholder:!1};function ay(e,t,n,r){const i=o("HxAM").b.getState(e);if(Object(o("Wd+7").g)(e))return iy;if(n&&Object(o("x+VZ").g)(e.doc))return ry(n);const a=t();if(a&&Object(o("x+VZ").i)(e)&&i){const{$from:t}=e.selection;return ry(a,t.pos)}if(r&&Object(o("x+VZ").a)(e)&&i){
const{$from:t}=e.selection;return ry("  "+r,t.pos-1)}return iy}function sy(e,t,n){if(!e&&!t&&!n)return;const o=function(e){let t=0;return()=>{if(!e||0===e.length)return;const{length:n}=e,o=e[t++];return t%=n,o}}(t);return new d.Plugin({key:oy,state:{init:(t,r)=>ay(r,o,e,n),apply:(t,r,i,a)=>{const s=t.getMeta(oy);if(s){if(s.removePlaceholder)return iy;if(s.applyPlaceholderIfEmpty)return ay(a,o,e,n)}return ay(a,o,e,n)}},props:{decorations(e){const{hasPlaceholder:t,placeholderText:n,pos:o}=function(e){return oy.getState(e)}(e);if(t&&n&&void 0!==o)return function(e,t,n=1){const o=document.createElement("span");let r="placeholder-decoration";const i=A.getState(e);i&&"end"===i.align?r+=" align-end":i&&"center"===i.align&&(r+=" align-center"),o.className=r;const a=document.createElement("span");return a.textContent=t,o.appendChild(a),ce.b.create(e.doc,[ce.a.widget(n,o,{side:-1,key:"placeholder"})])}(e,n,o)}}})}var cy=e=>({name:"placeholder",pmPlugins:()=>[{name:"placeholder",
plugin:()=>sy(e&&e.placeholder,e&&e.placeholderHints,e&&e.placeholderBracketHint)}]});const ly=e=>({decorationSet:he(e.tr),selection:e.selection});var dy=function(){const e={};return Object(o("4Upw").bindKeymapWithCommand)(o("4Upw").moveRight.common,We,e),Object(o("4Upw").bindKeymapWithCommand)(o("4Upw").moveLeft.common,Ke,e),Object(oe.b)(e)};const uy={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".rich-media-item"},py=(e,t)=>{const[n,...o]=t,r=[e.getPropertyValue(n)];"content-box"===e.getPropertyValue("box-sizing")&&o.forEach((t=>{r.push(e.getPropertyValue(t))}));let i=0;for(let a=0;a<r.length;a++)i+=parseFloat(r[a]);return i},hy=(e,t)=>{const n=e.state.selection,{$from:r,side:i}=n,a=i===o("g1AK").b.RIGHT,s=a?r.nodeBefore:r.nodeAfter,c=t(),l=e.nodeDOM(c),d=document.createElement("span");if(d.className="ProseMirror-gapcursor "+(a?"-right":"-left"),d.appendChild(document.createElement("span")),l instanceof HTMLElement&&d.firstChild){const e=(e=>{
const t=Object.keys(uy).find((t=>e.classList.contains(t))),n=t&&uy[t];if(n){const t=e.querySelector(n);if(t)return window.getComputedStyle(t)}})(l)||window.getComputedStyle(l),t=d.firstChild;t.style.height=`${(e=>py(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"]))(e)}px`,(0!==c||s&&"table"===s.type.name)&&(t.style.marginTop=e.getPropertyValue("margin-top"));const r=s&&Object(o("183E").a)(s);r?(t.setAttribute("layout",r),t.style.width=`${(e=>py(e,["width","padding-left","padding-right","border-left-width","border-right-width"]))(e)}px`):((e,t,n)=>{if(Object(o("183E").d)(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{const n=parseFloat(t.getPropertyValue("margin-right"));n>0?e.style.marginLeft=`-${Math.abs(n)}px`:e.style.paddingRight=`${Math.abs(n)}px`}})(t,e,n.side)}return d};var fy=new d.Plugin({key:o("AYiB").a,state:{init:()=>!1,apply:(e,t,n,r)=>r.selection instanceof o("g1AK").a},
view:e=>(0===e.state.selection.anchor&&e.state.selection instanceof d.NodeSelection&&window.requestAnimationFrame((()=>{e.dispatch(e.state.tr.setSelection(new(o("g1AK").a)(e.state.doc.resolve(0),o("g1AK").b.LEFT)))})),{update(e,t){const n=o("AYiB").a.getState(t);e.dom.classList.toggle("ProseMirror-hide-gapcursor",n)}}),props:{decorations:({doc:e,selection:t})=>{if(t instanceof o("g1AK").a){const{$from:n,side:r}=t;let i=t.head;const a=r===o("g1AK").b.RIGHT;if(a&&n.nodeBefore){const e=Object(p.findPositionOfNodeBefore)(t);"number"==typeof e&&(i=e)}const s=a?n.nodeBefore:n.nodeAfter,c=s&&Object(o("183E").a)(s);return ce.b.create(e,[ce.a.widget(i,hy,{key:`gapcursor-${r}-${c}`,side:c?-1:0})])}return null},createSelectionBetween(e,t,n){if(!(e&&e.state&&e.state.selection instanceof o("n1Ll").a))return t.pos===n.pos&&o("g1AK").a.valid(n)?new(o("g1AK").a)(n):void 0},handleClick(e,t,n){const r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!Object(o("183E").c)(n.target)){
const r=20,i=n.offsetX>r?o("g1AK").b.RIGHT:o("g1AK").b.LEFT;return Object(o("wFWU").d)(t,i)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:(e,t)=>"deleteContentBackward"===t.inputType&&e.state.selection instanceof o("g1AK").a&&(t.preventDefault(),Object(o("wFWU").b)(o("+ld7").a.BACKWARD)(e.state,e.dispatch))}}});var my=e=>({name:"selection",pmPlugins:()=>[{name:"selection",plugin:({dispatch:t,dispatchAnalyticsEvent:n})=>((e,t,n={})=>new d.Plugin({key:le,state:Ue(e,ly),view:()=>({update:(e,n)=>{const{state:o}=e;if(!ye({oldEditorState:n,newEditorState:o}))return;const r=fe(o.selection)||me(o.selection)||!e.mouseDown&&(ve(o.selection,o.doc)||ge(o));r&&t(r)}}),appendTransaction(e,t,n){if(!ye({oldEditorState:t,newEditorState:n}))return;const{tr:o}=n;return o.setMeta(le,{type:$e.SET_DECORATIONS,selection:o.selection,decorationSet:he(o)}),o},
filterTransaction:(e,t)=>!(n.useLongPressSelection&&e.selectionSet&&e.selection instanceof d.NodeSelection&&!e.getMeta(le)||t.selection instanceof d.NodeSelection&&e.selection instanceof d.TextSelection&&t.selection.from===e.selection.from&&t.selection.to===e.selection.to),props:{decorations:e=>ze(e).decorationSet,handleDOMEvents:{mouseup:(e,n)=>{if(!n.shiftKey){const n=ve(e.state.selection,e.state.doc)||ge(e.state);n&&t(n)}return!1},keydown:(e,t)=>{if(o("j5wO").a.gecko){const t=e.nodeDOM(e.state.selection.head);t instanceof HTMLElement&&"false"===t.getAttribute("contenteditable")&&(t.removeAttribute("contenteditable"),requestAnimationFrame((()=>{t.setAttribute("contenteditable","false")})))}return!1}}}}))(t,n,e)},{name:"selectionKeymap",plugin:dy},{name:"gapCursorKeymap",plugin:()=>function(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").insertNewLine.common,((e,t,n)=>!!(e.selection instanceof o("g1AK").a)&&Object(Mi.d)(e,t)),e),
o("4Upw").bindKeymapWithCommand(o("4Upw").moveLeft.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.LEFT,r)(e,t,n)}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveRight.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.RIGHT,r)(e,t)}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveUp.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.UP,r)(e,t)}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").moveDown.common,((e,t,n)=>{const r=n?n.endOfTextblock.bind(n):void 0;return Object(o("wFWU").a)(o("+ld7").a.DOWN,r)(e,t)}),e),o("4Upw").bindKeymapWithCommand(o("4Upw").backspace.common,Object(o("wFWU").b)(o("+ld7").a.BACKWARD),e),o("4Upw").bindKeymapWithCommand(o("4Upw").deleteKey.common,Object(o("wFWU").b)(o("+ld7").a.FORWARD),e),Object(oe.b)(e)}()},{name:"gapCursor",plugin:()=>fy}]});const gy=new RegExp("\n","g");class by{constructor(e,t,n){
s()(this,"ensureLineNumbers",Object(o("GsWa").a)((()=>{let e=1;for(this.node.forEach((t=>{t.text&&(e+=(t.text.match(gy)||[]).length)}));this.lineNumberGutter.childElementCount<e;)this.lineNumberGutter.appendChild(document.createElement("span"));for(;this.lineNumberGutter.childElementCount>e;)this.lineNumberGutter.removeChild(this.lineNumberGutter.lastChild)})));const{dom:r,contentDOM:i}=Je.DOMSerializer.renderSpec(document,(e=>["div",{class:"code-block"},["div",{class:o("IIKj").a.gutter,contenteditable:"false"}],["div",{class:o("IIKj").a.content},["code",{"data-language":e.attrs.language||"",spellcheck:"false",contenteditable:"true"},0]]])(e));this.getPos=n,this.view=t,this.node=e,this.dom=r,this.contentDOM=i,this.lineNumberGutter=this.dom.querySelector(`.${o("IIKj").a.gutter}`),this.ensureLineNumbers()}update(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,
this.ensureLineNumbers()),!0)}ignoreMutation(e){return e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter}}const vy=`.${o("IIKj").a.gutter}`,yy=`.${o("IIKj").a.highlighting}`,Ey=`.${o("IIKj").a.content}`,wy=[null,void 0,"none","plaintext"];class Oy{constructor(e,t,n,r){s()(this,"highlighting",null),s()(this,"highlighter",null),s()(this,"measurements",[]),s()(this,"count",0),s()(this,"shouldDebounce",!1),s()(this,"timer",null),s()(this,"ensureLineNumbers",((e=this.node)=>{const t=e.textContent.split("\n").length;for(;this.lineNumberGutter.childElementCount<t;)this.lineNumberGutter.appendChild(document.createElement("span"));for(;this.lineNumberGutter.childElementCount>t;)this.lineNumberGutter.removeChild(this.lineNumberGutter.lastChild)}));const{dom:i,contentDOM:a}=Je.DOMSerializer.renderSpec(document,(e=>["div",{class:"code-block"},["div",{class:o("IIKj").a.gutter,contenteditable:"false"}],["div",{class:o("IIKj").a.content,"data-debounce":"false"},["code",{
"data-language":e.attrs.language||"",spellcheck:"false",contenteditable:"true"},0],["div",{class:o("IIKj").a.highlighting,contenteditable:"false"}]]])(e));this.codeBidiWarningOptions=r,this.getPos=n,this.view=t,this.node=e,this.dom=i,this.contentDOM=a,this.lineNumberGutter=this.dom.querySelector(vy),this.ensureLineNumbers(),this.highlight(e)}measure(e){const t=this.count%10;this.count++,this.measurements[t]=e}highlight(e=this.node,t=!1){var n,r;if(wy.includes(e.attrs.language))return;const i=this.dom.querySelector(yy),a=this.dom.querySelector(Ey);var s;if(this.timer&&clearTimeout(this.timer),this.shouldDebounce&&!t&&a)return a.setAttribute("data-debounce","true"),void(this.timer=setTimeout((()=>this.highlight(e,!0)),10*(null!==(s=Object(o("H1FK").a)(this.measurements,.99))&&void 0!==s?s:100)));const c=performance.now();Ie.a.render(l.a.createElement(o("BCXQ").a,{text:e.textContent,language:e.attrs.language,showLineNumbers:!1,codeBidiWarnings:this.codeBidiWarningOptions.enabled,
codeBidiWarningLabel:this.codeBidiWarningOptions.label}),i),this.measure(performance.now()-c),null==a||a.setAttribute("data-debounce","false"),this.shouldDebounce=(null!==(n=Object(o("H1FK").a)(this.measurements,.99))&&void 0!==n?n:0)>=100||(null!==(r=Object(o("H1FK").a)(this.measurements,.95))&&void 0!==r?r:0)>=30}update(e){return e.type===this.node.type&&(e.textContent!==this.node.textContent&&this.ensureLineNumbers(e),e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),e.textContent===this.node.textContent&&e.attrs.language===this.node.attrs.language||this.highlight(e),this.node=e,!0)}ignoreMutation(e){var t,n;const o=e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter,r=null!==(t=null===(n=this.highlighting)||void 0===n?void 0:n.contains(e.target))&&void 0!==t&&t,i="attributes"===e.type&&"aria-describedby"===e.attributeName;return o||r||i}}
const Sy=new d.PluginKey("codeBlockPlugin"),Cy="SET_COPIED_TO_CLIPBOARD",Ty=({useLongPressSelection:e=!1,reactContext:t})=>{const n=t().intl.formatMessage(o("XXJR").a.label);return new d.Plugin({state:{init(e,t){const n=Lg(t,t.selection);return{pos:n?n.pos:null,contentCopied:!1,isNodeSelected:!1}},apply(e,t,n,o){if(e.docChanged||e.selectionSet){const n=Lg(o,e.selection);return i()(i()({},t),{},{pos:n?n.pos:null,isNodeSelected:e.selection instanceof d.NodeSelection})}const r=e.getMeta(Sy);return(null==r?void 0:r.type)===Cy?i()(i()({},t),{},{contentCopied:r.data}):t}},key:Sy,props:{nodeViews:{codeBlock(e,t,r){const i=Object(o("37L4").b)(t.state);return(null!=i&&i.codeBlockSyntaxHighlighting?(({codeBidiWarnings:e,codeBidiWarningLabel:t})=>(n,o,r)=>new Oy(n,o,r,{enabled:e,label:t}))({codeBidiWarnings:null==i?void 0:i.codeBidiWarnings,codeBidiWarningLabel:n}):(()=>(e,t,n)=>new by(e,t,n))())(e,t,r)}},
handleClickOn:pe(["codeBlock"],(e=>!(!e.closest(`.${o("IIKj").a.gutter}`)&&!e.classList.contains(o("IIKj").a.content))),{useLongPressSelection:e})}})},xy=(e,t)=>{const{schema:{nodes:n},tr:o}=e;if(t){let e=o;e=Object(p.findSelectedNodeOfType)(n.codeBlock)(o.selection)?Object(p.removeSelectedNode)(o):Object(p.removeParentNodeOfType)(n.codeBlock)(o),t(e)}return!0},ky=(e,t)=>{const{schema:{nodes:n},tr:o}=e,r=Object(p.findParentNodeOfType)(n.codeBlock)(o.selection),i=r&&r.node.textContent;if(i){od(i);let e=o;e.setMeta(Sy,{type:Cy,data:!0}),t&&t(e)}return!0},Iy=(e,t)=>{const{tr:n}=e,o=Sy.getState(e);let r=n;return o&&o.contentCopied&&(r.setMeta(Sy,{type:Cy,data:!1}),t&&t(r)),!0},Ay=[{name:"(None)",alias:["none"],value:"none"},...o("l3Br").a];function Ny(e){return e.alias[0]}const My=Object(u.defineMessages)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",
description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),Ry=function(e){return e.sort(((e,t)=>"none"===e.alias[0]?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0))}(Ay),jy=(e=!1)=>(t,{formatMessage:n})=>{var r,i;const a=Sy.getState(t),s=null!==(r=null==a?void 0:a.pos)&&void 0!==r?r:null;if(!a||null===s)return;const c=t.doc.nodeAt(s),l=t.schema.nodes.codeBlock;if((null==c?void 0:c.type)!==l)return;const u=null==c||null===(i=c.attrs)||void 0===i?void 0:i.language,h=Ry.map((e=>({label:e.name,value:Ny(e),alias:e.alias}))),f={type:"separator"};return{title:"CodeBlock floating controls",getDomRef:e=>Object(p.findDomRefAtPos)(s,e.domAtPos.bind(e)),nodeType:l,items:[{id:"editor.codeBlock.languageOptions",type:"select",selectType:"list",onChange:e=>(e=>(t,n)=>{var r;const{codeBlock:i}=t.schema.nodes,a=null===(r=Sy.getState(t))||void 0===r?void 0:r.pos;if("number"!=typeof a)return!1
;const s=t.tr.setNodeMarkup(a,i,{language:e}).setMeta("scrollIntoView",!1),c=Object(p.isNodeSelection)(t.selection)?d.NodeSelection.create(s.doc,a):s.selection,l=s.setSelection(c);return n&&n(Object(o("SVcB").a)(t,l,{action:o("J5HJ").a.LANGUAGE_SELECTED,actionSubject:o("J5HJ").b.CODE_BLOCK,attributes:{language:e},eventType:o("J5HJ").e.TRACK})),!0})(e.value),defaultValue:u?h.find((e=>e.value===u))||h.find((e=>e.alias.includes(u))):void 0,placeholder:n(My.selectLanguage),options:h,filterOption:Py},f,...e?[{id:"editor.codeBlock.copy",type:"button",appearance:"subtle",icon:o.n(o("JyIQ")).a,onClick:ky,title:n(a.contentCopied?o("yYBl").a.copiedToClipboard:o("yYBl").a.copyToClipboard),onMouseLeave:Iy,hideTooltipOnClick:!1,disabled:a.isNodeSelected},f]:[],{id:"editor.codeBlock.delete",type:"button",appearance:"danger",icon:o.n(o("Fn6O")).a,onMouseEnter:Object(o("lgPy").b)(l,!0),onMouseLeave:Object(o("lgPy").b)(l,!1),onFocus:Object(o("lgPy").b)(l,!0),onBlur:Object(o("lgPy").b)(l,!1),onClick:xy,
title:n(o("yYBl").a.remove)}]}},Py=(e,t)=>{const{data:n}=e,o=t.toLowerCase();return n.label.toLowerCase().includes(o)||n.alias.some((e=>e.toLowerCase()===o))},Dy=e=>t=>t.delete(e.before(e.depth)-1,e.end(e.depth)+1);var Ly=function(e){return Object(oe.b)({Backspace:(t,n)=>{const r=Object(o("D4z0").h)(t.selection),{paragraph:i,codeBlock:a,listItem:s,table:c,layoutColumn:l}=t.schema.nodes;if(!r||r.parent.type!==a)return!1;if(1===r.pos||Object(p.hasParentNodeOfType)(s)(t.selection)&&0===r.parentOffset){const e=Object(p.findParentNodeOfTypeClosestToPos)(r,a);return!!e&&(n(t.tr.setNodeMarkup(e.pos,e.node.type,e.node.attrs,[]).setBlockType(r.pos,r.pos,i)),!0)}if(n&&r.node&&Object(o("D4z0").l)(e)(r.node())&&(Object(p.hasParentNodeOfType)(l)(t.selection)||Object(p.hasParentNodeOfType)(c)(t.selection))){const{tr:e}=t,i=r.pos;return n(Object(o("D4z0").u)(Dy(r),(e=>t=>{const n=d.Selection.findFrom(t.doc.resolve(e),-1,!0);return n&&t.setSelection(n),t})(i))(e).scrollIntoView()),!0}
return!!Object(o("D4z0").l)(e)(r.node())&&(n(Dy(r)(null==t?void 0:t.tr)),!0)}})};const _y={"{":"}","[":"]","(":")"},By=(e,t)=>{const n=Object.keys(_y).find((t=>e.endsWith(t))),o=n?_y[n]:void 0;return{left:n,right:o,hasTrailingMatchingBracket:!!o&&t.startsWith(o)}},Hy={"'":"'",'"':'"',"`":"`"},Jy=(e,t)=>{const n=Object.keys(Hy).find((t=>e.endsWith(t))),o=n?Hy[n]:void 0;return{left:n,right:o,hasTrailingMatchingQuote:!!o&&t.startsWith(o)}},$y=i()(i()({},_y),Hy),Fy=e=>e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock,zy=e=>!!Object(o("D4z0").h)(e.selection)&&Fy(e),Uy=e=>{const{$from:t}=e.selection;if(t.nodeBefore&&t.nodeBefore.isText){const e=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(e+1),pos:t.start()+e+1}}return{text:"",pos:t.pos}},Vy=e=>{const{$to:t}=e.selection;if(t.nodeAfter&&t.nodeAfter.isText){const e=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,e>=0?e:void 0),
pos:e>=0?t.pos+e:t.end()}}return{text:"",pos:t.pos}};function Wy(e){const{pos:t}=Uy(e),{pos:n}=Vy(e);return{text:e.doc.textBetween(t,n),start:t,end:n}}const Ky=(e,t)=>{let n=0;e.split("\n").forEach((e=>{t(e,n),n+=e.length+1}))},qy={token:" ",size:2,regex:/[^ ]/},Gy={token:"\t",size:1,regex:/[^\t]/},Yy=e=>{const t=e.startsWith("\t")?Gy:qy,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}};function Xy(e,t){return 0===t||0===e.length?0:e.length/t}function Qy(e,t){const{text:n,start:r}=Wy(e),{tr:i,selection:a}=e;return Ky(n,((t,n)=>{const{indentText:s,indentToken:c}=Yy(t),l=Xy(s,c.size),u=c.token.repeat(c.size-s.length%c.size||c.size);i.insertText(u,i.mapping.map(r+n,-1)),Object(o("SVcB").a)(e,i,{action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_INDENT,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.KEYBOARD,previousIndentationLevel:l,newIndentLevel:l+1,direction:o("lZzB").a.INDENT,
indentType:o("lZzB").b.CODE_BLOCK}}),a.empty||i.setSelection(d.TextSelection.create(i.doc,i.mapping.map(a.from,-1),i.selection.to))})),t&&t(i),!0}function Zy(e,t){const{text:n,start:r}=Wy(e),{tr:i}=e;return Ky(n,((t,n)=>{const{indentText:a,indentToken:s}=Yy(t);if(a){const t=Xy(a,s.size),c=a.length%s.size||s.size;i.delete(i.mapping.map(r+n),i.mapping.map(r+n+c)),Object(o("SVcB").a)(e,i,{action:o("J5HJ").a.FORMATTED,actionSubject:o("J5HJ").b.TEXT,actionSubjectId:o("J5HJ").c.FORMAT_INDENT,eventType:o("J5HJ").e.TRACK,attributes:{inputMethod:o("J5HJ").f.KEYBOARD,previousIndentationLevel:t,newIndentLevel:t-1,direction:o("lZzB").a.OUTDENT,indentType:o("lZzB").b.CODE_BLOCK}})}})),t&&t(i),!0}var eE=new d.Plugin({props:{handleTextInput(e,t,n,o){const{state:r,dispatch:i}=e;if(zy(r)){const e=Uy(r).text,a=Vy(r).text;if((e=>Object.keys($y).some((t=>e.startsWith($y[t]))))(a)&&(e=>Object.keys($y).some((t=>e===$y[t])))(o)&&a.startsWith(o))return i(Object(p.setTextSelection)(n+o.length)(r.tr)),!0
;if(((e,t)=>!!/^[}\])]/.test(t)||!/^[^\s]/.test(t))(0,a)){const{left:s,right:c}=By(e+o,a);if(s&&c){const e=r.schema.text(o+c);let a=r.tr.replaceWith(t,n,e);return i(Object(p.setTextSelection)(t+o.length)(a)),!0}}if(((e,t)=>!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)&&!/[A-Za-z0-9]$/.test(e)&&!/[\'\"\`]$/.test(e))(e,a)){const{left:s,right:c}=Jy(e+o,a);if(s&&c){const e=r.schema.text(o+c);let a=r.tr.replaceWith(t,n,e);return i(Object(p.setTextSelection)(t+o.length)(a)),!0}}}return!1},handleKeyDown:Object(oe.a)({Backspace:(e,t)=>{if(zy(e)){const n=Object(o("D4z0").h)(e.selection),r=Uy(e).text,i=Vy(e).text,{left:a,right:s,hasTrailingMatchingBracket:c}=By(r,i);if(a&&s&&c&&t)return t(e.tr.delete(n.pos-a.length,n.pos+s.length)),!0;const{left:l,right:d,hasTrailingMatchingQuote:u}=Jy(r,i);if(l&&d&&u&&t)return t(e.tr.delete(n.pos-l.length,n.pos+d.length)),!0;const{indentToken:{size:p,token:h},indentText:f}=Yy(r);if(r===f&&f.endsWith(h.repeat(p))&&t)return t(e.tr.delete(n.pos-(p-f.length%p||p),n.pos)),
!0}return!1},Enter:Object(o("+U5V").b)(Fy,(function(e,t){const{text:n}=Uy(e),{indentText:o}=Yy(n);return!(!o||!t)&&(t(e.tr.insertText("\n"+o)),!0)})),"Mod-]":Object(o("+U5V").b)(Fy,Qy),"Mod-[":Object(o("+U5V").b)(Fy,Zy),Tab:Object(o("+U5V").b)(Fy,((e,t)=>!!t&&(zy(e)?function(e,t){const{text:n}=Uy(e),{indentToken:o}=Yy(n),r=o.token.repeat(o.size-n.length%o.size||o.size);return t(e.tr.insertText(r)),!0}(e,t):Qy(e,t)))),"Shift-Tab":Object(o("+U5V").b)(Fy,Zy),"Mod-a":(e,t)=>{if(Fy(e)){const{$from:n,$to:o}=e.selection;if(!(0===n.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(d.TextSelection.create(e.doc,n.start(),o.end()))),!0}return!1}})}});var tE=(e,t)=>{var n;o("j5wO").a.gecko&&e.docChanged&&"number"==typeof(null===(n=Sy.getState(t))||void 0===n?void 0:n.pos)&&(()=>{const e=window.getSelection();if(e){const t=e&&1===e.rangeCount&&e.getRangeAt(0).cloneRange();t&&(e.removeAllRanges(),e.addRange(t))}})()};var nE=(e={})=>({name:"codeBlock",nodes:()=>[{
name:"codeBlock",node:o("w1Jx").a}],pmPlugins:()=>[{name:"codeBlock",plugin:({reactContext:t})=>Ty({useLongPressSelection:e.useLongPressSelection,reactContext:t})},{name:"codeBlockIDEKeyBindings",plugin:()=>eE},{name:"codeBlockKeyMap",plugin:({schema:e})=>Ly(e)}],onEditorViewStateUpdated(e){tE(e.originalTransaction,e.newEditorState)},pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"codeblock",title:e(o("RJFP").a.codeblock),description:e(o("RJFP").a.codeblockDescription),keywords:["code block"],priority:700,keyshortcut:"```",icon:()=>l.a.createElement(o("Jzj3").b,null),action(e,t){const n=e(t.schema.nodes.codeBlock.createChecked());return Object(o("SVcB").a)(t,n,{action:o("J5HJ").a.INSERTED,actionSubject:o("J5HJ").b.DOCUMENT,actionSubjectId:o("J5HJ").c.CODE_BLOCK,attributes:{inputMethod:o("J5HJ").f.QUICK_INSERT},eventType:o("J5HJ").e.TRACK})}}],floatingToolbar:jy(e.allowCopyToClipboard)}});const oE=e=>t=>(n,r)=>{let i=n.tr;return t(n,(e=>{i=e})),
!(!i||!i.docChanged)&&(i.setMeta(o("TypY").a,e),r&&r(i),!0)};let rE;!function(e){e[e.TOOLBAR=o("J5HJ").f.TOOLBAR]="TOOLBAR",e[e.KEYBOARD=o("J5HJ").f.KEYBOARD]="KEYBOARD"}(rE||(rE={}));const iE=oE(rE.KEYBOARD)(Eh.d),aE=oE(rE.KEYBOARD)(Eh.c),sE=oE(rE.TOOLBAR)(Eh.d),cE=oE(rE.TOOLBAR)(Eh.c);const lE=e=>t=>{(e=>t=>{if(!e)return;const n=Object(o("+OuI").a)(e);n.isOpen()?n.close({attachCommand:t,insertCurrentQueryAsRawText:!1}):t(e.state,e.dispatch)})(e)(t),e.hasFocus()||e.focus()};class dE extends c.PureComponent{render(){const{disabled:e,isReducedSpacing:t,historyState:n,editorView:r,intl:{formatMessage:i}}=this.props,a=i(o("Y+RM").a.undo),s=i(o("Y+RM").a.redo),{canUndo:c,canRedo:d}=n;return l.a.createElement(o("mw/U").b,{width:t?"small":"large"},l.a.createElement(o("aEOQ").b,{buttonId:o("aEOQ").a.UNDO,spacing:t?"none":"default",onClick:()=>{lE(r)(sE)},disabled:!c||e,title:l.a.createElement(o("4Upw").ToolTipContent,{description:a,keymap:o("4Upw").undo}),
iconBefore:l.a.createElement(o.n(o("wIOw")).a,{label:a}),testId:"ak-editor-toolbar-button-undo"}),l.a.createElement(o("aEOQ").b,{spacing:t?"none":"default",buttonId:o("aEOQ").a.REDO,onClick:()=>{lE(r)(cE)},disabled:!d||e,title:l.a.createElement(o("4Upw").ToolTipContent,{description:s,keymap:o("4Upw").redo}),iconBefore:l.a.createElement(o.n(o("Ryn/")).a,{label:s}),testId:"ak-editor-toolbar-button-redo"}),l.a.createElement(o("mw/U").g,null))}}dE.displayName="ToolbarUndoRedo";var uE=Object(u.injectIntl)(dE);var pE=()=>({name:"undoRedoPlugin",pmPlugins:()=>[{name:"undoRedoKeyMap",plugin:()=>function(){const e={};return o("4Upw").bindKeymapWithCommand(o("4Upw").findKeyMapForBrowser(o("4Upw").redo),aE,e),o("4Upw").bindKeymapWithCommand(o("4Upw").undo.common,iE,e),eb(e)}()},{name:"undoRedoPlugin",plugin:e=>(({dispatch:e})=>new d.Plugin({key:o("TypY").a}))(e)}],primaryToolbarComponent:({editorView:e,disabled:t,isToolbarReducedSpacing:n})=>l.a.createElement(o("fd7e").a,{plugins:{
historyState:o("wlgv").b},render:({historyState:o})=>l.a.createElement(uE,{isReducedSpacing:n,disabled:t,historyState:o,editorView:e})})});function hE(e){var t;const n=new Qv;return n.add([Qg,e.paste]),n.add(ny),n.add([Wv,e.base]),null!==(t=e.featureFlags)&&void 0!==t&&t.undoRedoButtons&&n.add(pE),n.add([gb,e.blockType]),n.add([cy,e.placeholder]),n.add(yb),e.annotationProviders&&n.add([o("WvEr").a,e.annotationProviders]),n.add([Rb,e.cardOptions]),n.add([Tv,e.textFormatting]),n.add(o("IXso").a),n.add([o("RSEn").a,e.quickInsert]),n.add([o("zRNw").a,e.typeAhead||{createAnalyticsEvent:e.createAnalyticsEvent}]),n.add(Iv),n.add(o("QNcB").a),n.add([qv,e.submitEditor]),n.add(Yv),n.add(o("jeRt").a),n.add([o("37L4").a,e.featureFlags||{}]),n.add([my,e.selection]),n.add([nE,e.codeBlock]),n}function fE(e){const{appearance:t,persistScrollGutter:n}=e;return Object(o("9TOn").a)(t)?{getScrollElement:()=>document.querySelector(".fabric-editor-popup-scroll-parent")}:"mobile"===t?{
getScrollElement:()=>document.body,allowCustomScrollHandler:!1,persistScrollGutter:n,gutterSize:36}:void 0}function mE(e,t){var n,r,a;const s=e.appearance,c="mobile"===s,l=null===(n=e.performanceTracking)||void 0===n?void 0:n.inputTracking;return{createAnalyticsEvent:t,typeAhead:{createAnalyticsEvent:t,isMobile:c},featureFlags:Object(o("6QRn").a)(e),paste:{cardOptions:e.smartLinks||e.UNSAFE_cards,sanitizePrivateContent:e.sanitizePrivateContent},base:{allowInlineCursorTarget:!c,allowScrollGutter:fE(e),inputTracking:l,browserFreezeTracking:null===(r=e.performanceTracking)||void 0===r?void 0:r.bFreezeTracking},blockType:{lastNodeMustBeParagraph:"comment"===s||"chromeless"===s,allowBlockType:e.allowBlockType,isUndoRedoButtonsEnabled:e.UNSAFE_allowUndoRedoButtons},placeholder:{placeholder:e.placeholder,placeholderHints:e.placeholderHints,placeholderBracketHint:e.placeholderBracketHint},textFormatting:i()(i()({},e.textFormatting||{}),{},{
responsiveToolbarMenu:null!=(null===(a=e.textFormatting)||void 0===a?void 0:a.responsiveToolbarMenu)?e.textFormatting.responsiveToolbarMenu:e.UNSAFE_allowUndoRedoButtons}),annotationProviders:e.annotationProviders,submitEditor:e.onSave,quickInsert:{enableElementBrowser:e.elementBrowser&&e.elementBrowser.showModal,elementBrowserHelpUrl:e.elementBrowser&&e.elementBrowser.helpUrl,disableDefaultItems:c,headless:c,emptyStateHandler:e.elementBrowser&&e.elementBrowser.emptyStateHandler},selection:{useLongPressSelection:!1},cardOptions:e.smartLinks||e.UNSAFE_cards,codeBlock:i()(i()({},e.codeBlock),{},{useLongPressSelection:!1})}}function gE(e,t,n){var r;const a=e.appearance,s="mobile"===a,c="comment"===a,l=Object(o("9TOn").a)(a),d=hE(mE(e,n)),u=Object(o("6QRn").a)(e);if(e.allowAnalyticsGASV3){const{performanceTracking:t}=e;d.add([o("8tqJ").b,{createAnalyticsEvent:n,performanceTracking:t}])}if(e.allowBreakout&&l&&d.add([k,{allowBreakoutButton:"full-page"===e.appearance}]),
e.allowTextAlignment&&d.add(K),d.add(q),e.allowTextColor&&d.add([o("UIbH").a,e.allowTextColor]),d.add(ie),e.allowRule&&d.add(se),e.allowExpand&&d.add([dt,{allowInsertion:ut(e),useLongPressSelection:!1}]),e.media){d.add([o("/OWP").b,{shouldCalcBreakoutGridLines:l}]);const t=void 0!==e.media.alignLeftOnInsert?e.media.alignLeftOnInsert:c,n=void 0!==e.media.allowAdvancedToolBarOptions?e.media.allowAdvancedToolBarOptions:l||c;d.add([o("6PZK").a,i()(i()({},e.media),{},{allowLazyLoading:!s,allowBreakoutSnapPoints:l,allowAdvancedToolBarOptions:n,allowDropzoneDropLine:l,allowMediaSingleEditable:!s,allowRemoteDimensionsFetch:!s,allowMarkingUploadsAsIncomplete:s,fullWidthEnabled:"full-width"===e.appearance,uploadErrorHandler:e.uploadErrorHandler,waitForMediaUpload:e.waitForMediaUpload,isCopyPasteEnabled:!s,alignLeftOnInsert:t})]),Object(o("8bRg").a)("captions",e.media.featureFlags)&&d.add(wt)}var p,h,f;e.mentionProvider&&d.add([o("qk1C").a,{createAnalyticsEvent:n,
sanitizePrivateContent:e.sanitizePrivateContent,insertDisplayName:null!==(p=null===(h=e.mention)||void 0===h?void 0:h.insertDisplayName)&&void 0!==p?p:e.mentionInsertDisplayName,useInlineWrapper:s,allowZeroWidthSpaceAfter:!s,HighlightComponent:null===(f=e.mention)||void 0===f?void 0:f.HighlightComponent}]);if(e.emojiProvider&&d.add([Bt,{createAnalyticsEvent:n,useInlineWrapper:s,allowZeroWidthSpaceAfter:!s}]),e.allowTables){const n=e.allowTables&&"boolean"!=typeof e.allowTables?e.allowTables:{};d.add([Qc,{tableOptions:n,breakoutEnabled:"full-page"===e.appearance,allowContextualMenu:!s,fullWidthEnabled:"full-width"===e.appearance,wasFullWidthEnabled:t&&"full-width"===t.appearance,dynamicSizingEnabled:e.allowDynamicTextSizing}])}if((e.allowTasksAndDecisions||e.taskDecisionProvider)&&d.add([Wl,{allowNestedTasks:e.allowNestedTasks,consumeTabs:l,useLongPressSelection:!1}]),e.feedbackInfo&&d.add([o("R7Pf").a,e.feedbackInfo]),e.allowHelpDialog&&d.add([Xl,e.legacyImageUploadProvider]),
e.saveOnEnter&&d.add([td,e.onSave]),e.legacyImageUploadProvider&&(d.add(hd),e.media||d.add([o("6PZK").a,{allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1,isCopyPasteEnabled:!0}])),e.collabEdit||e.collabEditProvider){var m;let t={sanitizePrivateContent:e.sanitizePrivateContent};e.collabEdit&&(t=i()(i()({},e.collabEdit),t)),d.add([md,i()(i()({},t),{},{EXPERIMENTAL_allowInternalErrorAnalytics:null!==(m=t.EXPERIMENTAL_allowInternalErrorAnalytics)&&void 0!==m?m:Object(o("dxwe").a)()})])}if(e.maxContentSize&&d.add([o("5fPG").a,e.maxContentSize]),e.allowJiraIssue&&d.add(Od),e.allowPanel&&d.add([Bd,{useLongPressSelection:!1,UNSAFE_allowCustomPanel:e.allowPanel.UNSAFE_allowCustomPanel}]),e.allowExtension){const t="object"==typeof e.allowExtension?e.allowExtension:{};d.add([yu,{breakoutEnabled:"full-page"===e.appearance&&!1!==t.allowBreakout,stickToolbarToBottom:t.stickToolbarToBottom,allowAutoSave:t.allowAutoSave,extensionHandlers:e.extensionHandlers,useLongPressSelection:!1,appearance:a
}])}if(e.macroProvider&&d.add(o("GuFF").a),!e.annotationProviders&&e.allowConfluenceInlineComment&&d.add(o("WvEr").a),e.allowDate&&d.add(Au),e.allowTemplatePlaceholders){const t=!0!==e.allowTemplatePlaceholders?e.allowTemplatePlaceholders:{};d.add([Ju,t])}if(e.allowLayouts&&d.add([vp,i()(i()({},"boolean"==typeof e.allowLayouts?{}:e.allowLayouts),{},{useLongPressSelection:!1,UNSAFE_allowSingleColumnLayout:e.allowLayouts.UNSAFE_allowSingleColumnLayout})]),e.smartLinks||e.UNSAFE_cards){const t="full-width"===e.appearance;d.add([bh,i()(i()(i()({},e.UNSAFE_cards),e.smartLinks),{},{platform:s?"mobile":"web",fullWidthMode:t,createAnalyticsEvent:n})])}e.autoformattingProvider&&d.add(Th);let g=!0;var b;(e.allowStatus&&(g="object"==typeof e.allowStatus&&e.allowStatus.menuDisabled,d.add([zh,{menuDisabled:g,useInlineWrapper:s,allowZeroWidthSpaceAfter:!s}])),e.allowIndentation&&d.add(Qh),l&&d.add(o("3FAS").a),!1!==e.autoScrollIntoView&&d.add(ef),
(s||e.UNSAFE_allowUndoRedoButtons)&&d.add(o("wlgv").a),s&&(d.add(nf),d.add(o("sFWM").a)),d.add([Xf,{allowTables:!!e.allowTables,allowExpand:ut(e),insertMenuItems:e.insertMenuItems,horizontalRuleEnabled:e.allowRule,nativeStatusSupported:!g,showElementBrowserLink:e.elementBrowser&&e.elementBrowser.showModal||!1,replacePlusMenuWithElementBrowser:e.elementBrowser&&e.elementBrowser.replacePlusMenu||!1}]),!0===(null===(r=e.featureFlags)||void 0===r?void 0:r.showAvatarGroupAsPlugin)&&d.add([em,{collabEdit:e.collabEdit}]),e.allowFindReplace)&&d.add([tg,{takeFullWidth:!1==!(null===(b=e.featureFlags)||void 0===b||!b.showAvatarGroupAsPlugin)}]);u.enableViewUpdateSubscription&&d.add([o("G0K9").a]),u.codeBidiWarnings&&d.add(ag);const v=new Set;return(e=>-1===(e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[]).indexOf("codeBlock"))({allowBlockType:e.allowBlockType})||v.add("codeBlock"),d.getEditorPlugins(v)}},CAky:function(e,t,n){"use strict";n.d(t,"d",(function(){return s
})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"b",(function(){return E})),n.d(t,"k",(function(){return w}));var o=n("UxO+"),r=n("pDqG");const i=e=>{if(!e.length)return[];const{annotation:t}=e[0].type.schema.marks;return e.filter((e=>e.type===t)).map((e=>e.attrs.id))},a=(e,t)=>{const o=(e=>{const{nodeBefore:t,nodeAfter:n}=e,o=t&&e.doc.nodeAt(Math.max(0,e.pos-t.nodeSize-1)),r=n&&e.doc.nodeAt(e.pos+n.nodeSize);return[o&&o.marks||[],r&&r.marks||[]]})(t).map(i);e.sort(((e,t)=>Object(n("D4z0").w)(o,(t=>t.indexOf(e.id)))-Object(n("D4z0").w)(o,(e=>e.indexOf(t.id)))))},s=e=>{const t=new Set;return e.descendants((e=>(e.marks.filter((e=>"annotation"===e.type.name)).filter(c).forEach((e=>t.add(e.attrs.id))),!0))),Array.from(t)},c=e=>{
const{id:t,annotationType:o}=e.attrs;return function(e){if(!e||"string"!=typeof e)return!1;return!["null","undefined"].includes(e.toLowerCase())}(t)&&function(e){if(!e||"string"!=typeof e)return!1;return Object.values(n("yGJy").b).includes(e)}(o)},l=(e,t)=>r.a.inline(e,t,{class:`${n("xLj0").b.draft}`}),d=e=>`view-annotation-wrapper_${e.map((e=>e.id)).join("_")}`,u=(e,t)=>{const{empty:n,$anchor:o,anchor:r}=e;if(!n||!t)return[];const i=t.nodeAt(r);if(!i&&!o.nodeBefore)return[];const s=t.type.schema.marks.annotation,c=o.nodeBefore,l=i&&i.marks||[];let d=[];s.isInSet(l)?d=l:c&&s.isInSet(c.marks)&&(d=c.marks);const u=d.filter((e=>"annotation"===e.type.name)).map((e=>({id:e.attrs.id,type:e.attrs.annotationType})));return a(u,o),u};function p(e,t){const{bookmark:n}=t;return n?n.resolve(e.doc):e.selection}const h=new o.PluginKey("inlineCommentPluginKey"),f=e=>h.getState(e),m=e=>{const{from:t,to:o}=e.selection;return Object(n("ITcU").b)({from:t,to:o},e.doc,e.schema).length},g=(e,t)=>o=>{
let r={};return e&&(r={inputMethod:t,overlap:m(o)}),{action:e?n("J5HJ").a.OPENED:n("J5HJ").a.CLOSED,actionSubject:n("J5HJ").b.ANNOTATION,actionSubjectId:n("J5HJ").c.INLINE_COMMENT,eventType:n("J5HJ").e.TRACK,attributes:r}},b=e=>{const{selection:t}=e,{disallowOnWhitespace:r}=f(e);if(t.empty||!(t instanceof o.TextSelection||t instanceof o.AllSelection))return n("nnUN").a.INVALID;const i=v(e);return i&&t.to-t.from==1?n("nnUN").a.INVALID:i?n("nnUN").a.DISABLED:r&&function(e){let t=!1;return e.content().content.descendants((e=>(""===e.textContent.trim()&&(t=!0),!t))),t}(t)||function(e,t){const{text:n,paragraph:o}=t.nodes;let r=!1;return e.content().content.descendants((e=>!(e.type===o&&!e.content.size)&&(e.type===n&&e.textContent||(r=!0),!r))),!r}(t,e.schema)?n("nnUN").a.INVALID:n("nnUN").a.VALID},v=e=>{const{selection:t,doc:o,schema:r}=e;return!Object(n("ITcU").a)({from:t.from,to:t.to},o,r)};function y(e,t){const{schema:{marks:{annotation:n}}}=t
;return!!(n&&e&&e.marks.length&&n.isInSet(e.marks))}function E(e,t){if(!e.content.size)return!1;let n=!1;return e.content.forEach((e=>{if(n=n||y(e,t),n)return!0;e.descendants((e=>!y(e,t)||(n=!0,!1)))})),n}function w(e,t){if(!e.content.size)return!1;e.content.forEach((e=>{O(e,t),e.content.descendants((e=>(O(e,t),!0)))}))}function O(e,t){return y(e,t)&&(e.marks=e.marks.filter((e=>"annotation"!==e.type.name||function(e,t){const n=f(t);return n.annotations&&Object.keys(n.annotations).includes(e)}(e.attrs.id,t)))),e}},CHQz:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return h}));var o=n("+80P");const r=/(https?|ftp):\/\/[^\s]+/,i=n.n(o)()();i.add("sourcetree:","http:");const a="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|")
;function s(e){if(!e)return null;let t=h(e);return t.length||(t=i.match(e)),t&&t[0]}a.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),i.tlds(a,!1);class c{static create(e){return new class{exec(t){const n=t.slice(0,t.length-1).split(" "),o=n[n.length-1],r=o.length>0;if(!t.endsWith(" ")||!r)return null;const a=i.match(o);if(!a||0===a.length)return null;const s=a[a.length-1],c=a[a.length-1];return c.input=t.substring(s.index),c.length=c.lastIndex-c.index+1,c.index=t.lastIndexOf(o)+s.index,e&&(c[0]=c),c}}}}function l(e){if(!e)return"";if(Object(n("Z7Qe").b)(e))return e;const t=s(e);return t&&t.url||""}function d(e){return t=>Object(n("n8Jk").e)(t,((t,n)=>{
const o=!n||n.type!==e.nodes.codeBlock,r=t.type.schema.marks.link;if(o&&t.isText&&!r.isInSet(t.marks)){const e=[],n=t.text,o=function(e){const t=[];let n=e&&i.match(e);n&&n.length>0&&n.forEach((e=>{t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(n);let a=0;return o.forEach((n=>{n.start>0&&e.push(t.cut(a,n.start)),e.push(t.cut(n.start,n.end).mark(r.create({href:l(n.href)}).addToSet(t.marks))),a=n.end})),a<n.length&&e.push(t.cut(a)),e}return t}))}function u(e){return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function p(e){if(!window||!window.location)return!1;return window.location.hostname===u(e)}const h=e=>{const t=[];if(!r.test(e))return t;let n,o=0;for(;n=e.substr(o);){const e=(n.match(r)||[""])[0];if(!e)break;{const i=n.search(r),a=i>=0?i+o:i,s=a+e.length;t.push({index:a,lastIndex:s,raw:e,url:e,text:e,schema:""}),o+=s}}return t}},CK61:function(e,t,n){"use strict"
;var o=n("AGgm"),r=n("Vlv/"),i=n("fMI+"),a=n("qRUV"),s=n("dpam"),c=n("TLR5"),l=n("+80P"),d=n("2KYT"),u=n("GYWy"),p={default:n("ijE+"),zero:n("HKru"),commonmark:n("Qo0+")},h=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!h.test(t)||!!f.test(t)}var g=["http:","https:","mailto:"];function b(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=u.toASCII(t.hostname)}catch(n){}return d.encode(d.format(t))}function v(e){var t=d.parse(e,!0);if(t.hostname&&(!t.protocol||g.indexOf(t.protocol)>=0))try{t.hostname=u.toUnicode(t.hostname)}catch(n){}return d.decode(d.format(t))}function y(e,t){if(!(this instanceof y))return new y(e,t);t||o.isString(e)||(t=e||{},e="default"),this.inline=new c,this.block=new s,this.core=new a,this.renderer=new i,this.linkify=new l,this.validateLink=m,this.normalizeLink=b,this.normalizeLinkText=v,this.utils=o,this.helpers=o.assign({},r),this.options={},
this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return o.assign(this.options,e),this},y.prototype.configure=function(e){var t,n=this;if(o.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var o=e.filter((function(e){return n.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+o);return this},y.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),
["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var o=e.filter((function(e){return n.indexOf(e)<0}));if(o.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+o);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},CWsV:function(e,t,n){"use strict";function o(e,t,n){
this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}o.prototype.attrIndex=function(e){var t,n,o;if(!this.attrs)return-1;for(n=0,o=(t=this.attrs).length;n<o;n++)if(t[n][0]===e)return n;return-1},o.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},o.prototype.attrSet=function(e,t){var n=this.attrIndex(e),o=[e,t];n<0?this.attrPush(o):this.attrs[n]=o},o.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},o.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=o},CXva:function(e,t,n){"use strict";var o=n("CWsV"),r=n("AGgm").isWhiteSpace,i=n("AGgm").isPunctChar,a=n("AGgm").isMdAsciiPunct;function s(e,t,n,o){this.src=e,this.env=n,this.md=t,this.tokens=o,this.tokens_meta=Array(o.length),this.pos=0,
this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[]}s.prototype.pushPending=function(){var e=new o("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},s.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new o(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},s.prototype.scanDelims=function(e,t){var n,o,s,c,l,d,u,p,h,f=e,m=!0,g=!0,b=this.posMax,v=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;f<b&&this.src.charCodeAt(f)===v;)f++;return s=f-e,o=f<b?this.src.charCodeAt(f):32,u=a(n)||i(String.fromCharCode(n)),h=a(o)||i(String.fromCharCode(o)),d=r(n),
(p=r(o))?m=!1:h&&(d||u||(m=!1)),d?g=!1:u&&(p||h||(g=!1)),t?(c=m,l=g):(c=m&&(!g||u),l=g&&(!m||h)),{can_open:c,can_close:l,length:s}},s.prototype.Token=o,e.exports=s},Cepr:function(e,t,n){"use strict";function o(e){var t,n,o;const r={},i={},a=e.schema.nodes,s=[null===(t=a.extension)||void 0===t?void 0:t.name,null===(n=a.inlineExtension)||void 0===n?void 0:n.name,null===(o=a.bodiedExtension)||void 0===o?void 0:o.name];return e.doc.descendants((e=>{var t;const n=e.type.name;n in r?r[n]++:r[n]=1;let o=n;var a;s.includes(o)&&null!==(t=e.attrs)&&void 0!==t&&t.extensionType&&(o=`${e.attrs.extensionType} - ${null===(a=e.attrs)||void 0===a?void 0:a.extensionKey}`,o in i?i[o]++:i[o]=1);return!0})),{nodeCount:r,extensionNodeCount:i}}n.d(t,"a",(function(){return o}))},Ciyk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#5E6C84" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm2 13v5a1 1 0 001 1h12a1 1 0 001-1v-5H5zm1.883-8a1 1 0 00-.992.876L5 13h14l-.89-7.124A1 1 0 0017.116 5H6.883zM8 15h8a1 1 0 010 2H8a1 1 0 010-2z"/></svg>'},e,{size:"medium"}));i.displayName="Executable24Icon";var a=i;t.default=a},CkRR:function(e,t,n){"use strict";let o,r;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.ARROW_RIGHT="rightArrow",e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(o||(o={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(r||(r={}))},Cm4f:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d}));var o=n("q1tI"),r=n.n(o),i=n("vOnD")
;const a=i.default.div.withConfig({componentId:"lljhdl-0"})`${n("Yzqk").h200} font-weight:normal;color:${e=>e.error?"#DE350B":e.valid?"#00875A":"#6B778C"};margin-top:${Object(n("ARg4").gridSize)()/2}px;display:flex;justify-content:baseline;`,s=i.default.span.withConfig({componentId:"lljhdl-1"})`display:flex;margin-right:4px;`,c=({children:e})=>r.a.createElement(a,null,e),l=({children:e})=>r.a.createElement(a,{error:!0},r.a.createElement(s,null,r.a.createElement(n.n(n("425I")).a,{size:"small",label:"error","aria-label":"error"})),e),d=({children:e})=>r.a.createElement(a,{valid:!0},r.a.createElement(s,null,r.a.createElement(n.n(n("2MZH")).a,{size:"small",label:"success"})),e)},CuOu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)},D4z0:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"h",(function(){return c})),
n.d(t,"d",(function(){return l})),n.d(t,"x",(function(){return p})),n.d(t,"s",(function(){return h})),n.d(t,"y",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"o",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"n",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"f",(function(){return T})),n.d(t,"r",(function(){return x})),n.d(t,"e",(function(){return k})),n.d(t,"u",(function(){return I})),n.d(t,"v",(function(){return A})),n.d(t,"w",(function(){return N})),n.d(t,"t",(function(){return M}));n("ABBN"),n("MEpN");var o=n("UxO+"),r=(n("CsC6"),n("mG1W"));function i(e){const{selection:t,doc:r}=e;if(t instanceof o.NodeSelection){if("media"===t.node.type.name){const e=r.nodeAt(t.anchor-3);return!(!e||"paragraph"!==e.type.name)}if("mediaGroup"===t.node.type.name){
const e=t.$anchor.nodeBefore;return!(!e||"paragraph"!==e.type.name)}}return t instanceof o.TextSelection&&!t.empty||!Object(n("vRZh").b)(e)}function a(e){const{selection:t,doc:r}=e;if(t instanceof o.NodeSelection){if("media"===t.node.type.name){const e=r.nodeAt(t.$head.after());return!(!e||"paragraph"!==e.type.name)}if("mediaGroup"===t.node.type.name)return!(t.$head.parentOffset===t.$anchor.parent.content.size)}return t instanceof o.TextSelection&&!t.empty||!Object(n("vRZh").d)(e)}function s(e){const t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function c(e){return e.$cursor||void 0}function l(e,t,n){const o=d(t,e.$to).depth;if(0===o)return!1;const r=t.resolve(e.$to.after(o));return!!r.nodeAfter&&n(r.nodeAfter)}function d(e,t){const n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;let o=t.node(t.depth),r=t;for(;t.depth>=1;)o=(t=e.resolve(t.before(t.depth))).node(t.depth),o&&-1!==n.indexOf(o.type.name)&&(r=t);return r}
const u=new(n("pSE0").JSONTransformer);function p(e){return u.encode(e)}function h(e){return u.encodeNode(e)}function f(){const e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(const n in t)if(void 0!==e.style[n])return t[n]}function m(e){const t=function(e){const t=[];if(e.selection){const{$from:n,$to:o}=e.selection,{blockquote:r,panel:i,orderedList:a,bulletList:s,listItem:c,codeBlock:l,decisionItem:d,decisionList:u,taskItem:p,taskList:h}=e.schema.nodes;e.doc.nodesBetween(n.pos,o.pos,(e=>{e.isBlock&&[r,i,a,s,c,l,d,u,p,h].indexOf(e.type)>=0&&t.push(e.type)}))}return t}(e),{panel:n}=e.schema.nodes;return t.filter((e=>e!==n)).length>0}const g=e=>0===e.indexOf("temporary:"),b=e=>{
const{doc:t,paragraph:o,codeBlock:r,blockquote:i,panel:a,heading:s,listItem:c,bulletList:l,orderedList:d,taskList:u,taskItem:p,decisionList:h,decisionItem:f,media:m,mediaGroup:g,mediaSingle:b}=e.nodes,v=e=>{switch(e.type){case m:case g:case b:return!1;case o:case r:case s:case p:case f:return 0===e.content.size;case i:case a:case c:return 2===e.content.size&&v(e.content.firstChild);case l:case d:return 4===e.content.size&&v(e.content.firstChild);case u:case h:return 2===e.content.size&&v(e.content.firstChild);case t:let y=!0;return e.content.forEach((e=>{y=y&&v(e)})),y;default:return Object(n("x+VZ").j)(e)}};return v},v=e=>{const{table:t,tableCell:n}=e.schema.nodes;return Object(r.hasParentNodeOfType)([t,n])(e.selection)},y=e=>{const{tableCell:t,tableHeader:n}=e.schema.nodes;return Object(r.hasParentNodeOfType)([t,n])(e.selection)},E=e=>Object(n("9a+x").a)(e,"td")||Object(n("9a+x").a)(e,"th"),w=e=>{const{content:t}=e;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name
},O=e=>Object(r.hasParentNodeOfType)(e.schema.nodes.layoutSection)(e.selection),S=e=>Object(r.hasParentNodeOfType)(e.schema.nodes.listItem)(e.selection);function C(e,t,n,o){const r=[];return e.nodesBetween(t,n,((e,t,n)=>{o(e,t,n)&&r.push({node:e,pos:t})})),r}function T(e=[],t=(e=>e)){const n=new Set;return e.forEach((e=>n.add(t(e)))),e.filter((e=>{const o=t(e);return!!n.has(o)&&(n.delete(o),!0)}))}const x=e=>e instanceof o.TextSelection;function k(e,...t){const n=[e,...t];return function(e){return n.reduceRight(((e,t)=>t(e)),e)}}function I(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...n)=>t(e(...n))))}function A(e={},t={}){const n=Object.keys(e),o=Object.keys(t);return n.length===o.length&&n.reduce(((n,o)=>n&&e[o]===t[o]),!0)}function N(e,t){return e.reduce(((e,n)=>e+t(n)),0)}function M(e){return null!=e}},DQ6B:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"d",(function(){
return l})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return b}));var o=n("CsC6"),r=n("UxO+"),i=n("mG1W");const a=e=>"paragraph"===e.parent.type.name,s=e=>{const t=e.node(-1);return Object(n("EvmU").c)(e.parent)||Object(n("EvmU").d)(e.parent)||Object(n("EvmU").c)(t)},c=(e,t)=>{const{$from:n,$to:r}=t,i=n.blockRange(r);if(!i)return!1;return!!Object(o.m)(i,e)},l=e=>{const{parent:t}=e.selection.$from,{listItem:o}=e.schema.nodes;return e.selection instanceof n("g1AK").a?Object(n("EvmU").c)(t):Object(i.hasParentNodeOfType)(o)(e.selection)&&Object(n("EvmU").e)(t)},d=e=>{const{$from:t}=e.selection,o=e.doc.resolve(t.pos-1);let r=o?o.nodeBefore:null;return e.selection instanceof n("g1AK").a&&(r=t.nodeBefore),Object(n("EvmU").d)(r)},u=e=>{const{selection:{from:t,to:o}}=e;let r=null;return e.doc.nodesBetween(t,o,(e=>(Object(n("EvmU").d)(e)&&(r=e),
!r))),r},p=e=>{let t=0;for(let o=e.depth-1;o>0;o--){const r=e.node(o);Object(n("EvmU").d)(r)&&(t+=1)}return t},h=e=>{const t=p(e)-1,o=Object(i.findParentNodeClosestToPos)(e,n("EvmU").c);return{indentLevel:t,itemIndex:e.index(o?o.depth-1:void 0)}},f=({selection:e,doc:t})=>{if(e.empty)return e;const{$from:n,$to:o}=e;if(e instanceof r.NodeSelection){const e=m(n);return new r.TextSelection(e,e)}const i=m(n),a=g(o);return new r.TextSelection(a,i)},m=e=>{const t=e.blockRange(e,n("EvmU").c);return t&&0===e.textOffset&&t.end-1===e.pos?r.Selection.near(e.doc.resolve(t.end+1),1).$from:e},g=e=>{const t=e.blockRange(e,n("EvmU").c);return t&&0===e.textOffset&&t.start+1===e.pos?r.Selection.near(e.doc.resolve(t.start-1),-1).$to:e},b=({selection:e})=>{const{$from:t,$to:o}=e,r=t.blockRange(o,n("EvmU").d);return r||null}},DRvN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm5 4h5a1 1 0 010 2h-5a1 1 0 010-2zM7 7h10a1 1 0 010 2H7a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignRightIcon";var a=i;t.default=a},DUc8:function(e,t,n){"use strict";var o=n("zLVn"),r=n("wx14"),i=n("q1tI"),a=(n("17x9"),"data-focus-lock"),s="data-focus-lock-disabled";function c(e,t){return function(e,t){var n=Object(i.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t,(function(t){return e.forEach((function(e){return function(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}(e,t)}))}))}var l={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},d=function(e){
var t=e.children;return i.createElement(i.Fragment,null,i.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:l}),t,t&&i.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:l}))};d.propTypes={},d.defaultProps={children:null};function u(e){return e}function p(e,t){void 0===t&&(t=u);var n=[],o=!1;return{read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var r=t(e,o);return n.push(r),function(){n=n.filter((function(e){return e!==r}))}},assignSyncMedium:function(e){for(o=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){o=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){
t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}}}function h(e,t){return void 0===t&&(t=u),p(e,t)}var f=h({},(function(e){return{target:e.target,currentTarget:e.currentTarget}})),m=h(),g=h(),b=function(e){void 0===e&&(e={});var t=p(null);return t.options=n("mrSG").__assign({async:!0,ssr:!1},e),t}({async:!0}),v=[],y=i.forwardRef((function(e,t){var n,o=i.useState(),d=o[0],u=o[1],p=i.useRef(),h=i.useRef(!1),g=i.useRef(null),y=e.children,E=e.disabled,w=e.noFocusGuards,O=e.persistentFocus,S=e.crossFrame,C=e.autoFocus,T=(e.allowTextSelection,e.group),x=e.className,k=e.whiteList,I=e.shards,A=void 0===I?v:I,N=e.as,M=void 0===N?"div":N,R=e.lockProps,j=void 0===R?{}:R,P=e.sideCar,D=e.returnFocus,L=e.onActivation,_=e.onDeactivation,B=i.useState({})[0],H=i.useCallback((function(){g.current=g.current||document&&document.activeElement,p.current&&L&&L(p.current),h.current=!0}),[L]),J=i.useCallback((function(){h.current=!1,_&&_(p.current)}),[_]);Object(i.useEffect)((function(){
E||(g.current=null)}),[]);var $=i.useCallback((function(e){var t=g.current;if(t&&t.focus){var n="function"==typeof D?D(t):D;if(Boolean(n)){var o="object"==typeof n?n:void 0;g.current=null,e?Promise.resolve().then((function(){return t.focus(o)})):t.focus(o)}}}),[D]),F=i.useCallback((function(e){h.current&&f.useMedium(e)}),[]),z=m.useMedium,U=i.useCallback((function(e){p.current!==e&&(p.current=e,u(e))}),[]);var V=Object(r.a)(((n={})[s]=E&&"disabled",n[a]=T,n),j),W=!0!==w,K=W&&"tail"!==w,q=c([t,U]);return i.createElement(i.Fragment,null,W&&[i.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:E?-1:0,style:l}),i.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:E?-1:1,style:l})],!E&&i.createElement(P,{id:B,sideCar:b,observed:d,disabled:E,persistentFocus:O,crossFrame:S,autoFocus:C,whiteList:k,shards:A,onActivation:H,onDeactivation:J,returnFocus:$}),i.createElement(M,Object(r.a)({ref:q},V,{className:x,onBlur:z,onFocus:F
}),y),K&&i.createElement("div",{"data-focus-guard":!0,tabIndex:E?-1:0,style:l}))}));y.propTypes={},y.defaultProps={children:void 0,disabled:!1,returnFocus:!1,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var E=y,w=n("tbcB"),O=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},S=function(e){return Array.isArray(e)?e:[e]},C=function(e){return e.parentNode?C(e.parentNode):e},T=function(e){return S(e).filter(Boolean).reduce((function(e,t){var n=t.getAttribute(a);return e.push.apply(e,n?function(e){for(var t=new Set,n=e.length,o=0;o<n;o+=1)for(var r=o+1;r<n;r+=1){var i=e[o].compareDocumentPosition(e[r]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(r),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(o)}return e.filter((function(e,n){return!t.has(n)}))
}(O(C(t).querySelectorAll('[data-focus-lock="'+n+'"]:not(['+s+'="disabled"])'))):[t]),e}),[])},x=function(e){return Boolean(O(e.querySelectorAll("iframe")).some((function(e){return function(e){return e===document.activeElement}(e)})))},k=function(e){var t=document&&document.activeElement;return!(!t||t.dataset&&t.dataset.focusGuard)&&T(e).reduce((function(e,n){return e||n.contains(t)||x(n)}),!1)},I=function(e){return"INPUT"===e.tagName&&"radio"===e.type},A=function(e,t){return I(e)&&e.name?function(e,t){return t.filter(I).filter((function(t){return t.name===e.name})).filter((function(e){return e.checked}))[0]||e}(e,t):e},N=function(e){return e[0]&&e.length>1?A(e[0],e):e[0]},M=function(e,t){return e.length>1?e.indexOf(A(e[t],e)):t},R=function(e,t){return!e||e===document||e&&e.nodeType===Node.DOCUMENT_NODE||!function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null)
;return!(!t||!t.getPropertyValue||"none"!==t.getPropertyValue("display")&&"hidden"!==t.getPropertyValue("visibility"))}(e)&&t(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)},j=function(e,t){var n=e.get(t);if(void 0!==n)return n;var o=R(t,j.bind(void 0,e));return e.set(t,o),o},P=function(e){return Boolean(e&&e.dataset&&e.dataset.focusGuard)},D=function(e){return!P(e)},L=function(e){return Boolean(e)},_="NEW_FOCUS",B=function(e,t,n,o){var r=e.length,i=e[0],a=e[r-1],s=P(n);if(!(e.indexOf(n)>=0)){var c=t.indexOf(n),l=o?t.indexOf(o):c,d=o?e.indexOf(o):-1,u=c-l,p=t.indexOf(i),h=t.indexOf(a),f=function(e){var t=new Set;return e.forEach((function(n){return t.add(A(n,e))})),e.filter((function(e){return t.has(e)}))}(t),m=f.indexOf(n)-(o?f.indexOf(o):c),g=M(e,0),b=M(e,r-1);return-1===c||-1===d?_:!u&&d>=0?d:c<=p&&s&&Math.abs(u)>1?b:c>=h&&s&&Math.abs(u)>1?g:u&&Math.abs(m)>1?d:c<=p?b:c>h?g:u?Math.abs(u)>1?d:(r+d+u)%r:void 0}},H=function(e,t){
var n=e.tabIndex-t.tabIndex,o=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||o},J=function(e,t,n){return O(e).map((function(e,t){return{node:e,index:t,tabIndex:n&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}})).filter((function(e){return!t||e.tabIndex>=0})).sort(H)},$=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"].join(","),F=$+", [data-focus-guard]",z=function(e,t){return e.reduce((function(e,n){return e.concat(O(n.querySelectorAll(t?F:$)),n.parentNode?O(n.parentNode.querySelectorAll($)).filter((function(e){return e===n})):[])}),[])},U=function(e,t){return O(e).filter((function(e){return j(t,e)})).filter((function(e){return function(e){return!(("INPUT"===e.tagName||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))}(e)}))},V=function(e,t,n){return J(U(z(e,n),t),!0,n)
},W=function(e,t){return J(U(z(e),t),!1)},K=function(e,t){return U(function(e){var t=e.querySelectorAll("[data-autofocus-inside]");return O(t).map((function(e){return z([e])})).reduce((function(e,t){return e.concat(t)}),[])}(e),t)},q=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&q(e.parentNode,t),t},G=function(e,t){for(var n=q(e),o=q(t),r=0;r<n.length;r+=1){var i=n[r];if(o.indexOf(i)>=0)return i}return!1},Y=function(e,t,n){var o=S(e),r=S(t),i=o[0],a=!1;return r.filter(Boolean).forEach((function(e){a=G(a||e,e)||a,n.filter(Boolean).forEach((function(e){var t=G(i,e);t&&(a=!a||t.contains(a)?t:G(t,a))}))})),a},X=function(e,t){var n=document&&document.activeElement,o=T(e).filter(D),r=Y(n||e,e,o),i=new Map,a=W(o,i),s=V(o,i).filter((function(e){var t=e.node;return D(t)}));if(s[0]||(s=a)[0]){var c=W([r],i).map((function(e){return e.node})),l=function(e,t){var n=new Map;return t.forEach((function(e){return n.set(e.node,e)})),e.map((function(e){return n.get(e)})).filter(L)
}(c,s),d=l.map((function(e){return e.node})),u=B(d,c,n,t);if(u===_){var p=a.map((function(e){return e.node})).filter(function(e){return function(t){return t.autofocus||t.dataset&&!!t.dataset.autofocus||e.indexOf(t)>=0}}(function(e,t){return e.reduce((function(e,n){return e.concat(K(n,t))}),[])}(o,i)));return{node:p&&p.length?N(p):N(d)}}return void 0===u?u:l[u]}},Q=0,Z=!1,ee=function(e,t){var n=X(e,t);if(!Z&&n){if(Q>2)return console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),Z=!0,void setTimeout((function(){Z=!1}),1);Q++,function(e){e.focus(),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()}(n.node),Q--}};function te(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var ne=function(){return function(){return document&&document.activeElement===document.body}()||function(){
return document&&O(document.querySelectorAll("[data-no-focus-lock]")).some((function(e){return e.contains(document.activeElement)}))}()},oe=null,re=null,ie=null,ae=!1,se=function(){return!0};function ce(e,t,n,o){var r=null,i=e;do{var a=o[i];if(a.guard)a.node.dataset.focusAutoGuard&&(r=a);else{if(!a.lockItem)break;if(i!==e)return;r=null}}while((i+=n)!==t);r&&(r.node.tabIndex=0)}var le=function(e){return e&&"current"in e?e.current:e},de=function(){var e=!1;if(oe){var t=oe,n=t.observed,o=t.persistentFocus,r=t.autoFocus,i=t.shards,a=t.crossFrame,s=n||ie&&ie.portaledElement,c=document&&document.activeElement;if(s){var l=[s].concat(i.map(le).filter(Boolean));if(c&&!function(e){return(oe.whiteList||se)(e)}(c)||(o||function(e){return e?Boolean(ae):"meanwhile"===ae}(a)||!ne()||!re&&r)&&(!s||k(l)||function(e){return ie&&ie.portaledElement===e}(c)||(document&&!re&&c&&!r?(c.blur&&c.blur(),document.body.focus()):(e=ee(l,re),ie={})),ae=!1,re=document&&document.activeElement),document){
var d=document&&document.activeElement,u=function(e){var t=T(e).filter(D),n=Y(e,e,t),o=new Map,r=V([n],o,!0),i=V(t,o).filter((function(e){var t=e.node;return D(t)})).map((function(e){return e.node}));return r.map((function(e){var t=e.node;return{node:t,index:e.index,lockItem:i.indexOf(t)>=0,guard:P(t)}}))}(l),p=u.map((function(e){return e.node})).indexOf(d);p>-1&&(u.filter((function(e){var t=e.guard,n=e.node;return t&&n.dataset.focusAutoGuard})).forEach((function(e){return e.node.removeAttribute("tabIndex")})),ce(p,u.length,1,u),ce(p,-1,-1,u))}}}return e},ue=function(e){de()&&e&&(e.stopPropagation(),e.preventDefault())},pe=function(){return te(de)},he=function(e){var t=e.target,n=e.currentTarget;n.contains(t)||function(e,t){ie={observerNode:e,portaledElement:t}}(n,t)},fe=function(){ae="just",setTimeout((function(){ae="meanwhile"}),0)};f.assignSyncMedium(he),m.assignMedium(pe),g.assignMedium((function(e){return e({moveFocusInside:ee,focusInside:k})}));var me=Object(w.a)((function(e){
return e.filter((function(e){return!e.disabled}))}),(function(e){var t=e.slice(-1)[0];t&&!oe&&function(){document.addEventListener("focusin",ue),document.addEventListener("focusout",pe),window.addEventListener("blur",fe)}();var n=oe,o=n&&t&&t.id===n.id;oe=t,n&&!o&&(n.onDeactivation(),e.filter((function(e){return e.id===n.id})).length||n.returnFocus(!t)),t?(re=null,o&&n.observed===t.observed||t.onActivation(),de(),te(de)):(!function(){document.removeEventListener("focusin",ue),document.removeEventListener("focusout",pe),window.removeEventListener("blur",fe)}(),re=null)}))((function(){return null})),ge=i.forwardRef((function(e,t){return i.createElement(E,Object(r.a)({sideCar:me,ref:t},e))})),be=E.propTypes||{};be.sideCar,Object(o.a)(be,["sideCar"]);ge.propTypes={};var ve=ge;t.a=ve},DUeF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("q1tI"),r=n.n(o),i=n("3zPy"),a=n.n(i);class s extends o.Component{constructor(...e){super(...e),this.setRef=e=>{this.ref=e},
this.ref=void 0,this.handleKeyDown=e=>{switch(e.keyCode){case a()("up"):this.props.onArrowUp&&(this.props.onArrowUp(e),e.stopPropagation());break;case a()("down"):this.props.onArrowDown&&(this.props.onArrowDown(e),e.stopPropagation());break;case a()("left"):this.props.onArrowLeft&&(this.props.onArrowLeft(e),e.stopPropagation());break;case a()("right"):this.props.onArrowRight&&(this.props.onArrowRight(e),e.stopPropagation())}}}componentDidMount(){this.ref&&this.ref.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){this.ref&&this.ref.removeEventListener("keydown",this.handleKeyDown)}render(){return r.a.createElement("div",{ref:this.setRef},this.props.children)}}s.displayName="ArrowKeysHandler",s.defaultProps={onArrowUp:null,onArrowDown:null,onArrowLeft:null,onArrowRight:null}},Dc6L:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){
return c})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p}));const o=e=>{const t=[];return(e.steps||[]).forEach((n=>{const{to:o,from:r,slice:i}=n,a=i&&i.content?i.content.size:0;for(let s=r;s<=o+a;s++)if(s<=e.doc.content.size){const n=e.doc.resolve(s).node(1);n&&!t.find((e=>e===n))&&t.push(n)}})),t},r=e=>{try{e.check()}catch(t){return!1}return!0},i=e=>e.every(r),a=(e,t)=>t&&e&&e.type===t,s=(e,t)=>a(e,t.nodes.paragraph),c=(e,t)=>a(e,t.nodes.text),l=(e,t)=>a(e,t.marks.link);let d;!function(e){e[e.selectedInRange=0]="selectedInRange",e[e.selectedInside=1]="selectedInside"}(d||(d={}));const u=(e,t,n,o)=>{const r=Math.min(e,t),i=Math.max(e,t),a=n,s=n+o;return e===t?null:r<=a&&s<i||r<a&&s<=i?d.selectedInRange:a<=e&&t<=s?d.selectedInside:null},p=(e,t,n)=>{const o="embed"===n||"block"===n?void 0:-1,r=e.selection.$from.node(o);return r&&r.type.validContent(t)}},DgfI:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return o}));const o=e=>t=>{const o=Object(n("zYPQ").c)(t);if(!o)return;const r=n("wYWE").b.get(o.node);return(Array.isArray(e)?e:[e]).filter((e=>e>=0&&e<=r.width-1)).reduce(((e,t)=>{const n=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(n.map((e=>{const t=o.node.nodeAt(e),n=e+o.start;return{pos:n,start:n+1,node:t,depth:o.depth+2}})))}),[])}},Dp3h:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"listeners",{})}on(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}off(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)}emit(e,t){this.listeners[e]&&this.listeners[e].forEach((e=>e(t)))}destroy(){this.listeners={}}}function a(e){return(t,n)=>{if(!t)throw new Error("event name is required!");const o="string"==typeof t?t:t.key;e.emit(o,n)}}},E3sl:function(e,t,n){"use strict"
;n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return g}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("EcEN"),s=n.n(a);let c,l;!function(e){e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(c||(c={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(l||(l={}));const d=(e,t)=>n=>{if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){const o=n.doc.resolve(e),r=n.doc.resolve(t),i=n.schema.marks.link;if(o.parent===r.parent&&o.parent.isTextblock&&o.parent.type.allowsMarkType(i)){let o=!0;return n.doc.nodesBetween(e,t,(e=>(o=o&&!e.marks.some((e=>e.type.excludes(i))),o))),o}}return!1},u=(e,t)=>{if(e){if(e.type===l.EDIT_LINK_TOOLBAR||e.type===l.EDIT_INSERTED_TOOLBAR){
const{pos:n,deleted:o}=t.mapping.mapResult(e.pos,1),i=t.doc.nodeAt(n);return!o&&i.type.schema.marks.link.isInSet(i.marks)?i===e.node&&n===e.pos?e:r()(r()({},e),{},{pos:n,node:i}):void 0}return e.type===l.INSERT_LINK_TOOLBAR?r()(r()({},e),{},{from:t.mapping.map(e.from),to:t.mapping.map(e.to)}):void 0}},p=(e,t,n)=>{if(!e)switch(t){case c.SHOW_INSERT_TOOLBAR:{const{from:e,to:t}=n.selection;return d(e,t)(n)?{type:l.INSERT_LINK_TOOLBAR,from:e,to:t}:void 0}case c.SELECTION_CHANGE:const e=h(n);return e?r()(r()({},e),{},{type:l.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===l.EDIT_LINK_TOOLBAR)switch(t){case c.EDIT_INSERTED_TOOLBAR:{const t=h(n);return t?t.pos===e.pos&&t.node===e.node?r()(r()({},e),{},{type:l.EDIT_INSERTED_TOOLBAR}):r()(r()({},t),{},{type:l.EDIT_INSERTED_TOOLBAR}):void 0}case c.SELECTION_CHANGE:const t=h(n);return t?t.pos===e.pos&&t.node===e.node?e:r()(r()({},t),{},{type:l.EDIT_LINK_TOOLBAR}):void 0;case c.HIDE_TOOLBAR:return;default:return e}
if(e.type===l.INSERT_LINK_TOOLBAR)switch(t){case c.SELECTION_CHANGE:case c.HIDE_TOOLBAR:return;default:return e}},h=e=>{const{selection:{$from:t}}=e;if((e=>!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks()))(e)||(e=>{const{$from:t,$to:n}=e.selection,o=t.nodeAfter;return!!o&&0===t.textOffset&&n.pos-t.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)})(e)){const n=t.pos-t.textOffset,o=e.doc.nodeAt(n);return o&&o.isText?{node:o,pos:n}:void 0}},f=e=>{const t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof i.TextSelection?t.content.firstChild.textContent:void 0},m=new i.PluginKey("hyperlinkPlugin"),g=e=>new i.Plugin({state:{init(e,t){const n=d(t.selection.from,t.selection.to)(t);return{activeText:f(t.selection),canInsertLink:n,timesViewed:0,activeLinkMark:p(void 0,c.SELECTION_CHANGE,t)}},apply(t,o,i,a){let l=o;const h=t.getMeta(m)&&t.getMeta(m).type,g=t.getMeta(m)&&t.getMeta(m).inputMethod;if(t.docChanged&&(l={
activeText:l.activeText,canInsertLink:d(a.selection.from,a.selection.to)(a),timesViewed:l.timesViewed,inputMethod:g,activeLinkMark:u(l.activeLinkMark,t)}),h){const e=[c.SHOW_INSERT_TOOLBAR,c.EDIT_INSERTED_TOOLBAR].includes(h)?{timesViewed:++l.timesViewed,searchSessionId:s()()}:{timesViewed:l.timesViewed,searchSessionId:l.searchSessionId};l=r()({activeText:l.activeText,canInsertLink:l.canInsertLink,inputMethod:g,activeLinkMark:p(l.activeLinkMark,h,a)},e)}return t.selectionSet&&(l={activeText:f(a.selection),canInsertLink:d(a.selection.from,a.selection.to)(a),activeLinkMark:p(l.activeLinkMark,c.SELECTION_CHANGE,a),timesViewed:l.timesViewed,searchSessionId:l.searchSessionId,inputMethod:g}),Object(n("D4z0").v)(l,o)||e(m,l),l}},key:m})},"E7O/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var o=n("q1tI"),r=n.n(o),i=n("JRPe");const a=Object(i.defineMessages)({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment",
description:"Create/add an inline comment based on the users selection"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings",description:"Error message to communicate to the user they can only do the current action in certain contexts"},toolbar:{id:"fabric.editor.annotationToolbar",defaultMessage:"Annotation toolbar",description:"A label for a toolbar (UI element) that creates annotations/comments in the document"}}),s=e=>(t,n)=>{const o=document.querySelector(`div[aria-label="${e}"]`);if(!o)return n;const r=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=r.getBoundingClientRect(),a=window&&window.getSelection(),s=a&&!a.isCollapsed&&a.getRangeAt(0);if(!s)return n;const c=o.getBoundingClientRect(),{head:l,anchor:d}=t.state.selection,u=t.coordsAtPos(Math.min(l,d)),p=t.coordsAtPos(Math.max(l,d)-Math.min(s.endOffset,1)),h=(u.top||0)-1.5*c.height;let f=0;if(u.top!==p.top){
f=l>d?Math.max(u.right,p.right):Math.min(u.left,p.left);const e=s.getClientRects()[0];e.right<f&&(f=e.left+e.width/2)}else f=u.left+(p.right-u.left)/2;return f-=c.width/2,{top:h-i.top+r.scrollTop,left:Math.max(0,f-i.left)}},c=e=>(t,n)=>{const o=document.querySelector(`div[aria-label="${e}"]`);if(!o)return n;const r=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=r.getBoundingClientRect(),a=window&&window.getSelection(),s=a&&!a.isCollapsed&&a.getRangeAt(0);if(!s)return n;const c=o.getBoundingClientRect(),{head:l,anchor:d}=t.state.selection;let u,p=t.coordsAtPos(Math.min(l,d)),h=t.coordsAtPos(Math.max(l,d)-Math.min(s.endOffset,1));u=l>d&&p.top!==h.top?(h.top||0)+c.height/1.15:(p.top||0)-1.5*c.height;const f=(l>d?h.right:p.left)-c.width/2;return{top:u-i.top+r.scrollTop,left:Math.max(0,f-i.left)}},l=(e,t,o=!1)=>{const{schema:i}=e,l=Object(n("CAky").j)(e);if(l===n("nnUN").a.INVALID)return
;const d=t.formatMessage(a.createComment),u=t.formatMessage(a.createCommentInvalid),p={type:"button",showTitle:!0,disabled:l===n("nnUN").a.DISABLED,testId:n("nnUN").b.floatingToolbarCreateButton,icon:n.n(n("gEIt")).a,tooltipContent:l===n("nnUN").a.DISABLED?u:r.a.createElement(n("4Upw").ToolTipContent,{description:d,keymap:n("4Upw").addInlineComment}),title:d,onClick:(e,t)=>Object(n("gr0J").e)(!0)(e,t)},{annotation:h}=i.marks,f=Object.keys(i.nodes).reduce(((e,t)=>{const n=i.nodes[t];return n.allowsMarkType(h)&&e.push(n),e}),[]),m=t.formatMessage(a.toolbar);return{title:m,nodeType:f,items:[p],onPositionCalculated:(o?s:c)(m)}}},EdO1:function(e,t,n){"use strict";function o(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function r(e){for(let t=e.nodeAfter,{pos:n}=e;t;t=t.firstChild,n++){const o=t.type.spec.tableRole;if("cell"===o||"header_cell"===o)return e.doc.resolve(n)}for(let t=e.nodeBefore,{pos:n}=e;t;t=t.lastChild,n--){const o=t.type.spec.tableRole
;if("cell"===o||"header_cell"===o)return e.doc.resolve(n-t.nodeSize)}return null}function i(e){for(let t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function a(e,t,o){const r=e.start(-1),i=n("wYWE").b.get(e.node(-1)).nextCell(e.pos-r,t,o);return null==i?null:e.node(0).resolve(r+i)}n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}))},EfLE:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("3tO9"),r=n.n(o);let i;!function(e){e.ALL_CONTROLS_HOVER="CONTROLS_HOVER",e.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",e.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",e.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",e.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",e.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",e.COLUMN_SELECTED="COLUMN_SELECTED",
e.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",e.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",e.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT"}(i||(i={}));const a=r()(r()({},n("9ehW").a),{},{COLUMN_CONTROLS:`${n("kBLm").m}-column-controls`,COLUMN_CONTROLS_DECORATIONS:`${n("kBLm").m}-column-controls-decoration`,COLUMN_SELECTED:`${n("kBLm").m}-column__selected`,ROW_CONTROLS_WRAPPER:`${n("kBLm").m}-row-controls-wrapper`,ROW_CONTROLS:`${n("kBLm").m}-row-controls`,ROW_CONTROLS_INNER:`${n("kBLm").m}-row-controls__inner`,ROW_CONTROLS_BUTTON_WRAP:`${n("kBLm").m}-row-controls__button-wrap`,ROW_CONTROLS_BUTTON:`${n("kBLm").m}-row-controls__button`,CONTROLS_BUTTON:`${n("kBLm").m}-controls__button`,CONTROLS_BUTTON_ICON:`${n("kBLm").m}-controls__button-icon`,CONTROLS_INSERT_BUTTON:`${n("kBLm").m}-controls__insert-button`,CONTROLS_INSERT_BUTTON_INNER:`${n("kBLm").m}-controls__insert-button-inner`,CONTROLS_INSERT_BUTTON_WRAP:`${n("kBLm").m}-controls__insert-button-wrap`,
CONTROLS_INSERT_LINE:`${n("kBLm").m}-controls__insert-line`,CONTROLS_BUTTON_OVERLAY:`${n("kBLm").m}-controls__button-overlay`,LAYOUT_BUTTON:`${n("kBLm").m}-layout-button`,CONTROLS_INSERT_MARKER:`${n("kBLm").m}-controls__insert-marker`,CONTROLS_INSERT_COLUMN:`${n("kBLm").m}-controls__insert-column`,CONTROLS_INSERT_ROW:`${n("kBLm").m}-controls__insert-row`,CONTROLS_DELETE_BUTTON_WRAP:`${n("kBLm").m}-controls__delete-button-wrap`,CONTROLS_DELETE_BUTTON:`${n("kBLm").m}-controls__delete-button`,CONTROLS_FLOATING_BUTTON_COLUMN:`${n("kBLm").m}-controls-floating__button-column`,CONTROLS_FLOATING_BUTTON_ROW:`${n("kBLm").m}-controls-floating__button-row`,CORNER_CONTROLS:`${n("kBLm").m}-corner-controls`,CORNER_CONTROLS_INSERT_ROW_MARKER:`${n("kBLm").m}-corner-controls__insert-row-marker`,CORNER_CONTROLS_INSERT_COLUMN_MARKER:`${n("kBLm").m}-corner-controls__insert-column-marker`,CONTROLS_CORNER_BUTTON:`${n("kBLm").m}-corner-button`,NUMBERED_COLUMN:`${n("kBLm").m}-numbered-column`,
NUMBERED_COLUMN_BUTTON:`${n("kBLm").m}-numbered-column__button`,HOVERED_COLUMN:`${n("kBLm").m}-hovered-column`,HOVERED_ROW:`${n("kBLm").m}-hovered-row`,HOVERED_TABLE:`${n("kBLm").m}-hovered-table`,HOVERED_CELL:`${n("kBLm").m}-hovered-cell`,HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:`${n("kBLm").m}-hovered-cell__warning`,HOVERED_DELETE_BUTTON:`${n("kBLm").m}-hovered-delete-button`,WITH_CONTROLS:`${n("kBLm").m}-with-controls`,RESIZING_PLUGIN:`${n("kBLm").m}-resizing-plugin`,RESIZE_CURSOR:`${n("kBLm").m}-resize-cursor`,IS_RESIZING:`${n("kBLm").m}-is-resizing`,RESIZE_HANDLE:`${n("kBLm").m}-resize-handle`,RESIZE_HANDLE_DECORATION:`${n("kBLm").m}-resize-decoration`,CONTEXTUAL_SUBMENU:`${n("kBLm").m}-contextual-submenu`,CONTEXTUAL_MENU_BUTTON_WRAP:`${n("kBLm").m}-contextual-menu-button-wrap`,CONTEXTUAL_MENU_BUTTON:`${n("kBLm").m}-contextual-menu-button`,CONTEXTUAL_MENU_ICON:`${n("kBLm").m}-contextual-submenu-icon`,SELECTED_CELL:"selectedCell",
NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:`${n("kBLm").m}-table__selected`,TABLE_CELL:n("kBLm").j,TABLE_HEADER_CELL:n("kBLm").l,TABLE_STICKY:`${n("kBLm").m}-sticky`,TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:`${n("kBLm").m}-last-item-in-cell`,WITH_RESIZE_LINE:`${n("kBLm").m}-column-resize-line`});let s;!function(e){e.SHOW_BEFORE_SHADOW="showBeforeShadow",e.SHOW_AFTER_SHADOW="showAfterShadow"}(s||(s={}))},EfUG:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("UxO+");class a{constructor(){r()(this,"changeHandlers",[]),this.changeHandlers=[]}subscribe(e){this.changeHandlers.push(e)}unsubscribe(e){this.changeHandlers=this.changeHandlers.filter((t=>t!==e))}notifyNewSelection(e,t){this.changeHandlers.forEach((n=>n(e,t)))}}const s=new i.PluginKey("reactNodeView"),c=new i.Plugin({state:{init:()=>new a,apply:(e,t)=>t},key:s,view:e=>{const t=s.getState(e.state)
;return{update:e=>{const{from:n,to:o}=e.state.selection;t.notifyNewSelection(n,o)}}}})},EjDT:function(e,t,n){"use strict";function o(e){if(!e)return 1;const t=n("uOGI").a.getState(e);return t&&t.participants?t.participants.size():1}n.d(t,"a",(function(){return o}))},EvmU:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d}));var o=n("MEpN");function r(e){return Boolean(e&&e.type&&["orderedList","bulletList"].includes(e.type.name))}function i(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}function a(e){return Boolean(e&&e.type&&"listItem"===e.type.name)}function s(e){return Boolean(e&&e.type&&"bulletList"===e.type.name)}function c(e){const{bulletList:t}=e.type.schema.nodes;if(!t)return!1;const n=o.Fragment.from(t.createAndFill());return!a(e)&&e.type.validContent(n)}let l;!function(e){e[e.LEFT=1]="LEFT",
e[e.RIGHT=-1]="RIGHT"}(l||(l={}));const d=({tr:e,direction:t,forceListType:n})=>{const o={orderedList:0,bulletList:0},{doc:i,selection:{$from:s,$to:d},selection:u}=e,p=s.blockRange(d,c);if(!p)return o;const h=i.nodeAt(p.start),f=r(h)?p.start:0,m=r(h)?p.end:e.doc.content.size,g=[];if(i.nodesBetween(f,m,((o,s,c)=>{const d=i.resolve(s),{nodeBefore:u,nodeAfter:p}=d;if(!(u&&p&&r(u)&&r(p)))return;const h=a(c);if(!h&&u.type!==p.type&&!n)return;const f=d.index(),m=d.posAtIndex(f-1),b=d.posAtIndex(f);if(n&&(e.setNodeMarkup(m,n),e.setNodeMarkup(b,n)),h&&u.type!==p.type){const n=t===l.RIGHT?p.type:u.type;e.setNodeMarkup(m,n)}g.push(s)})),u.empty&&h&&r(h)){const e=i.resolve(p.start+h.nodeSize),{nodeBefore:t,nodeAfter:n}=e;t&&n&&r(t)&&r(n)&&n.type===t.type&&g.push(e.pos)}for(let r=g.length-1;r>=0;r--){const t=e.doc.nodeAt(g[r]);if(t){const e=o[t.type.name]||0;o[t.type.name]=e+1}e.join(g[r])}return o}},FJah:function(e,t,n){"use strict";function o(e){return"function"==typeof e}function r(e,t,n={}){
const{mapping:r,onDocChanged:i,onSelectionChanged:a}=n;return{createPluginState:(n,s)=>({init:(e,t)=>o(s)?s(t):s,apply:(o,s)=>{const c=r?r(o,s):s;let l=c;const d=o.getMeta(e);return d&&(l=t(c,d)),i&&o.docChanged?l=i(o,l):a&&o.selectionSet&&(l=a(o,l)),l!==c&&n(e,l),l}}),createCommand:(t,n)=>(r,i)=>{if(i){const a=n?n(r.tr,r):r.tr,s=o(t)?t(r):t;if(!a||!s)return!1;i(a.setMeta(e,s))}return!0},getPluginState:t=>e.getState(t)}}n.d(t,"a",(function(){return r}))},FOo9:function(e,t,n){"use strict";let o,r;n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),function(e){e.EMOJI="emojiTypeAhead",e.MENTION="mentionTypeAhead",e.QUICK_INSERT="quickInsertTypeAhead"}(o||(o={})),function(e){e.SHIFT_ENTER="shift-enter",e.ENTER="enter",e.SPACE="space",e.SELECTED="selected",e.TAB="tab"}(r||(r={}))},"FT/o":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var o=n("CsC6");const r=(e,t,n,o)=>{
e.forEachCell(((e,r)=>{t.nodesBetween(r,r+e.nodeSize,n,o)}))},i=["heading","codeBlock","blockquote"],a=["em","code","strike","strong","underline","textColor","subsup"],s={em:n("J5HJ").c.FORMAT_ITALIC,code:n("J5HJ").c.FORMAT_CODE,strike:n("J5HJ").c.FORMAT_STRIKE,strong:n("J5HJ").c.FORMAT_STRONG,underline:n("J5HJ").c.FORMAT_UNDERLINE,textColor:n("J5HJ").c.FORMAT_COLOR,subsup:"subsup"};function c(e){return function(e){return function(t,o){const{tr:c}=t,d=[];return a.forEach((e=>{const{from:o,to:i}=c.selection,a=t.schema.marks[e];a&&(c.selection instanceof n("n1Ll").a?r(c.selection,c.doc,((n,o)=>n.type!==t.schema.nodes.tableCell&&n.type!==t.schema.nodes.tableHeader||(c.doc.rangeHasMark(o,o+n.nodeSize,a)&&(d.push(s[e]),c.removeMark(o,o+n.nodeSize,a)),!1))):c.doc.rangeHasMark(o,i,a)&&(d.push(s[e]),c.removeMark(o,i,a)))})),i.forEach((e=>{const o=t.schema.nodes[e],{$from:i,$to:a}=c.selection
;c.selection instanceof n("n1Ll").a?r(c.selection,c.doc,l(t,c,o,e,d)):c.doc.nodesBetween(i.pos,a.pos,l(t,c,o,e,d))})),c.setStoredMarks([]),d.length&&e&&Object(n("SVcB").a)(t,c,{action:n("J5HJ").a.FORMATTED,eventType:n("J5HJ").e.TRACK,actionSubject:n("J5HJ").b.TEXT,actionSubjectId:n("J5HJ").c.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:d}}),o&&o(c),!0}}(e)}function l(e,t,n,r,i){return function(a,s){if(a.type===n){if(n.isTextblock)return t.setNodeMarkup(s,e.schema.nodes.paragraph),i.push(r),!1;{let e=t.doc.resolve(s+1),n=t.doc.resolve(s+a.nodeSize-1);const c=e.blockRange(n);if(c){const e=Object(o.p)(c);(e||0===e)&&(i.push(r),t.lift(c,e))}}}return!0}}},FaP8:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);const i=n("vOnD").default.div.withConfig({componentId:"yf2jsr-0"})`display:flex;justify-content:center;margin-top:64px;`;t.a=()=>r.a.createElement(i,null,r.a.createElement(n("6UK4").a,{size:"small"}))},FfBw:function(e,t){
"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},FhBN:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>!!e&&!Object(n("xiKR").a)(e)},Fn6O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm2.78 11a1 1 0 01-.97-.757L7.156 10.62A.5.5 0 017.64 10h8.72a.5.5 0 01.485.621l-1.656 6.622a1 1 0 01-.97.757H9.781zM11 6h2a1 1 0 011 1h-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))
;i.displayName="EditorRemoveIcon";var a=i;t.default=a},G0K9:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("lSNA"),r=n.n(o),i=n("UxO+");const a=new WeakMap;class s{constructor(){r()(this,"update",(e=>{this.subscriptions.forEach((t=>t(e)))})),r()(this,"add",(e=>{this.subscriptions.push(e)})),r()(this,"remove",(e=>{this.subscriptions=this.subscriptions.filter((t=>t!==e))})),this.subscriptions=[]}}const c=new i.PluginKey("viewUpdateSubscriptionKey");t.a=()=>{let e;const t={current:null,initial:null,transactions:[],queued:!1};return{name:"viewUpdateSubscription",pmPlugins:()=>[{name:"viewUpdateSubscription",plugin:()=>new i.Plugin({key:c,view:t=>(e=a.get(t),e||(e=new s,a.set(t,e)),{})})}],onEditorViewStateUpdated(n){t.current=n,t.transactions.push(...n.transactions),t.queued||(t.initial=n,t.queued=!0,queueMicrotask((()=>{if(t.current&&t.initial){var n;if(e)e.update({newEditorState:t.current.newEditorState,
oldEditorState:null===(n=t.initial)||void 0===n?void 0:n.oldEditorState,transactions:t.transactions});t.queued=!1,t.current=null,t.transactions=[]}})))}}}},GD2S:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>0===t.length?e:t.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t)),r=["left","right"],i={left:"start",right:"end"}},GZ5e:function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i,a,s,c,l,d,u,p,h=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";h<n&&!e.isEmpty(h);h++)if(!(e.sCount[h]-e.blkIndent>3)){if(e.sCount[h]>=e.blkIndent&&(c=e.bMarks[h]+e.tShift[h])<(l=e.eMarks[h])&&(45===(u=e.src.charCodeAt(c))||61===u)&&(c=e.skipChars(c,u),(c=e.skipSpaces(c))>=l)){d=61===u?1:2;break}if(!(e.sCount[h]<0)){for(r=!1,i=0,a=f.length;i<a;i++)if(f[i](e,h,n,!0)){r=!0;break}if(r)break}}
return!!d&&(o=e.getLines(t,h,e.blkIndent,!1).trim(),e.line=h+1,(s=e.push("heading_open","h"+String(d),1)).markup=String.fromCharCode(u),s.map=[t,e.line],(s=e.push("inline","",0)).content=o,s.map=[t,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(d),-1)).markup=String.fromCharCode(u),e.parentType=p,!0)}},GZmM:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n("UxO+");const r=e=>{if(e&&e instanceof o.NodeSelection){if("status"===e.node.type.name)return e.node.attrs||null}return null},i=e=>e&&(e.text&&0===e.text.trim().length||""===e.text)},Gbq5:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return h}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=(e,t)=>{const{state:n,dispatch:o}=e
;if(!isFinite(t))return;o(n.tr.setSelection(i.NodeSelection.create(n.doc,t)))};function s(e,t,n){const{state:o,dispatch:r}=e;r(o.tr.setSelection(i.TextSelection.create(o.doc,t,n)))}const c=({selection:e,doc:t},n)=>{if(e.$from.depth>1){if(n.attrs.layout&&"default"!==n.attrs.layout)return n.type.createChecked(r()(r()({},n.attrs),{},{layout:"default"}),n.content,n.marks);const e=t.type.schema.marks.breakout;if(e&&e.isInSet(n.marks)){const t=e.removeFromSet(n.marks);return n.type.createChecked(n.attrs,n.content,t)}}return n},l=n("j5wO").a.chrome&&!n("j5wO").a.android&&n("j5wO").a.chrome_version>=58,d=(e,t)=>{if(!t)return!1;for(let n=e.depth+1;n>0;n--){const o=e.node(n);if(o&&o.eq(t.node))break;if(n>1&&e.before(n)!==e.before(n-1)+1)return!1}return!0},u=(e,t)=>{if(!t)return!1;for(let n=e.depth+1;n>0;n--){const o=e.node(n);if(o&&o.eq(t.node))break;if(n>1&&e.after(n)!==e.after(n-1)-1)return!1}return!0
},p=(e,t)=>e>=0&&e<=t.doc.resolve(0).end(),h=(e,t)=>e instanceof i.NodeSelection?i.NodeSelection.create(t,e.from):e instanceof i.TextSelection?i.TextSelection.create(t,e.from,e.to):e instanceof n("g1AK").a?new(n("g1AK").a)(t.resolve(e.from),e.side):e instanceof n("n1Ll").a?new(n("n1Ll").a)(t.resolve(e.$anchorCell.pos),t.resolve(e.$headCell.pos)):void 0},GhYq:function(e,t,n){"use strict";function o(e,t){if(!e)return!1;return e.toJSON().type===t}n.d(t,"a",(function(){return o}))},Gnrx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e))
;i.displayName="EditorAlignImageRightIcon";var a=i;t.default=a},GqfY:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("17x9"),c=n.n(s);const l=a.a.createContext({}),d=()=>a.a.useContext(l);class u extends a.a.Component{constructor(e){super(e),this.editorActions=e.editorActions||new(n("/7XU").a)}getChildContext(){return{editorActions:this.editorActions}}render(){return a.a.createElement(l.Provider,{value:this.getChildContext()},this.props.children)}}u.displayName="LegacyEditorContext",r()(u,"childContextTypes",{editorActions:c.a.object})},GuFF:function(e,t,n){"use strict";var o=n("3tO9"),r=n.n(o),i=n("UxO+");t.a=()=>({name:"macro",pmPlugins:()=>[{name:"macro",plugin:({dispatch:e,providerFactory:t})=>((e,t)=>new i.Plugin({state:{init:()=>({macroProvider:null}),apply(t,o){const i=t.getMeta(n("YAmM").a);if(i){const t=r()(r()({},o),i);return e(n("YAmM").a,t),t}return o}},key:n("YAmM").a,
view:e=>{const o=(t,o)=>o&&Object(n("JkFw").c)(o)(e);return e.dom.parentNode&&t.subscribe("macroProvider",o),{destroy(){t.unsubscribe("macroProvider",o)}}}}))(e,t)}]})},GxTc:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);const{Provider:s,Consumer:c}=a.a.createContext({width:0,positionedOverEditor:!1,broadcastWidth:()=>{},broadcastPosition:()=>{}});class l extends a.a.Component{constructor(e){super(e),r()(this,"state",{width:0,positionedOverEditor:!1}),r()(this,"broadcastSidebarWidth",(e=>{e!==this.state.width&&this.setState({width:e})})),r()(this,"broadcastPosition",(e=>{e!==this.state.positionedOverEditor&&this.setState({positionedOverEditor:e})}))}render(){const{width:e,positionedOverEditor:t}=this.state;return a.a.createElement(s,{value:{width:e,positionedOverEditor:t,broadcastWidth:this.broadcastSidebarWidth,broadcastPosition:this.broadcastPosition}},this.props.children)}}
l.displayName="ContextPanelWidthProvider"},H1FK:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>{const n=e.sort(((e,t)=>e-t)),o=n.length*t,r=Math.floor(o);if(o-r>0)return n[r];const i=n[r-1],a=n[r];return void 0!==i&&void 0!==a?(i+a)/2:void 0}},H1L9:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let o=!1;const r={setStatic(e){o=e},generate:()=>o||(()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})))()},i=(e,t)=>t?e.createChecked(null,t):e.createAndFill(),a=({schema:e,rowsCount:t=3,colsCount:o=3,withHeaderRow:a=!0,cellContent:s})=>{const{cell:c,header_cell:l,row:d,table:u}=Object(n("p81E").a)(e),p=[],h=[];for(let n=0;n<o;n++){const e=i(c,s);if(e&&p.push(e),a){const e=i(l,s);e&&h.push(e)}}const f=[];for(let n=0;n<t;n++)f.push(d.createChecked(null,a&&0===n?h:p));return u.createChecked({localId:r.generate()},f)}},HAbh:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return a}));var o=n("lSNA"),r=n.n(o),i=n("UxO+");class a extends n("gVP2").a{constructor(e,t,o,a,s,c,l,d=!1,u){super(e,t,o,a,s,c,l,d,u),r()(this,"isNodeInsideSelection",((e,t,n,o)=>(({pos:n,posEnd:o}=this.getPositionsWithDefault(n,o)),"number"==typeof n&&"number"==typeof o&&(e<=n&&t>=o)))),r()(this,"isSelectionInsideNode",((e,t,n,o)=>(({pos:n,posEnd:o}=this.getPositionsWithDefault(n,o)),"number"==typeof n&&"number"==typeof o&&(n<e&&t<o)))),r()(this,"isSelectedNode",(e=>{if(e instanceof i.NodeSelection){const{selection:{from:t,to:n}}=this.view.state;return e.node===this.node||this.pos===t&&this.posEnd===n&&e.node.eq(this.node)}return!1})),r()(this,"insideSelection",(()=>{const{selection:{from:e,to:t}}=this.view.state;return this.isSelectedNode(this.view.state.selection)||this.isSelectionInsideNode(e,t)})),r()(this,"onSelectionChange",(()=>{this.update(this.node,[])})),this.updatePos(),this.oldSelection=t.state.selection,
this.selectionChangeState=n("EfUG").b.getState(this.view.state),this.selectionChangeState.subscribe(this.onSelectionChange)}updatePos(){"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)}getPositionsWithDefault(e,t){return{pos:"number"!=typeof e?this.pos:e,posEnd:"number"!=typeof t?this.posEnd:t}}viewShouldUpdate(e){const{state:{selection:t}}=this.view,n=this.oldSelection;this.oldSelection=t;const{pos:o,posEnd:r}=this;this.updatePos();const{from:a,to:s}=t,{from:c,to:l}=n;if(this.node.type.spec.selectable){const e=t instanceof i.NodeSelection&&t.from===this.pos,o=n instanceof i.NodeSelection&&n.from===this.pos;if(e&&!o||o&&!e)return!0}const d=this.isNodeInsideSelection(a,s)&&!this.isNodeInsideSelection(c,l),u=!this.isNodeInsideSelection(a,s)&&this.isNodeInsideSelection(c,l),p=this.isNodeInsideSelection(a,s,o,r)&&!this.isNodeInsideSelection(a,s);return!!(d||u||p)}destroy(){this.selectionChangeState.unsubscribe(this.onSelectionChange),
super.destroy()}}},HHRn:function(e){e.exports=JSON.parse('{"a":"@atlaskit/emoji","b":"63.1.9"}')},HKru:function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},HRS3:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("JRPe"),a=n("vOnD");const s=a.default.div.withConfig({componentId:"sc-1g2lc7b-0"})`background:${"#F4F5F7"};border-radius:50%;min-width:${4*Object(n("ARg4").gridSize)()}px;margin-left:-${Object(n("ARg4").gridSize)()/2}px;`,c=a.default.div.withConfig({componentId:"sc-1g2lc7b-1"
})`margin-right:${Object(n("ARg4").gridSize)()}px;display:flex;align-items:center;&& > ul{list-style-type:none;}div:last-child button.invite-to-edit{border-radius:50%;height:32px;width:32px;padding:2px;}`,l=a.default.div.withConfig({componentId:"sc-1g2lc7b-2"})`display:block;position:absolute;right:1px;bottom:1px;width:13px;height:13px;z-index:${n("9cwX").L};border-radius:3px;background:${({color:e})=>e};color:#fff;font-size:${Object(n("9cwX").ib)(9)};line-height:0;padding-top:7px;text-align:center;box-shadow:0 0 1px #fff;box-sizing:border-box;`,d=e=>{const t=Object(n("8PVD").d)(e.sessionId).color.solid,o=e.name.substr(0,1).toUpperCase();return r.a.createElement(l,{color:t,"data-testid":"editor-collab-badge"},o)};var u=Object(n("2JGX").default)((e=>({name:e.name,src:e.avatar,size:"medium",presence:r.a.createElement(d,{name:e.name,sessionId:e.sessionId})})),(([e],[t])=>{const n=e,o=t;return n.name===o.name&&n.avatar===o.avatar&&n.sessionId===o.sessionId}));const p=r.a.memo((e=>{
const{sessionId:t,editorView:o}=e,i=e.participants.toArray(),a=i.sort((e=>e.sessionId===t?-1:1)).map(u);return a.length?r.a.createElement(c,null,r.a.createElement(n("4XvU").a,{appearance:"stack",size:"medium",data:a,maxCount:3,onAvatarClick:(t,r,a)=>{if(!o)return;const s=Object(n("37L4").b)(o.state);(null==s?void 0:s.collabAvatarScroll)&&a>0&&Object(n("8PVD").g)(o,i,e.sessionId,a)}}),e.children):null})),h=e=>r.a.createElement(r.a.Fragment,null,e.children),f=e=>{const{Component:t,onClick:o,selected:i,title:a}=e,c=r.a.useMemo((()=>r.a.createElement(n.n(n("umwh")).a,{label:a})),[a]);if(!t&&!o)return null;const l=t||h;return r.a.createElement(s,null,r.a.createElement(l,null,r.a.createElement(n("aEOQ").b,{className:"invite-to-edit",onClick:o,selected:i,title:a,titlePosition:"bottom",iconBefore:c})))};t.a=Object(i.injectIntl)((e=>{
const t=e.intl.formatMessage(n("yYBl").a.inviteToEditButtonTitle),{isInviteToEditButtonSelected:o,inviteToEditHandler:i,inviteToEditComponent:a,editorView:s}=e,c=r.a.useCallback((({data:e})=>e?r.a.createElement(p,{sessionId:e.sessionId,participants:e.activeParticipants,editorView:s},r.a.createElement(f,{title:t,selected:o,onClick:i,Component:a})):null),[o,i,a,t,s]);return r.a.createElement(n("fd7e").a,{plugins:{data:n("uOGI").a},render:c,editorView:s})}))},HZs0:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var o=n("3tO9"),r=n.n(o),i=n("QILm"),a=n.n(i),s=n("pVnL"),c=n.n(s),l=n("q1tI"),d=n.n(l);const u=["appearance","buttonRef"],p=["buttonStyles"],h={default:{background:{default:{light:"transparent"},hover:{light:"#313D52"},active:{light:"#B3D4FF"}},boxShadowColor:{focus:{light:"#B3D4FF"}},color:{default:{light:"#9FB0CC"},hover:{light:"#9FB0CC"},active:{light:"#0052CC"},disabled:{light:"#67758F"}}},primary:{background:{default:{light:"#4C9AFF"},hover:{light:"#B3D4FF"},
active:{light:"#2684FF"},disabled:{light:"#3B475C"}},boxShadowColor:{focus:{light:"#B3D4FF"}},color:{default:{light:"#1B2638"}}}};function f(e,{appearance:t,state:n,mode:o}){if(!e[t])return;const r=e[t];return Object.keys(r).reduce(((e,t)=>{let i=r;return[t,n,o].forEach((n=>{i[n]&&("object"==typeof i[n]?i=i[n]:e[t]=i[n])})),e}),{})}function m(e){let{appearance:t="default",buttonRef:o}=e,i=a()(e,u);return d.a.createElement(n("0+Gd").a,c()({},i,{ref:o,appearance:t,theme:(e,n)=>{const o=e(n),{buttonStyles:i}=o,s=a()(o,p);return r()({buttonStyles:r()(r()({},i),f(h,r()(r()({},n),{},{appearance:t})))},s)}}))}},Hb9x:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return g}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("pDqG"),s=n("mG1W");const c=new i.PluginKey("listPlugin"),l=c,d={bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1,decorationSet:a.b.empty},u=e=>{const t=[],o=[]
;return e.nodesBetween(0,e.content.size,((e,r)=>{if(o.length>0){let e=!0;for(;e&&o.length>0;){const t=o[o.length-1];e=r>=t.startPos+t.node.nodeSize,e&&o.pop()}}if(Object(n("EvmU").d)(e)){o.push({node:e,startPos:r});const n=r,i=r+e.nodeSize,s=o.length;t.push(a.a.node(n,i,{"data-indent-level":`${s}`}))}})),a.b.empty.add(e,t)},p=(e,t)=>{const{bulletList:o,orderedList:i}=e.doc.type.schema.nodes,a=Object(s.findParentNodeOfType)([o,i])(e.selection),c=!!a&&a.node.type===o,l=!!a&&a.node.type===i,d=!(c||l||Object(n("DQ6B").g)(o,e.selection)),u=!(c||l||Object(n("DQ6B").g)(i,e.selection));if(c!==t.bulletListActive||l!==t.orderedListActive||d!==t.bulletListDisabled||u!==t.orderedListDisabled){return r()(r()({},t),{},{bulletListActive:c,orderedListActive:l,bulletListDisabled:d,orderedListDisabled:u})}return t},{getPluginState:h,createPluginState:f}=Object(n("FJah").a)(c,(()=>e=>e)(),{onDocChanged:(e,t)=>{const n=p(e,t),o=u(e.doc);return r()(r()({},n),{},{decorationSet:o})},onSelectionChanged:p
}),m=e=>r()(r()({},d),{},{decorationSet:u(e.doc)}),g=e=>new i.Plugin({state:f(e,m),key:c,props:{decorations(e){const{decorationSet:t}=h(e);return t}}})},HoxM:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("i8i4"),c=n.n(s);function l(e){return class extends i.PureComponent{constructor(...e){super(...e),r()(this,"handleClick",(e=>{const t=c.a.findDOMNode(this);(!t||e.target instanceof Node&&!t.contains(e.target))&&this.props.handleClickOutside&&this.props.handleClickOutside(e)})),r()(this,"handleKeydown",(e=>{"Escape"===e.code&&this.props.handleEscapeKeydown?this.props.handleEscapeKeydown(e):"Enter"===e.code&&this.props.handleEnterKeydown&&this.props.handleEnterKeydown(e)}))}componentDidMount(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}componentWillUnmount(){
this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}render(){return a.a.createElement(e,this.props)}}}},HtLz:function(e,t,n){"use strict";function o(e){return"string"==typeof e?e:`${e}px`}n.d(t,"a",(function(){return o}))},HuUl:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("1M3H"),r=n.n(o),i=n("82ng"),a=n.n(i),s=function(e,t){e.block.ruler.before("paragraph","table",a.a,{alt:["paragraph","reference"]})},c=n("LgcO");const l=e=>{e.core.ruler.before("inline","media",function(){const e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){const o=e=>{const t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){const e=n.md.normalizeLink(t.str);if(n.md.validateLink(e))return e}return""},r=e=>{const t=new n.Token("media_single_open","",1),r=new n.Token("media","",0)
;return r.attrs=[["url",o(e)],["type","external"]],[t,r,new n.Token("media_single_close","",-1)]},i=(e,t,o)=>{if(!e||0===e.length)return[];const r=new n.Token("inline","",1);return r.content=e,r.children=[],[...t,r,...o]};let a=[];const s=n.tokens.reduce(((o,s,c,l)=>{if("inline"===s.type&&e.test(s.content)){const d=[];let u=c-1,p=l[u],h=[];for(;p&&p.level>0&&-1===t.indexOf(p.type);)d.unshift(p),u--,p=l[u];-1===t.indexOf(p.type)?d.unshift(p):u++;const f=d.map((e=>new n.Token(e.type.replace("_open","_close"),e.tag,-1))).reverse(),m=s.content.match(e);let g=s.content;m.forEach((e=>{const t=g.indexOf(e),n=g.substr(0,t);g=g.substr(t+e.length),h=[...h,...i(n,d,f),...r(e)]})),g.length&&(h=[...h,...i(g,d,f)]),a=[...a,...f.map((e=>e.type))],o=[...o.slice(0,u),...h]}else-1!==a.indexOf(s.type)?a.splice(a.indexOf(s.type),1):o.push(s);return o}),[]);return n.tokens=s,!0}}())};const d={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],
codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},u={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},hr:{node:"rule"},heading:{block:"heading",attrs:e=>({level:+e.tag.slice(1)})},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:e=>({order:+e.attrGet("order")||1})},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:e=>({language:e.info&&e.info.trim()||null})},media_single:{block:"mediaSingle",attrs:()=>({})},media:{node:"media",attrs:e=>({url:e.attrGet("url"),type:"external"})},emoji:{node:"emoji",attrs:e=>({shortName:`:${e.markup}:`,text:e.content})},table:{block:"table"},
tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},p=r()("zero",{html:!1});p.enable(["entity","escape"]);class h{constructor(e=n("tdrV").a,t=p){["nodes","marks"].forEach((n=>{for(const o in d[n])e[n][o]&&t.enable(d[n][o])})),e.nodes.table&&t.use(s),e.nodes.media&&e.nodes.mediaSingle&&t.use(l),this.markdownParser=new c.a(e,t,function(e,t){return Object.keys(t).reduce(((n,o)=>{const r=t[o],i=r.block||r.node,a=r.mark;return(i&&e.nodes[i]||a&&e.marks[a])&&(n[o]=r),n}),{})}(e,u))}encode(e){throw new Error("This is not implemented yet")}parse(e){return this.markdownParser.parse(e)}}},HxAM:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n("UxO+");const r=new o.PluginKey("focusStatePlugin");t.a=e=>new o.Plugin({key:r,state:{init:()=>!0,apply:(t,n)=>{const o=t.getMeta(r);return"boolean"==typeof o&&o!==n?(e(r,o),o):n}},props:{handleDOMEvents:{click:e=>(r.getState(e.state)||e.dispatch(e.state.tr.setMeta(r,e.hasFocus())),!1),
focus:e=>(r.getState(e.state)||e.dispatch(e.state.tr.setMeta(r,!0)),!1),blur:e=>(r.getState(e.state)&&e.dispatch(e.state.tr.setMeta(r,!1)),!1)}}})},"I+AD":function(e,t,n){"use strict";var o=n("3tO9"),r=n.n(o),i=n("q1tI"),a=n("qKvR");const s={componentName:"blanket",packageName:"@atlaskit/blanket",packageVersion:"12.2.2"},c=Object(a.d)({position:"fixed",zIndex:n("ARg4").layers.blanket(),top:0,right:0,bottom:0,left:0,overflowY:"auto",pointerEvents:"initial"}),l={name:"1ixbp0l",styles:"pointer-events:none;"},d={name:"1rm7u2e",styles:"background-color:transparent;"},u={light:Object(a.d)({backgroundColor:"var(--ds-background-blanket, rgba(9, 30, 66, 0.54))"}),dark:Object(a.d)({backgroundColor:"var(--ds-background-blanket, rgba(13, 20, 36, 0.63))"})},p=Object(i.memo)(Object(i.forwardRef)((function({shouldAllowClickThrough:e=!1,isTinted:t=!1,onBlanketClicked:o=n("Sf9E").a,testId:p,children:h,analyticsContext:f},m){const{mode:g}=Object(n("qwq9").b)(),b=Object(n("NvXi").a)(r()({fn:o,
action:"clicked",analyticsData:f},s)),v=Object(i.useCallback)((e=>e.currentTarget===e.target?b(e):void 0),[b]),y=e?void 0:v;return Object(a.e)("div",{role:"presentation",css:[c,e&&l,u[g],!t&&d],onClick:y,"data-testid":p,ref:m},h)})));p.displayName="Blanket",t.a=p},IIKj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={gutter:"line-number-gutter",content:"code-content",highlighting:"code-highlighting"}},IIUr:function(e,t,n){"use strict";e.exports=function(e){var t,n,o=0,r=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r[t].nesting<0&&o--,r[t].level=o,r[t].nesting>0&&o++,"text"===r[t].type&&t+1<i&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),n++);t!==n&&(r.length=n)}},IWa1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var o=n("3tO9"),r=n.n(o);const i=(e={})=>(e=>fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{
Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)}))({events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]}),a=e=>{let t=!1;if(e.doc.descendants(((n,o)=>{"table"===n.type.name&&(t=((e,t,n)=>{let o=!1;return n=l(n,e,t,(e=>{const{colwidth:t,colspan:n}=e.attrs;return t&&t.length>n?(o=!0,e.type.createChecked(r()(r()({},e.attrs),{},{colwidth:t.slice(0,n)}),e.content,e.marks)):e})),!!o&&(i({message:"removeExtraneousColumnWidths"}),!0)})(n,e.mapping.map(o),e))})),t)return e},s=(e,t,o,i,a)=>{let{tr:s}=e.state;const d=function(e,t,o,r){const i=r.querySelector("tr");if(!i)return[];let a=[];for(let s=0;s<i.childElementCount;s++){const c=i.children[s],l=Number(c.getAttribute("colspan")||1);for(let i=0;i<l;i++){const c=s+i,l=Object(n("J2HQ").b)(c,t,o,e),d=Object(n("J2HQ").a)(l,((e,t)=>Object(n("0XXv").a)(t,r).width));a[c]=Math.max(d,n("9ehW").d)}}return a
}(e.domAtPos.bind(e),t,i+1,o),u=d.reduce(((e,t)=>e+t),0),p=c(u),h=Object(n("Rjvn").b)(p,a.containerWidth,{dynamicTextSizing:a.dynamicTextSizing});let f=1;u!==h&&(f=h/u);const m=d.map((e=>Math.floor(e*f)));return s=l(s,t,i,((e,t,n)=>{const o=m.slice(n,n+e.attrs.colspan);return e.type.createChecked(r()(r()({},e.attrs),{},{colwidth:o.length?o:null}),e.content,e.marks)})),s.setNodeMarkup(i,void 0,r()(r()({},t.attrs),{},{layout:p,__autoSize:!1})).setMeta("addToHistory",!1)},c=e=>e>n("9cwX").Z?"full-width":e>n("9cwX").i&&e<n("9cwX").Z?"wide":"default";const l=(e,t,n,o)=>{const r=[];let i=0;for(let a=0;a<t.childCount;a++){const e=t.child(a),n=[];for(let t=0;t<e.childCount;t++){const r=e.child(t),s=o(r,a,t);!1===s.sameMarkup(r)&&i++,n.push(s)}n.length&&r.push(e.type.createChecked(e.attrs,n,e.marks))}if(r.length&&0!==i){const o=t.type.createChecked(t.attrs,r,t.marks);return e.replaceWith(n,n+t.nodeSize,o)}return e}},IXso:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}))
;var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=new i.PluginKey("widthPlugin");t.a=()=>({name:"width",pmPlugins:()=>[{name:"width",plugin:({dispatch:e})=>function(e){return new i.Plugin({key:a,state:{init:()=>({width:document.body.offsetWidth,containerWidth:document.body.offsetWidth}),apply(t,n){const o=t.getMeta(a);if(!o)return n;const i=r()(r()({},n),o);return i&&(n.width!==i.width||n.lineLength!==i.lineLength)||n.containerWidth!==i.containerWidth?(e(a,i),i):n}}})}(e)}],contentComponent({editorView:e,containerElement:t}){const n={lineLength:e.dom.clientWidth};var o;t&&(n.width=t.offsetWidth,n.containerWidth=null===(o=t.parentElement)||void 0===o?void 0:o.offsetWidth);const r=e.state.tr.setMeta(a,n);return e.dispatch(r),null}})},Isu6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5.836 6.95l-3.825 9.97a.5.5 0 00.467.68h1.208a.5.5 0 00.47-.33l.683-1.877a.5.5 0 01.47-.33H9.12a.5.5 0 01.47.33l.683 1.878a.5.5 0 00.47.329h1.272a.5.5 0 00.468-.678L8.685 6.95a.7.7 0 00-.655-.45H6.49a.7.7 0 00-.654.45zm1.566 2.457l1.25 3.414a.2.2 0 01-.188.269H5.966a.2.2 0 01-.188-.269l1.249-3.414a.2.2 0 01.375 0zm10.148 6.465c1.222 0 2.142-1.01 2.142-2.603 0-1.594-.902-2.532-2.142-2.532-1.256 0-2.178.938-2.178 2.532 0 1.575.904 2.603 2.178 2.603zm2.161.602c-.372.833-1.276 1.433-2.445 1.433-2.567 0-4.266-2-4.266-4.638 0-2.551 1.664-4.569 4.195-4.569 1.56 0 2.284.833 2.497 1.329v-.34c0-.247.007-.392.213-.576.137-.122.344-.177.62-.165h.764a.581.581 0 01.496.165c.213.203.192.421.192.577v6.394c0 .227.008.526.023.899 0 .191-.041.336-.124.434a.628.628 0 01-.508.242h-.93c-.193 0-.45-.084-.533-.184-.083-.1-.165-.23-.183-.532a6.342 6.342 0 01-.01-.364v-.105z" fill="currentColor" fill-rule="evenodd"/></svg>'
},e));i.displayName="EmojiKeyboardIcon";var a=i;t.default=a},J2HQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var o=n("mG1W");const r=(e,t,o)=>{const r=s(e,c),i=r<o?n("9ehW").i:s(e,function(e){return(t,o,r)=>{if(r&&r>1)return Object(n("eGWo").a)(t.width);const{minWidth:i}=Object(n("0XXv").a)(o,o);return Math.max(((e,t)=>e+Object(n("eGWo").a)(t.paddingLeft)+Object(n("eGWo").a)(t.paddingRight))(i,t),i,e)}}(o));return{index:t,width:r<o?n("9ehW").i:r,minWidth:i}},i=e=>Math.max(e.width-e.minWidth,0),a=(e,t,r,i)=>{const a=n("wYWE").b.get(t),s=a.cellsInRect({left:e,right:e+1,top:0,bottom:a.height}),c=[];return s.forEach((e=>{const t=Object(o.findDomRefAtPos)(e+r,i);t&&c.push(t)})),c},s=(e,t)=>{let n=0,o=0;return e.forEach((e=>{const r=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)o=t(r,e,i);else if(r){const o=t(r,e,i);n=Math.max(o,n)}})),n||o}
;function c(e){return Object(n("eGWo").a)(e.width)}},J5HJ:function(e,t,n){"use strict";let o,r,i,a,s,c,l,d;n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return d})),function(e){e.OPERATIONAL="operational",e.SCREEN="screen",e.TRACK="track",e.UI="ui"}(o||(o={})),function(e){e.ACTIVATED="activated",e.ADDED="added",e.BROWSER_FREEZE="browserFreeze",e.CHANGED_BACKGROUND_COLOR="changedBackgroundColor",e.CHANGED_ICON="changedIcon",e.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",e.CHANGED_LAYOUT="changedLayout",e.CHANGED_REPLACEMENT_TEXT="changedReplacementText",e.CHANGED_TYPE="changedType",e.CHANGED_URL="changedUrl",e.CLEARED="cleared",e.CLICKED="clicked",e.CLOSED="closed",e.COMMITTED="committed",e.CONVERTED="converted",e.COPIED="copied",e.CUT="cut",e.DEACTIVATED="deactivated",e.DECREMENTED="decremented",
e.DELETED="deleted",e.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",e.DISMISSED="dismissed",e.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",e.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",e.EDITED="edited",e.EDITOR_CRASHED="unhandledErrorCaught",e.EDITOR_CRASHED_ADDITIONAL_INFORMATION="unhandledErrorCaughtAdditionalInfo",e.EDITOR_MOUNTED="mounted",e.EDITOR_TTI="tti",e.EDITOR_CONTENT_RETRIEVAL_PERFORMED="contentRetrievalPerformed",e.RE_RENDERED="reRendered",e.ENTERED="entered",e.ERRORED="errored",e.FAILED_TO_UNMOUNT="failedToUnmount",e.FIND_NEXT_PERFORMED="findNextPerformed",e.FIND_PERFORMED="findPerformed",e.FIND_PREV_PERFORMED="findPrevPerformed",e.FORMATTED="formatted",e.HELP_OPENED="helpOpened",e.HIGHLIGHTED="highlighted",e.INCREMENTED="incremented",e.INDENTED="indented",e.INITIALISED="initialised",e.INPUT_PERF_SAMPLING="inputPerfSampling",e.INSERTED="inserted",e.INVOKED="invoked",e.LANGUAGE_SELECTED="languageSelected",
e.LIST_ITEM_JOINED="listItemJoined",e.MATCHED="matched",e.NODE_CONTENT_SANITIZED="nodeContentSanitized",e.OPENED="opened",e.OUTDENTED="outdented",e.PASTED="pasted",e.PASTED_AS_PLAIN="pastedAsPlain",e.PASTED_TIMED="pastedTimed",e.PROSEMIRROR_RENDERED="proseMirrorRendered",e.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",e.REPLACED_ALL="replacedAll",e.REPLACED_ONE="replacedOne",e.RESOLVED="resolved",e.SELECTED="selected",e.SHOWN="shown",e.SLOW_INPUT="slowInput",e.STARTED="started",e.STOPPED="stopped",e.SUBSTITUTED="autoSubstituted",e.SYNCHRONY_DISCONNECTED="synchronyDisconnected",e.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",e.SYNCHRONY_ERROR="synchronyError",e.TOGGLE_EXPAND="toggleExpand",e.TRANSACTION_DISPATCHED="transactionDispatched",e.TYPING_FINISHED="typingFinished",e.TYPING_STARTED="typingStarted",e.UNLINK="unlinked",e.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncountered",e.UPDATED="updated",e.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",e.VIEWED="viewed",
e.VISITED="visited",e.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",e.RENDERED="rendered",e.ON_EDITOR_READY_CALLBACK="onEditorReadyCallback",e.ON_CHANGE_CALLBACK="onChangeCalled",e.REMOVE_ICON="removedIcon"}(r||(r={})),function(e){e.ASCII="ascii",e.AUTO="auto",e.AUTO_DETECT="autoDetect",e.BUTTON="button",e.BLUR="blur",e.CARD="card",e.CLIPBOARD="clipboard",e.CONFIG_PANEL="configPanel",e.CONTEXT_MENU="contextMenu",e.DRAG_AND_DROP="dragAndDrop",e.EXTERNAL="external",e.EXTENSION_API="extensionApi",e.FLOATING_TB="floatingToolbar",e.FORMATTING="autoformatting",e.INSERT_MENU="insertMenu",e.KEYBOARD="keyboard",e.MACRO_BROWSER="macroBrowser",e.MANUAL="manual",e.PICKER="picker",e.PICKER_CLOUD="cloudPicker",e.PREFILL="prefill",e.QUICK_INSERT="quickInsert",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead"}(i||(i={})),function(e){e.BUTTON="button",e.KEYBOARD="keyboard",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar"}(a||(a={})),function(e){e.TOOLBAR_BUTTON="toolbarButton",
e.BUTTON="button",e.CONFIG_PANEL="configPanel",e.CONTENT_COMPONENT="contentComponent",e.DATE="date",e.DATE_SEGMENT="dateSegment",e.DOCUMENT="document",e.EDITOR="editor",e.ELEMENT_BROWSER="elementBrowser",e.EMBEDS="embeds",e.EXPAND="expand",e.EXTENSION="extension",e.FEEDBACK_DIALOG="feedbackDialog",e.FIND_REPLACE_DIALOG="findReplaceDialog",e.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",e.FLOATING_TOOLBAR_PLUGIN="floatingToolbarPlugin",e.HELP="help",e.LAYOUT="layout",e.LIST="list",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.NESTED_EXPAND="nestedExpand",e.PANEL="panel",e.PICKER="picker",e.PLUS_MENU="plusMenu",e.PLUGIN_SLOT="pluginSlot",e.REACT_NODE_VIEW="reactNodeView",e.SELECTION="selection",e.SMART_LINK="smartLink",e.HYPERLINK="hyperlink",e.TABLE="table",e.TABLES_PLUGIN="tablesPlugin",e.TEXT="text",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead",e.TYPEAHEAD_ITEM="typeAheadItem",e.ANNOTATION="annotation",e.SEARCH_RESULT="searchResult",
e.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog",e.CODE_BLOCK="codeBlock",e.REACT_EDITOR_VIEW="reactEditorView"}(s||(s={})),function(e){e.ACTION="action",e.ALL="all",e.ALT_TEXT="altText",e.ANNOTATE_BUTTON="annotateButton",e.AVATAR_GROUP_PLUGIN="AvatarGroupInPlugin",e.BLOCK_QUOTE="blockQuote",e.BUTTON_FEEDBACK="feedbackButton",e.BUTTON_HELP="helpButton",e.BUTTON_CATEGORY="categoryButton",e.CANCEL="cancel",e.CARD_BLOCK="blockCard",e.CAPTION="caption",e.CARD_INLINE="inlineCard",e.CELL="cell",e.CODE_BLOCK="codeBlock",e.DATE="date",e.DATE_DAY="day",e.DATE_MONTH="month",e.DATE_YEAR="year",e.DECISION="decision",e.DIVIDER="divider",e.EMOJI="emoji",e.EXPAND="expand",e.EXTENSION="extension",e.EXTENSION_API="extensionApi",e.EXTENSION_BLOCK="extension",e.EXTENSION_BODIED="bodiedExtension",e.EXTENSION_INLINE="inlineExtension",e.FORMAT_BLOCK_QUOTE="blockQuote",e.FORMAT_CLEAR="clearFormatting",e.FORMAT_CODE="code",e.FORMAT_COLOR="color",e.FORMAT_HEADING="heading",e.FORMAT_INDENT="indentation",
e.FORMAT_ITALIC="italic",e.FORMAT_LIST_BULLET="bulletedList",e.FORMAT_LIST_NUMBER="numberedList",e.FORMAT_STRIKE="strike",e.FORMAT_STRONG="strong",e.FORMAT_SUB="subscript",e.FORMAT_SUPER="superscript",e.FORMAT_UNDERLINE="underline",e.HELP_QUICK_INSERT="helpQuickInsert",e.INLINE_COMMENT="inlineComment",e.LAYOUT="layout",e.RICH_MEDIA_LAYOUT="richMediaLayout",e.LINE_BREAK="lineBreak",e.LINK="link",e.LINK_PREVIEW="linkPreview",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.MEDIA_GROUP="mediaGroup",e.MEDIA_LINK="mediaLink",e.MENTION="mention",e.NESTED_EXPAND="nestedExpand",e.NODE="node",e.PANEL="panel",e.PASTE_BLOCK_CARD="blockCard",e.PASTE_BLOCKQUOTE="blockQuote",e.PASTE_BODIED_EXTENSION="bodiedExtension",e.PASTE_BULLET_LIST="bulletList",e.PASTE_CODE_BLOCK="codeBlock",e.PASTE_DECISION_LIST="decisionList",e.PASTE_EXPAND="expand",e.PASTE_EXTENSION="extension",e.PASTE_HEADING="heading",e.PASTE_MEDIA_GROUP="mediaGroup",e.PASTE_MEDIA_SINGLE="mediaSingle",e.PASTE_NESTED_EXPAND="nestedExpand",
e.PASTE_ORDERED_LIST="orderedList",e.PASTE_PANEL="panel",e.PASTE_PARAGRAPH="paragraph",e.PASTE_RULE="rule",e.PASTE_TABLE="table",e.PASTE_TABLE_CELL="tableCell",e.PASTE_TABLE_HEADER="tableHeader",e.PASTE_TABLE_ROW="tableRow",e.PASTE_TASK_LIST="taskList",e.PICKER_COLOR="colorPicker",e.PICKER_CLOUD="cloudPicker",e.PICKER_EMOJI="emojiPicker",e.PRODUCT_NAME="productName",e.PLACEHOLDER_TEXT="placeholderText",e.PUNC="punctuation",e.RANGE="range",e.REACT_NODE_VIEW="reactNodeView",e.RESIZED="resized",e.SAVE="save",e.SECTION="section",e.SMART_LINK="smartLink",e.STATUS="status",e.SYMBOL="symbol",e.TABLE="table",e.TEXT="text",e.TYPEAHEAD_EMOJI="emojiTypeAhead",e.TYPEAHEAD_LINK="linkTypeAhead",e.TYPEAHEAD_MENTION="mentionTypeAhead",e.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",e.UNSUPPORTED_BLOCK="unsupportedBlock",e.UNSUPPORTED_INLINE="unsupportedInline",e.UNSUPPORTED_MARK="unsupportedMark",e.UNKNOWN_NODE="unknownNode",e.RECENT_ACTIVITIES="recentActivities",e.QUICK_SEARCH="quickSearch",
e.LINK_SEARCH_INPUT="linkSearchInput",e.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",e.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults",e.EDIT_LINK="editLink",e.UNLINK="unlink",e.OPEN_LINK="openLink",e.EMBEDS="embeds",e.HYPERLINK="hyperlink"}(c||(c={})),function(e){e.CODE_BLOCK="codeBlockFloatingControls",e.EXTENSION="extensionFloatingControls",e.HYPERLINK="hyperlinkFloatingControls",e.MEDIA="mediaFloatingControls",e.PANEL="panelFloatingControls",e.TABLE="tableFloatingControls",e.EXPAND="expandToolbar"}(l||(l={})),function(e){e.INLINE_COMMENT="inlineComment",e.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",e.FLOATING_INSERT_BUTTON="floatingInsertButton",e.FLOATING_TOOLBAR="floatingToolbar"}(d||(d={}))},JE3G:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("extensionPlugin")},JK4V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("q1tI")
;const r=Object(o.createContext)(null),i=Object(o.createContext)(null)},JLWW:function(t,n,o){"use strict";o.d(n,"b",(function(){return a})),o.d(n,"a",(function(){return s})),o.d(n,"c",(function(){return c})),o.d(n,"e",(function(){return l})),o.d(n,"f",(function(){return d})),o.d(n,"d",(function(){return u}));var r=o("3tO9"),i=o.n(r);const a=(e,t)=>{const{mediaNodes:n}=e;return n.reduce(((e,n)=>{if(e)return e;const{node:o}=n;return o.attrs.id===t?n:e}),null)},s=(e,t,n)=>n?a(e,t):e.mediaGroupNodes[t],c=(e,t)=>e.mediaOptions&&e.mediaOptions.allowMarkingUploadsAsIncomplete&&"boolean"==typeof e.mobileUploadComplete[t]?e.mobileUploadComplete[t]:void 0,l=(t,n,r)=>(i,a)=>{const c=o("wBzk").a.getState(i);let l;if(r)l=((e,t)=>{const{mediaNodes:n}=e;return n.filter((e=>e.node.attrs.id===t))})(c,t);else{const e=s(c,t,r);l=e?[e]:[]}const d=i.schema.nodes.media;if(l=l.filter((t=>{let n;try{n=i.doc.nodeAt(t.getPos())}catch(e){return!1}return n&&n.type===d})),0===l.length)return!1;if(a){const e=i.tr
;l.forEach((({getPos:t})=>e.step(new(o("ml8T").a)(t(),n)))),e.setMeta("addToHistory",!1),a(e)}return!0},d=(e,t,n)=>(r,i)=>{const a=o("wBzk").a.getState(r),c=s(a,e,n);return!!c&&(i&&i(r.tr.step(new(o("ml8T").a)(c.getPos(),t)).setMeta("addToHistory",!1)),!0)},u=(e,t)=>(n,r)=>!!r&&(r(n.tr.step(new(o("ml8T").a)(e,i()({type:"file",url:null},t))).setMeta("addToHistory",!1)),!0)},"JW/m":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFC107" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}))
;i.displayName="GoogleSlide24Icon";var a=i;t.default=a},JWSa:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=n("vOnD").css`a.blockLink{display:block;}`},JkFw:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));var o=n("3tO9"),r=n.n(o),i=n("9lTW"),a=n.n(i),s=n("UxO+"),c=n("mG1W");const l=(e,t,o)=>async r=>{if(!e)return!1;const i=await e.openMacroBrowser(t);if(i&&t){const{state:e,dispatch:a}=r,l=t&&t.attrs.layout||"default",u=d(i,e,{layout:l});if(!u)return!1;const{selection:p,schema:h}=e,{extension:f,inlineExtension:m,bodiedExtension:g}=h.nodes,b=Object(n("eFSV").c)(e);let v=n("+uEk").a.CURRENT_SELECTION,{tr:y}=e;const E=!!Object(c.findSelectedNodeOfType)([g])(p);if(t.type!==g||E){if(Object(c.findSelectedNodeOfType)([f,g,m])(p))y=Object(c.replaceSelectedNode)(u)(y),y.setSelection(s.NodeSelection.create(y.doc,y.mapping.map(e.selection.anchor)));else if(b.element){
const e=r.posAtDOM(b.element,-1);e>-1&&(y=y.replaceWith(e,e+t.nodeSize,u),y.setSelection(s.Selection.near(y.doc.resolve(e))),v=n("+uEk").a.HTML_ELEMENT)}}else y=o?Object(c.replaceParentNodeOfType)(g,u)(y):Object(c.safeInsert)(u)(y),y.setSelection(s.TextSelection.create(y.doc,e.selection.anchor));if(a&&y.docChanged){const{extensionType:r,extensionKey:i,layout:s,localId:c}=t.attrs;Object(n("SVcB").a)(e,y,{action:n("J5HJ").a.UPDATED,actionSubject:n("J5HJ").b.EXTENSION,actionSubjectId:t.type.name,eventType:n("J5HJ").e.TRACK,attributes:{inputMethod:o?n("J5HJ").f.MACRO_BROWSER:n("J5HJ").f.TOOLBAR,extensionType:r,extensionKey:i,layout:s,localId:c,selection:y.selection.toJSON(),targetSelectionSource:v}}),a(y.scrollIntoView())}return!0}return!1},d=(e,t,o)=>{if(!e||!t)return null;const{schema:i}=t,{type:a,attrs:s}=Object(n("o/8C").e)(e,i);let c
;return"extension"===a?c=i.nodes.extension.create(r()(r()({},s),o)):"bodiedExtension"===a?c=i.nodes.bodiedExtension.create(r()(r()({},s),o),i.nodeFromJSON(e).content):"inlineExtension"===a&&(c=i.nodes.inlineExtension.create(s)),Object(n("Gbq5").f)(t,c)},u=(e,t)=>{const o=n("YAmM").a.getState(e),r=o&&o.macroProvider;if(!r||!r.autoConvert)return null;const i=r.autoConvert(t);return i?d(i,e):null},p=e=>async t=>{let o;try{o=await e,a()(o&&o.openMacroBrowser,`MacroProvider promise did not resolve to a valid instance of MacroProvider - ${o}`)}catch(r){o=null}return t.dispatch(t.state.tr.setMeta(n("YAmM").a,{macroProvider:o})),!0}},JnOq:function(e,t,n){"use strict";function o(e){let t,o=0,r=0;const i=Object(n("zYPQ").c)(e);return i&&(t=n("wYWE").b.get(i.node),o=t.height,r=t.width),{table:i,map:t,totalRowCount:o,totalColumnCount:r}}function r(e){let t=1,r=1,i=1;const{table:a,map:s,totalRowCount:c,totalColumnCount:l}=o(e);if(a&&s){const o=Object(n("n3wV").a)(e);o&&(i=s.cellsInRect(o).length,
t=o.right-o.left,r=o.bottom-o.top)}return{totalRowCount:c,totalColumnCount:l,horizontalCells:t,verticalCells:r,totalCells:i}}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},Jvvb:function(e,t,n){"use strict";var o;n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),function(e){e.ISO_FORMAT="YYYY-MM-DD",e.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",e.LOCALIZED_FORMAT="LOCALIZED_FORMAT"}(o||(o={}));const r=e=>{const t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},i=()=>{const e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},a=(e,t,n)=>{if(!t||n===o.ISO_FORMAT)return s(e);const r=new Date(Number(e)),i=n===o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,a=!i;return t.formatDate(r,{timeZone:"UTC",
weekday:i?"short":void 0,month:"short",day:"numeric",year:a?"numeric":void 0,formatMatcher:"best fit"})},s=e=>{const t=new Date(Number(e));return`${t.getUTCFullYear()}-${(e=>e<10?`0${e}`:e)(t.getUTCMonth()+1)}-${t.getUTCDate()}`},c=e=>Object(n("dndX").a)(new Date(Number(e)),new Date(Number(i()))),l=(e,t)=>{const r=new Date(Number(i())),s=new Date(Number(e)),c=Object(n("gXqy").a)(s,r),l=s.getUTCFullYear()===r.getUTCFullYear();return t&&[-1,0,1].indexOf(c)>-1?(e=>e.charAt(0).toUpperCase()+e.slice(1))(t.formatRelative(s,{units:"day",now:Number(i())})):a(e,t,l?o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:o.LOCALIZED_FORMAT)}},Jzj3:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return v})),n.d(t,"n",(function(){return y})),
n.d(t,"m",(function(){return E})),n.d(t,"o",(function(){return w})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return S})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return T})),n.d(t,"p",(function(){return x})),n.d(t,"u",(function(){return k})),n.d(t,"v",(function(){return I})),n.d(t,"w",(function(){return A})),n.d(t,"i",(function(){return N})),n.d(t,"h",(function(){return M})),n.d(t,"g",(function(){return R}));var o=n("QILm"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("CnBM"),c=n.n(s);const l=["level"],d=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-action").then(n.bind(null,"fCfH")).then((e=>e.default)),loading:()=>null}),u=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-code").then(n.bind(null,"epXi")).then((e=>e.default)),loading:()=>null}),p=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-date").then(n.bind(null,"AmOo")).then((e=>e.default)),loading:()=>null}),h=c()({
loader:()=>n.e("@atlaskit-internal_editor-icon-decision").then(n.bind(null,"dE2x")).then((e=>e.default)),loading:()=>null}),f=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-divider").then(n.bind(null,"GsFX")).then((e=>e.default)),loading:()=>null}),m=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-emoji").then(n.bind(null,"2N+X")).then((e=>e.default)),loading:()=>null}),g=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-images").then(n.bind(null,"LG/l")).then((e=>e.default)),loading:()=>null}),b=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-layout").then(n.bind(null,"2DB0")).then((e=>e.default)),loading:()=>null}),v=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-link").then(n.bind(null,"FF9a")).then((e=>e.default)),loading:()=>null}),y=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-list-number").then(n.bind(null,"OH/3")).then((e=>e.default)),loading:()=>null}),E=c()({
loader:()=>n.e("@atlaskit-internal_editor-icon-list").then(n.bind(null,"BWai")).then((e=>e.default)),loading:()=>null}),w=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-mention").then(n.bind(null,"Rxud")).then((e=>e.default)),loading:()=>null}),O=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-error").then(n.bind(null,"xjuY")).then((e=>e.default)),loading:()=>null}),S=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-note").then(n.bind(null,"4T6F")).then((e=>e.default)),loading:()=>null}),C=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-success").then(n.bind(null,"Srt6")).then((e=>e.default)),loading:()=>null}),T=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel-warning").then(n.bind(null,"/LT8")).then((e=>e.default)),loading:()=>null}),x=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-panel").then(n.bind(null,"/8nK")).then((e=>e.default)),loading:()=>null}),k=(c()({
loader:()=>Promise.resolve().then(n.bind(null,"yQD/")).then((e=>e.default)),loading:()=>null}),c()({loader:()=>n.e("@atlaskit-internal_editor-icon-quote").then(n.bind(null,"ZRP5")).then((e=>e.default)),loading:()=>null})),I=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-status").then(n.bind(null,"f6xl")).then((e=>e.default)),loading:()=>null}),A=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-table").then(n.bind(null,"8GIJ")).then((e=>e.default)),loading:()=>null});c()({loader:()=>Promise.resolve().then(n.bind(null,"scwk")).then((e=>e.default)),loading:()=>null});const N=e=>{let{level:t}=e,o=r()(e,l);const i=c()({loader:()=>function(e){switch(e){case 1:return n.e("@atlaskit-internal_editor-icon-heading-1").then(n.bind(null,"G/Ob"));case 2:return n.e("@atlaskit-internal_editor-icon-heading-2").then(n.bind(null,"V+mL"));case 3:return n.e("@atlaskit-internal_editor-icon-heading-3").then(n.bind(null,"xNsZ"));case 4:
return n.e("@atlaskit-internal_editor-icon-heading-4").then(n.bind(null,"KDSu"));case 5:return n.e("@atlaskit-internal_editor-icon-heading-5").then(n.bind(null,"xHBH"));case 6:default:return n.e("@atlaskit-internal_editor-icon-heading-6").then(n.bind(null,"CYZi"))}}(t).then((e=>e.default)),loading:()=>null});return a.a.createElement(i,o)},M=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-feedback").then(n.bind(null,"bR8a")).then((e=>e.default)),loading:()=>null}),R=c()({loader:()=>n.e("@atlaskit-internal_editor-icon-expand").then(n.bind(null,"kSQk")).then((e=>e.default)),loading:()=>null})},KG1a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={FLOATING_TOOLBAR_COMPONENT:"pm-alt-text-alt-text-floating-toolbar"}},KOyK:function(e,t,n){"use strict";var o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,r=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/
;e.exports=function(e,t){var n,i,a,s,c,l,d=e.pos;return 60===e.src.charCodeAt(d)&&(!((n=e.src.slice(d)).indexOf(">")<0)&&(r.test(n)?(s=(i=n.match(r))[0].slice(1,-1),c=e.md.normalizeLink(s),!!e.md.validateLink(c)&&(t||((l=e.push("link_open","a",1)).attrs=[["href",c]],l.markup="autolink",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(s),(l=e.push("link_close","a",-1)).markup="autolink",l.info="auto"),e.pos+=i[0].length,!0)):!!o.test(n)&&(s=(a=n.match(o))[0].slice(1,-1),c=e.md.normalizeLink("mailto:"+s),!!e.md.validateLink(c)&&(t||((l=e.push("link_open","a",1)).attrs=[["href",c]],l.markup="autolink",l.info="auto",(l=e.push("text","",0)).content=e.md.normalizeLinkText(s),(l=e.push("link_close","a",-1)).markup="autolink",l.info="auto"),e.pos+=a[0].length,!0))))}},KsUR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);function i(){const e=document.createElement("span");return e.contentEditable="false",
e.classList.add("inline-node--mobile"),e}const a=n("vOnD").default.span.withConfig({componentId:"sc-1b4qxpz-0"})`display:block;`,s=({useInlineWrapper:e,children:t})=>e?r.a.createElement(a,null,t):r.a.createElement(r.a.Fragment,null,t);s.displayName="InlineNodeWrapper",t.b=s},Kuh0:function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return b}));const o={name:"normal",title:n("RJFP").a.normal,nodeName:"paragraph",tagName:"p"},r={name:"heading1",title:n("RJFP").a.heading1,nodeName:"heading",tagName:"h1",level:1},i={
name:"heading2",title:n("RJFP").a.heading2,nodeName:"heading",tagName:"h2",level:2},a={name:"heading3",title:n("RJFP").a.heading3,nodeName:"heading",tagName:"h3",level:3},s={name:"heading4",title:n("RJFP").a.heading4,nodeName:"heading",tagName:"h4",level:4},c={name:"heading5",title:n("RJFP").a.heading5,nodeName:"heading",tagName:"h5",level:5},l={name:"heading6",title:n("RJFP").a.heading6,nodeName:"heading",tagName:"h6",level:6},d={name:"blockquote",title:n("RJFP").a.blockquote,nodeName:"blockquote"},u={name:"codeblock",title:n("RJFP").a.codeblock,nodeName:"codeBlock"},p={name:"panel",title:n("RJFP").a.infoPanel,nodeName:"panel"},h={name:"other",title:n("RJFP").a.other,nodeName:""},f=[o,r,i,a,s,c,l],m=[d,u,p],g=(f.concat(m),f.reduce(((e,t)=>(t.level&&"heading"===t.nodeName&&(e[t.level]=t),e)),{})),b=f.reduce(((e,t)=>(t.level&&"heading"===t.nodeName&&(e[t.name]=t),e)),{})},KwUl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("statusPlugin")
},KzBb:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);class s extends a.a.Component{constructor(...e){super(...e),r()(this,"state",{errorCaptured:!1})}hasFallback(){return void 0!==this.props.fallbackComponent}shouldRecover(){return this.hasFallback()&&this.state.errorCaptured}componentDidCatch(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:n("J5HJ").a.EDITOR_CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:n("J5HJ").e.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}render(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}s.displayName="ErrorBoundary"},LVTJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return Vt}))
;var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("17x9"),d=n.n(l),u=n("vOnD"),p=n("JRPe"),h=n("xk4V"),f=n.n(h),m=n("OhBV"),g=n("pVnL"),b=n.n(g)
;const v=u.css`.ProseMirror .telepointer{position:relative;transition:opacity 200ms;&.telepointer-selection{line-height:1.2;pointer-events:none;user-select:none;}&.telepointer-selection-badge::after{content:attr(data-initial);position:absolute;display:block;top:-14px;font-size:${Object(n("9cwX").ib)(9)};padding:2px;color:white;left:-1px;border-radius:2px 2px 2px 0;line-height:initial;}&.${"telepointer-dim"}{opacity:0.2;}${n("8PVD").a.map(((e,t)=>((e,t)=>`\n  &.color-${t} {\n    background-color: ${e.selection};\n    &::after {\n      background-color: ${e.solid};\n      color: #fff;\n      border-color: ${e.solid};\n    }\n  }\n`)(e,t)))};}`,y=".ProseMirror-gapcursor",E='[layout="wrap-left"]',w='[layout="wrap-right"]',O=`\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    &.ProseMirror-hide-gapcursor {\n      caret-color: transparent;\n    }\n\n    ${y} {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1s ${u.keyframes`from,to{opacity:0;}50%{opacity:1;}`} step-end infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &${w} {\n        float: right;\n      }\n\n      /* fix vertical alighment of gap cursor */\n      &:first-child + ul,\n      &:first-child + span + ul,\n      &:first-child + ol,\n      &:first-child + span + ol,\n      &:first-child + pre,\n      &:first-child + span + pre,\n      &:first-child + blockquote,\n      &:first-child + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused ${y} {\n      display: block;\n      border-color: transparent;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  ${y}${E} + span + ${E},\n  ${y}${w} + span + ${w},\n  ${y} + ${E} + ${w},\n  ${y} + ${E} + span + ${w},\n  ${y} + ${w} + ${E},\n  ${y} + ${w} + span + ${E},\n  ${E} + ${y} + ${w},\n  ${E} + ${y} + span ${w},\n  ${w} + ${y} + ${E},\n  ${w} + ${y} + span + ${E},\n  ${E} + ${y} {\n    clear: none;\n  }\n\n  ${E} + ${y} + ${w} > div,\n  ${E} + ${y} + span + ${w} > div,\n  ${w} + ${y} + ${E} > div,\n  ${w} + ${y} + span + ${E} > div,\n  ${y} + ${w} + ${E} > div,\n  ${y} + ${w} + span + ${E} > div,\n  ${y} + ${E} + ${w} > div,\n  ${y} + ${E} + span + ${w} > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  ${E} + ${y},\n  ${w} + ${y} {\n    float: left;\n  }\n\n  ${y} + ${E} + span + ${w}::after,\n  ${y} + ${w} + span + ${E}::after,\n  ${E} + ${y} + ${w}::after,\n  ${E} + ${y} + span + ${w}::after,\n  ${w} + ${y} + ${E}::after,\n  ${w} + ${y} + span + ${E}::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  ${E} + ${y} + ${w} + *,\n  ${E} + ${y} + ${w} + span + *,\n  ${w} + ${y} + ${E} + *,\n  ${w} + ${y} + ${E} + span + *,\n  ${E} + ${y} + span + ${w} + *,\n  ${w} + ${y} + span + ${E} + *,\n  ${y} + ${E} + span + ${w} + *,\n  ${y} + ${w} + span + ${E} + *,\n  ${E} + ${y} + ${w} + * > *,\n  ${E} + ${y} + ${w} + span + * > *,\n  ${w} + ${y} + ${E} + * > *,\n  ${w} + ${y} + ${E} + span + * > *,\n  ${E} + ${y} + span + ${w} + * > *,\n  ${w} + ${y} + span + ${E} + * > *,\n  ${y} + ${E} + span + ${w} + * > *,\n  ${y} + ${w} + span + ${E} + * > *,\n  .ProseMirror-widget + ${y} + *,\n  .ProseMirror-widget + ${y} + span + * {\n    margin-top: 0;\n  }\n`,S=e=>u.css`.${n("EfLE").b.CONTROLS_INSERT_LINE}{background:${n("Npri").h};display:none;position:absolute;z-index:${n("9cwX").Y};${e}}`,C=u.css`background-color:${n("Npri").f};position:absolute;height:${4}px;width:${4}px;border-radius:50%;pointer-events:none;`,T=e=>u.css`.${n("EfLE").b.CONTROLS_INSERT_MARKER}{${C};${e}}`,x=e=>u.css`border-radius:${Object(n("ARg4").borderRadius)()}px;border-width:0px;display:inline-flex;max-width:100%;text-align:center;margin:0px;padding:0px;text-decoration:none;transition:background 0.1s ease-out 0s,box-shadow 0.15s cubic-bezier(0.47,0.03,0.49,1.38) 0s;outline:none !important;cursor:none;> .${n("EfLE").b.CONTROLS_BUTTON_ICON}{display:inline-flex;max-height:100%;max-width:100%;}${e}`,k=()=>u.css`.${n("EfLE").b.CONTROLS_INSERT_BUTTON_INNER}{position:absolute;z-index:${n("9cwX").Y+10};bottom:0;}.${n("EfLE").b.CONTROLS_INSERT_BUTTON_INNER},.${n("EfLE").b.CONTROLS_INSERT_BUTTON}{height:${20}px;width:${20}px;}.${n("EfLE").b.CONTROLS_INSERT_BUTTON}{${x("\n      background: white;\n      box-shadow: 0 4px 8px -2px rgba(9, 30, 66, 0.31), 0 0 1px rgba(9, 30, 66, 0.31);\n      color: #5E6C84;\n    ")}}.${n("EfLE").b.CONTROLS_INSERT_LINE}{display:none;}&:hover .${n("EfLE").b.CONTROLS_INSERT_LINE}{display:flex;}`,I=()=>u.css`.${n("EfLE").b.CONTROLS_INSERT_BUTTON}:hover{background:${"#0065FF"};color:white;cursor:pointer;}`,A=u.css`${k()} ${I()} ${S("\n    width: 2px;\n    left: 9px;\n  ")}`,N=u.css`${k()} ${I()} ${S("\n    height: 2px;\n    top: -11px;\n    left: 19px;\n  ")}`,M=u.css`.${n("EfLE").b.TABLE_CONTAINER}.${n("EfLE").b.WITH_CONTROLS} table tr:first-child td,.${n("EfLE").b.TABLE_CONTAINER}.${n("EfLE").b.WITH_CONTROLS} table tr:first-child th{position:relative;&::before{content:' ';${C};top:-${n("Npri").q+13}px;right:-${2}px;}}`,R=u.css`.${n("EfLE").b.CONTROLS_DELETE_BUTTON_WRAP},.${n("EfLE").b.CONTROLS_DELETE_BUTTON}{height:${16}px;width:${16}px;}.${n("EfLE").b.CONTROLS_DELETE_BUTTON_WRAP}{.${n("EfLE").b.CONTROLS_DELETE_BUTTON}{${x("\n        background: rgba(9, 30, 66, 0.04);\n        color: #5E6C84;\n      ")}}}.${n("EfLE").b.CONTROLS_DELETE_BUTTON}:hover{background:${"#FF5630"};color:white;cursor:pointer;}`,j=u.css`.${n("EfLE").b.TABLE_RIGHT_SHADOW},.${n("EfLE").b.TABLE_LEFT_SHADOW}{display:block;height:calc(100% - ${n("9ehW").h+n("9ehW").f+n("Npri").q-2}px);position:absolute;pointer-events:none;top:${n("9ehW").h+n("Npri").q-1}px;z-index:${n("9cwX").K};width:8px;}.${n("EfLE").b.TABLE_LEFT_SHADOW}{background:linear-gradient( to left,rgba(99,114,130,0) 0,${"rgba(9, 30, 66, 0.13)"} 100% );left:0px;}.${n("EfLE").b.TABLE_CONTAINER}[data-number-column='true'] >:not(.${n("EfLE").b.TABLE_STICKY_SHADOW}).${n("EfLE").b.TABLE_LEFT_SHADOW}{left:${n("9cwX").T-1}px;}.${n("EfLE").b.TABLE_RIGHT_SHADOW}{background:linear-gradient( to right,rgba(99,114,130,0) 0,${"rgba(9, 30, 66, 0.13)"} 100% );left:calc(100% + 2px);}.${n("EfLE").b.WITH_CONTROLS}{.${n("EfLE").b.TABLE_RIGHT_SHADOW},.${n("EfLE").b.TABLE_LEFT_SHADOW}{height:calc(100% - ${n("9ehW").h+n("9ehW").f-2}px);top:${n("9ehW").h-1}px;}.${n("EfLE").b.TABLE_LEFT_SHADOW}{border-left:1px solid ${n("Npri").f};}}.${n("EfLE").b.WITH_CONTROLS}.${n("EfLE").b.TABLE_STICKY}{.${n("EfLE").b.TABLE_RIGHT_SHADOW},.${n("EfLE").b.TABLE_LEFT_SHADOW}{top:${n("Npri").l}px;}}`,P=u.css`color:${"#FFFFFF"};background-color:${n("Npri").p};border-color:${n("Npri").h};z-index:${n("Npri").a};`,D=u.css`.${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS}{display:none;cursor:pointer;position:absolute;width:calc(100% + ${2*n("9ehW").c}px);left:-1px;top:-${25+n("9ehW").c}px;height:${25}px;&::after{content:' ';${(e=>u.css`background:${n("Npri").n};border:1px solid ${n("Npri").f};display:block;box-sizing:border-box;padding:0;:focus{outline:none;}${e}`)(`\n        border-right: ${n("9ehW").c}px solid ${n("Npri").f};\n        border-bottom: none;\n        height: ${n("Npri").q}px;\n        width: 100%;\n        position: absolute;\n        top: ${25-n("Npri").q}px;\n        left: 0px;\n        z-index: ${n("Npri").b};\n      `)}}}.${n("EfLE").b.WITH_CONTROLS} .${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS}{display:block;}table tr:first-child td.${n("EfLE").b.TABLE_CELL},table tr:first-child th.${n("EfLE").b.TABLE_HEADER_CELL}{&.${n("EfLE").b.COLUMN_SELECTED},&.${n("EfLE").b.HOVERED_COLUMN},&.${n("EfLE").b.HOVERED_TABLE}{.${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS}::after{${P};}&.${n("EfLE").b.HOVERED_CELL_IN_DANGER} .${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS}::after{background-color:${n("Npri").o};border:1px solid ${n("Npri").g};border-bottom:none;z-index:${100*n("9cwX").Y};}}}.${n("EfLE").b.TABLE_SELECTED} table tr:first-child td.${n("EfLE").b.TABLE_CELL},.${n("EfLE").b.TABLE_SELECTED} table tr:first-child th.${n("EfLE").b.TABLE_HEADER_CELL}{.${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS}::after{${P};}}`,L=u.css`.${n("EfLE").b.TABLE_CONTAINER}.${n("EfLE").b.HOVERED_DELETE_BUTTON}{.${n("EfLE").b.SELECTED_CELL},.${n("EfLE").b.COLUMN_SELECTED},.${n("EfLE").b.HOVERED_CELL}{border:1px solid ${n("Npri").g};}.${n("EfLE").b.SELECTED_CELL}::after{background:${n("Npri").j};}}`,_=u.css`:not(.${n("EfLE").b.IS_RESIZING}) .${n("EfLE").b.TABLE_CONTAINER}:not(.${n("EfLE").b.HOVERED_DELETE_BUTTON}){.${n("EfLE").b.HOVERED_CELL}{position:relative;border:1px solid ${n("Npri").h};}}`,B=u.css`:not(.${n("EfLE").b.IS_RESIZING}) .${n("EfLE").b.TABLE_CONTAINER}:not(.${n("EfLE").b.HOVERED_DELETE_BUTTON}){td.${n("EfLE").b.HOVERED_CELL_WARNING}{background-color:${"#FFFAE6"} !important;border:1px solid ${"#FFC400"};}}`,H=u.css`.${n("EfLE").b.TABLE_CONTAINER}{.${n("EfLE").b.RESIZE_HANDLE_DECORATION}{background-color:transparent;position:absolute;width:${n("Npri").c}px;height:100%;top:0;right:-${n("Npri").c/2}px;cursor:col-resize;z-index:${n("Npri").d};}td.${n("EfLE").b.WITH_RESIZE_LINE},th.${n("EfLE").b.WITH_RESIZE_LINE}{.${n("EfLE").b.RESIZE_HANDLE_DECORATION}::after{content:' ';right:${(n("Npri").c-2)/2}px;position:absolute;width:${2}px;height:calc(100% + 1px);background-color:${n("Npri").h};z-index:${2*n("Npri").b};top:0;}}table tr:first-child th.${n("EfLE").b.WITH_RESIZE_LINE} .${n("EfLE").b.RESIZE_HANDLE_DECORATION}::after,table tr:first-child td.${n("EfLE").b.WITH_RESIZE_LINE} .${n("EfLE").b.RESIZE_HANDLE_DECORATION}::after{top:-${n("Npri").q+n("9ehW").c}px;height:calc(100% + ${n("Npri").q+n("9ehW").c}px);}}`,J=`\n.${n("EfLE").b.NODEVIEW_WRAPPER}.${n("9cwX").J} table tbody tr {\n  th,td {\n    ${Object(n("KCGR").a)([n("NJU0").a.Blanket,n("NJU0").a.Border])}\n  }\n}\n`,$=`.${n("EfLE").b.TABLE_CONTAINER} {\n  > .${n("EfLE").b.TABLE_STICKY_SENTINEL_TOP}, > .${n("EfLE").b.TABLE_STICKY_SENTINEL_BOTTOM} {\n    position: absolute;\n    width: 100%;\n    height: 0px;\n  }\n  > .${n("EfLE").b.TABLE_STICKY_SENTINEL_TOP} {\n    top: 25px;\n  }\n  > .${n("EfLE").b.TABLE_STICKY_SENTINEL_BOTTOM} {\n      bottom: 62px;\n  }\n  &.${n("EfLE").b.WITH_CONTROLS} {\n    > .${n("EfLE").b.TABLE_STICKY_SENTINEL_TOP} {\n      top: 0px;\n    }\n    > .${n("EfLE").b.TABLE_STICKY_SENTINEL_BOTTOM} {\n      margin-bottom: 25px;\n    }\n  }\n}`,F=u.css`.${n("EfLE").b.LAYOUT_BUTTON} button{background:${"rgba(9, 30, 66, 0.04)"};color:${"#5E6C84"};cursor:none;}.${n("EfLE").b.LAYOUT_BUTTON}:not(.${n("EfLE").b.IS_RESIZING}) button:hover{background:${"#0065FF"};color:white !important;cursor:pointer;}.ProseMirror{${n("9ehW").k};${M};${L};${_};${B};${H};${J};.${n("EfLE").b.LAST_ITEM_IN_CELL}{margin-bottom:0;}.${n("EfLE").b.TABLE_NODE_WRAPPER}{td.${n("EfLE").b.TABLE_CELL},th.${n("EfLE").b.TABLE_HEADER_CELL}{position:relative;overflow:visible;}td.${n("EfLE").b.TABLE_CELL}{background-color:${n("Npri").i};}}.${n("EfLE").b.CONTROLS_FLOATING_BUTTON_COLUMN}{${A}}.${n("EfLE").b.CONTROLS_FLOATING_BUTTON_ROW}{${N}}${R} .${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.NUMBERED_COLUMN} .${n("EfLE").b.NUMBERED_COLUMN_BUTTON}:first-child{margin-top:${10}px;width:${n("9cwX").T}px;position:fixed !important;z-index:${n("9cwX").M} !important;box-shadow:0px -${8}px white;border-right:0 none;}.${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.CORNER_CONTROLS}.sticky{position:fixed !important;z-index:${n("9cwX").L} !important;background:white;width:${n("Npri").q}px;height:${n("Npri").q}px;}.${n("EfLE").b.CORNER_CONTROLS}.sticky .${n("EfLE").b.CONTROLS_CORNER_BUTTON}{border-bottom:0px none;border-right:0px none;height:${n("Npri").q}px;width:${n("Npri").q}px;}.${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS}{z-index:0;}.${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.ROW_CONTROLS} .${n("EfLE").b.ROW_CONTROLS_BUTTON_WRAP}.sticky{position:fixed !important;z-index:${n("9cwX").M} !important;display:flex;border-left:${n("Npri").q}px solid white;margin-left:-${n("Npri").q}px;}.${n("EfLE").b.TABLE_STICKY} col:first-of-type{border-right:1px solid green;}tr.sticky{padding-top:${8}px;position:fixed;display:grid;z-index:${n("Npri").e};overflow-y:visible;overflow-x:hidden;grid-auto-flow:column;background:white;box-sizing:content-box;margin-top:2px;box-shadow:0 6px 4px -4px ${"rgba(9, 30, 66, 0.13)"};margin-left:-1px;}.${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.TABLE_STICKY_SHADOW}{left:unset;position:fixed;z-index:${n("Npri").e+1};}.${n("EfLE").b.WITH_CONTROLS}.${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.TABLE_STICKY_SHADOW}{padding-bottom:${n("Npri").q}px;}tr.sticky th{border-bottom:${1}px solid ${n("Npri").f};margin-right:-1px;}.${n("EfLE").b.TABLE_STICKY} tr.sticky > th:last-child{border-right-width:1px;}.${n("EfLE").b.TABLE_STICKY} tr.sticky > th:first-child{margin-left:0px;}.${n("EfLE").b.TABLE_STICKY} tr.sticky::after{content:' ';width:1px;}.${n("EfLE").b.TABLE_STICKY} .sticky + tr{min-height:0px;}.${n("EfLE").b.TABLE_CONTAINER}.${n("EfLE").b.TABLE_STICKY}{tr.sticky td.${n("EfLE").b.WITH_RESIZE_LINE},tr.sticky th.${n("EfLE").b.WITH_RESIZE_LINE}{.${n("EfLE").b.RESIZE_HANDLE_DECORATION}::after{right:${(n("Npri").c-2)/2+1}px;}}tr.sticky td.${n("EfLE").b.WITH_RESIZE_LINE}.${n("EfLE").b.SELECTED_CELL},tr.sticky th.${n("EfLE").b.WITH_RESIZE_LINE}.${n("EfLE").b.SELECTED_CELL}{.${n("EfLE").b.RESIZE_HANDLE_DECORATION}::after{right:${(n("Npri").c-2)/2}px;}}}tr.sticky .${n("EfLE").b.HOVERED_CELL},tr.sticky .${n("EfLE").b.SELECTED_CELL}{z-index:1;}.${n("EfLE").b.WITH_CONTROLS} tr.sticky{padding-top:${n("Npri").l}px;}.${n("EfLE").b.WITH_CONTROLS}.${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.NUMBERED_COLUMN} .${n("EfLE").b.NUMBERED_COLUMN_BUTTON}:first-child{margin-top:${n("Npri").l+2}px;}.${n("EfLE").b.CORNER_CONTROLS}.sticky{border-top:${n("Npri").l-n("Npri").q+2}px solid white;}${e=>{
var t;return null!==(t=e.featureFlags)&&void 0!==t&&t.stickyHeadersOptimization?$:""
}} ${j} .${n("EfLE").b.TABLE_STICKY} .${n("EfLE").b.TABLE_STICKY_SHADOW}{height:0;}.less-padding{padding:0 ${8}px;.${n("EfLE").b.ROW_CONTROLS_WRAPPER}{padding:0 ${8}px;}&.${n("EfLE").b.TABLE_CONTAINER}[data-number-column='true']{padding-left:${n("9cwX").T+8-1}px;}.${n("EfLE").b.TABLE_LEFT_SHADOW}{left:6px;}.${n("EfLE").b.TABLE_RIGHT_SHADOW}{left:calc(100% - 6px);}}> .${n("EfLE").b.NODEVIEW_WRAPPER}{}> * .${n("EfLE").b.NODEVIEW_WRAPPER} .${n("EfLE").b.TABLE_CONTAINER}{margin-left:unset !important;width:100% !important;}${D};.${n("EfLE").b.CORNER_CONTROLS}{width:${n("Npri").q+1}px;height:${n("Npri").q+1}px;display:none;.${n("EfLE").b.CORNER_CONTROLS_INSERT_ROW_MARKER}{position:relative;${T("\n          left: -11px;\n          top: 9px;\n        ")};}.${n("EfLE").b.CORNER_CONTROLS_INSERT_COLUMN_MARKER}{position:relative;${T("\n          right: -1px;\n          top: -12px;\n        ")};}}.${n("EfLE").b.CORNER_CONTROLS}.sticky{.${n("EfLE").b.CORNER_CONTROLS_INSERT_ROW_MARKER}{display:none !important;}}.${n("EfLE").b.CONTROLS_CORNER_BUTTON}{position:absolute;top:0;width:${n("Npri").q+1}px;height:${n("Npri").q+1}px;border:1px solid ${n("Npri").f};border-radius:0;border-top-left-radius:${3}px;background:${n("Npri").n};box-sizing:border-box;padding:0;:focus{outline:none;}}.active .${n("EfLE").b.CONTROLS_CORNER_BUTTON}{border-color:${n("Npri").h};background:${n("Npri").p};}.${n("EfLE").b.TABLE_CONTAINER}[data-number-column='true']{.${n("EfLE").b.CORNER_CONTROLS},.${n("EfLE").b.CONTROLS_CORNER_BUTTON}{width:${n("9cwX").W+n("9cwX").T}px;}.${n("EfLE").b.ROW_CONTROLS} .${n("EfLE").b.CONTROLS_BUTTON}{border-right-width:0;}}:not(.${n("EfLE").b.IS_RESIZING}) .${n("EfLE").b.CONTROLS_CORNER_BUTTON}:hover{border-color:${n("Npri").h};background:${n("Npri").p};cursor:pointer;}:not(.${n("EfLE").b.IS_RESIZING}) .${n("EfLE").b.CONTROLS_CORNER_BUTTON}.${n("EfLE").b.HOVERED_CELL_IN_DANGER}{border-color:${n("Npri").g};background:${n("Npri").o};}.${n("EfLE").b.ROW_CONTROLS}{width:${n("Npri").q}px;box-sizing:border-box;display:none;position:relative;${T("\n        bottom: -1px;\n        left: -11px;\n      ")};.${n("EfLE").b.ROW_CONTROLS_INNER}{display:flex;flex-direction:column;}.${n("EfLE").b.ROW_CONTROLS_BUTTON_WRAP}:last-child > button{border-bottom-left-radius:${3}px;}.${n("EfLE").b.ROW_CONTROLS_BUTTON_WRAP}{position:relative;margin-top:-1px;}.${n("EfLE").b.ROW_CONTROLS_BUTTON_WRAP}:hover,.${n("EfLE").b.ROW_CONTROLS_BUTTON_WRAP}.active,.${n("EfLE").b.CONTROLS_BUTTON}:hover{z-index:${n("9cwX").Y};}${(e=>u.css`.${n("EfLE").b.CONTROLS_BUTTON}{background:${n("Npri").n};border:1px solid ${n("Npri").f};display:block;box-sizing:border-box;padding:0;:focus{outline:none;}${e}}.${n("EfLE").b.ROW_CONTROLS_BUTTON}::after{content:' ';background-color:transparent;left:-15px;top:0;position:absolute;width:15px;height:100%;z-index:1;}.active .${n("EfLE").b.CONTROLS_BUTTON}{color:${"#FFFFFF"};background-color:${n("Npri").p};border-color:${n("Npri").h};}`)(`\n        border-bottom: 1px solid ${n("Npri").f};\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: ${n("Npri").q}px;\n\n        .${n("EfLE").b.CONTROLS_BUTTON_OVERLAY} {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        .${n("EfLE").b.CONTROLS_BUTTON_OVERLAY}:first-child {\n          top: 0;\n        }\n      `)}}:not(.${n("EfLE").b.IS_RESIZING}) .${n("EfLE").b.ROW_CONTROLS}{${(()=>u.css`.${n("EfLE").b.CONTROLS_BUTTON}:hover{color:${"#FFFFFF"};background-color:${n("Npri").p};border-color:${n("Npri").h};cursor:pointer;}`)()} ${(()=>u.css`.${n("EfLE").b.HOVERED_CELL_IN_DANGER} .${n("EfLE").b.CONTROLS_BUTTON}{background-color:${n("Npri").o};border-color:${n("Npri").g};position:relative;z-index:${n("9cwX").Y};}`)()}}.${n("EfLE").b.NUMBERED_COLUMN}{position:relative;float:right;margin-left:${n("9cwX").W-1}px;top:${n("9cwX").W}px;width:${n("9cwX").T+1}px;box-sizing:border-box;}.${n("EfLE").b.NUMBERED_COLUMN_BUTTON}{border:1px solid ${n("Npri").f};box-sizing:border-box;margin-top:-1px;padding-bottom:2px;padding:10px 2px;text-align:center;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};background-color:${n("Npri").n};color:${n("Npri").m};border-color:${n("Npri").f};:first-child{margin-top:0;}:last-child{border-bottom:1px solid ${n("Npri").f};}}.${n("EfLE").b.WITH_CONTROLS}{.${n("EfLE").b.CORNER_CONTROLS},.${n("EfLE").b.ROW_CONTROLS}{display:block;}.${n("EfLE").b.NUMBERED_COLUMN}{padding-left:1px;.${n("EfLE").b.NUMBERED_COLUMN_BUTTON}{border-left:0 none;}.${n("EfLE").b.NUMBERED_COLUMN_BUTTON}.active{border-bottom:1px solid ${n("Npri").h};border-color:${n("Npri").h};background-color:${n("Npri").p};position:relative;z-index:${n("9cwX").Y};color:${"#FFFFFF"};}}}:not(.${n("EfLE").b.IS_RESIZING}) .${n("EfLE").b.WITH_CONTROLS}{.${n("EfLE").b.NUMBERED_COLUMN_BUTTON}{cursor:pointer;}.${n("EfLE").b.NUMBERED_COLUMN_BUTTON}:hover{border-bottom:1px solid ${n("Npri").h};border-color:${n("Npri").h};background-color:${n("Npri").p};position:relative;z-index:${n("9cwX").Y};color:${"#FFFFFF"};}.${n("EfLE").b.NUMBERED_COLUMN_BUTTON}.${n("EfLE").b.HOVERED_CELL_IN_DANGER}{background-color:${n("Npri").o};border:1px solid ${n("Npri").g};border-left:0;color:${"#BF2600"};position:relative;z-index:${n("9cwX").Y};}}.${n("EfLE").b.TABLE_NODE_WRAPPER} > table{table-layout:fixed;.${n("EfLE").b.COLUMN_CONTROLS_DECORATIONS} + *{margin-top:0;}.${n("EfLE").b.SELECTED_CELL},.${n("EfLE").b.HOVERED_CELL_IN_DANGER}{position:relative;}.${n("EfLE").b.SELECTED_CELL}::after,.${n("EfLE").b.HOVERED_CELL_IN_DANGER}::after{z-index:${n("9cwX").L};position:absolute;content:'';left:0;right:0;top:0;bottom:0;opacity:0.3;pointer-events:none;}.${n("EfLE").b.SELECTED_CELL}{border:1px solid ${n("Npri").h};}.${n("EfLE").b.SELECTED_CELL}::after{background:${n("Npri").k};}th.${n("EfLE").b.HOVERED_CELL_IN_DANGER}::after,td.${n("EfLE").b.HOVERED_CELL_IN_DANGER}::after{background:${n("Npri").j};}}.${n("EfLE").b.ROW_CONTROLS_WRAPPER}{position:absolute;top:${n("9ehW").h-1}px;}.${n("EfLE").b.ROW_CONTROLS_WRAPPER}.${n("EfLE").b.TABLE_LEFT_SHADOW}{z-index:${n("9cwX").Y};}.${n("EfLE").b.ROW_CONTROLS_WRAPPER}{left:-${n("Npri").q}px;}.${n("EfLE").b.TABLE_NODE_WRAPPER}{padding-right:${10}px;margin-right:-${10}px;padding-top:${10}px;margin-top:-${10}px;padding-bottom:${15}px;margin-bottom:-${15}px;overflow:auto;position:relative;}}.ProseMirror.${n("EfLE").b.IS_RESIZING}{.${n("EfLE").b.TABLE_NODE_WRAPPER}{overflow-x:auto;${n("mw/U").l};}}.ProseMirror.${n("EfLE").b.RESIZE_CURSOR}{cursor:col-resize;}`,z=u.css`.ProseMirror .${n("EfLE").b.TABLE_NODE_WRAPPER} > table{margin-left:0;margin-right:0;width:100%;}`,U=u.css`.ProseMirror .${n("EfLE").b.TABLE_NODE_WRAPPER} > table{margin-left:0;margin-right:0;${n("mw/U").l};}`,V=u.css`.ProseMirror .${"placeholder-decoration"}{position:relative;color:${"#6B778C"};width:100%;pointer-events:none;display:block;user-select:none;> span{position:absolute;pointer-events:none;}&.align-end > span{right:0;}&.align-center > span{left:0;}}`,W=u.css`.ProseMirror{${n("6167").a};${n("rgrP").a};}`,K=u.css`.ProseMirror .code-block{position:relative;background-image:${Object(n("QO7l").a)({
background:Object(n("ku5o").a)({light:"#F4F5F7",dark:"#283447"}),width:"8px"})};background-repeat:no-repeat;background-color:${Object(n("ku5o").a)({light:"#F4F5F7",dark:"#283447"})};--ds--code--bg-color:transparent;background-attachment:local,scroll,scroll;background-size:8px 100%,8px 100%,8px 100%;background-position:100% 0,100% 0,0 0;font-family:${n("9cwX").f};border-radius:${Object(n("ARg4").borderRadius)()}px;margin:${n("9cwX").cb} 0 0 0;counter-reset:line;display:flex;min-width:${n("9cwX").R}px;cursor:pointer;overflow-x:auto;.${n("IIKj").a.gutter}{flex-shrink:0;text-align:right;background-color:${Object(n("ku5o").a)({light:"#EBECF0",dark:"#121A29"})};padding:${Object(n("ARg4").gridSize)()}px;color:${Object(n("ku5o").a)({light:"#8993A4",dark:"#56637A"
})};span{display:block;line-height:0;font-size:0;&::before{display:inline-block;content:counter(line);counter-increment:line;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};line-height:1.5rem;color:${Object(n("ku5o").a)({light:"#505F79",dark:"#9FB0CC"
})};}}}.${n("IIKj").a.highlighting}{position:absolute;z-index:2;width:100%;height:100%;top:0;right:0;bottom:0;left:0;pointer-events:none;overflow:hidden;tab-size:4;& [data-ds--code--code-block]{font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};line-height:1.5rem;}}.${n("IIKj").a.content}{position:relative;z-index:1;display:flex;flex:1;> code{flex-grow:1;tab-size:4;cursor:text;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};line-height:1.5rem;border-radius:${Object(n("ARg4").borderRadius)()}px;margin:${Object(n("ARg4").gridSize)()}px;white-space:pre;}&[data-debounce='true']{.${n("IIKj").a.highlighting}{display:none;}}&:not([data-debounce='true']){> code:not([data-language='plaintext']):not([data-language='none']):not([data-language='']){color:transparent;caret-color:${Object(n("ku5o").a)({light:"#172B4D",dark:"#ABBBD6"
})};}}}}.ProseMirror li > .code-block{margin:0;}.ProseMirror .code-block.${n("9cwX").J}:not(.danger){${Object(n("KCGR").a)([n("NJU0").a.BoxShadow,n("NJU0").a.Blanket])}}.ProseMirror .danger.code-block{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};.${n("IIKj").a.gutter}{background-color:${"#FFBDAD"};color:${n("9cwX").m};}.${n("IIKj").a.content}{background-color:${n("9cwX").j};}}.ProseMirror .danger .code-block{.${n("IIKj").a.gutter}{background-color:rgba(255,143,115,0.5);color:${n("9cwX").m};}.${n("IIKj").a.content}{background-color:rgba(255,189,173,0.5);}}`,q=u.css`.ProseMirror .code-block{position:relative;background-image:${Object(n("QO7l").a)({background:Object(n("ku5o").a)({light:"#F4F5F7",dark:"#283447"}),width:"8px"})};--ds--code--bg-color:transparent;background-repeat:no-repeat;background-color:${Object(n("ku5o").a)({light:"#F4F5F7",dark:"#283447"
})};background-attachment:local,scroll,scroll;background-size:8px 100%,8px 100%,8px 100%;background-position:100% 0,100% 0,0 0;font-family:${n("9cwX").f};border-radius:${Object(n("ARg4").borderRadius)()}px;margin:${n("9cwX").cb} 0 0 0;counter-reset:line;display:flex;min-width:${n("9cwX").R}px;cursor:pointer;overflow-x:auto;.${n("IIKj").a.gutter}{flex-shrink:0;text-align:right;background-color:${Object(n("ku5o").a)({light:"#EBECF0",dark:"#121A29"})};padding:${Object(n("ARg4").gridSize)()}px;span{display:block;line-height:0;font-size:0;&::before{display:inline-block;content:counter(line);counter-increment:line;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};line-height:1.5rem;color:${Object(n("ku5o").a)({light:"#505F79",dark:"#9FB0CC"})};}}}.${n("IIKj").a.content}{display:flex;flex:1;code{flex-grow:1;tab-size:4;cursor:text;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};line-height:1.5rem;color:${Object(n("ku5o").a)({light:"#172B4D",dark:"#DCE5F5"
})};border-radius:${Object(n("ARg4").borderRadius)()}px;margin:${Object(n("ARg4").gridSize)()}px;white-space:pre;}}}.ProseMirror li > .code-block{margin:0;}.ProseMirror .code-block.${n("9cwX").J}:not(.danger){${Object(n("KCGR").a)([n("NJU0").a.BoxShadow,n("NJU0").a.Blanket])}}.ProseMirror .danger.code-block{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};.${n("IIKj").a.gutter}{background-color:${"#FFBDAD"};color:${n("9cwX").m};}.${n("IIKj").a.content}{background-color:${n("9cwX").j};}}.ProseMirror .danger .code-block{.${n("IIKj").a.gutter}{background-color:rgba(255,143,115,0.5);color:${n("9cwX").m};}.${n("IIKj").a.content}{background-color:rgba(255,189,173,0.5);}}`,G=u.css`.ProseMirror li{position:relative;> p:not(:first-child){margin:4px 0 0 0;}}`,Y=u.css`.ProseMirror{${n("tLow").a};hr{cursor:pointer;padding:4px 0;margin:calc(${n("9cwX").v}em - 4px) 0;background-clip:content-box;&.${n("9cwX").J}{outline:none;background-color:${n("9cwX").G};}}}`,X=u.css`.ProseMirror{${n("EcU6").a} & [layout='full-width'] .${n("EcU6").b},& [layout='wide'] .${n("EcU6").b}{margin-left:50%;transform:translateX(-50%);}& [layout^='wrap-'] + [layout^='wrap-']{clear:none;& + p,& + div[class^='fabric-editor-align'],& + ul,& + ol,& + h1,& + h2,& + h3,& + h4,& + h5,& + h6{clear:both !important;}& .${n("EcU6").b}{margin-left:0;margin-right:0;}}.mediaSingleView-content-wrap[layout^='wrap-']{max-width:100%;clear:inherit;}.mediaSingleView-content-wrap[layout='wrap-left']{float:left;}.mediaSingleView-content-wrap[layout='wrap-right']{float:right;}.mediaSingleView-content-wrap[layout='wrap-right'] + .mediaSingleView-content-wrap[layout='wrap-left']{clear:both;}& > .mediaSingleView-content-wrap{.richMedia-resize-handle-right{margin-right:-${n("9cwX").x}px;}.richMedia-resize-handle-left{margin-left:-${n("9cwX").x}px;}}}.richMedia-resize-handle-right,.richMedia-resize-handle-left{display:flex;flex-direction:column;justify-content:center;}.richMedia-resize-handle-right{align-items:flex-end;padding-right:12px;margin-right:-${n("9cwX").w}px;}.richMedia-resize-handle-left{align-items:flex-start;padding-left:12px;margin-left:-${n("9cwX").w}px;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{content:' ';display:flex;width:3px;height:64px;border-radius:6px;}.${n("EcU6").b}:hover .richMedia-resize-handle-left::after,.${n("EcU6").b}:hover .richMedia-resize-handle-right::after{background:${"#B3BAC5"};}.${n("9cwX").J} .richMedia-resize-handle-right::after,.${n("9cwX").J} .richMedia-resize-handle-left::after,.${n("EcU6").b} .richMedia-resize-handle-right:hover::after,.${n("EcU6").b} .richMedia-resize-handle-left:hover::after,.${n("EcU6").b}.is-resizing .richMedia-resize-handle-right::after,.${n("EcU6").b}.is-resizing .richMedia-resize-handle-left::after{background:${"#2684FF"};}.__resizable_base__{left:unset !important;width:auto !important;height:auto !important;}.danger > div > div > .media-card-frame,.danger > span > a{background-color:${n("9cwX").j};box-shadow:0px 0px 0px ${n("9cwX").F}px ${n("9cwX").l};transition:background-color 0s;transition:box-shadow 0s;}.mediaGroupView-content-wrap.danger{.${n("oEhA").b}::after{border:1px solid ${n("9cwX").m};}}.danger{.${n("EcU6").b} .${n("oEhA").c}::after{border:1px solid ${n("9cwX").m};}.${n("EcU6").b} .${n("QZW+").b}::after{border:1px solid ${n("9cwX").m};}.${n("EcU6").b} .${"new-file-experience-wrapper"}{box-shadow:0 0 0 1px ${n("9cwX").m} !important;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{background:${n("9cwX").m};}div div .media-card-frame,.inlineCardView-content-wrap > span > a{background-color:rgb(255,189,173,0.5);transition:background-color 0s;}div div .media-card-frame::after{box-shadow:none;}}`,Q=u.css`.ProseMirror{.${n("7csE").a.prefix}{cursor:pointer;&.danger{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};background-color:${n("9cwX").j} !important;.${n("7csE").a.icon}{color:${n("9cwX").m} !important;}}}.${n("7csE").a.content}{cursor:text;}.danger .${n("7csE").a.prefix}{&[data-panel-type]{background-color:${n("9cwX").k};.${n("7csE").a.icon}{color:${n("9cwX").m};}}}${n("7csE").d};}.${n("7csE").a.prefix}.${n("9cwX").J}:not(.danger){${Object(n("KCGR").a)([n("NJU0").a.BoxShadow,n("NJU0").a.Blanket])}}`,Z=u.css`.ProseMirror{.ProseMirror-fake-text-cursor{display:inline;pointer-events:none;position:relative;}.ProseMirror-fake-text-cursor::after{content:'';display:inline;top:0;position:absolute;border-right:1px solid rgba(0,0,0,0.4);}.ProseMirror-fake-text-selection{display:inline;pointer-events:none;position:relative;background-color:${"#B3D4FF"};}}`,ee=u.css`.${n("ymbq").a.MENTION_CONTAINER}{&.${n("9cwX").J} [data-mention-id] > span{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow,n("NJU0").a.Background])} color:${"#42526E"};}}.danger{.${n("ymbq").a.MENTION_CONTAINER}.${n("9cwX").J} > span > span{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};background-color:${n("9cwX").k};}.${n("ymbq").a.MENTION_CONTAINER} > span > span{background-color:${"rgba(9, 30, 66, 0.08)"};color:${"#42526E"};}}`,te=u.css`.${n("nJH6").a.EMOJI_CONTAINER}{.${n("nJH6").a.EMOJI_NODE}{cursor:pointer;&.${n("nJH6").a.EMOJI_IMAGE} > span{display:flex;}}&.${n("9cwX").J}{.${n("nJH6").a.EMOJI_SPRITE},.${n("nJH6").a.EMOJI_IMAGE} > span{border-radius:2px;${Object(n("KCGR").a)([n("NJU0").a.Blanket,n("NJU0").a.BoxShadow])}}}}`,ne=Object(n("ARg4").gridSize)()/2,oe=Object(n("ARg4").fontSizeSmall)(),re=4*ne/oe,ie=105*ne,ae=2*ne,se=ne/4,ce=2*ne,le=u.css`.editor-emoji{position:relative;display:inline-block;width:20px;height:20px;background-repeat:none;background-size:contain;cursor:pointer;vertical-align:middle;&.editor-emoji-loading{border-radius:${Object(n("ARg4").borderRadius)()}px;background:${"#F4F5F7"};}&.editor-emoji-fallback{display:inline;background:transparent;vertical-align:baseline;}&.ProseMirror-selectednode:empty{outline:none;}&:not(.editor-emoji-fallback){font-size:0px;}&:not(.editor-emoji-fallback)::before{content:attr(data-emoji-shortname);display:block;box-sizing:border-box;width:auto;position:absolute;top:100%;left:50%;transform:translate(-50%,${ce}px);color:${"#FFFFFF"};background-color:${"#091E42"};font-size:${Object(n("9cwX").ib)(oe)};line-height:${re};max-width:${ie}px;border-radius:${Object(n("ARg4").borderRadius)()}px;overflow:hidden;padding:${se}px ${ae}px;pointer-events:none;position:absolute;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;z-index:10000;opacity:0;transition:opacity 0.35s;}&:not(.editor-emoji-fallback):hover::before{opacity:1;transition:opacity 0s 0.35s;}&.${n("9cwX").J}{z-index:2;border-radius:2px;${Object(n("KCGR").a)([n("NJU0").a.Blanket,n("NJU0").a.BoxShadow])}}}`,de=u.css`${n("Bz3y").a}`,ue=u.css`.ProseMirror span[data-placeholder]{color:${"#5E6C84"};}`,pe=u.css`.extensionView-content-wrap,.bodiedExtensionView-content-wrap{margin:${n("9cwX").cb} 0;&:first-of-type{margin-top:0;}&:last-of-type{margin-bottom:0;}&:not(.danger).${n("9cwX").J}{& > span > .extension-container{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}}&.danger > span > .extension-container{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};background-color:${n("9cwX").j};}&.inline{word-wrap:break-all;}}.extensionView-content-wrap .extension-container{overflow:hidden;}`,he=Object(n("ku5o").a)({
light:"rgba(255, 255, 255, 0.6)",dark:"rgba(9, 10, 11, 0.29)"}),fe=u.css`color:${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.42)",dark:"#d9dde3"})};`,me=Object(n("ku5o").a)({dark:"#0C294F"}),ge=Object(n("ku5o").a)({dark:"1px solid #4794ff"}),be=Object(n("ku5o").a)({dark:"3px"}),ve=Object(n("ku5o").a)({light:"#FFEBE6",dark:"#441C13"}),ye=Object(n("ku5o").a)({dark:"1px solid #FF7452"}),Ee=Object(n("ku5o").a)({light:"#FF5630"}),we=Object(n("ku5o").a)({dark:"3px"
}),Oe=u.css`.${n("5I88").a.icon} > div{display:flex;}.${n("5I88").a.prefix}{${n("WwMu").d.ContainerStyles} overflow:hidden;cursor:pointer;box-sizing:border-box;td > &{margin-top:0;}.${n("5I88").a.iconContainer} svg{${fe};transform:rotate(90deg);}&.${n("9cwX").J}:not(.danger){${Object(n("KCGR").a)([n("NJU0").a.Blanket,n("NJU0").a.Border])}::after{background-color:${me};border:${ge};border-radius:${be};}}&.danger{background:${ve};border:${ye};border-color:${Ee};border-radius:${we};}}.ProseMirror > .${n("5I88").a.type("expand")},.${n("eFkm").a.BREAKOUT_MARK_DOM} > .${n("5I88").a.type("expand")}{margin-left:-${n("9cwX").ab}px;margin-right:-${n("9cwX").ab}px;}.${n("5I88").a.content}{${n("WwMu").d.ContentStyles} cursor:text;padding-top:0px;}.${n("5I88").a.titleInput}{${n("WwMu").d.TitleInputStyles}}.${n("5I88").a.titleContainer}{${n("WwMu").d.TitleContainerStyles};overflow:visible;}.${n("5I88").a.expanded}{background:${he};border-color:${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.13)",
dark:"#283447"})};.${n("5I88").a.content}{padding-top:${n("ARg4").gridSize}px;}}.${n("5I88").a.inputContainer}{width:100%;}.${n("5I88").a.prefix}:(.${n("5I88").a.expanded}){.expand-content-wrapper{height:auto;}}.${n("5I88").a.prefix}:not(.${n("5I88").a.expanded}){.ak-editor-expand__content{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;}.${n("5I88").a.iconContainer} svg{${fe};transform:rotate(0deg);}&:not(.${n("9cwX").J}):not(.danger){background:transparent;border-color:transparent;&:hover{border-color:${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.25)",dark:"#283447"
})};background:${he};}}}`,Se=u.css`.${"search-match"}{background-color:${"#B3D4FF"};}.${"selected-search-match"}{background-color:${"#2684FF"};color:white;}`,Ce=u.css`[data-decision-wrapper]{cursor:pointer;}.${n("9cwX").J} > [data-decision-wrapper],ol[data-node-type='decisionList'].${n("9cwX").J}{border-radius:4px;${Object(n("KCGR").a)([n("NJU0").a.BoxShadow,n("NJU0").a.Blanket])}}.danger{.${n("aNVf").a.DECISION_CONTAINER}.${n("9cwX").J} > div{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};background-color:${n("9cwX").k};&::after{content:none;}}}`,Te=u.css`.${n("pNaG").a.STATUS_CONTAINER}{> span{display:inline-block;cursor:pointer;line-height:0;}&.${n("9cwX").J} .${n("pNaG").a.STATUS_LOZENGE} > span{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}}.danger{.${n("pNaG").a.STATUS_LOZENGE} > span{background-color:${n("9cwX").k};}.${n("pNaG").a.STATUS_CONTAINER}.${n("9cwX").J} .${n("pNaG").a.STATUS_LOZENGE} > span{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};}}`,xe=u.css`.${n("javD").a.INLINE_CARD_CONTAINER}{max-width:calc(100% - 20px);vertical-align:top;word-break:break-all;.card{padding-left:2px;padding-right:2px;.${n("javD").a.LOADER_WRAPPER} > a:focus{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}}&.${n("9cwX").J} .${n("javD").a.LOADER_WRAPPER} > a{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}.${n("javD").a.LOADER_WRAPPER} > a{z-index:1;position:relative;}&.danger{.${n("javD").a.LOADER_WRAPPER} > a{box-shadow:0 0 0 1px ${n("9cwX").l};z-index:2;}}}.${n("javD").a.BLOCK_CARD_CONTAINER}{.${n("javD").a.LOADER_WRAPPER} > div{cursor:pointer;&:hover{background-color:${"#F4F5F7"};}}&.${n("9cwX").J} .${n("javD").a.LOADER_WRAPPER} > div{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}&.danger{.${n("javD").a.LOADER_WRAPPER} > div{box-shadow:0 0 0 1px ${n("9cwX").l} !important;}}}.${n("javD").a.EMBED_CARD_CONTAINER}{.${n("javD").a.LOADER_WRAPPER} > div{cursor:pointer;&::after{transition:box-shadow 0s;}}&.${n("9cwX").J} .${n("javD").a.LOADER_WRAPPER} > div{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}&.${n("9cwX").J} .${n("javD").a.LOADER_WRAPPER} > div::after{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}&.danger{.media-card-frame::after{box-shadow:0 0 0 1px ${n("9cwX").l} !important;background:${n("9cwX").j} !important;}.richMedia-resize-handle-right::after,.richMedia-resize-handle-left::after{background:${n("9cwX").l};}}}`,ke=u.css`.${n("SmJf").a.DATE_CONTAINER}{.${n("SmJf").a.DATE_WRAPPER}{line-height:initial;cursor:pointer;}&.${n("9cwX").J}{.${n("SmJf").a.DATE_WRAPPER} > span{${Object(n("KCGR").a)([n("NJU0").a.BoxShadow])}}}}.danger{.${n("SmJf").a.DATE_CONTAINER}.${n("9cwX").J} .${n("SmJf").a.DATE_WRAPPER} > span{box-shadow:0 0 0 ${n("9cwX").H}px ${n("9cwX").l};}}`,Ie=u.css`.ProseMirror{.embedCardView-content-wrap[layout^='wrap-']{max-width:100%;}.embedCardView-content-wrap[layout='wrap-left']{float:left;}.embedCardView-content-wrap[layout='wrap-right']{float:right;}.embedCardView-content-wrap[layout='wrap-right'] + .embedCardView-content-wrap[layout='wrap-left']{clear:both;}}`,Ae=u.default.div.withConfig({
componentId:"sc-11rx11t-0"
})`.ProseMirror{outline:none;font-size:${n("9cwX").eb}px;${n("WAxQ").a};${n("s2Dg").a};${n("nSh4").a};${n("QjiX").a};${n("l/VS").a};${n("/8BB").a};}.ProseMirror[contenteditable='false'] .taskItemView-content-wrap{pointer-events:none;opacity:0.7;}.ProseMirror-hideselection *::selection{background:transparent;}.ProseMirror-hideselection *::-moz-selection{background:transparent;}.ProseMirror-selectednode{outline:none;}.ProseMirror-selectednode:empty{outline:2px solid #8cf;}${W} ${de} ${ue} ${V} ${({featureFlags:e})=>null!=e&&e.codeBlockSyntaxHighlighting?K:q} ${G} ${Y} ${X} ${n("YhpX").c} ${v} ${O};${F} ${Q} ${Z} ${ee} ${({featureFlags:e})=>null!=e&&e.nextEmojiNodeView?le:te} ${n("aNVf").b} ${n("qAiH").b} ${n("j28F").b} ${n("jV9w").a} ${n("SmJf").b} ${pe} ${Oe} ${Se} ${Ce} ${Te} ${n("xLj0").c} ${xe} ${n("javD").b} ${ke} ${Ie} ${n("1BIu").b} .panelView-content-wrap{box-sizing:border-box;}.mediaGroupView-content-wrap ul{padding:0;}div.fabric-editor-block-mark[class^='fabric-editor-align']{clear:none !important;}.fabric-editor-align-end{text-align:right;}.fabric-editor-align-start{text-align:left;}.fabric-editor-align-center{text-align:center;}.pm-table-header-content-wrap,.pm-table-cell-content-wrap div.fabric-editor-block-mark{p{margin-top:0;}}.hyperlink-floating-toolbar,.${n("KG1a").a.FLOATING_TOOLBAR_COMPONENT}{padding:0;}.hyperlink-open-link{svg{max-width:18px;}&[href]{padding:0 4px;}}`
;var Ne=c.a.forwardRef(((e,t)=>{const o=Object(n("37L4").c)();return c.a.createElement(Ae,b()({},e,{innerRef:t,featureFlags:o}))}));const Me=`0.5s ${n("9cwX").O}`,Re=2*n("9cwX").u,je=u.default.div.withConfig({componentId:"sc-12qsb6z-0"})`min-width:340px;height:100%;display:flex;flex-direction:column;box-sizing:border-box;`;je.displayName="FullPageEditorWrapper";const Pe=Object(u.default)(Ne).withConfig({componentId:"sc-12qsb6z-1"})`flex-grow:1;height:100%;overflow-y:scroll;position:relative;display:flex;flex-direction:column;scroll-behavior:smooth;${n("mw/U").l};`;Pe.displayName="ScrollContainer";const De=u.default.div.withConfig({componentId:"sc-12qsb6z-2"})`display:flex;flex-direction:row;height:calc(100% - ${n("9cwX").a});box-sizing:border-box;margin:0;padding:0 ${e=>e.positionedOverEditor?n("9cwX").g:0}px;transition:padding ${e=>e.positionedOverEditor?500:0}ms ${n("9cwX").O};`;De.displayName="ContentArea";const Le=u.default.div.withConfig({componentId:"sc-12qsb6z-3"
})`height:100%;box-sizing:border-box;align-self:flex-end;`;Le.displayName="SidebarArea";const _e=u.default.div.withConfig({componentId:"sc-12qsb6z-4"
})`line-height:24px;padding-top:50px;padding-bottom:55px;height:calc( 100% - 105px );width:100%;margin:auto;flex-direction:column;flex-grow:1;max-width:${({theme:e,fullWidthMode:t})=>(t?n("9cwX").s:e.layoutMaxWidth)+Re}px;transition:max-width ${Me};& .ProseMirror{flex-grow:1;box-sizing:border-box;}& .ProseMirror{& > *{clear:both;}> p,> ul,> ol:not(${n("cfwZ").b}):not(${n("Xrqx").b}),> h1,> h2,> h3,> h4,> h5,> h6{clear:none;}> p:last-child{margin-bottom:24px;}}${z};.fabric-editor--full-width-mode{.fabric-editor-breakout-mark,.extension-container.block,.pm-table-container{width:100% !important;}.fabric-editor-breakout-mark{margin-left:unset !important;transform:none !important;}${({containerWidth:e})=>e?`\n        .pm-table-container,\n        .code-block,\n        .extension-container {\n          max-width: ${e-Re-4}px;\n        }\n\n        [data-layout-section] {\n          max-width: ${e-Re+2*n("9cwX").ab}px;\n        }\n      `:"\n          .pm-table-container,\n          .code-block,\n          .extension-container {\n            display: none;\n          }\n        "}}`
;_e.displayName="EditorContentArea";const Be=u.default.div.withConfig({componentId:"sc-12qsb6z-5"})`box-sizing:border-box;padding:0 ${n("9cwX").u}px;`;Be.displayName="EditorContentGutter";const He=(e,t)=>{const o=t.currentTarget.querySelector(".ak-editor-content-area"),r=!(!e||!e.hasFocus()),i=t.target,a="INPUT"===i.nodeName,s=!!Object(n("9a+x").b)(i,"[data-editor-popup]"),c="TEXTAREA"===i.nodeName,l=!!Object(n("9a+x").b)(i,'nav[aria-label="Breadcrumbs"]'),d=!o,u=!(e=>{for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1})(i.parentNode),p=!1===r,h=window.getSelection(),f="Range"===(null==h?void 0:h.type)&&Object(n("9a+x").b)(null==h?void 0:h.anchorNode,"[data-editor-popup]"),m=!!i.closest("[role=dialog]");(d||u||p)&&!a&&!c&&!s&&!m&&!l&&!s&&!f&&e&&Je(e,t)},Je=(e,t)=>{const{dispatch:o,dom:r,state:i}=e,a=!(!e||!e.hasFocus()),{tr:s}=i;$e(t,r,s),Object(n("wFWU").c)(i)&&Object(n("wFWU").e)(s,t,r,e.posAtCoords.bind(e),a),
(s.docChanged||s.selectionSet)&&(o&&o(s),e.focus(),t.stopPropagation(),t.preventDefault())},$e=(e,t,o)=>{e.clientY>t.getBoundingClientRect().bottom&&Object(n("t0jr").a)(o)},Fe=u.default.div.withConfig({componentId:"a1u0y8-0"})`flex-grow:1;height:100%;`;Fe.displayName="ClickWrapper";class ze extends c.a.Component{constructor(...e){super(...e),a()(this,"handleClick",(e=>{const{editorView:t}=this.props;t&&He(t,e)}))}render(){return c.a.createElement(Fe,{onClick:this.handleClick},this.props.children)}}ze.displayName="ClickAreaBlock";const Ue=u.default.div.withConfig({componentId:"sc-15qcfby-0"})`display:flex;`;class Ve extends c.a.Component{constructor(...e){super(...e),a()(this,"transitionEvent",Object(n("D4z0").y)()),a()(this,"forceComponentUpdate",(e=>{e.propertyName.includes("width")&&this.forceUpdate()})),a()(this,"removeModeChangeListener",(e=>{e&&this.transitionEvent&&e.removeEventListener(this.transitionEvent,this.forceComponentUpdate)})),a()(this,"addModeChangeListener",(e=>{
e&&this.transitionEvent&&e.addEventListener(this.transitionEvent,this.forceComponentUpdate)}))}shouldComponentUpdate(e){const{editorView:t,editorActions:n,items:o,providerFactory:r,eventDispatcher:i,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:c,containerElement:l,disabled:d}=this.props;return!(e.editorView===t&&e.editorActions===n&&e.items===o&&e.providerFactory===r&&e.eventDispatcher===i&&e.popupsMountPoint===a&&e.popupsBoundariesElement===s&&e.popupsScrollableElement===c&&e.containerElement===l&&e.disabled===d)}componentDidMount(){this.addModeChangeListener(this.props.contentArea)}UNSAFE_componentWillReceiveProps(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))}componentWillUnmount(){this.removeModeChangeListener(this.props.contentArea)}render(){
const{items:e,editorView:t,editorActions:o,eventDispatcher:r,providerFactory:i,appearance:a,popupsMountPoint:s,popupsBoundariesElement:l,popupsScrollableElement:d,containerElement:u,disabled:p,dispatchAnalyticsEvent:h}=this.props;return e&&t?c.a.createElement(n("KzBb").a,{component:n("J5HJ").b.PLUGIN_SLOT,fallbackComponent:null},c.a.createElement(Ue,null,e.map(((e,n)=>{const f={key:n},m=e({editorView:t,editorActions:o,eventDispatcher:r,providerFactory:i,dispatchAnalyticsEvent:h,appearance:a,popupsMountPoint:s,popupsBoundariesElement:l,popupsScrollableElement:d,containerElement:u,disabled:p});return m&&c.a.cloneElement(m,f)})))):null}}Ve.displayName="PluginSlot",a()(Ve,"displayName","PluginSlot");var We=({editorView:e})=>{const[t,o]=c.a.useState(0),[r,i]=c.a.useState(0),[a,s]=function({setContextPanelWidth:e,setContainerWidth:t}){return[c.a.useCallback((({width:t})=>(e(t),null)),[e]),c.a.useCallback((({width:e})=>(t(e),null)),[t])]}({setContextPanelWidth:o,setContainerWidth:i})
;return c.a.useEffect((()=>{const o=r-t;if(o<=0||isNaN(o)||!e)return;const{dom:i,state:{tr:a},dispatch:s}=e;return a.setMeta(n("IXso").b,{width:o,containerWidth:r,lineLength:i?i.clientWidth:void 0}),s(a),()=>{}}),[e,t,r]),c.a.createElement(c.a.Fragment,null,c.a.createElement(n("GxTc").a,null,a),c.a.createElement(n("dHUS").a,null,s))};const Ke=c.a.memo((e=>c.a.createElement(n("dHUS").a,null,(({width:t})=>c.a.createElement(n("GxTc").a,null,(({positionedOverEditor:o})=>c.a.createElement(De,{"data-testid":"ak-editor-fp-content-area",positionedOverEditor:o},c.a.createElement(Pe,{innerRef:e.scrollContainerRef,allowAnnotation:e.allowAnnotation,className:"fabric-editor-popup-scroll-parent"},c.a.createElement(ze,{editorView:e.editorView},c.a.createElement(_e,{fullWidthMode:"full-width"===e.appearance,innerRef:e.contentAreaRef,containerWidth:t},c.a.createElement(Be,{className:["ak-editor-content-area","full-width"===e.appearance?"fabric-editor--full-width-mode":""].join(" ")
},e.customContentComponents,c.a.createElement(Ve,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.contentComponents,contentArea:e.contentArea,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:!!e.disabled,containerElement:e.scrollContainer,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent}),e.editorDOMElement)))),c.a.createElement(Le,null,e.contextPanel||c.a.createElement(n("/97s").a,{visible:!1})),c.a.createElement(We,{editorView:e.editorView}))))))));var qe=n("HRS3").a;const Ge=[{width:n("+wsV").c.XXL,size:n("+wsV").a.XXL},{width:n("+wsV").c.XL,size:n("+wsV").a.XL},{width:n("+wsV").c.L,size:n("+wsV").a.L},{width:n("+wsV").c.M,size:n("+wsV").a.M},{width:n("+wsV").c.S,size:n("+wsV").a.S}],Ye=[{width:n("+wsV").b.XXL,size:n("+wsV").a.XXL},{width:n("+wsV").b.XL,size:n("+wsV").a.XL},{
width:n("+wsV").b.L,size:n("+wsV").a.L},{width:n("+wsV").b.M,size:n("+wsV").a.M},{width:n("+wsV").b.S,size:n("+wsV").a.S}],Xe=e=>Object(n("9TOn").a)(e)?Ge:Ye,Qe=u.default.div.withConfig({componentId:"v7yr8p-0"})`display:flex;@media (max-width:${n("9cwX").A}px){justify-content:space-between;}`;class Ze extends c.a.Component{shouldComponentUpdate(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing}render(){const{appearance:e,editorView:t,editorActions:n,eventDispatcher:o,providerFactory:r,items:i,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:l,toolbarSize:d,disabled:u,isToolbarReducedSpacing:p,dispatchAnalyticsEvent:h,containerElement:f}=this.props
;return i&&i.length?c.a.createElement(Qe,null,i.map(((m,g)=>{const b={key:g},v=m({editorView:t,editorActions:n,eventDispatcher:o,providerFactory:r,appearance:e,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:l,disabled:u,toolbarSize:d,isToolbarReducedSpacing:p,containerElement:f,isLastItem:g===i.length-1,dispatchAnalyticsEvent:h});return v&&c.a.cloneElement(v,b)}))):null}}Ze.displayName="ToolbarInner";const et=e=>c.a.createElement(Ze,{items:e.items,editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,toolbarSize:e.toolbarSize,isToolbarReducedSpacing:e.toolbarSize<n("+wsV").a.XXL,containerElement:e.containerElement}),tt=u.default.div.withConfig({componentId:"cpqvg1-0"
})`width:100%;min-width:${({minWidth:e})=>e};position:relative;@media (max-width:${n("9cwX").A}px){grid-column:1 / 2;grid-row:2;width:calc(100% - 30px);margin:0 15px;}`,nt=e=>{const t=c.a.createRef(),[o,r]=c.a.useState(void 0),i=((e,{skip:t})=>{const[n,o]=c.a.useState(void 0);return c.a.useEffect((()=>{!t&&e.current&&o(Math.round(e.current.getBoundingClientRect().width))}),[t,o,e]),n})(t,{skip:void 0!==o}),a=void 0===o&&void 0===i?void 0:((e,t)=>(Xe(t).find((({width:t})=>e>t))||{size:n("+wsV").a.XXXS}).size)(o||i,e.appearance),s=((e,t)=>(Xe(t).find((({size:t})=>e===t))||{width:n("+wsV").b.S}).width)(n("+wsV").a.M,e.appearance);return c.a.createElement(tt,{minWidth:e.hasMinWidth?`${s}px`:"254px"},c.a.createElement(n("qBu9").a,{setWidth:r}),e.editorView&&a?c.a.createElement(et,b()({},e,{toolbarSize:a})):c.a.createElement("div",{ref:t}))},ot=u.default.div.withConfig({componentId:"ixdj4f-0"
})`position:relative;align-items:center;box-shadow:${e=>e.showKeyline?`0 ${n("9cwX").X}px 0 0 #EBECF0`:"none"};transition:box-shadow 200ms ${n("9cwX").O};z-index:${n("9cwX").y};display:flex;height:${56}px;flex-shrink:0;background-color:white;& object{height:0 !important;}@media (max-width:${n("9cwX").A}px){display:grid;height:calc(${56}px * 2);}`;ot.displayName="MainToolbar";const rt=u.default.div.withConfig({componentId:"ixdj4f-1"})`margin:${2*Object(n("ARg4").gridSize)()}px;height:${4*Object(n("ARg4").gridSize)()}px;width:${4*Object(n("ARg4").gridSize)()}px;@media (max-width:${n("9cwX").A}px){grid-column:1;grid-row:1;}`;rt.displayName="MainToolbarIconBefore";const it=u.default.div.withConfig({componentId:"ixdj4f-2"})`display:flex;justify-content:flex-end;flex-grow:1;min-width:fit-content;@media (max-width:${n("9cwX").A}px){grid-column:1;grid-row:1;}`;it.displayName="MainToolbar";u.default.div.withConfig({componentId:"ixdj4f-3"
})`box-sizing:border-box;justify-content:flex-end;align-items:center;flex-shrink:0;display:flex;padding:24px 0;`.displayName="SecondaryToolbar";const at=c.a.memo((e=>c.a.createElement(n("GxTc").a,null,(({width:t})=>{var n;return c.a.createElement(ot,{"data-testid":"ak-editor-main-toolbar",showKeyline:e.showKeyline||t>0},e.beforeIcon&&c.a.createElement(rt,null,e.beforeIcon),c.a.createElement(nt,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.primaryToolbarComponents,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,containerElement:e.containerElement,hasMinWidth:e.hasMinWidth}),c.a.createElement(it,{"data-testid":"avatar-group-outside-plugin"
},!0===(null==e||null===(n=e.featureFlags)||void 0===n?void 0:n.showAvatarGroupAsPlugin)?null:c.a.createElement(qe,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:e.collabEdit&&e.collabEdit.inviteToEditComponent,inviteToEditHandler:e.collabEdit&&e.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:e.collabEdit&&e.collabEdit.isInviteToEditButtonSelected}),e.customPrimaryToolbarComponents))}))));class st extends c.a.Component{constructor(...e){super(...e),a()(this,"state",{showKeyline:!1}),a()(this,"scrollContainer",null),a()(this,"contentAreaRef",(e=>{this.contentArea=e})),a()(this,"scrollContainerRef",(e=>{const t=this.scrollContainer;t&&t.removeEventListener("scroll",this.updateToolbarKeyline),this.scrollContainer=e||null,this.scrollContainer&&(this.scrollContainer.addEventListener("scroll",this.updateToolbarKeyline,!1),this.updateToolbarKeyline())})),a()(this,"updateToolbarKeyline",Object(n("GsWa").a)((()=>{if(!this.scrollContainer)return!1
;const{scrollTop:e}=this.scrollContainer,t=e>n("9cwX").X;return t!==this.state.showKeyline&&this.setState({showKeyline:t}),!1}))),a()(this,"handleResize",(()=>{this.scheduledKeylineUpdate=this.updateToolbarKeyline()}))}componentDidMount(){window.addEventListener("resize",this.handleResize,!1)}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.scheduledKeylineUpdate&&cancelAnimationFrame(this.scheduledKeylineUpdate)}render(){var e;const{props:t}=this,{showKeyline:o}=this.state,r=null!==(e=t.editorView)&&void 0!==e&&e.state?Object(n("37L4").b)(t.editorView.state):void 0;return c.a.createElement(n("GxTc").b,null,c.a.createElement(je,{className:"akEditor"},c.a.createElement(at,{appearance:t.appearance,beforeIcon:t.primaryToolbarIconBefore,collabEdit:t.collabEdit,containerElement:this.scrollContainer,customPrimaryToolbarComponents:t.customPrimaryToolbarComponents,disabled:!!t.disabled,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,
editorActions:t.editorActions,editorDOMElement:t.editorDOMElement,editorView:t.editorView,eventDispatcher:t.eventDispatcher,hasMinWidth:t.enableToolbarMinWidth,popupsBoundariesElement:t.popupsBoundariesElement,popupsMountPoint:t.popupsMountPoint,popupsScrollableElement:t.popupsScrollableElement,primaryToolbarComponents:t.primaryToolbarComponents,providerFactory:t.providerFactory,showKeyline:o,featureFlags:r}),c.a.createElement(Ke,{allowAnnotation:t.allowAnnotation,appearance:t.appearance,contentArea:this.contentArea,contentAreaRef:this.contentAreaRef,contentComponents:t.contentComponents,contextPanel:t.contextPanel,customContentComponents:t.customContentComponents,disabled:t.disabled,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,editorActions:t.editorActions,editorDOMElement:t.editorDOMElement,editorView:t.editorView,eventDispatcher:t.eventDispatcher,popupsBoundariesElement:t.popupsBoundariesElement,popupsMountPoint:t.popupsMountPoint,
popupsScrollableElement:t.popupsScrollableElement,providerFactory:t.providerFactory,scrollContainer:this.scrollContainer,scrollContainerRef:this.scrollContainerRef})))}}st.displayName="FullPageEditor",a()(st,"displayName","FullPageEditor");const ct=u.keyframes`50%{background-color:${"#FF8F73"};}`,lt=u.keyframes`0%{background-color:${"#FF8F73"};}50%{background-color:auto;}100%{background-color:${"#FF8F73"};}`,dt=u.default.div.withConfig({componentId:"sc-16w4cn6-0"})`&.-flash > div{animation:0.25s ease-in-out ${lt};}& > div{animation:${e=>e.animate?`.25s ease-in-out ${ct}`:"none"};}`;class ut extends c.a.Component{constructor(...e){super(...e),a()(this,"toggle",!1)}render(){const{animate:e,children:t}=this.props;return this.toggle=e&&!this.toggle,c.a.createElement(dt,{className:this.toggle?"-flash":"",animate:e},t)}}ut.displayName="WithFlash";const pt=u.default.div.withConfig({componentId:"sc-1m8pdjf-0"
})`line-height:20px;height:auto;min-height:30px;${e=>e.maxHeight?"max-height: "+e.maxHeight+"px;":""} overflow-x:hidden;overflow-y:auto;${n("mw/U").l} max-width:inherit;box-sizing:border-box;word-wrap:break-word;div > .ProseMirror{outline:none;white-space:pre-wrap;padding:0;margin:0;}`;pt.displayName="ChromelessEditor";const ht=Object(u.default)(Ne).withConfig({componentId:"sc-1m8pdjf-1"})``;ht.displayName="ContentArea";class ft extends c.a.Component{constructor(...e){super(...e),a()(this,"appearance","chromeless"),a()(this,"containerElement",null),a()(this,"renderChrome",(({maxContentSize:e})=>{const{editorDOMElement:t,editorView:n,editorActions:o,eventDispatcher:r,providerFactory:i,contentComponents:a,customContentComponents:s,maxHeight:l,popupsMountPoint:d,popupsBoundariesElement:u,popupsScrollableElement:p,disabled:h,dispatchAnalyticsEvent:f}=this.props,m=Boolean(null==e?void 0:e.maxContentSizeReached);return c.a.createElement(ut,{animate:m},c.a.createElement(pt,{maxHeight:l,
innerRef:e=>this.containerElement=e},c.a.createElement(ht,null,s,c.a.createElement(Ve,{editorView:n,editorActions:o,eventDispatcher:r,providerFactory:i,appearance:this.appearance,items:a,popupsMountPoint:d,popupsBoundariesElement:u,popupsScrollableElement:p,containerElement:this.containerElement,disabled:!!h,dispatchAnalyticsEvent:f}),t)))}))}render(){return c.a.createElement(n("fd7e").a,{plugins:{maxContentSize:n("5fPG").b},render:this.renderChrome})}}ft.displayName="Editor",a()(ft,"displayName","ChromelessEditorAppearance");var mt=n("TSYQ"),gt=n.n(mt);const bt=u.default.div.withConfig({componentId:"sc-3k1566-0"})`position:relative;align-items:center;padding:${Object(n("ARg4").gridSize)()}px ${Object(n("ARg4").gridSize)()}px 0;display:flex;height:auto;background-color:white;box-shadow:none;padding-left:${20}px;& > div > *:first-child{margin-left:0;}.block-type-btn{padding-left:0;}`;bt.displayName="MainToolbar";const vt=Object(u.default)(bt).withConfig({componentId:"sc-3k1566-1"
})`position:relative;position:sticky;top:${e=>`${e.top}px`};padding-bottom:${Object(n("ARg4").gridSize)()}px;z-index:${n("9cwX").t+n("9cwX").y};transition:box-shadow ease-in-out 0.2s;&.show-keyline{box-shadow:0 ${n("9cwX").X}px 0 0 ${"#EBECF0"};}`;vt.displayName="MainToolbarSticky";const yt=e=>{const[t,n]=Object(s.useState)(0);return Object(s.useEffect)((()=>{var t,o;n((null===(t=e.externalToolbarRef)||void 0===t||null===(o=t.current)||void 0===o?void 0:o.clientHeight)||0)}),[n,e.externalToolbarRef]),c.a.createElement(vt,{"data-testid":"ak-editor-main-toolbar",className:"show-keyline",top:t},e.children)},Et=e=>c.a.createElement(bt,{"data-testid":"ak-editor-main-toolbar"},e.children),wt=({useStickyToolbar:e,children:t})=>e?c.a.createElement(yt,{externalToolbarRef:"boolean"==typeof e?void 0:e},t):c.a.createElement(Et,null,t),Ot=u.default.div.withConfig({componentId:"sc-3k1566-2"
})`display:flex;justify-content:flex-end;align-items:center;flex-grow:1;padding-right:${20}px;> div{display:flex;flex-shrink:0;}`;Ot.displayName="MainToolbar";const St=u.default.div.withConfig({componentId:"sc-1t42bd5-0"})`display:flex;flex-direction:column;.less-margin .ProseMirror{margin:12px ${8}px ${8}px;}min-width:272px;min-height:150px;height:auto;${e=>e.maxHeight?"max-height: "+e.maxHeight+"px;":""} background-color:white;border:1px solid ${"#DFE1E6"};box-sizing:border-box;border-radius:${Object(n("ARg4").borderRadius)()}px;max-width:inherit;word-wrap:break-word;`;St.displayName="CommentEditor";const Ct=Object(u.default)(Ne).withConfig({componentId:"sc-1t42bd5-1"})`flex-grow:1;overflow-x:hidden;overflow-y:auto;line-height:24px;.ProseMirror{margin:12px ${14}px ${14}px;}.gridParent{margin-left:${14-n("qAiH").a}px;margin-right:${14-n("qAiH").a}px;width:calc(100% + ${14-n("qAiH").a}px);}padding:${20}px;${U};`;Ct.displayName="ContentArea";const Tt=u.default.div.withConfig({
componentId:"sc-1t42bd5-2"})`box-sizing:border-box;justify-content:flex-end;align-items:center;display:flex;padding:12px 1px;`;Tt.displayName="SecondaryToolbar";class xt extends c.a.Component{constructor(...e){super(...e),a()(this,"appearance","comment"),a()(this,"containerElement",null),a()(this,"handleSave",(()=>{this.props.editorView&&this.props.onSave&&this.props.onSave(this.props.editorView)})),a()(this,"handleCancel",(()=>{this.props.editorView&&this.props.onCancel&&this.props.onCancel(this.props.editorView)})),a()(this,"renderChrome",(({maxContentSize:e,mediaState:t})=>{
const{editorDOMElement:o,editorView:r,editorActions:i,eventDispatcher:a,providerFactory:s,contentComponents:l,customContentComponents:d,customPrimaryToolbarComponents:u,primaryToolbarComponents:p,customSecondaryToolbarComponents:h,popupsMountPoint:f,popupsBoundariesElement:m,popupsScrollableElement:g,maxHeight:b,onSave:v,onCancel:y,disabled:E,dispatchAnalyticsEvent:w,intl:O,useStickyToolbar:S}=this.props,C=Boolean(null==e?void 0:e.maxContentSizeReached),T=!!v||!!y||!!h;return c.a.createElement(ut,{animate:C},c.a.createElement(St,{maxHeight:b,className:"akEditor"},c.a.createElement(wt,{useStickyToolbar:S},c.a.createElement(nt,{editorView:r,editorActions:i,eventDispatcher:a,providerFactory:s,appearance:this.appearance,items:p,popupsMountPoint:f,popupsBoundariesElement:m,popupsScrollableElement:g,disabled:!!E,dispatchAnalyticsEvent:w,containerElement:this.containerElement}),c.a.createElement(Ot,null,u)),c.a.createElement(ze,{editorView:r
},c.a.createElement(n("dHUS").a,null,(({width:e})=>c.a.createElement(Ct,{innerRef:e=>this.containerElement=e,className:gt()("ak-editor-content-area",{"less-margin":e<n("9cwX").z})},d,c.a.createElement(Ve,{editorView:r,editorActions:i,eventDispatcher:a,dispatchAnalyticsEvent:w,providerFactory:s,appearance:this.appearance,items:l,popupsMountPoint:f,popupsBoundariesElement:m,popupsScrollableElement:g,containerElement:this.containerElement,disabled:!!E}),o)))),c.a.createElement(We,{editorView:r})),T&&c.a.createElement(Tt,{"data-testid":"ak-editor-secondary-toolbar"},c.a.createElement(n("/HJ0").a,null,!!v&&c.a.createElement(n("0+Gd").a,{appearance:"primary",onClick:this.handleSave,testId:"comment-save-button",isDisabled:E||t&&!t.allUploadsFinished},O.formatMessage(n("yYBl").a.saveButton)),!!y&&c.a.createElement(n("0+Gd").a,{appearance:"subtle",onClick:this.handleCancel,isDisabled:E},O.formatMessage(n("yYBl").a.cancelButton))),c.a.createElement("span",{style:{flexGrow:1}}),h))}))}render(){
return c.a.createElement(n("fd7e").a,{plugins:{maxContentSize:n("5fPG").b,mediaState:n("wBzk").a},render:this.renderChrome})}}xt.displayName="Editor",a()(xt,"displayName","CommentEditorAppearance");const kt=Object(p.injectIntl)(xt),It=u.default.div.withConfig({componentId:"a1n2vs-0"})`height:100%;${e=>!0!==e.persistScrollGutter&&`min-height: ${e.minHeight}vh`}`;It.displayName="ClickWrapper";class At extends c.a.Component{constructor(...e){super(...e),a()(this,"clickElementRef",c.a.createRef()),a()(this,"handleClick",(e=>{const{editorView:t}=this.props;if(!t)return;He(t,e);e.clientY>t.dom.getBoundingClientRect().bottom&&(e.preventDefault(),this.clickElementRef.current&&this.clickElementRef.current.scrollIntoView(!1))}))}render(){return c.a.createElement(It,{className:"editor-click-wrapper",minHeight:this.props.minHeight,persistScrollGutter:this.props.persistScrollGutter,onClick:this.handleClick,innerRef:this.clickElementRef},this.props.children)}}At.displayName="ClickAreaMobile"
;const Nt=u.default.div.withConfig({componentId:"yire2p-0"})`min-height:30px;width:100%;max-width:inherit;box-sizing:border-box;word-wrap:break-word;div > .ProseMirror{outline:none;white-space:pre-wrap;padding:0;margin:0;}`;Nt.displayName="MobileEditor";const Mt=Object(u.default)(Ne).withConfig({componentId:"yire2p-1"})``;function Rt({editorView:e,maxHeight:t,persistScrollGutter:o,children:r}){const i=Object(s.useCallback)((({maxContentSize:n,mobileDimensions:i})=>{const a=Boolean(null==n?void 0:n.maxContentSizeReached);let s=100;if(i){const{keyboardHeight:e,windowHeight:t,mobilePaddingTop:n}=i;s=100-100*e/t-100*n/t}return c.a.createElement(ut,{animate:a},c.a.createElement(Nt,{isMaxContentSizeReached:a,maxHeight:t},c.a.createElement(At,{editorView:e||void 0,minHeight:s,persistScrollGutter:o},c.a.createElement(Mt,null,c.a.createElement("div",{className:"ak-editor-content-area"},r)))))}),[r,t,e,o]);return c.a.createElement(n("fd7e").a,{plugins:{maxContentSize:n("5fPG").b,
mobileDimensions:n("RB5l").c},render:i})}function jt({editorView:e,maxHeight:t,persistScrollGutter:n,editorDOMElement:o}){return c.a.createElement(Rt,{editorView:e||null,maxHeight:t,persistScrollGutter:n},o,e&&c.a.createElement(We,{editorView:e}))}function Pt(e){const t=c.a.useContext(e);return c.a.useMemo((()=>({Provider:e.Provider,Consumer:e.Consumer,value:t})),[t,e])}Mt.displayName="ContentArea";const Dt=({children:e})=>{const t=Pt(n("QFH9").b),o=Pt(n("5TYI").a);return c.a.createElement(Lt,{card:t,analytics:o},e)};class Lt extends c.a.PureComponent{constructor(...e){super(...e),a()(this,"contextState",{})}getChildContext(){return{contextAdapter:{card:this.props.card,analytics:this.props.analytics}}}render(){return this.props.children}}Lt.displayName="LegacyContextAdapter",a()(Lt,"childContextTypes",{contextAdapter:d.a.object});var _t=n("CnBM"),Bt=n.n(_t);function Ht(e,t){t&&Object(n("0F7/").a)(t)({payload:{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,
actionSubjectId:n("J5HJ").c.EXTENSION,attributes:{extensionType:e.extensionType,key:e.key,inputMethod:n("J5HJ").f.QUICK_INSERT},eventType:n("J5HJ").e.TRACK}})}var Jt=n("EcEN"),$t=n.n(Jt);class Ft extends c.a.Component{constructor(...e){super(...e),a()(this,"browserExtensions",void 0),a()(this,"state",{error:void 0}),a()(this,"getFeatureFlags",Object(n("2JGX").default)((e=>e?Object(n("37L4").b)(e.state):{}))),a()(this,"fireAnalytics",(e=>{const{createAnalyticsEvent:t}=this.props;this.getProductName().then((o=>{if(t){const{error:r,errorInfo:i,errorStack:a}=e,s=$t()(),c={action:n("J5HJ").a.EDITOR_CRASHED,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{product:o,browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",error:r,errorInfo:i,errorId:s,browserExtensions:this.browserExtensions}}
;this.featureFlags.errorBoundaryDocStructure&&this.props.editorView&&(c.attributes.docStructure=Object(n("hmSr").a)(this.props.editorView.state.doc,{compact:!0})),t(c).fire(n("+WSe").b),t({action:n("J5HJ").a.EDITOR_CRASHED_ADDITIONAL_INFORMATION,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{errorStack:a,errorId:s}}).fire(n("+WSe").b)}else console.error("Editor Error Boundary: Missing `createAnalyticsEvent` prop.",{channel:n("+WSe").b,product:o,error:e})})).catch((e=>{console.error("Failed to resolve product name from contextIdentifierProvider.",e)}))})),a()(this,"getProductName",(async()=>{const{contextIdentifierProvider:e}=this.props;if(e){const t=await e;if(t.product)return t.product}return"atlaskit"}))}get featureFlags(){return this.getFeatureFlags(this.props.editorView)}componentDidCatch(e,t){this.fireAnalytics({error:e.toString(),errorInfo:t,errorStack:e.stack}),this.setState({error:e},(()=>{if(this.props.rethrow)throw e}))}
async componentDidMount(){this.browserExtensions=await Object(n("/x6/").a)({extensions:["grammarly"],async:!0,asyncTimeoutMs:2e4})}render(){return this.props.children}}Ft.displayName="ErrorBoundaryWithEditorView",a()(Ft,"defaultProps",{rethrow:!0});var zt=(e=>t=>{const{editorActions:o}=Object(n("GqfY").b)();return c.a.createElement(e,b()({},t,{editorView:null==o?void 0:o._privateGetEditorView()}))})(Ft);const Ut=Object(u.default)(n("dHUS").b).withConfig({componentId:"u2sib8-0"})`height:100%;`;class Vt extends c.a.Component{constructor(e,t){super(e),a()(this,"prepareExtensionProvider",Object(n("2JGX").default)((e=>{if(e)return"function"==typeof e?Object(n("5M18").a)(e(this.editorActions)):Object(n("5M18").a)(e)}))),a()(this,"prepareQuickInsertProvider",((e,t)=>{const o=t&&"boolean"!=typeof t&&t.provider,r=e&&async function(e,t,o){const r=await e.getExtensions();return{getItems:()=>{const e=Object(n("x1JX").e)(r,(e=>{const r=Bt()({loader:e.icon,loading:()=>null});return{title:e.title,
description:e.description,icon:()=>c.a.createElement(r,{label:""}),keywords:e.keywords,featured:e.featured,categories:e.categories,action:r=>"function"==typeof e.node?(Object(n("4XCL").c)(e.node()).then((n=>{Ht(e,o),n&&t.replaceSelection(n)})),r("")):(Ht(e,o),r(e.node))}}));return Promise.all(e)}}}(e,this.editorActions,this.createAnalyticsEvent);return o&&r?async function(e){const{invokeList:t}=Object(n("77QF").a)(e);return{getItems:()=>t("getItems")}}([o,r]):o||r})),a()(this,"handleSave",(e=>{if(this.props.onSave)return this.props.onSave(e)})),a()(this,"handleAnalyticsEvent",(e=>Object(n("0F7/").a)(this.createAnalyticsEvent)(e))),this.providerFactory=new(n("U7Mc").a),this.deprecationWarnings(e),this.onEditorCreated=this.onEditorCreated.bind(this),this.onEditorDestroyed=this.onEditorDestroyed.bind(this),this.editorActions=(t||{}).editorActions||new(n("/7XU").a),this.trackEditorActions(this.editorActions,e),this.editorSessionId=f()(),Object(n("61k9").b)(n("lZxZ").a.EDITOR_MOUNTED),
e.performanceTracking&&e.performanceTracking.ttiTracking&&e.performanceTracking.ttiTracking.enabled&&Object(n("TdfU").d)(((t,o,r)=>{if(this.createAnalyticsEvent){var i;const a={payload:{action:n("J5HJ").a.EDITOR_TTI,actionSubject:n("J5HJ").b.EDITOR,attributes:{tti:t,ttiFromInvocation:o,canceled:r},eventType:n("J5HJ").e.OPERATIONAL}};if(null!==(i=e.performanceTracking.ttiTracking)&&void 0!==i&&i.trackSeverity){const{ttiSeverityNormalThreshold:r,ttiSeverityDegradedThreshold:i,ttiFromInvocationSeverityNormalThreshold:s,ttiFromInvocationSeverityDegradedThreshold:c}=e.performanceTracking.ttiTracking,{ttiSeverity:l,ttiFromInvocationSeverity:d}=Object(n("TdfU").c)(t,o,r,i,s,c);a.payload.attributes.ttiSeverity=l,a.payload.attributes.ttiFromInvocationSeverity=d}Object(n("0F7/").a)(this.createAnalyticsEvent)(a)}}),e.performanceTracking.ttiTracking.ttiIdleThreshold,e.performanceTracking.ttiTracking.ttiCancelTimeout)
;const o=this.prepareExtensionProvider(e.extensionProviders),r=this.prepareQuickInsertProvider(o,e.quickInsert);this.state={extensionProvider:o,quickInsertProvider:r}}componentDidMount(){Object(n("61k9").c)(n("lZxZ").a.EDITOR_MOUNTED,this.sendDurationAnalytics(n("J5HJ").a.EDITOR_MOUNTED)),this.handleProviders(this.props)}componentDidUpdate(e){const{extensionProviders:t,quickInsert:n}=this.props;if(t&&t!==e.extensionProviders||n&&n!==e.quickInsert){const e=this.prepareExtensionProvider(t),o=this.prepareQuickInsertProvider(e,n);this.setState({extensionProvider:e,quickInsertProvider:o},(()=>this.handleProviders(this.props)))}else this.handleProviders(this.props)}componentWillUnmount(){var e,t,o;this.unregisterEditorFromActions(),this.providerFactory.destroy(),Object(n("61k9").a)(n("lZxZ").a.EDITOR_MOUNTED),
(null===(e=this.props)||void 0===e||null===(t=e.performanceTracking)||void 0===t||null===(o=t.onEditorReadyCallbackTracking)||void 0===o?void 0:o.enabled)&&Object(n("61k9").a)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK)}trackEditorActions(e,t){var o,r;if(null!=t&&null!==(o=t.performanceTracking)&&void 0!==o&&null!==(r=o.contentRetrievalTracking)&&void 0!==r&&r.enabled){const o=100,r=e.getValue.bind(e);e._contentRetrievalTracking||(e._contentRetrievalTracking={samplingCounters:{success:1,failure:1},getValueTracked:!1});const{_contentRetrievalTracking:{samplingCounters:i,getValueTracked:a}}=e;if(!a){const a=async()=>{try{var e,a,s;const c=await r();return i.success===(null!==(e=null==t||null===(a=t.performanceTracking)||void 0===a||null===(s=a.contentRetrievalTracking)||void 0===s?void 0:s.successSamplingRate)&&void 0!==e?e:o)&&(this.handleAnalyticsEvent({payload:{action:n("J5HJ").a.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:n("J5HJ").b.EDITOR,attributes:{success:!0},
eventType:n("J5HJ").e.OPERATIONAL}}),i.success=0),i.success++,c}catch(h){var c,l,d,u,p;if(i.failure===(null!==(c=null==t||null===(l=t.performanceTracking)||void 0===l||null===(d=l.contentRetrievalTracking)||void 0===d?void 0:d.failureSamplingRate)&&void 0!==c?c:o))this.handleAnalyticsEvent({payload:{action:n("J5HJ").a.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:n("J5HJ").b.EDITOR,attributes:{success:!1,errorInfo:h.toString(),errorStack:null!=t&&null!==(u=t.performanceTracking)&&void 0!==u&&null!==(p=u.contentRetrievalTracking)&&void 0!==p&&p.reportErrorStack?h.stack:void 0},eventType:n("J5HJ").e.OPERATIONAL}}),i.failure=0;throw i.failure++,h}};e.getValue=a,e._contentRetrievalTracking.getValueTracked=!0}}return e}onEditorCreated(e){var t,o,r,i,a,s;(this.registerEditorForActions(e.view,e.eventDispatcher,e.transformer),
this.props.onEditorReady)&&((null===(t=this.props)||void 0===t||null===(o=t.performanceTracking)||void 0===o||null===(r=o.onEditorReadyCallbackTracking)||void 0===r?void 0:r.enabled)&&Object(n("61k9").b)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK),this.props.onEditorReady(this.editorActions),(null===(i=this.props)||void 0===i||null===(a=i.performanceTracking)||void 0===a||null===(s=a.onEditorReadyCallbackTracking)||void 0===s?void 0:s.enabled)&&Object(n("61k9").c)(n("lZxZ").a.ON_EDITOR_READY_CALLBACK,this.sendDurationAnalytics(n("J5HJ").a.ON_EDITOR_READY_CALLBACK)))}sendDurationAnalytics(e){return(t,o)=>{if(this.createAnalyticsEvent){const r=r=>{Object(n("0F7/").a)(this.createAnalyticsEvent)({payload:{action:e,actionSubject:n("J5HJ").b.EDITOR,attributes:{duration:t,startTime:o,objectId:r},eventType:n("J5HJ").e.OPERATIONAL}})};Promise.resolve(this.props.contextIdentifierProvider).then((e=>{r(null==e?void 0:e.objectId)}),r)}}}deprecationWarnings(e){const t=Object(n("/Tf5").b)(),o={
allowTasksAndDecisions:{message:"To allow tasks and decisions use taskDecisionProvider \u2013 <Editor taskDecisionProvider={{ provider }} />",type:"removed"},allowConfluenceInlineComment:{message:"To integrate inline comments use experimental annotationProvider \u2013 <Editor annotationProviders={{ provider }} />",type:"removed"}};Object.keys(o).forEach((n=>{if(e.hasOwnProperty(n)){const e=o[n],r=e.type||"enabled by default";console.warn(`${n} property is deprecated. ${e.message||""} [Will be ${r} in editor-core@${t}]`)}})),!e.hasOwnProperty("allowTables")||"boolean"==typeof e.allowTables||e.allowTables&&e.allowTables.advanced||console.warn(`Advanced table options are deprecated (except isHeaderRowRequired) to continue using advanced table features use - <Editor allowTables={{ advanced: true }} /> [Will be changed in editor-core@${t}]`)}onEditorDestroyed(e){this.unregisterEditorFromActions(),this.props.onDestroy&&this.props.onDestroy()}registerEditorForActions(e,t,n){
this.editorActions._privateRegisterEditor(e,t,n)}unregisterEditorFromActions(){this.editorActions&&this.editorActions._privateUnregisterEditor()}handleProviders(e){const{emojiProvider:t,mentionProvider:n,taskDecisionProvider:o,contextIdentifierProvider:r,collabEditProvider:i,activityProvider:a,presenceProvider:s,macroProvider:c,legacyImageUploadProvider:l,media:d,collabEdit:u,autoformattingProvider:p,searchProvider:h,UNSAFE_cards:f,smartLinks:m}=e,{extensionProvider:g,quickInsertProvider:b}=this.state;this.providerFactory.setProvider("emojiProvider",t),this.providerFactory.setProvider("mentionProvider",n),this.providerFactory.setProvider("taskDecisionProvider",o),this.providerFactory.setProvider("contextIdentifierProvider",r),this.providerFactory.setProvider("mediaProvider",d&&d.provider),this.providerFactory.setProvider("imageUploadProvider",l),this.providerFactory.setProvider("collabEditProvider",u&&u.provider?u.provider:i),this.providerFactory.setProvider("activityProvider",a),
this.providerFactory.setProvider("searchProvider",h),this.providerFactory.setProvider("presenceProvider",s),this.providerFactory.setProvider("macroProvider",c);const v=m&&m.provider||f&&f.provider;v&&this.providerFactory.setProvider("cardProvider",v),this.providerFactory.setProvider("autoformattingProvider",p),g&&this.providerFactory.setProvider("extensionProvider",Promise.resolve(g)),b&&this.providerFactory.setProvider("quickInsertProvider",b)}getBaseFontSize(){return this.props.allowDynamicTextSizing||["comment","chromeless","mobile"].includes(this.props.appearance)?void 0:n("9cwX").q}render(){var e,t;const o=function(e){switch(e=e||"comment"){case"full-page":case"full-width":return st;case"chromeless":return ft;case"comment":return kt;case"mobile":return jt;default:throw new Error(`Appearance '${e}' is not supported by the editor.`)}}(this.props.appearance),i=r()(r()({},this.props),{},{onSave:this.props.onSave?this.handleSave:void 0,analyticsHandler:void 0
}),a=Object(n("6QRn").a)(this.props),s=null===(e=this.props.performanceTracking)||void 0===e||null===(t=e.renderTracking)||void 0===t?void 0:t.editor,l=null==s?void 0:s.enabled,d=null==s?void 0:s.useShallow,u=c.a.createElement(m.d,{data:{packageName:"@atlaskit/editor-core",packageVersion:"150.0.0",componentName:"editorCore",appearance:Object(n("rJZJ").g)(this.props.appearance),editorSessionId:this.editorSessionId}},c.a.createElement(n("6FEM").a,{render:e=>(this.createAnalyticsEvent=e)&&c.a.createElement(c.a.Fragment,null,l&&c.a.createElement(n("R5/3").a,{componentProps:this.props,action:n("J5HJ").a.RE_RENDERED,actionSubject:n("J5HJ").b.EDITOR,handleAnalyticsEvent:this.handleAnalyticsEvent,propsToIgnore:["defaultValue"],useShallow:d}),c.a.createElement(zt,{createAnalyticsEvent:e,contextIdentifierProvider:this.props.contextIdentifierProvider},c.a.createElement(Ut,null,c.a.createElement(n("GqfY").a,{editorActions:this.editorActions
},c.a.createElement(Dt,null,c.a.createElement(n("67gn").a,{onAnalyticsEvent:this.handleAnalyticsEvent,useAnalyticsContext:this.props.UNSAFE_useAnalyticsContext,render:t=>c.a.createElement(c.a.Fragment,null,c.a.createElement(n("OAdf").a,{editorProps:i,createAnalyticsEvent:e,portalProviderAPI:t,providerFactory:this.providerFactory,onEditorCreated:this.onEditorCreated,onEditorDestroyed:this.onEditorDestroyed,allowAnalyticsGASV3:this.props.allowAnalyticsGASV3,disabled:this.props.disabled,render:({editor:e,view:t,eventDispatcher:r,config:i,dispatchAnalyticsEvent:s})=>{var l,d;return c.a.createElement(n("2omN").a,{dynamicTextSizing:this.props.allowDynamicTextSizing&&"full-width"!==this.props.appearance,baseFontSize:this.getBaseFontSize()},c.a.createElement(o,{appearance:this.props.appearance,disabled:this.props.disabled,editorActions:this.editorActions,editorDOMElement:e,editorView:t,providerFactory:this.providerFactory,eventDispatcher:r,dispatchAnalyticsEvent:s,
maxHeight:this.props.maxHeight,onSave:this.props.onSave?this.handleSave:void 0,onCancel:this.props.onCancel,popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,contentComponents:i.contentComponents,primaryToolbarComponents:i.primaryToolbarComponents,primaryToolbarIconBefore:this.props.primaryToolbarIconBefore,secondaryToolbarComponents:i.secondaryToolbarComponents,insertMenuItems:this.props.insertMenuItems,customContentComponents:this.props.contentComponents,customPrimaryToolbarComponents:this.props.primaryToolbarComponents,customSecondaryToolbarComponents:this.props.secondaryToolbarComponents,contextPanel:this.props.contextPanel,collabEdit:this.props.collabEdit,allowAnnotation:!!this.props.annotationProviders,persistScrollGutter:this.props.persistScrollGutter,
enableToolbarMinWidth:null!=(null===(l=this.props.featureFlags)||void 0===l?void 0:l.toolbarMinWidthOverflow)?!(null===(d=this.props.featureFlags)||void 0===d||!d.toolbarMinWidthOverflow):this.props.UNSAFE_allowUndoRedoButtons,useStickyToolbar:this.props.useStickyToolbar,featureFlags:a}))}}),c.a.createElement(n("67gn").c,{portalProviderAPI:t}))}))))))}));return this.context.intl?u:c.a.createElement(p.IntlProvider,{locale:"en"},u)}}Vt.displayName="Editor",a()(Vt,"defaultProps",{appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0,quickInsert:!0}),a()(Vt,"contextTypes",{editorActions:d.a.object,intl:p.intlShape})},Lb0w:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("1M3H"),r=n.n(o),i=n("+80P"),a=n.n(i);const s=(e,t,n)=>[].concat(e.slice(0,t),n,e.slice(t+1)),c=e=>/^<a[>\s]/i.test(e),l=e=>/^<\/a\s*>/i.test(e),d=e=>{const t=e.tokens,o=new a.a;for(let r=0,i=t.length;r<i;r++){
if("inline"!==t[r].type||!o.pretest(t[r].content))continue;let i=t[r].children,a=0;for(let d=i.length-1;d>=0;d--){const u=i[d];if("link_close"!==u.type){if("html_inline"===u.type&&(c(u.content)&&a>0&&a--,l(u.content)&&a++),!(a>0)&&"text"===u.type&&o.test(u.content)){const a=u.content;let c=Object(n("CHQz").f)(a);c.length||(c=o.match(a)||[]);const l=[];let p=u.level,h=0;for(let t=0;t<c.length;t++){const{url:n}=c[t],o=e.md.normalizeLink(n);if(!e.md.validateLink(o))continue;let r=c[t].text;r=c[t].schema?"mailto:"!==c[t].schema||/^mailto:/i.test(r)?e.md.normalizeLinkText(r):e.md.normalizeLinkText("mailto:"+r).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+r).replace(/^http:\/\//,"");const i=c[t].index;if(i>h){const t=new e.Token("text","",0);t.content=a.slice(h,i),t.level=p,l.push(t)}let s=new e.Token("link_open","a",1);s.attrs=[["href",o]],s.level=p++,s.markup="linkify",s.info="auto",l.push(s),s=new e.Token("text","",0),s.content=r,s.level=p,l.push(s),
s=new e.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",l.push(s),h=c[t].lastIndex}if(h<a.length){const t=new e.Token("text","",0);t.content=a.slice(h),t.level=p,l.push(t)}t[r].children=i=s(i,d,l)}}else for(d--;i[d].level!==u.level&&"link_open"!==i[d].type;)d--}}};const u=r()("zero",{html:!1});u.enable(["entity","escape","newline"]),u.use((e=>e.core.ruler.push("custom-linkify",d)))},LgcO:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g}));var o=n("MEpN"),r=n("1M3H"),i=n.n(r),a=new o.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"inline*",
group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){return{params:e.getAttribute("data-params")||""}}}],toDOM:function(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},
parseDOM:[{tag:"ul",getAttrs:function(e){return{tight:e.hasAttribute("data-tight")}}}],toDOM:function(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(e){return"italic"==e&&null}}],toDOM:function(){return["em"]}},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong"]}},link:{
attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){return["a",e.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]}}}});var s=function(e,t){this.schema=e,this.stack=[{type:e.topNodeType,content:[]}],this.marks=o.Mark.none,this.tokenHandlers=t};function c(e,t){return e.getAttrs?e.getAttrs(t):e.attrs instanceof Function?e.attrs(t):e.attrs}function l(e){return"code_inline"==e||"code_block"==e||"fence"==e}function d(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function u(){}s.prototype.top=function(){return this.stack[this.stack.length-1]},s.prototype.push=function(e){this.stack.length&&this.top().content.push(e)},s.prototype.addText=function(e){if(e){var t,n=this.top().content,r=n[n.length-1],i=this.schema.text(e,this.marks);r&&(t=function(e,t){if(e.isText&&t.isText&&o.Mark.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)
}(r,i))?n[n.length-1]=t:n.push(i)}},s.prototype.openMark=function(e){this.marks=e.addToSet(this.marks)},s.prototype.closeMark=function(e){this.marks=e.removeFromSet(this.marks)},s.prototype.parseTokens=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.tokenHandlers[n.type];if(!o)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");o(this,n)}},s.prototype.addNode=function(e,t,n){var o=e.createAndFill(t,n,this.marks);return o?(this.push(o),o):null},s.prototype.openNode=function(e,t){this.stack.push({type:e,attrs:t,content:[]})},s.prototype.closeNode=function(){this.marks.length&&(this.marks=o.Mark.none);var e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)};var p=function(e,t,n){this.tokens=n,this.schema=e,this.tokenizer=t,this.tokenHandlers=function(e,t){var n=Object.create(null),o=function(o){var r=t[o];if(r.block){var i=e.nodeType(r.block);l(o)?n[o]=function(e,t){e.openNode(i,c(r,t)),e.addText(d(t.content)),e.closeNode()
}:(n[o+"_open"]=function(e,t){return e.openNode(i,c(r,t))},n[o+"_close"]=function(e){return e.closeNode()})}else if(r.node){var a=e.nodeType(r.node);n[o]=function(e,t){return e.addNode(a,c(r,t))}}else if(r.mark){var s=e.marks[r.mark];l(o)?n[o]=function(e,t){e.openMark(s.create(c(r,t))),e.addText(d(t.content)),e.closeMark(s)}:(n[o+"_open"]=function(e,t){return e.openMark(s.create(c(r,t)))},n[o+"_close"]=function(e){return e.closeMark(s)})}else{if(!r.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(r));l(o)?n[o]=u:(n[o+"_open"]=u,n[o+"_close"]=u)}};for(var r in t)o(r);return n.text=function(e,t){return e.addText(t.content)},n.inline=function(e,t){return e.parseTokens(t.children)},n.softbreak=n.softbreak||function(e){return e.addText("\n")},n}(e,n)};p.prototype.parse=function(e){var t,n=new s(this.schema,this.tokenHandlers);n.parseTokens(this.tokenizer.parse(e,{}));do{t=n.closeNode()}while(n.stack.length);return t};new p(a,i()("commonmark",{html:!1}),{blockquote:{
block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function(e){return{order:+e.attrGet("order")||1}}},heading:{block:"heading",getAttrs:function(e){return{level:+e.tag.slice(1)}}},code_block:{block:"code_block"},fence:{block:"code_block",getAttrs:function(e){return{params:e.info||""}}},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(e){return{src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},code_inline:{mark:"code"}});var h=function(e,t){this.nodes=e,this.marks=t};h.prototype.serialize=function(e,t){var n=new g(this.nodes,this.marks,t);return n.renderContent(e),n.out};new h({blockquote:function(e,t){e.wrapBlock("> ",null,t,(function(){
return e.renderContent(t)}))},code_block:function(e,t){e.write("```"+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},heading:function(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule:function(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list:function(e,t){e.renderList(t,"  ",(function(){return(t.attrs.bullet||"*")+" "}))},ordered_list:function(e,t){var n=t.attrs.order||1,o=String(n+t.childCount-1).length,r=e.repeat(" ",o+2);e.renderList(t,r,(function(t){var r=String(n+t);return e.repeat(" ",o-r.length)+r+". "}))},list_item:function(e,t){e.renderContent(t)},paragraph:function(e,t){e.renderInline(t),e.closeBlock(t)},image:function(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+e.esc(t.attrs.src)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")")},hard_break:function(e,t,n,o){for(var r=o+1;r<n.childCount;r++)if(n.child(r).type!=t.type)return void e.write("\\\n")},
text:function(e,t){e.text(t.text)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:function(e,t,n,o){return m(t,n,o,1)?"<":"["},close:function(e,t,n,o){return m(t,n,o,-1)?">":"]("+e.esc(t.attrs.href)+(t.attrs.title?" "+e.quote(t.attrs.title):"")+")"}},code:{open:function(e,t,n,o){return f(n.child(o),-1)},close:function(e,t,n,o){return f(n.child(o-1),1)},escape:!1}});function f(e,t){var n,o=/`+/g,r=0;if(e.isText)for(;n=o.exec(e.text);)r=Math.max(r,n[0].length);for(var i=r>0&&t>0?" `":"`",a=0;a<r;a++)i+="`";return r>0&&t<0&&(i+=" "),i}function m(e,t,n,o){if(e.attrs.title)return!1;var r=t.child(n+(o<0?-1:0));if(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e)return!1;if(n==(o<0?1:t.childCount-1))return!0;var i=t.child(n+(o<0?-2:1));return!e.isInSet(i.marks)}var g=function(e,t,n){this.nodes=e,this.marks=t,this.delim=this.out="",this.closed=!1,this.inTightList=!1,
this.options=n||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)};g.prototype.flushClose=function(e){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==e&&(e=2),e>1){var t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(var o=1;o<e;o++)this.out+=t+"\n"}this.closed=!1}},g.prototype.wrapBlock=function(e,t,n,o){var r=this.delim;this.write(t||e),this.delim+=e,o(),this.delim=r,this.closeBlock(n)},g.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)},g.prototype.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},g.prototype.write=function(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)},g.prototype.closeBlock=function(e){this.closed=e},g.prototype.text=function(e,t){for(var n=e.split("\n"),o=0;o<n.length;o++){var r=this.atBlank()||this.closed;this.write(),this.out+=!1!==t?this.esc(n[o],r):n[o],o!=n.length-1&&(this.out+="\n")}},g.prototype.render=function(e,t,n){
if("number"==typeof t)throw new Error("!");this.nodes[e.type.name](this,e,t,n)},g.prototype.renderContent=function(e){var t=this;e.forEach((function(n,o,r){return t.render(n,e,r)}))},g.prototype.renderInline=function(e){var t=this,n=[],o="",r=function(r,i,a){var s=r?r.marks:[];r&&"hard_break"===r.type.name&&(s=s.filter((function(t){if(a+1==e.childCount)return!1;var n=e.child(a+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));var c=o;if(o="",r&&r.isText&&s.some((function(e){var n=t.marks[e.type.name];return n&&n.expelEnclosingWhitespace}))){var l=/^(\s*)(.*?)(\s*)$/m.exec(r.text),d=(l[0],l[1]),u=l[2],p=l[3];c+=d,o=p,(d||p)&&((r=u?r.withText(u):null)||(s=n))}var h=s.length&&s[s.length-1],f=h&&!1===t.marks[h.type.name].escape,m=s.length-(f?1:0);e:for(var g=0;g<m;g++){var b=s[g];if(!t.marks[b.type.name].mixable)break;for(var v=0;v<n.length;v++){var y=n[v];if(!t.marks[y.type.name].mixable)break;if(b.eq(y)){
g>v?s=s.slice(0,v).concat(b).concat(s.slice(v,g)).concat(s.slice(g+1,m)):v>g&&(s=s.slice(0,g).concat(s.slice(g+1,v)).concat(b).concat(s.slice(v,m)));continue e}}}for(var E=0;E<Math.min(n.length,m)&&s[E].eq(n[E]);)++E;for(;E<n.length;)t.text(t.markString(n.pop(),!1,e,a),!1);if(c&&t.text(c),r){for(;n.length<m;){var w=s[n.length];n.push(w),t.text(t.markString(w,!0,e,a),!1)}f&&r.isText?t.text(t.markString(h,!0,e,a)+r.text+t.markString(h,!1,e,a+1),!1):t.render(r,e,a)}};e.forEach(r),r(null,0,e.childCount)},g.prototype.renderList=function(e,t,n){var o=this;this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=r,e.forEach((function(i,a,s){s&&r&&o.flushClose(1),o.wrapBlock(t,n(s),e,(function(){return o.render(i,e,s)}))})),this.inTightList=i},g.prototype.esc=function(e,t){return e=e.replace(/[`*\\~\[\]]/g,"\\$&"),
t&&(e=e.replace(/^[:#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),e},g.prototype.quote=function(e){var t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]},g.prototype.repeat=function(e,t){for(var n="",o=0;o<t;o++)n+=e;return n},g.prototype.markString=function(e,t,n,o){var r=this.marks[e.type.name],i=t?r.open:r.close;return"string"==typeof i?i:i(this,e,n,o)},g.prototype.getEnclosingWhitespace=function(e){return{leading:(e.match(/^(\s+)/)||[])[0],trailing:(e.match(/(\s+)$/)||[])[0]}}},Lk4p:function(e,t,n){"use strict";n.r(t);var o=n("pVnL"),r=n.n(o),i=n("q1tI"),a=n.n(i);const s=e=>{const[{activityProvider:t,contextIdentifier:o,getEncodedMention:i,mediaContext:s,mentionProvider:c,sharedAtTimestamp:l,sharedValue:d,onEditorExpandedFailure:u,onEditorSaveFailure:p,onEditorClearSharedValues:h}]=Object(n("ORa1").d)();return s?a.a.createElement(n("yIKL").a,r()({mediaContext:s,contextIdentifier:o||void 0,mentionProvider:c,activityProvider:t||void 0,mentionEncoder:i,
sharedAtTimestamp:null!=l?l:void 0,sharedValue:d,onExpandedFailure:u,onSaveFailure:p,clearSharedValues:h,useDeprecatedGetScrollParent:!0},e)):null};s.displayName="ConnectedEditor",t.default=s},M3Ny:function(e,t,n){"use strict";function o(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,"a",(function(){return o}))},"MLD/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 01-.5-.5v-11zM9.5 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorImageIcon";var a=i;t.default=a},MMpk:function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 001.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e));i.displayName="StatusIcon";var a=i;t.default=a
},MSKp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMoreIcon";var a=i;t.default=a},MV7v:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("TSYQ"),c=n.n(s),l=n("q1tI"),d=n.n(l),u=n("JRPe");var p=Object(l.forwardRef)(((e,t)=>{const{emoji:o,selectOnHover:r,ariaLabelText:i,ariaExpanded:a,shouldHideButton:s}=e,l=[s?n("+OC9").v:n("+OC9").k];return d.a.createElement("button",{ref:t,"aria-expanded":a,className:c()(l),onMouseDown:t=>{((e,t)=>{const{onSelected:o}=e
;t.preventDefault(),o&&Object(n("M3Ny").a)(t)&&o()})(e,t)},onKeyDown:t=>{((e,t)=>{const{onSelected:n}=e;!n||"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),n())})(e,t)},"aria-label":i},d.a.createElement(n("hXRZ").a,{emoji:o,selectOnHover:r}))}));const h={"raised hand":"default skin tone","raised hand: light skin tone":"light skin tone","raised hand: medium-light skin tone":"medium-light skin tone","raised hand: medium skin tone":"medium skin tone","raised hand: medium-dark skin tone":"medium-dark skin tone","raised hand: dark skin tone":"dark skin tone"},f=e=>{if(e)return h[e]};class m extends l.PureComponent{constructor(...e){super(...e),a()(this,"firstToneButtonRef",Object(l.createRef)()),a()(this,"onToneSelectedHandler",(e=>{const{onToneSelected:t}=this.props;t(e);this.fireEvent(Object(n("i6+T").o)({skinToneModifier:["default","light","mediumLight","medium","mediumDark","dark"][e]}))}))}fireEvent(e){const{createAnalyticsEvent:t}=this.props;t&&Object(n("i6+T").c)(e)(t)}
componentDidMount(){var e,t;null===(e=this.firstToneButtonRef)||void 0===e||null===(t=e.current)||void 0===t||t.focus()}UNSAFE_componentWillMount(){this.fireEvent(Object(n("i6+T").q)({}))}render(){const{emoji:e,previewEmojiId:t}=this.props,n=(e=>e.skinVariations?[e,...e.skinVariations]:[e])(e);let o=!1;return d.a.createElement("div",null,n.map(((e,n)=>{const r=!o&&e.id!==t;return r&&(o=!0),d.a.createElement(p,{ref:r?this.firstToneButtonRef:null,shouldHideButton:e.id===t,ariaLabelText:f(e.name),key:`${e.id}`,onSelected:()=>this.onToneSelectedHandler(n),emoji:e,selectOnHover:!0})})))}}m.displayName="ToneSelectorInternal";var g=Object(n("VHV8").a)()(m);class b extends l.PureComponent{constructor(...e){super(...e),a()(this,"state",{selectingTone:!1}),a()(this,"onToneButtonClick",(()=>{this.setState({selectingTone:!this.state.selectingTone})})),a()(this,"onToneSelected",(e=>{this.setState({selectingTone:!1}),this.props.onToneSelected&&this.props.onToneSelected(e)})),
a()(this,"onMouseLeave",(()=>{const{selectingTone:e}=this.state,{onToneSelectorCancelled:t}=this.props;e&&t&&t(),this.setState({selectingTone:!1})}))}renderTones(){const{toneEmoji:e,selectedTone:t}=this.props;if(!e)return null;let o=e;return t&&o.skinVariations&&(o=o.skinVariations[(t||1)-1]),d.a.createElement("div",{className:"emoji-common-tone-selector-container"},this.state.selectingTone&&d.a.createElement(g,{emoji:e,onToneSelected:this.onToneSelected,previewEmojiId:o.id}),d.a.createElement(u.FormattedMessage,r()({},n("dBbw").a.emojiSelectSkinToneButtonAriaLabelText,{values:{selectedTone:`${f(o.name)} selected`}}),(e=>d.a.createElement(p,{ariaExpanded:this.state.selectingTone,emoji:o,selectOnHover:!0,onSelected:this.onToneButtonClick,ariaLabelText:e}))))}renderEmojiPreview(){const{selectingTone:e}=this.state,{emoji:t,uploadEnabled:o}=this.props;if(!t||e||o)return null;const r=c()({"emoji-common-preview":!0,"emoji-common-with-tone-selector":!!this.props.toneEmoji}),i=c()({
"emoji-common-preview-text":!0,"emoji-common-preview-single-line":!t.name});return d.a.createElement("div",{className:r},d.a.createElement("span",{className:"emoji-common-preview-image"},d.a.createElement(n("sVlj").a,{emoji:t})),d.a.createElement("div",{className:i},d.a.createElement("span",{className:"emoji-common-name"},t.name),d.a.createElement("span",{className:"emoji-common-shortname"},t.shortName)))}renderAddOwnEmoji(){const{onOpenUpload:e,uploadEnabled:t}=this.props,{selectingTone:o}=this.state;return!t||o?null:d.a.createElement("div",{className:n("+OC9").a},d.a.createElement(u.FormattedMessage,n("dBbw").a.addCustomEmojiLabel,(t=>d.a.createElement(n("340+").a,{onClick:e,iconBefore:d.a.createElement(n.n(n("9fHu")).a,{label:t,size:"small"}),appearance:"subtle",className:n("+OC9").b+" emoji-picker-add-emoji"},t))))}render(){const e=c()([n("+OC9").q,"emoji-preview-section"]);return d.a.createElement("div",{className:e,onMouseLeave:this.onMouseLeave
},this.renderAddOwnEmoji(),this.renderEmojiPreview(),this.renderTones())}}b.displayName="EmojiPreview"},MnA9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF8B00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm9.03 20h.001c.29-.001.562-.126.752-.343l6.971-8a1 1 0 00.095-1.185l-2.485-4a1.003 1.003 0 00-.85-.472h-8.84c-.334 0-.646.167-.832.444l-2.674 4a1 1 0 00.081 1.216l7.03 8c.188.216.462.34.75.34z"/></svg>'},e,{size:"medium"}));i.displayName="Sketch24Icon";var a=i;t.default=a},Mx8g:function(t,n,o){"use strict";o.d(n,"a",(function(){return u}));var r=o("3tO9"),i=o.n(r),a=o("lSNA"),s=o.n(a),c=o("NY1e"),l=o("sEfC"),d=o.n(l);class u{
constructor({url:t,cloudId:n,siteMasterList:o}){s()(this,"getGenericProductPermissions",(async t=>(t=>async(n,o,r)=>{if(0===n.length)return Promise.resolve(new Map);try{const e=n.map((e=>["productId",e])),i=`scopes/v1/${o}?${new URLSearchParams([["experience",r],...e]).toString()}`,a=await t(i);return new Map(Object.keys(a.products).map((e=>[e,a.products[e]])))}catch(e){return new Map}})(this.makeGetRequest)(t.productIds,this.cloudId,t.experience))),s()(this,"batchedGetExtensibleProductPermission",((e,t,n,o=100)=>{const r={},a=d()((()=>{const o=i()({},r),a=Object.keys(o),s=a.map((e=>o[e].arg));t(e(s)).then((e=>{a.forEach((t=>{o[t].resolve(n(e,t))}))})).catch((()=>{a.forEach((e=>{o[e].reject()}))})).finally((()=>a.forEach((e=>delete r[e]))))}),o);return(e,t)=>{const n=new Promise(((n,o)=>{r[e]={resolve:n,reject:o,arg:t}}));return a(),n}})((e=>{const t={productIds:[],experience:""};return 0===e.length?t:e.reduce(((e,t)=>({productIds:[...e.productIds,...t.productIds],
experience:t.experience})),t)}),this.getGenericProductPermissions,((e,t)=>e.get(t)||[]))),s()(this,"makePostRequest",((e,t)=>{const n={path:e,requestInit:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}};return c.b.requestService(this.serviceConfig,n)})),s()(this,"makeGetRequest",(e=>{const t={path:e,requestInit:{method:"GET",headers:{"Content-Type":"application/json"}}};return c.b.requestService(this.serviceConfig,t)})),this.serviceConfig={url:t},this.cloudId=n,this.siteMasterList=o}async getAbTestData(e,t){const n={cloudId:this.cloudId,scopes:[e],experience:t},o=(await this.makePostRequest(u.EXPERIMENT_URL_PATH,n)).scopes.find((t=>t.id===e));return o?Promise.resolve(o.abTest):Promise.resolve(null)}async getProductScopes(e,t){return(await this.getGenericProductPermissions({productIds:[e],experience:t})).get(e)||[]}async getProductPermissions(e,t){const n=e.map((e=>e.toLowerCase())),o=await this.getGenericProductPermissions({productIds:n,experience:t})
;return n.filter((e=>{var t;return null===(t=o.get(e))||void 0===t?void 0:t.length})).map((e=>e.toUpperCase()))}async search({query:e,context:t,scopes:n,modelParams:r,resultLimit:a,filters:s=[],experience:c,sites:l=[]}){const d=this.cloudId,p=l.length>0?l:Object(o("/lNA").d)(this.siteMasterList).map((e=>e.cloudId)),h=i()(i()({query:e,cloudId:d,limit:a,scopes:n,filters:s,searchSession:t},r.length>0?{modelParams:r}:{}),{},{experience:c,cloudIds:p}),{result:f,durationMs:m}=await Object(o("lCdE").a)(this.makePostRequest(u.QUICKSEARCH_API_URL,h));return{response:{rawData:f,retrieveScope:e=>f.scopes.find((t=>t.id===e))||null},requestDurationMs:m}}}s()(u,"EXPERIMENT_URL_PATH","experiment/v1"),s()(u,"QUICKSEARCH_API_URL","quicksearch/v1")},"N+rM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h5a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm9 0h5a1 1 0 011 1v12a1 1 0 01-1 1h-5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutTwoEqualIcon";var a=i;t.default=a},N1l4:function(e,t,n){"use strict";function o(e,t){return{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.LINK,attributes:{inputMethod:e,fromCurrentDomain:Object(n("CHQz").d)(t)},eventType:n("J5HJ").e.TRACK,nonPrivacySafeAttributes:{linkDomain:Object(n("CHQz").b)(t)}}}n.d(t,"a",(function(){return o}))},N3sK:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));const o="\ufffc",r="input_rule_plugin_transaction",i=500},NAgD:function(e,t,n){"use strict";e.exports=function(e){var t
;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},NdM7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));const o={width:156,height:125},r={width:435,height:125},i={width:300,height:300},a=e=>"image"===e?o:"square"===e?i:"horizontal"===e?r:o},Ng0V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("UxO+");const r=e=>(t,r)=>{const{textColor:i}=t.schema.marks;if(i){const i=n("BS0G").c.getState(t),a=Object(n("Z9Bk").b)(t),s=function(e,t,o){const r=o.find((({value:t})=>t===e)),i=o.find((({value:e})=>e===t)),a=r?r.label:e,s=i?i.label:t||"";return Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,actionSubjectId:n("J5HJ").c.FORMAT_COLOR,eventType:n("J5HJ").e.TRACK,attributes:{newColor:a.toLowerCase(),previousColor:s.toLowerCase()}})}(e,a,i.paletteExpanded||i.palette)
;return!i.disabled&&(e===i.defaultColor?(s((()=>(e,t)=>{const{schema:r,selection:i}=e,{textColor:a}=r.marks;let s=e.tr;if(i instanceof o.TextSelection){const{from:t,to:n,$cursor:o}=i;s=o?e.tr.removeStoredMark(a):e.tr.removeMark(t,n,a)}return i instanceof n("n1Ll").a&&i.forEachCell(((e,t)=>{const n=t,o=t+e.nodeSize;s.doc.nodesBetween(s.mapping.map(n),s.mapping.map(o),((e,t)=>{if(!e.isText)return!0;const r=Math.max(t,s.mapping.map(n)),i=Math.min(t+e.nodeSize,s.mapping.map(o));return s.removeMark(r,i,a),!0}))})),t&&t(s.setMeta(n("BS0G").c,{action:n("BS0G").a.RESET_COLOR})),!0})())(t,r),!0):(s((e=>(t,o)=>{const{textColor:r}=t.schema.marks;let i=t.tr;return Object(n("x2he").a)(t)?(o&&o(i.setMeta(n("BS0G").c,{action:n("BS0G").a.DISABLE})),!1):(o&&(t.tr.setMeta(n("BS0G").c,{action:n("BS0G").a.SET_COLOR,color:e}),t.tr.scrollIntoView(),Object(n("+U5V").i)(r,{color:e})(t,o)),!0)})(e))(t,r),!0))}return!1}},Novn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})
;const o=n("ifif"),r=n("ScxJ"),i=n("Rbo8"),a=";v=",s="[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}",c=[i.pattern(new RegExp(`^${s}$`,"i"))],l=[i.pattern(new RegExp(`^(${s}|static)$`,"i"))];class d{constructor(e){this.json=e,this.validate()}get appId(){return this.json.appId}get environmentId(){return this.json.environmentId}get version(){return this.json.version}get extensionGroupId(){return this.json.extensionGroupId}get extensionKey(){return this.json.extensionKey}toJSON(){return this.json}static parse(e){const{resourceOwner:t,resourceType:n,resourceId:r}=e;if(t!==o.AppFamilyAri.resourceOwner)throw new o.NotAppFamilyAriError(e,`resourceOwner (${t}) must be ${o.AppFamilyAri.resourceOwner}`);if(!n||o.AppFamilyAri.appFamilyResourceTypes.indexOf(n)<0)throw new o.NotAppFamilyAriError(e,`resourceType must be one of ${o.AppFamilyAri.appFamilyResourceTypes}`);if(!r)throw new o.NotAppFamilyAriError(e,"resourceId is must be provided");const i=r.indexOf(a)
;if(i>0&&r.lastIndexOf(a)>i)throw new o.NotAppFamilyAriError(e,"can only include one version suffix");const[s,c]=r.split(a),l=s.split("/").map(u);if(l.length>4)throw new o.NotAppFamilyAriError(e,`no path segments can be added after extensionKey ${l.slice(4)}`);const[p,h,f,m]=l;if(!p)throw new o.NotAppFamilyAriError(e,"appId must be included");const g=f||(n===o.AppFamilyAri.extensionGroupResourceType||n===o.AppFamilyAri.extensionResourceType?"static":void 0);if(!(n!==o.AppFamilyAri.extensionResourceType||h&&f&&m))throw new o.NotAppFamilyAriError(e,`environmentId, extensionGroupId, extensionKey must all be provided for resourceType ${o.AppFamilyAri.extensionResourceType}`);if(!(n!==o.AppFamilyAri.extensionGroupResourceType||h&&g&&!m))throw new o.NotAppFamilyAriError(e,`environmentId, extensionGroupId must all be provided for resourceType ${o.AppFamilyAri.extensionGroupResourceType}`)
;if(n===o.AppFamilyAri.environmentResourceType&&(!h||f||m))throw new o.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${o.AppFamilyAri.environmentResourceType}`);if(n===o.AppFamilyAri.appResourceType&&(h||f||m))throw new o.NotAppFamilyAriError(e,`environmentId must be provided for resourceType ${o.AppFamilyAri.environmentResourceType}`);return new d({appId:p,environmentId:h,extensionGroupId:g,extensionKey:m,version:c})}asAppAri(){return this.returnIf((()=>this.isAppAri()),"app")}asAppEnvironmentAri(){return this.returnIf((()=>this.isAppEnvironmentAri()),"environment")}asExtensionGroupAri(){return this.returnIf((()=>this.isExtensionGroupAri()),"extension-group")}asExtensionAri(){return this.returnIf((()=>this.isExtensionAri()),"extension")}isAppAri(){return!this.isAtLeastAppEnvironmentAri}isAppEnvironmentAri(){return this.isAtLeastAppEnvironmentAri&&!this.isAtLeastExtensionGroupAri}isExtensionGroupAri(){
return this.isAtLeastExtensionGroupAri&&!this.isExtensionAri()}isExtensionAri(){return this.isAtLeastExtensionGroupAri&&void 0!==this.extensionKey}returnIf(e,t){if(!e())throw new o.NotExpectedAppFamilyAriTypeError(t,this);return this}get isAtLeastAppEnvironmentAri(){return void 0!==this.environmentId}get isAtLeastExtensionGroupAri(){return this.isAtLeastAppEnvironmentAri&&void 0!==this.extensionGroupId}validate(){const e=[i.validateField(this,"environmentId",c),i.validateField(this,"appId",c),i.validateField(this,"extensionGroupId",l)].filter((e=>e));if(e.length>0)throw r.InvalidAriError.withConstraintViolations(this.toString(),e)}toAri(){const e=o.AppFamilyAri.resourceOwner,{appId:t,environmentId:n,extensionGroupId:i,extensionKey:a,version:s}=this.toJSON();function c(e){const t=e.join("/");return s?`${t};v=${s}`:t}return this.isExtensionAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.extensionResourceType,resourceId:c([t,n,i,a])
}):this.isExtensionGroupAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.extensionGroupResourceType,resourceId:c([t,n,i])}):this.isAppEnvironmentAri()?new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.environmentResourceType,resourceId:c([t,n])}):new r.ResourceIdentifier({resourceOwner:e,resourceType:o.AppFamilyAri.appResourceType,resourceId:t})}toString(){return this.toAri().toString()}}function u(e){if(!e)return;const t=e.trim();return 0!==t.length?t:void 0}t.AppFamilyAriImpl=d},Npri:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"n",(function(){return r})),n.d(t,"m",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"p",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"o",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){
return m})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y}));const o=Object(n("ku5o").a)({light:"#FFFFFF",dark:"#1B2638"}),r=Object(n("ku5o").a)({light:n("9cwX").U,dark:n("9cwX").V}),i=Object(n("ku5o").a)({light:"#6B778C",dark:"#9FB0CC"}),a=Object(n("ku5o").a)({light:n("9cwX").P,dark:n("9cwX").Q}),s="#B3D4FF",c="#4C9AFF",l="#0065FF",d="#FFEBE6",u="#FF5630",p="#FFBDAD",h=n("9cwX").W,f=n("9ehW").h+8-n("9ehW").c,m=10*n("9cwX").Y,g=m+1,b=10,v=m+n("9cwX").bb,y=v+2},Nrp8:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"a",(function(){return O})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return x})),
n.d(t,"b",(function(){return k}));var o=n("ABBN"),r=(n("MEpN"),n("UxO+")),i=n("mG1W");const a=e=>!(!e||"external"!==e.type||!Object(n("WUE1").c)(e.url)),s=e=>v(e)||f(e)||d(e)||u(e),c=e=>{const{node:t}=e.selection;return t&&t.type!==e.schema.nodes.media&&t.isBlock},l=e=>{const{node:t}=e.selection;return t&&t.type===e.schema.nodes.mediaSingle},d=e=>{if(Object(n("vRZh").a)(e))return m(e,e.selection.$from)},u=e=>{const{selection:t}=e;if(t instanceof n("g1AK").a){const t=e.selection.$from,n=e.schema.nodes.mediaGroup;return p(t,n)||h(t,n)}},p=(e,t)=>{if(e.nodeBefore&&e.nodeBefore.type===t)return e.pos-e.nodeBefore.nodeSize+1},h=(e,t)=>{if(e.nodeAfter&&e.nodeAfter.type===t)return e.pos+1},f=e=>{if(Object(n("vRZh").c)(e))return b(e,e.selection.$to)},m=(e,t)=>{let o,r;if(c(e)?(o=t.pos,r=t.nodeBefore):(o=Object(n("vRZh").f)(t)-1,r=e.doc.resolve(o).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return o-r.nodeSize+1},g=e=>{const{$from:t}=e.selection
;return t.parent.type===e.schema.nodes.paragraph&&Object(n("vRZh").a)(e)&&Object(n("vRZh").c)(e)},b=(e,t,o=!0)=>{let r,i;if(c(e)?(r=t.pos,i=t.nodeAfter):(r=Object(n("vRZh").e)(t),i=e.doc.nodeAt(r)),i&&i.type===e.schema.nodes.mediaGroup)return o?r+1:r+i.nodeSize-1},v=(e,t,o=!1)=>{const{$from:r}=e.selection;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return o?Object(n("vRZh").f)(t):Object(n("vRZh").e)(t)-1};const y=(e,t,o)=>{const{id:a}=t.attrs,{state:s}=e,{tr:c,selection:l,doc:d}=s,u=o();c.deleteRange(u,u+t.nodeSize),Object(n("D4z0").q)(a)&&c.setMeta("addToHistory",!1);const p=d.resolve(u),{nodeBefore:h,parent:f}=p,m=p.index()===f.childCount-1;if(l.from===u&&!m&&!Object(n("vRZh").b)(s)&&h&&"media"===h.type.name){const e=Object(i.findPositionOfNodeBefore)(c.selection);e&&c.setSelection(r.NodeSelection.create(c.doc,e))}e.dispatch(c)},E=e=>{const{selection:t}=e.state;return t instanceof r.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(Object(o.e)(e.state,e.dispatch),
t.$to.nodeAfter?(Object(o.g)(e.state,e.dispatch),Object(n("t0jr").f)(!1)(e.state,e.dispatch)):Object(n("t0jr").e)(e.state,e.dispatch),!0)},w=e=>e.length>1&&"_"===e[0]&&"_"===e[1],O=(e,t)=>{Object.keys(t.attrs).filter(w).forEach((n=>{const o=n.substring(2),r=e[o];void 0!==r&&(t.attrs[n]=r)}))},S=(e,t)=>{const{mediaGroup:o,mediaSingle:r,media:i}=t.nodes;return Object(n("n8Jk").e)(e,((e,t)=>t||e.type!==i?e:r&&(Object(n("CuOu").a)(e.attrs.__fileMimeType)||"external"===e.attrs.type)?r.createChecked({},e):o.createChecked({},[e])))},C=e=>"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility,T=["DIV","TD"];const x=e=>{const t=(new DOMParser).parseFromString(e,"text/html").body,o=t.querySelector('b[id^="docs-internal-guid-"]');o&&Object(n("9a+x").g)(t,o);const r=t.querySelectorAll("img");return r.length?(r.forEach((e=>{const o=e.parentElement;if(!o)return;if(C(o)||C(e))return void o.removeChild(e);if(o instanceof HTMLDivElement)return
;const r=Object(n("9a+x").h)(o,(e=>e.parentElement===t||function(e){return!!e&&-1!==T.indexOf(e.tagName)}(e.parentElement)));r&&r.parentElement&&(r.parentElement.insertBefore(e,r.nextElementSibling||r),o.innerText=o.innerText.trim(),Object(n("9a+x").f)(o))})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e},k=e=>{if(!l(e))return null;const t=e.tr,n=t.selection.from+1,o=t.doc.nodeAt(n);return o&&o.type===e.schema.nodes.media?o:null}},Nvcy:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return b
})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return E}));var o=n("UxO+");const r=()=>(e,t)=>{const{code:o}=e.schema.marks,{empty:r,$cursor:i}=e.selection;if(!r||!i)return!1;const{storedMarks:a}=e.tr;if(o){const r=Object(n("lf5m").d)(e,o.create()),s=e.doc.rangeHasMark(i.pos,i.pos,o),c=e.doc.rangeHasMark(i.pos,i.pos+1,o),l=!(s||c||a&&!a.length),d=!s&&c&&(!a||!a.length);if(!r&&d)return t&&t(e.tr.addStoredMark(o.create())),!0;if(r&&l)return t&&t(e.tr.removeStoredMark(o)),!0}return!1},i=()=>(e,t)=>{const{code:r}=e.schema.marks,{empty:i,$cursor:a}=e.selection;if(!i||!a)return!1;const{storedMarks:s}=e.tr;if(r){const i=r&&Object(n("lf5m").d)(e,r.create()),c=Object(n("lf5m").c)(e,a.pos),l=Object(n("lf5m").c)(e,a.pos-1),d=Object(n("lf5m").c)(e,a.pos-2),u=c&&!l&&Array.isArray(s),p=l&&!d&&(null===s||Array.isArray(s)&&!!s.length),h=(u&&Array.isArray(s)&&!s.length||!u&&null===s)&&!l&&d,f=!c&&l&&Array.isArray(s)&&!s.length;if(!i&&h){
const n=e.tr.setSelection(o.Selection.near(e.doc.resolve(a.pos-1)));return t&&t(n.removeStoredMark(r)),!0}if(!i&&f)return t&&t(e.tr.addStoredMark(r.create())),!0;if(i&&p){const n=e.tr.setSelection(o.Selection.near(e.doc.resolve(a.pos-1)));return t&&t(n.addStoredMark(r.create())),!0}const m=0===a.index(a.depth-1);if(i&&(u||!a.nodeBefore&&m))return t&&t(e.tr.removeStoredMark(r)),!0}return!1},a=()=>(e,t)=>{const{em:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o)(e,t)},s=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_ITALIC,attributes:{inputMethod:e}})(a()),c=()=>(e,t)=>{const{strike:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o)(e,t)},l=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_STRIKE,attributes:{inputMethod:e}})(c()),d=()=>(e,t)=>{
const{strong:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o)(e,t)},u=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_STRONG,attributes:{inputMethod:e}})(d()),p=()=>(e,t)=>{const{underline:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o)(e,t)},h=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_UNDERLINE,attributes:{inputMethod:e}})(p()),f=()=>(e,t)=>{const{subsup:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o,{type:"sup"})(e,t)},m=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_SUPER,attributes:{inputMethod:e}})(f()),g=()=>(e,t)=>{const{subsup:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o,{type:"sub"})(e,t)
},b=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_SUB,attributes:{inputMethod:e}})(g()),v=()=>(e,t)=>{const{code:o}=e.schema.marks;return!!o&&Object(n("+U5V").i)(o)(e,t)},y=({inputMethod:e})=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_CODE,attributes:{inputMethod:e}})(v()),E=(e,t,o)=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_CODE,attributes:{inputMethod:n("J5HJ").f.FORMATTING}})(((e,t,o)=>(r,i)=>{if(r.selection.empty){const{nodeBefore:a}=r.doc.resolve(e),{nodeAfter:s}=r.doc.resolve(t),c=a&&a.text&&a.text.endsWith("`"),l=s&&s.text&&s.text.startsWith("`");if(c&&l){let a=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(o));if(i){const o=r.schema.marks.code.create()
;a=Object(n("+U5V").a)(a.mapping.map(e-1),a.mapping.map(t+1),!1,o,a).setStoredMarks([o]),i(a)}return!0}}return!1})(e,t,o))},O7vh:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"p",(function(){return i})),n.d(t,"o",(function(){return a})),n.d(t,"s",(function(){return s})),n.d(t,"n",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"r",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"m",(function(){return w})),n.d(t,"j",(function(){return O}));var o=n("vOnD");const r=o.default.div.withConfig({componentId:"eeicfx-0"})`width:100%;height:100%;user-select:none;`,i=o.default.div.withConfig({componentId:"eeicfx-1"
})`width:100%;height:100%;display:flex;flex-direction:column;`,a=o.default.div.withConfig({componentId:"eeicfx-2"})`display:flex;align-items:center;justify-content:space-between;color:white;position:absolute;width:100%;bottom:10px;`,s=o.default.div.withConfig({componentId:"eeicfx-3"})`display:flex;width:35px;overflow:hidden;transition:width 0.3s;align-items:center;bottom:0px;left:43px;${e=>e.showSlider?"\n    &:hover,\n    &:active {\n      width: 150px;\n      transition: width 0.3s ease-out;\n    }\n  ":""}`,c=o.default.div.withConfig({componentId:"eeicfx-4"})`margin:0 20px 10px 20px;margin-bottom:44px;`,l=o.default.div.withConfig({componentId:"eeicfx-5"})`color:#a4b4cb;user-select:none;margin-right:10px;white-space:nowrap;`,d=o.default.div.withConfig({componentId:"eeicfx-6"})`width:100%;height:2px;transition-delay:1s;transition:all 0.1s;background-color:#5d646f;border-radius:5px;position:relative;`,u=o.default.div.withConfig({componentId:"eeicfx-7"
})`background-color:#3383ff;border-radius:inherit;height:inherit;position:absolute;top:0;max-width:100%;`,p=o.default.div.withConfig({componentId:"eeicfx-8"})`pointer-events:none;width:14px;height:14px;border-radius:100%;background-color:white;border:1px solid #666;position:absolute;right:0;top:50%;transform:translate(7px,-50%) scale(0);transition:all 0.1s;transition-delay:1s;&:hover .current-time-tooltip{opacity:1;}`,h=o.default.div.withConfig({componentId:"eeicfx-9"})`background-color:#aeb1b7;height:inherit;border-radius:inherit;width:0;`,f=o.default.div.withConfig({componentId:"eeicfx-10"})`display:flex;margin-left:10px;`,m=o.default.div.withConfig({componentId:"eeicfx-11"})`display:flex;align-items:center;margin-right:10px;color:${"#B3BAC5"};`,g=o.default.div.withConfig({componentId:"eeicfx-12"})`bottom:0;left:0;width:100%;height:auto;background:linear-gradient(to top,#0e1624,rgba(14,22,36,0));position:absolute;`,b=o.default.div.withConfig({componentId:"eeicfx-13"
})`position:relative;margin-right:13px;button{width:36px !important;color:${({isMuted:e})=>e?"#FF5630 !important;":""};}`,v=o.default.div.withConfig({componentId:"eeicfx-14"})`width:100%;margin-right:20px;`,y=o.default.div.withConfig({componentId:"eeicfx-15"})`width:29px;height:2px;position:absolute;top:10px;left:9px;z-index:2;background:${"#FF5630"};transform:rotate(32deg) translateY(10px);opacity:0;pointer-events:none;${e=>e.isMuted?"\n    opacity: 1;\n  ":""};`,E=o.default.div.withConfig({componentId:"eeicfx-16"})`position:absolute;user-select:none;top:-28px;background-color:#182c4c;color:#eff1f3;font-size:12px;padding:3px 7px;border-radius:3px;left:50%;transform:translateX(-50%);opacity:${e=>e.isDragging?"1":"0"};transition:opacity 0.3s;word-break:keep-all;`,w=o.default.div.withConfig({componentId:"eeicfx-17"
})`display:flex;align-items:center;height:22px;cursor:pointer;width:100%;&:hover ${d}{height:4px;transition:all 0.1s;}&:hover ${p}{transition:all 0.1s;transform:translate(7px,-50%) scale(1);}${d}{transition-delay:1s;${({showAsActive:e})=>e?"height: 4px;":""}}${p}{${({showAsActive:e})=>e?"transform: translate(7px, -50%) scale(1);":""}}`,O=o.default.div.withConfig({componentId:"eeicfx-18"})`position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;`},O8Sv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("cardPlugin")},OAdf:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("17x9"),d=n.n(l),u=n("UxO+"),p=n("pDqG"),h=n("JRPe");var f={
plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","typeAhead","typeAheadInsertItem","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","clipboard","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","list","typeAhead","typeAheadKeymap","typeAheadInputRule","date","dateKeymap","indentationKeymap","textColor","alignmentPlugin","listInputRule","listKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","tasksAndDecisionsKeyMap","expandKeymap","tableSelectionKeymap","tableKeymap","captionKeymap","selectionKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableDecorations","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","undoRedoKeyMap","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaKeymap","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","contextPanel","floatingToolbar","clearMarksOnChange","reactNodeView","history","undoRedoPlugin","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileDimensions","scrollGutterPlugin","analytics","findReplace","selection","avatarGroup","viewUpdateSubscription"],
nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","layoutSection","layoutColumn","inlineCard","blockCard","embedCard"],marks:["link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation","unsupportedMark","unsupportedNodeAttribute"]};function m(e){return function(t,n){return f[e].indexOf(t.name)-f[e].indexOf(n.name)}}class g extends u.Plugin{constructor(e,t={},o){const{transactionTracking:r={enabled:!1},uiTracking:i={enabled:!1}}=t;if(r.enabled&&e.state&&o){
const t=e.state.apply.bind(e.state);e.state.apply=(e,n,i,a)=>{if(!o.shouldTrackTransaction(r))return t(e,n,i,a);const{startMeasure:s,stopMeasure:c}=o.getMeasureHelpers(r),l=`\ud83e\udd89${this.key}::apply`;s(l);const d=t(e,n,i,a);return c(l),d}}if(i.enabled&&e.view){const t=e.view.bind(e);e.view=e=>{const o=`\ud83e\udd89${this.key}::view::update`,r=t(e);if(r.update){const e=r.update;r.update=(t,r)=>{Object(n("61k9").b)(o),e(t,r),Object(n("61k9").c)(o,(()=>{}))}}return r}}super(e)}static fromPlugin(e,t,n){return new g(e.spec,t,n)}}function b(e){const t=e.reduce(((e,t)=>(t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((n=>{e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e)),{});return e.reduce(((e,n)=>(n.pmPlugins&&e.pmPlugins.push(...n.pmPlugins(n.name?t[n.name]:void 0)),n.nodes&&e.nodes.push(...n.nodes()),n.marks&&e.marks.push(...n.marks()),n.contentComponent&&e.contentComponents.push(n.contentComponent),
n.primaryToolbarComponent&&e.primaryToolbarComponents.push(n.primaryToolbarComponent),n.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(n.secondaryToolbarComponent),n.onEditorViewStateUpdated&&e.onEditorViewStateUpdatedCallbacks.push({pluginName:n.name,callback:n.onEditorViewStateUpdated}),e)),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[],onEditorViewStateUpdatedCallbacks:[]})}const v={enabled:!1};function y(e){const{editorConfig:t,performanceTracking:n={},transactionTracker:o}=e,{uiTracking:r=v,transactionTracking:i=v}=n;const a=r.enabled||i.enabled?e=>g.fromPlugin(e,{uiTracking:r,transactionTracking:i},o):e=>e;return t.pmPlugins.sort(m("plugins")).map((({plugin:t})=>t({schema:e.schema,dispatch:e.dispatch,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,errorReporter:e.errorReporter,portalProviderAPI:e.portalProviderAPI,reactContext:e.reactContext,
dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags||{}}))).filter((e=>void 0!==e)).map(a)}var E=n("MEpN");function w(e){const t=function(e){const t=Object.keys(e),n=new Set(t.map((t=>e[t].group)));return t.forEach((t=>{const o=e[t];o.excludes&&(o.excludes=o.excludes.split(" ").filter((e=>n.has(e))).join(" "))})),e}(e.marks.sort(m("marks")).reduce(((e,t)=>(e[t.name]=t.mark,e)),{})),o=Object(n("T1Rc").b)(e.nodes.sort(m("nodes")).reduce(((e,t)=>(e[t.name]=t.node,e)),{}),t);return new E.Schema({nodes:o,marks:t})}const O=(e,t)=>{const o=Object(n("H1FK").a)(e,.25),r=Object(n("H1FK").a)(e,.75);if(void 0===o||void 0===r)return;return r+(r-o)*t},S="\ud83e\udd89 EditorView::state::apply",C="\ud83e\udd89 EditorView::updateState",T="\ud83e\udd89 EditorView::onEditorViewStateUpdated",x="\ud83e\udd89 ReactEditorView::onChange",k="\ud83e\udd89 ReactEditorView::dispatchTransaction",I=!1,A=100,N=()=>{};class M{constructor(){a()(this,"dispatchCallCounter",0),
a()(this,"measureMap",new Map),a()(this,"measureListeners",[]),a()(this,"bumpDispatchCounter",(e=>{const{enabled:t,samplingRate:n=A}=e;return t&&(this.dispatchCallCounter>=n&&(this.dispatchCallCounter=0),this.dispatchCallCounter++),this.dispatchCallCounter})),a()(this,"getMeasureHelpers",(e=>{const{usePerformanceMarks:t=I}=e;return this.shouldTrackTransaction(e)?{startMeasure:t?n("61k9").b:this.startMeasureSimple,stopMeasure:t?n("61k9").c:this.stopMeasureSimple}:{startMeasure:N,stopMeasure:N}})),a()(this,"startMeasureSimple",(e=>{Object(n("X0Cu").a)()&&this.measureMap.set(e,performance.now())})),a()(this,"stopMeasureSimple",((e,t)=>{if(!Object(n("X0Cu").a)())return;const o=this.measureMap.get(e);if(o){const r=Object(n("aMlB").a)(o);this.measureMap.delete(e),t&&t(r,o),this.measureListeners.forEach((t=>t({name:e,duration:r,startTime:o})))}}))}addMeasureListener(e){this.measureListeners.push(e)}removeMeasureListener(e){const t=this.measureListeners.indexOf(e)
;t>-1&&this.measureListeners.splice(t,1)}shouldTrackTransaction(e){const{enabled:t,samplingRate:n=A}=e;return t&&this.dispatchCallCounter===n}}class R{constructor(e){a()(this,"count",0),a()(this,"pluginNames",[]),a()(this,"nodes",{}),a()(this,"extensionNodes",{}),a()(this,"nodesDuration",0),a()(this,"plugins",{}),a()(this,"slowPlugins",{}),a()(this,"options",{samplingRate:100,slowThreshold:300,outlierThreshold:30,outlierFactor:3}),a()(this,"isChild",(e=>e.startTime>=this.entry.startTime&&e.startTime+e.duration<=this.entry.startTime+this.entry.duration)),this.entry=e}static fromEntry(e){return new R(e)}getEntryByName(e,t){return e.getEntriesByName(t).find(this.isChild)}getMethodSum(e){return Object.values(e).reduce(((e,t)=>e+t),0)}greaterEquals(e,t){return"number"==typeof t&&e>=t}hasOutlierMethods(e,t){return this.greaterEquals(e.stateApply,t.stateApplyOutlier)||this.greaterEquals(e.viewUpdate,t.viewUpdateOutlier)}get trigger(){
return this.entry.duration>this.options.slowThreshold?"slow":this.hasSlowPlugins&&this.entry.duration>this.options.outlierThreshold?"distribution":this.count>0&&this.count%this.options.samplingRate==0?"sample":"none"}get hasSlowPlugins(){return Object.keys(this.slowPlugins).length>0}withEntryList(e){return this.entryList=e,this.stateApplied=this.getEntryByName(e,S),this.viewUpdated=this.getEntryByName(e,C),this.onChangeCalled=this.getEntryByName(e,x),this.onEditorViewStateUpdatedCalled=this.getEntryByName(e,T),this.withPlugins(this.pluginNames),this}withPlugins(e){const t={duration:0};if(this.pluginNames=e,this.plugins=e.reduce(((e,n)=>{const o=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::apply`)||t,r=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::view::update`)||t,i=this.entryList&&this.getEntryByName(this.entryList,`\ud83e\udd89${n}::onEditorViewStateUpdated`)||t;return e[n]={stateApply:o.duration,viewUpdate:r.duration,
onEditorViewStateUpdated:i.duration},e}),{}),this.stateApplied&&e.length>0){const e=Object.entries(this.plugins),t=O(e.map((([,{stateApply:e}])=>e)),this.options.outlierFactor),n=O(e.map((([,{viewUpdate:e}])=>e)),this.options.outlierFactor),o=this.options.outlierThreshold/e.length,i=([,e])=>this.getMethodSum(e)>o&&this.hasOutlierMethods(e,{stateApplyOutlier:t,viewUpdateOutlier:n});this.slowPlugins=e.filter(i).reduce(((e,[t,n])=>r()(r()({},e),{},{[t]:n})),{})}return this}withNodes(e,t=0){return this.nodes=e.nodeCount,this.extensionNodes=e.extensionNodeCount,this.nodesDuration=t,this}withCount(e){return this.count=e,this}withOptions(e){return Object.assign(this.options,e),this}toJSON(){return{trigger:this.trigger,duration:this.entry.duration,nodes:this.nodes,extensionNodes:this.extensionNodes,plugins:this.plugins,slowPlugins:this.slowPlugins,stepDurations:{stateApply:this.stateApplied?this.stateApplied.duration:0,viewUpdate:this.viewUpdated?this.viewUpdated.duration:0,
onChange:this.onChangeCalled?this.onChangeCalled.duration:0,onEditorViewStateUpdated:this.onEditorViewStateUpdatedCalled?this.onEditorViewStateUpdatedCalled.duration:0,countNodes:this.nodesDuration}}}}const j=[S,C,T,x,k];class P{constructor(){a()(this,"currentBatch",[]),a()(this,"pluginNameCache",new Set),a()(this,"setPluginNames",(e=>{this.pluginNameCache=new Set(e)})),a()(this,"setOnObservation",(e=>{this.observationCallback=e})),a()(this,"createPerformanceEntry",(e=>({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration,toJSON:()=>JSON.stringify({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration})}))),a()(this,"convertToEntryList",(e=>({getEntries:()=>e,getEntriesByName:(t,n)=>e.filter((e=>e.name===t)),getEntriesByType:t=>e}))),a()(this,"observed",(e=>{const{name:t}=e;if(t.startsWith("\ud83e\udd89")){var n;const o=(null===(n=t.split(":")[0])||void 0===n?void 0:n.split("\ud83e\udd89")[1])||"",r=this.pluginNameCache.has(o),i=j.includes(t);0,
(r||i)&&this.currentBatch.push(this.createPerformanceEntry(e))}if(t===k){if(this.observationCallback){const e=this.convertToEntryList([...this.currentBatch]);this.observationCallback(e)}this.currentBatch=[]}}))}}class D{constructor(e){a()(this,"getNodeCounts",(()=>[{nodeCount:{},extensionNodeCount:{}},0])),a()(this,"getPlugins",(()=>[])),a()(this,"getOptions",(()=>({}))),a()(this,"reportCount",0),a()(this,"simpleObserver",new P),a()(this,"onObserveration",(e=>{e.getEntriesByName(k).map((t=>R.fromEntry(t).withCount(++this.reportCount).withEntryList(e).withNodes(...this.getNodeCounts()).withPlugins(this.getPlugins()).withOptions(this.getOptions()).toJSON())).filter((e=>"none"!==e.trigger)).forEach((e=>this.callback(e)))})),this.callback=e,this.observer=window.PerformanceObserver?new PerformanceObserver(this.onObserveration):{observe(){},disconnect(){},takeRecords:()=>[]}}get isSimpleTracking(){const{usePerformanceMarks:e=!1}=this.getOptions();return!e}withNodeCounts(e){
return this.getNodeCounts=()=>{const t=performance.now();return[e(),performance.now()-t]},this}withPlugins(e){return this.getPlugins=e,this}withOptions(e){return this.getOptions=e,this}withTransactionTracker(e){return this.getTransactionTracker=e,this}observe(){if(this.isSimpleTracking)this.simpleObserver.setPluginNames(this.getPlugins()),this.simpleObserver.setOnObservation((e=>{this.onObserveration(e,this.observer)})),this.getTransactionTracker&&this.getTransactionTracker().addMeasureListener(this.simpleObserver.observed);else try{this.observer.observe({buffered:!1,type:"measure"})}catch(e){this.observer.observe({entryTypes:["measure"]})}}disconnect(){this.isSimpleTracking?this.getTransactionTracker&&this.getTransactionTracker().removeMeasureListener(this.simpleObserver.observed):this.observer.disconnect()}takeRecords(){return this.observer.takeRecords()}}function L(e){if(!e.hasFocus())return window.setTimeout((()=>{e.focus()}),0)}const _=[];class B extends c.a.Component{
get transactionTracking(){var e,t;return null!==(e=null===(t=this.props.editorProps.performanceTracking)||void 0===t?void 0:t.transactionTracking)&&void 0!==e?e:{enabled:!1}}getPluginNames(){return this.editorState.plugins.map((e=>e.key))}countNodes(){return Object(n("Cepr").a)(this.editorState)}constructor(e,t){super(e,t),a()(this,"canDispatchTransactions",!0),a()(this,"onPluginObservation",((e,t)=>{this.dispatchAnalyticsEvent({action:n("J5HJ").a.TRANSACTION_DISPATCHED,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{report:e,participants:Object(n("EjDT").a)(t)}})})),a()(this,"formatFullWidthAppearance",(e=>"full-width"===e?n("xLu2").b.FULL_WIDTH:n("xLu2").b.FIXED_WIDTH)),a()(this,"reconfigureState",(e=>{if(!this.view)return;this.view.dom instanceof HTMLElement&&this.view.hasFocus()&&this.view.dom.blur(),this.config=b(this.getPlugins(e.editorProps,this.props.editorProps,this.props.createAnalyticsEvent));const t=this.editorState,o=y({schema:t.schema,
dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:()=>this.context,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,performanceTracking:e.editorProps.performanceTracking,transactionTracker:this.transactionTracker,featureFlags:Object(n("6QRn").a)(e.editorProps)}),i=t.reconfigure({plugins:o});return this.view.updateState(i),this.view.update(r()(r()({},this.view.props),{},{state:i}))})),a()(this,"handleAnalyticsEvent",(e=>{this.props.allowAnalyticsGASV3&&Object(n("0F7/").a)(this.props.createAnalyticsEvent)(e)})),a()(this,"createEditorState",(e=>{if(this.view)return console.warn("The editor does not support changing the schema dynamically."),this.editorState;this.config=b(this.getPlugins(e.props.editorProps,void 0,e.props.createAnalyticsEvent));const t=w(this.config),{contentTransformerProvider:o,defaultValue:r}=e.props.editorProps,i=y({
schema:t,dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:this.props.portalProviderAPI,reactContext:()=>e.context,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,performanceTracking:this.props.editorProps.performanceTracking,transactionTracker:this.transactionTracker,featureFlags:this.featureFlags});let a,s;this.contentTransformer=o?o(t):void 0,e.replaceDoc&&(a=Object(n("x+VZ").m)(t,r,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent,this.contentTransformer,this.dispatchAnalyticsEvent)),a&&(s=Object(n("9TOn").a)(e.props.editorProps.appearance)?u.Selection.atStart(a):u.Selection.atEnd(a));const c=s&&u.Selection.findFrom(s.$head,-1,!0)||void 0;return u.EditorState.create({schema:t,plugins:i,doc:a,selection:c})})),a()(this,"onEditorViewStateUpdated",(({originalTransaction:e,transactions:t,oldEditorState:o,newEditorState:r})=>{
const{enabled:i}=this.transactionTracking;this.config.onEditorViewStateUpdatedCallbacks.forEach((a=>{i&&Object(n("61k9").b)(`\ud83e\udd89 ${a.pluginName}::onEditorViewStateUpdated`),a.callback({originalTransaction:e,transactions:t,oldEditorState:o,newEditorState:r}),i&&Object(n("61k9").c)(`\ud83e\udd89 ${a.pluginName}::onEditorViewStateUpdated`)}))})),a()(this,"trackValidTransactions",(()=>{const{editorProps:e}=this.props;if(null!=e&&e.trackValidTransactions){this.validTransactionCount++;const t="object"==typeof e.trackValidTransactions&&e.trackValidTransactions.samplingRate||100;this.validTransactionCount>=t&&(this.dispatchAnalyticsEvent({action:n("J5HJ").a.DISPATCHED_VALID_TRANSACTION,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL}),this.validTransactionCount=0)}})),a()(this,"dispatchTransaction",(e=>{if(!this.view)return;this.transactionTracker.bumpDispatchCounter(this.transactionTracking)
;const{startMeasure:t,stopMeasure:o}=this.transactionTracker.getMeasureHelpers(this.transactionTracking);t(k);const r=Object(n("Dc6L").b)(e);if(Object(n("Dc6L").i)(r)){const r=this.view.state;t(S);const{state:i,transactions:a}=this.view.state.applyTransaction(e);if(o(S),this.trackValidTransactions(),i===r)return;if(t(C),this.view.updateState(i),o(C),t(T),this.onEditorViewStateUpdated({originalTransaction:e,transactions:a,oldEditorState:r,newEditorState:i}),o(T),this.props.editorProps.onChange&&e.docChanged){const r=e.getMeta("isRemote")?"remote":"local";t(x),this.props.editorProps.onChange(this.view,{source:r}),o(x,((e,t)=>{var o,r;!0===(null===(o=this.props.editorProps.performanceTracking)||void 0===o||null===(r=o.onChangeCallbackTracking)||void 0===r?void 0:r.enabled)&&this.dispatchAnalyticsEvent({action:n("J5HJ").a.ON_CHANGE_CALLBACK,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{duration:e,startTime:t}})}))}this.editorState=i}else{
const t=r.filter((e=>!Object(n("Dc6L").h)(e))).map((e=>Object(n("hmSr").a)(e,{compact:!0})));this.dispatchAnalyticsEvent({action:n("J5HJ").a.DISPATCHED_INVALID_TRANSACTION,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{analyticsEventPayloads:Object(n("SVcB").b)(e),invalidNodes:t}})}o(k)})),a()(this,"getDirectEditorProps",(e=>({state:e||this.editorState,dispatchTransaction:e=>{this.canDispatchTransactions&&this.dispatchTransaction(e)},editable:e=>!this.props.editorProps.disabled,attributes:{"data-gramm":"false"}}))),a()(this,"createEditorView",(e=>{Object(n("Xvyu").a)(n("lZxZ").a.PROSEMIRROR_RENDERED,((e,t)=>{var o,r,i,a;const s=null===(o=this.props.editorProps)||void 0===o||null===(r=o.performanceTracking)||void 0===r?void 0:r.proseMirrorRenderedTracking,c=void 0===s&&Object(n("dxwe").a)();var l
;(this.proseMirrorRenderedSeverity=c||null!=s&&s.trackSeverity?Object(n("rJZJ").h)(e,null!==(i=null==s?void 0:s.severityNormalThreshold)&&void 0!==i?i:2e3,null!==(a=null==s?void 0:s.severityDegradedThreshold)&&void 0!==a?a:3e3):void 0,this.view)&&this.dispatchAnalyticsEvent({action:n("J5HJ").a.PROSEMIRROR_RENDERED,actionSubject:n("J5HJ").b.EDITOR,attributes:{duration:e,startTime:t,nodes:Object(n("x+VZ").d)(this.view.state.doc),ttfb:Object(n("Nkwt").a)(),severity:this.proseMirrorRenderedSeverity,objectId:null===(l=Object(n("Wx28").b)(this.editorState))||void 0===l?void 0:l.objectId},eventType:n("J5HJ").e.OPERATIONAL})})),this.view=new p.c({mount:e},this.getDirectEditorProps())})),a()(this,"handleEditorViewRef",(e=>{if(!this.view&&e){this.createEditorView(e);const t=this.view;this.props.onEditorCreated({view:t,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer}),
this.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(this.focusTimeoutId=L(t)),this.forceUpdate()}else this.view&&!e&&(this.props.onEditorDestroyed({view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer}),this.view.destroy(),this.view=void 0)})),a()(this,"dispatchAnalyticsEvent",(e=>{if(this.props.allowAnalyticsGASV3&&this.eventDispatcher){Object(n("Dp3h").b)(this.eventDispatcher)(n("rJZJ").f,{payload:e})}})),a()(this,"editor",c.a.createElement("div",{className:H(),key:"ProseMirror",ref:this.handleEditorViewRef,"aria-label":"Main content area",role:"textbox"})),this.eventDispatcher=new(n("Dp3h").a),this.dispatch=Object(n("Dp3h").b)(this.eventDispatcher),this.errorReporter=function(e){const t=new(n("AG9f").a);return e&&(t.handler=e),t}(e.editorProps.errorReporterHandler),this.transactionTracker=new M,
this.pluginPerformanceObserver=new D((e=>this.onPluginObservation(e,this.editorState))).withPlugins((()=>this.getPluginNames())).withNodeCounts((()=>this.countNodes())).withOptions((()=>this.transactionTracking)).withTransactionTracker((()=>this.transactionTracker)),this.validTransactionCount=0,this.featureFlags=Object(n("6QRn").a)(this.props.editorProps);const o=this.featureFlags?function(e){return Object.keys(e).filter((t=>!0===e[t]))}(this.featureFlags):[];this.props.createAnalyticsEvent&&(this.props.createAnalyticsEvent.__queueAnalytics=this.featureFlags.queueAnalytics),this.eventDispatcher.on(n("rJZJ").f,this.handleAnalyticsEvent),this.editorState=this.createEditorState({props:e,context:t,replaceDoc:!0}),this.dispatchAnalyticsEvent({action:n("J5HJ").a.STARTED,actionSubject:n("J5HJ").b.EDITOR,attributes:{platform:n("xLu2").d.WEB,featureFlags:o},eventType:n("J5HJ").e.UI})}UNSAFE_componentWillReceiveProps(e){
if(e.createAnalyticsEvent&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent){const t=Object(n("6QRn").a)(e.editorProps);e.createAnalyticsEvent.__queueAnalytics=t.queueAnalytics}this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:t=>!e.editorProps.disabled}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=L(this.view)));const{appearance:t}=this.props.editorProps,{appearance:o}=e.editorProps;(function(e,t){var n,o,r,i;const a=null!==(n=null===(o=e.dangerouslyAppendPlugins)||void 0===o?void 0:o.__plugins)&&void 0!==n?n:_,s=null!==(r=null===(i=t.dangerouslyAppendPlugins)||void 0===i?void 0:i.__plugins)&&void 0!==r?r:_;return!(s.length===a.length&&!a.some((e=>s.some((t=>t.name===e.name&&t!==e)))))||["appearance","persistScrollGutter","UNSAFE_allowUndoRedoButtons","placeholder",..."mobile"===e.appearance?["featureFlags","quickInsert"]:[]].reduce(((n,o)=>n||e[o]!==t[o]),!1)
})(this.props.editorProps,e.editorProps)&&this.reconfigureState(e),o!==t&&("full-width"!==o&&"full-width"!==t||this.dispatchAnalyticsEvent({action:n("J5HJ").a.CHANGED_FULL_WIDTH_MODE,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(t),newMode:this.formatFullWidthAppearance(o)}})),this.transactionTracking.enabled||this.pluginPerformanceObserver.disconnect()}componentDidMount(){this.canDispatchTransactions=!0,this.transactionTracking.enabled&&this.pluginPerformanceObserver.observe()}componentWillUnmount(){if(this.canDispatchTransactions=!1,this.eventDispatcher.destroy(),clearTimeout(this.focusTimeoutId),this.pluginPerformanceObserver.disconnect(),this.view){const e=this.view.state;e.plugins.forEach((t=>{const n=t.getState(e);n&&n.destroy&&n.destroy()}))}this.eventDispatcher.off(n("rJZJ").f,this.handleAnalyticsEvent)}getPlugins(e,t,o){var r,i
;const a=null!==(r=null===(i=e.dangerouslyAppendPlugins)||void 0===i?void 0:i.__plugins)&&void 0!==r?r:[],s=Object(n("C4C2").a)(e,t,o);return a&&a.length>0&&s.push(...a),s}render(){var e,t;const o=null===(e=this.props.editorProps.performanceTracking)||void 0===e||null===(t=e.renderTracking)||void 0===t?void 0:t.reactEditorView,r=null==o?void 0:o.enabled,i=null==o?void 0:o.useShallow;return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(n("R5/3").a,{componentProps:this.props,action:n("J5HJ").a.RE_RENDERED,actionSubject:n("J5HJ").b.REACT_EDITOR_VIEW,handleAnalyticsEvent:this.handleAnalyticsEvent,useShallow:i}),this.props.render?this.props.render({editor:this.editor,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent}):this.editor)}}function H(){return n("j5wO").a.chrome?"ua-chrome":n("j5wO").a.ie?"ua-ie":n("j5wO").a.gecko?"ua-firefox":""}B.displayName="ReactEditorView",
a()(B,"contextTypes",{getAtlaskitAnalyticsEventHandlers:d.a.func,intl:h.intlShape})},OC6D:function(e,t,n){"use strict";function o(e){const{$head:t}=e.selection;for(let n=t.depth;n>0;n--)if("row"===t.node(n).type.spec.tableRole)return!0;return!1}function r(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}))},OIM2:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("vOnD");const a=n("7w+A").i.modal()+10,s=i.default.div.withConfig({componentId:"bfq9jv-0"})`position:fixed;top:0;left:0;bottom:0;right:0;z-index:${a};`;s.displayName="Blanket";const c=i.default.div.withConfig({componentId:"bfq9jv-1"})`position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);`;c.displayName="SpinnerWrapper";const l="none",d=!1;t.a=({blankedColor:e,invertSpinnerColor:t})=>r.a.createElement(s,{style:{backgroundColor:e||l}},r.a.createElement(c,null,r.a.createElement(n("6UK4").a,{size:"large",
appearance:t||d?"invert":"inherit"})))},OMp9:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0})
;var s=i(n("q1tI")),c=n("6ZoY"),l=a(n("75pU")),d={width:"auto",height:"auto"},u=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=l.default((function(e,t){return Math.round(e/t)*t})),h=l.default((function(e,t){return new RegExp(e,"i").test(t)})),f=l.default((function(e,t,n){void 0===n&&(n=0);var o=t.reduce((function(n,o,r){return Math.abs(o-e)<Math.abs(t[n]-e)?r:n}),0),r=Math.abs(t[o]-e);return 0===n||r<n?t[o]:e})),m=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),g=l.default((function(e){return"auto"===(e=e.toString())||m(e,"px")||m(e,"%")||m(e,"vh")||m(e,"vw")||m(e,"vmax")||m(e,"vmin")?e:e+"px"})),b=l.default((function(e,t,n,o,r){if(t&&"string"==typeof t&&m(t,"%")){var i=Number(t.replace("%",""))/100;t=e.width*i}if(n&&"string"==typeof n&&m(n,"%")){i=Number(n.replace("%",""))/100;n=e.height*i}if(o&&"string"==typeof o&&m(o,"%")){i=Number(o.replace("%",""))/100;o=e.width*i}if(r&&"string"==typeof r&&m(r,"%")){i=Number(r.replace("%",""))/100
;r=e.height*i}return{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===o?void 0:Number(o),minHeight:void 0===r?void 0:Number(r)}})),v=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],y="__resizable_base__",E=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{
x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var o=n[t];if(o instanceof HTMLElement&&o.classList.contains(y))return o}},enumerable:!0,configurable:!0}),
Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,o=this.resizable.offsetHeight,r=this.resizable.style.position;"relative"!==r&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:o,this.resizable.style.position=r}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&m(e.propsSize[t].toString(),"%")){if(m(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return g(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?g(t.width):n("width"),
height:t&&void 0!==t.height&&!this.state.isResizing?g(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var o={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,o},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",
t.classList?t.classList.add(y):t.className+=y,e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var o=n.offsetWidth+(this.parentLeft-this.resizableLeft),r=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<o?e:o,
t=t&&t<r?t:r}}else if("window"===this.props.bounds){if("undefined"!=typeof window){o=window.innerWidth-this.resizableLeft,r=window.innerHeight-this.resizableTop;e=e&&e<o?e:o,t=t&&t<r?t:r}}else if(this.props.bounds instanceof HTMLElement){o=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),r=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<o?e:o,t=t&&t<r?t:r}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,o=this.props.resizeRatio||1,r=this.state,i=r.direction,a=r.original,s=this.props,c=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,d=s.lockAspectRatioExtraWidth,u=a.width,p=a.height,f=l||0,m=d||0;return h("right",i)&&(u=a.width+(e-a.x)*o/n,c&&(p=(u-m)/this.ratio+f)),h("left",i)&&(u=a.width-(e-a.x)*o/n,c&&(p=(u-m)/this.ratio+f)),h("bottom",i)&&(p=a.height+(t-a.y)*o/n,c&&(u=(p-f)*this.ratio+m)),h("top",i)&&(p=a.height-(t-a.y)*o/n,c&&(u=(p-f)*this.ratio+m)),{newWidth:u,newHeight:p}
},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,o){var r=this.props,i=r.lockAspectRatio,a=r.lockAspectRatioExtraHeight,s=r.lockAspectRatioExtraWidth,c=void 0===o.width?10:o.width,l=void 0===n.width||n.width<0?e:n.width,d=void 0===o.height?10:o.height,p=void 0===n.height||n.height<0?t:n.height,h=a||0,f=s||0;if(i){var m=(d-h)*this.ratio+f,g=(p-h)*this.ratio+f,b=(c-f)/this.ratio+h,v=(l-f)/this.ratio+h,y=Math.max(c,m),E=Math.min(l,g),w=Math.max(d,b),O=Math.min(p,v);e=u(e,y,E),t=u(t,w,O)}else e=u(e,c,l),t=u(t,d,p);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var o=this.resizable.getBoundingClientRect(),r=o.left,i=o.top
;this.resizableLeft=r,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){var n=0,o=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,o=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,o=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:o,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",
direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,o=t.maxHeight,r=t.minWidth,i=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,c=this.state,l=c.direction,d=c.original,u=c.width,h=c.height,g=this.getParentSize(),v=b(g,n,o,r,i);n=v.maxWidth,o=v.maxHeight,r=v.minWidth,i=v.minHeight;var y=this.calculateNewSizeFromDirection(a,s),E=y.newHeight,w=y.newWidth,O=this.calculateNewMaxFromBoundary(n,o),S=this.calculateNewSizeFromAspectRatio(w,E,{width:O.maxWidth,height:O.maxHeight},{width:r,height:i});if(w=S.newWidth,E=S.newHeight,this.props.grid){var C=p(w,this.props.grid[0]),T=p(E,this.props.grid[1]),x=this.props.snapGap||0;w=0===x||Math.abs(C-w)<=x?C:w,E=0===x||Math.abs(T-E)<=x?T:E}this.props.snap&&this.props.snap.x&&(w=f(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(E=f(E,this.props.snap.y,this.props.snapGap))
;var k={width:w-d.width,height:E-d.height};if(u&&"string"==typeof u)if(m(u,"%"))w=w/g.width*100+"%";else if(m(u,"vw")){w=w/window.innerWidth*100+"vw"}else if(m(u,"vh")){w=w/window.innerHeight*100+"vh"}if(h&&"string"==typeof h)if(m(h,"%"))E=E/g.height*100+"%";else if(m(h,"vw")){E=E/window.innerWidth*100+"vw"}else if(m(h,"vh")){E=E/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(E,"height")}),this.props.onResize&&this.props.onResize(e,l,this.resizable,k)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,o=t.direction,r=t.original;if(n&&this.resizable){var i={width:this.size.width-r.width,height:this.size.height-r.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},
t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,o=t.handleStyles,r=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,l=t.handleComponent;if(!n)return null;var d=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(c.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:o&&o[t],className:r&&r[t]},l&&l[t]?l[t]:null):null}));return s.createElement("span",{className:a,style:i},d)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==v.indexOf(n)||(t[n]=e.props[n]),t}),{});return s.createElement("div",r({ref:function(t){t&&(e.resizable=t)},style:r({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:{
height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=E},ORa1:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var o=n("vN+2"),r=n.n(o),i=n("3tO9"),a=n.n(i);const s={setContextState:e=>({setState:t,getState:n})=>{t(a()(a()({},n()),{},{context:e}))},setEditorState:e=>({setState:t,getState:n})=>{t(a()(a()({},n()),{},{editor:e}))},
setReactionsState:e=>({setState:t,getState:n})=>{t(a()(a()({},n()),{},{reactions:e}))}},c={context:{issueAri:null,commentAri:null,projectType:null},editor:{contextIdentifier:null,mentionProvider:null,getEncodedMention:()=>"",activityProvider:null,mediaContext:null,sharedAtTimestamp:null,sharedValue:void 0,onEditorExpandedFailure:r.a,onEditorSaveFailure:r.a,onEditorClearSharedValues:r.a},reactions:{isActive:!1}},l=Object(n("0b8M").a)({name:"issue-comment",initialState:c,actions:s}),d=Object(n("dq9g").a)(l,{selector:e=>e.context}),u=Object(n("dq9g").a)(l,{selector:e=>e.editor}),p=Object(n("dq9g").a)(l,{selector:e=>e.reactions}),h=Object(n("dq9g").a)(l,{selector:null}),f=Object(n("UCyb").a)(l)},OS0S:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("TSYQ"),c=n.n(s),l=n("JRPe");class d extends i.PureComponent{render(){
const{id:e,title:t,className:o}=this.props;return a.a.createElement("div",{id:e,"data-category-id":e,className:c()(o)},a.a.createElement("div",{className:n("nc8v").c},Object(n("l4Cm").m)(t)?a.a.createElement(l.FormattedMessage,n("dBbw").a[t]):t))}}d.displayName="EmojiPickerCategoryHeading";class u extends i.PureComponent{render(){const{emojis:e,onSelected:t,onMouseMove:o,title:r,showDelete:i,onDelete:s}=this.props;return a.a.createElement("div",{className:n("nc8v").i},e.map((e=>{const{shortName:c,id:l}=e,d=l?`${l}-${r}`:`${c}-${r}`;return a.a.createElement("span",{className:n("nc8v").d,key:d},a.a.createElement(n("sVlj").a,{emoji:e,selectOnHover:!0,onSelected:t,onMouseMove:o,showDelete:i,onDelete:s,placeholderSize:24}))})))}}u.displayName="EmojiPickerEmojiRow";class p{constructor(e,t){this.props=e,this.height=t}}class h extends p{constructor(e){super(e,n("8ADI").a.emojiRowHeight),r()(this,"renderItem",(()=>a.a.createElement(u,this.props)))}}class f extends p{constructor(){
super({},n("8ADI").a.loadingRowHeight),r()(this,"renderItem",(()=>a.a.createElement("div",{className:n("nc8v").j},a.a.createElement("div",null,a.a.createElement(n("6UK4").a,{size:"medium"})))))}}class m extends p{constructor(e){super(e,n("8ADI").a.categoryHeadingHeight),r()(this,"renderItem",(()=>a.a.createElement(d,this.props)))}}const g=(e,t)=>{const{index:n,key:o,style:r}=t,i=e[n];return a.a.createElement("div",{style:r,key:o},i.renderItem(t))}},OdEI:function(e,t,n){"use strict";var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("pDqG"),s=n("lSNA"),c=n.n(s),l=n("q1tI"),d=n.n(l),u=n("JRPe"),p=n("vOnD"),h=n("5xi9");const f=p.default.span.withConfig({componentId:"sc-7793xn-0"})`opacity:${e=>e.placeholderStyle?.5:1};`;class m extends d.a.Component{constructor(e){super(e),c()(this,"handleClick",(e=>{e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}))}render(){const{text:e,color:t,localId:o,style:r,intl:{formatMessage:i}}=this.props,a=e||i(n("mIKu").a.placeholder)
;return d.a.createElement(f,{placeholderStyle:!e},d.a.createElement(h.a,{text:a,color:t,localId:o,style:r,onClick:this.handleClick}))}}m.displayName="StatusContainerView",c()(m,"displayName","StatusContainerView");const g=Object(u.injectIntl)(m);class b extends n("gVP2").a{createDomRef(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(n("KsUR").a)():super.createDomRef()}setDomAttrs(e,t){const{color:n,localId:o,style:r}=e.attrs;t.dataset.color=n,t.dataset.localId=o,t.dataset.style=r}render(e){const{options:t}=e,{text:o,color:r,localId:i,style:a}=this.node.attrs;return d.a.createElement(n("KsUR").b,{useInlineWrapper:t&&t.useInlineWrapper},d.a.createElement(g,{view:this.view,text:o,color:r,style:a,localId:i}),t&&t.allowZeroWidthSpaceAfter&&n("vNjH").a)}}function v(e,t,n){return(o,r,i)=>new b(o,r,i,e,t,{options:n}).init()}b.displayName="StatusNodeView";t.a=(e,t,o,s)=>new i.Plugin({state:{init:()=>({isNew:!1,showStatusPickerAt:null}),
apply(t,o,a){const s=t.getMeta(n("KwUl").a);if(s){const t=r()(r()({},o),s);return e(n("KwUl").a,t),t}if(t.docChanged&&o.showStatusPickerAt){const{pos:i,deleted:a}=t.mapping.mapResult(o.showStatusPickerAt),s=a?null:i,c=r()(r()({},o),{},{showStatusPickerAt:s});if(c.showStatusPickerAt!==o.showStatusPickerAt)return e(n("KwUl").a,c),c}if(t.selectionSet){const s=t.selection.from,c=t.doc.nodeAt(s);let l=null;if(c&&c.type===a.schema.nodes.status&&t.selection instanceof i.NodeSelection&&(l=s),l!==o.showStatusPickerAt){const t=r()(r()({},o),{},{isNew:!1,showStatusPickerAt:l});return e(n("KwUl").a,t),t}}return o}},filterTransaction:(e,t)=>{if(e.selectionSet&&!e.steps.length&&e.isGeneric&&e.selection instanceof i.TextSelection&&t.selection instanceof i.NodeSelection){const{isNew:o,showStatusPickerAt:r}=n("KwUl").a.getState(t),i=e.doc.nodeAt(e.selection.from);if(o&&r&&i&&i.type===t.schema.nodes.status)return!1}return!0},appendTransaction:(e,t,o)=>{let r=!1,i=o.tr;if(e.find((e=>e.selectionSet))){
let e=Object(n("GZmM").b)(t.selection),a=Object(n("GZmM").b)(o.selection);if(e&&(a&&e.localId!==a.localId||!a)&&Object(n("GZmM").a)(e)){const e=t.selection.from;i.delete(i.mapping.map(e),i.mapping.map(e+1)),r=!0}}return r?i:void 0},key:n("KwUl").a,props:{nodeViews:{status:v(t,o,s)},decorations(e){const{tr:t}=e,o=t.doc.nodeAt(t.selection.from);if(s&&s.allowZeroWidthSpaceAfter&&o&&o.type===e.schema.nodes.status){const o=()=>document.createTextNode(n("vNjH").a),r=a.a.widget(t.selection.from,o,{side:1,key:"#status-zero-width-char-decoration"}),{doc:i}=e;return a.b.create(i,[r])}return null}}})},OdZc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("analyticsPlugin")},OqP8:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var o=n("q1tI"),r=n.n(o),i=n("vOnD"),a=n("lSNA"),s=n.n(a),c=n("JRPe");const l=Object(c.defineMessages)({story:{id:"fabric.editor.story",defaultMessage:"Story",description:"Alt text for Story"},epic:{
id:"fabric.editor.epic",defaultMessage:"Epic",description:"Alt text for Epic"},task:{id:"fabric.editor.task",defaultMessage:"Task",description:"Alt text for Task"},bug:{id:"fabric.editor.bug",defaultMessage:"Bug",description:"Alt text for Bug"},subTask:{id:"fabric.editor.subTask",defaultMessage:"Sub-task",description:"Alt text for Sub-task"},improvement:{id:"fabric.editor.improvement",defaultMessage:"Improvement",description:"Alt text for Improvement"},defaultAltText:{id:"fabric.editor.defaultAltText",defaultMessage:"List item",description:"Default alt text for ListItem image"}}),d=(e,t)=>{let n=t.formatMessage(l.defaultAltText);return e.includes("story.svg")&&(n=t.formatMessage(l.story)),e.includes("epic.svg")&&(n=t.formatMessage(l.epic)),e.includes("avatarId=10318")&&(n=t.formatMessage(l.task)),e.includes("avatarId=10303")&&(n=t.formatMessage(l.bug)),e.includes("avatarId=10518")&&(n=t.formatMessage(l.subTask)),e.includes("avatarId=10310")&&(n=t.formatMessage(l.improvement)),n
},u=i.default.li.withConfig({componentId:"sc-1e66hoz-0"})`background-color:${e=>e.selected?"#F4F5F7":"transparent"};padding:8px 12px;cursor:pointer;display:flex;margin-top:0;`,p=i.default.span.withConfig({componentId:"sc-1e66hoz-1"})`overflow:hidden;`,h=i.default.div.withConfig({componentId:"sc-1e66hoz-2"})`color:${"#172B4D"};overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:20px;`,f=i.default.div.withConfig({componentId:"sc-1e66hoz-3"})`color:${"#7A869A"};line-height:14px;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSizeSmall)())};`,m=i.default.span.withConfig({componentId:"sc-1e66hoz-4"})`min-width:16px;margin-top:3px;margin-right:12px;img{max-width:16px;}`;class g extends r.a.PureComponent{constructor(...e){super(...e),s()(this,"handleSelect",(e=>{e.preventDefault();const{item:t,onSelect:n}=this.props;n(t.url,t.name)})),s()(this,"handleMouseMove",(()=>{const{onMouseMove:e,item:t}=this.props;e&&e(t.objectId)})),s()(this,"handleMouseEnter",(()=>{
const{onMouseEnter:e,item:t}=this.props;e&&e(t.objectId)})),s()(this,"handleMouseLeave",(()=>{const{onMouseLeave:e,item:t}=this.props;e&&e(t.objectId)}))}renderIcon(){const{item:{icon:e,iconUrl:t},intl:n}=this.props;return e?r.a.createElement(m,null,e):t?r.a.createElement(m,null,r.a.createElement("img",{src:t,alt:d(t,n)})):null}renderWithSpaces(e,t,n=""){return r.a.createElement(r.a.Fragment,null,"\xa0 \u2022",r.a.createElement("span",{className:"link-search-timestamp","data-test-id":"link-search-timestamp"},"\xa0 ",e," ",t," ",n))}renderAbsoluteOrRelativeDate(e,t){const{intl:o}=this.props;let r="";switch(t){case"updated":r=o.formatMessage(n("yYBl").a.timeUpdated);break;case"viewed":r=o.formatMessage(n("yYBl").a.timeViewed)}return Object(n("gXqy").a)(e,Date.now())<-7?this.renderWithSpaces(r,Object(n("sWYD").a)(e,"MMMM dd, yyyy")):this.renderWithSpaces(r,Object(n("FVam").a)(e,Date.now()),o.formatMessage(n("yYBl").a.timeAgo))}renderTimeStamp(){
const{lastUpdatedDate:e,lastViewedDate:t}=this.props.item;return t?this.renderAbsoluteOrRelativeDate(t,"viewed"):e?this.renderAbsoluteOrRelativeDate(e,"updated"):void 0}render(){const{item:e,selected:t}=this.props;return r.a.createElement(u,{"data-testid":"link-search-list-item",selected:t,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleSelect},this.renderIcon(),r.a.createElement(p,null,r.a.createElement(h,null,e.name),r.a.createElement(f,null,e.container,this.renderTimeStamp())))}}g.displayName="LinkSearchListItem";var b=Object(c.injectIntl)(g);const v=i.default.div.withConfig({componentId:"gdr5eq-0"})`padding-top:0;`,y=i.default.div.withConfig({componentId:"gdr5eq-1"})`text-align:center;min-height:80px;margin-top:30px;`,E=i.default.ul.withConfig({componentId:"gdr5eq-2"})`padding:0;list-style:none;`;class w extends o.PureComponent{render(){
const{onSelect:e,onMouseMove:t,onMouseEnter:o,onMouseLeave:i,items:a,selectedIndex:s,isLoading:c,ariaControls:l}=this.props;let d,u;return a&&a.length>0&&(d=r.a.createElement(E,{"aria-controls":l},a.map(((n,a)=>r.a.createElement(b,{item:n,selected:s===a,onMouseMove:t,onMouseEnter:o,onMouseLeave:i,onSelect:e,key:n.objectId}))))),c&&(u=r.a.createElement(y,null,r.a.createElement(n("6UK4").a,{size:"medium"}))),r.a.createElement(v,null,d,u)}}w.displayName="LinkSearchList"},P8UZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var o=n("mG1W"),r=n("MEpN");const i=(e,t)=>{const{expand:n,nestedExpand:r}=e.schema.nodes;return Object(o.findSelectedNodeOfType)([n,r])(t||e.selection)||Object(o.findParentNodeOfType)([n,r])(t||e.selection)
},a=(e,t)=>e.openStart>1&&e.openEnd>1&&1===e.content.childCount&&e.content.firstChild&&e.content.firstChild.type===t.nodes.expand?new r.Slice(e.content.firstChild.content,e.openStart-1,e.openEnd-1):e,s=(e,t)=>{const{expand:o,nestedExpand:i}=t.nodes,a=[];return Object(n("n8Jk").c)(e.content,(e=>{e.type===i?a.push(o.createChecked(e.attrs,e.content,e.marks)):a.push(e)})),new r.Slice(r.Fragment.fromArray(a),e.openStart,e.openEnd)}},PoaK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=["light","dark"];function r(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&o.includes(e.theme.mode))return e.theme}return{mode:"light"}}},"Q+CF":function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},
Q9gj:function(e){e.exports=JSON.parse('{"a":"@atlaskit/status","b":"0.11.0"}')},QDVM:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=()=>(e,t)=>(t&&t(e.tr.setMeta(n("89Qp").a,{isElementBrowserModalOpen:!0})),!0),r=()=>(e,t)=>(t&&t(e.tr.setMeta(n("89Qp").a,{isElementBrowserModalOpen:!1})),!0),i=e=>(t,o)=>{const r=e.action(((e,o={})=>Object(n("hSri").a)(e,o)(t,t.tr,t.selection.head)),t);return r&&o&&o(r),!0}},QN9l:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={hoveredColumns:[],hoveredRows:[],isInDanger:!1}},QNcB:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n("UxO+");const r=new o.PluginKey("editorDisabledPlugin");const{createPluginState:i,getPluginState:a}=Object(n("FJah").a)(r,(function(e,t){return t}));t.a=()=>({name:"editorDisabled",pmPlugins:()=>[{name:"editorDisabled",plugin:({dispatch:e})=>function(e){return new o.Plugin({key:r,state:i(e,{
editorDisabled:!1}),view:()=>({update(e){if(a(e.state).editorDisabled!==!e.editable){const t=e.state.tr.setMeta(r,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}})})}(e)}]})},QOY8:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);t.a=e=>r.a.createElement(n("MJMf").a,{appear:!0},e.children)},"QZW+":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s);const l="media-card-inline-player";class d extends s.Component{constructor(...e){super(...e),a()(this,"state",{}),a()(this,"setFileSrc",(e=>{this.setState({fileSrc:e})})),a()(this,"setBinaryURL",(async()=>{const{mediaClient:e,identifier:t,onError:n}=this.props,{id:o,collectionName:r}=t;try{const t=await e.file.getFileBinaryURL(o,r);this.setFileSrc(t)}catch(i){n&&n(i)}})),a()(this,"unsubscribe",(()=>{this.subscription&&this.subscription.unsubscribe()})),a()(this,"revoke",(()=>{const{fileSrc:e}=this.state
;e&&URL.revokeObjectURL(e)})),a()(this,"onDownloadClick",(()=>{const{mediaClient:e,identifier:t}=this.props,{id:n,collectionName:o}=t;e.file.downloadBinary(n,void 0,o)})),a()(this,"onFirstPlay",(()=>{const{identifier:e}=this.props;n("/nbe").a.emit("media-viewed",{fileId:e.id,viewingLevel:"full"})}))}componentDidMount(){const{mediaClient:e,identifier:t}=this.props,{id:n,collectionName:o}=t;this.revoke(),this.unsubscribe(),this.subscription=e.file.getFileState(n,{collectionName:o}).subscribe({next:async t=>{const{fileSrc:n}=this.state;if(!n){if("error"!==t.status&&t.preview){const{value:e}=await t.preview;if(e instanceof Blob&&0===e.type.indexOf("video/")){const t=URL.createObjectURL(e);return void this.setFileSrc(t)}}if("processed"===t.status||"processing"===t.status){const n=(e=>{if("processed"===e.status||"processing"===e.status){const{artifacts:t}=e;if(!t)return;return t["video_1280.mp4"]?"video_1280.mp4":t["video_640.mp4"]?"video_640.mp4":void 0}})(t),{artifacts:i}=t
;if(!n||!i)return void this.setBinaryURL();try{const t=await e.file.getArtifactURL(i,n,o);this.setFileSrc(t)}catch(r){const{onError:e}=this.props;e&&e(r)}}}}})}componentWillUnmount(){this.unsubscribe(),this.revoke()}render(){const{onClick:e,dimensions:t,originalDimensions:o,selected:r,testId:i,identifier:a,forwardRef:s}=this.props,{fileSrc:d}=this.state;return d?c.a.createElement(n("R9r8").a,{className:l,"data-testid":i||"media-card-inline-player",selected:r,onClick:e,innerRef:s||void 0,dimensions:t},c.a.createElement(n("eydt").a,null,(e=>c.a.createElement(n("wVC1").a,{type:"video",src:d,fileId:a.id,isAutoPlay:!0,isHDAvailable:!1,onDownloadClick:this.onDownloadClick,onFirstPlay:this.onFirstPlay,lastWatchTimeConfig:{contentId:a.id},originalDimensions:o,showControls:e})))):c.a.createElement(n("2euv").a,{testId:i,dimensions:t})}}d.displayName="InlinePlayerBase",a()(d,"defaultProps",{dimensions:n("NdM7").a});const u=c.a.forwardRef(((e,t)=>c.a.createElement(d,r()({},e,{forwardRef:t}))))},
Qcls:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994zM4.667 3C3.747 3 3 3.746 3 4.667v6.666C3 12.253 3.746 13 4.667 13h6.666c.92 0 1.667-.746 1.667-1.667V4.667C13 3.747 12.254 3 11.333 3H4.667zM5 5v6h6V5H5z"/></svg>'},e,{size:"small"}));i.displayName="Task16Icon";var a=i;t.default=a},Qesr:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e[e.UPDATE_INLINE_COMMENT_STATE=0]="UPDATE_INLINE_COMMENT_STATE",e[e.SET_INLINE_COMMENT_DRAFT_STATE=1]="SET_INLINE_COMMENT_DRAFT_STATE",
e[e.INLINE_COMMENT_UPDATE_MOUSE_STATE=2]="INLINE_COMMENT_UPDATE_MOUSE_STATE",e[e.INLINE_COMMENT_CLEAR_DIRTY_MARK=3]="INLINE_COMMENT_CLEAR_DIRTY_MARK",e[e.ADD_INLINE_COMMENT=4]="ADD_INLINE_COMMENT",e[e.INLINE_COMMENT_SET_VISIBLE=5]="INLINE_COMMENT_SET_VISIBLE",e[e.CLOSE_COMPONENT=6]="CLOSE_COMPONENT"}(o||(o={}))},Qi0S:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"b",(function(){return m}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");function a(e){return t=>{const n=t.doc.nodeAt(e);return!!n&&n.isText}}function s(e){return t=>{const n=t.doc.nodeAt(e);return!!n&&t.schema.marks.link.isInSet(n.marks)}}function c(e,t,o,i){return(a,s)=>{const c=a.doc.resolve(o),l=a.doc.nodeAt(o);if(!l)return!1
;const d=Object(n("CHQz").g)(e),u=a.schema.marks.link.isInSet(l.marks),p=a.schema.marks.link,h=i&&o!==i?i:o-c.textOffset+l.nodeSize,f=a.tr;if(!d&&t)f.removeMark(o,h,p),f.insertText(t,o,h);else{if(!d)return!1;{f.insertText(t,o,h);const e=r()(r()({},u&&u.attrs||{}),{},{href:d});f.addMark(o,o+t.length,p.create(e)),f.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR})}}return s&&s(f),!0}}function l(e,t,o,r,s,c){return(l,d)=>{const u=l.schema.marks.link,{tr:p}=l;if(o.trim()){const h=Object(n("CHQz").g)(o),f=n("E3sl").e.getState(l).activeText;let m=t;const g=s||r||o;return s&&s===f||(p.insertText(g,e,t),m=a(e)(l)?e+g.length:e+g.length+1),p.addMark(e,m,u.create({href:h})),p.setSelection(i.Selection.near(p.doc.resolve(m))),s&&s!==o||Object(n("X6Aa").e)(l,p,c,!1),p.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR}),d&&d(p),!0}return p.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR}),d&&d(p),!1}}
const d=(e,t,o,r,i,a,s=!1)=>!s||i||a?Object(n("SVcB").c)(Object(n("N1l4").a)(e,r))(l(t,o,r,i,a,e)):l(t,o,r,i,a,e),u=(e,t,o,r,i,a)=>Object(n("SVcB").c)(Object(n("N1l4").a)(e,r))(l(t,o,r,i,a,e));function p(e){return function(e,t,o,i){return Object(n("+U5V").b)(a(t),((a,s)=>{const c=a.doc.resolve(t),l=a.doc.nodeAt(t),d=a.schema.marks.link,u=d.isInSet(l.marks),p=Object(n("CHQz").g)(e);if(u&&u.attrs.href===p)return!1;const h=o&&t!==o?o:t-c.textOffset+l.nodeSize,f=a.tr.removeMark(t,h,d);return e.trim()?f.addMark(t,h,d.create(r()(r()({},u&&u.attrs||{}),{},{href:p}))):Object(n("SVcB").a)(a,f,Object(n("WzQf").c)(n("J5HJ").c.HYPERLINK)),i||f.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR}),s&&s(f),!0}))}("",e)}function h(){return(e,t)=>(t&&t(Object(n("SVcB").a)(e,e.tr.setMeta(n("E3sl").e,{type:n("E3sl").b.EDIT_INSERTED_TOOLBAR,inputMethod:n("J5HJ").f.FLOATING_TB}),Object(n("WzQf").a)(n("J5HJ").c.HYPERLINK))),!0)}function f(e=n("J5HJ").f.TOOLBAR){return function(t,o){if(o){
let r=t.tr.setMeta(n("E3sl").e,{type:n("E3sl").b.SHOW_INSERT_TOOLBAR,inputMethod:e});r=Object(n("SVcB").a)(t,r,{action:n("J5HJ").a.INVOKED,actionSubject:n("J5HJ").b.TYPEAHEAD,actionSubjectId:n("J5HJ").c.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:n("J5HJ").e.UI}),o(r)}return!0}}function m(){return function(e,t){return t&&t(e.tr.setMeta(n("E3sl").e,{type:n("E3sl").b.HIDE_TOOLBAR})),!0}}},QjYF:function(e,t,n){"use strict";var o=n("AGgm").isSpace;e.exports=function(e,t){var n,r,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(n=e.pending.length-1,r=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<r&&o(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},"Qo0+":function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,
quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},Qxb4:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("pVnL"),c=n.n(s),l=n("JRPe"),d=n("vOnD");const u={[n("pBjI").b.SELF]:{background:Object(n("ku5o").a)({light:"#0052CC",dark:"#2684FF"}),border:"transparent",text:Object(n("ku5o").a)({light:"#F4F5F7",dark:"#1B2638"})},[n("pBjI").b.RESTRICTED]:{background:"transparent",border:Object(n("ku5o").a)({light:"#42526E",dark:"#455166"}),text:Object(n("ku5o").a)({light:"#42526E",dark:"#67758F"})},[n("pBjI").b.DEFAULT]:{background:Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.08)",
dark:"#455166"}),border:"transparent",text:Object(n("ku5o").a)({light:"#42526E",dark:"#DCE5F5"})}},p=(e,t)=>{const n=u[e.mentionType][t];return"string"==typeof n?n:n(e)},h=d.default.span.withConfig({componentId:"sc-1slocd4-0"})`${e=>`\n  display: inline;\n  background: ${p(e,"background")};\n  border: 1px solid ${p(e,"border")};\n  border-radius: 20px;\n  color: ${p(e,"text")};\n  cursor: pointer;\n  padding: 0 0.3em 2px 0.23em;\n  line-height: 1.714;\n  font-size: 1em;\n  font-weight: normal;\n  word-break: break-word;\n`};`;class f extends a.a.PureComponent{constructor(...e){super(...e),r()(this,"handleOnClick",(e=>{const{id:t,text:n,onClick:o}=this.props;o&&o(t,n,e)})),r()(this,"handleOnMouseEnter",(e=>{const{id:t,text:n,onMouseEnter:o,onHover:r}=this.props;o&&o(t,n,e),this.hoverTimeout=window.setTimeout((()=>{r&&r(),this.hoverTimeout=void 0}),1e3)})),r()(this,"handleOnMouseLeave",(e=>{const{id:t,text:n,onMouseLeave:o}=this.props;o&&o(t,n,e),
this.hoverTimeout&&clearTimeout(this.hoverTimeout)})),r()(this,"getMentionType",(()=>{const{accessLevel:e,isHighlighted:t}=this.props;return t?n("pBjI").b.SELF:Object(n("pBjI").g)(e)?n("pBjI").b.RESTRICTED:n("pBjI").b.DEFAULT}))}componentWillUnmount(){this.hoverTimeout&&clearTimeout(this.hoverTimeout)}renderUnknownUserError(e){return a.a.createElement(l.FormattedMessage,c()({},n("yCVS").a.unknownUserError,{values:{userId:e.slice(-5)}}),(e=>`@${e}`))}render(){const{handleOnClick:e,handleOnMouseEnter:t,handleOnMouseLeave:o,props:r}=this,{text:i,id:s,accessLevel:c}=r,l=this.getMentionType(),d="@_|unknown|_"===i,u=a.a.createElement(h,{mentionType:l,onClick:e,onMouseEnter:t,onMouseLeave:o},d?this.renderUnknownUserError(s):i||"@...");return a.a.createElement("span",{"data-mention-id":s,"data-access-level":c,spellCheck:!1},l===n("pBjI").b.RESTRICTED?a.a.createElement(n("RdrG").a,{name:i},u):u)}}f.displayName="MentionInternal";var m=Object(n("VHV8").a)({onClick:(e,t)=>{
const{id:o,text:r,accessLevel:i}=t;return Object(n("B1MP").g)(e)("mention","selected",r,o,i)},onHover:(e,t)=>{const{id:o,text:r,accessLevel:i}=t;return Object(n("B1MP").g)(e)("mention","hovered",r,o,i)}})(f);class g extends a.a.PureComponent{constructor(e){super(e),r()(this,"handleMentionProvider",(e=>{const{id:t,mentionProvider:o,text:r}=e;o?o.then((e=>{const o={isHighlighted:e.shouldHighlightMention({id:t})};if(!r&&Object(n("QYFD").d)(e)){const r=e.resolveMentionName(t);Object(n("pBjI").f)(r)?r.then((e=>{this.setStateSafely({resolvedMentionName:this.processName(e)})})):o.resolvedMentionName=this.processName(r)}this.setStateSafely(o)})).catch((()=>{this.setStateSafely({isHighlighted:!1})})):this.setStateSafely({isHighlighted:!1})})),this._isMounted=!1,this.state={isHighlighted:!1}}componentDidMount(){this.handleMentionProvider(this.props),this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}UNSAFE_componentWillReceiveProps(e){const{props:t}=this
;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)}setStateSafely(e){this._isMounted?this.setState(e):Object(n("79ku").a)("[ResourcedMention]: cannot setState when component is unmounted.")}processName(e){let t;switch(e.status){case n("pBjI").a.OK:t=e.name||"";break;case n("pBjI").a.SERVICE_ERROR:case n("pBjI").a.UNKNOWN:default:t="_|unknown|_"}return`@${t}`}render(){const{props:e,state:t}=this;return a.a.createElement(m,{id:e.id,text:e.text||t.resolvedMentionName||"",isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})}}g.displayName="ResourcedMention"},"R5/3":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("q1tI"),r=n.n(o);const i=Object.keys,a=(e,t)=>{const n=null!==e?i(e):[],o=null!==t?i(t):[],r=n.filter((e=>!o.includes(e)));return{added:o.filter((e=>!n.includes(e))),common:n.filter((e=>o.includes(e))),removed:r}},s=e=>{const t=typeof e
;return null===e?"null":void 0===e?"undefined":"string"===t||"number"===t?e:"symbol"===t?e.toString():"function"===t?`function:${e.name}`:"object"===t?{type:"object",keys:Object.keys(e)}:void 0},c=(e,t,n=0,o=2,i=[])=>{const{added:l,common:d,removed:u}=a(e,t),p=[];return d.forEach((a=>{const l=e[a],d=t[a],u=typeof l,h=typeof d;if(l!==d&&-1===i.indexOf(a))if(r.a.isValidElement(l)||r.a.isValidElement(d))p.push({key:a,reactElementChanged:!0});else if("object"===u&&"object"===h)if(n<=o){const e=c(l,d,n+1,o);p.push({key:a,difference:e})}else p.push({key:a,maxDepthReached:!0});else p.push({key:a,oldValue:s(l),newValue:s(d)})})),{added:l,changed:p,removed:u}};function l(e,t,r,i,s=[],l){const d=Object(o.useRef)(),u=Object(o.useRef)(0);Object(o.useEffect)((()=>{const o=d.current,p=u.current;if(o){let d=l?((e,t)=>{const{added:n,common:o,removed:r}=a(e,t);return{added:n,changed:o.filter((n=>e[n]!==t[n])),removed:r}})(o,e):c(o,e,0,2,s);i({payload:{action:t,actionSubject:r,attributes:{
propsDifference:d,count:p},eventType:n("J5HJ").e.OPERATIONAL}})}d.current=e,u.current=u.current+1}))}function d(e){return l(e.componentProps,e.action,e.actionSubject,e.handleAnalyticsEvent,e.propsToIgnore,e.useShallow),null}},R7Pf:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var o=n("3tO9"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("UxO+");var c=(e,t)=>{let n,o="",r="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",
r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(let a in i){const t=i[a];if(t.r.test(e)){o=t.s;break}}switch(/Windows/.test(o)&&(n=/Windows (.*)/.exec(o),r=n&&n[1],o="Windows"),o){case"Mac OS X":n=/Mac OS X (10[\.\_\d]+)/.exec(e),r=n&&n[1];break;case"Android":n=/Android ([\.\_\d]+)/.exec(e),r=n&&n[1];break;case"iOS":n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t),r=n&&n[1]+"."+n[2]+"."+(n[3]||0)}return`${o} ${r}`};var l=e=>{let t,n,o,r,i;return-1!==(r=e.indexOf("OPR/"))?(t="Opera",n=e.substring(r+4)):-1!==(r=e.indexOf("Opera"))?(t="Opera",
n=-1!==(r=e.indexOf("Version"))?e.substring(r+8):e.substring(r+6)):-1!==(r=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(r+5)):-1!==(r=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(r+7)):-1!==(r=e.indexOf("Safari"))?(t="Safari",n=-1!==(r=e.indexOf("Version"))?e.substring(r+8):e.substring(r+7)):-1!==(r=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(r+8)):(o=e.lastIndexOf(" ")+1)<(r=e.lastIndexOf("/"))?(t=e.substring(o,r),n=e.substring(r+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),`${t} ${n}`};var d=(e,t,n,o,r,i,a)=>new Promise((async(s,d)=>{window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:e=>{"function"==typeof e?s(e):d("Failed to initialize showCollectorDialog")},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",
customfield_11711:e||[],customfield_11712:`version: ${t}@${o} (${n})\n              Browser: ${l(navigator.userAgent)}\n              OS: ${c(navigator.userAgent,navigator.appVersion)}`},environment:{"Editor Package":t,"Editor Version":o,"Editor Core Version":n,sessionId:r,contentId:i,tabId:a},priority:"1",components:"15306"},window.jQuery.ajax({url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):d("jQuery is not defined")}));new s.PluginKey("feedbackDialogPlugin");let u,p,h;const f=async e=>new Promise((async(t,o)=>{const i=r()(r()(r()({},{product:"n/a",labels:[],packageName:"",packageVersion:"",sessionId:"",contentId:"",tabId:""
}),h),e),a=(e=>{const{product:t,packageName:n,packageVersion:o,labels:r}=e;return[t,n,o,...r||[]].join("|")})(i);if(!u||p!==a)try{u=await d([i.product,...i.labels],i.packageName,n("YBum").b,i.packageVersion,i.sessionId,i.contentId,i.tabId),p=a}catch(s){o(s)}t(window.setTimeout(u,0))}));t.a=e=>(h=e,{name:"feedbackDialog",pluginsOptions:{quickInsert:({formatMessage:t})=>[{id:"feedbackdialog",title:t(n("/DD6").a.feedbackDialog),description:t(n("/DD6").a.feedbackDialogDescription),priority:400,keywords:["bug"],icon:()=>a.a.createElement(n("Jzj3").h,null),action(t,o){const r=t("");return f(e),Object(n("SVcB").a)(o,r,{action:n("J5HJ").a.OPENED,actionSubject:n("J5HJ").b.FEEDBACK_DIALOG,attributes:{inputMethod:n("J5HJ").f.QUICK_INSERT},eventType:n("J5HJ").e.UI})}}]}})},R9r8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n("vOnD");const r=o.default.div.withConfig({componentId:"sc-1tc5sio-0"
})`${({dimensions:e,breakpointSize:t="medium",shouldUsePointerCursor:o})=>`\n      ${Object(n("W0fT").b)({breakpointSize:t})}\n      ${(e=>e&&e.height?`height: ${Object(n("HtLz").a)(e.height)}; max-height: 100%;`:"")(e)}\n      ${(e=>e&&e.width?`width: ${Object(n("HtLz").a)(e.width)}; max-width: 100%;`:"")(e)}\n      cursor: ${o?"pointer":"default"};\n    `};`;r.displayName="CardViewWrapper";const i=o.default.div.withConfig({componentId:"sc-1tc5sio-1"})`width:${e=>Object(n("FD6u").a)(e.dimensions).width||"100%"};height:${e=>Object(n("FD6u").a)(e.dimensions).height||"auto"};overflow:hidden;border-radius:${Object(n("ARg4").borderRadius)()}px;position:relative;max-width:100%;max-height:100%;${n("N5EJ").a} video{width:100%;height:100%;}`;i.displayName="InlinePlayerWrapper"},RB5l:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var o=n("UxO+"),r=n("3tO9"),i=n.n(r)
;const a=new o.PluginKey("mobileDimensions"),{createPluginState:s,getPluginState:c,createCommand:l}=Object(n("FJah").a)(a,(function(e,t){switch(t.type){case n("WXBT").a.SET_KEYBOARD_HEIGHT:return i()(i()({},e),{},{keyboardHeight:t.keyboardHeight});case n("WXBT").a.SET_WINDOW_HEIGHT:return i()(i()({},e),{},{windowHeight:t.windowHeight});case n("WXBT").a.SET_MOBILE_PADDING_TOP:return i()(i()({},e),{},{mobilePaddingTop:t.paddingTop})}return e}))},RE28:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("vOnD");const c=175,l=32,d=s.default.span.withConfig({componentId:"sc-1l8aq7y-0"})`display:flex;flex:1;padding:8px;`,u=s.default.div.withConfig({componentId:"sc-1l8aq7y-1"})`min-width:${c}px;`,p=Object(n("ARg4").gridSize)(),h=Object(n("ARg4").gridSize)()/2,f={borderRadius:0,beforeItemSpacing:{compact:h},padding:{compact:{bottom:p,left:p,right:p,top:p}},height:{compact:l}};class m extends i.Component{render(){
const{hide:e,dispatchCommand:t,items:o}=this.props;return a.a.createElement(s.ThemeProvider,{theme:{[n("t7+/").e]:f}},a.a.createElement(u,null,o.filter((e=>!e.hidden)).map(((o,r)=>{const i=a.a.createElement(n("oNmO").a,{key:r,isCompact:!0,elemBefore:this.renderSelected(o),onClick:()=>{t(o.onClick),e()},"data-testid":o.testId,isDisabled:o.disabled},o.title);return o.tooltip?a.a.createElement(n("Yto1").a,{key:r,content:o.tooltip},i):i}))))}renderSelected(e){const{selected:t}=e;if(void 0!==t)return t?a.a.createElement(n.n(n("q3rX")).a,{primaryColor:"#0052CC",size:"small",label:"test question"}):a.a.createElement(d,null)}}m.displayName="Dropdown";const g=s.default.span.withConfig({componentId:"p150fg-0"})`margin:0px -4px;`,b=s.default.div.withConfig({componentId:"p150fg-1"})`display:flex;`,v=({icon:e})=>a.a.createElement(b,null,e,a.a.createElement(g,null,a.a.createElement(n.n(n("1YpF")).a,{label:"Expand dropdown menu"})));class y extends i.Component{constructor(...e){super(...e),
r()(this,"state",{isOpen:!1}),r()(this,"renderArrayOptions",(e=>a.a.createElement(m,{hide:this.hide,dispatchCommand:this.props.dispatchCommand,items:e}))),r()(this,"toggleOpen",(()=>{this.setState({isOpen:!this.state.isOpen})})),r()(this,"hide",(()=>{this.setState({isOpen:!1})}))}render(){const{isOpen:e}=this.state,{title:t,icon:o,options:r,dispatchCommand:i,mountPoint:s,boundariesElement:d,scrollableElement:u,hideExpandIcon:p,disabled:f,tooltip:m,buttonTestId:b}=this.props;let y;if(o){const r=p?o:a.a.createElement(v,{icon:o});y=a.a.createElement(n("1vCU").a,{testId:b,title:t,icon:r,onClick:this.toggleOpen,selected:e,disabled:f,tooltipContent:m})}else y=a.a.createElement(n("1vCU").a,{testId:b,iconAfter:a.a.createElement(g,null,a.a.createElement(n.n(n("1YpF")).a,{label:"Expand dropdown menu"})),onClick:this.toggleOpen,selected:e,disabled:f,tooltipContent:m},t);const E=Array.isArray(r)?c:r.width,w=Array.isArray(r)?r.length*l+2*h:r.height;return a.a.createElement(n("pYeG").a,{mountTo:s,
boundariesElement:d,scrollableElement:u,isOpen:e,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:E+10,fitHeight:w+10,trigger:y},Array.isArray(r)?this.renderArrayOptions(r):r.render({hide:this.hide,dispatchCommand:i}))}}y.displayName="Dropdown"},RJFP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",
description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",
description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",
defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"
},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},customPanel:{id:"fabric.editor.customPanel",defaultMessage:"Custom panel",
description:"Visually distinguishes your panel by adding a emoji icon and background color"},customPanelDescription:{id:"fabric.editor.customPanel.description",defaultMessage:"Add a note with an emoji and colored background",description:"Visually distinguishes your panel by adding a emoji icon and background color "},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}})},RKh7:function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,a,s,c=t+1,l=e.md.block.ruler.getRules("paragraph"),d=e.lineMax;for(s=e.parentType,e.parentType="paragraph";c<d&&!e.isEmpty(c);c++)if(!(e.sCount[c]-e.blkIndent>3||e.sCount[c]<0)){for(o=!1,r=0,i=l.length;r<i;r++)if(l[r](e,c,d,!0)){o=!0;break}if(o)break}return n=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},RLN1:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));const o=(e,t,n)=>{for(let o=0;o<t.length;o++){const{$from:r,$to:i}=t[o];let a=0===r.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(r.pos,i.pos,(e=>{if(a)return!1;a=e.inlineContent&&e.type.allowsMarkType(n)})),a)return a}return!1},r=(e,t)=>!!t&&t.some((t=>t.type!==e&&t.type.excludes(e))),i=(e,t)=>{const{selection:n,schema:o}=e;let{tr:r}=e;const i=t.filter(Boolean);if(0===i.length)return;let a=!1;const s=e=>i.indexOf(e.type)>-1;return e.doc.nodesBetween(n.from,n.to,((t,n)=>{if(t.type===o.nodes.paragraph&&t.marks.some(s)){a=!0;const o=e.doc.resolve(n),i=t.marks.filter((e=>t=>!e(t))(s));r=r.setNodeMarkup(o.pos,void 0,t.attrs,i)}})),a?r:void 0},a=(e,t)=>{const{from:n,to:o}=e.selection,r=[];return e.doc.nodesBetween(n,o,((i,a,s)=>!i.isText&&(!(!["expand","layoutSection"].includes(i.type.name)||!(a<n||a>o))||void i.marks.forEach((n=>{
if(!s.type.allowsMarkType(n.type)||t&&!t.allowsMarkType(n.type)){const t=i.marks.filter((e=>e.type!==n.type)),o=a>0?a:0,s=i.marks.filter((e=>e.type===n.type));r.push({node:i,marksRemoved:s}),e.setNodeMarkup(o,void 0,i.attrs,t)}}))))),r}},RSEn:function(t,n,o){"use strict";o.d(n,"b",(function(){return T}));var r=o("3tO9"),i=o.n(r),a=o("q1tI"),s=o.n(a),c=o("UxO+"),l=o("vOnD"),d=o("JRPe");function u(e){return[{title:e.formatMessage(p.all),name:"all"},{title:e.formatMessage(p.formatting),name:"formatting"},{title:e.formatMessage(p["confluence-content"]),name:"confluence-content"},{title:e.formatMessage(p.media),name:"media"},{title:e.formatMessage(p.visuals),name:"visuals"},{title:e.formatMessage(p.navigation),name:"navigation"},{title:e.formatMessage(p["external-content"]),name:"external-content"},{title:e.formatMessage(p.communication),name:"communication"},{title:e.formatMessage(p.reporting),name:"reporting"},{title:e.formatMessage(p.admin),name:"admin"},{
title:e.formatMessage(p.development),name:"development"}]}const p=Object(d.defineMessages)({all:{id:"fabric.editor.elementbrowser.categorylist.category-all",defaultMessage:"All",description:"all"},formatting:{id:"fabric.editor.elementbrowser.categorylist.category-formatting",defaultMessage:"Formatting",description:"formatting"},"confluence-content":{id:"fabric.editor.elementbrowser.categorylist.category-confluence-content",defaultMessage:"Confluence content",description:"confluence-content"},media:{id:"fabric.editor.elementbrowser.categorylist.category-media",defaultMessage:"Media",description:"media"},visuals:{id:"fabric.editor.elementbrowser.categorylist.category-visuals",defaultMessage:"Visuals & images",description:"visuals"},navigation:{id:"fabric.editor.elementbrowser.categorylist.category-navigation",defaultMessage:"Navigation",description:"navigation"},"external-content":{id:"fabric.editor.elementbrowser.categorylist.category-external-content",defaultMessage:"External content",
description:"external-content"},communication:{id:"fabric.editor.elementbrowser.categorylist.category-communication",defaultMessage:"Communication",description:"communication"},reporting:{id:"fabric.editor.elementbrowser.categorylist.category-reporting",defaultMessage:"Reporting",description:"reporting"},admin:{id:"fabric.editor.elementbrowser.categorylist.category-admin",defaultMessage:"Administration",description:"admin"},development:{id:"fabric.editor.elementbrowser.categorylist.category-development",defaultMessage:"Development",description:"development"}}),h=Object(d.defineMessages)({help:{id:"fabric.editor.elementBrowser.help",defaultMessage:"Help",description:"Element browser help button label"}}),f=e=>{const[t,n]=Object(a.useState)(),{helpUrl:r,intl:i}=e,c=Object(a.useCallback)((e=>{n(e)}),[n]),l=Object(a.useCallback)((t=>{e.onInsertItem(t)}),[e]),d=Object(a.useCallback)((()=>s.a.createElement(g,{onInsert:()=>l(t),beforeElement:r?b(r,i.formatMessage(h.help)):void 0
})),[l,t,r,i]),p=Object(a.useCallback)((t=>{"Escape"===t.key&&e.onClose()}),[e]),f=Object(a.useCallback)((()=>s.a.createElement(E,null,s.a.createElement(o("Wi02").a,{categories:u(e.intl),getItems:e.getItems,showSearch:!0,showCategories:!0,mode:"full",onSelectItem:c,onInsertItem:l,emptyStateHandler:e.emptyStateHandler}))),[e.intl,e.getItems,c,l,e.emptyStateHandler]);return s.a.createElement("div",{"data-editor-popup":!0,onClick:m,onKeyDown:p},s.a.createElement(o("QOY8").a,null,e.isOpen&&s.a.createElement(o("8y89").a,{stackIndex:1,key:"element-browser-modal",onClose:e.onClose,height:"664px",width:"x-large",autoFocus:!1,shouldCloseOnEscapePress:!1},s.a.createElement(f,null),s.a.createElement(d,null))))};f.displayName="ModalElementBrowser";const m=e=>e.stopPropagation(),g=({onInsert:e,beforeElement:t})=>{const{onClose:n}=Object(o("ry7n").a)();return s.a.createElement(w,null,t||s.a.createElement("span",null),s.a.createElement(v,null,s.a.createElement(y,null,s.a.createElement(o("0+Gd").a,{
appearance:"primary",onClick:e,testId:"ModalElementBrowser__insert-button"},"Insert")),s.a.createElement(y,null,s.a.createElement(o("0+Gd").a,{appearance:"subtle",onClick:n,testId:"ModalElementBrowser__close-button"},"Close"))))},b=(e,t)=>s.a.createElement(o("0+Gd").a,{iconBefore:s.a.createElement(o.n(o("epF8")).a,{label:"help",size:"medium"}),appearance:"subtle-link",href:e,target:"_blank",testId:"ModalElementBrowser__help-button"},t),v=l.default.div.withConfig({componentId:"sc-86qna7-0"})`display:inline-flex;margin:0 -4px;`,y=l.default.div.withConfig({componentId:"sc-86qna7-1"})`flex:1 0 auto;margin:0 4px;`,E=l.default.div.withConfig({componentId:"sc-86qna7-2"})`display:flex;flex:1 1 auto;box-sizing:border-box;padding:${16}px ${16}px 0 10px;overflow:hidden;background-color:${Object(o("ku5o").a)({light:"#FFFFFF",dark:"#283447"})()};border-radius:${Object(o("ARg4").borderRadius)()}px;`,w=l.default.div.withConfig({componentId:"sc-86qna7-3"
})`display:flex;padding:${16}px;position:relative;align-items:center;justify-content:space-between;`;var O=Object(d.injectIntl)(f);const S=({quickInsertState:e,editorView:t,helpUrl:n})=>{const r=Object(a.useCallback)(((t,n)=>Object(o("dbDw").b)(e,{})(t,n)),[e]),i=Object(a.useCallback)((()=>{t.hasFocus()||t.focus()}),[t]),c=Object(a.useCallback)((e=>{Object(o("QDVM").a)()(t.state,t.dispatch),i(),Object(o("QDVM").b)(e)(t.state,t.dispatch)}),[t.dispatch,t.state,i]),l=Object(a.useCallback)((()=>{Object(o("QDVM").a)()(t.state,t.dispatch),i()}),[t.dispatch,t.state,i]);return s.a.createElement(O,{getItems:r,onInsertItem:c,helpUrl:n,isOpen:e&&e.isElementBrowserModalOpen||!1,emptyStateHandler:e&&e.emptyStateHandler,onClose:l})};var C=({editorView:e,helpUrl:t})=>{const n=Object(a.useCallback)((({quickInsertState:n})=>s.a.createElement(S,{quickInsertState:n,editorView:e,helpUrl:t})),[e,t]);return s.a.createElement(o("fd7e").a,{plugins:{quickInsertState:o("89Qp").a},render:n})};n.a=t=>({
name:"quickInsert",pmPlugins:n=>[{name:"quickInsert",plugin:({providerFactory:r,reactContext:a,dispatch:s})=>function(t,n,r,a,s){return new c.Plugin({key:o("89Qp").a,state:{init:()=>({isElementBrowserModalOpen:!1,emptyStateHandler:s,lazyDefaultItems:()=>T(t||[],r)}),apply(e,t){const n=e.getMeta(o("89Qp").a);if(n){if(Object.keys(n).some((e=>t[e]!==n[e]))){const e=i()(i()({},t),n);return a(o("89Qp").a,e),e}}return t}},view(t){const r=async(n,r)=>{if(r)try{const e=await r,n=await e.getItems();(e=>(t,n)=>(n&&n(t.tr.setMeta(o("89Qp").a,e)),!0))({provider:e,providedItems:n})(t.state,t.dispatch)}catch(e){console.error("Error getting items from quick insert provider",e)}};return n.subscribe("quickInsertProvider",r),{destroy(){n.unsubscribe("quickInsertProvider",r)}}}})}(n,r,a().intl,s,null==t?void 0:t.emptyStateHandler)}],pluginsOptions:{typeAhead:{id:o("FOo9").b.QUICK_INSERT,trigger:"/",headless:t?t.headless:void 0,getItems({query:e,editorState:n}){const r=o("89Qp").a.getState(n)
;return Promise.resolve(Object(o("dbDw").b)(r,t)(e))},selectItem:(e,t,n)=>t.action(n,e)}},contentComponent:({editorView:e})=>t&&t.enableElementBrowser?s.a.createElement(C,{editorView:e,helpUrl:t.elementBrowserHelpUrl}):null});const T=Object(o("2JGX").default)(((e,t,n)=>{const o=e.reduce(((e,n)=>{if("function"==typeof n){const o=n(t);return e.concat(o)}return e.concat(n)}),[]);return x(o,n)})),x=(e,t)=>t?e.map((e=>{const n=e.id;if(n&&t[n]){const o=e.action;e.action=(r,i)=>{const a=o(r,i);return t[n](e),a}}return e})):e},Rbo8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("VOS0");class r{constructor(e,t){this.min=e,this.max=t}get description(){return`length must be between ${this.min} and ${this.max}`}isValid(e){return!e||e.length>=this.min&&e.length<=this.max}}t.LengthConstraint=r;class i{constructor(e){this.regex=e}get description(){return`value must match regex ${this.regex.source}`}isValid(e){return!e||this.regex.test(e)}}t.RegexConstraint=i
;t.GeneralValidationError=class{constructor(e){this.error=e}toString(){return this.error}};class a{constructor(e,t,n){this.fieldName=e,this.value=t,this.constraints=n}toString(){const e=this.constraints.map((e=>`  - ${e.description}`)).join("\n");return`'${this.value}' is not a valid value for ${this.fieldName} as it violates the following constraints:\n${e}`}}t.ConstraintViolation=a,t.lengthBetween=function(e,t){return new r(e,t)},t.pattern=function(e){return new i(e)},t.validateField=function(e,t,n){const r=e[t],i=n.map((e=>e.isValid(r)?void 0:e)).filter(o.isDefined);return i.length>0?new a(t,r,i):void 0}},RdrG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("q1tI"),r=n.n(o);const i=({name:e,children:t})=>r.a.createElement(n("gyhK").b,{name:e},(e=>r.a.createElement(n("Yto1").a,{content:e,position:"right"},t)))},Rjvn:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),
n.d(t,"c",(function(){return s}));const o={default:n("9cwX").i,wide:n("9cwX").Z,"full-width":n("9cwX").s};function r(e,t=0,r){const{dynamicTextSizing:i,isFullWidthModeEnabled:a}=r;if(a)return t?Math.min(t-2*n("9cwX").u,n("9cwX").s):n("9cwX").s;const s=Object(n("9ehW").b)(e,t,!0);return s.endsWith("px")?parseInt(s,10):i&&"default"===e?function(e){return Object(n("2omN").b)(Object(n("dHUS").c)(e))}(t):o[e]||t}function i(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function a(e,t,{colspan:n,colwidth:o}){let r=o&&o[o.length-1];if(r)return r;let i=e.domAtPos(t+1).node.offsetWidth,a=n||0;if(o)for(let s=0;s<(n||0);s++)o[s]&&(i-=o[s],a--);return i/a}const s=({table:e,tableStart:t,state:o,layout:i,dynamicTextSizing:a})=>{const s=n("IXso").b.getState(o);let c=Object(n("ioPV").b)(t,o,s)||r(i,s.width,{dynamicTextSizing:a});return e.attrs.isNumberColumnEnabled&&(c-=n("9cwX").T),c}},Rl6m:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>t=>{
const o=Object(n("zYPQ").c)(t);if(!o)return;const r=n("wYWE").b.get(o.node);return(Array.isArray(e)?e:[e]).filter((e=>e>=0&&e<=r.height-1)).reduce(((e,t)=>{const n=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(n.map((e=>{const t=o.node.nodeAt(e),n=e+o.start;return{pos:n,start:n+1,node:t,depth:o.depth+2}})))}),[])}},RsOk:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l}));var o=n("UxO+"),r=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};var i=function(e,t){this.version=e,this.unconfirmed=t};var a=new o.PluginKey("collab");function s(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new o.Plugin({key:a,state:{init:function(){return new i(e.version,[])},apply:function(e,t){var n=e.getMeta(a);return n||(e.docChanged?new i(t.version,t.unconfirmed.concat(function(e){
for(var t=[],n=0;n<e.steps.length;n++)t.push(new r(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,historyPreserveItems:!0})}function c(e,t,n,s){for(var c=a.getState(e),l=c.version+t.length,d=a.get(e).spec.config.clientID,u=0;u<n.length&&n[u]==d;)++u;var p=c.unconfirmed.slice(u);if(!(t=u?t.slice(u):t).length)return e.tr.setMeta(a,new i(l,p));var h=p.length,f=e.tr;if(h)p=function(e,t,n){for(var o=e.length-1;o>=0;o--)n.step(e[o].inverted);for(var i=0;i<t.length;i++)n.step(t[i]);for(var a=[],s=0,c=e.length;s<e.length;s++){var l=e[s].step.map(n.mapping.slice(c));c--,l&&!n.maybeStep(l).failed&&(n.mapping.setMirror(c,n.steps.length-1),a.push(new r(l,l.invert(n.docs[n.docs.length-1]),e[s].origin)))}return a}(p,t,f);else{for(var m=0;m<t.length;m++)f.step(t[m]);p=[]}var g=new i(l,p)
;return s&&s.mapSelectionBackward&&e.selection instanceof o.TextSelection&&(f.setSelection(o.TextSelection.between(f.doc.resolve(f.mapping.map(e.selection.anchor,-1)),f.doc.resolve(f.mapping.map(e.selection.head,-1)),-1)),f.updated&=-2),f.setMeta("rebased",h).setMeta("addToHistory",!1).setMeta(a,g)}function l(e){var t=a.getState(e);return 0==t.unconfirmed.length?null:{version:t.version,steps:t.unconfirmed.map((function(e){return e.step})),clientID:a.get(e).spec.config.clientID,get origins(){return this._origins||(this._origins=t.unconfirmed.map((function(e){return e.origin})))}}}function d(e){return a.getState(e).version}},"Ryn/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.101 13.569c-.247.5-.026 1.095.493 1.333.52.237 1.142.025 1.388-.473C7.011 12.351 9.193 11 11.63 11c2.266 0 4.319 1.167 5.425 3.021.286.479.922.645 1.421.371a.98.98 0 00.386-1.366C17.389 10.557 14.65 9 11.63 9c-3.247 0-6.158 1.802-7.529 4.569z"/><path d="M17.497 10v3h-2.995a1 1 0 100 2h3.896c.608 0 1.102-.493 1.102-1.1V10a1.001 1.001 0 00-2.003 0z"/></g></svg>'},e));i.displayName="RedoIcon";var a=i;t.default=a},SI9v:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.744 8.744a1.053 1.053 0 000 1.49l4.547 4.557a1 1 0 001.416 0l4.55-4.558a1.051 1.051 0 10-1.488-1.488l-3.77 3.776-3.768-3.776a1.051 1.051 0 00-1.487 0z" fill="currentColor"/></svg>'},e));i.displayName="HipchatChevronDownIcon";var a=i;t.default=a},SINd:function(e,t,n){"use strict";function o(){this.__rules__=[],this.__cache__=null}o.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},o.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},o.prototype.at=function(e,t,n){var o=this.__find__(e),r=n||{};if(-1===o)throw new Error("Parser rule not found: "+e)
;this.__rules__[o].fn=t,this.__rules__[o].alt=r.alt||[],this.__cache__=null},o.prototype.before=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},o.prototype.after=function(e,t,n,o){var r=this.__find__(e),i=o||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},o.prototype.push=function(e,t,n){var o=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:o.alt||[]}),this.__cache__=null},o.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!0,n.push(e)}),this),this.__cache__=null,n},o.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){
e.enabled=!1})),this.enable(e,t)},o.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var o=this.__find__(e);if(o<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[o].enabled=!1,n.push(e)}),this),this.__cache__=null,n},o.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=o},SVcB:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return h}));var o=n("3tO9"),r=n.n(o),i=n("mG1W"),a=n("UxO+");let s,c;function l(e,t){if(!t.attributes)return t;const{type:o,position:r}=function(e){const{selection:t}=e;let o,r;if(t instanceof n("g1AK").a)o=s.GAP_CURSOR,r=t.side===n("g1AK").b.LEFT?c.LEFT:c.RIGHT;else if(t instanceof n("n1Ll").a)o=s.CELL;else if(t instanceof a.NodeSelection)o=s.NODE;else if(t.from!==t.to)o=s.RANGED;else{o=s.CURSOR;const{from:e,$from:n}=t
;r=e===n.start()?c.START:e===n.end()?c.END:c.MIDDLE}return{type:o,position:r}}(e);t.attributes.selectionType=o,r&&(t.attributes.selectionPosition=r);const l=function(e){const{selection:t}=e;if(t instanceof a.NodeSelection)return t.node.type.name;if(t instanceof n("n1Ll").a)return e.schema.nodes.table.name;const o=Object(i.findParentNode)((t=>t.type!==e.schema.nodes.paragraph))(e.selection);return o?o.node.type.name:e.doc.type.name}(e);return t.action===n("J5HJ").a.INSERTED&&t.actionSubject===n("J5HJ").b.DOCUMENT&&t.attributes?t.attributes.insertLocation=l:t.attributes.nodeLocation=l,t}!function(e){e.CURSOR="cursor",e.RANGED="ranged",e.GAP_CURSOR="gapCursor",e.NODE="node",e.CELL="cell"}(s||(s={})),function(e){e.START="start",e.MIDDLE="middle",e.END="end",e.LEFT="left",e.RIGHT="right"}(c||(c={}));const d=[n("J5HJ").a.INVOKED,n("J5HJ").a.OPENED];function u(e,t,o,i=n("+WSe").b){const a=function(e){var t;return null===(t=n("OdZc").a.getState(e))||void 0===t?void 0:t.createAnalyticsEvent}(e)
;if(o=function(e){const t=e.action===n("J5HJ").a.INSERTED&&e.actionSubject===n("J5HJ").b.DOCUMENT,o=e.action===n("J5HJ").a.FORMATTED&&e.actionSubject===n("J5HJ").b.TEXT;return!!e.actionSubjectId&&(t||o)&&(e.attributes=r()(r()({},e.attributes),{},{actionSubjectId:e.actionSubjectId})),e}(o=l(e,o)),a){const{storedMarks:e}=t;t.step(new(n("Wabn").a)([{payload:o,channel:i}],d,t.selection.$from.pos)),e&&t.setStoredMarks(e)}return t}function p(e,t){return n=>(o,r,i)=>n(o,(n=>{if(r)if(e instanceof Function){const i=e(o);i&&r(u(o,n,i,t))}else r(u(o,n,e,t))}),i)}function h(e){return e.steps.filter((e=>e instanceof n("Wabn").a)).reduce(((e,t)=>[...e,...t.analyticsEvents]),[])}},ScxJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("mrSG"),r=n("Rbo8");o.__exportStar(n("ifif"),t);class i extends Error{constructor(e,t){super(`Invalid ari string: ${e}${t?". "+t:""}`),this.ariString=e,Object.setPrototypeOf(this,i.prototype)}static withConstraintViolations(e,t){
return new i(e,t.map((e=>e.toString())).join("\n"))}}function a(e,t){return e===t||void 0===e}t.InvalidAriError=i;const s=r.pattern(/^[a-z][a-z.-]*$/),c=r.pattern(/^[a-z][a-z.-]*$/i),l=[r.lengthBetween(3,255),s],d=[r.lengthBetween(3,255),c],u=[r.lengthBetween(3,255)],p="site",h=/[\w-._~:@#]/.source,f=[r.pattern(new RegExp(`^${h}+(/${h}*)*(;v=${h}*)*$`))];class m{get cloudId(){return this.resourceType===p?this.internalCloudId?this.internalCloudId:this.resourceId:this.internalCloudId}constructor(e){const{resourceId:t,resourceOwner:n,resourceType:o,cloudId:r}=function(e){const{resourceId:t,resourceOwner:n,cloudId:o}=e;return!t&&o?{resourceOwner:n,resourceType:p,resourceId:o}:e}(e);this.resourceOwner=n,this.internalCloudId=r,this.resourceType=o,this.resourceId=t,this.validate()}static parse(e){if(!e)throw new i(e);const t=e.match(/^ari:cloud:([^:/]+):([^:/]*):([^:/]*)\/(.*)$/);if(!t||5!==t.length)throw new i(e);const n=t.map((e=>e&&e.length>0?e:void 0)),o=n[1];if(!o)throw new i(e)
;return new m({resourceOwner:o,cloudId:n[2],resourceType:n[3],resourceId:n[4]})}static parseEncoded(e){return g(decodeURIComponent(e))}toString(){if(!this.ariString){const e=this.resourceType===p&&this.internalCloudId?this.internalCloudId:this.resourceId||"",t=this.resourceType||"",n=this.resourceType===p?"":this.internalCloudId||"";this.ariString=`ari:cloud:${this.resourceOwner}:${n}:${t}/${e}`}return this.ariString}toJSON(){return this.toString()}equals(e){return e instanceof m&&this.resourceOwner===e.resourceOwner&&this.cloudId===e.cloudId&&this.resourceType===e.resourceType&&this.resourceId===e.resourceId}contains(e){return this.matches(new m(e))}matches(e){return a(this.resourceOwner,e.resourceOwner)&&a(this.cloudId,e.cloudId)&&(this.resourceType===p&&!!e.resourceType||a(this.resourceType,e.resourceType))&&(this.resourceType===p&&!!e.resourceType||a(this.resourceId,e.resourceId))}validateSiteWide(){const{resourceType:e,cloudId:t}=this
;if(e===p&&!t)return new r.GeneralValidationError("site wide ARIs must have a cloudId")}validate(){const e=[r.validateField(this,"resourceOwner",l),r.validateField(this,"resourceType",d),r.validateField(this,"resourceId",f),r.validateField(this,"cloudId",u),this.validateSiteWide()].filter((e=>e));if(e.length>0)throw i.withConstraintViolations(this.toString(),e);if(void 0!==this.resourceId&&void 0===this.resourceType)throw new i(this.toString(),"The resource type must be specified if the resource id is defined.")}urlEncode(){return encodeURIComponent(this.toString())}urlDecode(){return decodeURIComponent(this.toString())}}function g(e){return m.parse(e)}t.ResourceIdentifier=m,t.parse=g,t.parseEncoded=function(e){return m.parseEncoded(e)}},"ShL/":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("MEpN");const s=({selection:e})=>{const{$from:t,$to:o}=e,r=t.blockRange(o,n("EvmU").d);return r||null
},c=({tr:e,normalizedSelection:t,originalSelection:o,hasPreviousNestedList:r})=>{const a=r?2:0,{$from:s,$to:c}=t;if(t instanceof n("g1AK").a){const o=e.doc.resolve(s.pos-a);return new(n("g1AK").a)(o,t.side)}if(o instanceof i.NodeSelection)return i.NodeSelection.create(e.doc,s.pos-a);const{$from:l}=i.Selection.near(e.doc.resolve(s.pos-a)),{$to:d}=i.Selection.near(e.doc.resolve(c.pos-a),-1);return new i.TextSelection(l,d)},l=({tr:e,from:t,to:n,listNodeType:o,range:r})=>{const i=e.doc.slice(t,n-2),s=a.Fragment.from(o.create(null,i.content)),c=e.doc.slice(n,r.end-2),l=e.doc.slice(t-1,r.end).openStart;return[new a.Slice(s,l,0),c]};function d(e=n("J5HJ").f.KEYBOARD){return function(t,o){const{tr:i,selection:{$from:a}}=t;if(!Object(n("DQ6B").d)(t))return!1;const d=Object(n("DQ6B").c)(a);if(d&&0===d.indentLevel&&0===d.itemIndex)return!0;const u=Object(n("ytXc").b)(a);if(!u)return!0;const p=u.node,h=Object(n("EvmU").b)(p)?n("J5HJ").c.FORMAT_LIST_BULLET:n("J5HJ").c.FORMAT_LIST_NUMBER;(e=>{
const t=e.selection,o=Object(n("DQ6B").h)({selection:t,doc:e.doc}),{$from:r,$to:i}=o,a=s({selection:o});if(!a)return!1;const d={from:Object(n("ytXc").a)(r),to:Object(n("ytXc").a)(i)};if(null===d.from||null===d.to)return null;const u=e.doc.resolve(d.from.pos),p=u.index(),h=u.posAtIndex(p-1),f=e.doc.nodeAt(h);if(!f||!Object(n("EvmU").c)(f))return null;if(Object(n("EvmU").c)(f)&&0===p)return null;const m=a.parent,g=Object(n("EvmU").d)(f.lastChild)?f.lastChild:null,b=g?g.type:m.type,v=d.to.node.lastChild,y=v&&Object(n("EvmU").d)(v)?v.nodeSize:0,E=d.from.pos,w=d.to.pos+d.to.node.nodeSize-y,[O,S]=l({tr:e,listNodeType:b,range:a,from:E,to:w}),C=Boolean(g),T=E-1;e.replaceRange(C?T-1:T,a.end,O);const x=e.mapping.map(w)-2;0===S.openStart?e.insert(x,S.content):e.replace(x-S.openStart,x-S.openStart,S);const k=c({originalSelection:t,normalizedSelection:o,tr:e,hasPreviousNestedList:C});e.setSelection(k)})(i);return!Object(n("3G5u").b)({tr:i,maxIndentation:6
})||!i.docChanged||(Object(n("SVcB").a)(t,i,{action:n("J5HJ").a.INDENTED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:h,eventType:n("J5HJ").e.TRACK,attributes:r()(r()({},Object(n("2xgt").a)(t)),{},{inputMethod:e})}),o&&o(i),!0)}}},SpRm:function(e,t,n){"use strict";e.exports=function(e,t){var n,o,r,i,a,s,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(n=c,c++,o=e.posMax;c<o&&96===e.src.charCodeAt(c);)c++;for(r=e.src.slice(n,c),i=a=c;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<o&&96===e.src.charCodeAt(a);)a++;if(a-i===r.length)return t||((s=e.push("code_inline","code",0)).markup=r,s.content=e.src.slice(c,i).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0}return t||(e.pending+=r),e.pos+=r.length,!0}},Sz5L:function(e,t,n){"use strict";var o=n("AGgm").isSpace;function r(e,t){var n,r,i,a;return r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<i&&(a=e.src.charCodeAt(r),!o(a))?-1:r}function i(e,t){
var n,r=e.bMarks[t]+e.tShift[t],i=r,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-r>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!o(n))?-1:i}e.exports=function(e,t,n,o){var a,s,c,l,d,u,p,h,f,m,g,b,v,y,E,w,O,S,C,T,x,k,I,A,N,M,R,j,P=!1,D=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(o&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(P=!0),(I=i(e,t))>=0){if(p=!0,N=e.bMarks[t]+e.tShift[t],v=Number(e.src.substr(N,I-N-1)),P&&1!==v)return!1}else{if(!((I=r(e,t))>=0))return!1;p=!1}if(P&&e.skipSpaces(I)>=e.eMarks[t])return!1;if(b=e.src.charCodeAt(I-1),o)return!0;for(g=e.tokens.length,p?(j=e.push("ordered_list_open","ol",1),1!==v&&(j.attrs=[["start",v]])):j=e.push("bullet_list_open","ul",1),j.map=m=[t,0],j.markup=String.fromCharCode(b),E=t,A=!1,
R=e.md.block.ruler.getRules("list"),S=e.parentType,e.parentType="list";E<n;){for(k=I,y=e.eMarks[E],u=w=e.sCount[E]+I-(e.bMarks[t]+e.tShift[t]);k<y;){if(9===(a=e.src.charCodeAt(k)))w+=4-(w+e.bsCount[E])%4;else{if(32!==a)break;w++}k++}if((d=(s=k)>=y?1:w-u)>4&&(d=1),l=u+d,(j=e.push("list_item_open","li",1)).markup=String.fromCharCode(b),j.map=h=[t,0],x=e.tight,T=e.tShift[t],C=e.sCount[t],O=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=l,e.tight=!0,e.tShift[t]=s-e.bMarks[t],e.sCount[t]=w,s>=y&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!A||(D=!1),A=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=O,e.tShift[t]=T,e.sCount[t]=C,e.tight=x,(j=e.push("list_item_close","li",-1)).markup=String.fromCharCode(b),E=t=e.line,h[1]=E,s=e.bMarks[t],E>=n)break;if(e.sCount[E]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(M=!1,c=0,f=R.length;c<f;c++)if(R[c](e,E,n,!0)){M=!0;break}if(M)break;if(p){if((I=i(e,E))<0)break
}else if((I=r(e,E))<0)break;if(b!==e.src.charCodeAt(I-1))break}return(j=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(b),m[1]=E,e.line=E,e.parentType=S,D&&function(e,t){var n,o,r=e.level+2;for(n=t+2,o=e.tokens.length-2;n<o;n++)e.tokens[n].level===r&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,g),!0}},TBml:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("lSNA"),r=n.n(o);class i{constructor(){r()(this,"startedAt",0),r()(this,"endedAt",0),r()(this,"keyCount",{arrowUp:0,arrowDown:0}),r()(this,"increaseArrowUp",(()=>{this.keyCount.arrowUp+=1})),r()(this,"increaseArrowDown",(()=>{this.keyCount.arrowDown+=1})),r()(this,"serialize",(()=>{var e,t;return{startedAt:this.startedAt,endedAt:performance.now(),keyCount:{arrowUp:(null===(e=this.keyCount)||void 0===e?void 0:e.arrowUp)||0,arrowDown:(null===(t=this.keyCount)||void 0===t?void 0:t.arrowDown)||0}}})),
this.startedAt=performance.now(),this.keyCount={arrowUp:0,arrowDown:0}}}},TCYN:function(e,t,n){"use strict";var o=/\r\n?|\n/g,r=/\0/g;e.exports=function(e){var t;t=(t=e.src.replace(o,"\n")).replace(r,"\ufffd"),e.src=t}},TKQA:function(e,t){var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"};t.base=n;var o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:";",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",
222:'"',229:"Q"};t.shift=o;for(var r="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),i="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c=r&&(s||+r[1]<57)||a&&s,l=0;l<10;l++)n[48+l]=n[96+l]=String(l);for(l=1;l<=24;l++)n[l+111]="F"+l;for(l=65;l<=90;l++)n[l]=String.fromCharCode(l+32),o[l]=String.fromCharCode(l);for(var d in n)o.hasOwnProperty(d)||(o[d]=n[d]);t.keyName=function(e){var t=!(c&&(e.ctrlKey||e.altKey||e.metaKey)||i&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:n)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},TLR5:function(e,t,n){"use strict"
;var o=n("SINd"),r=[["text",n("usqY")],["newline",n("QjYF")],["escape",n("bgCn")],["backticks",n("SpRm")],["strikethrough",n("kiyR").tokenize],["emphasis",n("yKnv").tokenize],["link",n("zQ/W")],["image",n("ky0j")],["autolink",n("KOyK")],["html_inline",n("wtjL")],["entity",n("W1Rp")]],i=[["balance_pairs",n("g40J")],["strikethrough",n("kiyR").postProcess],["emphasis",n("yKnv").postProcess],["text_collapse",n("IIUr")]];function a(){var e;for(this.ruler=new o,e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1]);for(this.ruler2=new o,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,o=e.pos,r=this.ruler.getRules(""),i=r.length,a=e.md.options.maxNesting,s=e.cache;if(void 0===s[o]){if(e.level<a)for(n=0;n<i&&(e.level++,t=r[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,s[o]=e.pos}else e.pos=s[o]},a.prototype.tokenize=function(e){for(var t,n,o=this.ruler.getRules(""),r=o.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){
if(e.level<a)for(n=0;n<r&&!(t=o[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,o){var r,i,a,s=new this.State(e,t,n,o);for(this.tokenize(s),a=(i=this.ruler2.getRules("")).length,r=0;r<a;r++)i[r](s)},a.prototype.State=n("CXva"),e.exports=a},TdfU:function(e,t,n){"use strict";function o(e,t=1e3,o=60,r){if(!Object(n("X0Cu").c)())return;const i=performance.now();let a,s={startTime:i,duration:0},c=1e3*o;const l=new(r||PerformanceObserver)((e=>{const t=e.getEntries();t.length&&(a=s,s=t[t.length-1])}));l.observe({entryTypes:["longtask"]});const d=()=>{const n=performance.now(),o=s.startTime+s.duration,r=a?a.startTime+a.duration:o;return a?s.startTime-r>=t?(l.disconnect(),e(r,r-i,c<=0)):n-o>=t||c<=0?(l.disconnect(),e(o,o-i,c<=0)):(c=Math.max(0,c-(n-i)),setTimeout(d,t)):(l.disconnect(),e(r,0,!1))};setTimeout(d,t)}n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),
n.d(t,"c",(function(){return a}));const r={NORMAL:4e4,DEGRADED:6e4},i={NORMAL:5e3,DEGRADED:8e3};function a(e,t,o,a,s,c){const l=o||r.NORMAL,d=a||r.DEGRADED;let u;u=e>=l&&e<d?n("rJZJ").e.DEGRADED:e>=d?n("rJZJ").e.BLOCKING:n("rJZJ").e.NORMAL;const p=s||i.NORMAL,h=c||i.DEGRADED;let f;return f=t>=p&&t<h?n("rJZJ").e.DEGRADED:t>=h?n("rJZJ").e.BLOCKING:n("rJZJ").e.NORMAL,{ttiSeverity:u,ttiFromInvocationSeverity:f}}},TypY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("undoRedoPlugin")},UIbH:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("3tO9"),a=n.n(i),s=n("lSNA"),c=n.n(s),l=n("JRPe"),d=n("pVnL"),u=n.n(d);const p=e=>r.a.createElement("svg",u()({},e,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"}),r.a.createElement("path",{
d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"})),h=()=>r.a.createElement(n("UnwW").b,{glyph:p,label:"Text color icon"});var f=n("vOnD");const m=f.default.div.withConfig({componentId:"dz3be2-0"})`display:flex;margin-top:${Object(n("ARg4").gridSize)()/2}px;padding:${Object(n("ARg4").gridSize)()/2}px;padding-bottom:0;border-top:1px solid #dfe1e6;> button{flex-grow:1;}`,g=f.default.div.withConfig({componentId:"dz3be2-1"})`position:relative;`,b=f.default.div.withConfig({componentId:"dz3be2-2"})`position:absolute;left:0;right:0;top:16px;margin:auto;width:12px;height:3px;border-radius:${Object(n("ARg4").borderRadius)()+"px"};${({gradientColors:e,selectedColor:t})=>t?`background: ${t}`:`background: ${e}`};`,v=e=>`\n    linear-gradient(\n      to right,\n      ${e.map(((t,n)=>{
const o=100/e.length,r=n+1;return 0===n?`${t} ${r*o}%,`:n===e.length-1?`${t} ${(r-1)*o}%`:`\n            ${t} ${(r-1)*o}%,\n            ${t} ${r*o}%,\n          `})).join("\n")}\n    );\n    `,y=v(["#6554C0","#00B8D9","#FF991F","#DE350B"]),E=v(["#97A0AF","#B3BAC5","#DFE1E6","#B3BAC5"]),w=Object(l.defineMessages)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""},moreColors:{id:"fabric.editor.textColor.moreColors",defaultMessage:"More colors",description:"More colors"},lessColors:{id:"fabric.editor.textColor.lessColors",defaultMessage:"Fewer colors",description:"Fewer colors"}});class O extends r.a.Component{constructor(...e){super(...e),c()(this,"state",{isOpen:!1,isShowingMoreColors:!1}),c()(this,"changeColor",(e=>n("Ng0V").a(e)(this.props.editorView.state,this.props.editorView.dispatch))),c()(this,"changeTextColor",((e,t)=>{if(!t){
const{pluginState:{palette:t,paletteExpanded:o,defaultColor:r}}=this.props,{isShowingMoreColors:i}=this.state,a=(o||t).find((t=>t.value===e)),s=e!==r&&!n("xy10").a.some((t=>t.value===e));return this.dispatchAnalyticsEvent(this.buildAnalyticsSelectColor({color:(a?a.label:e).toLowerCase(),isShowingMoreColors:i,isNewColor:s})),this.handleOpenChange({isOpen:!1,logCloseEvent:!1}),this.changeColor(e)}return!1})),c()(this,"toggleOpen",(()=>{this.handleOpenChange({isOpen:!this.state.isOpen,logCloseEvent:!0})})),c()(this,"handleOpenChange",(({isOpen:e,logCloseEvent:t})=>{const{pluginState:{palette:o,color:r}}=this.props,{isShowingMoreColors:i}=this.state,a=!o.find((e=>e.value===r));this.setState({isOpen:e,isShowingMoreColors:a||i}),t&&this.dispatchAnalyticsEvent(this.buildAnalyticsPalette(e?n("J5HJ").a.OPENED:n("J5HJ").a.CLOSED,{isShowingMoreColors:a||i,noSelect:!1===e}))})),c()(this,"hide",(e=>{const{isOpen:t,isShowingMoreColors:o}=this.state
;!0===t&&(this.dispatchAnalyticsEvent(this.buildAnalyticsPalette(n("J5HJ").a.CLOSED,{isShowingMoreColors:o,noSelect:!0})),this.setState({isOpen:!1}))})),c()(this,"handleShowMoreToggle",(e=>{e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.setState((e=>(this.dispatchAnalyticsEvent(this.buildAnalyticsShowMore(e.isShowingMoreColors?n("J5HJ").a.CLOSED:n("J5HJ").a.OPENED,{showMoreButton:!e.isShowingMoreColors,showLessButton:e.isShowingMoreColors})),{isShowingMoreColors:!e.isShowingMoreColors})))}))}render(){const{isOpen:e,isShowingMoreColors:t}=this.state,{popupsMountPoint:o,popupsBoundariesElement:i,popupsScrollableElement:a,isReducedSpacing:s,pluginState:c,pluginState:{paletteExpanded:l},intl:{formatMessage:d},showMoreColorsToggle:u,disabled:p}=this.props,f=d(w.textColor),v=t&&l?l:c.palette;let O;return document.body.clientWidth<=740&&(O=242),r.a.createElement(n("mw/U").f,null,r.a.createElement(n("pYeG").a,{mountTo:o,boundariesElement:i,
scrollableElement:a,isOpen:e&&!c.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,zIndex:n("9cwX").y,fitWidth:O,trigger:r.a.createElement(n("aEOQ").b,{buttonId:n("aEOQ").a.TEXT_COLOR,spacing:s?"none":"default",disabled:p||c.disabled,selected:e,"aria-label":f,title:f,onClick:this.toggleOpen,iconBefore:r.a.createElement(n("mw/U").i,null,r.a.createElement(g,null,r.a.createElement(h,null),r.a.createElement(b,{selectedColor:c.color!==c.defaultColor&&c.color,gradientColors:c.disabled?E:y})),r.a.createElement(n("mw/U").e,null,r.a.createElement(n.n(n("1YpF")).a,{label:""})))})},r.a.createElement("div",{"data-testid":"text-color-palette"},r.a.createElement(n("auKG").a,{palette:v,onClick:e=>this.changeTextColor(e,c.disabled),selectedColor:c.color})),u&&r.a.createElement(m,null,r.a.createElement(n("0+Gd").a,{appearance:"subtle",onClick:this.handleShowMoreToggle,iconBefore:r.a.createElement(n.n(n("Zzwt")).a,{label:""})
},d(t?w.lessColors:w.moreColors)))),r.a.createElement(n("mw/U").g,null))}getCommonAnalyticsAttributes(){const{showMoreColorsToggle:e}=this.props;return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:e?"subject":"control"}}buildAnalyticsPalette(e,t){return{action:e,actionSubject:n("J5HJ").b.TOOLBAR,actionSubjectId:n("J5HJ").c.FORMAT_COLOR,eventType:n("J5HJ").e.TRACK,attributes:a()(a()({},this.getCommonAnalyticsAttributes()),t)}}buildAnalyticsShowMore(e,t){return{action:e,actionSubject:n("J5HJ").b.TOOLBAR,actionSubjectId:n("J5HJ").c.FORMAT_COLOR,eventType:n("J5HJ").e.TRACK,attributes:a()(a()({},this.getCommonAnalyticsAttributes()),t)}}buildAnalyticsSelectColor(e){return{action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,actionSubjectId:n("J5HJ").c.FORMAT_COLOR,eventType:n("J5HJ").e.TRACK,attributes:a()(a()({},this.getCommonAnalyticsAttributes()),e)}}dispatchAnalyticsEvent(e){const{dispatchAnalyticsEvent:t}=this.props;t&&t(e)}}O.displayName="ToolbarTextColor"
;var S=Object(l.injectIntl)(O);const C=e=>{if(e&&"boolean"!=typeof e)return e};t.a=e=>({name:"textColor",marks:()=>[{name:"textColor",mark:n("50qd").c}],pmPlugins:()=>[{name:"textColor",plugin:({dispatch:t})=>Object(n("BS0G").b)(t,C(e))}],primaryToolbarComponent({editorView:t,popupsMountPoint:o,popupsBoundariesElement:i,popupsScrollableElement:a,isToolbarReducedSpacing:s,dispatchAnalyticsEvent:c,disabled:l}){const d=C(e),u=null==d?void 0:d.allowMoreTextColors;return r.a.createElement(n("fd7e").a,{plugins:{textColor:n("BS0G").c},render:({textColor:e})=>r.a.createElement(S,{pluginState:e,isReducedSpacing:s,editorView:t,popupsMountPoint:o,popupsBoundariesElement:i,popupsScrollableElement:a,showMoreColorsToggle:u,dispatchAnalyticsEvent:c,disabled:l})})}})},UYs2:function(e,t,n){"use strict";n.d(t,"a",(function(){return n("+ter")})),n.d(t,"b",(function(){return n("B0Wh")})),n.d(t,"c",(function(){return n("Yzqk")}))},"UZy+":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),
n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("q1tI");const a={space:"Space",m:"KeyM",rightArrow:"ArrowRight",leftArrow:"ArrowLeft"};class s extends i.Component{constructor(...e){super(...e),r()(this,"keyHandler",(e=>{const{handler:t,code:n,keyCode:o}=this.props;void 0!==o&&e.keyCode===o&&t(),void 0!==n&&e.code===n&&t()})),r()(this,"init",(()=>{document.addEventListener("keydown",this.keyHandler)})),r()(this,"release",(()=>{document.removeEventListener("keydown",this.keyHandler)}))}componentDidMount(){this.init()}componentWillUnmount(){this.release()}render(){return null}}s.displayName="Shortcut"},UgDi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("mentionPlugin")},UmKr:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{
id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"},bold:{id:"fabric.editor.bold",defaultMessage:"Bold",
description:"This refers to bold or \u201cstrong\u201d formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."}})},VAOK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 111.06 1.061l-1.06 1.061a3.249 3.249 0 01-4.596 0 3.247 3.247 0 010-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 000 2.474 1.749 1.749 0 002.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 01-1.06-1.06l1.06-1.062a3.249 3.249 0 014.596 0 3.247 3.247 0 010 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 000-2.475 1.749 1.749 0 00-2.474 0z" fill="currentColor"/></svg>'},e));i.displayName="EditorUnlinkIcon";var a=i;t.default=a},VHIC:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n("UxO+"),r=n("CsC6");const i=((e,t)=>{let n,o;return(...r)=>(o&&t(n,r)||(o=e(...r),n=r),o)})(((e,t,o,r)=>{let i;const a=()=>{
Object(n("mY1j").a)(e.state,e.state.tr)("disconnected")},s=()=>{Object(n("mY1j").a)(e.state,e.state.tr)("error")},c=()=>{i&&(i.off("disconnected",a),i.off("error",s))},l=t=>{e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),Object(n("7OFl").d)(t,e,o)},d=t=>Object(n("7OFl").c)(t,e),u=t=>Object(n("7OFl").a)(t,e,o),p=t=>Object(n("7OFl").e)(t,e),h=t=>Object(n("7OFl").f)(t,e),f=t=>{const{steps:n}=t,{state:o}=e,{tr:r}=o;n.forEach((e=>r.step(e))),e.dispatch(r)},m=t=>{Object(n("mY1j").b)(e.state,e.state.tr)(t)},g=({entity:e})=>{c(),o.EXPERIMENTAL_allowInternalErrorAnalytics&&(e.on("disconnected",a),e.on("error",s),i=e)};return t.on("init",l).on("connected",d).on("data",u).on("presence",p).on("telepointer",h).on("local-steps",f).on("error",m).on("entity",g),()=>{c(),t.off("init",l).off("connected",d).off("data",u).off("presence",p).off("telepointer",h).off("local-steps",f).off("error",m).off("entity",g)}}),((e,t)=>t&&t.every(((t,n)=>t===e[n])))),a=Object(n("2JGX").default)(((e,t)=>{
e.initialize((()=>t.state),(e=>r.f.fromJSON(t.state.schema,e)))}));var s=n("lSNA"),c=n.n(s),l=n("pDqG"),d=n("3tO9"),u=n.n(d);class p{constructor(e=new Map){this.participants=e}add(e){const t=new Map(this.participants);return e.forEach((e=>{t.set(e.sessionId,e)})),new p(t)}remove(e){const t=new Map(this.participants);return e.forEach((e=>{t.delete(e)})),new p(t)}update(e,t){const n=new Map(this.participants),o=n.get(e);return o?(n.set(e,u()(u()({},o),{},{lastActive:t})),new p(n)):this}updateCursorPos(e,t){const n=new Map(this.participants),o=n.get(e);return o?(n.set(e,u()(u()({},o),{},{cursorPos:t})),new p(n)):this}toArray(){return Array.from(this.participants.values())}get(e){return this.participants.get(e)}size(){return this.participants.size}eq(e){return this.toArray().map((e=>e.sessionId)).sort(((e,t)=>e>t?-1:1)).join("")===e.toArray().map((e=>e.sessionId)).sort(((e,t)=>e>t?-1:1)).join("")}}const h=e=>e instanceof r.e,f="telepointer-dim",m=(e,t)=>{
const n=e.doc.resolve(t),r=o.Selection.findFrom(n,-1,!0),i=o.Selection.findFrom(n,1,!0);return r?r.from:i?i.from:t};class g{get decorations(){return this.decorationSet}get activeParticipants(){return this.participants}get sessionId(){return this.sid}constructor(e,t,n,o=!1,r){c()(this,"onError",(e=>console.error(e))),this.decorationSet=e,this.participants=t,this.sid=n,this.isReady=o,this.onError=r||this.onError}getInitial(e){const t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"}apply(e){let{participants:t,sid:o,isReady:r}=this;const i=e.getMeta("presence"),a=e.getMeta("telepointer"),s=e.getMeta("sessionId");let c=e.getMeta("collabInitialised");"boolean"!=typeof c&&(c=r),s&&(o=s.sid);let l=[],d=[];if(i){const{joined:e=[],left:o=[]}=i;t=t.remove(o.map((e=>e.sessionId))),t=t.add(e),o.forEach((e=>{const t=Object(n("8PVD").c)(e.sessionId,this.decorationSet);t&&(d=d.concat(t))}))}if(a){const{sessionId:r}=a;if(t.get(r)&&r!==o){
const t=Object(n("8PVD").c)(a.sessionId,this.decorationSet);t&&(d=d.concat(t));const{anchor:o,head:i}=a.selection,s=o<i?o:i,c=o>=i?o:i,u=c-s>0;let p=1,h=1;try{p=m(e,u?Math.max(s-1,0):s),h=u?m(e,c):p}catch(b){this.onError(b)}l=l.concat(Object(n("8PVD").b)(p,h,r,u,this.getInitial(r)))}}if(e.docChanged){try{this.decorationSet=this.decorationSet.map(e.mapping,e.doc,{onRemove:t=>{if(t.pointer&&t.pointer.sessionId){const o=e.steps.filter(h)[0];if(o){const{sessionId:r}=t.pointer,{slice:{content:{size:i}},from:a}=o,s=m(e,i?Math.min(a+i,e.doc.nodeSize-3):Math.max(a,1));l=l.concat(Object(n("8PVD").b)(s,s,r,!1,this.getInitial(r)))}}}})}catch(b){this.onError(b)}e.steps.filter(h).forEach((e=>{const{from:t,to:n}=e;this.decorationSet.find(t,n).forEach((e=>{e.from!==e.to&&d.push(e)}))}))}const{selection:u}=e;if(this.decorationSet.find().forEach((e=>{if(e.type.toDOM){const t=e.type.toDOM.classList.contains(f);e.from===u.from&&e.to===u.to?(t||e.type.toDOM.classList.add(f),
e.type.side=-1):(t&&e.type.toDOM.classList.remove(f),e.type.side=0)}})),d.length&&(this.decorationSet=this.decorationSet.remove(d)),l.length&&(this.decorationSet=this.decorationSet.add(e.doc,l)),a){const{sessionId:e}=a;if(t.get(e)){const o=Object(n("8PVD").e)(e,this.decorationSet);o&&(t=t.updateCursorPos(e,o))}}const p=new g(this.decorationSet,t,o,c);return g.eq(p,this)?this:p}static eq(e,t){return e.participants===t.participants&&e.sessionId===t.sessionId&&e.isReady===t.isReady}static init(e){const{doc:t,onError:n}=e;return new g(l.b.create(t,[]),new p,void 0,void 0,n)}}const b=(e,t,r,s)=>new o.Plugin({key:n("uOGI").a,state:{init:e=>g.init(e),apply(t,o,r,i){const a=o.apply(t);return e(n("uOGI").a,a),a}},props:{decorations(e){return this.getState(e).decorations}},filterTransaction(e,t){const o=n("uOGI").a.getState(t);return!!e.getMeta("collabInitialised")||!(!o.isReady&&e.docChanged)},view(e){
const o=Object(n("mY1j").b)(e.state,e.state.tr),c=r((({options:e,providerFactory:t,view:o})=>r=>{let s;return n("uOGI").a.getState(o.state).isReady&&s&&s(),s=i(o,r,e,t),a(r,o),s})({view:e,options:s,providerFactory:t}),o);return{destroy(){t.unsubscribeAll("collabEditProvider"),c&&c.then((e=>{e&&e()}))}}}})},VMKi:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m}));var o=n("MEpN"),r=n("UxO+"),i=n("CsC6"),a=n("ABBN");function s(e,t){let{$from:n,$to:r}=e;const a=t.doc.type.schema.nodes.listItem;let s=n.blockRange(r,(e=>!!e.childCount&&!!e.firstChild&&e.firstChild.type===a));if(!s||s.depth<2||n.node(s.depth-1).type!==a)return t;let c=s.end,l=r.end(s.depth);return c<l&&(t.step(new i.d(c-1,l,c,l,new o.Slice(o.Fragment.from(a.create(void 0,s.parent.copy())),1,0),1,!0)),s=new o.NodeRange(t.doc.resolve(n.pos),t.doc.resolve(l),s.depth)),t.lift(s,Object(i.p)(s)).scrollIntoView()}
function c(e,t,n,o){const{listItem:i}=o.doc.type.schema.nodes;let a=!1;return o.doc.nodesBetween(e,t,((t,c)=>{if(!a&&t.type===i&&c>e){a=!0;let e=n+3;for(;e>n+2;){const n=o.doc.resolve(o.mapping.map(c));e=n.depth;const i=o.doc.resolve(o.mapping.map(c+t.textContent.length)),a=new r.TextSelection(n,i);o=s(a,o)}}})),o}function l(e,t){const{from:o,to:r}=e,{paragraph:i}=t.doc.type.schema.nodes,a=[];t.doc.nodesBetween(o,r,((e,t)=>{e.type===i&&a.push({node:e,pos:t})}));for(let s=a.length-1;s>=0;s--){const e=a[s],o=t.doc.resolve(t.mapping.map(e.pos));if(o.depth>0){let r;r=e.node.textContent&&e.node.textContent.length>0?t.doc.resolve(t.mapping.map(e.pos+e.node.textContent.length)):t.doc.resolve(t.mapping.map(e.pos+1));const i=o.blockRange(r);i&&t.lift(i,Object(n("3G5u").a)(o))}}return t}const d=/^\s*[\*\-\u2022](\s+|\s+$)/,u=/^\s*\d[\.\)](\s+|$)/,p=(e,t,i)=>{const{hardBreak:s,bulletList:c,orderedList:l}=i.nodes,p=Object(n("n8Jk").c)(e.content,(e=>e)),h=[c,l],f=p.map(((e,n)=>{const r=((e,t)=>{
if(!e.text)return null;const{bulletList:n,orderedList:o}=t.nodes;return[{node:n,matcher:d},{node:o,matcher:u}].reduce(((t,n)=>{if(t)return t;const o=e.text.match(n.matcher);return o?[n.node,o[0].length]:t}),null)})(e,i),a=n>0&&p[n-1];if(a&&a.type!==s)return e;if(!r||!e.text)return e;const[c,l]=r,h=e.text.substr(l),f=i.nodes.listItem.createAndFill(void 0,i.nodes.paragraph.createChecked(void 0,h.length?i.text(h):void 0));if(!f)return e;const m=c.createChecked(void 0,[f]);return t&&!t.type.validContent(o.Fragment.from(m))?e:m})).filter(((e,t,n)=>e.type!==s?e:t>0&&h.indexOf(n[t-1].type)>-1||t<n.length-1&&h.indexOf(n[t+1].type)>-1?null:e)),m=r.EditorState.create({schema:i});let g;Object(a.a)(((e,t)=>!!t&&(!f.some((e=>e.isText))&&(t(e.tr.replaceWith(0,2,f)),!0))),((e,t)=>Object(n("EvmU").d)(e)&&Object(n("EvmU").d)(t)))(m,(e=>{g=e}));const b=g?g.doc.content:o.Fragment.from(f),{paragraph:v}=i.nodes;return v.validContent(b)?o.Fragment.from(v.create(e.attrs,b,e.marks)):b
},h=({fragment:e,blockMarks:t=[],schema:n})=>{const r=[];let i=[],a=null;const{hardBreak:s,paragraph:c}=n.nodes;return e.forEach((e=>{if(a&&a.type===s&&e.type===s)return i.pop(),r.push(c.createChecked(void 0,i,[...t])),void(i=[]);i.push(e),a=e})),i.length&&r.push(c.createChecked(void 0,i,[...t])),o.Fragment.from(r.length?r:[c.createAndFill(void 0,void 0,[...t])])},f=(e,t)=>{let r=!1;if(e.content.forEach((e=>{r=r||e.marks.some((e=>e.type===t.marks.code))})),t.nodes.paragraph.validContent(e.content)&&!r){const n=h({fragment:e.content,schema:t});return new o.Slice(n,e.openStart+1,e.openEnd+1)}return Object(n("n8Jk").e)(e,(e=>e.type===t.nodes.paragraph?h({fragment:e.content,blockMarks:e.marks,schema:t}):e))},m=(e,t)=>Object(n("n8Jk").e)(e,((e,n)=>e.type===t.nodes.paragraph?p(e,n,t):e))},VOS0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasValueAtKey=t.hasPresentKey=t.isFilled=t.isDefined=t.isPresent=void 0,t.isPresent=function(e){return null!=e},
t.isDefined=function(e){return void 0!==e},t.isFilled=function(e){return null!==e},t.hasPresentKey=function(e){return function(t){return void 0!==t[e]&&null!==t[e]}},t.hasValueAtKey=function(e,t){return function(n){return n[e]===t}}},"VUh/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 010 2H6a1 1 0 010-2zm0 4h4a1 1 0 010 2H6a1 1 0 010-2zm8-4h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaWrapRightIcon";var a=i;t.default=a},VV44:function(e,t,n){"use strict";var o=n("UxO+"),r=n("mG1W"),i=n("JRPe");const a=Object(i.defineMessages)({
wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),s=[{id:"editor.media.alignLeft",value:"align-start",icon:n.n(n("9mxG")).a},{id:"editor.media.alignCenter",value:"center",icon:n.n(n("vsMl")).a},{id:"editor.media.alignRight",value:"align-end",icon:n.n(n("Gnrx")).a}],c=[{id:"editor.media.wrapLeft",value:"wrap-left",icon:n.n(n("+Z0M")).a},{id:"editor.media.wrapRight",value:"wrap-right",icon:n.n(n("VUh/")).a}],l=[{value:"wide",icon:n.n(n("krE2")).a},{value:"full-width",icon:n.n(n("1rMa")).a}],d={"wrap-left":a.wrapLeft,center:n("yYBl").a.alignImageCenter,"wrap-right":a.wrapRight,wide:n("yYBl").a.layoutWide,"full-width":n("yYBl").a.layoutFullWidth,"align-end":n("yYBl").a.alignImageRight,"align-start":n("yYBl").a.alignImageLeft},u=(e,t)=>(r,i)=>{
const{node:a}=r.selection,{layout:s}=a.attrs,{mediaSingle:c}=r.schema.nodes;if(!i)return!1;const l=n("IXso").b.getState(r);if(!a||a.type!==t||!l)return!1;const d=((e,t)=>{const{embedCard:o}=t.nodes;return e.type===o?e.attrs.originalWidth||n("9cwX").c:e.firstChild&&e.firstChild.attrs.width||e.attrs.width})(a,r.schema),u=Object(n("j0F9").a)(e,a.attrs,void 0,d,l.lineLength),p=r.tr.setNodeMarkup(r.selection.from,void 0,u);return p.setMeta("scrollIntoView",!1),p.setSelection(o.NodeSelection.create(p.doc,r.selection.from)),i(Object(n("SVcB").a)(r,p,{eventType:n("J5HJ").e.TRACK,action:n("J5HJ").a.SELECTED,actionSubject:n("J5HJ").b[a.type===c?"MEDIA_SINGLE":"EMBEDS"],actionSubjectId:n("J5HJ").c.RICH_MEDIA_LAYOUT,attributes:{previousLayoutType:s,currentLayoutType:e}})),!0},p=(e,t,n,o)=>e.map((e=>{const{id:r,value:i}=e;return{id:r,type:"button",icon:e.icon,title:n.formatMessage(d[i]),selected:t===i,onClick:u(i,o)}}));t.a=(e,t,n,i,a)=>{const{selection:d}=e
;if(!(d instanceof o.NodeSelection)||!d.node||!n||((e,{nodes:t},n)=>Object(r.hasParentNodeOfType)([t.bodiedExtension,t.listItem,t.expand,t.nestedExpand,...n?[]:[t.table]].filter(Boolean))(e))(d,e.schema,a))return[];const{layout:u}=d.node.attrs;let h=[...p(s,u,t,n),{type:"separator"},...p(c,u,t,n)];return i||(h=h.concat([{type:"separator"},...p(l,u,t,n)])),h}},VisZ:function(t,n,o){"use strict";o.d(n,"a",(function(){return s}));o("YBdB");var r=o("zgma"),i=o.n(r);class a{buildInlineAdf(e){return{type:"inlineCard",attrs:{url:e}}}buildBlockAdf(e){return{type:"blockCard",attrs:{url:e}}}buildEmbedAdf(e){return{type:"embedCard",attrs:{url:e,layout:"wide"}}}toAdf(e,t){
if((e=>e.match(/^https:\/\/.*?\/jira\/software\/(c\/)?projects\/[^\/]+?\/boards\/.*?\/roadmap\/?/))(e)||(e=>e.match(/^https:\/\/.*?\/jira\/polaris\/projects\/[^\/]+?\/ideas\/view\/\d+$|^https:\/\/.*?\/secure\/JiraProductDiscoveryAnonymous\.jspa\?hash=\w+|^https:\/\/.*?\/jira\/polaris\/share\/\w+/))(e)||(e=>e.match(/^https:\/\/.*?\/jira\/core\/projects\/[^\/]+?\/(timeline|calendar)\/?/))(e))return this.buildEmbedAdf(e);if((e=>e.match(/^https:\/\/.+?\.slack\.com\/archives\/[CG][A-Z0-9]+\/p[0-9]+(\?.*)?$/))(e))return this.buildBlockAdf(e);switch(t){case"inline":return this.buildInlineAdf(e);case"block":return this.buildBlockAdf(e);case"embed":return this.buildEmbedAdf(e)}}}class s{constructor(e){this.baseUrl=Object(o("SQXW").a)(e),this.resolverUrl=Object(o("SQXW").b)(e),this.transformer=new a,this.requestHeaders={Origin:this.baseUrl},this.patternLoader=new i.a((e=>this.batchPatterns(e)),{batchScheduleFn:e=>setTimeout(e,50)})}async batchPatterns(e){const t=await this.fetchPatterns()
;return e.map((()=>t))}async check(e){try{const t=`${this.resolverUrl}/check`;return(await o("66dJ").b("post",t,{resourceUrl:e},this.requestHeaders)).isSupported}catch(t){return void console.error("failed to fetch /check",t)}}async fetchPatterns(){try{const e=`${this.resolverUrl}/providers`;return(await o("66dJ").b("post",e,void 0,this.requestHeaders)).providers.reduce(((e,t)=>{const n=t.patterns.map((e=>e.source));return e.concat(n)}),[])}catch(e){return void console.error("failed to fetch /providers",e)}}async findPattern(e){return this.patterns||(this.patterns=await this.patternLoader.load("providers")),!!this.patterns&&this.patterns.some((t=>e.match(t)))}async resolve(t,n){try{if(await this.findPattern(t)||await this.check(t))return this.transformer.toAdf(t,n)}catch(e){console.warn(`Error when trying to check Smart Card url "${t} - ${e.prototype.name} ${e.message}`,e)}return Promise.reject(void 0)}}new s},"Vlv/":function(e,t,n){"use strict";t.parseLinkLabel=n("31bW"),
t.parseLinkDestination=n("5Mrk"),t.parseLinkTitle=n("fZFN")},VpzP:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("datePlugin")},Vwaf:function(e,t,n){"use strict";var o="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",r="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+o+"|"+r+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+o+"|"+r+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},W0fT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o=(e,t=r)=>{const n=parseInt(`${e}`,10),o=Object.keys(t),i=o[0];let a;return o.forEach((e=>{n<t[e]&&!a&&(a=e)})),a||i},r={small:173,medium:225,large:300,xlarge:1/0},i=({breakpointSize:e})=>{switch(e){case"small":
return`\n        .title {\n          font-size: 12px;\n        }\n        .file-type-icon span {\n          // We need to use important here since we can't use the dimensions provided by the Icon component\n          ${Object(n("FcH9").i)("14px !important")}\n        }\n      `;case"medium":return`\n        .title {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ${Object(n("FcH9").i)("16px !important")}\n        }\n      `;case"large":return`\n        .overlay {\n          padding: 24px;\n        }\n        .title {\n          font-size: 14px;\n        }\n        .file-size {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ${Object(n("FcH9").i)("18px !important")}\n        }\n      `;case"xlarge":
return`\n        border-radius: 2px;\n\n        .title {\n          font-size: 16px;\n        }\n\n        .file-size {\n          font-size: 14px;\n        }\n        \n        .wrapper, .img-wrapper {\n          border-radius: 2px;\n        }\n\n        .overlay {\n          padding: 24px;\n        }\n\n        .file-type-icon span {\n          ${Object(n("FcH9").i)("18px !important")}\n        }\n      `}}},W1Rp:function(e,t,n){"use strict";var o=n("vWgF"),r=n("AGgm").has,i=n("AGgm").isValidEntityCode,a=n("AGgm").fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,l,d=e.pos,u=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1<u)if(35===e.src.charCodeAt(d+1)){if(l=e.src.slice(d).match(s))return t||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=l[0].length,!0}else if((l=e.src.slice(d).match(c))&&r(o,l[1]))return t||(e.pending+=o[l[1]]),e.pos+=l[0].length,
!0;return t||(e.pending+="&"),e.pos++,!0}},W4vt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M12.02 8h-.04A1.98 1.98 0 0010 9.98V11h1V9.99a.99.99 0 01.99-.99h.02a.99.99 0 01.99.99V11h1V9.98A1.98 1.98 0 0012.02 8M10 11h1v1h-1zm3 0h1v1h-1zm0 1h-3a1 1 0 00-1 1v2.001a1 1 0 00.991.999h4.018a.992.992 0 00.991-.999V13a1 1 0 00-1-1h-1z" fill="inherit"/></g></svg>'},e));i.displayName="LockCircleIcon";var a=i;t.default=a},WSRu:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),
n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var o=n("vOnD");const r=Object(n("ARg4").gridSize)(),i=2*r,a=o.default.div.withConfig({componentId:"sc-13yl2rh-0"})`background:${Object(n("ku5o").a)({light:"#F4F5F7",dark:"#283447"})};border-radius:${Object(n("ARg4").borderRadius)()}px;color:${Object(n("ku5o").a)({dark:"#CED9EB"})};position:relative;vertical-align:middle;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};.ProseMirror-selectednode > span > & > .extension-overlay{box-shadow:inset 0px 0px 0px 2px ${"#2684FF"};opacity:1;}&.with-overlay{.extension-overlay{background:${"rgba(9, 30, 66, 0.04)"};color:transparent;}&:hover .extension-overlay{opacity:1;}}`,s=o.default.div.withConfig({componentId:"sc-13yl2rh-1"})`border-radius:${Object(n("ARg4").borderRadius)()}px;position:absolute;width:100%;height:100%;opacity:0;pointer-events:none;transition:opacity 0.3s;`,c=o.default.div.withConfig({componentId:"sc-13yl2rh-2"
})`display:inline-flex;align-items:center;& > img{margin:0 4px;}`,l=o.default.span.withConfig({componentId:"sc-13yl2rh-3"})`display:inline-block;max-width:200px;margin-left:5px;color:${"#A5ADBA"};text-overflow:ellipsis;white-space:nowrap;overflow:hidden;`,d=o.default.img.withConfig({componentId:"sc-13yl2rh-4"})`max-height:16px;max-width:16px;`},WXBT:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",e.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT",e.SET_MOBILE_PADDING_TOP="SET_MOBILE_PADDING_TOP"}(o||(o={}))},WZiQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 18h3a1 1 0 010 2H6a2 2 0 01-2-2v-3a1 1 0 012 0v3zm12 2h-3a1 1 0 010-2h3v-3a1 1 0 012 0v3a2 2 0 01-2 2zM6 4h3a1 1 0 110 2H6v3a1 1 0 11-2 0V6a2 2 0 012-2zm12 2h-3a1 1 0 010-2h3a2 2 0 012 2v3a1 1 0 01-2 0V6z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="VidFullScreenOnIcon";var a=i;t.default=a},Wabn:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("CsC6"),c=n("MEpN");const l="atlaskit-analytics";var d;!function(e){e.UNDID="undid",e.REDID="redid"}(d||(d={}));class u extends s.f{constructor(e,t=[],n){super(),a()(this,"analyticsEvents",[]),a()(this,"actionsToIgnore",[]),this.analyticsEvents=e,this.actionsToIgnore=t,this.pos=n}invert(){const e=this.analyticsEvents.filter((e=>-1===this.actionsToIgnore.indexOf(e.payload.action))).map((e=>function(e){
return e.payload.action===d.UNDID||e.payload.action===d.REDID}(e)?(e=>r()(r()({},e),{},{payload:r()(r()({},e.payload),{},{action:e.payload.action===d.UNDID?d.REDID:d.UNDID})}))(e):function(e){var t;return r()(r()({},e),{},{payload:{action:d.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:r()(r()({},e.payload.attributes),{},{actionSubjectId:e.payload.actionSubjectId,inputMethod:(null===(t=e.payload.attributes)||void 0===t?void 0:t.inputMethod)||""}),eventType:"track"}})}(e)));return new u(e,[])}apply(e){return s.h.ok(e)}map(e){let t=this.pos;return"number"==typeof t&&(t=e.map(t)),new u(this.analyticsEvents,this.actionsToIgnore,t)}getMap(){return"number"==typeof this.pos?new s.g([this.pos,0,0]):new s.g([])}merge(e){if(e instanceof u){const t=e.analyticsEvents;return new u([...t,...this.analyticsEvents])}return null}toJSON(){return{stepType:l}}static fromJSON(){return new s.e(0,0,c.Slice.empty)}}s.f.jsonID(l,u)},"Wd+7":function(e,t,n){"use strict"
;n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return d}));n("UxO+"),n("pDqG");const o=e=>e&&Object.values(n("FOo9").b).includes(e.id)&&"string"==typeof e.trigger&&"function"==typeof e.selectItem&&"function"==typeof e.getItems,r=e=>{var t,o;return(null===n("yUK8").a||void 0===n("yUK8").a||null===(t=n("yUK8").a.getState(e))||void 0===t||null===(o=t.decorationSet)||void 0===o?void 0:o.find().length)>0},i=e=>n("yUK8").a.getState(e),a=e=>n("yUK8").a.getState(e).triggerHandler,s=e=>n("yUK8").a.getState(e).query,c=e=>!r(e),l=(e,t)=>{const o=n("yUK8").a.getState(t);if(!o||!o.typeAheadHandlers||0===o.typeAheadHandlers.length)return null;const{typeAheadHandlers:r}=o;return r.find((t=>t.id===e))||null},d=({editorView:e,direction:t})=>()=>{const o=i(e.state);if(!o)return
;const{selectedIndex:r,items:a}=o,s=o.stats instanceof n("TBml").a?o.stats:new(n("TBml").a);let c=0;"next"===t?(s.increaseArrowDown(),c=r>=a.length-1?0:r+1):(s.increaseArrowUp(),c=0===r?a.length-1:r-1),Object(n("j4JT").a)(c)(e.state,e.dispatch)}},WdXo:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("17x9"),c=n.n(s);class l extends a.a.Component{constructor(...e){super(...e),r()(this,"onContextUpdate",(()=>{this.forceUpdate()}))}componentDidMount(){this.context.editorActions._privateSubscribe(this.onContextUpdate)}componentWillUnmount(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)}render(){return this.props.render(this.context.editorActions)}}l.displayName="WithEditorActions",r()(l,"contextTypes",{editorActions:c.a.object.isRequired})},WfRv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}
}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 00-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 10-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMentionIcon";var a=i;t.default=a},Wi02:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("CnBM"),a=n.n(i)
;const s=n("vOnD").default.div.withConfig({componentId:"sc-6oadzg-0"})`display:flex;align-items:center;justify-content:center;height:100%;width:100%;`,c=a()({loader:()=>n.e("@atlaskit-internal_editor-element-browser").then(n.bind(null,"C+VI")).then((e=>e.default)),loading:()=>r.a.createElement(s,null,r.a.createElement(n("6UK4").a,{size:"medium"}))});t.a=c},WocY:function(e,t,n){"use strict";n.r(t),n.d(t,"R50",(function(){return o})),n.d(t,"R75",(function(){return r})),n.d(t,"R100",(function(){return i})),n.d(t,"R200",(function(){return a})),n.d(t,"R300",(function(){return s})),n.d(t,"R400",(function(){return c})),n.d(t,"R500",(function(){return l})),n.d(t,"Y50",(function(){return d})),n.d(t,"Y75",(function(){return u})),n.d(t,"Y100",(function(){return p})),n.d(t,"Y200",(function(){return h})),n.d(t,"Y300",(function(){return f})),n.d(t,"Y400",(function(){return m})),n.d(t,"Y500",(function(){return g})),n.d(t,"G50",(function(){return b})),n.d(t,"G75",(function(){return v})),
n.d(t,"G100",(function(){return y})),n.d(t,"G200",(function(){return E})),n.d(t,"G300",(function(){return w})),n.d(t,"G400",(function(){return O})),n.d(t,"G500",(function(){return S})),n.d(t,"B50",(function(){return C})),n.d(t,"B75",(function(){return T})),n.d(t,"B100",(function(){return x})),n.d(t,"B200",(function(){return k})),n.d(t,"B300",(function(){return I})),n.d(t,"B400",(function(){return A})),n.d(t,"B500",(function(){return N})),n.d(t,"P50",(function(){return M})),n.d(t,"P75",(function(){return R})),n.d(t,"P100",(function(){return j})),n.d(t,"P200",(function(){return P})),n.d(t,"P300",(function(){return D})),n.d(t,"P400",(function(){return L})),n.d(t,"P500",(function(){return _})),n.d(t,"T50",(function(){return B})),n.d(t,"T75",(function(){return H})),n.d(t,"T100",(function(){return J})),n.d(t,"T200",(function(){return $})),n.d(t,"T300",(function(){return F})),n.d(t,"T400",(function(){return z})),n.d(t,"T500",(function(){return U})),n.d(t,"N0",(function(){return V})),
n.d(t,"N10",(function(){return W})),n.d(t,"N20",(function(){return K})),n.d(t,"N30",(function(){return q})),n.d(t,"N40",(function(){return G})),n.d(t,"N50",(function(){return Y})),n.d(t,"N60",(function(){return X})),n.d(t,"N70",(function(){return Q})),n.d(t,"N80",(function(){return Z})),n.d(t,"N90",(function(){return ee})),n.d(t,"N100",(function(){return te})),n.d(t,"N200",(function(){return ne})),n.d(t,"N300",(function(){return oe})),n.d(t,"N400",(function(){return re})),n.d(t,"N500",(function(){return ie})),n.d(t,"N600",(function(){return ae})),n.d(t,"N700",(function(){return se})),n.d(t,"N800",(function(){return ce})),n.d(t,"N900",(function(){return le})),n.d(t,"N10A",(function(){return de})),n.d(t,"N20A",(function(){return ue})),n.d(t,"N30A",(function(){return pe})),n.d(t,"N40A",(function(){return he})),n.d(t,"N50A",(function(){return fe})),n.d(t,"N60A",(function(){return me})),n.d(t,"N70A",(function(){return ge})),n.d(t,"N80A",(function(){return be})),n.d(t,"N90A",(function(){
return ve})),n.d(t,"N100A",(function(){return ye})),n.d(t,"N200A",(function(){return Ee})),n.d(t,"N300A",(function(){return we})),n.d(t,"N400A",(function(){return Oe})),n.d(t,"N500A",(function(){return Se})),n.d(t,"N600A",(function(){return Ce})),n.d(t,"N700A",(function(){return Te})),n.d(t,"N800A",(function(){return xe})),n.d(t,"DN900",(function(){return ke})),n.d(t,"DN800",(function(){return Ie})),n.d(t,"DN700",(function(){return Ae})),n.d(t,"DN600",(function(){return Ne})),n.d(t,"DN500",(function(){return Me})),n.d(t,"DN400",(function(){return Re})),n.d(t,"DN300",(function(){return je})),n.d(t,"DN200",(function(){return Pe})),n.d(t,"DN100",(function(){return De})),n.d(t,"DN90",(function(){return Le})),n.d(t,"DN80",(function(){return _e})),n.d(t,"DN70",(function(){return Be})),n.d(t,"DN60",(function(){return He})),n.d(t,"DN50",(function(){return Je})),n.d(t,"DN40",(function(){return $e})),n.d(t,"DN30",(function(){return Fe})),n.d(t,"DN20",(function(){return ze})),
n.d(t,"DN10",(function(){return Ue})),n.d(t,"DN0",(function(){return Ve})),n.d(t,"DN800A",(function(){return We})),n.d(t,"DN700A",(function(){return Ke})),n.d(t,"DN600A",(function(){return qe})),n.d(t,"DN500A",(function(){return Ge})),n.d(t,"DN400A",(function(){return Ye})),n.d(t,"DN300A",(function(){return Xe})),n.d(t,"DN200A",(function(){return Qe})),n.d(t,"DN100A",(function(){return Ze})),n.d(t,"DN90A",(function(){return et})),n.d(t,"DN80A",(function(){return tt})),n.d(t,"DN70A",(function(){return nt})),n.d(t,"DN60A",(function(){return ot})),n.d(t,"DN50A",(function(){return rt})),n.d(t,"DN40A",(function(){return it})),n.d(t,"DN30A",(function(){return at})),n.d(t,"DN20A",(function(){return st})),n.d(t,"DN10A",(function(){return ct})),n.d(t,"background",(function(){return lt})),n.d(t,"backgroundActive",(function(){return dt})),n.d(t,"backgroundHover",(function(){return ut})),n.d(t,"backgroundOnLayer",(function(){return pt})),n.d(t,"text",(function(){return ht})),
n.d(t,"textHover",(function(){return ft})),n.d(t,"textActive",(function(){return mt})),n.d(t,"subtleText",(function(){return gt})),n.d(t,"placeholderText",(function(){return bt})),n.d(t,"heading",(function(){return vt})),n.d(t,"subtleHeading",(function(){return yt})),n.d(t,"codeBlock",(function(){return Et})),n.d(t,"link",(function(){return wt})),n.d(t,"linkHover",(function(){return Ot})),n.d(t,"linkActive",(function(){return St})),n.d(t,"linkOutline",(function(){return Ct})),n.d(t,"primary",(function(){return Tt})),n.d(t,"blue",(function(){return xt})),n.d(t,"teal",(function(){return kt})),n.d(t,"purple",(function(){return It})),n.d(t,"red",(function(){return At})),n.d(t,"yellow",(function(){return Nt})),n.d(t,"green",(function(){return Mt})),n.d(t,"skeleton",(function(){return Rt}))
;const o="#FFEBE6",r="#FFBDAD",i="#FF8F73",a="#FF7452",s="#FF5630",c="#DE350B",l="#BF2600",d="#FFFAE6",u="#FFF0B3",p="#FFE380",h="#FFC400",f="#FFAB00",m="#FF991F",g="#FF8B00",b="#E3FCEF",v="#ABF5D1",y="#79F2C0",E="#57D9A3",w="#36B37E",O="#00875A",S="#006644",C="#DEEBFF",T="#B3D4FF",x="#4C9AFF",k="#2684FF",I="#0065FF",A="#0052CC",N="#0747A6",M="#EAE6FF",R="#C0B6F2",j="#998DD9",P="#8777D9",D="#6554C0",L="#5243AA",_="#403294",B="#E6FCFF",H="#B3F5FF",J="#79E2F2",$="#00C7E6",F="#00B8D9",z="#00A3BF",U="#008DA6",V="#FFFFFF",W="#FAFBFC",K="#F4F5F7",q="#EBECF0",G="#DFE1E6",Y="#C1C7D0",X="#B3BAC5",Q="#A5ADBA",Z="#97A0AF",ee="#8993A4",te="#7A869A",ne="#6B778C",oe="#5E6C84",re="#505F79",ie="#42526E",ae="#344563",se="#253858",ce="#172B4D",le="#091E42",de="rgba(9, 30, 66, 0.02)",ue="rgba(9, 30, 66, 0.04)",pe="rgba(9, 30, 66, 0.08)",he="rgba(9, 30, 66, 0.13)",fe="rgba(9, 30, 66, 0.25)",me="rgba(9, 30, 66, 0.31)",ge="rgba(9, 30, 66, 0.36)",be="rgba(9, 30, 66, 0.42)",ve="rgba(9, 30, 66, 0.48)",ye="rgba(9, 30, 66, 0.54)",Ee="rgba(9, 30, 66, 0.60)",we="rgba(9, 30, 66, 0.66)",Oe="rgba(9, 30, 66, 0.71)",Se="rgba(9, 30, 66, 0.77)",Ce="rgba(9, 30, 66, 0.82)",Te="rgba(9, 30, 66, 0.89)",xe="rgba(9, 30, 66, 0.95)",ke="#E6EDFA",Ie="#DCE5F5",Ae="#CED9EB",Ne="#B8C7E0",Me="#ABBBD6",Re="#9FB0CC",je="#8C9CB8",Pe="#7988A3",De="#67758F",Le="#56637A",_e="#455166",Be="#3B475C",He="#313D52",Je="#283447",$e="#202B3D",Fe="#1B2638",ze="#121A29",Ue="#0E1624",Ve="#0D1424",We="rgba(13, 20, 36, 0.06)",Ke="rgba(13, 20, 36, 0.14)",qe="rgba(13, 20, 36, 0.18)",Ge="rgba(13, 20, 36, 0.29)",Ye="rgba(13, 20, 36, 0.36)",Xe="rgba(13, 20, 36, 0.40)",Qe="rgba(13, 20, 36, 0.47)",Ze="rgba(13, 20, 36, 0.53)",et="rgba(13, 20, 36, 0.63)",tt="rgba(13, 20, 36, 0.73)",nt="rgba(13, 20, 36, 0.78)",ot="rgba(13, 20, 36, 0.81)",rt="rgba(13, 20, 36, 0.85)",it="rgba(13, 20, 36, 0.89)",at="rgba(13, 20, 36, 0.92)",st="rgba(13, 20, 36, 0.95)",ct="rgba(13, 20, 36, 0.97)",lt=Object(n("waWg").a)({
light:V,dark:Fe}),dt=Object(n("waWg").a)({light:C,dark:T}),ut=Object(n("waWg").a)({light:q,dark:Be}),pt=Object(n("waWg").a)({light:V,dark:Je}),ht=Object(n("waWg").a)({light:le,dark:Ne}),ft=Object(n("waWg").a)({light:ce,dark:Ne}),mt=Object(n("waWg").a)({light:A,dark:A}),gt=Object(n("waWg").a)({light:ne,dark:je}),bt=Object(n("waWg").a)({light:te,dark:Pe}),vt=Object(n("waWg").a)({light:ce,dark:Ne}),yt=Object(n("waWg").a)({light:ne,dark:je}),Et=Object(n("waWg").a)({light:K,dark:Je}),wt=Object(n("waWg").a)({light:A,dark:x}),Ot=Object(n("waWg").a)({light:I,dark:k}),St=Object(n("waWg").a)({light:N,dark:x}),Ct=Object(n("waWg").a)({light:x,dark:k}),Tt=Object(n("waWg").a)({light:A,dark:x}),xt=Object(n("waWg").a)({light:A,dark:x}),kt=Object(n("waWg").a)({light:F,dark:$}),It=Object(n("waWg").a)({light:D,dark:j}),At=Object(n("waWg").a)({light:s,dark:s}),Nt=Object(n("waWg").a)({light:f,dark:f}),Mt=Object(n("waWg").a)({light:w,dark:w}),Rt=()=>ue},Wtre:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return f}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("pVnL"),c=n.n(s),l=n("17x9"),d=n.n(l);class u extends a.a.Component{constructor(...e){super(...e),r()(this,"handleSave",(e=>()=>{this.props.onSave(e)})),r()(this,"handleCancel",(e=>()=>{this.props.onCancel(e)})),r()(this,"handleChange",(e=>()=>{this.props.onChange(e)}))}render(){if(this.context.editorActions){const{editorActions:e}=this.context;return a.a.createElement(n("LVTJ").a,c()({},this.props,{onSave:this.props.onSave?this.handleSave(e):void 0,onChange:this.props.onChange?this.handleChange(e):void 0,onCancel:this.props.onCancel?this.handleCancel(e):void 0}))}return a.a.createElement(n("GqfY").a,null,a.a.createElement(n("WdXo").a,{render:e=>a.a.createElement(n("LVTJ").a,c()({},this.props,{onSave:this.props.onSave?this.handleSave(e):void 0,onChange:this.props.onChange?this.handleChange(e):void 0,onCancel:this.props.onCancel?this.handleCancel(e):void 0}))}))}}u.displayName="EditorWithActions",
r()(u,"contextTypes",{editorActions:d.a.object.isRequired});const p=n("vOnD").default.input.withConfig({componentId:"upcifj-0"})`input&{background-color:white;border:1px solid ${n("9cwX").N};border-radius:${Object(n("ARg4").borderRadius)()}px;box-sizing:border-box;height:40px;padding-left:20px;padding-top:12px;padding-bottom:12px;font-size:${Object(n("9cwX").ib)(14)};width:100%;font-weight:400;line-height:1.42857142857143;letter-spacing:-0.005em;color:${"#5E6C84"};&:hover{border-color:${"#C1C7D0"};cursor:text;}}`;class h extends i.PureComponent{constructor(...e){super(...e),r()(this,"focusHandler",(e=>{this.input&&this.input.blur(),this.props.onFocus&&this.props.onFocus(e)})),r()(this,"handleInputRef",(e=>{this.input=e}))}render(){const e=this.props.text||"Type something\u2026";return a.a.createElement(p,{innerRef:this.handleInputRef,onFocus:this.focusHandler,placeholder:e})}}h.displayName="ChromeCollapsed";class f extends a.a.Component{constructor(...e){super(...e),
r()(this,"handleEditorRef",((e,t)=>{t&&"function"==typeof t&&t(e),this.editorComponent=e}))}UNSAFE_componentWillReceiveProps(e){!this.props.isExpanded&&e.isExpanded&&(this.shouldTriggerExpandEvent=!0)}componentDidUpdate(){this.shouldTriggerExpandEvent&&this.editorComponent&&(this.shouldTriggerExpandEvent=!1,this.props.onExpand&&this.props.onExpand())}render(){const e=a.a.Children.only(this.props.children);if(e.type!==n("LVTJ").a&&e.type!==u)throw new Error("Expected child to be of type `Editor`");return this.props.isExpanded?a.a.cloneElement(e,{ref:t=>this.handleEditorRef(t,e.ref)}):a.a.createElement(h,{onFocus:this.props.onFocus,text:this.props.placeholder})}}f.displayName="CollapsedEditor"},WvEr:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("fwbU");let a;!function(e){e.COMPONENT="component",e.CONSUMER="consumer",e.ORPHANED="orphaned"}(a||(a={}));var s=n("UxO+");class c extends n("gVP2").a{createDomRef(){return document.createElement("span")}getContentDOM(){
const e=document.createElement("span");return e.className="ak-editor-annotation",{dom:e}}render(e,t){return r.a.createElement(n("fd7e").a,{plugins:{inlineCommentState:n("CAky").i},editorView:this.view,render:({inlineCommentState:e})=>{if(null==e||!e.isVisible)return r.a.createElement("span",{ref:t});const{annotations:n,selectedAnnotations:o}=e,i=this.node.attrs.id,a=!1===n[i],s=o.some((e=>e.id===i)),c=l(a,s);return r.a.createElement("span",{className:c,ref:t})}})}}c.displayName="AnnotationNodeView";const l=(e,t)=>{if(e)return t?n("xLj0").b.focus:n("xLj0").b.blur},d=async(e,t,o)=>{if(!t||!t.length)return;const r=await(async(e,t)=>{const o=await e.getState(t);let r={};return o.forEach((e=>{e.annotationType===n("yGJy").b.INLINE_COMMENT&&(r[e.id]=e.state.resolved)})),r})(e,t);o.dispatch&&Object(n("gr0J").g)(r)(o.state,o.dispatch)},u=(e=!1)=>({annotations:{},selectedAnnotations:[],mouseData:{isSelecting:!1},disallowOnWhitespace:e,isVisible:!0}),p=e=>{
const{provider:t,portalProviderAPI:o,eventDispatcher:r}=e;return new s.Plugin({key:n("CAky").i,state:Object(n("mivK").b)(e.dispatch,u(t.disallowOnWhitespace)),view(e){d(t,Object(n("CAky").d)(e.state.doc),e);const o=t=>((e,t)=>o=>{Object(n("gr0J").g)({[o]:!0},a.CONSUMER)(e,t)})(e.state,e.dispatch)(t),r=t=>((e,t)=>o=>{Object(n("gr0J").g)({[o]:!1})(e,t)})(e.state,e.dispatch)(t),i=t=>((e,t)=>o=>{const{mouseData:{isSelecting:r}}=Object(n("CAky").g)(e);r&&Object(n("gr0J").h)({isSelecting:!1})(e,t)})(e.state,e.dispatch)(t),s=t=>(e=>t=>{const{state:o,dispatch:r}=e;Object(n("gr0J").f)(t)(o,r),t&&e.focus()})(e)(t),{updateSubscriber:c}=t;return c&&c.on("resolve",o).on("delete",o).on("unresolve",r).on("create",r).on("setvisibility",s),e.root.addEventListener("mouseup",i),{update(e,o){const{dirtyAnnotations:r}=Object(n("CAky").g)(e.state);r&&(Object(n("gr0J").a)()(e.state,e.dispatch),d(t,Object(n("CAky").d)(e.state.doc),e))},destroy(){e.root.removeEventListener("mouseup",i),
c&&c.off("resolve",o).off("delete",o).off("unresolve",r).off("create",r).off("setvisibility",s)}}},props:{nodeViews:{annotation:(e,t,n)=>new c(e,t,n,o,r).init()},handleDOMEvents:{mousedown:e=>(Object(n("CAky").g)(e.state).mouseData.isSelecting||((e,t)=>()=>{Object(n("gr0J").h)({isSelecting:!0})(e,t)})(e.state,e.dispatch)(),!1)},decorations(e){const{draftDecorationSet:t}=Object(n("CAky").g)(e);return t}}})};var h=n("mG1W");class f extends r.a.PureComponent{componentDidMount(){const{onViewed:e}=this.props;e&&e()}render(){return this.props.children}}f.displayName="AnnotationViewWrapper";function m({providers:e,editorView:t,dispatchAnalyticsEvent:o}){const{inlineComment:i}=e,{state:s,dispatch:c}=t,{createComponent:l,viewComponent:d}=i,u=Object(n("CAky").g)(s),{bookmark:p,selectedAnnotations:m,annotations:g}=u,b=Object(n("CAky").h)(s,u),v=(e=>{const{$from:t,from:n}=e,o=t.index()
;return!(o<t.parent.childCount&&t.parent.child(o))&&t.nodeBefore&&t.nodeBefore.isText&&t.nodeBefore.marks.find((e=>"annotation"===e.type.name))?n-1:n})(b);let y;try{y=Object(h.findDomRefAtPos)(v,t.domAtPos.bind(t))}catch(w){if(console.warn(w),o){const e={action:n("J5HJ").a.ERRORED,actionSubject:n("J5HJ").b.CONTENT_COMPONENT,eventType:n("J5HJ").e.OPERATIONAL,attributes:{component:n("J5HJ").d.INLINE_COMMENT,selection:b.toJSON(),position:v,docSize:t.state.doc.nodeSize,error:w.toString(),errorStack:w.stack||void 0}};o(e)}}if(!y)return null;if(p){if(!l)return null;const e=s.doc.textBetween(b.from,b.to);return r.a.createElement("div",{"data-testid":n("nnUN").b.floatingComponent},r.a.createElement(l,{dom:y,textSelection:e,onCreate:e=>{Object(n("gr0J").c)(e)(t.state,t.dispatch),!t.hasFocus()&&t.focus()},onClose:()=>{Object(n("gr0J").e)(!1)(t.state,t.dispatch),!t.hasFocus()&&t.focus()}}))}const E=m.filter((e=>!1===g[e.id]));if(!d||0===E.length)return null;return m?r.a.createElement(f,{
"data-testid":n("nnUN").b.floatingComponent,key:Object(n("CAky").e)(E),onViewed:()=>{if(!o)return;const e={action:n("J5HJ").a.VIEWED,actionSubject:n("J5HJ").b.ANNOTATION,actionSubjectId:n("J5HJ").c.INLINE_COMMENT,eventType:n("J5HJ").e.TRACK,attributes:{overlap:E.length?E.length-1:0}};o(e)}},r.a.createElement(d,{annotations:E,dom:y,onDelete:e=>Object(n("gr0J").d)(e)(s,c),onResolve:e=>Object(n("gr0J").g)({[e]:!0},a.COMPONENT)(t.state,t.dispatch),onClose:()=>{Object(n("gr0J").b)()(t.state,t.dispatch)}})):null}t.a=e=>({name:"annotation",marks:()=>[{name:"annotation",mark:n("yGJy").c}],pmPlugins:()=>[{name:"annotation",plugin:({dispatch:t,portalProviderAPI:n,eventDispatcher:o})=>{if(e)return p({dispatch:t,portalProviderAPI:n,eventDispatcher:o,provider:e.inlineComment})}},{name:"annotationKeymap",plugin:()=>{if(e)return function(){const e={};return Object(n("4Upw").bindKeymapWithCommand)(n("4Upw").addInlineComment.common,Object(n("gr0J").e)(!0,n("J5HJ").f.SHORTCUT),e),Object(i.b)(e)}()}}],
pluginsOptions:{floatingToolbar(t,o){if(!e)return;const r=Object(n("CAky").g)(t);if(r&&r.isVisible&&!r.bookmark&&!r.mouseData.isSelecting){const{isToolbarAbove:r}=e.inlineComment;return Object(n("E7O/").b)(t,o,r)}}},contentComponent:({editorView:t,dispatchAnalyticsEvent:o})=>e?r.a.createElement(n("fd7e").a,{plugins:{selectionState:n("EfUG").b,inlineCommentState:n("CAky").i},render:({inlineCommentState:n})=>n&&!n.isVisible?null:r.a.createElement(m,{providers:e,editorView:t,dispatchAnalyticsEvent:o})}):null})},WwMu:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return h}));var o=n("IUzm"),r=n("vOnD");const i=Object(o.g)({collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"},expandDefaultTitle:{id:"fabric.editor.expandDefaultTitle",defaultMessage:"Click here to expand...",description:"Placeholder text for an expand node"},
expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",description:"Placeholder text for an expand node title input field"}}),a=Object(n("ARg4").gridSize)()/2,s=Object(n("ku5o").a)({light:"rgba(255, 255, 255, 0.6)",dark:"rgba(9, 10, 11, 0.29)"}),c=Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.13)",dark:"#283447"}),l=r.default.div.withConfig({componentId:"sc-15vjtel-0"})`cursor:pointer;display:flex;color:${Object(n("ku5o").a)({light:"#8993A4",dark:"#d9dde3"})};border-radius:${Object(n("ARg4").gridSize)()/2}px;width:24px;height:24px;&:hover{background:${"rgba(9, 30, 66, 0.08)"};}svg{${e=>e.expanded?"transform: rotate(90deg);":""} transition:transform 0.2s ${n("9cwX").O};}`,d=r.default.div.withConfig({componentId:"sc-15vjtel-1"
})`width:${3*Object(n("ARg4").gridSize)()}px;height:${3*Object(n("ARg4").gridSize)()}px;`,u=r.css`border-width:1px;border-style:solid;border-color:${({expanded:e,focused:t})=>t?"#0065FF":e?c:"transparent"};border-radius:${a}px;min-height:25px;background:${({expanded:e})=>e?s:"transparent"};margin:${e=>`${Object(n("ARg4").gridSize)()/2/Object(n("ARg4").fontSize)()}rem ${"expand"===e["data-node-type"]?`-${n("9cwX").ab}px`:"0"} 0`};transition:background 0.3s ${n("9cwX").O},border-color 0.3s ${n("9cwX").O};padding:${n("ARg4").gridSize}px;&:hover{border:1px solid ${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.25)",dark:"#283447"
})};background:${s};}td > &:first-child{margin-top:0;}`,p=r.css`${({expanded:e})=>r.css`padding-top:${e?Object(n("ARg4").gridSize)():0}px;padding-right:${Object(n("ARg4").gridSize)()}px;padding-left:${4*Object(n("ARg4").gridSize)()-Object(n("ARg4").gridSize)()/2}px;display:table;display:flow-root;@supports not (display:flow-root){width:100%;box-sizing:border-box;}${e?"":"\n        .expand-content-wrapper, .nestedExpand-content-wrapper {\n          /* We visually hide the content here to preserve the content during copy+paste */\n          width: 100%;\n          display: block;\n          height: 0;\n          overflow: hidden;\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          user-select: none;\n        }\n      "}`};`,h={TitleInputStyles:r.css`outline:none;border:none;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};line-height:${n("9cwX").v};font-weight:normal;color:${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.60)",dark:"#B8C7E0"
})};background:transparent;display:flex;flex:1;padding:0 0 0 ${Object(n("ARg4").gridSize)()/2}px;width:100%;&::placeholder{opacity:0.6;color:${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.60)",dark:"#B8C7E0"})};}`,TitleContainerStyles:r.css`padding:0;display:flex;align-items:flex-start;background:none;border:none;font-size:${Object(n("9cwX").ib)(Object(n("ARg4").fontSize)())};width:100%;color:${Object(n("ku5o").a)({light:"rgba(9, 30, 66, 0.66)",dark:"#B8C7E0"})};overflow:hidden;cursor:pointer;user-select:none;&:focus{outline:0;}`,ContainerStyles:u,ContentStyles:p}},Wx28:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=new i.PluginKey("contextIdentiferPlugin"),s=e=>{var t;if(e)return null===(t=a.getState(e))||void 0===t?void 0:t.contextIdentifierProvider};t.a=(e,t)=>new i.Plugin({key:a,state:{init:()=>({}),apply:(e,t)=>e.getMeta(a)?e.getMeta(a):t},view:e=>{const n=(t,n)=>{n&&"contextIdentifierProvider"===t&&n.then((t=>{
const n=e.state.tr.setMeta(a,{contextIdentifierProvider:r()({},t)});e.dispatch(n)}))};return t&&t.subscribe("contextIdentifierProvider",n),{destroy:()=>{t&&t.unsubscribe("contextIdentifierProvider",n)}}}})},WzQf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));const o=e=>({action:n("J5HJ").a.CLICKED,actionSubject:e===n("J5HJ").c.HYPERLINK?n("J5HJ").b.HYPERLINK:n("J5HJ").b.SMART_LINK,actionSubjectId:n("J5HJ").c.EDIT_LINK,attributes:e!==n("J5HJ").c.HYPERLINK?{display:e}:{},eventType:n("J5HJ").e.UI}),r=e=>e===n("J5HJ").c.HYPERLINK?{action:n("J5HJ").a.VISITED,actionSubject:n("J5HJ").b.HYPERLINK,actionSubjectId:void 0,attributes:{inputMethod:n("J5HJ").f.TOOLBAR},eventType:n("J5HJ").e.TRACK}:{action:n("J5HJ").a.VISITED,actionSubject:n("J5HJ").b.SMART_LINK,actionSubjectId:e,attributes:{inputMethod:n("J5HJ").f.TOOLBAR},eventType:n("J5HJ").e.TRACK},i=e=>({action:n("J5HJ").a.UNLINK,
actionSubject:e===n("J5HJ").c.HYPERLINK?n("J5HJ").b.HYPERLINK:n("J5HJ").b.SMART_LINK,actionSubjectId:e===n("J5HJ").c.HYPERLINK?void 0:e,attributes:{inputMethod:n("J5HJ").f.TOOLBAR},eventType:n("J5HJ").e.TRACK})},"X+Ng":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.294 8.708l-.001.001-4.549 4.559a1.051 1.051 0 101.486 1.488l.001-.001 3.77-3.776 3.768 3.776a1.05 1.05 0 001.486.001h.001a1.054 1.054 0 00.001-1.489l-4.548-4.558a1 1 0 00-1.415-.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="HipchatChevronUpIcon";var a=i;t.default=a},X6Aa:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return u})),
n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"g",(function(){return b}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("MEpN"),s=n("hyZr");function c(e,t=!0,o){const r=e.marks.find((e=>"link"===e.type.name));if(!r)return!1;const i=Object(n("Z7Qe").e)(n("Lb0w").a.normalizeLinkText(r.attrs.href)),a=Object(n("Z7Qe").e)(n("Lb0w").a.normalizeLinkText(e.text||""));if(t&&i!==a)return!1;if(o){if(Object(n("Z7Qe").e)(n("Lb0w").a.normalizeLinkText(o))!==i)return!1}return!0}function l(e,t,n){const{inlineCard:o}=n.nodes,r=[t];return t.type===o&&r.push(n.text(" ")),e.replaceSelection(new a.Slice(a.Fragment.fromArray(r),0,0))}const d=(e,t,o,r)=>(r,i)=>{const a=n("O8Sv").a.getState(r);if(!a)return!1;const l=a.requests.filter((t=>t.url===e)),d=r.schema,u=Object(n("x+VZ").m)(d,t);let p=r.tr;if(u){const t=l.map((e=>function(e,t,o,r){const{inlineCard:i}=o.nodes,{url:a}=r;if(!Object(n("Z7Qe").b)(a))return
;const s=e.mapping.map(r.pos),l=e.doc.resolve(s),d=e.doc.nodeAt(s);if(!d||!d.type.isText)return;if(!r.shouldReplaceLink&&!c(d,r.compareLinkText,a))return;const u=[t];return t.type===i&&u.push(o.text(" ")),e.replaceWith(s,s+(d.text||a).length,u),l.node(l.depth-1).type.name}(p,u,d,e))).filter((e=>!!e));if(t.length){const i=t.every((e=>e===t[0]))?t[0]:"mixed",s="inlineCard",[,,c]=e.split("/");a.smartLinkEvents&&a.smartLinkEvents.insertSmartLink(c,"inline",a.createAnalyticsEvent),Object(n("SVcB").a)(r,p,{action:o||n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.SMART_LINK,eventType:n("J5HJ").e.TRACK,attributes:{inputMethod:l[0].source,nodeType:s,nodeContext:i,domainName:c,fromCurrentDomain:Object(n("CHQz").d)(e)}})}}return i&&i(Object(n("ost5").e)(e)(Object(s.a)(p))),!0},u=(e,t)=>(o,r)=>{if(!n("O8Sv").a.getState(o))return!1;const i=o.tr;return Object(n("SVcB").a)(o,i,Object(n("N1l4").a)(t,e)),r&&r(Object(n("ost5").e)(e)(i)),!0},p=(e,t,o,r=!0)=>{
const{schema:i}=e,{link:a}=i.marks,s=[];return Object(n("x+VZ").l)(t,((e,t)=>{if(!e.isText)return!0;const n=e.marks.find((e=>e.type===a));if(n){if(!c(e,r))return!1;s.push({url:n.attrs.href,pos:t,appearance:"inline",compareLinkText:r,source:o})}return!1})),Object(n("ost5").b)(s)(t)},h=(e,t,o,r,i)=>(a,s)=>{let c;return c=r&&i?function(e,t,n,o,r){const{link:i}=e.schema.marks,a=o.attrs.url||o.attrs.data.url;return e.tr.replaceWith(r,r+o.nodeSize,e.schema.text(t||a,[i.create({href:n||a})]))}(a,e,t,r,i):m(a,e,t),o&&Object(n("SVcB").a)(a,c,{action:n("J5HJ").a.CHANGED_TYPE,actionSubject:n("J5HJ").b.SMART_LINK,eventType:n("J5HJ").e.TRACK,attributes:{newType:n("abi4").b.URL}}),s&&s(c.scrollIntoView()),!0},f=e=>(t,o)=>{if(!(t.selection instanceof i.NodeSelection&&t.selection.node))return!1;const r=m(t,e,e);return p(t,r,n("J5HJ").f.MANUAL),o&&o(r.scrollIntoView()),!0};function m(e,t,n){const o=e.selection instanceof i.NodeSelection&&e.selection.node;if(!o)return e.tr
;const{link:r}=e.schema.marks,a=o.attrs.url||o.attrs.data.url;return e.tr.replaceSelectionWith(e.schema.text(t||a,[r.create({href:n||a})]),!1)}const g=e=>(t,o)=>{if(!(t.selection instanceof i.NodeSelection&&t.selection.node))return!1;const r=t.tr.replaceSelectionWith(t.schema.text(e),!1);return o&&o(Object(n("SVcB").a)(t,r.scrollIntoView(),Object(n("WzQf").c)(n("J5HJ").c.CARD_INLINE))),!0},b=e=>(t,o)=>{const a=t.selection instanceof i.NodeSelection&&t.selection.node;if(!a){const r=((e,t,o,r=!0)=>{const{schema:i}=e,{link:a}=i.marks,s=[];return e.tr.doc.nodesBetween(e.selection.from,e.selection.to,((e,i)=>{const c=e.marks.find((e=>e.type===a));if(c){const e={url:c.attrs.href,pos:i,appearance:o,compareLinkText:r,source:t,analyticsAction:n("J5HJ").a.CHANGED_TYPE,shouldReplaceLink:!0};s.push(e)}})),Object(n("ost5").b)(s)(e.tr)})(t,n("J5HJ").f.MANUAL,e);return o&&o(r.scrollIntoView()),!1}if(Object(n("osj6").a)(a.type)===e)return!1;const s="embed"===e?r()(r()({},a.attrs),{},{layout:"center"
}):a.attrs,{from:c}=t.selection,l=v(e,t.schema.nodes),d=t.tr.setNodeMarkup(c,l,s,a.marks);return Object(n("SVcB").a)(t,d,{action:n("J5HJ").a.CHANGED_TYPE,actionSubject:n("J5HJ").b.SMART_LINK,eventType:n("J5HJ").e.TRACK,attributes:{newType:e,previousType:Object(n("osj6").a)(a.type)}}),o&&o(d.scrollIntoView()),!0},v=(e,t)=>{switch(e){case"inline":return t.inlineCard;case"block":return t.blockCard;case"embed":return t.embedCard}}},X71X:function(e,t,n){"use strict";var o=n("4fNk"),r=n("Vwaf").HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+o.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,o){var r,a,s,c,l=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(l))return!1;for(c=e.src.slice(l,d),
r=0;r<i.length&&!i[r][0].test(c);r++);if(r===i.length)return!1;if(o)return i[r][2];if(a=t+1,!i[r][1].test(c))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(l=e.bMarks[a]+e.tShift[a],d=e.eMarks[a],c=e.src.slice(l,d),i[r][1].test(c)){0!==c.length&&a++;break}return e.line=a,(s=e.push("html_block","",0)).map=[t,a],s.content=e.getLines(t,a,e.blkIndent,!0),!0}},XGsD:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.FIND_REPLACE="findReplace",e.EMOJI="emoji",e.ORDERED_LIST="orderedList",e.BULLET_LIST="bulletList",e.MEDIA="media",e.MENTION="mention",e.DECISION_LIST="decisionList",e.TASK_LIST="taskList",e.TEXT_COLOR="color",e.TEXT_FORMATTING_STRONG="strong",e.TEXT_FORMATTING_ITALIC="italic",e.UNDO="undo",e.REDO="redo"}(o||(o={}))},XJbs:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),
n.d(t,"a",(function(){return m}));var o=n("UxO+"),r=n("CsC6");function i(e){return(t,o)=>{const{nodes:r}=t.schema;if(e===n("Kuh0").k.name&&r.paragraph)return s()(t,o);const i=n("Kuh0").d[e];return!!(i&&r.heading&&i.level)&&d(i.level)(t,o)}}function a(e,t){return(o,r)=>{const{nodes:i}=o.schema;if(e===n("Kuh0").k.name&&i.paragraph)return l(t)(o,r);const a=n("Kuh0").d[e];return!!(a&&i.heading&&a.level)&&u(a.level,t)(o,r)}}function s(){return function(e,t){const{tr:n,selection:{$from:o,$to:r},schema:i}=e;return t&&t(n.setBlockType(o.pos,r.pos,i.nodes.paragraph)),!0}}function c(e){return(t,o,r)=>{const{heading:i,paragraph:a}=t.schema.nodes,s=Object(n("D4z0").g)(t.doc,t.selection.from,t.selection.to,(e=>e.type===i||e.type===a));let c;for(let e of s){const t=e.node.type===i?e.node.attrs.level:0;if(c){if(t!==c){c=void 0;break}}else c=t}return e(c)(t,o,r)}}function l(e){return c((t=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,
actionSubjectId:n("J5HJ").c.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})(s())))}function d(e){return function(t,n){const{tr:o,selection:{$from:r,$to:i},schema:a}=t;return n&&n(o.setBlockType(r.pos,i.pos,a.nodes.heading,{level:e})),!0}}const u=(e,t)=>c((o=>Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:o}})(d(e))));function p(e){return function(t,r){const{nodes:i}=t.schema;switch(e){case n("Kuh0").a.name:if(i.paragraph&&i.blockquote)return f(i.blockquote)(t,r);break;case n("Kuh0").b.name:if(i.codeBlock)return function(){return function(e,t){const{tr:n}=e,{$to:r}=e.selection,{codeBlock:i}=e.schema.nodes,a=e.doc.nodeAt(r.pos+1),s=a&&a.isText?0:1;return n.replaceRangeWith(r.pos+s,r.pos+s,i.createAndFill()),n.setSelection(o.Selection.near(n.doc.resolve(e.selection.to+s))),t&&t(n),!0}
}()(t,r);break;case n("Kuh0").m.name:if(i.panel&&i.paragraph)return f(i.panel)(t,r)}return!1}}const h=(e,t)=>{switch(e){case n("Kuh0").a.name:return Object(n("SVcB").c)({action:n("J5HJ").a.FORMATTED,actionSubject:n("J5HJ").b.TEXT,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(p(e));case n("Kuh0").b.name:return Object(n("SVcB").c)({action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.CODE_BLOCK,attributes:{inputMethod:t},eventType:n("J5HJ").e.TRACK})(p(e));case n("Kuh0").m.name:return Object(n("SVcB").c)({action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.PANEL,attributes:{inputMethod:t,panelType:n("XN8Y").a.INFO},eventType:n("J5HJ").e.TRACK})(p(e));default:return p(e)}};function f(e){return function(t,i){let{tr:a}=t;const{$from:s,$to:c}=t.selection,{paragraph:l}=t.schema.nodes,{alignment:d,indentation:u}=t.schema.marks;a=Object(n("RLN1").c)(t,[d,u])||a
;const p=s.blockRange(c),h=p&&Object(r.m)(p,e);return p&&h?a.wrap(p,h).scrollIntoView():(a.replaceRangeWith(c.pos+1,c.pos+1,e.createAndFill({},l.create())),a.setSelection(o.Selection.near(a.doc.resolve(t.selection.to+1)))),i&&i(a),!0}}const m=(e,t)=>{const{$cursor:n}=e.selection;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){const{tr:o,schema:r}=e,{paragraph:i}=r.nodes,{parent:a}=n;return o.setNodeMarkup(0,i,a.attrs,[]),t&&t(o),!0}return!1}},XNlX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M9 15.003v2.995a1 1 0 102 0v-3.896C11 13.494 10.507 13 9.9 13H6a1 1 0 000 2.003h3z" fill-rule="nonzero"/><path d="M3.74 20.294a.997.997 0 001.407.005l5.152-5.152a1 1 0 00-.005-1.407l-.034-.034a.997.997 0 00-1.407-.005l-5.152 5.152a1 1 0 00.005 1.407l.034.034z" fill-rule="nonzero"/><path d="M19.067 3.321L13.32 9.066a1.115 1.115 0 00.005 1.57l.036.037a1.112 1.112 0 001.571.005l5.747-5.744a1.116 1.116 0 00-.006-1.57l-.037-.037a1.117 1.117 0 00-1.57-.006z"/><path d="M13 6.002v3.896c0 .608.493 1.102 1.1 1.102H18a1 1 0 000-2.003h-3V6.002a1 1 0 10-2 0z"/></g></svg>'},e));i.displayName="VidFullScreenOffIcon";var a=i;t.default=a},Xvyu:function(t,n,o){"use strict";function r(t,n){if(!Object(o("X0Cu").a)())return;const r=`[START]: ${t}`,i=`[END]: ${t}`,a=performance.now();performance.mark(r),requestAnimationFrame((()=>{requestAnimationFrame((()=>{
performance.mark(i);const o=performance.now()-a;try{performance.measure(t,r,i);const e=performance.getEntriesByName(t).pop();e?n(e.duration,e.startTime):n(o,a)}catch(e){n(o,a)}performance.clearMeasures(t),performance.clearMarks(r),performance.clearMarks(i)}))}))}o.d(n,"a",(function(){return r}))},"Y+O0":function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),function(e){e.OPEN_TYPEAHEAD_AT_CURSOR="OPEN_TYPEAHEAD_AT_CURSOR",e.CLOSE_TYPE_AHEAD="CLOSE_TYPE_AHEAD",e.CHANGE_QUERY="CHANGE_QUERY",e.INSERT_ITEM="INSERT_ITEM",e.INSERT_RAW_QUERY="INSERT_RAW_QUERY",e.UPDATE_LIST_ITEMS="UPDATE_LIST_ITEMS",e.UPDATE_SELECTED_INDEX="UPDATE_SELECTED_INDEX"}(o||(o={}))},"Y+RM":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({undo:{id:"fabric.editor.undo",defaultMessage:"Undo",description:"Undo the previously performed action."},redo:{id:"fabric.editor.redo",defaultMessage:"Redo",description:"Redo the previously undone action."
}})},YAmM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("macroPlugin")},YBum:function(e){e.exports=JSON.parse('{"a":"@atlaskit/editor-core","b":"150.0.0"}')},YL4i:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("MEpN"),r=n("CsC6");const i="atlaskit-table-sorting-ordering";class a extends r.f{constructor(e,t,n){super(),this.prev=t,this.next=n,this.pos=e}invert(){return new a(this.pos,this.next,this.prev)}apply(e){return r.h.ok(e)}map(){return null}getMap(){return new r.g([0,0,0])}toJSON(){return{stepType:i}}static fromJSON(){return new r.e(0,0,o.Slice.empty)}}r.f.jsonID(i,a)},YhpX:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var o=n("vOnD")
;const r=Object(n("ARg4").gridSize)(),i=1.5*Object(n("ARg4").gridSize)(),a=o.css`.ProseMirror{${n("A3Oq").a} [data-layout-section]{margin:${Object(n("ARg4").gridSize)()-1}px -${n("9cwX").ab}px 0;transition:border-color 0.3s ${n("9cwX").O};cursor:pointer;[data-layout-column]{flex:1;min-width:0;border:${n("9cwX").H}px solid ${"rgba(9, 30, 66, 0.13)"};border-radius:4px;padding:${i}px;box-sizing:border-box;> div{> *:first-child{margin-top:0;}> .ProseMirror-gapcursor.-right:first-child + *{margin-top:0;}> .ProseMirror-gapcursor:first-child + span + *{margin-top:0;}> .mediaSingleView-content-wrap:first-child .rich-media-item{margin-top:0;}> .ProseMirror-gapcursor.-right:first-child + .mediaSingleView-content-wrap .rich-media-item{margin-top:0;}> .ProseMirror-gapcursor:first-child + span + .mediaSingleView-content-wrap .rich-media-item{margin-top:0;}> [data-node-type='decisionList']{li:first-of-type [data-decision-wrapper]{margin-top:0;}}}[data-layout-content]{height:100%;cursor:text;}}[data-layout-column] + [data-layout-column]{margin-left:${r}px;}@media screen and (max-width:${n("9cwX").hb}px){[data-layout-column] + [data-layout-column]{margin-left:0;}}&.selected [data-layout-column],&:hover [data-layout-column]{border-color:${"rgba(9, 30, 66, 0.25)"};}&.selected.danger > [data-layout-column]{background-color:${n("9cwX").j};border-color:${n("9cwX").l};}&.${n("9cwX").J}:not(.danger){[data-layout-column]{${Object(n("KCGR").a)([n("NJU0").a.Border,n("NJU0").a.Blanket])}}}}}.fabric-editor--full-width-mode .ProseMirror{[data-layout-section]{.${n("EfLE").b.TABLE_CONTAINER}{margin:0 ${2}px;}}}`
},"Z+2l":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 11l-2.863 1.822c-.42.38-1.137.111-1.137-.427v-8.19C4 3.54 4.596 3 5.333 3h5.334C11.403 3 12 3.539 12 4.206v8.19c0 .537-.719.806-1.139.426L8 11zm0-2.371l2 1.274V5H6v4.902L8 8.63z"/></svg>'},e,{size:"small"}));i.displayName="Story16Icon";var a=i;t.default=a},Z9Bk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));const o={color:"#172B4D".toLowerCase(),label:"Dark gray"},r=e=>{const{$from:t,$to:n,$cursor:r}=e.selection,{textColor:i}=e.schema.marks;let a,s=[]
;r?s.push(i.isInSet(e.storedMarks||r.marks())||void 0):e.doc.nodesBetween(t.pos,n.pos,(e=>{if(e.isLeaf){const t=i.isInSet(e.marks)||void 0;return s.push(t),!t}return!0})),s=s.filter((e=>(!e||!a||e.attrs.color!==a.attrs.color)&&(a=e,!0)));const c=s.filter((e=>!!e));return c.length>1||1===c.length&&s.length>1?null:c.length?c[0].attrs.color:o.color}},ZB51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#2196F3" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));i.displayName="GoogleDoc24Icon"
;var a=i;t.default=a},ZFb1:function(e,t,n){"use strict";t.a=Object(n("8O57").a)((()=>({mode:"light"})))},ZPHY:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return m}));var o=n("3tO9"),r=n.n(o),i=n("MEpN"),a=n("mG1W");const s=(e,t)=>({action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.MEDIA,attributes:{inputMethod:e,fileExtension:t,type:n("J5HJ").c.MEDIA_SINGLE},eventType:n("J5HJ").e.TRACK});function c(e){return Object(n("vRZh").a)(e)&&!Object(n("D4z0").d)(e.selection,e.doc,n("x+VZ").h)}function l(e,t={}){return function(o,r){const{tr:a,schema:l}=o,{paragraph:d}=l.nodes,{inputMethod:u,fileExtension:p}=t;let h=0;return c(o)&&(e.push(d.create()),h=1),a.replaceSelection(new i.Slice(i.Fragment.from(e),0,h)),u&&Object(n("SVcB").a)(o,a,s(u,p)),r&&r(a),!0}}
const d=(e,t)=>!!e.nodes.mediaSingle&&Object(n("CuOu").a)(t),u=(e,t,o)=>{const{state:r,dispatch:i}=e,{mediaSingle:a,media:s}=r.schema.nodes;if(!a)return!1;if(t.type!==s||!Object(n("CuOu").a)(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)return!1;return l([a.create({},t)],{inputMethod:o,fileExtension:t.attrs.__fileMimeType})(r,i)},p=(e,t,o,r,d)=>{if(void 0===r)return!1;const{state:u,dispatch:p}=e,f=u.selection.$from.node(-1),m=h(u.schema,r,d)(t),g=f&&f.type.validContent(i.Fragment.from(m));let b;if(t.fileName){const e=t.fileName.lastIndexOf(".");b=e>=0?t.fileName.substring(e+1):void 0}if(g)l([m],{fileExtension:b,inputMethod:o})(u,p);else{const{newInsertionBehaviour:t}=Object(n("37L4").b)(e.state);let r=null;if(t&&(r=Object(n("hSri").b)(m,u.selection.from)(u.tr)),!r){const t=c(e.state)?i.Fragment.fromArray([m,u.schema.nodes.paragraph.create()]):m;r=Object(a.safeInsert)(t,void 0,!0)(u.tr)}o&&(r=Object(n("SVcB").a)(u,r,s(o,b))),p(r)}return!0},h=(e,t,o)=>r=>{
const{id:i,dimensions:a,contextId:s,scaleFactor:c=1}=r,{width:l,height:d}=a||{height:void 0,width:void 0},{media:u,mediaSingle:p}=e.nodes,h=u.create({id:i,type:"file",collection:t,contextId:s,width:l&&Math.round(l/c),height:d&&Math.round(d/c)}),f=o?{layout:"align-start"}:{};return Object(n("Nrp8").a)(r,h),p.createChecked(f,h)};function f(e,t){const{mediaSingle:o,layoutSection:i,table:s,bulletList:c,orderedList:l,media:d,expand:u}=t.nodes;return t=>{let p=e;return Object(a.hasParentNodeOfType)([i,s,c,l,u])(t)&&(p=Object(n("n8Jk").e)(p,(e=>{const n=Object(a.hasParentNodeOfType)([i,s])(t)?{layout:e.attrs.layout}:{};return"mediaSingle"===e.type.name?o.createChecked(n,e.content,e.marks):e}))),p=Object(n("n8Jk").e)(p,(e=>"media"===e.type.name&&"external"===e.attrs.type?d.createChecked(r()(r()({},e.attrs),{},{__external:!0}),e.content,e.marks):e)),p}}const m=e=>{
const{origWidth:t,origHeight:o,layout:r,pctWidth:i,containerWidth:a,resizedPctWidth:s}=e,{width:c,lineLength:l}=a,d=g(a,i,t,o),u=g(a,s,t,o);if("wide"===r){if(l){const e=Math.ceil(l*n("9cwX").db);return e>c?l:e}}else{if("full-width"===r)return c-n("9cwX").e;if(d)return n("zaYB").e.indexOf(r)>-1?u?s<50?u:d:Math.min(d,t):u||d;if("center"===r)return u||Math.min(t,l||c);if(r&&-1!==n("zaYB").e.indexOf(r)){const e=Math.ceil((l||c)/2);return t<=e?t:e}}return t},g=(e,t,o,r)=>t&&o&&r&&Math.ceil(Object(n("Qvlh").d)(t/100,e.lineLength||e.width))},ZfOZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorBulletListIcon";var a=i;t.default=a},Zzwt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.818 12.56l4.243 4.243 4.242-4.242-4.242-4.243-4.243 4.243zm-1.414 1.415a1.995 1.995 0 010-2.828l4.243-4.243a1.995 1.995 0 012.828 0l4.243 4.243c.78.78.786 2.041 0 2.828l-4.243 4.243a1.996 1.996 0 01-2.828 0l-4.243-4.243zM6.5 13h11l-5.44 5.218L6.5 13zm2.732-8.925a1 1 0 011.414 0l3.536 3.536-1.414 1.414L9.232 5.49a1 1 0 010-1.415zM18 16s1.5 2 1.5 3.5c0 1-1 1.5-1.5 1.5s-1.5-.4-1.5-1.5C16.5 18 18 16 18 16z" fill="currentColor"/></svg>'},e));i.displayName="EditorBackgroundColorIcon";var a=i;t.default=a},aEOQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("3tO9"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("vOnD"),c=n("zuKv"),l=n("pVnL"),d=n.n(l),u=a.a.forwardRef(((e,t)=>a.a.createElement(n("340+").a,d()({ref:t},e,{style:{alignItems:"center"}}))));const p=n("XGsD").a,h=s.default.div.withConfig({componentId:"sc-13jlevi-0"})`display:flex;height:100%;`,f=a.a.forwardRef(((e,t)=>{
const{buttonId:o,testId:s,className:l="",href:d,iconAfter:p,iconBefore:f,disabled:m,selected:g,spacing:b,target:v,children:y,hideTooltip:E,title:w,titlePosition:O="top",item:S,onClick:C,onItemClick:T}=e,x=Object(i.useCallback)(((e,t)=>{m||(o&&t.update((e=>r()(r()({},e),{},{action:n("J5HJ").a.CLICKED,actionSubject:n("J5HJ").b.TOOLBAR_BUTTON,actionSubjectId:o,eventType:n("J5HJ").e.UI}))).fire(c.FabricChannel.editor),C&&C(e),S&&T&&T(S))}),[m,C,T,S,o]),k=e["aria-label"],I=o?`editor-toolbar__${o}`:void 0,A=a.a.createElement(u,{id:I,ref:t,appearance:"subtle","aria-haspopup":!0,testId:s,className:l,href:d,"aria-label":k,iconAfter:p,iconBefore:f,isDisabled:m,isSelected:g,onClick:x,spacing:b||"default",target:v,shouldFitContainer:!0},y);if(!w)return A;const N=E?null:w;return a.a.createElement(n("Yto1").a,{content:N,hideTooltipOnClick:!0,position:O},a.a.createElement(h,null,A))}));t.b=f},aEpL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0
;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 6h6a1 1 0 010 2h-6a1 1 0 110-2zM8 16h6a1 1 0 010 2H8a1 1 0 010-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorItalicIcon";var a=i;t.default=a},aMLK:function(t,n,o){"use strict";o.d(n,"f",(function(){return i})),o.d(n,"d",(function(){return s})),o.d(n,"a",(function(){return c})),o.d(n,"b",(function(){return l})),o.d(n,"c",(function(){return d})),o.d(n,"g",(function(){return u})),o.d(n,"e",(function(){return p})),o.d(n,"h",(function(){return h})),o.d(n,"i",(function(){return f}));var r=o("mG1W");const i=e=>!!e.type.spec.isolating,a=(t,n)=>{const r=o("wYWE").b.get(n),i=r.cellsInRect({left:0,top:0,right:1,bottom:r.height});for(let o=0;o<i.length;o++)try{const e=n.nodeAt(i[o])
;if(e&&e.type!==t.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},s=(e,t)=>{const n=o("wYWE").b.get(t);for(let o=0;o<n.width;o++){const r=t.nodeAt(n.map[o]);if(r&&r.type!==e.schema.nodes.tableHeader)return!1}return!0},c=e=>m(e,o("zYPQ").c,a,!1),l=e=>m(e,o("zYPQ").c,s,!1),d=e=>m(e,o("zYPQ").c,((e,t)=>!!t.attrs.isNumberColumnEnabled),!1),u=e=>{const{permittedLayouts:t}=o("aTJx").d.getState(e).pluginConfig,{bodiedExtension:n,layoutSection:i,expand:a}=e.schema.nodes;return!Object(r.hasParentNodeOfType)([a,i,n])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},p=e=>g(e).reduce(((e,t)=>e+t),0),h=(e,t)=>{let n=g(e),o=g(t);if(n.length!==o.length)return!0;return!1===n.every(((e,t)=>e===o[t]))},f=(e,t)=>{const n=o("wYWE").b.get(t),r=o("wYWE").b.get(e);return n.width!==r.width};function m(e,t,n,o){const r=t(e.selection);return r?n(e,r.node,r.pos):o}function g(e){if(!e.content.firstChild)return[];let t=[]
;return e.content.firstChild.content.forEach((e=>{if(Array.isArray(e.attrs.colwidth)){const n=e.attrs.colspan||1;t.push(...e.attrs.colwidth.slice(0,n))}})),t}},aMlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>performance.now()-e},aTJx:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return b}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("mG1W"),s=n("CsC6");const c=(e,t)=>{const o=e.steps.find((e=>e instanceof n("YL4i").a));return o&&t&&t.pos===o.pos?o.next:void 0},l=(e,t)=>{if(!e.getMeta(n("fRKR").a))return t},d=({tr:e,table:t})=>n=>{if(!(t&&t.node))return r()(r()({},n),{},{targetCellPosition:void 0});const{tableCell:o,tableHeader:i}=e.doc.type.schema.nodes,s=Object(a.findParentNodeOfType)([o,i])(e.selection),c=s?s.pos:void 0;return n.targetCellPosition===c?n:r()(r()({},n),{},{targetCellPosition:c})},u=({tr:e,table:t})=>o=>{const i=t&&t.node
;return!i||(e=>{const[t]=e.steps;if(!(t&&t instanceof s.e))return!1;const{slice:{content:n},from:o,to:r}=t,i=n.firstChild;return o===r&&1===n.childCount&&!!i&&!!i.text&&1===i.text.length})(e)?o:r()(r()(r()({},o),n("QN9l").a),{},{tableNode:i,ordering:c(e,t),resizeHandleColumnIndex:l(e,o.resizeHandleColumnIndex)})},p=({tr:e,table:t})=>o=>{const i=t&&t.node,s=e.doc.type.schema,c=o.pluginConfig.allowCollapse,l=void 0!==s.nodes.expand,d=c&&l;if(!o.editorHasFocus||!d||!i)return o;const u=s.nodes.expand,p=u&&!!Object(a.findParentNodeOfType)(u)(e.selection),h=Object(n("977U").a)(e),f=!!o.tableNode&&!p&&!!h;return o.isTableCollapsed!==p||o.canCollapseTable!==f?r()(r()({},o),{},{isTableCollapsed:p,canCollapseTable:f}):o},h=(e,t)=>(e=>t=>n=>t.table?e.reduce(((e,n)=>n(t)(e)),n):n.targetCellPosition?r()(r()({},n),{},{targetCellPosition:void 0}):n)([d,u,p])({tr:e,table:Object(n("zYPQ").c)(e.selection)})(t)
;const f=new i.PluginKey("tablePlugin"),{createPluginState:m,createCommand:g,getPluginState:b}=Object(n("FJah").a)(f,((e,t)=>{switch(t.type){case"TOGGLE_HEADER_COLUMN":return r()(r()({},e),{},{isHeaderColumnEnabled:!e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return r()(r()({},e),{},{isHeaderRowEnabled:!e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return r()(r()(r()({},e),t.data),n("QN9l").a);case"SELECT_COLUMN":case"SET_TARGET_CELL_POSITION":return r()(r()(r()({},e),t.data),{},{isContextualMenuOpen:!1});case"SET_TABLE_LAYOUT":return r()(r()({},e),t.data);case"TOGGLE_CONTEXTUAL_MENU":return r()(r()({},e),{},{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:r()(r()(r()({},e),t.data),{},{insertColumnButtonIndex:void 0});case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:r()(r()(r()({},e),t.data),{},{insertRowButtonIndex:void 0})
;case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?r()(r()({},e),{},{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"HIDE_RESIZE_HANDLE_LINE":return r()(r()(r()({},e),t.data),{},{resizeHandleColumnIndex:void 0});case"ADD_RESIZE_HANDLE_DECORATIONS":return t.data.resizeHandleColumnIndex===e.resizeHandleColumnIndex?e:r()(r()({},e),t.data);case"SET_TABLE_SIZE":return e.tableWidth!==t.data.tableWidth||e.tableHeight!==t.data.tableHeight?r()(r()({},e),t.data):e;case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return r()(r()({},e),t.data);default:return e}}),{mapping:(e,t)=>{if(e.docChanged){let n={};if(t.targetCellPosition){const{pos:o,deleted:r}=e.mapping.mapResult(t.targetCellPosition);n={targetCellPosition:r?void 0:o}}let o={};if(t.tablePos){const{pos:n,deleted:r}=e.mapping.mapResult(t.tablePos,-1);o={
tablePos:r?void 0:n}}return r()(r()(r()({},t),n),o)}return t},onDocChanged:h,onSelectionChanged:h})},abi4:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.SINGLE_COL="singleColumn",e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(o||(o={})),function(e){e.INLINE_CARD="inline",e.BLOCK_CARD="block",e.URL="url"}(r||(r={}))},aebN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an \u201cunordered\u201d list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",
defaultMessage:"Numbered list",description:"A list with ordered items 1\u2026 2\u2026 3\u2026"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},auKG:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("0unr"),a=n("lSNA"),s=n.n(a),c=n("JRPe"),l=n("vOnD");const d=l.default.button.withConfig({componentId:"sc-1iwd6wd-0"})`height:26px;width:26px;background:${"#091E42"};padding:0;border-radius:4px;border:1px solid ${"#FFFFFF"};cursor:pointer;display:block;`,u=l.default.span.withConfig({componentId:"sc-1iwd6wd-1"})`border:1px solid transparent;margin:1px;font-size:0;display:flex;align-items:center;padding:1px;border-radius:6px;&:hover{border-color:${"#C1C7D0"};}`,p=Object(c.defineMessages)({selected:{id:"fabric.editor.selected",defaultMessage:"Selected",
description:"If the item is selected or not."}});class h extends o.PureComponent{constructor(...e){super(...e),s()(this,"onMouseDown",(e=>{e.preventDefault()})),s()(this,"onClick",(e=>{const{onClick:t,value:n,label:o}=this.props;e.preventDefault(),t(n,o)}))}render(){const{tabIndex:e,value:t,label:o,isSelected:i,borderColor:a,checkMarkColor:s="#FFFFFF",intl:{formatMessage:c}}=this.props,l=i?`${o} ${c(p.selected)}`:o;return r.a.createElement(n("Yto1").a,{content:o},r.a.createElement(u,null,r.a.createElement(d,{"aria-label":l,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:e,className:""+(i?"selected":""),style:{backgroundColor:t||"transparent",border:`1px solid ${a}`}},i&&r.a.createElement(n.n(n("q3rX")).a,{primaryColor:s,label:""}))))}}h.displayName="Color";var f=Object(c.injectIntl)(h);const m=l.default.div.withConfig({componentId:"sc-1b103u2-0"})`padding:0 ${Object(n("ARg4").gridSize)()}px;display:flex;`;function g(e,t){
return t.sort(((t,n)=>i.a.difference(n,e)-i.a.difference(t,e)))[0]}t.a=Object(c.injectIntl)((e=>{const{palette:t,cols:n=7,onClick:o,selectedColor:i,className:a,intl:{formatMessage:s}}=e,c=r.a.useMemo((()=>t.reduce(((e,t,o)=>{const r=Math.floor(o/n);return e[r]=e[r]||[],e[r].push(t),e}),[])),[t,n]);return r.a.createElement(r.a.Fragment,null,c.map((e=>r.a.createElement(m,{className:a,key:`row-first-color-${e[0].value}`},e.map((({value:e,label:t,border:n,message:a})=>r.a.createElement(f,{key:e,value:e,borderColor:n,label:a?s(a):t,onClick:o,isSelected:e===i,checkMarkColor:g(e,["#FFFFFF","#42526E"])})))))))}))},aznN:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("ABBN"),r=n("UxO+"),i=n("mG1W");const a=(e,t)=>{const{decisionList:n,decisionItem:o,taskList:r,taskItem:i}=t.nodes;return"taskList"===e?{list:r,item:i}:{list:n,item:o}},s=(e,t,i=n("J5HJ").f.TOOLBAR,a,s)=>{
const{state:l}=e,{schema:u}=l,p=c(l,t,i,(({tr:e,list:t,item:n,listLocalId:o,itemLocalId:r})=>d(e,t,n,u,l,o,r)),(({state:e,tr:t,item:n,itemLocalId:o})=>{const{$to:i}=e.selection,a=i.end(i.depth);return t.split(a,1,[{type:n,attrs:{localId:o}}]).setSelection(new r.TextSelection(t.doc.resolve(a+i.depth)))}),a,s);return Object(o.a)(((e,t)=>!!p&&(t&&t(p),!0)),["taskList","decisionList"])},c=(e,t,o,r,s,c,l)=>{const{schema:d}=e,{list:u,item:p}=a(t,d),{tr:h}=e,{$to:f}=e.selection,m=Object(i.findParentNodeOfType)(u)(e.selection),g=((e={})=>{const{objectId:t,containerId:o}=e;return{objectId:t,containerId:o,userContext:t?n("fKAr").a.EDIT:n("fKAr").a.NEW}})(n("qvPZ").a.getState(e).contextIdentifierProvider);let b,v,y;if(m){if(f.node().textContent.length>=0){y=m.node.childCount+1,c=c||m.node.attrs.localId;const t=Object(i.findParentNodeOfType)(p)(e.selection);v=t?e.doc.resolve(t.pos).index()+1:0,b=s||r}}else v=0,y=1,b=r;if(c=c||n("klzq").b.generate(),l=l||n("klzq").b.generate(),b){let r=b({state:e,
tr:h,list:u,item:p,listLocalId:c,itemLocalId:l});return r&&(r=Object(n("SVcB").a)(e,r,((e,t,o,r,i,a,s)=>{let c,l,d;return t&&({containerId:c,objectId:l,userContext:d}=t),{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:"taskList"===e?n("J5HJ").c.ACTION:n("J5HJ").c.DECISION,eventType:n("J5HJ").e.TRACK,attributes:{inputMethod:o,containerAri:c,objectAri:l,userContext:d,localId:r,listLocalId:i,position:a,listSize:s}}})(t,g,o,l,c,v||0,y||0))),r}return null},l=(e,t)=>t.depth-e.depth,d=(e,t,o,a,s,c=n("klzq").b.generate(),d=n("klzq").b.generate())=>{const{selection:u}=s,{$from:p,$to:h}=u;if(p.parent!==h.parent)return null;const{paragraph:f,blockquote:m,decisionList:g,taskList:b,decisionItem:v,taskItem:y,mediaGroup:E}=a.nodes;if(p.parent.type===E)return null;const w=t.create({localId:c},[o.create({localId:d})]);if(u instanceof n("g1AK").a)return Object(i.safeInsert)(w)(e);if(((e,t)=>{const{paragraph:n,blockquote:o,decisionList:r,taskList:a}=e.nodes
;return Object(i.hasParentNodeOfType)([o,n,r,a])(t)})(a,u)){const{type:a,childCount:s}=u.$from.node(),c=t.create({localId:n("klzq").b.generate()},[o.create({localId:n("klzq").b.generate()},p.node(p.depth).content)]),d=Object(i.findParentNodeOfType)(b)(u)||Object(i.findParentNodeOfType)(g)(u),E=Object(i.findParentNodeOfType)(y)(u)||Object(i.findParentNodeOfType)(v)(u);if(d&&E){let t,n,o=u.from;return d.node.firstChild===E.node?(t=d.start-1,n=E.start+E.node.nodeSize,1===d.node.childCount&&(n=d.start+d.node.nodeSize-1)):(t=E.start-1,n=E.start+E.node.nodeSize,o+=2),e.replaceWith(t,n,c),e=Object(i.setTextSelection)(o)(e)}const w=[m];a===f&&s>0&&w.push(f);let O=e;O=Object(i.replaceParentNodeOfType)(w,c)(e);const S=l(h,O.selection.$to);if(O!==(e=e.setSelection(new r.TextSelection(e.doc.resolve(h.pos+S)))))return e}return Object(i.safeInsert)(w)(e)}},"b+wK":function(e,t,n){"use strict";function o(e){
return Object(n("GhYq").a)(e,"cell")?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:Object(n("GhYq").a)(e,"node")&&"cell"===e.node.type.spec.tableRole?e.$anchor:Object(n("EdO1").a)(e.$head)||Object(n("EdO1").b)(e.$head)}n.d(t,"a",(function(){return o}))},b9EY:function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},bIcM:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("MEpN"),s=n("CsC6");const c=({tr:e,originalSelection:t,normalizedSelection:o,hasCommonListMoved:r,hasNormalizedToPositionLiftedOut:a,hasNormalizedFromPositionLiftedOut:s})=>{const{$from:c,$to:l}=o,d=o.empty;let u=e.mapping.map(c.pos),p=e.mapping.map(l.pos);const h=c.sameParent(l);if(s){const e=h?c.pos:u;u=s?c.pos:e,u=r?u-2:u,u=Math.max(u,0)}if(a){const t=h?l.pos:p;p=a?l.pos:t,
p=r?p-2:p,p=Math.min(p,e.doc.nodeSize-2)}if(o instanceof n("g1AK").a){const t=e.doc.resolve(u);return new(n("g1AK").a)(t,o.side)}return t instanceof i.NodeSelection?i.NodeSelection.create(e.doc,u):d?i.TextSelection.between(e.doc.resolve(p),e.doc.resolve(p),-1):i.TextSelection.between(e.doc.resolve(u),e.doc.resolve(p),-1)},l=e=>{const t=Object(n("DQ6B").b)({selection:e});if(!t)return[];const{$from:o,$to:r}=e;if(o.pos===r.pos&&o.sameParent(r))return[{from:t.start,to:t.end,depth:t.depth}];const i=p(o);if(!i)return[];const a=[],{doc:s}=o;let c=p(r);for(;c&&c.pos>=i.pos&&c.pos>=t.start;){const e=s.nodeAt(c.pos);if(!e||!Object(n("EvmU").c)(e))return[];let t=0;e&&e.lastChild&&Object(n("EvmU").d)(e.lastChild)&&(t=e.lastChild.nodeSize);const o=c.pos+1;a.push({from:o,to:s.resolve(o).end()-t,depth:c.depth}),c=p(c)}return a},d=({tr:e,range:t})=>{const n=t.end,o=t.$to.end(t.depth),{listItem:r}=e.doc.type.schema.nodes;if(n<o){
const i=new a.Slice(a.Fragment.from(r.create(null,t.parent.copy())),1,0),c=new s.d(n-1,o,n,o,i,1,!0);e.step(c),t=new a.NodeRange(e.doc.resolve(t.$from.pos),e.doc.resolve(o),t.depth)}const i=Object(s.p)(t);i&&e.lift(t,i)},u=({tr:e,range:t})=>{const o=t.parent,r=e.doc.resolve(t.start),i=r.start(t.depth),c=r.end(t.depth),l=i===t.start,d=c===t.end,u=l&&d;let p=l?a.Fragment.empty:a.Fragment.from(o.copy(a.Fragment.empty));for(let n=t.startIndex;n<t.endIndex;n++)p=p.append(o.child(n).content);if(l)for(let a=0;a<p.childCount;a++){const e=p.child(a);if(e&&Object(n("EvmU").d)(e)&&e.type!==o.type){const t=o.type.create(null,e.content);p=p.replaceChild(a,t)}}const h=p.append(a.Fragment.from(o.copy(a.Fragment.empty)));if(u){const n=new a.Slice(p,0,0),o=new s.e(r.pos-1,t.end+1,n,!1);e.step(o)}else if(l){const n=new a.Slice(h,0,1),o=new s.e(r.pos-1,t.end,n,!1);e.step(o)}else if(d){const t=new a.Slice(p,1,0),n=new s.e(r.pos,c+1,t,!1);e.step(n)}else{
const n=new a.Slice(h,1,1),o=new s.d(r.pos,c,t.end,c,n,n.size,!1);e.step(o)}},p=e=>{const t=e.doc,o=Object(n("EvmU").d)(e.node());let r=e;if(!o){const o=Object(n("ytXc").a)(e);return o?t.resolve(o.pos):null}const a=t.resolve(r.pos),s=i.Selection.findFrom(a,-1);if(!s)return null;const c=Object(n("ytXc").a)(s.$from);return c?t.resolve(c.pos):null};function h(e=n("J5HJ").f.KEYBOARD){return function(t,o){if(!Object(n("DQ6B").d)(t))return!1;const{$from:i}=t.selection,a=Object(n("ytXc").b)(i);if(!a)return!0;const s=Object(n("EvmU").b)(a.node)?n("J5HJ").c.FORMAT_LIST_BULLET:n("J5HJ").c.FORMAT_LIST_NUMBER;let p=t.tr;return(e=>{const t=e.selection,o=Object(n("DQ6B").h)({selection:e.selection,doc:e.doc}),r=Object(n("ytXc").c)(o.$from);if(!r)return;const i=o.$from.blockRange(r,n("EvmU").d);if(!i)return;let a=!1,s=!1;const{from:p,to:h}=o;l(o).forEach((t=>{const o=e.doc.resolve(e.mapping.map(t.from)),r=e.doc.resolve(e.mapping.map(t.to)),i=o.blockRange(r,n("EvmU").d)
;i&&(Object(n("EvmU").c)(o.node(i.depth-1))?d({tr:e,range:i}):(u({tr:e,range:i}),a=a||h>=t.from&&h<t.to,s=s||p>=t.from&&p<t.to))}));const f=i.start!==e.mapping.map(i.start),m=c({originalSelection:t,normalizedSelection:o,tr:e,hasCommonListMoved:f,hasNormalizedToPositionLiftedOut:a,hasNormalizedFromPositionLiftedOut:s});e.setSelection(m),Object(n("EvmU").f)({tr:e,direction:n("EvmU").a.RIGHT})})(p),!p||!p.docChanged||(Object(n("SVcB").a)(t,p,{action:n("J5HJ").a.OUTDENTED,actionSubject:n("J5HJ").b.LIST,actionSubjectId:s,eventType:n("J5HJ").e.TRACK,attributes:r()(r()({},Object(n("2xgt").a)(t)),{},{inputMethod:e})}),o&&o(p),!0)}}},bJo2:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));const o=e=>Object(n("RB5l").a)({type:n("WXBT").a.SET_KEYBOARD_HEIGHT,keyboardHeight:e}),r=e=>Object(n("RB5l").a)({type:n("WXBT").a.SET_WINDOW_HEIGHT,windowHeight:e}),i=e=>Object(n("RB5l").a)({
type:n("WXBT").a.SET_MOBILE_PADDING_TOP,paddingTop:e})},banK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h2a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutThreeEqualIcon";var a=i;t.default=a},bcXr:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){
return h}));var o=n("UxO+"),r=n("MEpN"),i=n("mG1W");const a=e=>(t,o)=>{const i=o.schema.nodes.date.createChecked({timestamp:Object(n("Jvvb").f)()}),a=o.schema.text(" "),s=t(r.Fragment.from([i,a]),{selectInlineNode:!0}),c={isQuickInsertAction:e,showDatePickerAt:s.selection.from,isNew:!0,isDateEmpty:!1,focusDateInput:!1};return s.setMeta(n("VpzP").a,c)},s=()=>(e,t)=>{const{showDatePickerAt:o}=n("VpzP").a.getState(e);if(null===o)return!1;const r=e.tr.delete(o,o+1).setMeta(n("VpzP").a,{showDatePickerAt:null,isNew:!1});return t&&t(r),!0},c=()=>(e,t)=>{const{showDatePickerAt:o}=n("VpzP").a.getState(e);if(null===o)return!1;if(!t)return!1;return t(e.tr.setMeta(n("VpzP").a,{focusDateInput:!0})),!0},l=(e,t,a,s=!0)=>(c,l)=>{const{schema:d}=c;let u;u=e?Date.UTC(e.year,e.month-1,e.day).toString():Object(n("Jvvb").f)();let p=c.tr;t&&Object(n("SVcB").a)(c,p,{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.DATE,eventType:n("J5HJ").e.TRACK,attributes:{
inputMethod:t}}),a&&Object(n("SVcB").a)(c,p,{eventType:n("J5HJ").e.TRACK,action:n("J5HJ").a.COMMITTED,actionSubject:n("J5HJ").b.DATE,attributes:{commitMethod:a,isValid:void 0!==e,isToday:Object(n("3taF").d)(e)}});const{showDatePickerAt:h}=n("VpzP").a.getState(c);if(!h){const e=d.nodes.date.createChecked({timestamp:u}),t=c.schema.text(" "),a=r.Fragment.fromArray([e,t]),{from:s,to:h}=c.selection;if(Object(i.canInsert)(p.selection.$from,a))p.replaceWith(s,h,a).setSelection(o.NodeSelection.create(p.doc,s));else{const e=o.NodeSelection.create(p.doc,p.selection.from-p.selection.$anchor.parentOffset-1);p.insert(e.to,a).setSelection(o.NodeSelection.create(p.doc,e.to+1))}return l&&l(p.scrollIntoView().setMeta(n("VpzP").a,{isNew:!0})),!0}return!!c.doc.nodeAt(h)&&(s&&(p=p.setSelection(o.Selection.near(p.doc.resolve(h+2)))),p=p.setNodeMarkup(h,d.nodes.date,{timestamp:u}).setMeta(n("VpzP").a,{isNew:!1}).scrollIntoView(),s||(p=p.setSelection(o.NodeSelection.create(p.doc,h))),l&&l(p),!0)
},d=e=>(t,o)=>(o(t.tr.setMeta(n("VpzP").a,{showDatePickerAt:e})),!0),u=()=>(e,t)=>{const{showDatePickerAt:r}=n("VpzP").a.getState(e);if(!t)return!1;return t(r?e.tr.setMeta(n("VpzP").a,{showDatePickerAt:null,isNew:!1}).setSelection(o.Selection.near(e.tr.doc.resolve(r+2))):e.tr.setMeta(n("VpzP").a,{isNew:!1})),!1},p=({date:e})=>Object(n("SVcB").c)({eventType:n("J5HJ").e.TRACK,action:n("J5HJ").a.COMMITTED,actionSubject:n("J5HJ").b.DATE,attributes:{commitMethod:n("J5HJ").f.BLUR,isValid:void 0!==e,isToday:Object(n("3taF").d)(e)}})(u()),h=()=>(e,t)=>{const{$from:r}=e.selection,i=e.doc.nodeAt(r.pos);if(i&&i.type.name===e.schema.nodes.date.name){const i=r.pos;t&&t(e.tr.setMeta(n("VpzP").a,{showDatePickerAt:i}).setSelection(o.NodeSelection.create(e.doc,i)))}return!1}},bgCn:function(e,t,n){"use strict";for(var o=n("AGgm").isSpace,r=[],i=0;i<256;i++)r.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){r[e.charCodeAt(0)]=1})),e.exports=function(e,t){
var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==r[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),o(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},bmZU:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n("3tO9"),r=n.n(o);const{createPluginState:i,createCommand:a,getPluginState:s}=Object(n("FJah").a)(n("dHhq").a,((e,t)=>{switch(t.type){case"SHOW_CONFIRM_DIALOG":return r()(r()({},e),{},{confirmDialogForItem:t.data.buttonIndex});case"HIDE_CONFIRM_DIALOG":return r()(r()({},e),{},{confirmDialogForItem:void 0});default:return e}}))},bwse:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e));i.displayName="MediaServicesTextIcon";var a=i;t.default=a},cObF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 00-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 00-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="QuoteIcon";var a=i;t.default=a},cQff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h1a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm5 0h9a1 1 0 011 1v12a1 1 0 01-1 1h-9a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutTwoLeftSidebarIcon";var a=i;t.default=a},cTMM:function(e,t,n){"use strict";var o=n("CWsV");function r(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}r.prototype.Token=o,e.exports=r},cblB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("MEpN"),r=n("CsC6");let i;!function(e){e.DELETING_RAW_QUERY="DELETING_RAW_QUERY",e.INSERTING_ITEM="INSERTING_ITEM"}(i||(i={}));class a extends r.f{constructor({stage:e,query:t,trigger:n,selectedIndex:o},r=!1){super(),this.isInvertStep=r,this.stage=e,this.query=t,this.trigger=n,this.selectedIndex=o}invert(){const e={stage:this.stage,query:this.query,trigger:this.trigger,
selectedIndex:this.selectedIndex};return new a(e,!this.isInvertStep)}apply(e){return r.h.ok(e)}merge(){return null}isInsertionStep(){return!this.isInvertStep}isUndoingStep(){return this.isInvertStep}map(e){const t={stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex};return new a(t,this.isInvertStep)}getMap(){return new r.g([0,0,0])}toJSON(){return{stepType:"replace",from:0,to:0}}static fromJSON(){return new r.e(0,0,o.Slice.empty)}}r.f.jsonID("atlaskit-insert-type-ahead",a)},ctHz:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var o=n("mG1W");const r=e=>{const{selection:t}=e.state;let r=[];const i=Object(n("zYPQ").c)(t);if(i){const a=n("wYWE").b.get(i.node),s=e.domAtPos.bind(e);r=Array.from({length:a.width});for(let e=0;e<a.width;e++){const i=Object(n("DgfI").a)(e)(t)[0];if(i){const t=Object(o.findDomRefAtPos)(i.pos,s),n=t.getBoundingClientRect()
;r[e]=(n?n.width:t.offsetWidth)+1,e+=i.node.attrs.colspan-1}}}return r},i=(e,t)=>{const o=Object(n("n3wV").a)(t);if(!o)return null;let r=0,i=0;for(let n=0;n<o.left;n++){const t=e[n];t&&(i+=t-1)}const a=[];for(let n=o.left;n<o.right;n++){const t=e[n];t&&(r+=t,a.push(n))}return{left:i+r/2-8,indexes:a}},a=(e,t)=>{const o=Object(n("9a+x").d)(t,(e=>Number(e.getAttribute("colspan")||1))),r=t.nextElementSibling||t;if(r){const e=Object(n("9a+x").d)(r,(e=>({width:e.offsetWidth,colspan:Number(e.getAttribute("colspan")||1),colwidth:e.dataset.colwidth})));let t=[];if(e.map(((e,n)=>{t.push(...(({width:e,colspan:t,colwidth:n})=>{if(t<=1||!n)return new Array(t).fill(e/t);const o=n.split(",").map((e=>Number(e))),r=o.reduce(((e,t)=>e+t),0);return o.map((t=>e*(t/r)))})(e))})),0!==e.reduce(((e,t)=>e+t.width),0)){return((e,t)=>{let n=0;const o=[];return e.forEach((e=>{const r=t.slice(n,n+e).reduce(((e,t)=>e+t),0);n+=e,o.push(r)})),o})(o,t).map((e=>`${e}px`)).join(" ")}}const i=o.reduce(((e,t)=>e+t),0)
;return o.map((e=>e/i*100)).map((e=>`${e}%`)).join(" ")}},dHhq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("floatingToolbarData")},dbDw:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var o=n("/+cc"),r=n.n(o);const i={threshold:.3,keys:[{name:"title",weight:.5},{name:"priority",weight:.3},{name:"keywords",weight:.15},{name:"description",weight:.04},{name:"keyshortcut",weight:.01}]};function a(e,t){const n=new r.a(t,i);return""===e?t.slice(0).sort(((e,t)=>(e.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY))):n.search(e)}const s=(e,t)=>(o,r)=>{const i=t&&t.disableDefaultItems?[]:e.lazyDefaultItems(),s=e.providedItems,c=s?Object(n("D4z0").f)([...i,...s],(e=>e.title)):i;return a(o||"","all"!==r&&r?c.filter((e=>e.categories&&e.categories.includes(r))):c)},c=({providedItems:e,lazyDefaultItems:t},o)=>()=>{const r=o&&o.disableDefaultItems?[]:t()
;return(e?Object(n("D4z0").f)([...r,...e],(e=>e.title)):r).filter((e=>e.featured))}},djJP:function(e,t,n){"use strict";n.r(t);var o=n("pVnL"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("vN+2"),c=n.n(s),l=n("6xe2");const d=({adf:e})=>{const[{mentionProvider:t,contextIdentifier:o,mediaContext:r,getEncodedMention:i}]=Object(n("ORa1").d)();return t&&o&&r?a.a.createElement(n("cAiP").a,{adf:e,mentionProvider:t,contextIdentifier:o,mediaContext:r,mentionEncoder:i}):null};d.displayName="ConnectedRenderer";var u=d;const p=Object(l.h)((()=>n.e("async-editor-view").then(n.bind(null,"Lk4p"))),{moduleId:"./src/packages/issue/issue-actions/issue-comment-base/src/ui/comment/content/comment-editor/index.js"});class h extends i.Component{constructor(...e){super(...e),this.getEditValue=()=>this.props.draftValue||this.props.bodyAdf,this.renderEditor=()=>{const e=a.a.createElement(u,{adf:this.props.bodyAdf}),t={isExpanded:!0,isExpandedByDefault:!0,shouldFocus:!0,defaultValue:this.getEditValue(),
secondaryToolbarComponents:this.props.secondaryToolbarComponents,onBlur:this.props.onBlur,onSave:this.props.onSave,onCancel:this.props.onCancel,onChange:this.props.onChange,onPaste:this.props.onPaste},o=a.a.createElement(n("9PSx").a,{packageName:"issue",fallback:e},a.a.createElement(p,t));return this.props.isServiceDesk?a.a.createElement(n("Ko4t").a,{isExpanded:!0,commentId:this.props.commentId},o):o}}render(){return a.a.createElement(n("OxSL").a,null,this.props.isEditing?this.renderEditor():a.a.createElement(u,{adf:this.props.bodyAdf}))}}h.displayName="CommentContent",h.displayName="CommentContent",h.defaultProps={isServiceDesk:!1,onBlur:c.a,onSave:c.a,onCancel:c.a,onChange:c.a,onPaste:c.a};const f=e=>{const[{projectType:t}]=Object(n("ORa1").c)();return n("ORa1").c?a.a.createElement(h,r()({},e,{isServiceDesk:"service_desk"===t})):null};f.displayName="ConnectedCommentContent";t.default=f},dndX:function(e,t,n){"use strict";function o(e,t){Object(n("jIYg").a)(2,arguments)
;var o=Object(n("/Tr7").a)(e),r=Object(n("/Tr7").a)(t);return o.getTime()<r.getTime()}n.d(t,"a",(function(){return o}))},dpam:function(e,t,n){"use strict";var o=n("SINd"),r=[["table",n("gNPE"),["paragraph","reference"]],["code",n("nBLk")],["fence",n("vys+"),["paragraph","reference","blockquote","list"]],["blockquote",n("6A5J"),["paragraph","reference","blockquote","list"]],["hr",n("/f6Q"),["paragraph","reference","blockquote","list"]],["list",n("Sz5L"),["paragraph","reference","blockquote"]],["reference",n("1nBO")],["heading",n("B1jb"),["paragraph","reference","blockquote"]],["lheading",n("GZ5e")],["html_block",n("X71X"),["paragraph","reference","blockquote"]],["paragraph",n("RKh7")]];function i(){this.ruler=new o;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1],{alt:(r[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var o,r=this.ruler.getRules(""),i=r.length,a=t,s=!1,c=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),
!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=c){e.line=n;break}for(o=0;o<i&&!r[o](e,a,n,!1);o++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<n&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,o){var r;e&&(r=new this.State(e,t,n,o),this.tokenize(r,r.line,r.lineMax))},i.prototype.State=n("g0+v"),e.exports=i},dtZH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.99 8.99l.01 1.015V19a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768v.521zM12.02 5L12 8.192a.99.99 0 00.994.991h4L12.02 5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="DocumentFilledIcon";var a=i;t.default=a},e93I:function(e,t,n){
"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("JRPe"),r=n("/MKj");var i=Object(n("v5q+").a)([o.injectIntl,Object(r.connect)(((e,t)=>{const o=Object(n("4dgq").f)(e);return{contextIdentifier:Object(n("EY1J").a)(e,t),baseUrl:o,mentionProvider:Object(n("K/wP").a)(e),mentionEncoder:Object(n("zlLD").a)(o),activityProvider:Object(n("NMw1").a)(e),mediaContext:Object(n("gjKp").a)(e),sharedAtTimestamp:Object(n("0USP").a)(e),sharedValue:Object(n("0USP").b)(e)}}),(e=>({onExpandedFailure:()=>e(Object(n("jCiC").b)()),onSaveFailure:()=>e(Object(n("jCiC").c)()),clearSharedValues:()=>{e(Object(n("xlxo").a)())}})))])(n("yIKL").a)},eFSV:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var o=n("3tO9"),r=n.n(o);const i=Object(n("FJah").a)(n("JE3G").a,(function(e,t){switch(t.type){case"UPDATE_STATE":return r()(r()({},e),t.data);default:return e}}),{mapping(e,t){const{positions:n}=t;if(!n)return t
;const o=r()({},n);for(const r in o)o[r]=e.mapping.map(o[r]);return r()(r()({},t),{},{positions:o})}}),a=i.createPluginState,s=i.createCommand,c=i.getPluginState},eFkm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={BREAKOUT_MARK:"fabric-editor-breakout-mark",BREAKOUT_MARK_DOM:"fabric-editor-breakout-mark-dom"}},eGWo:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>e?parseInt(e,10):0},eOwP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm10.564 16.636h-1.93a.243.243 0 01-.244-.243V8.384c0-.135.108-.243.243-.243h1.93c.135 0 .244.108.244.243v8.009a.243.243 0 01-.243.243m3.79 0h-1.931a.243.243 0 01-.243-.243V8.384c0-.135.109-.243.243-.243h5.334c.133 0 .243.108.243.243v1.573c0 .134-.11.243-.243.243h-3.16v1.42h2.848c.135 0 .244.11.244.244v1.518a.243.243 0 01-.244.244h-2.847v2.767c0 .134-.11.243-.244.243m-10.567.146C4.416 16.782 3 15.31 3 12.843v-.962C3 9.487 4.453 8 6.793 8c2.314 0 3.436 1.467 3.522 2.922a.241.241 0 01-.242.258H8.195a.243.243 0 01-.24-.2c-.1-.55-.552-.892-1.18-.892-1.108 0-1.34.985-1.34 1.81v.94c0 1.231.467 1.856 1.393 1.856.885 0 1.2-.538 1.2-1v-.092H6.874a.243.243 0 01-.243-.243v-1.373c0-.134.11-.243.243-.243h3.216c.134 0 .243.109.243.243v1.555c0 1.496-.929 3.241-3.546 3.241"/></svg>'},e,{size:"medium"}))
;i.displayName="Gif24Icon";var a=i;t.default=a},ecD3:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o);const i=n("vOnD").default.div.withConfig({componentId:"sc-1ewgg4h-0"})`background:${"#EBECF0"};width:1px;height:20px;margin:0 4px;align-self:center;`;t.a=()=>r.a.createElement(i,{className:"separator"})},efs6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorDecisionIcon";var a=i;t.default=a},
egUu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));n("vOnD");const o=()=>3,r=()=>8,i=()=>14,a=()=>"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"},eydt:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);const s=n("vOnD").default.div.withConfig({componentId:"sc-1m6ityz-0"})`width:100%;height:100%;display:flex;flex:1;overflow:visible;align-items:center;justify-content:center;position:relative;.${"mvng-hide-controls"}{${({controlsAreVisible:e})=>`\n  transition: opacity .3s;\n  opacity: ${e?"1":"0"};\n`};}`;s.displayName="InactivityDetectorWrapper";class c extends i.Component{constructor(...e){super(...e),r()(this,"contentWrapperElement",a.a.createRef()),r()(this,"state",{controlsAreVisible:!0}),r()(this,"clearTimeout",(()=>{
this.checkActivityTimeout&&window.clearTimeout(this.checkActivityTimeout)})),r()(this,"hideControls",(e=>()=>{if(e){Object(n("/Dh2").d)(e,"mvng-hide-controls",this.contentWrapperElement.current||void 0)||this.setState({controlsAreVisible:!1})}else this.setState({controlsAreVisible:!1})})),r()(this,"checkMouseMovement",(e=>{const{controlsAreVisible:t}=this.state;this.clearTimeout(),t||this.setState({controlsAreVisible:!0}),this.checkActivityTimeout=window.setTimeout(this.hideControls(e&&e.target),2e3)}))}componentDidMount(){this.checkMouseMovement()}componentWillUnmount(){this.clearTimeout()}render(){const{controlsAreVisible:e}=this.state,{children:t}=this.props;return a.a.createElement(s,{innerRef:this.contentWrapperElement,controlsAreVisible:e,onMouseMove:this.checkMouseMovement,onMouseOut:()=>this.checkMouseMovement(),onClick:this.checkMouseMovement},t(this.checkMouseMovement))}}c.displayName="InactivityDetector"},f7y9:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}))
;var o=n("pVnL"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s);const l=e=>class extends s.Component{constructor(...e){super(...e),a()(this,"state",{imageStatus:"loading"}),a()(this,"onLoad",(()=>{this.setState({imageStatus:"complete"});const{onExternalImageLoaded:e}=this.props;e&&this.img&&e({width:this.img.naturalWidth,height:this.img.naturalHeight})})),a()(this,"onError",(()=>{this.setState({imageStatus:"error"})}))}componentDidMount(){this.fetchImage(this.props)}UNSAFE_componentWillReceiveProps(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))}componentWillUnmount(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)}fetchImage({url:e}){e&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=e)}render(){const{imageStatus:t}=this.state;return c.a.createElement(e,r()({},this.props,{
imageStatus:t}))}}},fHUw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.248 0A3.248 3.248 0 000 3.248v17.504A3.248 3.248 0 003.248 24h17.504A3.248 3.248 0 0024 20.752V3.248A3.248 3.248 0 0020.752 0H3.248zm8.755 17.012a2.506 2.506 0 01-2.505 2.507 2.506 2.506 0 010-5.013 2.506 2.506 0 010-5.012 2.506 2.506 0 010-5.013h5.009a2.506 2.506 0 010 5.013h-2.505v2.5a2.506 2.506 0 012.505-2.5 2.506 2.506 0 010 5.012 2.506 2.506 0 01-2.505-2.5v5.006z" fill="#5243AA"/></svg>'},e,{size:"medium"}));i.displayName="Figma24Icon";var a=i;t.default=a},fHir:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){
return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e));i.displayName="EditorExpandIcon";var a=i;t.default=a},fKAr:function(e,t,n){"use strict";let o,r,i,a;n.d(t,"a",(function(){return o})),function(e){e.EDIT="edit",e.NEW="new"}(o||(o={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(r||(r={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(i||(i={})),function(e){
e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(a||(a={}))},fLGs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#0A9D58" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));i.displayName="GoogleSheet24Icon"
;var a=i;t.default=a},"fMI+":function(e,t,n){"use strict";var o=n("AGgm").assign,r=n("AGgm").unescapeAll,i=n("AGgm").escapeHtml,a={};function s(){this.rules=o({},a)}a.code_inline=function(e,t,n,o,r){var a=e[t];return"<code"+r.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,o,r){var a=e[t];return"<pre"+r.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,o,a){var s,c,l,d,u=e[t],p=u.info?r(u.info).trim():"",h="";return p&&(h=p.split(/\s+/g)[0]),0===(s=n.highlight&&n.highlight(u.content,h)||i(u.content)).indexOf("<pre")?s+"\n":p?(c=u.attrIndex("class"),l=u.attrs?u.attrs.slice():[],c<0?l.push(["class",n.langPrefix+h]):l[c][1]+=" "+n.langPrefix+h,d={attrs:l},"<pre><code"+a.renderAttrs(d)+">"+s+"</code></pre>\n"):"<pre><code"+a.renderAttrs(u)+">"+s+"</code></pre>\n"},a.image=function(e,t,n,o,r){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=r.renderInlineAsText(i.children,n,o),r.renderToken(e,t,n)},a.hardbreak=function(e,t,n){
return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},s.prototype.renderAttrs=function(e){var t,n,o;if(!e.attrs)return"";for(o="",t=0,n=e.attrs.length;t<n;t++)o+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return o},s.prototype.renderToken=function(e,t,n){var o,r="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===a.nesting?"</":"<")+a.tag,r+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(r+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(o=e[t+1]).type||o.hidden||-1===o.nesting&&o.tag===a.tag)&&(i=!1)),r+=i?">\n":">")},s.prototype.renderInline=function(e,t,n){for(var o,r="",i=this.rules,a=0,s=e.length;a<s;a++)void 0!==i[o=e[a].type]?r+=i[o](e,a,t,n,this):r+=this.renderToken(e,a,t);return r},
s.prototype.renderInlineAsText=function(e,t,n){for(var o="",r=0,i=e.length;r<i;r++)"text"===e[r].type?o+=e[r].content:"image"===e[r].type&&(o+=this.renderInlineAsText(e[r].children,t,n));return o},s.prototype.render=function(e,t,n){var o,r,i,a="",s=this.rules;for(o=0,r=e.length;o<r;o++)"inline"===(i=e[o].type)?a+=this.renderInline(e[o].children,t,n):void 0!==s[i]?a+=s[e[o].type](e,o,t,n,this):a+=this.renderToken(e,o,t,n);return a},e.exports=s},fRKR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("tableFlexiColumnResizing")},fZEY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 4a1 1 0 00-1 1v6a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H3zm1 2v4h8V6H4z"/></svg>'},e,{size:"small"}));i.displayName="Issue16Icon";var a=i;t.default=a},fZFN:function(e,t,n){"use strict";var o=n("AGgm").unescapeAll;e.exports=function(e,t,n){var r,i,a=0,s=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=n)return c;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return c;for(t++,40===i&&(i=41);t<n;){if((r=e.charCodeAt(t))===i)return c.pos=t+1,c.lines=a,c.str=o(e.slice(s+1,t)),c.ok=!0,c;10===r?a++:92===r&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return c}},fbPS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#CA5010" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.376 6.013A.437.437 0 004 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 00.497-.434V4.868a.437.437 0 00-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 00.5-.5v-9a.5.5 0 00-.5-.5H17zM7.854 8.454h2.94c1.45 0 2.441.972 2.441 2.437 0 1.45-1.03 2.421-2.514 2.421H9.329V15.5H7.854V8.454zM9.33 9.665v2.451h1.07c.844 0 1.337-.43 1.337-1.22 0-.801-.483-1.231-1.333-1.231H9.33z"/></svg>'},e,{size:"medium"}));i.displayName="PowerpointPresentation24Icon";var a=i;t.default=a},fd7e:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("17x9"),d=n.n(l);class u extends c.a.Component{constructor(...e){super(...e),a()(this,"listeners",{}),a()(this,"debounce",null),a()(this,"notAppliedState",{}),a()(this,"isSubscribed",!1),
a()(this,"callsCount",0),a()(this,"state",this.getPluginsStates(this.props.plugins,this.getEditorView(this.props,this.context))),a()(this,"handlePluginStateChange",((e,t,n,o)=>r=>{(this.state[e]!==r||o)&&this.updateState({stateSubset:{[e]:r},pluginName:t,performanceOptions:n})})),a()(this,"updateState",(({stateSubset:e,pluginName:t,performanceOptions:o})=>{this.notAppliedState=r()(r()({},this.notAppliedState),e),this.debounce&&window.clearTimeout(this.debounce);const i=!1!==this.props.debounce?e=>window.setTimeout(e,0):e=>e();this.debounce=i((()=>{const e=`\ud83e\udd89${t}::WithPluginState`;o.trackingEnabled&&Object(n("61k9").b)(e),this.setState(this.notAppliedState,(()=>{o.trackingEnabled&&Object(n("61k9").c)(e,(e=>{if(++this.callsCount%o.samplingRate==0&&e>o.slowThreshold){const o=this.getEditorView();this.dispatchAnalyticsEvent({action:n("J5HJ").a.WITH_PLUGIN_STATE_CALLED,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{plugin:t,duration:e,
participants:Object(n("EjDT").a)(o&&o.state)}})}}))})),this.debounce=null,this.notAppliedState={}}))})),a()(this,"dispatchAnalyticsEvent",(e=>{const t=this.getEventDispatcher();if(t){Object(n("Dp3h").b)(t)(n("+WSe").a,{payload:e})}})),a()(this,"onContextUpdate",(()=>{this.subscribe(this.props)}))}getEditorView(e,t){const n=e||this.props,o=t||this.context;return n.editorView||o&&o.editorActions&&o.editorActions._privateGetEditorView()||o&&o.editorSharedConfig&&o.editorSharedConfig.editorView}getEventDispatcher(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher}getPluginsStates(e,t){if(!t||!e)return{};return Object.keys(e).reduce(((n,o)=>{const r=e[o];return r?(n[o]=r.getState(t.state),n):n}),{})}subscribe(e){const t=e.plugins,o=this.getEventDispatcher(e),r=this.getEditorView(e)
;if(!o||!r||this.isSubscribed)return;const i=n("OdZc").a.getState(r.state),a=i&&i.performanceTracking&&i.performanceTracking.uiTracking||{},s=!0===a.enabled,c=a.samplingRate||100,l=a.slowThreshold||4;this.isSubscribed=!0;const d=this.getPluginsStates(t,r);this.setState(d),Object.keys(t).forEach((e=>{const n=t[e];if(!n)return;const r=n.key,i=d[e],a=i&&i.subscribe,u=this.handlePluginStateChange(e,r,{samplingRate:c,slowThreshold:l,trackingEnabled:s},a);a?i.subscribe(u):o.on(n.key,u),this.listeners[n.key]={handler:u,pluginKey:n}}))}unsubscribe(){const e=this.getEventDispatcher(),t=this.getEditorView();e&&t&&this.isSubscribed&&(Object.keys(this.listeners).forEach((n=>{const o=this.listeners[n].pluginKey.getState(t.state);o&&o.unsubscribe?o.unsubscribe(this.listeners[n].handler):e.off(n,this.listeners[n].handler)})),this.listeners=[])}subscribeToContextUpdates(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)}unsubscribeFromContextUpdates(e){
e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)}componentDidMount(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)}UNSAFE_componentWillReceiveProps(e){this.isSubscribed||this.subscribe(e)}componentWillUnmount(){this.debounce&&window.clearTimeout(this.debounce),this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()}render(){const{render:e}=this.props;return e(this.state)}}u.displayName="WithPluginState",a()(u,"displayName","WithPluginState"),a()(u,"contextTypes",{editorActions:d.a.object,editorSharedConfig:d.a.object})},feK2:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.DELETED="deleted",e.CLEARED="cleared",e.COLLAPSED="collapsed",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",
e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn",e.SORTED_COLUMN="sortedColumn",e.REPLACED="replaced",e.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange",e.DISTRIBUTED_COLUMNS_WIDTHS="distributedColumnsWidths"}(o||(o={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(r||(r={}))},ftVL:function(e,t,n){"use strict";n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return j}));var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("i8i4"),d=n.n(l),u=n("UxO+"),p=n("CsC6"),h=n("pDqG"),f=n("9lTW"),m=n.n(f),g=n("mG1W"),b=n("vOnD");const v=b.default.div.withConfig({componentId:"sc-1aqdwb1-0"
})`color:${Object(n("5ABH").U)("#0052CC",.4)||"#0052CC"};background:${Object(n("5ABH").U)("#0065FF",.6)||"#0065FF"};border-radius:${Object(n("ARg4").borderRadius)()}px;margin:5px 3px 25px;width:${156}px;min-height:${125}px;display:flex;align-items:center;justify-content:center;`,y=b.default.div.withConfig({componentId:"sc-1aqdwb1-1"})`background:${"#2684FF"};border-radius:${Object(n("ARg4").borderRadius)()}px;margin:2px 0;width:100%;height:2px;`;var E=({type:e="group"})=>"single"===e?c.a.createElement(y,null):c.a.createElement(v,null,c.a.createElement(n.n(n("dtZH")).a,{label:"Document",size:"medium"})),w=n("MEpN");const O=(e,t)=>{let o="";return 1===e.length?o=e[0].fileMimeType||"unknown":e.length>1&&(o="multiple"),{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.MEDIA,attributes:{type:n("J5HJ").c.MEDIA_GROUP,inputMethod:t,fileExtension:o},eventType:n("J5HJ").e.TRACK}};const S=(e,t,o,r)=>{
const{state:i,dispatch:a}=e,{tr:s,schema:c}=i,{media:l,paragraph:d}=c.nodes;if(!l||!t.length)return;const u=C(t,o,l),p=x(i),h=s.doc.resolve(p).parent,f=s.doc.nodeAt(p),m=!function(e){const{schema:t}=e,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(i)&&Object(n("Dc6L").f)(i,w.Fragment.from(i.schema.nodes.mediaGroup.createChecked({},u))),b=function(e,t){const{schema:{nodes:{media:o}}}=e,r=t&&t.type===o;return(Object(n("D4z0").j)(e)||Object(n("D4z0").n)(e)||Object(n("D4z0").m)(e)||Object(n("vRZh").d)(e)&&(!Object(n("Nrp8").i)(e)||Object(n("Nrp8").f)(e)))&&!r}(i,f);let v=h.type===c.nodes.mediaGroup?u:[c.nodes.mediaGroup.createChecked({},u)];if(m){v=b?v.concat(d.create()):v;const o=k(i);return o?p<=o.start?s.deleteRange(o.start,o.end).insert(p,v):s.insert(p,v).deleteRange(o.start,o.end):s.insert(p,v),Object(n("SVcB").a)(i,s,O(t,r)),a(s),void A(e)}b&&h.type!==c.nodes.mediaGroup&&v.push(d.create()),Object(n("SVcB").a)(i,s,O(t,r)),
a(Object(g.safeInsert)(w.Fragment.fromArray(v),p)(s))},C=(e,t,o)=>e.map((e=>{const{id:r}=e,i=o.create({id:r,type:"file",collection:t});return Object(n("Nrp8").a)(e,i),i})),T=e=>{const{schema:{nodes:{mediaGroup:t,listItem:o}}}=e;if(Object(g.hasParentNode)((e=>e.type===o))(e.selection)){const o=(e=>{const{schema:{nodes:{bulletList:t,orderedList:o}}}=e;return Object(n("x+VZ").b)((e=>e.type===t||e.type===o))(e.selection.$from)})(e);if(o){const n=o.pos+o.node.nodeSize,r=e.doc.nodeAt(n);return r&&r.type===t?n+1:n}}},x=e=>{const{$from:t,$to:o}=e.selection,r=T(e);if(r)return r;const i=Object(n("Nrp8").g)(e);return i&&(!Object(n("Nrp8").f)(e)||t.pos<i&&o.pos<i)?i:Object(n("Nrp8").f)(e)?o.pos:Object(n("vRZh").c)(e)?o.pos+1:Object(n("vRZh").a)(e)?t.pos-1:o.pos},k=e=>{const{$from:t,$to:o}=e.selection;if(!Object(n("Nrp8").h)(e))return!Object(n("Nrp8").c)(e)||Object(n("Nrp8").g)(e)?I(t.pos,o.pos):I(Object(n("vRZh").f)(t)-1,Object(n("vRZh").e)(o))},I=(e,t=e)=>({start:e,end:t}),A=e=>{
const{state:t}=e,{doc:o}=t,r=Object(n("Nrp8").g)(t);if(!r)return;const i=o.resolve(r),a=Object(n("vRZh").e)(i);a+1>=o.nodeSize-1?Object(n("Gbq5").g)(e,r):Object(n("Gbq5").h)(e,a+1)},N=["ready","error","cancelled"];class M{constructor(e,t,o,i,s){a()(this,"allowsUploads",!1),a()(this,"ignoreLinks",!1),a()(this,"waitForMediaUpload",!0),a()(this,"allUploadsFinished",!0),a()(this,"showDropzone",!1),a()(this,"layout","center"),a()(this,"mediaNodes",[]),a()(this,"mediaGroupNodes",{}),a()(this,"mobileUploadComplete",{}),a()(this,"pendingTask",Promise.resolve(null)),a()(this,"destroyed",!1),a()(this,"removeOnCloseListener",(()=>{})),a()(this,"onPopupToogleCallback",(()=>{})),a()(this,"pickers",[]),a()(this,"pickerPromises",[]),a()(this,"onContextIdentifierProvider",(async(e,t)=>{t&&(this.contextIdentifierProvider=await t)})),a()(this,"setMediaProvider",(async e=>{if(!e)return this.destroyPickers(),this.allowsUploads=!1,
void(this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(n("wBzk").a,{allowsUploads:this.allowsUploads})));try{if(this.mediaProvider=await e,!this.mediaProvider.viewMediaClientConfig){const e=this.mediaProvider.viewMediaClientConfig;e&&(this.mediaProvider.viewMediaClientConfig=e)}m()(this.mediaProvider.viewMediaClientConfig,`MediaProvider promise did not resolve to a valid instance of MediaProvider - ${this.mediaProvider}`)}catch(r){const e=new Error(`Media functionality disabled due to rejected provider: ${r.message}`);return this.errorReporter.captureException(e),this.destroyPickers(),this.allowsUploads=!1,void(this.destroyed||this.view.dispatch(this.view.state.tr.setMeta(n("wBzk").a,{allowsUploads:this.allowsUploads})))}this.mediaClientConfig=this.mediaProvider.viewMediaClientConfig,this.allowsUploads=!!this.mediaProvider.uploadMediaClientConfig;const{view:t,allowsUploads:o}=this;!this.destroyed&&t&&t.dom.parentNode&&t.dispatch(t.state.tr.setMeta(n("wBzk").a,{
allowsUploads:o})),this.allowsUploads?(this.uploadMediaClientConfig=this.mediaProvider.uploadMediaClientConfig,this.mediaProvider.uploadParams&&this.uploadMediaClientConfig?await this.initPickers(this.mediaProvider.uploadParams,n("8ORD").a,this.reactContext):this.destroyPickers()):this.destroyPickers()})),a()(this,"getMediaOptions",(()=>this.options)),a()(this,"isMediaSchemaNode",(({type:e})=>{var t;const{mediaSingle:n,media:o}=this.view.state.schema.nodes;return null!==(t=this.mediaOptions)&&void 0!==t&&t.allowMediaInline?e===n||e===o:e===n})),a()(this,"hasUserAuthProvider",(()=>!!this.uploadMediaClientConfig&&!!this.uploadMediaClientConfig.userAuthProvider)),a()(this,"insertFile",((e,t,o)=>{const i=r()(r()({},e),{},{contextId:this.contextIdentifierProvider?this.contextIdentifierProvider.objectId:void 0}),a=this.collectionFromProvider();if(void 0===a)return;this.mediaOptions&&this.mediaOptions.allowMarkingUploadsAsIncomplete&&(this.mobileUploadComplete[i.id]=!1),
"error"!==e.status&&this.updateAndDispatch({allUploadsFinished:!1}),Object(n("ZPHY").d)(this.view.state.schema,i.fileMimeType)?Object(n("ZPHY").c)(this.view,i,this.getInputMethod(o),a,this.mediaOptions&&this.mediaOptions.alignLeftOnInsert):S(this.view,[i],a,this.getInputMethod(o)),t(this.handleMediaState);const s=e=>e.status&&-1!==N.indexOf(e.status);s(i)||(this.addPendingTask(new Promise((e=>{t((t=>{s(t)&&e(t)}))}))),this.pendingTask.then((()=>{this.updateAndDispatch({allUploadsFinished:!0})})));const{view:c}=this;c.hasFocus()||c.focus()})),a()(this,"addPendingTask",(e=>{const t=this.pendingTask,n=()=>t;this.pendingTask=e.then(n,n)})),a()(this,"splitMediaGroup",(()=>Object(n("Nrp8").k)(this.view))),a()(this,"onPopupPickerClose",(()=>{this.onPopupToogleCallback(!1)})),a()(this,"shouldUseMediaPickerPopup",(()=>!this.mediaOptions||this.mediaOptions&&void 0===this.mediaOptions.useMediaPickerPopup?this.hasUserAuthProvider():!!this.mediaOptions.useMediaPickerPopup)),
a()(this,"showMediaPicker",(()=>{if(this.openMediaPickerBrowser&&!this.shouldUseMediaPickerPopup())return this.openMediaPickerBrowser();this.popupPicker&&(this.popupPicker.show(),this.onPopupToogleCallback(!0))})),a()(this,"setBrowseFn",(e=>{this.openMediaPickerBrowser=e})),a()(this,"onPopupToggle",(e=>{this.onPopupToogleCallback=e})),a()(this,"waitForPendingTasks",((e,t)=>{if(t&&this.pendingTask===t)return t;const n=this.pendingTask.then((()=>this.waitForPendingTasks(void 0,this.pendingTask)));if(!e)return n;let o;const r=new Promise(((t,n)=>{o=window.setTimeout((()=>n(new Error(`Media operations did not finish in ${e} ms`))),e)}));return Promise.race([r,n.then((e=>(clearTimeout(o),e)))])})),a()(this,"handleMediaNodeRemoval",((e,t)=>{let o=e;o||(o=this.view.state.doc.nodeAt(t())),Object(n("Nrp8").j)(this.view,o,t)})),a()(this,"handleMediaNodeMount",((e,t)=>{this.mediaNodes.unshift({node:e,getPos:t})})),a()(this,"handleMediaNodeUnmount",(e=>{
this.mediaNodes=this.mediaNodes.filter((({node:t})=>e!==t))})),a()(this,"findMediaNode",(e=>n("JLWW").b(this,e))),a()(this,"destroyAllPickers",(e=>{e.forEach((e=>e.destroy())),this.pickers.splice(0,this.pickers.length)})),a()(this,"destroyPickers",(()=>{const{pickers:e,pickerPromises:t}=this;t.length===e.length?this.destroyAllPickers(this.pickers):Promise.all(t).then((e=>this.destroyAllPickers(e))),this.popupPicker=void 0,this.customPicker=void 0})),a()(this,"getInputMethod",(e=>{switch(e){case"popup":return n("J5HJ").f.PICKER_CLOUD;case"clipboard":return n("J5HJ").f.CLIPBOARD;case"dropzone":return n("J5HJ").f.DRAG_AND_DROP}})),a()(this,"updateMediaNodeAttrs",((e,t,o)=>{const{view:r}=this;if(r)return Object(n("JLWW").f)(e,t,o)(r.state,r.dispatch)})),a()(this,"handleMediaState",(e=>{switch(e.status){case"error":const{uploadErrorHandler:t}=this.options;t&&t(e);break;case"mobile-upload-end":const o={id:e.publicId||e.id};"string"==typeof e.collection&&(o.collection=e.collection),
this.updateMediaNodeAttrs(e.id,o,Object(n("ZPHY").d)(this.view.state.schema,e.fileMimeType)),this.mobileUploadComplete[o.id]=!0,delete this.mediaGroupNodes[e.id]}})),a()(this,"isMobileUploadCompleted",(e=>n("JLWW").c(this,e))),a()(this,"removeNodeById",(e=>{const{id:t}=e,o=n("JLWW").a(this,t,Object(n("CuOu").a)(e.fileMimeType));o&&Object(n("Nrp8").j)(this.view,o.node,o.getPos)})),a()(this,"removeSelectedMediaContainer",(()=>{const{view:e}=this,t=this.selectedMediaContainerNode();if(!t)return!1;let{from:o}=e.state.selection;return Object(n("Nrp8").j)(e,t.firstChild,(()=>o+1)),!0})),a()(this,"selectedMediaContainerNode",(()=>{const{selection:e}=this.view.state;if(e instanceof u.NodeSelection&&this.isMediaSchemaNode(e.node))return e.node})),a()(this,"handleDrag",(e=>{const t="enter"===e;if(this.showDropzone===t)return;this.showDropzone=t;const{dispatch:n,state:o}=this.view;n(o.tr)})),this.reactContext=o,this.options=t,this.mediaOptions=i,this.dispatch=s,
this.waitForMediaUpload=void 0===t.waitForMediaUpload||t.waitForMediaUpload;const{nodes:c}=e.schema;m()(c.media&&(c.mediaGroup||c.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),t.providerFactory.subscribe("mediaProvider",((e,t)=>this.setMediaProvider(t))),t.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=t.errorReporter||new(n("AG9f").a)}updateElement(){let e;const t=this.selectedMediaContainerNode();t&&this.isMediaSchemaNode(t)&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)}getDomElement(e){var t;const{selection:n}=this.view.state;if(!(n instanceof u.NodeSelection))return;if(!this.isMediaSchemaNode(n.node))return;const o=null!==(t=this.mediaOptions)&&void 0!==t&&t.allowMediaInline?n.from+1:n.from,r=Object(g.findDomRefAtPos)(o,e);if(r){if(!r.childNodes.length)return r.parentNode;return r.querySelector("figure")||r}}
setView(e){this.view=e}destroy(){if(this.destroyed)return;this.destroyed=!0;const{mediaNodes:e}=this;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}async initPickers(e,t,n){if(this.destroyed||!this.uploadMediaClientConfig)return;const{errorReporter:o,pickers:r,pickerPromises:i}=this;if(!r.length){const a={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:o},s={uploadParams:e,proxyReactContext:n(),useForgePlugins:this.mediaOptions&&this.mediaOptions.useForgePlugins||!1,featureFlags:this.mediaOptions&&this.mediaOptions.featureFlags};if(this.options.customMediaPicker){const e=new t("customMediaPicker",a,this.options.customMediaPicker).init();i.push(e),r.push(this.customPicker=await e)}else if(this.shouldUseMediaPickerPopup()){const e=new t("popup",a,s).init();i.push(e),r.push(this.popupPicker=await e),this.removeOnCloseListener=this.popupPicker.onClose(this.onPopupPickerClose)}r.forEach((e=>{e.onNewMedia(this.insertFile)}))}
r.forEach((t=>t.setUploadParams(e)))}collectionFromProvider(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection}updateAndDispatch(e){Object.keys(e).forEach((t=>{const n=t,o=e[n];void 0!==o&&(this[n]=o)})),this.dispatch&&this.dispatch(n("wBzk").a,r()({},this))}}const R=e=>n("wBzk").a.getState(e),j=(e,t,o,r,i)=>{const a=(e=>{const t=document.createElement("div");return e?d.a.render(c.a.createElement(E,{type:"single"}),t):d.a.render(c.a.createElement(E),t),t})(i&&i.allowDropzoneDropLine);return new u.Plugin({state:{init:(e,n)=>new M(n,t,o,i,r),apply(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));const o=e.getMeta(n("wBzk").a);if(o){const{allowsUploads:e}=o;t.updateAndDispatch({allowsUploads:void 0===e?t.allowsUploads:e})}return t}},
filterTransaction:(e,t)=>!(e.selectionSet&&Object(g.isNodeSelection)(e.selection)&&e.selection.node.type===t.schema.nodes.media&&e.selection.$anchor.parent.type===t.schema.nodes.mediaSingle),key:n("wBzk").a,view:e=>{const t=R(e.state);return t.setView(e),t.updateElement(),{update:()=>{t.updateElement()}}},props:{decorations:e=>{if(!R(e).showDropzone)return;const{schema:t,selection:{$anchor:n}}=e;if(e.selection instanceof u.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){const t=h.a.node(e.selection.from,e.selection.to,{class:"richMedia-selected"});return h.b.create(e.doc,[t])}return}let o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=Object(p.n)(e.doc,o,t.nodes.mediaGroup)),null==o)return;const r=[h.a.widget(o,a,{key:"drop-placeholder"})];return h.b.create(e.doc,r)},nodeViews:t.nodeViews,handleTextInput:e=>(R(e.state).splitMediaGroup(),!1)}})}},fuko:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){
return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h}));var o=n("3tO9"),r=n.n(o);function i(e){return e===document.body}function a(e){return e&&3===e.nodeType}function s(e,t,n,o,r){if(r&&o)return o;if(!n)return"bottom";a(e)&&(e=e.parentElement);const s=t.getBoundingClientRect(),{height:c}=s,l=i(t)?0:s.top,{top:d,height:u}=e.getBoundingClientRect(),p=d-(l-t.scrollTop),h=l+c-(d+u);return h>=n||h>=p?"bottom":"top"}function c(e,t,n,o,r){if(r&&o)return o;if(!n)return o||"left";a(e)&&(e=e.parentElement);const{left:i,width:s}=e.getBoundingClientRect(),{left:c,width:l}=t.getBoundingClientRect(),d=i-c+s,u=c+l-i;return o&&d>n&&u>n?o:u>=n||u>=d&&!o?"left":"right"}function l(e,t,n,o,r,i,a){return[s(e,t,o,i,a),c(e,t,n,r,a)]}const d=(e,t,n)=>(n<e+t&&(e=n-t-1),Math.max(1,e));function u({placement:e,target:t,popup:n,offset:o,stick:s,allowOutOfBounds:c=!1,rect:l}){let u={};if(!t||!n||!n.offsetParent)return u;a(t)&&(t=t.parentElement);const p=n.offsetParent,f=p.style;let m=0
;f&&f.borderBottomWidth&&(m=parseInt(f.borderBottomWidth,10));const[g,b]=e,{top:v,left:y,right:E,height:w}=l||p.getBoundingClientRect(),{top:O,left:S,right:C,height:T,width:x}=t.getBoundingClientRect(),k=i(p),I=(({placement:e,targetTop:t,targetHeight:n,isPopupParentBody:o,popupOffsetParentHeight:r,popupOffsetParentTop:i,popupOffsetParentScrollTop:a,borderBottomWidth:s,offset:c})=>{const l={};if("top"===e)l.bottom=Math.ceil(r-(t-i)-(o?0:a)-s+c[1]);else if("start"===e)l.top=Math.ceil(t-i-c[1]+(o?0:a));else{let e=Math.ceil(t-i+n+(o?0:a)-s+c[1]);l.top=e}return l})({placement:g,targetTop:O,isPopupParentBody:k,popupOffsetParentHeight:w,popupOffsetParentTop:v,popupOffsetParentScrollTop:p.scrollTop||0,targetHeight:T,borderBottomWidth:m,offset:o});u=r()(r()({},u),I),"top"!==g&&"start"!==g||!s||(u=(({target:e,targetTop:t,targetHeight:n,popupOffsetParentHeight:o,popupOffsetParent:i,offset:a,position:s,placement:c})=>{const l=h(e),d=r()({},s);if(l){
const{top:e}=l.getBoundingClientRect(),r=t-e,s=l.scrollTop;if(r<0){const l=t+(s-e)+n+a[1]<s;"top"===c&&(d.bottom=l?o-(r+i.scrollTop+n):r+(d.bottom||0)),"start"===c&&(d.top=l?r+i.scrollTop+n:Math.abs(r)+(d.top||0)+a[1])}}return d})({target:t,targetTop:O,targetHeight:T,popupOffsetParentHeight:w,popupOffsetParent:p,popup:n,offset:o,position:u,placement:g})),"top"!==g&&"start"!==g&&s&&(u=(({target:e,targetTop:t,targetHeight:n,popup:o,offset:i,position:a})=>{const s=h(e),c=r()({},a);if(s){let e=t-s.getBoundingClientRect().top,r=n+e;if(s.clientHeight-r<=o.clientHeight+2*i[1]&&e<s.clientHeight){const e=r-s.clientHeight+2*i[1];let t=c.top||0;t-=e+o.clientHeight,c.top=t}}return c})({target:t,targetTop:O,targetHeight:T,popup:n,offset:o,position:u}));const A=(({placement:e,targetLeft:t,targetRight:n,targetWidth:o,isPopupParentBody:r,popupOffsetParentLeft:i,popupOffsetParentRight:a,popupOffsetParentScrollLeft:s,popupOffsetParentClientWidth:c,popupClientWidth:l,offset:u,allowOutOfBounds:p=!1})=>{
const h={};if("left"===e)h.left=Math.ceil(t-i+(r?0:s)+u[0]);else if("center"===e)h.left=Math.ceil(t-i+(r?0:s)+u[0]+o/2-l/2);else if("end"===e){const e=Math.ceil(n-i+(r?0:s)+u[0]);h.left=e}else h.right=Math.ceil(a-n-(r?0:s)+u[0]);return p||(void 0!==h.left&&(h.left=d(h.left,l,c)),void 0!==h.right&&(h.right=d(h.right,l,c))),h})({placement:b,targetLeft:S,targetRight:C,targetWidth:x,isPopupParentBody:k,popupOffsetParentLeft:y,popupOffsetParentRight:E,popupOffsetParentScrollLeft:p.scrollLeft||0,popupOffsetParentClientWidth:n.offsetParent.clientWidth,popupClientWidth:n.clientWidth||0,offset:o,allowOutOfBounds:c});return u=r()(r()({},u),A),u}function p(e){return!(!e||!e.offsetParent)}function h(e){let t=e;if(!t)return!1;for(;t=t.parentElement;){const e=window.getComputedStyle(t);if("scroll"===e.overflow||"scroll"===e.overflowX||"scroll"===e.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},fwbU:function(e,t,n){"use strict";n.d(t,"a",(function(){return v
})),n.d(t,"b",(function(){return b}));for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"
},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=i&&(c||+i[1]<57)||s&&c,u=0;u<10;u++)o[48+u]=o[96+u]=String(u);for(u=1;u<=24;u++)o[u+111]="F"+u;for(u=65;u<=90;u++)o[u]=String.fromCharCode(u+32),r[u]=String.fromCharCode(u);for(var p in o)r.hasOwnProperty(p)||(r[p]=o[p]);var h=n("UxO+"),f="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function m(e){var t,n,o,r,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(var s=0;s<i.length-1;s++){var c=i[s];if(/^(cmd|meta|m)$/i.test(c))r=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))o=!0;else{
if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);f?r=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),o&&(a="Shift-"+a),a}function g(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function b(e){return new h.Plugin({props:{handleKeyDown:v(e)}})}function v(e){var t=function(e){var t=Object.create(null);for(var n in e)t[m(n)]=e[n];return t}(e);return function(e,n){var i,s=function(e){var t=!(d&&(e.ctrlKey||e.altKey||e.metaKey)||(a||l)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?r:o)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),c=1==s.length&&" "!=s,u=t[g(s,n,!c)];if(u&&u(e.state,e.dispatch,e))return!0;if(c&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(i=o[n.keyCode])&&i!=s){var p=t[g(i,n,!0)]
;if(p&&p(e.state,e.dispatch,e))return!0}else if(c&&n.shiftKey){var h=t[g(s,n,!0)];if(h&&h(e.state,e.dispatch,e))return!0}return!1}}},"g0+v":function(e,t,n){"use strict";var o=n("CWsV"),r=n("AGgm").isSpace;function i(e,t,n,o){var i,a,s,c,l,d,u,p;for(this.src=e,this.md=t,this.env=n,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,s=c=d=u=0,l=(a=this.src).length;c<l;c++){if(i=a.charCodeAt(c),!p){if(r(i)){d++,9===i?u+=4-u%4:u++;continue}p=!0}10!==i&&c!==l-1||(10!==i&&c++,this.bMarks.push(s),this.eMarks.push(c),this.tShift.push(d),this.sCount.push(u),this.bsCount.push(0),p=!1,d=0,u=0,s=c+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var r=new o(e,t,n)
;return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),r(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!r(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,o){var i,a,s,c,l,d,u,p=e;if(e>=t)return"";for(d=new Array(t-e),i=0;p<t;p++,i++){for(a=0,u=c=this.bMarks[p],l=p+1<t||o?this.eMarks[p]+1:this.eMarks[p];c<l&&a<n;){
if(s=this.src.charCodeAt(c),r(s))9===s?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(c-u<this.tShift[p]))break;a++}c++}d[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return d.join("")},i.prototype.Token=o,e.exports=i},g02o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18 5h1a1 1 0 011 1v12a1 1 0 01-1 1h-1a1 1 0 01-1-1V6a1 1 0 011-1zM5 5h9a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutTwoRightSidebarIcon";var a=i;t.default=a},g1AK:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var o=n("lSNA"),r=n.n(o),i=n("UxO+"),a=n("MEpN");let s
;!function(e){e.LEFT="left",e.RIGHT="right"}(s||(s={}));const c="gapcursor";class l extends i.Selection{constructor(e,t=s.LEFT){super(e,e),r()(this,"visible",!1),this.side=t}static valid(e){const{parent:t,nodeBefore:o,nodeAfter:r}=e;if(!(Object(n("FhBN").a)(o)?o:Object(n("FhBN").a)(r)?r:null)||t.isTextblock)return!1;const i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findFrom(e,t,n=!1){const o=1===t?s.RIGHT:s.LEFT;if(!n&&l.valid(e))return new l(e,o);let r=e.pos,i=null;for(let a=e.depth;;a--){const n=e.node(a);if(o===s.RIGHT?e.indexAfter(a)<n.childCount:e.index(a)>0){i=n.maybeChild(o===s.RIGHT?e.indexAfter(a):e.index(a)-1);break}if(0===a)return null;r+=t;const c=e.doc.resolve(r);if(l.valid(c))return new l(c,o)}for(;i=o===s.RIGHT?i.firstChild:i.lastChild,null!==i;){r+=t;const n=e.doc.resolve(r);if(l.valid(n))return new l(n,o)}return null}static fromJSON(e,t){return new l(e.resolve(t.pos),t.side)}map(e,t){const n=e.resolve(t.map(this.head))
;return l.valid(n)?new l(n,this.side):i.Selection.near(n)}eq(e){return e instanceof l&&e.head===this.head}content(){return a.Slice.empty}getBookmark(){return new d(this.anchor)}toJSON(){return{pos:this.head,type:c,side:this.side}}}i.Selection.jsonID(c,l);class d{constructor(e){this.pos=e}map(e){return new d(e.map(this.pos))}resolve(e){const t=e.resolve(this.pos);return l.valid(t)?new l(t):i.Selection.near(t)}}},g40J:function(e,t,n){"use strict";function o(e,t){var n,o,r,i,a,s,c,l,d={},u=t.length;for(n=0;n<u;n++)if((r=t[n]).length=r.length||0,r.close){for(d.hasOwnProperty(r.marker)||(d[r.marker]=[-1,-1,-1]),a=d[r.marker][r.length%3],s=-1,o=n-r.jump-1;o>a;o-=i.jump+1)if((i=t[o]).marker===r.marker&&(-1===s&&(s=o),i.open&&i.end<0&&i.level===r.level&&(c=!1,(i.close||r.open)&&(i.length+r.length)%3==0&&(i.length%3==0&&r.length%3==0||(c=!0)),!c))){l=o>0&&!t[o-1].open?t[o-1].jump+1:0,r.jump=n-o+l,r.open=!1,i.end=n,i.jump=l,i.close=!1,s=-1;break}-1!==s&&(d[r.marker][(r.length||0)%3]=s)}}
e.exports=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(0,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(0,n[t].delimiters)}},gEIt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 00.164.033.515.515 0 00.474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e));i.displayName="CommentIcon";var a=i;t.default=a},gNPE:function(e,t,n){"use strict";var o=n("AGgm").isSpace;function r(e,t){var n=e.bMarks[t]+e.blkIndent,o=e.eMarks[t];return e.src.substr(n,o-n)}function i(e){var t,n=[],o=0,r=e.length,i=0,a=0,s=!1,c=0;for(t=e.charCodeAt(o);o<r;)96===t?s?(s=!1,c=o):i%2==0&&(s=!0,
c=o):124!==t||i%2!=0||s||(n.push(e.substring(a,o)),a=o+1),92===t?i++:i=0,++o===r&&s&&(s=!1,o=c+1),t=e.charCodeAt(o);return n.push(e.substring(a)),n}e.exports=function(e,t,n,a){var s,c,l,d,u,p,h,f,m,g,b,v;if(t+2>n)return!1;if(u=t+1,e.sCount[u]<e.blkIndent)return!1;if(e.sCount[u]-e.blkIndent>=4)return!1;if((l=e.bMarks[u]+e.tShift[u])>=e.eMarks[u])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[u];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!o(s))return!1;l++}for(p=(c=r(e,t+1)).split("|"),m=[],d=0;d<p.length;d++){if(!(g=p[d].trim())){if(0===d||d===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(c=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((h=(p=i(c.replace(/^\||\|$/g,""))).length)>m.length)return!1;if(a)return!0;for((f=e.push("table_open","table",1)).map=b=[t,0],
(f=e.push("thead_open","thead",1)).map=[t,t+1],(f=e.push("tr_open","tr",1)).map=[t,t+1],d=0;d<p.length;d++)(f=e.push("th_open","th",1)).map=[t,t+1],m[d]&&(f.attrs=[["style","text-align:"+m[d]]]),(f=e.push("inline","",0)).content=p[d].trim(),f.map=[t,t+1],f.children=[],f=e.push("th_close","th",-1);for(f=e.push("tr_close","tr",-1),f=e.push("thead_close","thead",-1),(f=e.push("tbody_open","tbody",1)).map=v=[t+2,0],u=t+2;u<n&&!(e.sCount[u]<e.blkIndent)&&-1!==(c=r(e,u).trim()).indexOf("|")&&!(e.sCount[u]-e.blkIndent>=4);u++){for(p=i(c.replace(/^\||\|$/g,"")),f=e.push("tr_open","tr",1),d=0;d<h;d++)f=e.push("td_open","td",1),m[d]&&(f.attrs=[["style","text-align:"+m[d]]]),(f=e.push("inline","",0)).content=p[d]?p[d].trim():"",f.children=[],f=e.push("td_close","td",-1);f=e.push("tr_close","tr",-1)}return f=e.push("tbody_close","tbody",-1),f=e.push("table_close","table",-1),b[1]=v[1]=u,e.line=u,!0}},gVP2:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}))
;var o=n("pVnL"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s);let l=0;class d{constructor(e,t,o,r,i,s,c,l=!1,d){a()(this,"handleRef",(e=>this._handleRef(e))),a()(this,"dispatchAnalyticsEvent",(e=>{if(this.eventDispatcher){Object(n("Dp3h").b)(this.eventDispatcher)(n("+WSe").a,{payload:e})}})),this.node=e,this.view=t,this.getPos=o,this.portalProviderAPI=r,this.reactComponentProps=s||{},this.reactComponent=c,this.hasContext=l,this._viewShouldUpdate=d,this.eventDispatcher=i}init(){this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);const{dom:e,contentDOM:t}=this.getContentDOM()||{dom:void 0,contentDOM:void 0};this.domRef&&e&&(this.domRef.appendChild(e),this.contentDOM=t||e,this.contentDOMWrapper=e||t),this.domRef.classList.add(`${this.node.type.name}View-content-wrap`);const{samplingRate:o,slowThreshold:r,enabled:i}=this.performanceOptions;return i&&Object(n("61k9").b)(`\ud83e\udd89${this.node.type.name}::ReactNodeView`),
this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),i&&Object(n("61k9").c)(`\ud83e\udd89${this.node.type.name}::ReactNodeView`,(e=>{++l%o==0&&e>r&&this.dispatchAnalyticsEvent({action:n("J5HJ").a.REACT_NODEVIEW_RENDERED,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{node:this.node.type.name,duration:e,participants:Object(n("EjDT").a)(this.view.state)}})})),this}renderReactComponent(e){if(!this.domRef||!e)return;this.portalProviderAPI.render((()=>{var t,o,r;return c.a.createElement(n("KzBb").a,{component:n("J5HJ").b.REACT_NODE_VIEW,componentId:null!==(t=null==this||null===(o=this.node)||void 0===o||null===(r=o.type)||void 0===r?void 0:r.name)&&void 0!==t?t:n("J5HJ").c.UNKNOWN_NODE,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent},e())}),this.domRef,this.hasContext)}createDomRef(e){if(!this.node.isInline)return document.createElement("div");const t=document.createElement("span"),o=this.view.state,r=Object(n("37L4").b)(o)
;return r&&r.displayInlineBlockForInlineNodes&&!1!==(null==e?void 0:e.displayInlineBlockForInlineNodes)&&(t.style.display="inline-block",t.style.userSelect="all"),t}getContentDOM(){}_handleRef(e){const t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}render(e,t){return this.reactComponent?c.a.createElement(this.reactComponent,r()({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}update(e,t,n=(()=>!0)){return!(this.node.type!==e.type||!n(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((()=>this.render(this.reactComponentProps,this.handleRef))),!0):(this.node=e,!0))}viewShouldUpdate(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}setDomAttrs(e,t){Object.keys(e.attrs||{}).forEach((n=>{t.setAttribute(n,e.attrs[n])}))}get dom(){return this.domRef}destroy(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),
this.domRef=void 0,this.contentDOM=void 0)}get performanceOptions(){const e=n("OdZc").a.getState(this.view.state),t=e&&e.performanceTracking&&e.performanceTracking.nodeViewTracking||{},o=t.samplingRate||100,r=t.slowThreshold||7;return{enabled:!!t.enabled,samplingRate:o,slowThreshold:r}}static fromComponent(e,t,n,o,r){return(i,a,s)=>new d(i,a,s,t,n,o,e,!1,r).init()}}d.displayName="ReactNodeView"},gbAj:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>(t,o)=>{const r=Object(n("rnvK").a)(t,t.selection.from,t.selection.to,e);return!!r&&(o&&o(r),!0)}},gr0J:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return m}));var o=n("UxO+");const r=e=>(t,r)=>{
const i=Object(n("CAky").g)(r),{from:a,to:s,head:c}=Object(n("CAky").h)(r,i),l=r.schema.marks.annotation.create({id:e,type:n("yGJy").b.INLINE_COMMENT});let d=Object(n("+U5V").a)(a,s,!1,l,t);return d.setSelection(o.TextSelection.create(d.doc,c)),d},i=(e,t=n("J5HJ").f.TOOLBAR)=>(o,r)=>{const i=Object(n("CAky").f)(e,t)(r);return Object(n("SVcB").a)(r,o,i)},a=(e,t)=>Object(n("SVcB").a)(t,e,{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.ANNOTATION,eventType:n("J5HJ").e.TRACK,actionSubjectId:n("J5HJ").c.INLINE_COMMENT});var s={addAnnotationMark:r,addInlineComment:e=>(t,o)=>{let s=r(e)(t,o);return s=a(s,o),s=i(!1,n("J5HJ").f.TOOLBAR)(s,o),s},addOpenCloseAnalytics:i,addInsertAnalytics:a,addResolveAnalytics:e=>(t,o)=>{const r={action:n("J5HJ").a.RESOLVED,actionSubject:n("J5HJ").b.ANNOTATION,actionSubjectId:n("J5HJ").c.INLINE_COMMENT,eventType:n("J5HJ").e.TRACK,attributes:{method:e}};return Object(n("SVcB").a)(o,t,r)}};const c=(e,t)=>{const o={
type:n("Qesr").a.UPDATE_INLINE_COMMENT_STATE,data:e},r=Object.values(e).every((e=>e));return t&&r?Object(n("mivK").a)(o,s.addResolveAnalytics(t)):Object(n("mivK").a)(o)},l=()=>Object(n("mivK").a)({type:n("Qesr").a.CLOSE_COMPONENT}),d=()=>Object(n("mivK").a)({type:n("Qesr").a.INLINE_COMMENT_CLEAR_DIRTY_MARK}),u=e=>(t,o)=>{const{tr:r,selection:{$from:i}}=t,{annotation:a}=t.schema.marks;return!!i.marks().some((e=>e.type===a))&&(r.removeMark(i.start(),i.end(),a.create({id:e,type:n("yGJy").b.INLINE_COMMENT})),o&&o(r),!0)},p=(e,t=n("J5HJ").f.TOOLBAR)=>{const o=(e=>t=>(!e||Object(n("CAky").j)(t)===n("nnUN").a.VALID)&&{type:n("Qesr").a.SET_INLINE_COMMENT_DRAFT_STATE,data:{drafting:e,editorState:t}})(e);return Object(n("mivK").a)(o,s.addOpenCloseAnalytics(e,t))},h=e=>Object(n("mivK").a)({type:n("Qesr").a.INLINE_COMMENT_UPDATE_MOUSE_STATE,data:{mouseData:e}}),f=(e,t=n("yGJy").b.INLINE_COMMENT)=>(o,r)=>{const{bookmark:i}=Object(n("CAky").g)(o)||{}
;return!(!i||!r)&&(t===n("yGJy").b.INLINE_COMMENT&&(e=>Object(n("mivK").a)((t=>({type:n("Qesr").a.ADD_INLINE_COMMENT,data:{drafting:!1,inlineComments:{[e]:!1},selectedAnnotations:[{id:e,type:n("yGJy").b.INLINE_COMMENT}],editorState:t}})),s.addInlineComment(e)))(e)(o,r))},m=e=>Object(n("mivK").a)({type:n("Qesr").a.INLINE_COMMENT_SET_VISIBLE,data:{isVisible:e}})},gtpc:function(e,t,n){"use strict";function o(e){const t=e.selection,o=Object(n("b+wK").a)(t);if(!o)throw new Error("selectedRect: invalid $pos for selection");const r=o.node(-1),i=o.start(-1),a=n("wYWE").b.get(r);let s;return s=t instanceof n("n1Ll").a?a.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):a.findCell(o.pos-i),s.tableStart=i,s.map=a,s.table=r,s}n.d(t,"a",(function(){return o}))},gyhK:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b}))
;var o=n("QILm"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("JRPe");const d=["name"],u=e=>t=>c.a.createElement(l.FormattedMessage,a()({},t,e)),p=e=>{let{name:t}=e,o=r()(e,d);return c.a.createElement(l.FormattedMessage,a()({},o,{values:{name:t}},n("yCVS").a.noAccessWarning))},h=u(n("yCVS").a.noAccessLabel),f=(u(n("yCVS").a.defaultHeadline),u(n("yCVS").a.defaultAdvisedAction),u(n("yCVS").a.loginAgain),u(n("yCVS").a.differentText),u(n("yCVS").a.TeamMentionHighlightTitle)),m=u(n("yCVS").a.TeamMentionHighlightCloseButtonToolTip),g=u(n("yCVS").a.TeamMentionHighlightDescription),b=u(n("yCVS").a.TeamMentionHighlightDescriptionLink)},hCh4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 01-1-1V7a1 1 0 011-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorBoldIcon";var a=i;t.default=a},hK8d:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return m}));var o=n("UxO+");var r=n("mG1W"),i=n("3tO9"),a=n.n(i);function s(e,{map:t,tableStart:o,table:r},i){let s=o;for(let n=0;n<i;n++)s+=r.child(n).nodeSize;const c=[];let l=i>0?-1:0;(function(e,t,o){const r=Object(n("p81E").a)(t.type.schema).header_cell;for(let n=0;n<e.width;n++){const i=t.nodeAt(e.map[n+o*e.width]);if(i&&i.type!==r)return!1}return!0
})(t,r,i+l)&&(l=0===i||i===t.height?null:0);for(let u=0,p=t.width*i;u<t.width;u++,p++)if(i>0&&i<t.height&&t.map[p]===t.map[p-t.width]){const n=t.map[p],i=r.nodeAt(n);if(!i)throw new Error(`addRow: node not found at pos ${n}`);const{attrs:s}=i;e.setNodeMarkup(o+n,void 0,a()(a()({},s),{},{rowspan:s.rowspan+1})),u+=s.colspan-1}else{let e;if(null==l)e=Object(n("p81E").a)(r.type.schema).cell;else{const n=t.map[p+l*t.width],o=r.nodeAt(n);if(!o)throw new Error(`addRow: invalid node at mapped pos ${n}`);e=o.type}c.push(e.createAndFill())}const d=Object(n("p81E").a)(r.type.schema).row.create(null,c);return e.insert(s,d),e}const c=(e,t)=>o=>{let r=[];const i=Object(n("Rl6m").a)(e)(o.selection);if(i)for(let e=i.length-1;e>=0;e--)t(i[e],o)&&r.push(i[e]);return r},l=(e,t)=>o=>{const i=Object(n("zYPQ").c)(o.selection);if(i){const a=n("wYWE").b.get(i.node),l=e-1;if(t&&l>=0)return Object(n("oSJA").a)((e=>t=>{const o=Object(n("zYPQ").c)(t.selection);if(o){const i=n("wYWE").b.get(o.node)
;if(e>=0&&e<=i.height){const a=o.node,s=Object(n("p81E").a)(a.type.schema);let l=o.start;for(let t=0;t<e+1;t++)l+=a.child(t).nodeSize;const d=a.child(e);let u=[],p=0;if(d.forEach((e=>{if(1===e.attrs.rowspan){p+=e.attrs.colspan;const t=s[e.type.spec.tableRole].createAndFill(e.attrs,[],e.marks);t&&u.push(t)}})),p<i.width){let o=[];for(let n=e;n>=0;n--){let r=c(n,((t,o)=>{const r=t.node.attrs.rowspan;return r>1&&n+r>e}))(t);o.push(...r)}o.length&&o.forEach((e=>{t=Object(n("x8g9").a)(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return Object(r.safeInsert)(s.row.create(d.attrs,u),l)(t)}}return t})(l)(o));if(e>=0&&e<=a.height)return Object(n("oSJA").a)(s(o,{map:a,tableStart:i.start,table:i.node},e))}return o};function d(e,t=!1,o){return r=>{let i=r;i=t?function(e){return t=>{const o=Object(n("zYPQ").c)(t.selection);return o?t.step(n("sgbj").a.create(t.doc,o.pos,e)):t}}(e)(i):(e=>t=>{const o=Object(n("zYPQ").c)(t.selection);if(o){const r=n("wYWE").b.get(o.node)
;if(e>=0&&e<=r.width)return Object(n("oSJA").a)(Object(n("3ILy").a)(t,{map:r,tableStart:o.start,table:o.node},e))}return t})(e)(i);const a=Object(n("zYPQ").c)(i.selection);return a&&(i=Object(n("8kb8").a)(a,o)(i)),i}}const u=(e,t,o)=>{if(!Object(n("zYPQ").c)(e.selection))return!1;if(t){t(d(Object(n("gtpc").a)(e).left,Object(n("92CY").a)(e),o)(e.tr))}return!0},p=(e,t,o)=>{if(!Object(n("zYPQ").c)(e.selection))return!1;if(t){t(d(Object(n("gtpc").a)(e).right,Object(n("92CY").a)(e),o)(e.tr))}return!0},h=e=>(t,r,i)=>{let a=d(e,Object(n("92CY").a)(t),i)(t.tr);const s=Object(n("zYPQ").c)(a.selection);if(!s)return!1;const c=n("wYWE").b.get(s.node).positionAt(0,e,s.node);return r&&r(a.setSelection(o.Selection.near(a.doc.resolve(s.start+c)))),!0},f=(e,t)=>(r,i)=>{const a=Object(n("aMLK").b)(r);if(0===e&&a)return!1;const s=a&&e>1||!a&&e>0?Object(n("oE+j").a)(r.schema)(e)(r.tr):l(e)(r.tr),c=Object(n("zYPQ").c)(s.selection);if(!c)return!1;if(i){const{selection:a}=r;if(t){
const t=n("wYWE").b.get(c.node).positionAt(e,0,c.node);s.setSelection(o.Selection.near(s.doc.resolve(c.start+t)))}else s.setSelection(a.map(s.doc,s.mapping));i(s)}return!0},m=()=>(e,t)=>{if(!Object(n("aTJx").c)(e))return!1;const o=Object(n("H1L9").a)({schema:e.schema});return t&&t(Object(r.safeInsert)(o)(e.tr).scrollIntoView()),!0}},hSri:function(t,n,o){"use strict";o.d(n,"b",(function(){return h})),o.d(n,"a",(function(){return m}));var r=o("mG1W"),i=o("MEpN"),a=o("UxO+"),s=o("CsC6");let c;!function(e){e.Before="before",e.After="after"}(c||(c={}));const l=(e,t)=>t.resolve(e.after()).node().lastChild===e.node(),d=(e,t)=>t.resolve(e.before()).node().firstChild===e.node(),u=(e,t,n,o,r)=>d(o,e.doc)&&t===c.Before||l(o,e.doc)&&t===c.After?e.insert(n[t](),r):e.insert(o[t](),r),p=(e,t)=>[t.bulletList,t.orderedList,t.panel].includes(e),h=(e,t)=>n=>{const{nodes:a}=n.doc.type.schema,s=[a.rule,a.mediaSingle];if(e instanceof i.Fragment||!s.includes(e.type)||(e=>{const{nodes:t}=e.doc.type.schema
;return Object(r.hasParentNodeOfType)([t.orderedList,t.bulletList])(e.selection)})(n))return null;if(!n.selection.empty||Object(r.isNodeSelection)(n.selection))return null;const{$from:h}=n.selection,m=t?n.doc.resolve(t):Object(r.isNodeSelection)(n.selection)?n.doc.resolve(h.pos+1):h;let g;const b=m.end(),v=m.start();if(Object(o("x+VZ").h)(m.parent)?l(m,n.doc)?g=c.After:d(m,n.doc)&&(g=c.Before):m.pos===b?g=c.After:m.pos===v&&(g=c.Before),!g)return null;if(Object(o("x+VZ").h)(m.parent)&&Object(r.canInsert)(n.doc.resolve(m[g]()),e))return f(n.replaceWith(m.before(),m.after(),e),-1);let y=m;for(;y.depth>0;){const t=n.doc.resolve(y[g]()),o=t.node();if(Object(r.canInsert)(y,e))return f(n.insert(y.pos,e),e.nodeSize);if(p(o.type,n.doc.type.schema.nodes))return f(u(n,g,t,y,e),e.nodeSize);y=t}return f(n.insert(y.pos,e),e.nodeSize)},f=(e,t)=>{const n=e.steps[e.steps.length-1];if(!(n instanceof s.e||n instanceof s.d))return null;const r=n.to+n.slice.openStart+t
;return e.setSelection(new(o("g1AK").a)(e.doc.resolve(r),o("g1AK").b.RIGHT)).scrollIntoView()},m=(t,n={})=>(s,c,l)=>{if(!t)return c;const d=t instanceof i.Fragment;let u;try{u=t instanceof i.Node||d?t:"string"==typeof t?s.schema.text(t):i.Node.fromJSON(s.schema,t)}catch(e){return console.error(e),c}if(u.isText)c=c.replaceWith(l,l,u);else if(u.isBlock)c=Object(r.safeInsert)(Object(o("Gbq5").f)(s,u),void 0,!0)(c);else if(u.isInline||d){const e=d?u:i.Fragment.fromArray([u,s.schema.text(" ")]);if(c=c.replaceWith(l,l,e),o("Gbq5").b){const e=document.getSelection();e&&e.empty()}c=n.selectInlineNode?c.setSelection(a.NodeSelection.create(c.doc,l)):c.setSelection(a.Selection.near(c.doc.resolve(l+e.size)))}return c}},hXRZ:function(e,t,n){"use strict";var o=n("3tO9"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("TSYQ"),c=n.n(s),l=n("q1tI"),d=n.n(l);var u=e=>d.a.createElement("span",{className:n("+OC9").f},d.a.createElement(n("0+Gd").a,{iconBefore:d.a.createElement(n.n(n("SEpd")).a,{label:"delete-emoji",
primaryColor:"#42526E",size:"small"}),onClick:e.onClick,appearance:"subtle-link",spacing:"none"}));const p=(e,t)=>{if(t.target instanceof Element&&"delete-emoji"===t.target.getAttribute("aria-label"))return;const{emoji:o,onSelected:r}=e;t.preventDefault(),r&&Object(n("M3Ny").a)(t)&&r(Object(n("l4Cm").q)(o),o,t)},h=(e,t)=>{const{emoji:o,onMouseMove:r}=e;r&&r(Object(n("l4Cm").q)(o),o,t)},f=e=>{const{emoji:t,fitToHeight:o,selected:r,selectOnHover:i,className:s,showTooltip:l,showDelete:f}=e,m={[n("+OC9").j]:!0,"emoji-common-node":!0,"emoji-common-selected":r,"emoji-common-select-on-hover":i,"emoji-common-emoji-image":!0};let g,b,v;s&&(m[s]=!0);const y=Object(n("g7XK").d)(t,o)?t.altRepresentation:t.representation;let E;Object(n("l4Cm").i)(y)?(v=y.imagePath,g=y.width,b=y.height):Object(n("l4Cm").l)(y)&&(v=y.mediaPath,g=y.width,b=y.height),f&&(E=d.a.createElement(u,{onClick:t=>((e,t)=>{const{emoji:o,onDelete:r}=e;r&&r(Object(n("l4Cm").q)(o),o,t)})(e,t)}));let w={};o&&g&&b&&(w={width:o/b*g,
height:o});const O=d.a.createElement("img",a()({loading:"lazy",src:v,key:v,alt:t.shortName,"data-emoji-short-name":t.shortName,"data-emoji-id":t.id,"data-emoji-text":t.fallback||t.shortName,className:"emoji",style:{visibility:"visible"},onError:t=>{((e,t)=>{const{emoji:o,onLoadError:r}=e;t.target&&(t.target.style.visibility="hidden");r&&r(Object(n("l4Cm").q)(o),o,t)})(e,t)}},w));return d.a.createElement("span",{className:c()(m),onMouseDown:t=>{p(e,t)},onMouseMove:t=>{h(e,t)},"aria-label":t.shortName},E,l?d.a.createElement(n("Yto1").a,{tag:"span",content:t.shortName},O):O)};t.a=e=>{const{emoji:t}=e;return Object(n("l4Cm").o)(t.representation)?(e=>{const{emoji:t,fitToHeight:o,selected:i,selectOnHover:a,className:s,showTooltip:l}=e,u=t.representation,f=u.sprite,m={[n("+OC9").m]:!0,"emoji-common-node":!0,"emoji-common-selected":i,"emoji-common-select-on-hover":a};s&&(m[s]=!0);let g={};o&&(g={width:`${o}px`,height:`${o}px`})
;const b=100/(f.column-1)*(u.xIndex-0),v=100/(f.row-1)*(u.yIndex-0),y=r()({backgroundImage:`url(${f.url})`,backgroundPosition:`${b}% ${v}%`,backgroundSize:`${100*f.column}% ${100*f.row}%`},g),E=d.a.createElement("span",{className:"emoji-common-emoji-sprite",style:y},"\xa0");return d.a.createElement("span",{className:c()(m),onMouseDown:t=>{p(e,t)},onMouseMove:t=>{h(e,t)},"aria-label":t.shortName},l?d.a.createElement(n("Yto1").a,{tag:"span",content:t.shortName},E):E)})(e):f(e)}},hlZK:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>(e=e.setMeta(n("AVf+").a,!0),!!t&&(t(e),!0)),r=(e,t)=>{t(e=e.setMeta(n("AVf+").a,!1))}},hmSr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const o={nodes:{doc:"doc",paragraph:"p",text:"t",bulletList:"ul",orderedList:"ol",listItem:"li",heading:"h",blockquote:"blockq",codeBlock:"codebl",panel:"pnl",rule:"rl",hardBreak:"br",mention:"ment",emoji:"emj",image:"img",caption:"cap",
media:"media",mediaGroup:"mediag",mediaSingle:"medias",plain:"pln",table:"table",tableCell:"td",tableHeader:"th",tableRow:"tr",decisionList:"dl",decisionItem:"di",taskList:"tl",taskItem:"ti",extension:"ext",inlineExtension:"exti",bodiedExtension:"extb",status:"sts",placeholder:"plh",inlineCard:"cardi",blockCard:"cardb",embedCard:"carde",expand:"exp",nestedExpand:"expn",unsupportedBlock:"unsupb",unsupportedInline:"unsupi",unknownBlock:"unkb",date:"date"},marks:{em:"em",strong:"strong",code:"code",strike:"strike",underline:"undline",link:"lnk",subsup:"subsup",textColor:"txtclr",unsupportedMark:"unsupmrk",unsupportedNodeAttribute:"unsupnattr",annotation:"anno"}};function r(e,t){const n=o[t?"marks":"nodes"][e];return n||e}function i(e){var t;const n=!e.content,o="text"===(null==e?void 0:e.type),a=null===(t=e.marks)||void 0===t?void 0:t.length,s=Array.isArray(e.content);let c;return o?c=String(e.nodeSize):n?c="":s&&(c=e.content.map((e=>i(e))).join(",")),
(t=>a?e.marks.reduce(((e,t)=>`${r(t,!0)}(${e})`),t):t)(`${r(e.type,!1)}(${c})`)}const a=(e,t)=>{try{const n=s(e,0);return null!=t&&t.compact?i(n):n}catch(n){return`Error logging document structure: ${n}`}},s=(e,t)=>{const n={type:e.type.name,pos:t,nodeSize:e.nodeSize},o=c(e.content,t);o.length>0&&(n.content=o);const r=d(e);return r.length>0&&(n.marks=r),n},c=(e,t)=>{if(!e||!e.content||!e.content.length)return[];let n=[];const{content:o}=e;if(o[0].isBlock){let e;n=o.map((n=>(t+=e?e.nodeSize:1,e=n,s(n,t))))}else{const e=l(o,t);n=e.inlineNodes,t=e.pos}return n},l=(e,t)=>({inlineNodes:e.map((e=>{const{nodeSize:n}=e,o={type:e.type.name,pos:t,nodeSize:n},r=d(e);return r.length>0&&(o.marks=r),t+=n,o})),pos:t}),d=e=>e.marks.map((e=>e.type.name))},hrq7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1zm4 0h6a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V6a1 1 0 011-1zm10 0a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorLayoutThreeWithSidebarsIcon";var a=i;t.default=a},hyZr:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return C}));var o=200,r=function(){};r.prototype.append=function(e){return e.length?(e=r.from(e),!this.length&&e||e.length<o&&this.leafAppend(e)||this.length<o&&e.leafPrepend(this)||this.appendInner(e)):this},r.prototype.prepend=function(e){return e.length?r.from(e).append(this):this},r.prototype.appendInner=function(e){return new a(this,e)},r.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),
e>=t?r.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},r.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},r.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},r.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var o=[];return this.forEach((function(t,n){return o.push(e(t,n))}),t,n),o},r.from=function(e){return e instanceof r?e:e&&e.length?new i(e):r.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,o){
for(var r=t;r<n;r++)if(!1===e(this.values[r],o+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,o){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],o+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=o)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=o)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(r);r.empty=new i([]);var a=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},
t.prototype.forEachInner=function(e,t,n,o){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),o))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,o+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,o){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,o+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,o))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){
return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(r),s=r,c=n("CsC6"),l=n("UxO+"),d=function(e,t){this.items=e,this.eventCount=t};d.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var o,r,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(o=this.remapping(i,this.items.length),r=o.maps.length);var a,s,c=e.tr,l=[],p=[];return this.items.forEach((function(e,t){if(!e.step)return o||(o=n.remapping(i,t+1),r=o.maps.length),r--,void p.push(e);if(o){p.push(new u(e.map));var h,f=e.step.map(o.slice(r));f&&c.maybeStep(f).doc&&(h=c.mapping.maps[c.mapping.maps.length-1],l.push(new u(h,null,null,l.length+p.length))),r--,h&&o.appendMap(h,r)}else c.maybeStep(e.step);return e.selection?(a=o?e.selection.map(o.slice(r)):e.selection,s=new d(n.items.slice(0,i).append(p.reverse().concat(l)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:c,selection:a}},
d.prototype.addTransform=function(e,t,n,o){for(var r=[],i=this.eventCount,a=this.items,s=!o&&a.length?a.get(a.length-1):null,c=0;c<e.steps.length;c++){var l,p=e.steps[c].invert(e.docs[c]),f=new u(e.mapping.maps[c],p,t);(l=s&&s.merge(f))&&(f=l,c?r.pop():a=a.slice(0,a.length-1)),r.push(f),t&&(i++,t=null),o||(s=f)}var m=i-n.depth;return m>h&&(a=function(e,t){var n;return e.forEach((function(e,o){if(e.selection&&0==t--)return n=o,!1})),e.slice(n)}(a,m),i-=m),new d(a.append(r),i)},d.prototype.remapping=function(e,t){var n=new c.b;return this.items.forEach((function(t,o){var r=null!=t.mirrorOffset&&o-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},d.prototype.addMaps=function(e){return 0==this.eventCount?this:new d(this.items.append(e.map((function(e){return new u(e)}))),this.eventCount)},d.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],o=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,a=this.eventCount
;this.items.forEach((function(e){e.selection&&a--}),o);var s=t;this.items.forEach((function(t){var o=r.getMirror(--s);if(null!=o){i=Math.min(i,o);var c=r.maps[o];if(t.step){var l=e.steps[o].invert(e.docs[o]),d=t.selection&&t.selection.map(r.slice(s+1,o));d&&a++,n.push(new u(c,l,d))}else n.push(new u(c))}}),o);for(var c=[],l=t;l<i;l++)c.push(new u(r.maps[l]));var p=this.items.slice(0,o).append(c).append(n),h=new d(p,a);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},d.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},d.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,o=[],r=0;return this.items.forEach((function(i,a){if(a>=e)o.push(i),i.selection&&r++;else if(i.step){var s=i.step.map(t.slice(n)),c=s&&s.getMap();if(n--,c&&t.appendMap(c,n),s){var l=i.selection&&i.selection.map(t.slice(n));l&&r++;var d,p=new u(c.invert(),s,l),h=o.length-1
;(d=o.length&&o[h].merge(p))?o[h]=d:o.push(p)}}else i.map&&n--}),this.items.length,0),new d(s.from(o.reverse()),r)},d.empty=new d(s.empty,0);var u=function(e,t,n,o){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=o};u.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new u(t.getMap().invert(),t,this.selection)}};var p=function(e,t,n,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=o},h=20;function f(e){var t=[];return e.forEach((function(e,n,o,r){return t.push(o,r)})),t}function m(e,t){if(!e)return null;for(var n=[],o=0;o<e.length;o+=2){var r=t.map(e[o],1),i=t.map(e[o+1],-1);r<=i&&n.push(r,i)}return n}function g(e,t,n,o){var r=y(t),i=w.get(t).spec.config,a=(o?e.undone:e.done).popEvent(t,r);if(a){var s=a.selection.resolve(a.transform.doc),c=(o?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,r),l=new p(o?c:a.remaining,o?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(w,{redo:o,
historyState:l}).scrollIntoView())}}var b=!1,v=null;function y(e){var t=e.plugins;if(v!=t){b=!1,v=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){b=!0;break}}return b}function E(e){return e.setMeta(O,!0)}var w=new l.PluginKey("history"),O=new l.PluginKey("closeHistory");function S(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new l.Plugin({key:w,state:{init:function(){return new p(d.empty,d.empty,null,0)},apply:function(t,n,o){return function(e,t,n,o){var r,i=n.getMeta(w);if(i)return i.historyState;n.getMeta(O)&&(e=new p(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(w))return a.getMeta(w).redo?new p(e.done.addTransform(n,null,o,y(t)),e.undone,f(n.mapping.maps[n.steps.length-1]),e.prevTime):new p(e.done,e.undone.addTransform(n,null,o,y(t)),null,e.prevTime)
;if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new p(e.done.rebased(n,r),e.undone.rebased(n,r),m(e.prevRanges,n.mapping),e.prevTime):new p(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),m(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-o.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,o){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&o>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),c=a?m(e.prevRanges,n.mapping):f(n.mapping.maps[n.steps.length-1]);return new p(e.done.addTransform(n,s?t.selection.getBookmark():null,o,y(t)),d.empty,c,n.time)}(n,o,t,e)}},config:e})}function C(e,t){var n=w.getState(e);return!(!n||0==n.done.eventCount)&&(t&&g(n,e,t,!1),!0)}function T(e,t){var n=w.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&g(n,e,t,!0),!0)}},"i+CE":function(e,t,n){"use strict";n.r(t);var o=n("qKvR")
;const r=Object(o.d)({display:"flex",minWidth:0,margin:0,alignItems:"center",fontSize:"20px",fontStyle:"inherit",fontWeight:500,letterSpacing:"-0.008em",lineHeight:1}),i={name:"24nvl7",styles:"min-width:0;flex:1 1 auto;word-wrap:break-word;"},a=Object(o.d)({marginRight:`${n("oUPQ").g}px`,flex:"0 0 auto"}),s=Object(o.d)({marginTop:"-2px",marginBottom:"-2px",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),c=Object(o.d)({marginBottom:"-2px",lineHeight:1.2}),l=({appearance:e,isMultiline:t})=>{const r="danger"===e?n.n(n("425I")).a:n.n(n("DWq1")).a;return Object(o.e)("span",{css:[a,!t&&c]},Object(o.e)(r,{label:`${e} icon`,primaryColor:n("oUPQ").c[e]}))};t.default=e=>{const{appearance:t,children:a,isMultiline:c=!0,testId:d}=e,{titleId:u,testId:p}=Object(n("ry7n").a)(),h=d||p&&`${p}--title`;return Object(o.e)("h1",{css:r,"data-testid":h},t&&Object(o.e)(l,{appearance:t,isMultiline:c}),Object(o.e)("span",{id:u,css:[i,!c&&s],"data-testid":h&&`${h}-text`},a))}},
"i6+T":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"q",(function(){return y})),n.d(t,"p",(function(){return E})),n.d(t,"r",(function(){return O})),n.d(t,"t",(function(){return S})),n.d(t,"s",(function(){return C})),n.d(t,"v",(function(){return T})),n.d(t,"u",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return I})),n.d(t,"e",(function(){return A})),n.d(t,"n",(function(){return N})),n.d(t,"m",(function(){return M})),n.d(t,"l",(function(){return R}));var o=n("3tO9"),r=n.n(o);const i=Object(n("qgDP").a)("fabric-elements"),a=(e,t,o,i,a={})=>({eventType:e,action:t,actionSubject:o,actionSubjectId:i,attributes:r()({packageName:n("HHRn").a,packageVersion:n("HHRn").b
},a)}),s=e=>a("operational","succeeded","recordEmojiSelection",void 0,{source:e}),c=e=>a("operational","failed","recordEmojiSelection",void 0,{source:e}),l=(e,t={},n)=>a("ui",e,"emojiPicker",n,t),d=()=>l("opened"),u=e=>l("closed",e),p=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],h=e=>{if(!e)return{};for(const{id:t,skinToneModifier:n}of p)if(-1!==e.indexOf(t))return{skinToneModifier:n,baseEmojiId:e.replace(t,"")};return{}
},f=e=>l("clicked",r()(r()({},h(e.emojiId)),e),"emoji"),m=e=>l("clicked",e,"category"),g=e=>l("searched",e,"query"),b=(e,t={})=>a("ui",e,"emojiSkintoneSelector",void 0,t),v=e=>b("clicked",e),y=e=>b("opened",e),E=()=>b("cancelled"),w=(e,t,n)=>a("ui",e,"emojiUploader",t,n),O=()=>w("clicked","addButton"),S=e=>w("clicked","confirmButton",e),C=()=>w("clicked","cancelButton"),T=e=>a("operational","finished","emojiUploader",void 0,e),x=e=>a("operational","failed","emojiUploader",void 0,e),k=e=>a("ui","clicked","emojiPicker","deleteEmojiTrigger",e),I=e=>a("ui","clicked","emojiPicker","deleteEmojiConfirm",e),A=e=>a("ui","clicked","emojiPicker","deleteEmojiCancel",e),N=()=>a("ui","clicked","emojiUploader","selectFile"),M=e=>()=>{e&&e.createAnalyticsEvent&&Object(n("qgDP").a)("editor")(s("typeahead"))(e.createAnalyticsEvent)},R=e=>t=>(e&&e.createAnalyticsEvent&&Object(n("qgDP").a)("editor")(c("typeahead"))(e.createAnalyticsEvent),Promise.reject(t))},iCnE:function(e,t,n){"use strict"
;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 010 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 010 1.483.957.957 0 01-1.405 0l-3.866-4.08a1.635 1.635 0 010-2.225l3.866-4.08a.957.957 0 011.405 0zm3.584 0a.957.957 0 011.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 01-1.405 0 1.09 1.09 0 010-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 010-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorCodeIcon";var a=i;t.default=a},iR1w:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return R}));var o=n("wx14"),r=n("dI71"),i=n("JX7q"),a=n("q1tI"),s=(n("zLVn"),
"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function c(e){cancelAnimationFrame(e.id)}function l(e,t){var n=s();var o={id:requestAnimationFrame((function r(){s()-n>=t?e.call(null):o.id=requestAnimationFrame(r)}))};return o}var d=-1;var u=null;function p(e){if(void 0===e&&(e=!1),null===u||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var o=document.createElement("div"),r=o.style;return r.width="100px",r.height="100px",t.appendChild(o),document.body.appendChild(t),t.scrollLeft>0?u="positive-descending":(t.scrollLeft=1,u=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),u}return u}var h=function(e){var t=e.columnIndex;e.data;return e.rowIndex+":"+t};function f(e){
var t,s,u=e.getColumnOffset,f=e.getColumnStartIndexForOffset,g=e.getColumnStopIndexForStartIndex,b=e.getColumnWidth,v=e.getEstimatedTotalHeight,y=e.getEstimatedTotalWidth,E=e.getOffsetForColumnAndAlignment,w=e.getOffsetForRowAndAlignment,O=e.getRowHeight,S=e.getRowOffset,C=e.getRowStartIndexForOffset,T=e.getRowStopIndexForStartIndex,x=e.initInstanceProps,k=e.shouldResetStyleCacheOnItemSizeChange,I=e.validateProps;return s=t=function(e){function t(t){var o;return(o=e.call(this,t)||this)._instanceProps=x(o.props,Object(i.a)(Object(i.a)(o))),o._resetIsScrollingTimeoutId=null,o._outerRef=void 0,o.state={instance:Object(i.a)(Object(i.a)(o)),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"==typeof o.props.initialScrollLeft?o.props.initialScrollLeft:0,scrollTop:"number"==typeof o.props.initialScrollTop?o.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},o._callOnItemsRendered=void 0,
o._callOnItemsRendered=Object(n("2JGX").default)((function(e,t,n,r,i,a,s,c){return o.props.onItemsRendered({overscanColumnStartIndex:e,overscanColumnStopIndex:t,overscanRowStartIndex:n,overscanRowStopIndex:r,visibleColumnStartIndex:i,visibleColumnStopIndex:a,visibleRowStartIndex:s,visibleRowStopIndex:c})})),o._callOnScroll=void 0,o._callOnScroll=Object(n("2JGX").default)((function(e,t,n,r,i){return o.props.onScroll({horizontalScrollDirection:n,scrollLeft:e,scrollTop:t,verticalScrollDirection:r,scrollUpdateWasRequested:i})})),o._getItemStyle=void 0,o._getItemStyle=function(e,t){var n,r=o.props,i=r.columnWidth,a=r.direction,s=r.rowHeight,c=o._getItemStyleCache(k&&i,k&&a,k&&s),l=e+":"+t;if(c.hasOwnProperty(l))n=c[l];else{var d=u(o.props,t,o._instanceProps),p="rtl"===a;c[l]=n={position:"absolute",left:p?void 0:d,right:p?d:void 0,top:S(o.props,e,o._instanceProps),height:O(o.props,e,o._instanceProps),width:b(o.props,t,o._instanceProps)}}return n},o._getItemStyleCache=void 0,
o._getItemStyleCache=Object(n("2JGX").default)((function(e,t,n){return{}})),o._onScroll=function(e){var t=e.currentTarget,n=t.clientHeight,r=t.clientWidth,i=t.scrollLeft,a=t.scrollTop,s=t.scrollHeight,c=t.scrollWidth;o.setState((function(e){if(e.scrollLeft===i&&e.scrollTop===a)return null;var t=o.props.direction,l=i;if("rtl"===t)switch(p()){case"negative":l=-i;break;case"positive-descending":l=c-r-i}l=Math.max(0,Math.min(l,c-r));var d=Math.max(0,Math.min(a,s-n));return{isScrolling:!0,horizontalScrollDirection:e.scrollLeft<i?"forward":"backward",scrollLeft:l,scrollTop:d,verticalScrollDirection:e.scrollTop<a?"forward":"backward",scrollUpdateWasRequested:!1}}),o._resetIsScrollingDebounced)},o._outerRefSetter=function(e){var t=o.props.outerRef;o._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},o._resetIsScrollingDebounced=function(){null!==o._resetIsScrollingTimeoutId&&c(o._resetIsScrollingTimeoutId),
o._resetIsScrollingTimeoutId=l(o._resetIsScrolling,150)},o._resetIsScrolling=function(){o._resetIsScrollingTimeoutId=null,o.setState({isScrolling:!1},(function(){o._getItemStyleCache(-1)}))},o}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return m(e,t),I(e),null};var s=t.prototype;return s.scrollTo=function(e){var t=e.scrollLeft,n=e.scrollTop;void 0!==t&&(t=Math.max(0,t)),void 0!==n&&(n=Math.max(0,n)),this.setState((function(e){return void 0===t&&(t=e.scrollLeft),void 0===n&&(n=e.scrollTop),e.scrollLeft===t&&e.scrollTop===n?null:{horizontalScrollDirection:e.scrollLeft<t?"forward":"backward",scrollLeft:t,scrollTop:n,scrollUpdateWasRequested:!0,verticalScrollDirection:e.scrollTop<n?"forward":"backward"}}),this._resetIsScrollingDebounced)},s.scrollToItem=function(e){var t=e.align,n=void 0===t?"auto":t,o=e.columnIndex,r=e.rowIndex,i=this.props,a=i.columnCount,s=i.height,c=i.rowCount,l=i.width,u=this.state,p=u.scrollLeft,h=u.scrollTop,f=function(e){if(void 0===e&&(e=!1),
-1===d||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),d=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return d}();void 0!==o&&(o=Math.max(0,Math.min(o,a-1))),void 0!==r&&(r=Math.max(0,Math.min(r,c-1)));var m=v(this.props,this._instanceProps),g=y(this.props,this._instanceProps)>l?f:0,b=m>s?f:0;this.scrollTo({scrollLeft:void 0!==o?E(this.props,o,n,p,this._instanceProps,b):p,scrollTop:void 0!==r?w(this.props,r,n,h,this._instanceProps,g):h})},s.componentDidMount=function(){var e=this.props,t=e.initialScrollLeft,n=e.initialScrollTop;if(null!=this._outerRef){var o=this._outerRef;"number"==typeof t&&(o.scrollLeft=t),"number"==typeof n&&(o.scrollTop=n)}this._callPropsCallbacks()},s.componentDidUpdate=function(){var e=this.props.direction,t=this.state,n=t.scrollLeft,o=t.scrollTop;if(t.scrollUpdateWasRequested&&null!=this._outerRef){var r=this._outerRef;if("rtl"===e)switch(p()){case"negative":
r.scrollLeft=-n;break;case"positive-ascending":r.scrollLeft=n;break;default:var i=r.clientWidth,a=r.scrollWidth;r.scrollLeft=a-i-n}else r.scrollLeft=Math.max(0,n);r.scrollTop=Math.max(0,o)}this._callPropsCallbacks()},s.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},s.render=function(){var e=this.props,t=e.children,n=e.className,r=e.columnCount,i=e.direction,s=e.height,c=e.innerRef,l=e.innerElementType,d=e.innerTagName,u=e.itemData,p=e.itemKey,f=void 0===p?h:p,m=e.outerElementType,g=e.outerTagName,b=e.rowCount,E=e.style,w=e.useIsScrolling,O=e.width,S=this.state.isScrolling,C=this._getHorizontalRangeToRender(),T=C[0],x=C[1],k=this._getVerticalRangeToRender(),I=k[0],A=k[1],N=[];if(r>0&&b)for(var M=I;M<=A;M++)for(var R=T;R<=x;R++)N.push(Object(a.createElement)(t,{columnIndex:R,data:u,isScrolling:w?S:void 0,key:f({columnIndex:R,data:u,rowIndex:M}),rowIndex:M,style:this._getItemStyle(M,R)}))
;var j=v(this.props,this._instanceProps),P=y(this.props,this._instanceProps);return Object(a.createElement)(m||g||"div",{className:n,onScroll:this._onScroll,ref:this._outerRefSetter,style:Object(o.a)({position:"relative",height:s,width:O,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},E)},Object(a.createElement)(l||d||"div",{children:N,ref:c,style:{height:j,pointerEvents:S?"none":void 0,width:P}}))},s._callPropsCallbacks=function(){var e=this.props,t=e.columnCount,n=e.onItemsRendered,o=e.onScroll,r=e.rowCount;if("function"==typeof n&&t>0&&r>0){var i=this._getHorizontalRangeToRender(),a=i[0],s=i[1],c=i[2],l=i[3],d=this._getVerticalRangeToRender(),u=d[0],p=d[1],h=d[2],f=d[3];this._callOnItemsRendered(a,s,u,p,c,l,h,f)}if("function"==typeof o){var m=this.state,g=m.horizontalScrollDirection,b=m.scrollLeft,v=m.scrollTop,y=m.scrollUpdateWasRequested,E=m.verticalScrollDirection;this._callOnScroll(b,v,g,E,y)}},s._getHorizontalRangeToRender=function(){
var e=this.props,t=e.columnCount,n=e.overscanColumnCount,o=e.overscanColumnsCount,r=e.overscanCount,i=e.rowCount,a=this.state,s=a.horizontalScrollDirection,c=a.isScrolling,l=a.scrollLeft,d=n||o||r||1;if(0===t||0===i)return[0,0,0,0];var u=f(this.props,l,this._instanceProps),p=g(this.props,u,l,this._instanceProps),h=c&&"backward"!==s?1:Math.max(1,d),m=c&&"forward"!==s?1:Math.max(1,d);return[Math.max(0,u-h),Math.max(0,Math.min(t-1,p+m)),u,p]},s._getVerticalRangeToRender=function(){var e=this.props,t=e.columnCount,n=e.overscanCount,o=e.overscanRowCount,r=e.overscanRowsCount,i=e.rowCount,a=this.state,s=a.isScrolling,c=a.verticalScrollDirection,l=a.scrollTop,d=o||r||n||1;if(0===t||0===i)return[0,0,0,0];var u=C(this.props,l,this._instanceProps),p=T(this.props,u,l,this._instanceProps),h=s&&"backward"!==c?1:Math.max(1,d),f=s&&"forward"!==c?1:Math.max(1,d);return[Math.max(0,u-h),Math.max(0,Math.min(i-1,p+f)),u,p]},t}(a.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,
useIsScrolling:!1},s}var m=function(e,t){e.children,e.direction,e.height,e.innerTagName,e.outerTagName,e.overscanColumnsCount,e.overscanCount,e.overscanRowsCount,e.width,t.instance},g=function(e,t){var n=e.rowCount,o=t.rowMetadataMap,r=t.estimatedRowHeight,i=t.lastMeasuredRowIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=o[i];a=s.offset+s.size}return a+(n-i-1)*r},b=function(e,t){var n=e.columnCount,o=t.columnMetadataMap,r=t.estimatedColumnWidth,i=t.lastMeasuredColumnIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=o[i];a=s.offset+s.size}return a+(n-i-1)*r},v=function(e,t,n,o){var r,i,a;if("column"===e?(r=o.columnMetadataMap,i=t.columnWidth,a=o.lastMeasuredColumnIndex):(r=o.rowMetadataMap,i=t.rowHeight,a=o.lastMeasuredRowIndex),n>a){var s=0;if(a>=0){var c=r[a];s=c.offset+c.size}for(var l=a+1;l<=n;l++){var d=i(l);r[l]={offset:s,size:d},s+=d}"column"===e?o.lastMeasuredColumnIndex=n:o.lastMeasuredRowIndex=n}return r[n]},y=function(e,t,n,o){var r,i;return"column"===e?(r=n.columnMetadataMap,
i=n.lastMeasuredColumnIndex):(r=n.rowMetadataMap,i=n.lastMeasuredRowIndex),(i>0?r[i].offset:0)>=o?E(e,t,n,i,0,o):w(e,t,n,Math.max(0,i),o)},E=function(e,t,n,o,r,i){for(;r<=o;){var a=r+Math.floor((o-r)/2),s=v(e,t,a,n).offset;if(s===i)return a;s<i?r=a+1:s>i&&(o=a-1)}return r>0?r-1:0},w=function(e,t,n,o,r){for(var i="column"===e?t.columnCount:t.rowCount,a=1;o<i&&v(e,t,o,n).offset<r;)o+=a,a*=2;return E(e,t,n,Math.min(o,i-1),Math.floor(o/2),r)},O=function(e,t,n,o,r,i,a){var s="column"===e?t.width:t.height,c=v(e,t,n,i),l="column"===e?b(t,i):g(t,i),d=Math.max(0,Math.min(l-s,c.offset)),u=Math.max(0,c.offset-s+a+c.size);switch("smart"===o&&(o=r>=u-s&&r<=d+s?"auto":"center"),o){case"start":return d;case"end":return u;case"center":return Math.round(u+(d-u)/2);case"auto":default:return r>=u&&r<=d?r:u>d||r<u?u:d}},S=f({getColumnOffset:function(e,t,n){return v("column",e,t,n).offset},getColumnStartIndexForOffset:function(e,t,n){return y("column",e,n,t)},
getColumnStopIndexForStartIndex:function(e,t,n,o){for(var r=e.columnCount,i=e.width,a=v("column",e,t,o),s=n+i,c=a.offset+a.size,l=t;l<r-1&&c<s;)l++,c+=v("column",e,l,o).size;return l},getColumnWidth:function(e,t,n){return n.columnMetadataMap[t].size},getEstimatedTotalHeight:g,getEstimatedTotalWidth:b,getOffsetForColumnAndAlignment:function(e,t,n,o,r,i){return O("column",e,t,n,o,r,i)},getOffsetForRowAndAlignment:function(e,t,n,o,r,i){return O("row",e,t,n,o,r,i)},getRowOffset:function(e,t,n){return v("row",e,t,n).offset},getRowHeight:function(e,t,n){return n.rowMetadataMap[t].size},getRowStartIndexForOffset:function(e,t,n){return y("row",e,n,t)},getRowStopIndexForStartIndex:function(e,t,n,o){for(var r=e.rowCount,i=e.height,a=v("row",e,t,o),s=n+i,c=a.offset+a.size,l=t;l<r-1&&c<s;)l++,c+=v("row",e,l,o).size;return l},initInstanceProps:function(e,t){var n=e,o={columnMetadataMap:{},estimatedColumnWidth:n.estimatedColumnWidth||50,estimatedRowHeight:n.estimatedRowHeight||50,
lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return t.resetAfterColumnIndex=function(e,n){void 0===n&&(n=!0),t.resetAfterIndices({columnIndex:e,shouldForceUpdate:n})},t.resetAfterRowIndex=function(e,n){void 0===n&&(n=!0),t.resetAfterIndices({rowIndex:e,shouldForceUpdate:n})},t.resetAfterIndices=function(e){var n=e.columnIndex,r=e.rowIndex,i=e.shouldForceUpdate,a=void 0===i||i;"number"==typeof n&&(o.lastMeasuredColumnIndex=Math.min(o.lastMeasuredColumnIndex,n-1)),"number"==typeof r&&(o.lastMeasuredRowIndex=Math.min(o.lastMeasuredRowIndex,r-1)),t._getItemStyleCache(-1),a&&t.forceUpdate()},o},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.columnWidth,e.rowHeight}}),C=function(e,t){return e};function T(e){var t,s,d=e.getItemOffset,u=e.getEstimatedTotalSize,h=e.getItemSize,f=e.getOffsetForIndexAndAlignment,m=e.getStartIndexForOffset,g=e.getStopIndexForStartIndex,b=e.initInstanceProps,v=e.shouldResetStyleCacheOnItemSizeChange,y=e.validateProps
;return s=t=function(e){function t(t){var o;return(o=e.call(this,t)||this)._instanceProps=b(o.props,Object(i.a)(Object(i.a)(o))),o._outerRef=void 0,o._resetIsScrollingTimeoutId=null,o.state={instance:Object(i.a)(Object(i.a)(o)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof o.props.initialScrollOffset?o.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},o._callOnItemsRendered=void 0,o._callOnItemsRendered=Object(n("2JGX").default)((function(e,t,n,r){return o.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:r})})),o._callOnScroll=void 0,o._callOnScroll=Object(n("2JGX").default)((function(e,t,n){return o.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),o._getItemStyle=void 0,o._getItemStyle=function(e){var t,n=o.props,r=n.direction,i=n.itemSize,a=n.layout,s=o._getItemStyleCache(v&&i,v&&a,v&&r);if(s.hasOwnProperty(e))t=s[e];else{
var c=d(o.props,e,o._instanceProps),l=h(o.props,e,o._instanceProps),u="horizontal"===r||"horizontal"===a,p="rtl"===r,f=u?c:0;s[e]=t={position:"absolute",left:p?void 0:f,right:p?f:void 0,top:u?0:c,height:u?"100%":l,width:u?l:"100%"}}return t},o._getItemStyleCache=void 0,o._getItemStyleCache=Object(n("2JGX").default)((function(e,t,n){return{}})),o._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,r=t.scrollLeft,i=t.scrollWidth;o.setState((function(e){if(e.scrollOffset===r)return null;var t=o.props.direction,a=r;if("rtl"===t)switch(p()){case"negative":a=-r;break;case"positive-descending":a=i-n-r}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<r?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),o._resetIsScrollingDebounced)},o._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,r=t.scrollHeight,i=t.scrollTop;o.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,r-n))
;return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),o._resetIsScrollingDebounced)},o._outerRefSetter=function(e){var t=o.props.outerRef;o._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},o._resetIsScrollingDebounced=function(){null!==o._resetIsScrollingTimeoutId&&c(o._resetIsScrollingTimeoutId),o._resetIsScrollingTimeoutId=l(o._resetIsScrolling,150)},o._resetIsScrolling=function(){o._resetIsScrollingTimeoutId=null,o.setState({isScrolling:!1},(function(){o._getItemStyleCache(-1,null)}))},o}Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return x(e,t),y(e),null};var s=t.prototype;return s.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},s.scrollToItem=function(e,t){
void 0===t&&(t="auto");var n=this.props.itemCount,o=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(f(this.props,e,t,o,this._instanceProps))},s.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,o=e.layout;if("number"==typeof n&&null!=this._outerRef){var r=this._outerRef;"horizontal"===t||"horizontal"===o?r.scrollLeft=n:r.scrollTop=n}this._callPropsCallbacks()},s.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,o=this.state,r=o.scrollOffset;if(o.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(p()){case"negative":i.scrollLeft=-r;break;case"positive-ascending":i.scrollLeft=r;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-r}else i.scrollLeft=r;else i.scrollTop=r}this._callPropsCallbacks()},s.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&c(this._resetIsScrollingTimeoutId)},
s.render=function(){var e=this.props,t=e.children,n=e.className,r=e.direction,i=e.height,s=e.innerRef,c=e.innerElementType,l=e.innerTagName,d=e.itemCount,p=e.itemData,h=e.itemKey,f=void 0===h?C:h,m=e.layout,g=e.outerElementType,b=e.outerTagName,v=e.style,y=e.useIsScrolling,E=e.width,w=this.state.isScrolling,O="horizontal"===r||"horizontal"===m,S=O?this._onScrollHorizontal:this._onScrollVertical,T=this._getRangeToRender(),x=T[0],k=T[1],I=[];if(d>0)for(var A=x;A<=k;A++)I.push(Object(a.createElement)(t,{data:p,key:f(A,p),index:A,isScrolling:y?w:void 0,style:this._getItemStyle(A)}));var N=u(this.props,this._instanceProps);return Object(a.createElement)(g||b||"div",{className:n,onScroll:S,ref:this._outerRefSetter,style:Object(o.a)({position:"relative",height:i,width:E,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},v)},Object(a.createElement)(c||l||"div",{children:I,ref:s,style:{height:O?"100%":N,pointerEvents:w?"none":void 0,width:O?N:"100%"}}))},
s._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],o=e[2],r=e[3];this._callOnItemsRendered(t,n,o,r)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,c=i.scrollUpdateWasRequested;this._callOnScroll(a,s,c)}},s._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,o=this.state,r=o.isScrolling,i=o.scrollDirection,a=o.scrollOffset;if(0===t)return[0,0,0,0];var s=m(this.props,a,this._instanceProps),c=g(this.props,s,a,this._instanceProps),l=r&&"backward"!==i?1:Math.max(1,n),d=r&&"forward"!==i?1:Math.max(1,n);return[Math.max(0,s-l),Math.max(0,Math.min(t-1,c+d)),s,c]},t}(a.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},s}var x=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},k=function(e,t,n){
var o=e.itemSize,r=n.itemMetadataMap,i=n.lastMeasuredIndex;if(t>i){var a=0;if(i>=0){var s=r[i];a=s.offset+s.size}for(var c=i+1;c<=t;c++){var l=o(c);r[c]={offset:a,size:l},a+=l}n.lastMeasuredIndex=t}return r[t]},I=function(e,t,n,o,r){for(;o<=n;){var i=o+Math.floor((n-o)/2),a=k(e,i,t).offset;if(a===r)return i;a<r?o=i+1:a>r&&(n=i-1)}return o>0?o-1:0},A=function(e,t,n,o){for(var r=e.itemCount,i=1;n<r&&k(e,n,t).offset<o;)n+=i,i*=2;return I(e,t,Math.min(n,r-1),Math.floor(n/2),o)},N=function(e,t){var n=e.itemCount,o=t.itemMetadataMap,r=t.estimatedItemSize,i=t.lastMeasuredIndex,a=0;if(i>=n&&(i=n-1),i>=0){var s=o[i];a=s.offset+s.size}return a+(n-i-1)*r},M=T({getItemOffset:function(e,t,n){return k(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:N,getOffsetForIndexAndAlignment:function(e,t,n,o,r){
var i=e.direction,a=e.height,s=e.layout,c=e.width,l="horizontal"===i||"horizontal"===s?c:a,d=k(e,t,r),u=N(e,r),p=Math.max(0,Math.min(u-l,d.offset)),h=Math.max(0,d.offset-l+d.size);switch("smart"===n&&(n=o>=h-l&&o<=p+l?"auto":"center"),n){case"start":return p;case"end":return h;case"center":return Math.round(h+(p-h)/2);case"auto":default:return o>=h&&o<=p?o:o<h?h:p}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var o=t.itemMetadataMap,r=t.lastMeasuredIndex;return(r>0?o[r].offset:0)>=n?I(e,t,r,0,n):A(e,t,Math.max(0,r),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,o){for(var r=e.direction,i=e.height,a=e.itemCount,s=e.layout,c=e.width,l="horizontal"===r||"horizontal"===s?c:i,d=k(e,t,o),u=n+l,p=d.offset+d.size,h=t;h<a-1&&p<u;)h++,p+=k(e,h,o).size;return h},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,o){void 0===o&&(o=!0),
n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),o&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),R=f({getColumnOffset:function(e,t){return t*e.columnWidth},getColumnWidth:function(e,t){return e.columnWidth},getRowOffset:function(e,t){return t*e.rowHeight},getRowHeight:function(e,t){return e.rowHeight},getEstimatedTotalHeight:function(e){var t=e.rowCount;return e.rowHeight*t},getEstimatedTotalWidth:function(e){var t=e.columnCount;return e.columnWidth*t},getOffsetForColumnAndAlignment:function(e,t,n,o,r,i){var a=e.columnCount,s=e.columnWidth,c=e.width,l=Math.max(0,a*s-c),d=Math.min(l,t*s),u=Math.max(0,t*s-c+i+s);switch("smart"===n&&(n=o>=u-c&&o<=d+c?"auto":"center"),n){case"start":return d;case"end":return u;case"center":var p=Math.round(u+(d-u)/2);return p<Math.ceil(c/2)?0:p>l+Math.floor(c/2)?l:p;case"auto":default:return o>=u&&o<=d?o:u>d||o<u?u:d}},getOffsetForRowAndAlignment:function(e,t,n,o,r,i){
var a=e.rowHeight,s=e.height,c=e.rowCount,l=Math.max(0,c*a-s),d=Math.min(l,t*a),u=Math.max(0,t*a-s+i+a);switch("smart"===n&&(n=o>=u-s&&o<=d+s?"auto":"center"),n){case"start":return d;case"end":return u;case"center":var p=Math.round(u+(d-u)/2);return p<Math.ceil(s/2)?0:p>l+Math.floor(s/2)?l:p;case"auto":default:return o>=u&&o<=d?o:u>d||o<u?u:d}},getColumnStartIndexForOffset:function(e,t){var n=e.columnWidth,o=e.columnCount;return Math.max(0,Math.min(o-1,Math.floor(t/n)))},getColumnStopIndexForStartIndex:function(e,t,n){var o=e.columnWidth,r=e.columnCount,i=e.width,a=t*o,s=Math.ceil((i+n-a)/o);return Math.max(0,Math.min(r-1,t+s-1))},getRowStartIndexForOffset:function(e,t){var n=e.rowHeight,o=e.rowCount;return Math.max(0,Math.min(o-1,Math.floor(t/n)))},getRowStopIndexForStartIndex:function(e,t,n){var o=e.rowHeight,r=e.rowCount,i=e.height,a=t*o,s=Math.ceil((i+n-a)/o);return Math.max(0,Math.min(r-1,t+s-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,
validateProps:function(e){e.columnWidth,e.rowHeight}})},ifNk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("UxO+");const r=({triggerHandler:e,inputMethod:t,query:r})=>i=>{i.setMeta(n("yUK8").a,{action:n("Y+O0").a.OPEN_TYPEAHEAD_AT_CURSOR,params:{triggerHandler:e,inputMethod:t,query:r}});const{selection:a}=i;return a instanceof o.TextSelection&&null===a.$cursor?i.deleteSelection():i}},ifif:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n("Novn");!function(e){e.resourceOwner="ecosystem",e.appResourceType="app",e.environmentResourceType="environment",e.extensionGroupResourceType="extension-group",e.extensionResourceType="extension",e.appFamilyResourceTypes=[e.appResourceType,e.environmentResourceType,e.extensionGroupResourceType,e.extensionResourceType]}(t.AppFamilyAri||(t.AppFamilyAri={}));class r extends Error{constructor(e,t){super(e),this.cause=t}}t.AppFamilyAriError=r;t.NotAppFamilyAriError=class extends r{
constructor(e,t){super(`ari is not a valid App family ari: ${e.toString()} as ${t}`),this.reason=t}};t.NotExpectedAppFamilyAriTypeError=class extends r{constructor(e,t,n){super(`App family ari (${t.toString()}) is not of expected type: ${e}`,n),this.cause=n}},t.parseAppAri=function(e){return o.AppFamilyAriImpl.parse(e)},t.createAppAri=function(e){return new o.AppFamilyAriImpl(e)}},"ijE+":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},ioPV:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var o=n("mG1W");const r=(e,t,r,s)=>{if(!e)return;const c=i(e,t);if(!c)return;let l=c.attrs.layout||"default";const{schema:d}=t,u=d.marks.breakout&&d.marks.breakout.isInSet(c.marks);u&&u.attrs.mode&&(l=u.attrs.mode);let p=a(l,r,s)
;if(c.type===d.nodes.layoutSection&&(p+=2*n("9cwX").ab,r.width>n("9cwX").hb)){p-=(n("YhpX").b+2)*(c.childCount-1);const r=t.doc.resolve(e),i=Object(o.findParentNodeOfTypeClosestToPos)(r,[t.schema.nodes.layoutColumn]);i&&i.node&&!isNaN(i.node.attrs.width)&&(p=Math.round(p*i.node.attrs.width*.01))}return c.type===d.nodes.layoutSection?p-=2*n("YhpX").a:c.type===d.nodes.bodiedExtension&&(p-=2*n("WSRu").a),p-=2,p},i=(e,t)=>{if(void 0===e)return null;const n=t.doc.resolve(e),r=Object(o.findParentNodeOfTypeClosestToPos)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return r?r.node:null},a=(e,t,o)=>o?Math.min(t.lineLength,n("9cwX").s):Object(n("xEd5").a)(e,t.width),s=(e,t)=>{const n=t&&t.isInSet(e.marks);return n?n.attrs.mode:e.attrs.layout}},ixvf:function(e,t,n){"use strict";n.r(t);var o=n("qKvR");const r=Object(o.d)({display:"flex",padding:n("oUPQ").e,paddingTop:n("oUPQ").e-2+"px",position:"relative",alignItems:"center",justifyContent:"flex-end",
gap:`${n("oUPQ").b}px`});t.default=e=>{const{children:t,testId:i}=e,{testId:a}=Object(n("ry7n").a)(),s=i||a&&`${a}--footer`;return Object(o.e)("div",{css:r,"data-testid":s},t)}},"j/1Z":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},j0F9:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var o=n("3tO9"),r=n.n(o),i=n("mG1W");const a=["center","wide","full-width"],s=["wrap-left","wrap-right"],c=(e,t)=>{if("number"!=typeof t||isNaN(t)||!e)return!1;const n=e.state.doc.resolve(t),{expand:o,nestedExpand:r,layoutColumn:a}=e.state.schema.nodes;return!!Object(i.findParentNodeOfTypeClosestToPos)(n,[o,r,a])},l=(e,t,o=12,i,s)=>{let c=t.width;const l=t.layout,d=a.indexOf(l)>-1,u=a.indexOf(e)>-1,p=n("zaYB").e.indexOf(e)>-1,h=n("zaYB").e.indexOf(l)>-1
;if(d&&Object(n("zaYB").d)(e,i,s))(!c||c>=100||"center"!==l)&&(c=50);else if(e!==l&&["full-width","wide"].indexOf(l)>-1)c=void 0;else if(c){const e=Math.round(c/100*o);let t=e;h&&u?(t=2*Math.floor(t/2),c=void 0):d&&p&&(e<=1?t=2:e>=o&&(t=10)),t!==e&&(c=t/o*100)}return r()(r()({},t),{},{layout:e,width:c})};function d({$pos:e,akEditorWideLayoutWidth:t,allowBreakoutSnapPoints:o,containerWidth:r,gridSize:i,gridWidth:a,insideInlineLike:s,insideLayout:c,isVideoFile:l,lineLength:d,offsetLeft:u,wrappedLayout:p}){const h=[];for(let b=0;b<a;b++){const e=Object(n("Qvlh").c)(b,d,a);h.push(c?e:e-u)}h.push(d-u);const f=p||s?1:2,m=Object(n("Qvlh").c)(f,d,i);let g=h.filter((e=>e>=m));if(!e)return g;g=l?g.filter((e=>e>320)):g;if("doc"===e.parent.type.name&&o){g.push(t);const e=r-n("9cwX").e;e>t&&g.push(e)}return g=g.sort(((e,t)=>e-t)),g}},j28F:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var o=n("vOnD")
;const r=o.css`.ProseMirror{${n("JWSa").a}}`,i=o.css`clip:rect(1px,1px,1px,1px);clip-path:inset(50%);height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;`,a=o.default.div.withConfig({componentId:"sc-1jxgt9b-0"})`${i};`},j3Is:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("TSYQ"),c=n.n(s),l=n("OMp9");const d=(e,t)=>t.length?Math.min(Math.max(e,t[0]),t[t.length-1]):e;class u extends a.a.Component{constructor(...e){super(...e),r()(this,"resizable",a.a.createRef()),r()(this,"state",{isResizing:!1}),r()(this,"handleResizeStart",(e=>{const{innerPadding:t=0,handleResizeStart:o,highlights:r,displayGrid:i,layout:a,width:s,snapPoints:c}=this.props;if(e.preventDefault(),o&&!o(e))return!1;this.setState({isResizing:!0},(()=>{const e=r(s+t,c);i(e.length>0,Object(n("/OWP").c)(a),e)}))})),r()(this,"handleResize",((e,t,o,r)=>{
const{highlights:i,calcNewSize:a,scaleFactor:s,snapPoints:c,displayGrid:l,layout:u,updateSize:p,innerPadding:h=0}=this.props,f=this.resizable.current,{isResizing:m}=this.state;if(!f||!f.state.original||!m)return;const g=d(f.state.original.width+r.width*(s||1),c),b=a(g+h,!1);b.layout!==u&&p(b.width,b.layout);const v=i(g,c);l(v.length>0,Object(n("/OWP").c)(b.layout),v),f.updateSize({width:g,height:"auto"}),f.setState({isResizing:!0})})),r()(this,"handleResizeStop",((e,t,o,r)=>{const{highlights:i,calcNewSize:a,snapPoints:s,displayGrid:c,layout:l,updateSize:u,dispatchAnalyticsEvent:p,nodeType:h}=this.props,f=this.resizable.current,{isResizing:m}=this.state;if(!f||!f.state.original||!m)return;const g=d(f.state.original.width+r.width,s),b=a(Object(n("GD2S").c)(g,s),!0),v=i(g,s);p&&p(((e,t,o)=>{const r="embed"===e?n("J5HJ").b.EMBEDS:n("J5HJ").b.MEDIA_SINGLE;return{action:n("J5HJ").a.EDITED,actionSubject:r,actionSubjectId:n("J5HJ").c.RESIZED,attributes:{size:t,layout:o},
eventType:n("J5HJ").e.UI}})(h,b.width,b.layout)),c(v.length>0,Object(n("/OWP").c)(b.layout),v),this.setState({isResizing:!1},(()=>{u(b.width,b.layout),c(!1,Object(n("/OWP").c)(l))}))}))}render(){const e={},t={},{innerPadding:o=0,width:r,pctWidth:i,selected:s,layout:d,enable:u,children:p,ratio:h}=this.props,{isResizing:f}=this.state;n("GD2S").a.forEach((r=>{t[r]=`richMedia-resize-handle-${r}`,e[r]={width:"24px",[r]:-13-o+"px",zIndex:n("9cwX").bb,pointerEvents:"auto"}}));const m=c()(n("EcU6").b,`image-${d}`,this.props.className,{"is-resizing":f,"not-resized":!i,"richMedia-selected":s,"rich-media-wrapped":"wrap-left"===d||"wrap-right"===d});let g;return h&&(g={position:"absolute",width:"100%",paddingBottom:`${h}%`,top:0,pointerEvents:"none"}),a.a.createElement(l.Resizable,{ref:this.resizable,size:{width:r,height:"auto"},className:m,handleClasses:t,handleStyles:e,handleWrapperStyle:g,enable:u,onResize:this.handleResize,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart
},p)}}u.displayName="Resizer"},j4JT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>(t,o)=>{if(n("yUK8").a.getState(t).selectedIndex===e)return!1;const r=t.tr;return r.setMeta(n("yUK8").a,{action:n("Y+O0").a.UPDATE_SELECTED_INDEX,params:{selectedIndex:e}}),o&&o(r),!0}},jV52:function(t,n,o){"use strict";o.d(n,"a",(function(){return _e})),o.d(n,"b",(function(){return Be})),o.d(n,"c",(function(){return ke}));var r=o("iEzb");function i(e,t,n){for(var o=0;;o++){if(o==e.childCount||o==t.childCount)return e.childCount==t.childCount?null:n;var r=e.child(o),a=t.child(o);if(r!=a){if(!r.sameMarkup(a))return n;if(r.isText&&r.text!=a.text){for(var s=0;r.text[s]==a.text[s];s++)n++;return n}if(r.content.size||a.content.size){var c=i(r.content,a.content,n+1);if(null!=c)return c}n+=r.nodeSize}else n+=r.nodeSize}}function a(e,t,n,o){for(var r=e.childCount,i=t.childCount;;){if(0==r||0==i)return r==i?null:{a:n,b:o};var s=e.child(--r),c=t.child(--i),l=s.nodeSize;if(s!=c){
if(!s.sameMarkup(c))return{a:n,b:o};if(s.isText&&s.text!=c.text){for(var d=0,u=Math.min(s.text.length,c.text.length);d<u&&s.text[s.text.length-d-1]==c.text[c.text.length-d-1];)d++,n--,o--;return{a:n,b:o}}if(s.content.size||c.content.size){var p=a(s.content,c.content,n-1,o-1);if(p)return p}n-=l,o-=l}else n-=l,o-=l}}var s=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};s.prototype.nodesBetween=function(e,t,n,o,r){void 0===o&&(o=0);for(var i=0,a=0;a<t;i++){var s=this.content[i],c=a+s.nodeSize;if(c>e&&!1!==n(s,o+a,r,i)&&s.content.size){var l=a+1;s.nodesBetween(Math.max(0,e-l),Math.min(s.content.size,t-l),n,o+l)}a=c}},s.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},s.prototype.textBetween=function(e,t,n,o){var r="",i=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(r+=a.text.slice(Math.max(e,s)-s,t-s),
i=!n):a.isLeaf&&o?(r+=o,i=!n):!i&&a.isBlock&&(r+=n,i=!0)}),0),r},s.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,o=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(o[o.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)o.push(e.content[r]);return new s(o,this.size+e.size)},s.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],o=0;if(t>e)for(var r=0,i=0;i<t;r++){var a=this.content[r],c=i+a.nodeSize;c>e&&((i<e||c>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),o+=a.nodeSize),i=c}return new s(n,o)},s.prototype.cutByIndex=function(e,t){return e==t?s.empty:0==e&&t==this.content.length?this:new s(this.content.slice(e,t))},s.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var o=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return o[e]=t,
new s(o,r)},s.prototype.addToStart=function(e){return new s([e].concat(this.content),this.size+e.nodeSize)},s.prototype.addToEnd=function(e){return new s(this.content.concat(e),this.size+e.nodeSize)},s.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},s.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},s.prototype.maybeChild=function(e){return this.content[e]},s.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var o=this.content[t];e(o,n,t),n+=o.nodeSize}},s.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),i(this,e,t)},
s.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),a(this,e,t,n)},s.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return d(0,e);if(e==this.size)return d(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,o=0;;n++){var r=o+this.child(n).nodeSize;if(r>=e)return r==e||t>0?d(n+1,r):d(n,o);o=r}},s.prototype.toString=function(){return"<"+this.toStringInner()+">"},s.prototype.toStringInner=function(){return this.content.join(", ")},s.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},s.fromJSON=function(e,t){if(!t)return s.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new s(t.map(e.nodeFromJSON))},s.fromArray=function(e){if(!e.length)return s.empty;for(var t,n=0,o=0;o<e.length;o++){var r=e[o];n+=r.nodeSize,
o&&r.isText&&e[o-1].sameMarkup(r)?(t||(t=e.slice(0,o)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new s(t||e,n)},s.from=function(e){if(!e)return s.empty;if(e instanceof s)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new s([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(s.prototype,c);var l={index:0,offset:0};function d(e,t){return l.index=e,l.offset=t,l}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!u(e[o],t[o]))return!1}else{for(var r in e)if(!(r in t)||!u(e[r],t[r]))return!1;for(var i in t)if(!(i in e))return!1}return!0}s.empty=new s([],0);var p=function(e,t){this.type=e,this.attrs=t};function h(e){var t=Error.call(this,e)
;return t.__proto__=h.prototype,t}p.prototype.addToSet=function(e){for(var t,n=!1,o=0;o<e.length;o++){var r=e[o];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,o));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t},p.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},p.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},p.prototype.eq=function(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)},p.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},p.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema")
;return n.create(t.attrs)},p.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},p.setFrom=function(e){if(!e||0==e.length)return p.none;if(e instanceof p)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},p.none=[],h.prototype=Object.create(Error.prototype),h.prototype.constructor=h,h.prototype.name="ReplaceError";var f=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},m={size:{configurable:!0}};function g(e,t,n){var o=e.findIndex(t),r=o.index,i=o.offset,a=e.maybeChild(r),s=e.findIndex(n),c=s.index,l=s.offset;if(i==t||a.isText){if(l!=n&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(g(a.content,t-i-1,n-i-1)))}function b(e,t,n,o){var r=e.findIndex(t),i=r.index,a=r.offset,s=e.maybeChild(i)
;if(a==t||s.isText)return o&&!o.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var c=b(s.content,t-a-1,n);return c&&e.replaceChild(i,s.copy(c))}function v(e,t,n){if(n.openStart>e.depth)throw new h("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new h("Inconsistent open depths");return y(e,t,n,0)}function y(e,t,n,o){var r=e.index(o),i=e.node(o);if(r==t.index(o)&&o<e.depth-n.openStart){var a=y(e,t,n,o+1);return i.copy(i.content.replaceChild(r,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=o||t.depth!=o){var c=function(e,t){for(var n=t.depth-e.openStart,o=t.node(n).copy(e.content),r=n-1;r>=0;r--)o=t.node(r).copy(s.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}(n,e);return C(i,T(e,c.start,c.end,t,o))}var l=e.parent,d=l.content;return C(l,d.cut(0,e.parentOffset).append(n.content).append(d.cut(t.parentOffset)))}return C(i,x(e,t,o))}function E(e,t){
if(!t.type.compatibleContent(e.type))throw new h("Cannot join "+t.type.name+" onto "+e.type.name)}function w(e,t,n){var o=e.node(n);return E(o,t.node(n)),o}function O(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function S(e,t,n,o){var r=(t||e).node(n),i=0,a=t?t.index(n):r.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(O(e.nodeAfter,o),i++));for(var s=i;s<a;s++)O(r.child(s),o);t&&t.depth==n&&t.textOffset&&O(t.nodeBefore,o)}function C(e,t){if(!e.type.validContent(t))throw new h("Invalid content for node "+e.type.name);return e.copy(t)}function T(e,t,n,o,r){var i=e.depth>r&&w(e,t,r+1),a=o.depth>r&&w(n,o,r+1),c=[];return S(null,e,r,c),i&&a&&t.index(r)==n.index(r)?(E(i,a),O(C(i,T(e,t,n,o,r+1)),c)):(i&&O(C(i,x(e,t,r+1)),c),S(t,n,r,c),a&&O(C(a,x(n,o,r+1)),c)),S(o,null,r,c),new s(c)}function x(e,t,n){var o=[];(S(null,e,n,o),e.depth>n)&&O(C(w(e,t,n+1),x(e,t,n+1)),o);return S(t,null,n,o),new s(o)}m.size.get=function(){
return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(e,t){var n=b(this.content,e+this.openStart,t,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(e,t){return new f(g(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},f.fromJSON=function(e,t){if(!t)return f.empty;var n=t.openStart||0,o=t.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new f(s.fromJSON(e,t.content),n,o)},f.maxOpen=function(e,t){void 0===t&&(t=!0)
;for(var n=0,o=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)o++;return new f(e,n,o)},Object.defineProperties(f.prototype,m),f.empty=new f(s.empty,0,0);var k=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},I={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};k.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},I.parent.get=function(){return this.node(this.depth)},I.doc.get=function(){return this.node(0)},k.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},k.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},k.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},k.prototype.start=function(e){
return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},k.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},k.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},k.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},I.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},I.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],o=e.child(t);return n?e.child(t).cut(n):o},I.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},
k.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],o=0==t?0:this.path[3*t-1]+1,r=0;r<e;r++)o+=n.child(r).nodeSize;return o},k.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return p.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),o=e.maybeChild(t);if(!n){var r=n;n=o,o=r}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||o&&i[a].isInSet(o.marks)||(i=i[a--].removeFromSet(i));return i},k.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,o=e.parent.maybeChild(e.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||o&&n[r].isInSet(o.marks)||(n=n[r--].removeFromSet(n));return n},k.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},k.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this)
;for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new R(this,e,n)},k.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},k.prototype.max=function(e){return e.pos>this.pos?e:this},k.prototype.min=function(e){return e.pos<this.pos?e:this},k.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},k.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],o=0,r=t,i=e;;){var a=i.content.findIndex(r),s=a.index,c=a.offset,l=r-c;if(n.push(i,s,o+c),!l)break;if((i=i.child(s)).isText)break;r=l-1,o+=c+1}return new k(t,n,r)},k.resolveCached=function(e,t){for(var n=0;n<A.length;n++){var o=A[n];if(o.pos==t&&o.doc==e)return o}var r=A[N]=k.resolve(e,t);return N=(N+1)%M,r},Object.defineProperties(k.prototype,I)
;var A=[],N=0,M=12,R=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},j={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};j.start.get=function(){return this.$from.before(this.depth+1)},j.end.get=function(){return this.$to.after(this.depth+1)},j.parent.get=function(){return this.$from.node(this.depth)},j.startIndex.get=function(){return this.$from.index(this.depth)},j.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(R.prototype,j);var P=Object.create(null),D=function(e,t,n,o){this.type=e,this.attrs=t,this.content=n||s.empty,this.marks=o||p.none},L={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{
configurable:!0}};L.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},L.childCount.get=function(){return this.content.childCount},D.prototype.child=function(e){return this.content.child(e)},D.prototype.maybeChild=function(e){return this.content.maybeChild(e)},D.prototype.forEach=function(e){this.content.forEach(e)},D.prototype.nodesBetween=function(e,t,n,o){void 0===o&&(o=0),this.content.nodesBetween(e,t,n,o,this)},D.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},L.textContent.get=function(){return this.textBetween(0,this.content.size,"")},D.prototype.textBetween=function(e,t,n,o){return this.content.textBetween(e,t,n,o)},L.firstChild.get=function(){return this.content.firstChild},L.lastChild.get=function(){return this.content.lastChild},D.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},D.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},
D.prototype.hasMarkup=function(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||P)&&p.sameSet(this.marks,n||p.none)},D.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},D.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},D.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},D.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return f.empty;var o=this.resolve(e),r=this.resolve(t),i=n?0:o.sharedDepth(t),a=o.start(i),s=o.node(i).content.cut(o.pos-a,r.pos-a);return new f(s,o.depth-i,r.depth-i)},D.prototype.replace=function(e,t,n){return v(this.resolve(e),this.resolve(t),n)},D.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),o=n.index,r=n.offset;if(!(t=t.maybeChild(o)))return null;if(r==e||t.isText)return t;e-=r+1}},
D.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,o=t.offset;return{node:this.content.maybeChild(n),index:n,offset:o}},D.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,o=t.offset;if(o<e)return{node:this.content.child(n),index:n,offset:o};var r=this.content.child(n-1);return{node:r,index:n-1,offset:o-r.nodeSize}},D.prototype.resolve=function(e){return k.resolveCached(this,e)},D.prototype.resolveNoCache=function(e){return k.resolve(this,e)},D.prototype.rangeHasMark=function(e,t,n){var o=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(o=!0),!o})),o},L.isBlock.get=function(){return this.type.isBlock},L.isTextblock.get=function(){return this.type.isTextblock},L.inlineContent.get=function(){return this.type.inlineContent},L.isInline.get=function(){return this.type.isInline},L.isText.get=function(){return this.type.isText},L.isLeaf.get=function(){
return this.type.isLeaf},L.isAtom.get=function(){return this.type.isAtom},D.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),B(this.marks,e)},D.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},D.prototype.canReplace=function(e,t,n,o,r){void 0===n&&(n=s.empty),void 0===o&&(o=0),void 0===r&&(r=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,o,r),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var c=o;c<r;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0},D.prototype.canReplaceWith=function(e,t,n,o){if(o&&!this.type.allowsMarks(o))return!1;var r=this.contentMatchAt(e).matchType(n),i=r&&r.matchFragment(this.content,t);return!!i&&i.validEnd},
D.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},D.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},D.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},D.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}
var o=s.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,o,n)},Object.defineProperties(D.prototype,L);var _=function(e){function t(t,n,o,r){if(e.call(this,t,n,null,r),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):B(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),
void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(D);function B(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var H=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},J={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};H.parse=function(e,t){var n=new $(e,t);if(null==n.next)return H.empty;var o=z(n);n.next&&n.err("Unexpected trailing text");var r=function(e){var t=Object.create(null);return n(G(e,0));function n(o){var r=[];o.forEach((function(t){e[t].forEach((function(t){var n=t.term,o=t.to;if(n){var i=r.indexOf(n),a=i>-1&&r[i+1];G(e,o).forEach((function(e){a||r.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}))
;for(var i=t[o.join(",")]=new H(o.indexOf(e.length-1)>-1),a=0;a<r.length;a+=2){var s=r[a+1].sort(q);i.next.push(r[a],t[s.join(",")]||n(s))}return i}}(function(e){var t=[[]];return r(i(e,0),n()),t;function n(){return t.push([])-1}function o(e,n,o){var r={term:o,to:n};return t[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"==e.type)for(var a=0;;a++){var s=i(e.exprs[a],t);if(a==e.exprs.length-1)return s;r(s,t=n())}else{if("star"==e.type){var c=n();return o(t,c),r(i(e.expr,c),c),[o(c)]}if("plus"==e.type){var l=n();return r(i(e.expr,t),l),r(i(e.expr,l),l),[o(l)]}if("opt"==e.type)return[o(t)].concat(i(e.expr,t));if("range"==e.type){for(var d=t,u=0;u<e.min;u++){var p=n();r(i(e.expr,d),p),d=p}if(-1==e.max)r(i(e.expr,d),d);else for(var h=e.min;h<e.max;h++){var f=n();o(d,f),r(i(e.expr,d),f),d=f}return[o(d)]}if("name"==e.type)return[o(t,null,e.value)]}}}(o))
;return function(e,t){for(var n=0,o=[e];n<o.length;n++){for(var r=o[n],i=!r.validEnd,a=[],s=0;s<r.next.length;s+=2){var c=r.next[s],l=r.next[s+1];a.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==o.indexOf(l)&&o.push(l)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r},H.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},H.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var o=this,r=t;o&&r<n;r++)o=o.matchType(e.child(r).type);return o},J.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},J.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},H.prototype.compatible=function(e){
for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},H.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var o=[this];return function r(i,a){var c=i.matchFragment(e,n);if(c&&(!t||c.validEnd))return s.from(a.map((function(e){return e.createAndFill()})));for(var l=0;l<i.next.length;l+=2){var d=i.next[l],u=i.next[l+1];if(!d.isText&&!d.hasRequiredAttrs()&&-1==o.indexOf(u)){o.push(u);var p=r(u,a.concat(d));if(p)return p}}}(this,[])},H.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},H.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var o=n.shift(),r=o.match;if(r.matchType(e)){for(var i=[],a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s=0;s<r.next.length;s+=2){var c=r.next[s]
;c.isLeaf||c.hasRequiredAttrs()||c.name in t||o.type&&!r.next[s+1].validEnd||(n.push({match:c.contentMatch,type:c,via:o}),t[c.name]=!0)}}},J.edgeCount.get=function(){return this.next.length>>1},H.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},H.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var o=1;o<n.next.length;o+=2)-1==e.indexOf(n.next[o])&&t(n.next[o])}(this),e.map((function(t,n){for(var o=n+(t.validEnd?"*":" ")+" ",r=0;r<t.next.length;r+=2)o+=(r?", ":"")+t.next[r].name+"->"+e.indexOf(t.next[r+1]);return o})).join("\n")},Object.defineProperties(H.prototype,J),H.empty=new H(!0);var $=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},F={next:{configurable:!0}}
;function z(e){var t=[];do{t.push(U(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function U(e){var t=[];do{t.push(V(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function V(e){for(var t=function(e){if(e.eat("(")){var t=z(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,o=n[t];if(o)return[o];var r=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&r.push(a)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=K(e,t)}return t}
function W(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function K(e,t){var n=W(e),o=n;return e.eat(",")&&(o="}"!=e.next?W(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:o,expr:t}}function q(e,t){return t-e}function G(e,t){var n=[];return function t(o){var r=e[o];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(o);for(var i=0;i<r.length;i++){var a=r[i],s=a.term,c=a.to;s||-1!=n.indexOf(c)||t(c)}}(t),n.sort(q)}function Y(e){var t=Object.create(null);for(var n in e){var o=e[n];if(!o.hasDefault)return null;t[n]=o.default}return t}function X(e,t){var n=Object.create(null);for(var o in e){var r=t&&t[o];if(void 0===r){var i=e[o];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+o);r=i.default}n[o]=r}return n}function Q(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new te(e[n]);return t}F.next.get=function(){return this.tokens[this.pos]},$.prototype.eat=function(e){
return this.next==e&&(this.pos++||!0)},$.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties($.prototype,F);var Z=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=Q(n.attrs),this.defaultAttrs=Y(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},ee={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ee.isInline.get=function(){return!this.isBlock},ee.isTextblock.get=function(){return this.isBlock&&this.inlineContent},ee.isLeaf.get=function(){return this.contentMatch==H.empty},ee.isAtom.get=function(){return this.isLeaf||this.spec.atom},Z.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},Z.prototype.compatibleContent=function(e){
return this==e||this.contentMatch.compatible(e.contentMatch)},Z.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:X(this.attrs,e)},Z.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new D(this,this.computeAttrs(e),s.from(t),p.setFrom(n))},Z.prototype.createChecked=function(e,t,n){if(t=s.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new D(this,this.computeAttrs(e),t,p.setFrom(n))},Z.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=s.from(t)).size){var o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}var r=this.contentMatch.matchFragment(t).fillBefore(s.empty,!0);return r?new D(this,e,t.append(r),p.setFrom(n)):null},Z.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1
;return!0},Z.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},Z.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},Z.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:p.empty:e},Z.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,o){return n[e]=new Z(e,t,o)}));var o=t.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(Z.prototype,ee);var te=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},ne={isRequired:{
configurable:!0}};ne.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(te.prototype,ne);var oe=function(e,t,n,o){this.name=e,this.schema=n,this.spec=o,this.attrs=Q(o.attrs),this.rank=t,this.excluded=null;var r=Y(this.attrs);this.instance=r&&new p(this,r)};oe.prototype.create=function(e){return!e&&this.instance?this.instance:new p(this,X(this.attrs,e))},oe.compile=function(e,t){var n=Object.create(null),o=0;return e.forEach((function(e,r){return n[e]=new oe(e,o++,t,r)})),n},oe.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},oe.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},oe.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var re=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=r.a.from(e.nodes),this.spec.marks=r.a.from(e.marks),this.nodes=Z.compile(this.spec.nodes,this),
this.marks=oe.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],a=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[a]||(n[a]=H.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==s?null:s?ie(this,s.split(" ")):""!=s&&i.inlineContent?null:[]}for(var c in this.marks){var l=this.marks[c],d=l.spec.excludes;l.excluded=null==d?[l]:""==d?[]:ie(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function ie(e,t){for(var n=[],o=0;o<t.length;o++){var r=t[o],i=e.marks[r],a=i;if(i)n.push(i);else for(var s in e.marks){var c=e.marks[s];("_"==r||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=c)}
if(!a)throw new SyntaxError("Unknown mark type: '"+t[o]+"'")}return n}re.prototype.node=function(e,t,n,o){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Z))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,o)},re.prototype.text=function(e,t){var n=this.nodes.text;return new _(n,n.defaultAttrs,e,p.setFrom(t))},re.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},re.prototype.nodeFromJSON=function(e){return D.fromJSON(this,e)},re.prototype.markFromJSON=function(e){return p.fromJSON(this,e)},re.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ae=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){
if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ae.prototype.parse=function(e,t){void 0===t&&(t={});var n=new pe(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ae.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new pe(this,t,!0);return n.addAll(e,null,t.from,t.to),f.maxOpen(n.finish())},ae.prototype.matchTag=function(e,t){for(var n=0;n<this.tags.length;n++){var o=this.tags[n];if(fe(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var r=o.getAttrs(e);if(!1===r)continue;o.attrs=r}return o}}},ae.prototype.matchStyle=function(e,t,n){for(var o=0;o<this.styles.length;o++){var r=this.styles[o];if(!(0!=r.style.indexOf(e)||r.context&&!n.matchesContext(r.context)||r.style.length>e.length&&(61!=r.style.charCodeAt(e.length)||r.style.slice(e.length+1)!=t))){if(r.getAttrs){var i=r.getAttrs(t);if(!1===i)continue;r.attrs=i}return r}}},
ae.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,o=0;o<t.length;o++){var r=t[o];if((null==r.priority?50:r.priority)<n)break}t.splice(o,0,e)}var o=function(t){var o=e.marks[t].spec.parseDOM;o&&o.forEach((function(e){n(e=me(e)),e.mark=t}))};for(var r in e.marks)o(r);var i=function(t){var o=e.nodes[a].spec.parseDOM;o&&o.forEach((function(e){n(e=me(e)),e.node=a}))};for(var a in e.nodes)i();return t},ae.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ae(e,ae.schemaRules(e)))};var se={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},le={ol:!0,ul:!0};function de(e){return(e?1:0)|("full"===e?2:0)}var ue=function(e,t,n,o,r,i,a){this.type=e,
this.attrs=t,this.solid=r,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=p.none,this.pendingMarks=o};ue.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(s.from(e));if(!t){var n,o=this.type.contentMatch;return(n=o.findWrapping(e.type))?(this.match=o,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},ue.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var o=s.from(this.content);return!e&&this.match&&(o=o.append(this.match.fillBefore(s.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o},ue.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){
var o=n[t];(this.type?this.type.allowsMarkType(o.type):ge(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}};var pe=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var o,r=t.topNode,i=de(t.preserveWhitespace)|(n?4:0);o=r?new ue(r.type,r.attrs,p.none,p.none,!0,t.topMatch||r.type.contentMatch,i):new ue(n?null:e.schema.topNodeType,null,p.none,p.none,!0,null,i),this.nodes=[o],this.open=0,this.find=t.findPositions,this.needsBlock=!1},he={top:{configurable:!0},currentPos:{configurable:!0}};function fe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function me(e){var t={};for(var n in e)t[n]=e[n];return t}function ge(e,t){var n=t.schema.nodes,o=function(o){var r=n[o];if(r.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var o=e.edge(n),r=o.type,s=o.next;if(r==t)return!0;if(i.indexOf(s)<0&&a(s))return!0}
};return a(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var i=o(r);if(i)return i.v}}he.top.get=function(){return this.nodes[this.open]},pe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,o=[];for(;t=n.exec(e);)o.push(t[1],t[2].trim());return o}(t)):null,o=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],o)}},pe.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)2&n.options||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var o=n.content[n.content.length-1],r=e.previousSibling
;(!o||r&&"BR"==r.nodeName||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},pe.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();le.hasOwnProperty(t)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var o=1==t.nodeType?t.nodeName.toLowerCase():null;o&&le.hasOwnProperty(o)&&n?(n.appendChild(t),t=n):"li"==o?n=t:o&&(n=null)}}(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:ce.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=Math.max(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var o,r=this.top,i=this.needsBlock;if(se.hasOwnProperty(t))o=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),o&&this.sync(r),this.needsBlock=i}else this.addElementByRule(e,n)},
pe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},pe.prototype.readStyles=function(e){for(var t=p.none,n=0;n<e.length;n+=2){var o=this.parser.matchStyle(e[n],e[n+1],this);if(o){if(o.ignore)return null;t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t)}}return t},pe.prototype.addElementByRule=function(e,t){var n,o,r,i=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):n=this.enter(o,t.attrs,t.preserveWhitespace):(r=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(r));var a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return i.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,n)}
n&&(this.sync(a),this.open--),r&&this.removePendingMark(r,a)},pe.prototype.addAll=function(e,t,n,o){for(var r=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==o?null:e.childNodes[o];i!=a;i=i.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(i),t&&se.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,r)},pe.prototype.findPlace=function(e){for(var t,n,o=this.open;o>=0;o--){var r=this.nodes[o],i=r.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=r,!i.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},pe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var o=n.activeMarks,r=0;r<e.marks.length;r++)n.type&&!n.type.allowsMarkType(e.marks[r].type)||(o=e.marks[r].addToSet(o))
;return n.content.push(e.mark(o)),!0}return!1},pe.prototype.enter=function(e,t,n){var o=this.findPlace(e.create(t));return o&&this.enterInner(e,t,!0,n),o},pe.prototype.enterInner=function(e,t,n,o){this.closeExtra();var r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e,t);var i=null==o?-5&r.options:de(o);4&r.options&&0==r.content.length&&(i|=4),this.nodes.push(new ue(e,t,r.activeMarks,r.pendingMarks,n,null,i)),this.open++},pe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},pe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},pe.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},he.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){
for(var n=this.nodes[t].content,o=n.length-1;o>=0;o--)e+=n[o].nodeSize;t&&e++}return e},pe.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},pe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},pe.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var o=0;o<this.find.length;o++){if(null==this.find[o].pos&&1==e.nodeType&&e.contains(this.find[o].node))t.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}},pe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},pe.prototype.matchesContext=function(e){var t=this
;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),o=this.options.context,r=!(this.isOpen||o&&o.parent.type!=this.nodes[0].type),i=-(o?o.depth+1:0)+(r?0:1),a=function(e,s){for(;e>=0;e--){var c=n[e];if(""==c){if(e==n.length-1||0==e)continue;for(;s>=i;s--)if(a(e-1,s))return!0;return!1}var l=s>0||0==s&&r?t.nodes[s].type:o&&s>=i?o.node(s-i).type:null;if(!l||l.name!=c&&-1==l.groups.indexOf(c))return!1;s--}return!0};return a(n.length-1,this.open)},pe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var o in this.parser.schema.nodes){var r=this.parser.schema.nodes[o];if(r.isTextblock&&r.defaultAttrs)return r}},pe.prototype.addPendingMark=function(e){this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},pe.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){
var o=this.nodes[n];if(o.pendingMarks.lastIndexOf(e)>-1?o.pendingMarks=e.removeFromSet(o.pendingMarks):o.activeMarks=e.removeFromSet(o.activeMarks),o==t)break}},Object.defineProperties(pe.prototype,he);var be=function(e,t){this.nodes=e||{},this.marks=t||{}};function ve(e){var t={};for(var n in e){var o=e[n].spec.toDOM;o&&(t[n]=o)}return t}function ye(e){return e.document||window.document}be.prototype.serializeFragment=function(e,t,n){var o=this;void 0===t&&(t={}),n||(n=ye(t).createDocumentFragment());var r=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var s=e.marks[a];if(o.marks[s.type.name]){if(!s.eq(i[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)r=i.pop(),i.pop();for(;a<e.marks.length;){var c=e.marks[a++],l=o.serializeMark(c,e.isInline,t);l&&(i.push(c,r),r.appendChild(l.dom),r=l.contentDOM||l.dom)}}r.appendChild(o.serializeNode(e,t))})),n},be.prototype.serializeNode=function(e,t){
void 0===t&&(t={});var n=be.renderSpec(ye(t),this.nodes[e.type.name](e)),o=n.dom,r=n.contentDOM;if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,r,t):this.serializeFragment(e.content,t,r)}return o},be.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),o=e.marks.length-1;o>=0;o--){var r=this.serializeMark(e.marks[o],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},be.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var o=this.marks[e.type.name];return o&&be.renderSpec(ye(n),o(e,t))},be.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};var o=t[0],r=o.indexOf(" ");r>0&&(n=o.slice(0,r),o=o.slice(r+1));var i=null,a=n?e.createElementNS(n,o):e.createElement(o),s=t[1],c=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var l in c=2,
s)if(null!=s[l]){var d=l.indexOf(" ");d>0?a.setAttributeNS(l.slice(0,d),l.slice(d+1),s[l]):a.setAttribute(l,s[l])}for(var u=c;u<t.length;u++){var p=t[u];if(0===p){if(u<t.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var h=be.renderSpec(e,p,n),f=h.dom,m=h.contentDOM;if(a.appendChild(f),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:a,contentDOM:i}},be.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new be(this.nodesFromSchema(e),this.marksFromSchema(e)))},be.nodesFromSchema=function(e){var t=ve(e.nodes);return t.text||(t.text=function(e){return e.text}),t},be.marksFromSchema=function(e){return ve(e.marks)};var Ee=Math.pow(2,16);function we(e,t){return e+t*Ee}function Oe(e){return 65535&e}var Se=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},Ce=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t}
;Ce.prototype.recover=function(e){var t=0,n=Oe(e);if(!this.inverted)for(var o=0;o<n;o++)t+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/Ee}(e)},Ce.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Ce.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},Ce.prototype._map=function(e,t,n){for(var o=0,r=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?o:0);if(s>e)break;var c=this.ranges[a+r],l=this.ranges[a+i],d=s+c;if(e<=d){var u=s+o+((c?e==s?-1:e==d?1:t:t)<0?0:l);if(n)return u;var p=e==(t<0?s:d)?null:we(a/3,e-s);return new Se(u,t<0?e!=s:e!=d,p)}o+=l-c}return n?e+o:new Se(e+o)},Ce.prototype.touches=function(e,t){for(var n=0,o=Oe(t),r=this.inverted?2:1,i=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var c=this.ranges[a+r];if(e<=s+c&&a==3*o)return!0;n+=this.ranges[a+i]-c}return!1},
Ce.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,o=0,r=0;o<this.ranges.length;o+=3){var i=this.ranges[o],a=i-(this.inverted?r:0),s=i+(this.inverted?0:r),c=this.ranges[o+t],l=this.ranges[o+n];e(a,a+c,s,s+l),r+=l-c}},Ce.prototype.invert=function(){return new Ce(this.ranges,!this.inverted)},Ce.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Ce.offset=function(e){return 0==e?Ce.empty:new Ce(e<0?[0,-e,0]:[0,0,e])},Ce.empty=new Ce([]);var Te=function(e,t,n,o){this.maps=e||[],this.from=n||0,this.to=null==o?this.maps.length:o,this.mirror=t};function xe(e){var t=Error.call(this,e);return t.__proto__=xe.prototype,t}Te.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new Te(this.maps,this.mirror,e,t)},Te.prototype.copy=function(){return new Te(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Te.prototype.appendMap=function(e,t){this.to=this.maps.push(e),
null!=t&&this.setMirror(this.maps.length-1,t)},Te.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var o=e.getMirror(t);this.appendMap(e.maps[t],null!=o&&o<t?n+o:null)}},Te.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},Te.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},Te.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var o=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=o&&o>t?n-o-1:null)}},Te.prototype.invert=function(){var e=new Te;return e.appendMappingInverted(this),e},Te.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},Te.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Te.prototype._map=function(e,t,n){
for(var o=!1,r=this.from;r<this.to;r++){var i=this.maps[r].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(r);if(null!=a&&a>r&&a<this.to){r=a,e=this.maps[a].recover(i.recover);continue}}i.deleted&&(o=!0),e=i.pos}return n?e:new Se(e,o)},xe.prototype=Object.create(Error.prototype),xe.prototype.constructor=xe,xe.prototype.name="TransformError";var ke=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Te},Ie={before:{configurable:!0},docChanged:{configurable:!0}};function Ae(){throw new Error("Override me")}Ie.before.get=function(){return this.docs.length?this.docs[0]:this.doc},ke.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new xe(t.failed);return this},ke.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},Ie.docChanged.get=function(){return this.steps.length>0},ke.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},
Object.defineProperties(ke.prototype,Ie);var Ne=Object.create(null),Me=function(){};Me.prototype.apply=function(e){return Ae()},Me.prototype.getMap=function(){return Ce.empty},Me.prototype.invert=function(e){return Ae()},Me.prototype.map=function(e){return Ae()},Me.prototype.merge=function(e){return null},Me.prototype.toJSON=function(){return Ae()},Me.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ne[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},Me.jsonID=function(e,t){if(e in Ne)throw new RangeError("Duplicate use of step JSON ID "+e);return Ne[e]=t,t.prototype.jsonID=e,t};var Re=function(e,t){this.doc=e,this.failed=t};Re.ok=function(e){return new Re(e,null)},Re.fail=function(e){return new Re(null,e)},Re.fromReplace=function(t,n,o,r){try{return Re.ok(t.replace(n,o,r))}catch(e){if(e instanceof h)return Re.fail(e.message);throw e}};var je=function(e){function t(t,n,o,r){
e.call(this),this.from=t,this.to=n,this.slice=o,this.structure=!!r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&De(e,this.from,this.to)?Re.fail("Structure replace would overwrite content"):Re.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new Ce([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted?null:new t(n.pos,Math.max(n.pos,o.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null
;var n=this.slice.size+e.slice.size==0?f.empty:new f(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?f.empty:new f(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,f.fromJSON(e,n.slice),!!n.structure)},t}(Me);Me.jsonID("replace",je);var Pe=function(e){function t(t,n,o,r,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=o,this.gapTo=r,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),
t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(De(e,this.from,this.gapFrom)||De(e,this.gapTo,this.to)))return Re.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Re.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?Re.fromReplace(e,this.from,this.to,n):Re.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new Ce([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){
var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&o.deleted||r<n.pos||i>o.pos?null:new t(n.pos,o.pos,r,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,f.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(Me);function De(e,t,n){for(var o=e.resolve(t),r=n-t,i=o.depth;r>0&&i>0&&o.indexAfter(i)==o.node(i).childCount;)i--,r--;if(r>0)for(var a=o.node(i).maybeChild(o.indexAfter(i));r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}
return!1}function Le(e,t,n){for(var o=[],r=0;r<e.childCount;r++){var i=e.child(r);i.content.size&&(i=i.copy(Le(i.content,t,i))),i.isInline&&(i=t(i,n,r)),o.push(i)}return s.fromArray(o)}Me.jsonID("replaceAround",Pe),ke.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,r=e.depth,i=n.before(r+1),a=o.after(r+1),c=i,l=a,d=s.empty,u=0,p=r,h=!1;p>t;p--)h||n.index(p)>0?(h=!0,d=s.from(n.node(p).copy(d)),u++):c--;for(var m=s.empty,g=0,b=r,v=!1;b>t;b--)v||o.after(b+1)<o.end(b)?(v=!0,m=s.from(o.node(b).copy(m)),g++):l++;return this.step(new Pe(c,l,i,a,new f(d.append(m),u,g),d.size-u,!0))},ke.prototype.wrap=function(e,t){for(var n=s.empty,o=t.length-1;o>=0;o--)n=s.from(t[o].type.create(t[o].attrs,n));var r=e.start,i=e.end;return this.step(new Pe(r,i,r,i,new f(n,0,0),t.length,!0))},ke.prototype.setBlockType=function(e,t,n,o){var r=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length
;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var o=e.resolve(t),r=o.index();return o.parent.canReplaceWith(r,r+1,n)}(r.doc,r.mapping.slice(i).map(t),n)){r.clearIncompatible(r.mapping.slice(i).map(t,1),n);var a=r.mapping.slice(i),c=a.map(t,1),l=a.map(t+e.nodeSize,1);return r.step(new Pe(c,l,c+1,l-1,new f(s.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}})),this},ke.prototype.setNodeMarkup=function(e,t,n,o){var r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);var i=t.create(n,null,o||r.marks);if(r.isLeaf)return this.replaceWith(e,e+r.nodeSize,i);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Pe(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new f(s.from(i),0,0),1,!0))},ke.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),r=s.empty,i=s.empty,a=o.depth,c=o.depth-t,l=t-1;a>c;a--,l--){r=s.from(o.node(a).copy(r))
;var d=n&&n[l];i=s.from(d?d.type.create(d.attrs,i):o.node(a).copy(i))}return this.step(new je(e,e,new f(r.append(i),t,t),!0))},ke.prototype.join=function(e,t){void 0===t&&(t=1);var n=new je(e-t,e+t,f.empty,!0);return this.step(n)};var _e=function(e){function t(t,n,o){e.call(this),this.from=t,this.to=n,this.mark=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),r=o.node(o.sharedDepth(this.to)),i=new f(Le(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),r),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new Be(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new t(n.pos,o.pos,this.mark)},t.prototype.merge=function(e){
if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Me);Me.jsonID("addMark",_e);var Be=function(e){function t(t,n,o){e.call(this),this.from=t,this.to=n,this.mark=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new f(Le(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new _e(this.from,this.to,this.mark)},t.prototype.map=function(e){
var n=e.mapResult(this.from,1),o=e.mapResult(this.to,-1);return n.deleted&&o.deleted||n.pos>=o.pos?null:new t(n.pos,o.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Me);function He(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Me.jsonID("removeMark",Be),ke.prototype.addMark=function(e,t,n){var o=this,r=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(o,c,l){if(o.isInline){var d=o.marks;if(!n.isInSet(d)&&l.type.allowsMarkType(n.type)){
for(var u=Math.max(c,e),p=Math.min(c+o.nodeSize,t),h=n.addToSet(d),f=0;f<d.length;f++)d[f].isInSet(h)||(a&&a.to==u&&a.mark.eq(d[f])?a.to=p:r.push(a=new Be(u,p,d[f])));s&&s.to==u?s.to=p:i.push(s=new _e(u,p,n))}}})),r.forEach((function(e){return o.step(e)})),i.forEach((function(e){return o.step(e)})),this},ke.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var r=[],i=0;return this.doc.nodesBetween(e,t,(function(o,a){if(o.isInline){i++;var s=null;if(n instanceof oe)for(var c,l=o.marks;c=n.isInSet(l);)(s||(s=[])).push(c),l=c.removeFromSet(l);else n?n.isInSet(o.marks)&&(s=[n]):s=o.marks;if(s&&s.length)for(var d=Math.min(a+o.nodeSize,t),u=0;u<s.length;u++){for(var p=s[u],h=void 0,f=0;f<r.length;f++){var m=r[f];m.step==i-1&&p.eq(r[f].style)&&(h=m)}h?(h.to=d,h.step=i):r.push({style:p,from:Math.max(a,e),to:d,step:i})}}})),r.forEach((function(e){return o.step(new Be(e.from,e.to,e.style))})),this},ke.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch)
;for(var o=this.doc.nodeAt(e),r=[],i=e+1,a=0;a<o.childCount;a++){var c=o.child(a),l=i+c.nodeSize,d=n.matchType(c.type,c.attrs);if(d){n=d;for(var u=0;u<c.marks.length;u++)t.allowsMarkType(c.marks[u].type)||this.step(new Be(i,l,c.marks[u]))}else r.push(new je(i,l,f.empty));i=l}if(!n.validEnd){var p=n.fillBefore(s.empty,!0);this.replace(i,i,new f(p,0,0))}for(var h=r.length-1;h>=0;h--)this.step(r[h]);return this},ke.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=f.empty);var o=function(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=f.empty),t==n&&!o.size)return null;var r=e.resolve(t),i=e.resolve(n);return He(r,i,o)?new je(t,n,o):new Je(r,i,o).fit()}(this.doc,e,t,n);return o&&this.step(o),this},ke.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new f(s.from(n),0,0))},ke.prototype.delete=function(e,t){return this.replace(e,t,f.empty)},ke.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var Je=function(e,t,n){this.$to=t,this.$from=e,
this.unplaced=n,this.frontier=[];for(var o=0;o<=e.depth;o++){var r=e.node(o);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(o))})}this.placed=s.empty;for(var i=e.depth;i>0;i--)this.placed=s.from(e.node(i).copy(this.placed))},$e={depth:{configurable:!0}};function Fe(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(Fe(e.firstChild.content,t-1,n)))}function ze(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ze(e.lastChild.content,t-1,n)))}function Ue(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function Ve(e,t,n){if(t<=0)return e;var o=e.content;return t>1&&(o=o.replaceChild(0,Ve(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(s.empty,!0)))),e.copy(o)}function We(e,t,n,o,r){var i=e.node(t),a=r?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null
;var s=o.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var o=n;o<t.childCount;o++)if(!e.allowsMarks(t.child(o).marks))return!0;return!1}(n,i.content,a)?s:null}function Ke(e,t,n,o,r){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(Ke(i.content,t+1,n,o,i)))}if(t>o){var a=r.contentMatchAt(0),c=a.fillBefore(e).append(e);e=c.append(a.matchFragment(c).fillBefore(s.empty,!0))}return e}function qe(e,t){for(var n=[],o=Math.min(e.depth,t.depth);o>=0;o--){var r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;r==t.start(o)&&n.push(o)}return n}$e.depth.get=function(){return this.frontier.length-1},Je.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,r=this.close(t<0?this.$to:o.doc.resolve(t));if(!r)return null
;for(var i=this.placed,a=o.depth,s=r.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var c=new f(i,a,s);return t>-1?new Pe(o.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||o.pos!=this.$to.pos?new je(o.pos,r.pos,c):void 0},Je.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,o=(t?(n=Ue(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,r=this.depth;r>=0;r--){var i=this.frontier[r],a=i.type,c=i.match,l=void 0,d=void 0;if(1==e&&(o?c.matchType(o.type)||(d=c.fillBefore(s.from(o),!1)):a.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:r,parent:n,inject:d};if(2==e&&o&&(l=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:r,parent:n,wrap:l};if(n&&c.matchType(n.type))break}},Je.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,r=Ue(t,n)
;return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new f(t,n+1,Math.max(o,r.size+n>=t.size-o?n+1:0)),!0)},Je.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,r=Ue(t,n);if(r.childCount<=1&&n>0){var i=t.size-n<=n+r.size;this.unplaced=new f(Fe(t,n-1,1),n-1,i?n-1:o)}else this.unplaced=new f(Fe(t,n,1),n,o)},Je.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,o=e.parent,r=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var c=this.unplaced,l=o?o.content:c.content,d=c.openStart-t,u=0,p=[],h=this.frontier[n],m=h.match,g=h.type;if(r){for(var b=0;b<r.childCount;b++)p.push(r.child(b));m=m.matchFragment(r)}for(var v=l.size+t-(c.content.size-c.openEnd);u<l.childCount;){var y=l.child(u),E=m.matchType(y.type);if(!E)break;(++u>1||0==d||y.content.size)&&(m=E,p.push(Ve(y.mark(g.allowedMarks(y.marks)),1==u?d:0,u==l.childCount?v:-1)))}var w=u==l.childCount
;w||(v=-1),this.placed=ze(this.placed,n,s.from(p)),this.frontier[n].match=m,w&&v<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var O=0,S=l;O<v;O++){var C=S.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),S=C.content}this.unplaced=w?0==t?f.empty:new f(Fe(c.content,t-1,1),t-1,v<0?c.openEnd:t-1):new f(Fe(c.content,t,u),c.openStart,c.openEnd)},Je.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!We(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,o=this.$to.after(n);n>1&&o==this.$to.end(--n);)++o;return o},Je.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){
var n=this.frontier[t],o=n.match,r=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=We(e,t,r,o,i);if(a){for(var s=t-1;s>=0;s--){var c=this.frontier[s],l=c.match,d=We(e,s,c.type,l,!0);if(!d||d.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},Je.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ze(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var o=e.node(n),r=o.type.contentMatch.fillBefore(o.content,!0,e.index(n));this.openFrontierNode(o.type,o.attrs,r)}return e},Je.prototype.openFrontierNode=function(e,t,n){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=ze(this.placed,this.depth,s.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},Je.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(s.empty,!0)
;e.childCount&&(this.placed=ze(this.placed,this.frontier.length,e))},Object.defineProperties(Je.prototype,$e),ke.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),r=this.doc.resolve(t);if(He(o,r,n))return this.step(new je(e,t,n));var i=qe(o,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var a=-(o.depth+1);i.unshift(a);for(var s=o.depth,c=o.pos-1;s>0;s--,c--){var l=o.node(s).type.spec;if(l.defining||l.isolating)break;i.indexOf(s)>-1?a=s:o.before(s)==c&&i.splice(1,0,-s)}for(var d=i.indexOf(a),u=[],p=n.openStart,h=n.content,m=0;;m++){var g=h.firstChild;if(u.push(g),m==n.openStart)break;h=g.content}p>0&&u[p-1].type.spec.defining&&o.node(d).type!=u[p-1].type?p-=1:p>=2&&u[p-1].isTextblock&&u[p-2].type.spec.defining&&o.node(d).type!=u[p-2].type&&(p-=2);for(var b=n.openStart;b>=0;b--){var v=(b+p+1)%(n.openStart+1),y=u[v];if(y)for(var E=0;E<i.length;E++){var w=i[(E+d)%i.length],O=!0;w<0&&(O=!1,w=-w);var S=o.node(w-1),C=o.index(w-1)
;if(S.canReplaceWith(C,C,y.type,y.marks))return this.replace(o.before(w),O?r.after(w):t,new f(Ke(n.content,0,n.openStart,v),v,n.openEnd))}}for(var T=this.steps.length,x=i.length-1;x>=0&&(this.replace(e,t,n),!(this.steps.length>T));x--){var k=i[x];k<0||(e=o.before(k),t=r.after(k))}return this},ke.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=function(e,t,n){var o=e.resolve(t);if(o.parent.canReplaceWith(o.index(),o.index(),n))return t;if(0==o.parentOffset)for(var r=o.depth-1;r>=0;r--){var i=o.index(r);if(o.node(r).canReplaceWith(i,i,n))return o.before(r+1);if(i>0)return null}if(o.parentOffset==o.parent.content.size)for(var a=o.depth-1;a>=0;a--){var s=o.indexAfter(a);if(o.node(a).canReplaceWith(s,s,n))return o.after(a+1);if(s<o.node(a).childCount)return null}}(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new f(s.from(n),0,0))},ke.prototype.deleteRange=function(e,t){
for(var n=this.doc.resolve(e),o=this.doc.resolve(t),r=qe(n,o),i=0;i<r.length;i++){var a=r[i],s=i==r.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),o.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),o.indexAfter(a-1))))return this.delete(n.before(a),o.after(a))}for(var c=1;c<=n.depth&&c<=o.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&o.end(c)-t!=o.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)}},jeRt:function(e,t,n){"use strict";n.d(t,"b",(function(){return v}));var o=n("3tO9"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("UxO+"),c=n("mG1W"),l=n("u6S6"),d=n.n(l);var u=n("JRPe"),p=Object(u.defineMessages)({confirmModalDefaultHeading:{id:"fabric.editor.floatingToolbar.confirmModalHeading",defaultMessage:"Are you sure?",description:"Default heading of floating toolbar confirmation modal."},confirmModalOK:{id:"fabric.editor.floatingToolbar.confirmModalOK",defaultMessage:"OK",
description:"OK button for floating toolbar confirmation modal."},confirmModalCancel:{id:"fabric.editor.floatingToolbar.confirmModalCancel",defaultMessage:"Cancel",description:"Cancel button for floating toolbar confirmation modal."}});const h=Object(u.injectIntl)((e=>{const{onConfirm:t,onClose:o,options:r,intl:{formatMessage:i},testId:s}=e,c=(null==r?void 0:r.title)||i(p.confirmModalDefaultHeading),l=(null==r?void 0:r.okButtonLabel)||i(p.confirmModalOK),d=(null==r?void 0:r.cancelButtonLabel)||i(p.confirmModalCancel);return a.a.createElement(n("QOY8").a,null,r&&a.a.createElement(n("8y89").a,{onClose:o,testId:s},a.a.createElement(n("86DB").default,null,a.a.createElement(n("i+CE").default,{appearance:"warning"},c)),a.a.createElement(n("mrDZ").default,null,a.a.createElement("p",null,r.message)),a.a.createElement(n("ixvf").default,null,a.a.createElement(n("340+").a,{appearance:"default",onClick:o,testId:s?`${s}-cancel-button`:void 0},d),a.a.createElement(n("340+").a,{appearance:"warning",
onClick:t,testId:s?`${s}-confirm-button`:void 0},l))))}));var f=n("CnBM");const m=n.n(f)()({loader:()=>n.e("@atlaskit-internal_editor-core-floating-toolbar").then(n.bind(null,"T4a7")).then((e=>e.default)),loading:()=>null}),g=(e,t)=>{try{return Object(c.findDomRefAtPos)(e.state.selection.from,e.domAtPos.bind(e))}catch(o){if(console.warn(o),t){t({action:n("J5HJ").a.ERRORED,actionSubject:n("J5HJ").b.CONTENT_COMPONENT,eventType:n("J5HJ").e.OPERATIONAL,attributes:{component:n("J5HJ").d.FLOATING_TOOLBAR,selection:e.state.selection.toJSON(),position:e.state.selection.from,docSize:e.state.doc.nodeSize,error:o.toString(),errorStack:o.stack||void 0}})}}};function b(e){return!!e}t.a=()=>({name:"floatingToolbar",pmPlugins:(e=[])=>[{name:"floatingToolbar",plugin:({dispatch:t,reactContext:o,providerFactory:i})=>function(e){const{floatingToolbarHandlers:t,dispatch:o,reactContext:i,providerFactory:a}=e,{intl:l}=i(),d=e=>{const o=t.map((t=>t(e,l,a))).filter(b).map((e=>function(e){
if(Array.isArray(e.nodeType))return r()(r()({},e),{},{nodeType:e.nodeType.filter(b)});return e}(e)));return o&&((e,t)=>{let o;if(t.find((t=>{const n=Object(c.findSelectedNodeOfType)(t.nodeType)(e);return n&&(o={node:n.node,pos:n.pos,config:t}),!!n})),o)return o;const r={};t.forEach((e=>{Array.isArray(e.nodeType)?e.nodeType.forEach((t=>{r[t.name]=e})):r[e.nodeType.name]=e}));const{$from:i}=e;for(let n=i.depth;n>0;n--){const e=i.node(n),t=r[e.type.name];if(t)return{config:t,node:e,pos:i.pos}}if(e instanceof s.AllSelection){const e=i.node(0);let t=null;const o=Object(n("+w+L").b)(e,(e=>(t=r[e.type.name],!!t)));if(o&&t)return{config:t,node:o,pos:i.pos}}})(e.selection,o)},u=(e,t)=>{const n={getConfigWithNodeInfo:d};return o(v,n),n};return new s.Plugin({key:v,state:{init:()=>(m.preload(),{getConfigWithNodeInfo:d}),apply:u}})}({floatingToolbarHandlers:e,dispatch:t,reactContext:o,providerFactory:i})},{name:"floatingToolbarData",plugin:({dispatch:e})=>(e=>new s.Plugin({
state:Object(n("bmZU").b)(e,{}),key:n("dHhq").a}))(e)}],contentComponent:({popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:o,editorView:r,providerFactory:i,dispatchAnalyticsEvent:s})=>a.a.createElement(n("fd7e").a,{plugins:{floatingToolbarState:v,floatingToolbarData:n("dHhq").a,editorDisabledPlugin:n("QNcB").b,extensionsState:n("JE3G").a},render:({editorDisabledPlugin:c,floatingToolbarState:l,floatingToolbarData:u,extensionsState:p})=>{var f,b;const v=null==l?void 0:l.getConfigWithNodeInfo(r.state);if(!v||!v.config||void 0!==(null===(f=v.config)||void 0===f?void 0:f.visible)&&(null===(b=v.config)||void 0===b||!b.visible))return null;const{config:y,node:E}=v,{title:w,getDomRef:O=g,items:S,align:C="center",className:T="",height:x,width:k,offset:I=[0,12],forcePlacement:A,onPositionCalculated:N}=y,M=O(r,s);if(!M||c&&c.editorDisabled)return null;let R;const j=Array.isArray(S)?S:S(E);N&&(R=e=>N(r,e))
;const P=e=>e&&e(r.state,r.dispatch,r),{confirmDialogForItem:D}=u||{},L=D?j[D]:void 0;return a.a.createElement(n("KzBb").a,{component:n("J5HJ").b.FLOATING_TOOLBAR_PLUGIN,componentId:d()(w),dispatchAnalyticsEvent:s,fallbackComponent:null},a.a.createElement(n("poXX").a,{ariaLabel:w,offset:I,target:M,alignY:"bottom",forcePlacement:A,fitHeight:x,fitWidth:k,alignX:C,stick:!0,mountTo:e,boundariesElement:t,scrollableElement:o,onPositionCalculated:R},a.a.createElement(m,{target:M,items:j,node:E,dispatchCommand:P,editorView:r,className:T,focusEditor:()=>r.focus(),providerFactory:i,popupsMountPoint:e,popupsBoundariesElement:t,popupsScrollableElement:o,dispatchAnalyticsEvent:s,extensionsProvider:null==p?void 0:p.extensionProvider})),a.a.createElement(h,{options:null==L?void 0:L.confirmDialog,onConfirm:()=>{P(L.onClick),P(Object(n("36yd").a)())},onClose:()=>{P(Object(n("36yd").a)())}}))}})});const v=new s.PluginKey("floatingToolbarPluginKey")},jegY:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));var o=n("3tO9"),r=n.n(o);const i=Object(n("FJah").a)(n("fRKR").a,((e,t)=>{switch(t.type){case"STOP_RESIZING":return r()(r()({},e),{},{resizeHandlePos:null,dragging:null});case"SET_RESIZE_HANDLE_POSITION":return r()(r()({},e),{},{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return r()(r()({},e),{},{dragging:t.data.dragging});case"SET_LAST_CLICK":const{lastClick:n}=t.data;return r()(r()({},e),{},{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}),{mapping:function(e,t){return t&&null!==t.resizeHandlePos?r()(r()({},t),{},{resizeHandlePos:e.mapping.map(t.resizeHandlePos)}):t}}),a=i.createCommand,s=i.createPluginState,c=i.getPluginState},jzd5:function(e,t,n){"use strict";var o={};function r(e,t){var n;return"string"!=typeof t&&(t=r.defaultChars),n=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n)
;for(t=0;t<e.length;t++)r[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,o,r,i,a,s,c,l="";for(t=0,o=e.length;t<o;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?l+=n[r]:192==(224&r)&&t+3<o&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(l+=(c=r<<6&1984|63&i)<128?"\ufffd\ufffd":String.fromCharCode(c),t+=3):224==(240&r)&&t+6<o&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(l+=(c=r<<12&61440|i<<6&4032|63&a)<2048||c>=55296&&c<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(c),t+=6):240==(248&r)&&t+9<o&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&s))?((c=r<<18&1835008|i<<12&258048|a<<6&4032|63&s)<65536||c>1114111?l+="\ufffd\ufffd\ufffd\ufffd":(c-=65536,l+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):l+="\ufffd";return l}))}r.defaultChars=";/?:@&=+$,#",
r.componentChars="",e.exports=r},"k4/a":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>{Array.from(t).forEach((t=>{t.classList.contains(n("EfLE").b.TABLE_STICKY_SHADOW)&&t instanceof HTMLElement&&t.style.height!==e&&(t.style.height=e)}))},r=(e,t,o,r,i)=>{var a;if(!0===(null===(a=Object(n("37L4").b)(e))||void 0===a?void 0:a.tableOverflowShadowsOptimization))return!1;if(o&&t){const e=t.querySelector("tr.sticky"),a=e&&e.firstElementChild;if(r){const e=o.offsetWidth-t.offsetWidth;for(let o=0;o<r.length;o++){const i=r[o];i.style.display=e>0&&e>t.scrollLeft?"block":"none",i.classList.contains(n("EfLE").b.TABLE_STICKY_SHADOW)&&a&&(i.style.height=`${a.clientHeight+1}px`)}}if(i)for(let o=0;o<i.length;o++){const e=i[o];e.style.display=t.scrollLeft>0?"block":"none",e.classList.contains(n("EfLE").b.TABLE_STICKY_SHADOW)&&a&&(e.style.height=`${a.clientHeight+1}px`)}}}},kALn:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("IUzm");const r=Object(o.g)({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}})},kNBt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#007442" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.376 6.013A.437.437 0 004 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 00.497-.434V4.868a.437.437 0 00-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 00.5-.5v-9a.5.5 0 00-.5-.5H17zM6.93 15.5l2.25-3.55-2.236-3.496h1.734l1.47 2.466h.087l1.485-2.466h1.65l-2.32 3.52 2.286 3.526h-1.68l-1.513-2.388h-.088L8.52 15.5H6.93z"/></svg>'},e,{size:"medium"}));i.displayName="ExcelSpreadsheet24Icon";var a=i
;t.default=a},kiyR:function(e,t,n){"use strict";function o(e,t){var n,o,r,i,a,s=[],c=t.length;for(n=0;n<c;n++)126===(r=t[n]).marker&&-1!==r.end&&(i=t[r.end],(a=e.tokens[r.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&s.push(i.token-1));for(;s.length;){for(o=(n=s.pop())+1;o<e.tokens.length&&"s_close"===e.tokens[o].type;)o++;n!==--o&&(a=e.tokens[o],e.tokens[o]=e.tokens[n],e.tokens[n]=a)}}e.exports.tokenize=function(e,t){var n,o,r,i,a=e.pos,s=e.src.charCodeAt(a);if(t)return!1;if(126!==s)return!1;if(r=(o=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(s),r<2)return!1;for(r%2&&(e.push("text","",0).content=i,r--),n=0;n<r;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:s,length:0,jump:n,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},
e.exports.postProcess=function(e){var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}},"kl+u":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorTableIcon";var a=i;t.default=a},krE2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 5h10a1 1 0 010 2H7a1 1 0 110-2zm0 12h10a1 1 0 010 2H7a1 1 0 010-2zM4 9h16a1 1 0 011 1v4a1 1 0 01-1 1H4a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaWideIcon";var a=i;t.default=a},ky0j:function(e,t,n){"use strict";var o=n("AGgm").normalizeReference,r=n("AGgm").isSpace;e.exports=function(e,t){var n,i,a,s,c,l,d,u,p,h,f,m,g,b="",v=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,(c=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((d=c+1)<y&&40===e.src.charCodeAt(d)){for(d++;d<y&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);if(d>=y)return!1;for(g=d,(p=e.md.helpers.parseLinkDestination(e.src,d,e.posMax)).ok&&(b=e.md.normalizeLink(p.str),e.md.validateLink(b)?d=p.pos:b=""),g=d;d<y&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);
if(p=e.md.helpers.parseLinkTitle(e.src,d,e.posMax),d<y&&g!==d&&p.ok)for(h=p.str,d=p.pos;d<y&&(i=e.src.charCodeAt(d),r(i)||10===i);d++);else h="";if(d>=y||41!==e.src.charCodeAt(d))return e.pos=v,!1;d++}else{if(void 0===e.env.references)return!1;if(d<y&&91===e.src.charCodeAt(d)?(g=d+1,(d=e.md.helpers.parseLinkLabel(e,d))>=0?s=e.src.slice(g,d++):d=c+1):d=c+1,s||(s=e.src.slice(l,c)),!(u=e.env.references[o(s)]))return e.pos=v,!1;b=u.href,h=u.title}return t||(a=e.src.slice(l,c),e.md.inline.parse(a,e.md,e.env,m=[]),(f=e.push("image","img",0)).attrs=n=[["src",b],["alt",""]],f.children=m,f.content=a,h&&n.push(["title",h])),e.pos=d,e.posMax=y,!0}},l3Br:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=[{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{
name:"Html",alias:["html"],value:"xml"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net","vfp","clipper","xbase"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",
alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Pascal",alias:["pas","pascal","objectpascal","delphi"],value:"pascal"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{
name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","purebasic"],value:"purebasic"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",
alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"},{name:"AppleScript",alias:["applescript"],value:"applescript"},{name:"Clojure",alias:["clojure"],value:"clojure"},{name:"Diff",alias:["diff"],value:"diff"},{name:"VisualBasic",alias:["visualbasic"],value:"visual-basic"},{name:"JSX",alias:["jsx"],value:"jsx"},{name:"TSX",
alias:["tsx"],value:"tsx"},{name:"SplunkSPL",alias:["splunk-spl"],value:"splunk-spl"}]},lCdE:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=async e=>{const t=Date.now();return{result:await e,durationMs:Date.now()-t}}},lRD8:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return n("yIKL").a}))},lTRq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.864 10.736c.77-.746 1.893-.536 2.72.265.826.8 1.043 1.888.273 2.634-1.816 1.76-5.482 2.002-4.765 1.207 1.587-1.76.578-2.949 1.772-4.106zM19.968 4.03c.402.378-3.1 4.732-4.427 5.98-.659.62-1.012.826-1.276 1.016-.115.082-.15-.027-.177-.076a3.743 3.743 0 00-.63-.801c-.236-.222-.607-.445-.867-.572-.053-.025-.169-.058-.08-.166.201-.249.421-.58 1.08-1.2 1.327-1.247 5.974-4.56 6.377-4.181zM18.38 19.946a1.033 1.033 0 01-.332.054.946.946 0 01-.913-.628c-.343-.957-1.14-1.642-2.257-1.933-2.182-.568-3.22-.264-5.053.995l-.16.11a9.341 9.341 0 01-1.049.644c-1.477.755-2.632.825-3.482.419-.586-.28-.989-.794-1.1-1.407-.254-1.403.93-2.647 2.602-3.156a.906.906 0 011.155.601.92.92 0 01-.62 1.186c-.33.1-.717.311-.978.533-.195.165-.33.355-.306.434.042.138.088.185.16.214.155.063.445.029.818-.096.164-.055.34-.126.524-.21.196-.088.348-.165.58-.287.076-.04.177-.11.445-.303 1.09-.784 1.802-1.198 2.845-1.52 1.562-.482 3.18-.39 4.802.272 1.399.57 2.399 1.589 2.883 2.94.174.483-.07.97-.564 1.138z" fill="currentColor"/></svg>'
},e));i.displayName="MediaServicesAnnotateIcon";var a=i;t.default=a},lZxZ:function(e,t,n){"use strict";t.a={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time",PROSEMIRROR_CONTENT_RENDERED:"ProseMirror Content Render Time",ON_EDITOR_READY_CALLBACK:"onEditorReady Callback Duration",PASTE:"Editor Paste Plugin Paste Duration"}},lZzB:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.INDENT="indent",e.OUTDENT="outdent"}(o||(o={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock",e.TASK_LIST="taskList"}(r||(r={}))},lf5m:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const o=(e,t)=>{const{code:n}=e.schema.marks,o=t>=0&&e.doc.nodeAt(t);return!!o&&!!o.marks.filter((e=>e.type===n)).length},r=(e,t)=>{
const{from:n,to:o,empty:r}=e.selection;if(r)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());let i=!1;return e.doc.nodesBetween(n,o,(e=>{i=i||t.isInSet(e.marks)})),i},i=(e,t)=>{const{$from:o,from:r,to:i,empty:a}=e.selection;if(a)return!!t.isInSet(e.storedMarks||o.marks());let s=!1;return e.selection instanceof n("n1Ll").a?e.selection.forEachCell(((n,o)=>{const r=o,i=o+n.nodeSize;s||(s=e.doc.rangeHasMark(r,i,t))})):s=e.doc.rangeHasMark(r,i,t),s},a=e=>(e=>n("FT/o").a.filter((t=>{if(e.schema.marks[t]){const{$from:n,empty:o}=e.selection,{marks:r}=e.schema;return o?!!r[t].isInSet(e.storedMarks||n.marks()):i(e,r[t])}return!1})).length>0)(e)||(e=>{let{from:t,to:o}=e.selection,r=!1;return e.doc.nodesBetween(t,o,(e=>-1===n("FT/o").b.indexOf(e.type.name)||(r=!0,!1))),r})(e)},lgPy:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var o=n("pDqG"),r=n("UxO+"),i=n("mG1W");const a=new r.PluginKey("decorationPlugin");let s;!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",
e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(s||(s={}));const c=(e,t,n="danger")=>(c,l)=>{let d,u;if(c.selection instanceof r.NodeSelection){const t=c.selection.node;(Array.isArray(e)?e:[e]).indexOf(t.type)>-1&&(d=c.selection.from,u=t)}const p=Object(i.findParentNodeOfType)(e)(c.selection);return void 0===d&&p&&(d=p.pos,u=p.node),void 0!==d&&void 0!==u&&(l&&l(c.tr.setMeta(a,{action:t?s.DECORATION_ADD:s.DECORATION_REMOVE,data:o.a.node(d,d+u.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)};t.a=()=>new r.Plugin({key:a,state:{init:()=>({decoration:void 0}),apply(e,t){if(t.decoration){e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0})}const n=e.getMeta(a);if(!n)return t;switch(n.action){case s.DECORATION_ADD:return{decoration:n.data};case s.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations(e){const{doc:t}=e,{decoration:n}=a.getState(e);return n?o.b.create(t,[n]):null}}})},ligd:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return d}));var o=n("pVnL"),r=n.n(o),i=n("3tO9"),a=n.n(i),s=n("q1tI"),c=n.n(s);const l=e=>({getRules:async()=>a()({},(e=>({"([A-Z][A-Z0-9_]+-\\d+)":t=>{const o=Object(n("Rp3N").n)(t[1]);return Object(n("z2Kr").a)(e,o).then((t=>{if(t){const t=e?`/${e}`:"";return{type:"inlineCard",attrs:{url:`${window.location.protocol}//${window.location.host}${t}/browse/${o}`}}}return null})).catch((()=>null))}}))(e))}),d=e=>{var t,n;return n=t=class extends s.Component{render(){return c.a.createElement(e,r()({autoformattingProvider:l(this.props.baseUrl)},this.props))}},t.displayName="WithAutoformattingProvider",n}},lyAC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 7h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorNumberListIcon";var a=i;t.default=a},mIKu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"},editText:{id:"fabric.editor.editStatusText",defaultMessage:"Edit Status",description:"Title for the input that changes the status text"},editColor:{id:"fabric.editor.editStatusColor",defaultMessage:"Edit Status Color",description:"Title for the color picker that changes the status color"}})},
mPGz:function(e,t,n){"use strict";let o,r,i;function a(e){return Object.prototype.hasOwnProperty.call(e,"url")}n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),function(e){e.JiraIssue="jira.issue",e.JiraPlan="jira.plan",e.JiraBoardProjectFilter="jira.board,project,filter",e.JiraBoardProjectFilterPlan="jira.board,project,filter,plan",e.JiraProject="jira.project",e.People="urs.user-jira"}(o||(o={})),function(e){e.JiraIssue="jira-issue",e.JiraBoard="jira-board",e.JiraProject="jira-project",e.JiraFilter="jira-filter",e.JiraPlan="jira-plan",e.JiraPeople="jira-people"}(r||(r={})),function(e){e.issue="issue",e.board="board",e.project="project",e.filter="filter",e.plan="plan",e.people="people"}(i||(i={}))},mSF0:function(e,t,n){"use strict";var o=n("AGgm").arrayReplaceAt;function r(e){return/^<a[>\s]/i.test(e)}function i(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){
var t,n,a,s,c,l,d,u,p,h,f,m,g,b,v,y,E,w=e.tokens;if(e.md.options.linkify)for(n=0,a=w.length;n<a;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(g=0,t=(s=w[n].children).length-1;t>=0;t--)if("link_close"!==(l=s[t]).type){if("html_inline"===l.type&&(r(l.content)&&g>0&&g--,i(l.content)&&g++),!(g>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(p=l.content,E=e.md.linkify.match(p),d=[],m=l.level,f=0,u=0;u<E.length;u++)b=E[u].url,v=e.md.normalizeLink(b),e.md.validateLink(v)&&(y=E[u].text,y=E[u].schema?"mailto:"!==E[u].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(h=E[u].index)>f&&((c=new e.Token("text","",0)).content=p.slice(f,h),c.level=m,d.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",v]],c.level=m++,c.markup="linkify",c.info="auto",d.push(c),(c=new e.Token("text","",0)).content=y,c.level=m,d.push(c),
(c=new e.Token("link_close","a",-1)).level=--m,c.markup="linkify",c.info="auto",d.push(c),f=E[u].lastIndex);f<p.length&&((c=new e.Token("text","",0)).content=p.slice(f),c.level=m,d.push(c)),w[n].children=s=o(s,t,d)}}else for(t--;s[t].level!==l.level&&"link_open"!==s[t].type;)t--}},mY1j:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=(e,t)=>o=>{const r=Object(n("/x6/").a)({extensions:["grammarly"]}),i={action:n("J5HJ").a.SYNCHRONY_ERROR,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{error:o,browserExtensions:r}};return Object(n("37L4").b)(e).synchronyErrorDocStructure&&(i.attributes.docStructure=Object(n("hmSr").a)(e.doc,{compact:!0})),Object(n("SVcB").a)(e,t,i)},r=(e,t)=>o=>Object(n("SVcB").a)(e,t,{action:"error"===o?n("J5HJ").a.SYNCHRONY_ENTITY_ERROR:n("J5HJ").a.SYNCHRONY_DISCONNECTED,actionSubject:n("J5HJ").b.EDITOR,eventType:n("J5HJ").e.OPERATIONAL,attributes:{onLine:navigator.onLine,
visibilityState:document.visibilityState}})},mivK:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var o=n("3tO9"),r=n.n(o),i=n("pDqG");function a(e,t,o){let{draftDecorationSet:a}=e;a&&t||(a=i.b.empty);let s=r()(r()({},e),{},{draftDecorationSet:a});if(s.bookmark=void 0,t&&o){s.bookmark=o.selection.getBookmark();const e=s.bookmark.resolve(o.doc),t=Object(n("CAky").a)(e.from,e.to);s.draftDecorationSet=a.add(o.doc,[t])}return s}const s=(e,t)=>{const o=Object(n("CAky").c)(e.selection,e.doc);return o.length!==t.selectedAnnotations.length||o.some((e=>!t.selectedAnnotations.some((t=>t.type===e.id))))?r()(r()({},t),{},{selectedAnnotations:o}):t},{createPluginState:c,createCommand:l}=Object(n("FJah").a)(n("CAky").i,((e,t)=>{switch(t.type){case n("Qesr").a.UPDATE_INLINE_COMMENT_STATE:return r()(r()({},e),{},{annotations:r()(r()({},e.annotations),t.data)});case n("Qesr").a.INLINE_COMMENT_UPDATE_MOUSE_STATE:
const o=Object.assign({},e.mouseData,t.data.mouseData);return r()(r()({},e),{},{mouseData:o});case n("Qesr").a.SET_INLINE_COMMENT_DRAFT_STATE:return a(e,t.data.drafting,t.data.editorState);case n("Qesr").a.INLINE_COMMENT_CLEAR_DIRTY_MARK:return r()(r()({},e),{},{dirtyAnnotations:!1,annotations:{}});case n("Qesr").a.CLOSE_COMPONENT:return r()(r()({},e),{},{selectedAnnotations:[]});case n("Qesr").a.ADD_INLINE_COMMENT:const i=a(e,t.data.drafting,t.data.editorState);return r()(r()({},i),{},{selectedAnnotations:[...i.selectedAnnotations,...t.data.selectedAnnotations],annotations:r()(r()({},e.annotations),t.data.inlineComments)});case n("Qesr").a.INLINE_COMMENT_SET_VISIBLE:const{isVisible:s}=t.data;return s===e.isVisible?e:r()(r()({},s?e:a(e,!1)),{},{isVisible:s});default:return e}}),{onSelectionChanged:s,onDocChanged:(e,t)=>e.getMeta("replaceDocument")?r()(r()({},t),{},{dirtyAnnotations:!0}):s(e,t),mapping:(e,t)=>{let n,o,{draftDecorationSet:i,bookmark:a}=t
;return i&&(n=i.map(e.mapping,e.doc)),a&&(o=a.map(e.mapping)),o===a&&n===i?t:r()(r()({},t),{},{draftDecorationSet:n,bookmark:o})}})},ml8T:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("3tO9"),r=n.n(o),i=n("CsC6"),a=n("MEpN");class s extends i.f{constructor(e,t){super(),this.pos=e,this.attrs=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return i.h.fail("No node at given position");const n=r()(r()({},t.attrs||{}),this.attrs||{});let o=t.type.create(n,a.Fragment.empty,t.marks),s=new a.Slice(a.Fragment.from(o),0,t.isLeaf?0:1);return i.h.fromReplace(e,this.pos,this.pos+1,s)}invert(e){let t=e.nodeAt(this.pos);return new s(this.pos,t?t.attrs:{})}map(e){let t=e.mapResult(this.pos,1);return t.deleted?null:new s(t.pos,this.attrs)}toJSON(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}static fromJSON(e,t){if("number"!=typeof t.pos||null!==t.attrs&&"object"!=typeof t.attrs)throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new s(t.pos,t.attrs)}}
i.f.jsonID("setAttrs",s)},mrDZ:function(e,t,n){"use strict";n.r(t);var o=n("q1tI"),r=n("qKvR"),i=n("pxNp");const a={name:"1se6hza",styles:"display:inherit;margin:0;flex:inherit;flex-direction:inherit;overflow-x:hidden;overflow-y:auto;@media (min-width: 480px){height:unset;overflow-y:auto;}"},s=Object(r.d)({borderTop:`2px solid ${n("oUPQ").d}`}),c=Object(r.d)({borderBottom:`2px solid ${n("oUPQ").d}`}),l=Object(o.forwardRef)(((e,t)=>{const{testId:i,children:l}=e,[d,u]=Object(n("vYhH").a)({previous:!1,next:!1}),[p,h]=Object(o.useState)(!1),[f,m]=Object(o.useState)(!1),[g,b]=Object(o.useState)(!1),v=Object(o.useRef)(null),y=Object(n("+mDI").a)(u),E=Object(n("+mDI").a)(Object(n("GsWa").a)((()=>{const e=v.current;e&&h(e.scrollHeight>e.clientHeight)}))),w=Object(n("+mDI").a)(Object(n("GsWa").a)((()=>{const e=v.current;if(e){const t=e.scrollHeight-e.clientHeight;d.current.previous&&m(e.scrollTop>2),d.current.next&&b(e.scrollTop<=t-2)}})));return Object(o.useEffect)((()=>{const e=v.current
;return window.addEventListener("resize",w,!1),null==e||e.addEventListener("scroll",w,!1),E(),w(),y({previous:Boolean(null==e?void 0:e.previousElementSibling),next:Boolean(null==e?void 0:e.nextElementSibling)}),()=>{window.removeEventListener("resize",w,!1),null==e||e.removeEventListener("scroll",w,!1)}}),[E,w,y]),Object(r.e)(n("Q+8n").a,{isInset:!0},Object(r.e)("div",{tabIndex:p?0:void 0,"data-testid":i&&`${i}--scrollable`,ref:Object(n("1yOk").a)([t,v]),css:[a,f&&s,g&&c]},l))}));l.displayName="ScrollContainer";var d=l;const u={name:"11qjisw",styles:"flex:1 1 auto;"},p=Object(r.d)({padding:`2px ${n("oUPQ").e}px`}),h=Object(r.d)({padding:`0px ${n("oUPQ").e}px`});t.default=e=>{const{children:t,testId:a}=e,{testId:s}=Object(n("ry7n").a)(),c=a||s&&`${s}--body`;return function(){const e=Object(o.useContext)(n("JK4V").b);if(null==e)throw Error("@atlaskit/modal-dialog: Scroll context unavailable \u2013 this component needs to be a child of ModalDialog.");return e}()?Object(r.e)("div",{
css:[u,h],"data-testid":c},t):Object(r.e)(i.TouchScrollable,null,Object(r.e)(d,{testId:a||s},Object(r.e)("div",{css:[u,p],"data-testid":c},t)))}},"mw/U":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g}));var o=n("vOnD");const r=Object(n("ARg4").gridSize)()+"px",i=o.default.span.withConfig({componentId:"vtxo9n-0"})`display:inline-flex;align-items:center;& > div{display:flex;}`,a=o.default.span.withConfig({componentId:"vtxo9n-1"})`background:${"#EBECF0"};width:1px;height:24px;display:inline-block;margin:0 8px;`,s=o.default.span.withConfig({componentId:"vtxo9n-2"
})`display:flex;align-items:center;> div,> span{display:flex;}> div > div{display:flex;}margin-left:${({isSmall:e})=>e?4:0}px;min-width:${({isSmall:e})=>e?"40px":"auto"};`,c=o.default.span.withConfig({componentId:"vtxo9n-3"})`margin-left:-8px;`,l=o.default.div.withConfig({componentId:"vtxo9n-4"})`display:flex;`,d=s,u=o.default.span.withConfig({componentId:"vtxo9n-5"
})`display:flex;min-width:80px;align-items:center;overflow:hidden;justify-content:center;flex-direction:column;padding:0 ${e=>"none"===e.spacing?"8px":"6px"};`,p=o.css`box-shadow:0 0 1px rgba(9,30,66,0.31),0 4px 8px -2px rgba(9,30,66,0.25);`,h=`\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: ${r};\n    width: ${r};\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: ${r};\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n`,f=o.default.div.withConfig({componentId:"vtxo9n-6"
})`background-color:rgba(223,225,229,0.5);color:${"#7A869A"};border-radius:${Object(n("ARg4").borderRadius)()}px;padding:4px;line-height:12px;font-size:${Object(n("9cwX").ib)(11.67)};align-self:flex-end;@media (max-width:${n("9cwX").A}px){display:none;}`,m=o.default.span.withConfig({componentId:"vtxo9n-7"})`user-select:all;`,g=o.default.div.withConfig({componentId:"vtxo9n-8"})`&::before{background:${e=>e.selectedColor};}`},n1Ll:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("3tO9"),r=n.n(o),i=n("V0Mj"),a=n("UxO+");class s{constructor(e,t){this.anchor=e,this.head=t}map(e){return new s(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),o=e.resolve(this.head);if("row"===t.parent.type.spec.tableRole&&"row"===o.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&o.index()<o.parent.childCount&&Object(n("OC6D").a)(t,o)){const n={type:"cell",anchor:t.pos,head:o.pos};return a.Selection.fromJSON(e,n)}return a.Selection.near(o,1)}}
class c extends a.Selection{constructor(e,t=e){const o=function(e,t){const o=e.node(-1),r=n("wYWE").b.get(o),i=e.start(-1),s=r.rectBetween(e.pos-i,t.pos-i),c=e.node(0),l=r.cellsInRect(s).filter((e=>e!==t.pos-i));return l.unshift(t.pos-i),l.map((e=>{const t=o.nodeAt(e);if(null===t)throw new Error(`No cell at position ${e}`);const n=e+i+1;return new a.SelectionRange(c.resolve(n),c.resolve(n+t.content.size))}))}(e,t);super(o[0].$from,o[0].$to,o),this.$anchorCell=e,this.$headCell=t,this.visible=!1}map(e,t){const o=e.resolve(t.map(this.$anchorCell.pos)),r=e.resolve(t.map(this.$headCell.pos));if(Object(n("EdO1").d)(o)&&Object(n("EdO1").d)(r)&&Object(n("OC6D").a)(o,r)){const e=this.$anchorCell.node(-1)!==o.node(-1);return e&&this.isRowSelection()?c.rowSelection(o,r):e&&this.isColSelection()?c.colSelection(o,r):new c(o,r)}return a.TextSelection.between(o,r)}content(){
const e=this.$anchorCell.node(-1),t=n("wYWE").b.get(e),o=this.$anchorCell.start(-1),a=t.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),s={},c=[];for(let d=a.top;d<a.bottom;d++){const o=[];for(let i=d*t.width+a.left,c=a.left;c<a.right;c++,i++){const c=t.map[i];if(!s[c]){s[c]=!0;const i=t.findCell(c);let l=e.nodeAt(c);if(null==l)throw new Error(`No cell at position ${c}`);const d=a.left-i.left,u=i.right-a.right;if(d>0||u>0){let{attrs:e}=l;if(!e)throw new Error(`No cell at position ${c}`);d>0&&(e=Object(n("11sg").c)(e,0,d)),u>0&&(e=Object(n("11sg").c)(e,e.colspan-u,u)),l=i.left<a.left?l.type.createAndFill(e):l.type.create(e,l.content)}if(null==l)throw new Error("No cell at position after create/createAndFill");if(i.top<a.top||i.bottom>a.bottom){const e=r()(r()({},l.attrs),{},{rowspan:Math.min(i.bottom,a.bottom)-Math.max(i.top,a.top)});l=i.top<a.top?l.type.createAndFill(e):l.type.create(e,l.content)}if(null==l)throw new Error("No cell at position before rowContent.push")
;o.push(l)}}c.push(e.child(d).copy(i.c.from(o)))}const l=this.isColSelection()&&this.isRowSelection()?e:c;return new i.i(i.c.from(l),1,1)}replace(e,t=i.i.empty){const n=e.steps.length,{ranges:o}=this;for(let a=0;a<o.length;a++){const{$from:r,$to:s}=o[a],c=e.mapping.slice(n);e.replace(c.map(r.pos),c.map(s.pos),a?i.i.empty:t)}const r=a.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);r&&e.setSelection(r)}replaceWith(e,t){this.replace(e,new i.i(i.c.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),o=n("wYWE").b.get(t),r=this.$anchorCell.start(-1),i=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<i.length;n++){const o=t.nodeAt(i[n]);if(null==o)throw new Error(`undefined cell at pos ${i[n]}`);e(o,r+i[n])}}isColSelection(){if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell");const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1
;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,o)===this.$headCell.node(-1).childCount}static colSelection(e,t=e){let o=e,r=t;const i=n("wYWE").b.get(o.node(-1)),a=o.start(-1),s=i.findCell(o.pos-a),l=i.findCell(r.pos-a),d=o.node(0);return s.top<=l.top?(s.top>0&&(o=d.resolve(a+i.map[s.left])),l.bottom<i.height&&(r=d.resolve(a+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(r=d.resolve(a+i.map[l.left])),s.bottom<i.height&&(o=d.resolve(a+i.map[i.width*(i.height-1)+s.right-1]))),new c(o,r)}isRowSelection(){if(!this.$anchorCell||!this.$headCell)return!1;const e=n("wYWE").b.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),o=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(o,r)>0)return!1;const i=o+this.$anchorCell.nodeAfter.attrs.colspan,a=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)===e.width}eq(e){
return e instanceof c&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}static rowSelection(e,t=e){let o=e,r=t;const i=n("wYWE").b.get(o.node(-1)),a=o.start(-1),s=i.findCell(o.pos-a),l=i.findCell(r.pos-a),d=o.node(0);return s.left<=l.left?(s.left>0&&(o=d.resolve(a+i.map[s.top*i.width])),l.right<i.width&&(r=d.resolve(a+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(r=d.resolve(a+i.map[l.top*i.width])),s.right<i.width&&(o=d.resolve(a+i.map[i.width*(s.top+1)-1]))),new c(o,r)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new c(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new c(e.resolve(t),e.resolve(n))}getBookmark(){return new s(this.$anchorCell.pos,this.$headCell.pos)}}a.Selection.jsonID("cell",c)},n3wV:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{if(!Object(n("GhYq").a)(e,"cell"))return;const t=e.$anchorCell.start(-1)
;return n("wYWE").b.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},n683:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var o=n("UxO+"),r=n("3tO9"),i=n.n(r);const a=new o.PluginKey("expandPlugin"),{createPluginState:s,createCommand:c,getPluginState:l}=Object(n("FJah").a)(a,((e,t)=>{switch(t.type){case"SET_EXPAND_REF":return i()(i()({},e),{},{expandRef:t.data.ref});default:return e}}))},n8Jk:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var o=n("MEpN");function r(e){return e.content}function i(e,t,n=null){const a=[];for(let s=0,c=e.childCount;s<c;s++){const c=e.child(s),l=c.isLeaf?t(c,n,s):t(c.copy(i(c.content,t,c)),n,s)
;l&&(l instanceof o.Fragment?a.push(...r(l)):Array.isArray(l)?a.push(...l):a.push(l))}return o.Fragment.fromArray(a)}function a(e,t){const n=i(e.content,t);return new o.Slice(n,e.openStart,e.openEnd)}function s(e,t){const n=[];for(let o=0;o<e.childCount;o++){const r=t(e.child(o),o,e);Array.isArray(r)?n.push(...r):n.push(r)}return o.Fragment.fromArray(n)}function c(e,t){const n=[];for(let r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof o.Fragment?e:e.content));return n}},nBLk:function(e,t,n){"use strict";e.exports=function(e,t,n){var o,r,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(r=o=t+1;o<n;)if(e.isEmpty(o))o++;else{if(!(e.sCount[o]-e.blkIndent>=4))break;r=++o}return e.line=r,(i=e.push("code_block","code",0)).content=e.getLines(t,r,4+e.blkIndent,!0),i.map=[t,e.line],!0}},nJH6:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:n("+OC9").p,EMOJI_SPRITE:n("+OC9").s,EMOJI_IMAGE:n("+OC9").o}},
nc8v:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return m}));var o=n("GP6N");const r=Object(o.b)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"white",border:`${n("jp2e").b} 1px solid`,borderRadius:`${Object(n("ARg4").borderRadius)()}px`,boxShadow:"0 3px 6px rgba(0, 0, 0, 0.2)",height:"295px",width:"350px",marginBottom:"8px",minWidth:"350px"}),i=Object(o.b)({flex:"0 0 auto",backgroundColor:"#EBECF0",$nest:{ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,$nest:{
button:{verticalAlign:"middle"}}},".emoji-picker-add-button":{color:"#6B778C",margin:"0 0 0 5px",verticalAlign:"middle"}}}),a=Object(o.b)({backgroundColor:"transparent",border:0,color:"rgba(9, 30, 66, 0.54)",cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease",$nest:{"&::-moz-focus-inner":{border:"0 none",padding:0},"&.emoji-picker-active":{color:"#0065FF",$nest:{"&:hover":{color:"#0065FF"}}},"&:hover":{color:"#4C9AFF"},"&.emoji-picker-disable":{color:"#C1C7D0",cursor:"default",$nest:{"&:hover":{color:"#C1C7D0"}}},"&:focus":{outline:"0"}}}),s=Object(o.b)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),c=Object(o.b)({$nest:{"&:focus":{outline:"none"}}}),l=Object(o.b)({boxSizing:"border-box",padding:"10px 10px 9px 10px",flex:"0 0 auto",$nest:{".search-icon":{opacity:.5},".input":{background:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 10px",width:"100%",$nest:{
"&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}}}}),d=Object(o.b)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",$nest:{">div":{flex:"0 0 auto"}}}),u=Object(o.b)({marginLeft:"8px"}),p=Object(o.b)({boxSizing:"border-box",color:"#091E42",fontSize:"14px",padding:"5px 8px",textTransform:"lowercase",$nest:{"&:first-letter":{textTransform:"uppercase"}}}),h=Object(o.b)({display:"inline-block",textAlign:"center",width:"40px",$nest:{"&>.emoji-common-node":{cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px",$nest:{"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"},"&>.emoji-common-emoji-sprite":{height:"24px",width:"24px"}}},"&>.emoji-common-placeholder":{padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"}}}),f=(Object(o.b)({border:"2px dashed #ccc",borderRadius:`${Object(n("ARg4").borderRadius)()}px`,
backgroundColor:"transparent",width:"32px",height:"32px",padding:0,margin:"4px",verticalAlign:"middle",$nest:{"&:hover":{backgroundColor:n("jp2e").a},"&:focus":{outline:"0"},span:{backgroundColor:"inherit"}}}),Object(o.b)({flex:"0 0 auto"})),m=Object(o.b)({borderTop:"2px solid rgba(9, 30, 66, 0.08)",boxShadow:"0px -1px 1px 0px rgba(0, 0, 0, 0.1)"})},nnUN:function(e,t,n){"use strict";let o;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),function(e){e.INVALID="invalid",e.DISABLED="disabled",e.VALID="valid"}(o||(o={}));const r="ak-editor-annotation",i={prefix:r,floatingComponent:`${r}-floating-component`,floatingToolbarCreateButton:`${r}-toolbar-create-button`,componentSave:`${r}-dummy-save-button`,componentClose:`${r}-dummy-close-button`}},nvD9:function(e,t,n){"use strict";let o,r;n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),function(e){e.BACKWARD="backward",e.FORWARD="forward"}(o||(o={})),function(e){e.JOIN_SIBLINGS="joinSiblings",
e.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",e.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",e.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",e.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",e.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph"}(r||(r={}))},nwXu:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("MEpN");const r=e=>{const t=[];return e.content.firstChild.content.forEach((e=>{const n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach((e=>{t.push(["col",{style:`width: ${e}px;`}])})):t.push(...Array.from({length:n},(e=>["col",{}])))})),t},i=(e,t)=>{let n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){return o.DOMSerializer.renderSpec(document,["colgroup",{},...r(e)]).dom}(t),e.insertBefore(n,e.firstChild),n.children
},a=e=>!!Object(n("n8Jk").b)(e.content.firstChild.content).find((e=>e.attrs.colwidth))},nwfx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.846 12.17h.483c1.116 0 1.203-.322 1.203-.776 0-.518-.268-.771-.817-.771h-.869v1.546zm6.29 2.183h.664c.742 0 1.501-.22 1.501-1.855 0-1.65-.802-1.86-1.501-1.86h-.665v3.715zM4.462 15.99h-1.08A.384.384 0 013 15.606V9.383c0-.21.171-.383.383-.383h2.494c1.483 0 2.52.984 2.52 2.394 0 1.43-1.015 2.39-2.525 2.39H4.846v1.822a.384.384 0 01-.383.384zm7.45 0h-2.24a.384.384 0 01-.384-.384V9.383c0-.21.172-.383.383-.383h2.242c2.107 0 3.268 1.237 3.268 3.484 0 2.26-1.16 3.506-3.268 3.506zm5.776 0h-1.08a.384.384 0 01-.384-.384V9.383c0-.21.172-.383.383-.383h4.009c.21 0 .383.172.383.383v.88a.383.383 0 01-.383.383h-2.545v1.14h2.292c.212 0 .383.172.383.383v.867c0 .21-.171.383-.383.383h-2.292v2.187a.384.384 0 01-.383.384z"/></svg>'},e,{size:"medium"}));i.displayName="PdfDocument24Icon";var a=i;t.default=a},
"oE+j":function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var o=n("3tO9"),r=n.n(o),i=n("mG1W");const a=e=>{const t=[];if(e.lastChild){const o=e.lastChild.childNodes;for(let e=0,r=o.length;e<r;e++){const r=o[e];if(t[e]=r.getBoundingClientRect().height+1,r.classList.contains("sticky")&&0===e){const o=window.getComputedStyle(r),i=Object(n("9a+x").e)(o.paddingTop||"");t[e]-=i?i+1:1}}}return t},s=(e,t,o=0)=>{const r=Object(n("n3wV").a)(t);if(!r)return null;let i=0,a=o;for(let n=0;n<r.top;n++){const t=e[n];t&&(a+=t-1)}const s=[];for(let n=r.top;n<r.bottom;n++){const t=e[n];t&&(i+=t-1,s.push(n))}return{top:a+i/2-8,indexes:s}},c=e=>{const t=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];if(!o)continue;let r=e.length;for(let t=n+1,i=e.length;t<i;t++)if(e[t]){r=t;break}t.push({startIndex:n,endIndex:r,height:o})}return t},l=(e,t,o=[],r,i)=>{
const a=[];return(Object(n("+yxU").b)(e)(t)||o.indexOf(e)>-1&&!i)&&(a.push(n("EfLE").b.HOVERED_CELL_ACTIVE),r&&a.push(n("EfLE").b.HOVERED_CELL_IN_DANGER)),a.join(" ")},d=e=>t=>o=>{const a=Object(n("zYPQ").c)(o.selection);if(!a)return o;const s=n("wYWE").b.get(a.node),c=t-1;if(t<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(t>s.height)return o;const l=a.node,{nodes:{tableRow:d}}=e,u=s.cellsInRect({left:0,right:s.width,top:c,bottom:c+1}),p=c*s.width,h=t*s.width,f=s.map.slice(p,p+s.width),m=s.map.slice(h,h+s.width);let g=[],b=[];for(let e=0;e<f.length;){const t=f[e],n=t+a.start,i=o.doc.nodeAt(n);if(!i)continue;const s=r()(r()({},i.attrs),{},{colspan:1,rowspan:1}),c=i.type.createAndFill(s);if(!c)return o;if(m.indexOf(t)>-1)b.push({pos:n,node:i});else if(u.indexOf(t)>-1){if(i.attrs.colspan>1){const t=i.type.createAndFill(r()(r()({},s),{},{colspan:i.attrs.colspan}));if(!t)return o;g.push(t),e+=i.attrs.colspan;continue}g.push(c)
}else g.push(c);e++}b.forEach((e=>{o.setNodeMarkup(e.pos,void 0,r()(r()({},e.node.attrs),{},{rowspan:e.node.attrs.rowspan+1}))}));const v=l.child(c);let y=a.start;for(let e=0;e<t;e++)y+=l.child(e).nodeSize;return Object(i.safeInsert)(d.createChecked(v.attrs,g,v.marks),y)(o)}},oR2R:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e));i.displayName="EditorCollapseIcon";var a=i;t.default=a},oSJA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>Object.assign(Object.create(e),e).setTime(Date.now())},oSSR:function(e,t,n){"use strict";e.exports=function(e){var t,n,o,r=e.tokens;for(n=0,o=r.length;n<o;n++)"inline"===(t=r[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},oUPQ:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"h",(function(){
return a})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return p}));const o={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},r=Object(n("ARg4").gridSize)(),i=Object(n("ARg4").borderRadius)(),a=2*r,s=3*r,c=r,l=r,d="var(--ds-border-neutral, #EBECF0)",u=`var(--ds-text-highEmphasis, ${Object(n("+ter").text)()})`,p={danger:"var(--ds-iconBorder-danger, #DE350B)",warning:"var(--ds-iconBorder-warning, #FF991F)"}},osj6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c}));n("UxO+");var o=n("MEpN");const r=e=>"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":"embedCard"===e.name?"embed":void 0,i=e=>{const{attrs:t}=e;return{
url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},a=(e,t)=>((e,t)=>({title:t&&t.title||e.title,url:t&&t.url||e.url}))(i(e),t),s=e=>n("O8Sv").a.getState(e).cards.find((t=>t.pos===e.selection.from)),c=(e,t)=>{const{blockCard:r,inlineCard:i}=t.schema.nodes,a=[];return Object(n("n8Jk").c)(e.content,((e,o,s)=>{e.type!==r||Object(n("Dc6L").f)(t,s)?a.push(e):a.push(i.createChecked(e.attrs,e.content,e.marks))})),new o.Slice(o.Fragment.fromArray(a),e.openStart,e.openEnd)}},ost5:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return d}));const o=(e,t)=>e.setMeta(n("O8Sv").a,t),r=e=>t=>o(t,{type:"RESOLVE",url:e}),i=e=>t=>o(t,{type:"QUEUE",requests:e}),a=e=>t=>o(t,{type:"REGISTER",info:e}),s=e=>t=>o(t,{type:"REGISTER_EVENTS",smartLinkEvents:e}),c=e=>t=>o(t,{type:"SET_PROVIDER",
provider:e}),l=e=>o(e,{type:"SHOW_LINK_TOOLBAR"}),d=e=>o(e,{type:"HIDE_LINK_TOOLBAR"})},p3Tp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0118 7.5v9a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 16.5v-9A1.5 1.5 0 017.5 6zm3.072 8.838l.143.154a.5.5 0 00.769-.042l.13-.175 3.733-5.045a.8.8 0 00-.11-1.064.665.665 0 00-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 00-.99 0 .801.801 0 000 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorTaskIcon";var a=i;t.default=a},p81E:function(e,t,n){"use strict";function o(e){let t=e.cached.tableNodeTypes;if(!t){t={},e.cached.tableNodeTypes=t;for(const n in e.nodes){const o=e.nodes[n],r=o.spec.tableRole;r&&(t[r]=o)}}
return t}n.d(t,"a",(function(){return o}))},pDqG:function(t,n,o){"use strict";o.d(n,"a",(function(){return kt})),o.d(n,"b",(function(){return Mt})),o.d(n,"c",(function(){return Ft}));var r=o("UxO+"),i=o("MEpN"),a=o("CsC6"),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var c=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),d=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var u=s.ie=!!(l||d||c);s.ie_version=l?document.documentMode||6:d?+d[1]:c?+c[1]:null,s.gecko=!u&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var p=!u&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!p,s.chrome_version=p&&+p[1],s.ios=!u&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),s.android=/Android \d/.test(navigator.userAgent),s.webkit="webkitFontSmoothing"in document.documentElement.style,
s.safari=/Apple Computer/.test(navigator.vendor),s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var h=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},f=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},m=function(e,t,n){var o=document.createRange();return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},g=function(e,t,n,o){return n&&(v(e,t,n,o,-1)||v(e,t,n,o,1))},b=/^(img|br|input|textarea|hr)$/i;function v(e,t,n,o,r){for(;;){if(e==n&&t==o)return!0;if(t==(r<0?0:y(e))){var i=e.parentNode;if(1!=i.nodeType||E(e)||b.test(e.nodeName)||"false"==e.contentEditable)return!1;t=h(e)+(r<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?y(e):0}}}function y(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function E(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}
var w=function(e){var t=e.isCollapsed;return t&&s.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function O(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function S(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function C(e,t){return"number"==typeof e?e:e[t]}function T(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function x(e,t,n){for(var o=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=f(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,c=s?S(i):T(a),l=0,d=0;if(t.top<c.top+C(o,"top")?d=-(c.top-t.top+C(r,"top")):t.bottom>c.bottom-C(o,"bottom")&&(d=t.bottom-c.bottom+C(r,"bottom")),t.left<c.left+C(o,"left")?l=-(c.left-t.left+C(r,"left")):t.right>c.right-C(o,"right")&&(l=t.right-c.right+C(r,"right")),
l||d)if(s)i.defaultView.scrollBy(l,d);else{var u=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),l&&(a.scrollLeft+=l);var h=a.scrollLeft-u,m=a.scrollTop-p;t={left:t.left-h,top:t.top-m,right:t.right-h,bottom:t.bottom-m}}if(s)break}}function k(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=f(e));return t}function I(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=o.dom,i=o.top,a=o.left;r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}var A=null;function N(e,t){for(var n,o,r=2e8,i=0,a=t.top,s=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var d=void 0;if(1==c.nodeType)d=c.getClientRects();else{if(3!=c.nodeType)continue;d=m(c).getClientRects()}for(var u=0;u<d.length;u++){var p=d[u];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);var h=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(h<r){n=c,r=h,o=h&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,
1==c.nodeType&&h&&(i=l+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,o=document.createRange(),r=0;r<n;r++){o.setEnd(e,r+1),o.setStart(e,r);var i=P(o,1);if(i.top!=i.bottom&&M(t,i))return{node:e,offset:r+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||r&&1==n.nodeType?{node:e,offset:i}:N(n,o)}function M(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function R(e,t,n){var o=e.childNodes.length;if(o&&n.top<n.bottom)for(var r=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),i=r;;){var a=e.childNodes[i];if(1==a.nodeType)for(var s=a.getClientRects(),c=0;c<s.length;c++){var l=s[c];if(M(t,l))return R(a,t,l)}if((i=(i+1)%o)==r)break}return e}function j(e,t){var n,o,r,i,a=e.root;if(a.caretPositionFromPoint)try{var c=a.caretPositionFromPoint(t.left,t.top);c&&(r=(n=c).offsetNode,
i=n.offset)}catch(g){}if(!r&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(t.left,t.top);l&&(r=(o=l).startContainer,i=o.startOffset)}var d,u=a.elementFromPoint(t.left,t.top+1);if(!u||!e.dom.contains(1!=u.nodeType?u.parentNode:u)){var p=e.dom.getBoundingClientRect();if(!M(t,p))return null;if(!(u=R(e.dom,t,p)))return null}if(s.safari&&u.draggable&&(r=i=null),u=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(u,t),r){if(s.gecko&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length))<r.childNodes.length){var h,f=r.childNodes[i];"IMG"==f.nodeName&&(h=f.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&i++}r==e.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?d=e.state.doc.content.size:0!=i&&1==r.nodeType&&"BR"==r.childNodes[i-1].nodeName||(d=function(e,t,n,o){for(var r=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){
var s=a.dom.getBoundingClientRect();if(s.left>o.left||s.top>o.top)r=a.posBefore;else{if(!(s.right<o.left||s.bottom<o.top))break;r=a.posAfter}}i=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,i,t))}null==d&&(d=function(e,t,n){var o=N(t,n),r=o.node,i=o.offset,a=-1;if(1==r.nodeType&&!r.firstChild){var s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,a)}(e,u,t));var m=e.docView.nearestDesc(u,!0);return{pos:d,inside:m?m.posAtStart-m.border:-1}}function P(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function D(e,t){var n=e.docView.domFromPos(t),o=n.node,r=n.offset;if(3==o.nodeType&&(s.webkit||s.gecko)){var i=P(m(o,r,r),0);if(s.gecko&&r&&/\s/.test(o.nodeValue[r-1])&&r<o.nodeValue.length){var a=P(m(o,r-1,r-1),-1);if(a.top==i.top){var c=P(m(o,r,r+1),-1);if(c.top!=i.top)return L(c,c.left<a.left)}}return i}if(1==o.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){
var l,d=!0;if(r<o.childNodes.length){var u=o.childNodes[r];1==u.nodeType&&(l=u.getBoundingClientRect())}if(!l&&r){var p=o.childNodes[r-1];1==p.nodeType&&(l=p.getBoundingClientRect(),d=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(l||o.getBoundingClientRect(),d)}for(var h=-1;h<2;h+=2)if(h<0&&r){var f=void 0,g=3==o.nodeType?m(o,r-1,r):3==(f=o.childNodes[r-1]).nodeType?m(f):1==f.nodeType&&"BR"!=f.nodeName?f:null;if(g){var b=P(g,1);if(b.top<b.bottom)return L(b,!1)}}else if(h>0&&r<y(o)){var v=void 0,E=3==o.nodeType?m(o,r,r+1):3==(v=o.childNodes[r]).nodeType?m(v):1==v.nodeType?v:null;if(E){var w=P(E,-1);if(w.top<w.bottom)return L(w,!0)}}return L(P(3==o.nodeType?m(o):o,0),!1)}function L(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function _(e,t,n){var o=e.state,r=e.root.activeElement;o!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{
o!=t&&e.updateState(o),r!=e.dom&&r&&r.focus()}}var B=/[\u0590-\u08ac]/;var H=null,J=null,$=!1;function F(e,t,n){return H==t&&J==n?$:(H=t,J=n,$="up"==n||"down"==n?function(e,t,n){var o=t.selection,r="up"==n?o.$anchor.min(o.$head):o.$anchor.max(o.$head);return _(e,t,(function(){for(var t=e.docView.domFromPos(r.pos).node;;){var o=e.docView.nearestDesc(t,!0);if(!o)break;if(o.node.isBlock){t=o.dom;break}t=o.dom.parentNode}for(var i=D(e,r.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=m(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var l=s[c];if(l.bottom>l.top&&("up"==n?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var o=t.selection.$head;if(!o.parent.isTextblock)return!1;var r=o.parentOffset,i=!r,a=r==o.parent.content.size,s=getSelection();return B.test(o.parent.textContent)&&s.modify?_(e,t,(function(){
var t=s.getRangeAt(0),r=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||r==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?i:a}(e,t,n))}var z=function(e,t,n,o){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=o,this.dirty=0},U={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};z.prototype.matchesWidget=function(){return!1},z.prototype.matchesMark=function(){return!1},z.prototype.matchesNode=function(){return!1},z.prototype.matchesHack=function(){return!1},U.beforePosition.get=function(){return!1},z.prototype.parseRule=function(){return null},
z.prototype.stopEvent=function(){return!1},U.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},U.border.get=function(){return 0},z.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},z.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var o=this.children[t];if(o==e)return n;n+=o.size}},U.posBefore.get=function(){return this.parent.posBeforeChild(this)},U.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},U.posAfter.get=function(){return this.posBefore+this.size},U.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},z.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var o,r;if(e==this.contentDOM)o=e.childNodes[t-1];else{
for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(r=o.pmViewDesc)||r.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(r)+r.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},z.prototype.nearestDesc=function(e,t){for(var n=!0,o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r&&(!t||r.node)){
if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},z.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},z.prototype.posFromDOM=function(e,t,n){for(var o=e;o;o=o.parentNode){var r=this.getDesc(o);if(r)return r.localPosFromDOM(e,t,n)}return-1},z.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var o=this.children[t],r=n+o.size;if(n==e&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<r)return o.descAt(e-n-o.border);n=r}},z.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:h(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e)
;var o=this.children[n],r=t+o.size;if(e<r)return o.domFromPos(e-t-o.border);t=r}},z.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var o=-1,r=-1,i=n,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==o&&e<=c){var l=i+s.border;if(e>=l&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,l);e=i;for(var d=a;d>0;d--){var u=this.children[d-1];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(1)){o=h(u.dom)+1;break}e-=u.size}-1==o&&(o=0)}if(o>-1&&(c>t||a==this.children.length-1)){t=c;for(var p=a+1;p<this.children.length;p++){var f=this.children[p];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){r=h(f.dom);break}t+=f.size}-1==r&&(r=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:r}},z.prototype.emptyChildAt=function(e){
if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},z.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,o=t.offset;if(1!=n.nodeType||o==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[o]},z.prototype.setSelection=function(e,t,n,o){for(var r=Math.min(e,t),i=Math.max(e,t),a=0,c=0;a<this.children.length;a++){var l=this.children[a],d=c+l.size;if(r>c&&i<d)return l.setSelection(e-c-l.border,t-c-l.border,n,o);c=d}var u=this.domFromPos(e),p=this.domFromPos(t),h=n.getSelection();if(o||!g(u.node,u.offset,h.anchorNode,h.anchorOffset)||!g(p.node,p.offset,h.focusNode,h.focusOffset)){var f=!1;if(s.gecko&&e==t){var m=u.node.childNodes[u.offset-1];m&&"BR"==m.nodeName&&(f=!0)}var b=!1;if((h.extend||e==t)&&!f){h.collapse(u.node,u.offset);try{e!=t&&h.extend(p.node,p.offset),b=!0}catch(E){if(!(E instanceof DOMException))throw E}}if(!b){if(e>t){var v=u
;u=p,p=v}var y=document.createRange();y.setEnd(p.node,p.offset),y.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(y)}}},z.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},U.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},z.prototype.markDirty=function(e,t){for(var n=0,o=0;o<this.children.length;o++){var r=this.children[o],i=n+r.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+r.border,s=i-r.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-a,t-a):r.dirty=3);r.dirty=3}n=i}this.dirty=2},z.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(z.prototype,U);var V=[],W=function(e){function t(t,n,o,r){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(o,(function(){
return i?i.parent?i.parent.posBeforeChild(i):void 0:r}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,V,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(z),K=function(e){function t(t,n,o,r){e.call(this,t,V,n,null),this.textDOM=o,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t
;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(z),q=function(e){function t(t,n,o,r){e.call(this,t,[],o,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,o,r){var a=r.nodeViews[n.type.name],s=a&&a(n,r,o);return s&&s.dom||(s=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,o))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},
t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,o){var r=t.create(this.parent,this.mark,!0,o),i=this.children,a=this.size;n<a&&(i=ue(i,n,a,o)),e>0&&(i=ue(i,0,e,o));for(var s=0;s<i.length;s++)i[s].parent=r;return r.children=i,r},t}(z),G=function(e){function t(t,n,o,r,i,a,s,c,l){e.call(this,t,n.isLeaf?V:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=o,this.innerDeco=r,a&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,o,r,a,s){var c,l,d=a.nodeViews[n.type.name],u=d&&d(n,a,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),o),p=u&&u.dom,h=u&&u.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")
}else p=document.createTextNode(n.text);else p||(p=(c=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,h=c.contentDOM);h||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var f=p;return p=ae(p,o,n),u?l=new Z(e,n,o,r,p,h,f,u,a,s+1):n.isText?new X(e,n,o,r,p,f,a):new t(e,n,o,r,p,h,f,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?i.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&se(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},
t.prototype.updateChildren=function(e,t){var n=this,o=this.node.inlineContent,r=t,a=o&&e.composing&&this.localCompositionNode(e,t),c=new le(this,a&&a.node);!function(e,t,n,o){var r=t.locals(e),i=0;if(0==r.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);o(s,r,t.forChild(i,s),a),i+=s.nodeSize}return}for(var c=0,l=[],d=null,u=0;;){if(c<r.length&&r[c].to==i){for(var p=r[c++],h=void 0;c<r.length&&r[c].to==i;)(h||(h=[p])).push(r[c++]);if(h){h.sort(de);for(var f=0;f<h.length;f++)n(h[f],u,!!d)}else n(p,u,!!d)}var m=void 0,g=void 0;if(d)g=-1,m=d,d=null;else{if(!(u<e.childCount))break;g=u,m=e.child(u++)}for(var b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;c<r.length&&r[c].from<=i&&r[c].to>i;)l.push(r[c++]);var v=i+m.nodeSize;if(m.isText){var y=v;c<r.length&&r[c].from<y&&(y=r[c].from);for(var E=0;E<l.length;E++)l[E].to<y&&(y=l[E].to);y<v&&(d=m.cut(y-i),m=m.cut(0,y-i),v=y,g=-1)}o(m,l.length?m.isInline&&!m.isLeaf?l.filter((function(e){return!e.inline
})):l.slice():V,t.forChild(i,m),g),i=v}}(this.node,this.innerDeco,(function(t,a,s){t.spec.marks?c.syncToMarks(t.spec.marks,o,e):t.type.side>=0&&!s&&c.syncToMarks(a==n.node.childCount?i.Mark.none:n.node.child(a).marks,o,e),c.placeWidget(t,e,r)}),(function(t,n,i,a){c.syncToMarks(t.marks,o,e),c.findNodeMatch(t,n,i,a)||c.updateNextNode(t,n,i,e,a)||c.addNode(t,n,i,e,r),r+=t.nodeSize})),c.syncToMarks(V,o,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),ee(this.contentDOM,this.children,e),s.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,o=n.from,i=n.to;if(!(!(e.state.selection instanceof r.TextSelection)||o<t||i>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){
if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=y(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var c=s.nodeValue,l=function(e,t,n,o){for(var r=0,i=0;r<e.childCount&&i<=o;){var a=e.child(r++),s=i;if(i+=a.nodeSize,a.isText){for(var c=a.text;r<e.childCount;){var l=e.child(r++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){var d=c.lastIndexOf(t,o-s);if(d>=0&&d+t.length+s>=n)return s+d}}}return-1}(this.node.content,c,o-t,i-t);return l<0?null:{node:s,pos:l,text:c}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,o=t.pos,r=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}
var a=new K(this,i,n,r);e.compositionNodes.push(a),this.children=ue(this.children,o,o+r.length,e,a)}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,o),!0)},t.prototype.updateInner=function(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!se(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=re(this.dom,this.nodeDOM,oe(this.outerDeco,this.node,t),oe(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},
Object.defineProperties(t.prototype,n),t}(z);function Y(e,t,n,o,r){return ae(o,t,e),new G(null,e,t,n,o,o,o,r,0)}var X=function(e){function t(t,n,o,r,i,a,s){e.call(this,t,n,o,r,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,o){
return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,o)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,o){var r=this.node.cut(e,n),i=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,i,i,o)},t}(G),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(z),Z=function(e){function t(t,n,o,r,i,a,s,c,l,d){e.call(this,t,n,o,r,i,a,s,l,d),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,o,r){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,o,r),i}
return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,o,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,o,r){this.spec.setSelection?this.spec.setSelection(t,n,o):e.prototype.setSelection.call(this,t,n,o,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(G);function ee(e,t,n){for(var o=e.firstChild,r=!1,i=0;i<t.length;i++){var a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=o;)o=ce(o),r=!0;o=o.nextSibling}else r=!0,e.insertBefore(s,o);if(a instanceof q){
var c=o?o.previousSibling:e.lastChild;ee(a.contentDOM,a.children,n),o=c?c.nextSibling:e.firstChild}}for(;o;)o=ce(o),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}function te(e){e&&(this.nodeName=e)}te.prototype=Object.create(null);var ne=[new te];function oe(e,t,n){if(0==e.length)return ne;for(var o=n?ne[0]:new te,r=[o],i=0;i<e.length;i++){var a=e[i].type.attrs,s=o;if(a)for(var c in a.nodeName&&r.push(s=new te(a.nodeName)),a){var l=a[c];null!=l&&(n&&1==r.length&&r.push(s=o=new te(t.isInline?"span":"div")),"class"==c?s.class=(s.class?s.class+" ":"")+l:"style"==c?s.style=(s.style?s.style+";":"")+l:"nodeName"!=c&&(s[c]=l))}}return r}function re(e,t,n,o){if(n==ne&&o==ne)return t;for(var r=t,i=0;i<o.length;i++){var a=o[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&r!=e&&(c=r.parentNode)&&c.tagName.toLowerCase()==a.nodeName||((c=document.createElement(a.nodeName)).pmIsDeco=!0,c.appendChild(r),s=ne[0]),r=c}ie(r,s||ne[0],a)}return r}function ie(e,t,n){
for(var o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):V,a=n.class?n.class.split(" "):V,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var l,d=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=d.exec(t.style);)e.style.removeProperty(l[1]);n.style&&(e.style.cssText+=n.style)}}function ae(e,t,n){return re(e,e,ne,oe(t,n,1!=e.nodeType))}function se(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ce(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var le=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){
for(var n=[],o=e.childCount,r=t.length-1;o>0&&r>=0;r--){var i=t[r],a=i.node;if(a){if(a!=e.child(o-1))break;n.push(i),--o}}return{nodes:n.reverse(),offset:o}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function de(e,t){return e.type.side-t.type.side}function ue(e,t,n,o,r){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],l=s,d=s+=c.size;l>=n||d<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,o)),r&&(i.push(r),r=null),d>n&&i.push(c.slice(n-l,c.size,o)))}return i}function pe(e,t){var n=e.selection,o=n.$anchor,i=n.$head,a=t>0?o.max(i):o.min(i),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&r.Selection.findFrom(s,t)}function he(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function fe(e,t,n){var o=e.state.selection;if(!(o instanceof r.TextSelection)){if(o instanceof r.NodeSelection&&o.node.isInline)return he(e,new r.TextSelection(t>0?o.$to:o.$from));var i=pe(e.state,t);return!!i&&he(e,i)}
if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var a=pe(e.state,t);return!!(a&&a instanceof r.NodeSelection)&&he(e,a)}if(!(s.mac&&n.indexOf("m")>-1)){var c,l=o.$head,d=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!d||d.isText)return!1;var u=t<0?l.pos-d.nodeSize:l.pos;return!!(d.isAtom||(c=e.docView.descAt(u))&&!c.contentDOM)&&(r.NodeSelection.isSelectable(d)?he(e,new r.NodeSelection(t<0?e.state.doc.resolve(l.pos-d.nodeSize):l)):!!s.webkit&&he(e,new r.TextSelection(e.state.doc.resolve(t<0?u:u+d.nodeSize))))}}function me(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ge(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function be(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){var r,i,a=!1;for(s.gecko&&1==n.nodeType&&o<me(n)&&ge(n.childNodes[o])&&(a=!0);;)if(o>0){if(1!=n.nodeType)break;var c=n.childNodes[o-1];if(ge(c))r=n,i=--o;else{if(3!=c.nodeType)break
;o=(n=c).nodeValue.length}}else{if(ye(n))break;for(var l=n.previousSibling;l&&ge(l);)r=n.parentNode,i=h(l),l=l.previousSibling;if(l)o=me(n=l);else{if((n=n.parentNode)==e.dom)break;o=0}}a?Ee(e,t,n,o):r&&Ee(e,t,r,i)}}function ve(e){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n){for(var r,i,a=me(n);;)if(o<a){if(1!=n.nodeType)break;if(!ge(n.childNodes[o]))break;r=n,i=++o}else{if(ye(n))break;for(var s=n.nextSibling;s&&ge(s);)r=s.parentNode,i=h(s)+1,s=s.nextSibling;if(s)o=0,a=me(n=s);else{if((n=n.parentNode)==e.dom)break;o=a=0}}r&&Ee(e,t,r,i)}}function ye(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ee(e,t,n,o){if(w(t)){var r=document.createRange();r.setEnd(n,o),r.setStart(n,o),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection()}function we(e,t,n){var o=e.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(s.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,a=o.$to
;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var c=pe(e.state,t);if(c&&c instanceof r.NodeSelection)return he(e,c)}if(!i.parent.inlineContent){var l=r.Selection.findFrom(t<0?i:a,t);return!l||he(e,l)}return!1}function Oe(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;var n=e.state.selection,o=n.$head,i=n.$anchor,a=n.empty;if(!o.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(s&&!s.isText){var c=e.state.tr;return t<0?c.delete(o.pos-s.nodeSize,o.pos):c.delete(o.pos,o.pos+s.nodeSize),e.dispatch(c),!0}return!1}function Se(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ce(e,t){var n=t.keyCode,o=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t)
;return 8==n||s.mac&&72==n&&"c"==o?Oe(e,-1)||be(e):46==n||s.mac&&68==n&&"c"==o?Oe(e,1)||ve(e):13==n||27==n||(37==n?fe(e,-1,o)||be(e):39==n?fe(e,1,o)||ve(e):38==n?we(e,-1,o)||be(e):40==n?function(e){if(s.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,o=t.focusOffset;if(n&&1==n.nodeType&&0==o&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;Se(e,r,!0),setTimeout((function(){return Se(e,r,!1)}),20)}}}(e)||we(e,1,o)||ve(e):o==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Te(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var c,l,d=o.resolve(s);if(w(n)){for(c=d;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&r.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var o=0==t,r=t==y(e);o||r;){if(e==n)return!0;var i=h(e)
;if(!(e=e.parentNode))return!1;o=o&&0==i,r=r&&i==y(e)}}(n.focusNode,n.focusOffset,i.dom))){var u=i.posBefore;l=new r.NodeSelection(s==u?d:o.resolve(u))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;c=o.resolve(p)}l||(l=je(e,c,d,"pointer"==t||e.state.selection.head<d.pos&&!a?1:-1));return l}function xe(e,t){var n=e.state.selection;if(Me(e,n),e.editable?e.hasFocus():Pe(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),o=e.cursorWrapper.dom,r="IMG"==o.nodeName;r?n.setEnd(o.parentNode,h(o)+1):n.setEnd(o,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&s.ie&&s.ie_version<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{var o,i,a=n.anchor,c=n.head;!ke||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=Ie(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Ie(e,n.to))),
e.docView.setSelection(a,c,e.root,t),ke&&(o&&Ne(o),i&&Ne(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),o=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==o&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}le.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},le.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},le.prototype.destroyRest=function(){
this.destroyBetween(this.index,this.top.children.length)},le.prototype.syncToMarks=function(e,t,n){for(var o=0,r=this.stack.length>>1,i=Math.min(r,e.length);o<i&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[r])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=q.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}},le.prototype.findNodeMatch=function(e,t,n,o){var r=-1,i=o<0?void 0:this.getPreMatch(o),a=this.top.children;if(i&&i.matchesNode(e,t,n))r=a.indexOf(i);else for(var s=this.index,c=Math.min(a.length,s+5);s<c;s++){
var l=a[s];if(l.matchesNode(e,t,n)&&this.preMatched.indexOf(l)<0){r=s;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)},le.prototype.updateNextNode=function(e,t,n,o,r){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof G){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=r)return!1;var c=a.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&se(t,a.outerDeco)))&&a.update(e,t,n,o))return this.destroyBetween(this.index,i),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},le.prototype.addNode=function(e,t,n,o,r){this.top.children.splice(this.index++,0,G.create(this.top,e,t,n,o,r)),this.changed=!0},le.prototype.placeWidget=function(e,t,n){var o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){
var r=new W(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},le.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof q;)e=e.children[e.children.length-1];if(!e||!(e instanceof X)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new Q(this.top,V,t,null)),this.changed=!0}};var ke=s.safari||s.chrome&&s.chrome_version<63;function Ie(e,t){var n=e.docView.domFromPos(t),o=n.node,r=n.offset,i=r<o.childNodes.length?o.childNodes[r]:null,a=r?o.childNodes[r-1]:null;if(s.safari&&i&&"false"==i.contentEditable)return Ae(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return Ae(i);if(a)return Ae(a)}}function Ae(e){return e.contentEditable="true",s.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Ne(e){
e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Me(e,t){if(t instanceof r.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Re(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Re(e)}function Re(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function je(e,t,n,o){return e.someProp("createSelectionBetween",(function(o){return o(e,t,n)}))||r.TextSelection.between(t,n,o)}function Pe(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function De(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(s.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div")
;return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||s.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Le(e,t,n,o,a){if(t<0){var c=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,l=Te(e,c);if(l&&!e.state.selection.eq(l)){var d=e.state.tr.setSelection(l);"pointer"==c?d.setMeta("pointer",!0):"key"==c&&d.scrollIntoView(),e.dispatch(d)}}else{var u=e.state.doc.resolve(t),p=u.sharedDepth(n);t=u.before(p+1),n=e.state.doc.resolve(n).after(p+1);var h,f,m=e.state.selection,g=function(e,t,n){var o=e.docView.parseRange(t,n),r=o.node,a=o.fromOffset,c=o.toOffset,l=o.from,d=o.to,u=e.root.getSelection(),p=null,h=u.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(p=[{node:h,offset:u.anchorOffset}],w(u)||p.push({node:u.focusNode,offset:u.focusOffset})),s.chrome&&8===e.lastKeyCode)for(var f=c;f>a;f--){
var m=r.childNodes[f-1],g=m.pmViewDesc;if("BR"==m.nodeType&&!g){c=f;break}if(!g||g.size)break}var b=e.state.doc,v=e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema),y=b.resolve(l),E=null,O=v.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:a,to:c,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:De,context:y});if(p&&null!=p[0].pos){var S=p[0].pos,C=p[1]&&p[1].pos;null==C&&(C=S),E={anchor:S+l,head:C+l}}return{doc:O,sel:E,from:l,to:d}}(e,t,n),b=e.state.doc,v=b.slice(g.from,g.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.lastKeyCode=null;var y=function(e,t,n,o,r){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b;if("end"==r){o-=s+Math.max(0,i-Math.min(s,c))-i}if(s<i&&e.size<t.size){c=(i-=o<=i&&o>=s?i-o:0)+(c-s),s=i}else if(c<i){s=(i-=o<=i&&o>=c?i-o:0)+(s-c),
c=i}return{start:i,endA:s,endB:c}}(v.content,g.doc.content,g.from,h,f);if(!y){if(!(o&&m instanceof r.TextSelection&&!m.empty&&m.$head.sameParent(m.$anchor))||e.composing||g.sel&&g.sel.anchor!=g.sel.head){if(g.sel){var E=_e(e,e.state.doc,g.sel);E&&!E.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(E))}return}y={start:m.from,endA:m.to,endB:m.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof r.TextSelection&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),s.ie&&s.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>g.from&&" \xa0"==g.doc.textBetween(y.start-g.from-1,y.start-g.from+1)&&(y.start--,y.endA--,y.endB--)
;var S,C=g.doc.resolveNoCache(y.start-g.from),T=g.doc.resolveNoCache(y.endB-g.from),x=C.sameParent(T)&&C.parent.inlineContent;if((s.ios&&e.lastIOSEnter>Date.now()-225&&(!x||a.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!x&&C.pos<g.doc.content.size&&(S=r.Selection.findFrom(g.doc.resolve(C.pos+1),1,!0))&&S.head==T.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,O(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,o,r){if(!o.parent.isTextblock||n-t<=r.pos-o.pos||Be(o,!0,!1)<r.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Be(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||Be(a,!0,!1)<n)return!1;return o.parent.content.cut(o.parentOffset).eq(a.parent.content)}(b,y.start,y.endA,C,T)&&e.someProp("handleKeyDown",(function(t){return t(e,O(8,"Backspace"))})))s.android&&s.chrome&&e.domObserver.suppressSelectionUpdates();else{
s.android&&!x&&C.start()!=T.start()&&0==T.parentOffset&&C.depth==T.depth&&g.sel&&g.sel.anchor==g.sel.head&&g.sel.head==y.endA&&(y.endB-=2,T=g.doc.resolveNoCache(y.endB-g.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,O(13,"Enter"))}))}),20));var k,I,A,N,M=y.start,R=y.endA;if(x)if(C.pos==T.pos)s.ie&&s.ie_version<=11&&0==C.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return xe(e)}),20)),k=e.state.tr.delete(M,R),I=b.resolve(y.start).marksAcross(b.resolve(y.endA));else if(y.endA==y.endB&&(N=b.resolve(y.start))&&(A=function(e,t){for(var n,o,r,a=e.firstChild.marks,s=t.firstChild.marks,c=a,l=s,d=0;d<s.length;d++)c=s[d].removeFromSet(c);for(var u=0;u<a.length;u++)l=a[u].removeFromSet(l);if(1==c.length&&0==l.length)o=c[0],n="add",r=function(e){return e.mark(o.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;o=l[0],n="remove",r=function(e){return e.mark(o.removeFromSet(e.marks))}}
for(var p=[],h=0;h<t.childCount;h++)p.push(r(t.child(h)));if(i.Fragment.from(p).eq(e))return{mark:o,type:n}}(C.parent.content.cut(C.parentOffset,T.parentOffset),N.parent.content.cut(N.parentOffset,y.endA-N.start()))))k=e.state.tr,"add"==A.type?k.addMark(M,R,A.mark):k.removeMark(M,R,A.mark);else if(C.parent.child(C.index()).isText&&C.index()==T.index()-(T.textOffset?0:1)){var j=C.parent.textBetween(C.parentOffset,T.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,M,R,j)})))return;k=e.state.tr.insertText(j,M,R)}if(k||(k=e.state.tr.replace(M,R,g.doc.slice(y.start-g.from,y.endB-g.from))),g.sel){var P=_e(e,k.doc,g.sel);P&&!(s.chrome&&s.android&&e.composing&&P.empty&&(P.head==M||P.head==k.mapping.map(R)-1)||s.ie&&P.empty&&P.head==M)&&k.setSelection(P)}I&&k.ensureMarks(I),e.dispatch(k.scrollIntoView())}}}function _e(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:je(e,t.resolve(n.anchor),t.resolve(n.head))}function Be(e,t,n){
for(var o=e.depth,r=t?e.end():e.pos;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,r++,t=!1;if(n)for(var i=e.node(o).maybeChild(e.indexAfter(o));i&&!i.isLeaf;)i=i.firstChild,r++;return r}function He(e,t){for(var n=[],o=t.content,r=t.openStart,a=t.openEnd;r>1&&a>1&&1==o.childCount&&1==o.firstChild.childCount;){r--,a--;var s=o.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),o=s.content}var c=e.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(e.state.schema),l=Ke(),d=l.createElement("div");d.appendChild(c.serializeFragment(o,{document:l}));for(var u,p=d.firstChild;p&&1==p.nodeType&&(u=Ve[p.nodeName.toLowerCase()]);){for(var h=u.length-1;h>=0;h--){for(var f=l.createElement(u[h]);d.firstChild;)f.appendChild(d.firstChild);d.appendChild(f)}p=d.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",r+" "+a+" "+JSON.stringify(n)),{dom:d,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)
}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Je(t,n,o,r,a){var s,c,l=a.parent.type.spec.code;if(!o&&!n)return null;var d=n&&(r||l||!o);if(d){if(t.someProp("transformPastedText",(function(e){n=e(n,l||r)})),l)return new i.Slice(i.Fragment.from(t.state.schema.text(n)),0,0);var u=t.someProp("clipboardTextParser",(function(e){return e(n,a,r)}));u?c=u:(s=document.createElement("div"),n.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){s.appendChild(document.createElement("p")).textContent=e})))}else t.someProp("transformPastedHTML",(function(e){o=e(o)})),s=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,o=Ke().createElement("div"),r=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=r&&Ve[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length);o.innerHTML=e;for(var a=0;a<i;a++)o=o.firstChild;return o}(o)
;var p=s&&s.querySelector("[data-pm-slice]"),h=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute("data-pm-slice"));if(!c){var f=t.someProp("clipboardParser")||t.someProp("domParser")||i.DOMParser.fromSchema(t.state.schema);c=f.parseSlice(s,{preserveWhitespace:!(!d&&!h),context:a})}return c=h?function(t,n){if(!t.size)return t;var o,r=t.content.firstChild.type.schema;try{o=JSON.parse(n)}catch(e){return t}for(var a=t.content,s=t.openStart,c=t.openEnd,l=o.length-2;l>=0;l-=2){var d=r.nodes[o[l]];if(!d||d.hasRequiredAttrs())break;a=i.Fragment.from(d.create(o[l+1],a)),s++,c++}return new i.Slice(a,s,c)}(function(e,t,n){t<e.openStart&&(e=new i.Slice(Ue(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new i.Slice(Ue(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(c,+h[1],+h[2]),h[3]):i.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var o=t.node(n).contentMatchAt(t.index(n)),r=void 0,a=[];if(e.forEach((function(e){if(a){
var t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&r.length&&Fe(n,r,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=ze(a[a.length-1],r.length));var i=$e(e,n);a.push(i),o=o.matchType(i.type,i.attrs),r=n}}})),a)return{v:i.Fragment.from(a)}},o=t.depth;o>=0;o--){var r=n(o);if(r)return r.v}return e}(c.content,a),!1),t.someProp("transformPasted",(function(e){c=e(c)})),c}function $e(e,t,n){void 0===n&&(n=0);for(var o=t.length-1;o>=n;o--)e=t[o].create(null,i.Fragment.from(e));return e}function Fe(e,t,n,o,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var a=Fe(e,t,n,o.lastChild,r+1);if(a)return o.copy(o.content.replaceChild(o.childCount-1,a));if(o.contentMatchAt(o.childCount).matchType(r==e.length-1?n.type:e[r+1]))return o.copy(o.content.append(i.Fragment.from($e(n,e,r+1))))}}function ze(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,ze(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.Fragment.empty,!0);return e.copy(n.append(o))}
function Ue(e,t,n,o,r,a){var s=t<0?e.firstChild:e.lastChild,c=s.content;return r<o-1&&(c=Ue(c,t,n,o,r+1,a)),r>=n&&(c=t<0?s.contentMatchAt(0).fillBefore(c,e.childCount>1||a<=r).append(c):c.append(s.contentMatchAt(s.childCount).fillBefore(i.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(c))}var Ve={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},We=null;function Ke(){return We||(We=document.implementation.createHTMLDocument("title"))}var qe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ge=s.ie&&s.ie_version<=11,Ye=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ye.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Ye.prototype.eq=function(e){
return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Xe=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);s.ie&&s.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ye,Ge&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Xe.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Xe.prototype.forceFlush=function(){
this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Xe.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,qe),Ge&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Xe.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ge&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Xe.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Xe.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Xe.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,
setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Xe.prototype.onSelectionChange=function(){if(function(e){return(!e.editable||e.root.activeElement==e.dom)&&Pe(e)}(this.view)){if(this.suppressingSelectionUpdates)return xe(this.view);if(s.ie&&s.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&g(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Xe.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Xe.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Xe.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[]
;this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Pe(this.view)&&!this.ignoreSelectionChange(t),o=-1,r=-1,i=!1,a=[];if(this.view.editable)for(var c=0;c<e.length;c++){var l=this.registerMutation(e[c],a);l&&(o=o<0?l.from:Math.min(l.from,o),r=r<0?l.to:Math.max(l.to,r),l.typeOver&&(i=!0))}if(s.gecko&&a.length>1){var d=a.filter((function(e){return"BR"==e.nodeName}));if(2==d.length){var u=d[0],p=d[1];u.parentNode&&u.parentNode.parentNode==p.parentNode?p.remove():u.remove()}}(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,r),function(e){if(Qe)return;Qe=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(o,r,i,a),
this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||xe(this.view))}},Xe.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var o=e.previousSibling,r=e.nextSibling;if(s.ie&&s.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var a=e.addedNodes[i],c=a.previousSibling,l=a.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(o=c),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(r=l)}for(var d=o&&o.parentNode==e.target?h(o)+1:0,u=n.localPosFromDOM(e.target,d,-1),p=r&&r.parentNode==e.target?h(r):e.target.childNodes.length,f=0;f<e.addedNodes.length;f++)t.push(e.addedNodes[f]);return{from:u,
to:n.localPosFromDOM(e.target,p,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Qe=!1;var Ze={},et={};function tt(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function nt(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return ot(e,t)})}))}function ot(e,t){return e.someProp("handleDOMEvents",(function(n){var o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}function rt(e){return{left:e.clientX,top:e.clientY}}function it(e,t,n,o,r){if(-1==o)return!1;for(var i=e.state.doc.resolve(o),a=function(o){if(e.someProp(t,(function(t){return o>i.depth?t(e,n,i.nodeAfter,i.before(o),r,!0):t(e,n,i.node(o),i.before(o),r,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function at(e,t,n){e.focused||e.focus();var o=e.state.tr.setSelection(t)
;"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function st(e,t,n,o,i){return it(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(i?function(e,t){if(-1==t)return!1;var n,o,i=e.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var c=s>a.depth?a.nodeAfter:a.node(s);if(r.NodeSelection.isSelectable(c)){o=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=o&&(at(e,r.NodeSelection.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(at(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function ct(e,t,n,o){return it(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(function(n){return n(e,t,o)}))}function lt(e,t,n,o){
return it(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(at(e,r.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)at(e,r.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(a))continue;at(e,r.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function dt(e){return bt(e)}et.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!ht(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!s.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Ce(e,t)?t.preventDefault():tt(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){
e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,O(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},et.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},et.keypress=function(e,t){if(!(ht(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||s.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}};var ut=s.mac?"metaKey":"ctrlKey";Ze.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=dt(e),o=Date.now(),r="singleClick";o-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(t,e.lastClick)&&!t[ut]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:o,
x:t.clientX,y:t.clientY,type:r};var i=e.posAtCoords(rt(t));i&&("singleClick"==r?e.mouseDown=new pt(e,i,t,n):("doubleClick"==r?ct:lt)(e,i.pos,i.inside,t)?t.preventDefault():tt(e,"pointer"))};var pt=function(e,t,n,o){var i,a,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[ut],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),a=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var d=o?null:n.target,u=d?e.docView.nearestDesc(d,!0):null;this.target=u?u.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof r.NodeSelection&&a==e.state.selection.from)&&(this.mightDrag={node:i,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),
this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tt(e,"pointer")};function ht(e,t){return!!e.composing||!!(s.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}pt.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},pt.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){
var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(rt(e))),this.allowDefault||!t?tt(this.view,"pointer"):st(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||s.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||s.chrome&&!(this.view.state.selection instanceof r.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(at(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):tt(this.view,"pointer")}},pt.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),tt(this.view,"pointer")},Ze.touchdown=function(e){dt(e),tt(e,"pointer")},Ze.contextmenu=function(e){return dt(e)};var ft=s.android?5e3:-1;function mt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return bt(e)}),t))}function gt(e){
for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function bt(e,t){if(e.domObserver.forceFlush(),gt(e),t||e.docView.dirty){var n=Te(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}et.compositionstart=et.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),bt(e,!0),e.markCursor=null;else if(bt(e),s.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var o=e.root.getSelection(),r=o.focusNode,i=o.focusOffset;r&&1==r.nodeType&&0!=i;){var a=i<0?r.lastChild:r.childNodes[i-1];if(!a)break;if(3==a.nodeType){o.collapse(a,a.nodeValue.length);break}r=a,i=-1}e.composing=!0}mt(e,ft)},et.compositionend=function(e,t){
e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,mt(e,20))};var vt=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function yt(e,t,n,o){var r=Je(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,o,r||i.Slice.empty)}))&&r){var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(r);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}Ze.copy=et.cut=function(e,t){var n=e.state.selection,o="cut"==t.type;if(!n.empty){var r=vt?null:t.clipboardData,i=He(e,n.content()),a=i.dom,s=i.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px"
;var o=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},et.paste=function(e,t){var n=vt?null:t.clipboardData,o=n&&n.getData("text/html"),r=n&&n.getData("text/plain");n&&(o||r||n.files.length)?(yt(e,r,o,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((function(){e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?yt(e,o.value,null,t):yt(e,o.textContent,o.innerHTML,t)}),50)}}(e,t)};var Et=function(e,t){this.slice=e,this.move=t},wt=s.mac?"altKey":"ctrlKey";for(var Ot in Ze.dragstart=function(e,t){
var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(rt(t));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),c=He(e,s),l=c.dom,d=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(vt?"Text":"text/html",l.innerHTML),vt||t.dataTransfer.setData("text/plain",d),e.dragging=new Et(s,!t[wt])}},Ze.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},et.dragover=et.dragenter=function(e,t){return t.preventDefault()},et.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var o=e.posAtCoords(rt(t));if(o){
var s=e.state.doc.resolve(o.pos);if(s){var c=n&&n.slice||Je(e,t.dataTransfer.getData(vt?"Text":"text/plain"),vt?null:t.dataTransfer.getData("text/html"),!1,s);if(e.someProp("handleDrop",(function(o){return o(e,t,c||i.Slice.empty,n&&n.move)})))t.preventDefault();else if(c){t.preventDefault();var l=c?Object(a.l)(e.state.doc,s.pos,c):s.pos;null==l&&(l=s.pos);var d=e.state.tr;n&&n.move&&d.deleteSelection();var u=d.mapping.map(l),p=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,h=d.doc;if(p?d.replaceRangeWith(u,u,c.content.firstChild):d.replaceRange(u,u,c),!d.doc.eq(h)){var f=d.doc.resolve(u);p&&r.NodeSelection.isSelectable(c.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(c.content.firstChild)?d.setSelection(new r.NodeSelection(f)):d.setSelection(je(e,f,d.doc.resolve(d.mapping.map(l)))),e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},Ze.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,
setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&xe(e)}),20))},Ze.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Ze.beforeinput=function(e,t){if(s.chrome&&s.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,O(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},et)Ze[Ot]=et[Ot];function St(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var o in t)if(!(o in e))return!1;return!0}var Ct=function(e,t){this.spec=t||Nt,this.side=this.spec.side||0,this.toDOM=e};Ct.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,this.side<0?-1:1),i=r.pos
;return r.deleted?null:new kt(i-n,i-n,this)},Ct.prototype.valid=function(){return!0},Ct.prototype.eq=function(e){return this==e||e instanceof Ct&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&St(this.spec,e.spec))};var Tt=function(e,t){this.spec=t||Nt,this.attrs=e};Tt.prototype.map=function(e,t,n,o){var r=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=i?null:new kt(r,i,this)},Tt.prototype.valid=function(e,t){return t.from<t.to},Tt.prototype.eq=function(e){return this==e||e instanceof Tt&&St(this.attrs,e.attrs)&&St(this.spec,e.spec)},Tt.is=function(e){return e.type instanceof Tt};var xt=function(e,t){this.spec=t||Nt,this.attrs=e};xt.prototype.map=function(e,t,n,o){var r=e.mapResult(t.from+o,1);if(r.deleted)return null;var i=e.mapResult(t.to+o,-1);return i.deleted||i.pos<=r.pos?null:new kt(r.pos-n,i.pos-n,this)},xt.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),o=n.index,r=n.offset
;return r==t.from&&r+e.child(o).nodeSize==t.to},xt.prototype.eq=function(e){return this==e||e instanceof xt&&St(this.attrs,e.attrs)&&St(this.spec,e.spec)};var kt=function(e,t,n){this.from=e,this.to=t,this.type=n},It={spec:{configurable:!0},inline:{configurable:!0}};kt.prototype.copy=function(e,t){return new kt(e,t,this.type)},kt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},kt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},kt.widget=function(e,t,n){return new kt(e,e,new Ct(t,n))},kt.inline=function(e,t,n,o){return new kt(e,t,new Tt(n,o))},kt.node=function(e,t,n,o){return new kt(e,t,new xt(n,o))},It.spec.get=function(){return this.type.spec},It.inline.get=function(){return this.type instanceof Tt},Object.defineProperties(kt.prototype,It);var At=[],Nt={},Mt=function(e,t){this.local=e&&e.length?e:At,this.children=t&&t.length?t:At};Mt.create=function(e,t){return t.length?_t(t,e,0,Nt):Rt},
Mt.prototype.find=function(e,t,n){var o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o},Mt.prototype.findInner=function(e,t,n,o,r){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+o,a.to+o))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,o+c,r)}},Mt.prototype.map=function(e,t,n){return this==Rt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Nt)},Mt.prototype.mapInner=function(e,t,n,o,r){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,o);s&&s.type.valid(t,s)?(i||(i=[])).push(s):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,o,r,i,a){for(var s=e.slice(),c=function(e,t,n,o){for(var a=0;a<s.length;a+=3){var c=s[a+1],l=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:n>=r&&(l=o-n-(t-e))&&(s[a]+=l,s[a+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c)
;for(var d=!1,u=0;u<s.length;u+=3)if(-1==s[u+1]){var p=n.map(s[u]+i),h=p-r;if(h<0||h>=o.content.size){d=!0;continue}var f=n.map(e[u+1]+i,-1)-r,m=o.content.findIndex(h),g=m.index,b=m.offset,v=o.maybeChild(g);if(v&&b==h&&b+v.nodeSize==f){var y=s[u+2].mapInner(n,v,p+1,s[u]+i+1,a);y!=Rt?(s[u]=h,s[u+1]=f,s[u+2]=y):(s[u+1]=-2,d=!0)}else d=!0}if(d){var E=_t(function(e,t,n,o,r,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(o,r,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)s(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}(s,e,t||[],n,r,i,a),o,0,a);t=E.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var O=0,S=0;O<E.children.length;O+=3){for(var C=E.children[O];S<s.length&&s[S]<C;)S+=3;s.splice(S,0,E.children[O],E.children[O+1],E.children[O+2])}}return new Mt(t&&t.sort(Bt),s)}(this.children,i,e,t,n,o,r):i?new Mt(i.sort(Bt)):Rt},
Mt.prototype.add=function(e,t){return t.length?this==Rt?Mt.create(e,t):this.addInner(e,t,0):this},Mt.prototype.addInner=function(e,t,n){var o,r=this,i=0;e.forEach((function(e,a){var s,c=a+n;if(s=Dt(t,e,c)){for(o||(o=r.children.slice());i<o.length&&o[i]<a;)i+=3;o[i]==a?o[i+2]=o[i+2].addInner(e,s,c+1):o.splice(i,0,a,a+e.nodeSize,_t(s,e,c+1,Nt)),i+=3}}));var a=Pt(i?Lt(t):t,-n);return new Mt(a.length?this.local.concat(a).sort(Bt):this.local,o||this.children)},Mt.prototype.remove=function(e){return 0==e.length||this==Rt?this:this.removeInner(e,0)},Mt.prototype.removeInner=function(e,t){for(var n=this.children,o=this.local,r=0;r<n.length;r+=3){for(var i=void 0,a=n[r]+t,s=n[r+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>a&&l.to<s&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var d=n[r+2].removeInner(i,a+1);d!=Rt?n[r+2]=d:(n.splice(r,3),r-=3)}}
if(o.length)for(var u=0,p=void 0;u<e.length;u++)if(p=e[u])for(var h=0;h<o.length;h++)o[h].eq(p,t)&&(o==this.local&&(o=this.local.slice()),o.splice(h--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Mt(o,n):Rt},Mt.prototype.forChild=function(e,t){if(this==Rt)return this;if(t.isLeaf)return Mt.empty;for(var n,o,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>i&&c.type instanceof Tt){var l=Math.max(i,c.from)-i,d=Math.min(a,c.to)-i;l<d&&(o||(o=[])).push(c.copy(l,d))}}if(o){var u=new Mt(o.sort(Bt));return n?new jt([u,n]):u}return n||Rt},Mt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Mt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1
;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Mt.prototype.locals=function(e){return Ht(this.localsInner(e))},Mt.prototype.localsInner=function(e){if(this==Rt)return At;if(e.inlineContent||!this.local.some(Tt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Tt||t.push(this.local[n]);return t};var Rt=new Mt;Mt.empty=Rt,Mt.removeOverlap=Ht;var jt=function(e){this.members=e};function Pt(e,t){if(!t||!e.length)return e;for(var n=[],o=0;o<e.length;o++){var r=e[o];n.push(new kt(r.from+t,r.to+t,r.type))}return n}function Dt(e,t,n){if(t.isLeaf)return null;for(var o=n+t.nodeSize,r=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<o&&((r||(r=[])).push(a),e[i]=null);return r}function Lt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function _t(e,t,n,o){var r=[],i=!1;t.forEach((function(t,a){
var s=Dt(e,t,a+n);if(s){i=!0;var c=_t(s,t,n+a+1,o);c!=Rt&&r.push(a,a+t.nodeSize,c)}}));for(var a=Pt(i?Lt(e):e,-n).sort(Bt),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(o.onRemove&&o.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new Mt(a,r):Rt}function Bt(e,t){return e.from-t.from||e.to-t.to}function Ht(e){for(var t=e,n=0;n<t.length-1;n++){var o=t[n];if(o.from!=o.to)for(var r=n+1;r<t.length;r++){var i=t[r];if(i.from!=o.from){i.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,i.from),Jt(t,r,o.copy(i.from,o.to)));break}i.to!=o.to&&(t==e&&(t=e.slice()),t[r]=i.copy(i.from,o.to),Jt(t,r+1,i.copy(o.to,i.to)))}}return t}function Jt(e,t,n){for(;t<e.length&&Bt(n,e[t])>0;)t++;e.splice(t,0,n)}function $t(e){var t=[];return e.someProp("decorations",(function(n){var o=n(e.state);o&&o!=Rt&&t.push(o)})),e.cursorWrapper&&t.push(Mt.create(e.state.doc,[e.cursorWrapper.deco])),jt.from(t)}jt.prototype.forChild=function(e,t){if(t.isLeaf)return Mt.empty
;for(var n=[],o=0;o<this.members.length;o++){var r=this.members[o].forChild(e,t);r!=Rt&&(r instanceof jt?n=n.concat(r.members):n.push(r))}return jt.from(n)},jt.prototype.eq=function(e){if(!(e instanceof jt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},jt.prototype.locals=function(e){for(var t,n=!0,o=0;o<this.members.length;o++){var r=this.members[o].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<r.length;i++)t.push(r[i])}else t=r}return t?Ht(n?t:t.sort(Bt)):At},jt.from=function(e){switch(e.length){case 0:return Rt;case 1:return e[0];default:return new jt(e)}};var Ft=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Wt(this),
this.markCursor=null,this.cursorWrapper=null,Vt(this),this.nodeViews=Kt(this),this.docView=Y(this.state.doc,Ut(this),$t(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Xe(e,(function(t,n,o,r){return Le(e,t,n,o,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Ze[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||ot(e,t)||!e.editable&&t.type in et||n(e,t)})};for(var n in Ze)t(n)
;s.safari&&e.dom.addEventListener("input",(function(){return null})),nt(e)}(this),this.pluginViews=[],this.updatePluginViews()},zt={props:{configurable:!0},root:{configurable:!0}};function Ut(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var o in n)"class"==o?t.class+=" "+n[o]:t[o]||"contenteditable"==o||"nodeName"==o||(t[o]=String(n[o]))})),[kt.node(0,e.state.doc.content.size,t)]}function Vt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:kt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Wt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Kt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}zt.props.get=function(){
if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Ft.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nt(this),this._props=e,this.updateStateInner(e.state,!0)},Ft.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var o in t.state=this.state,e)t[o]=e[o];this.update(t)},Ft.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Ft.prototype.updateStateInner=function(e,t){var n=this,o=this.state,i=!1,a=!1;if(e.storedMarks&&this.composing&&(gt(this),a=!0),this.state=e,t){var c=Kt(this);(function(e,t){var n=0,o=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var i in t)o++;return n!=o})(c,this.nodeViews)&&(this.nodeViews=c,i=!0),nt(this)}this.editable=Wt(this),Vt(this)
;var l=$t(this),d=Ut(this),u=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,d,l);!p&&e.selection.eq(o.selection)||(a=!0);var h="preserve"==u&&a&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,o=e.dom.getBoundingClientRect(),r=Math.max(0,o.top),i=(o.left+o.right)/2,a=r+1;a<Math.min(innerHeight,o.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var c=s.getBoundingClientRect();if(c.top>=r-20){t=s,n=c.top;break}}}return{refDOM:t,refTop:n,stack:k(e.dom)}}(this);if(a){this.domObserver.stop();var f=p&&(s.ie||s.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&function(e,t){var n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(o.selection,e.selection);if(p){var m=s.chrome?this.trackWrites=this.root.getSelection().focusNode:null
;!i&&this.docView.update(e.doc,d,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Y(e.doc,d,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function(e){var t=e.docView.domFromPos(e.state.selection.anchor),n=e.root.getSelection();return g(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?xe(this,f):(Me(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var b=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r.NodeSelection?x(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),b):x(this,this.coordsAtPos(e.selection.head),b))}else h&&function(e){var t=e.refDOM,n=e.refTop,o=e.stack,r=t?t.getBoundingClientRect().top:0;I(o,0==r?0:r-n)}(h)},
Ft.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Ft.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var o=0;o<this.state.plugins.length;o++){var r=this.state.plugins[o];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},Ft.prototype.someProp=function(e,t){var n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;var r=this.state.plugins;if(r)for(var i=0;i<r.length;i++){var a=r[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},Ft.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Ft.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(A)return e.focus(A);var t=k(e);e.focus(null==A?{get preventScroll(){return A={preventScroll:!0},!0}}:void 0),A||(A=!1,I(t,0))}(this.dom),xe(this),
this.domObserver.start()},zt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Ft.prototype.posAtCoords=function(e){return j(this,e)},Ft.prototype.coordsAtPos=function(e){return D(this,e)},Ft.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Ft.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Ft.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o},Ft.prototype.endOfTextblock=function(e,t){return F(this,t||this.state,e)},Ft.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t])
;clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$t(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Ft.prototype.dispatchEvent=function(e){return function(e,t){ot(e,t)||!Ze[t.type]||!e.editable&&t.type in et||Ze[t.type](e,t)}(this,e)},Ft.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Ft.prototype,zt)},pG8m:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);class s extends i.PureComponent{constructor(e){super(e),r()(this,"onMouseDown",(()=>{const{onMouseDown:e}=this.props;e&&e()})),r()(this,"onBlur",(e=>{const{onBlur:t}=this.props;t&&t(e)})),r()(this,"handleChange",(()=>{const{onChange:e}=this.props
;this.input&&this.setState({value:this.input.value}),e&&this.input&&e(this.input.value)})),r()(this,"handleKeydown",(e=>{const{onUndo:t,onRedo:n,onSubmit:o,onCancel:r}=this.props;13===e.keyCode&&o?(e.preventDefault(),o(this.input.value)):27===e.keyCode&&r?r(e):"function"==typeof t&&this.isUndoEvent(e)?(e.preventDefault(),t()):"function"==typeof n&&this.isRedoEvent(e)&&(e.preventDefault(),n()),this.props.onKeyDown&&this.props.onKeyDown(e)})),r()(this,"handleRef",(e=>{e instanceof HTMLInputElement?(this.input=e,this.props.autoFocus&&(this.focusTimeoutId=window.setTimeout((()=>this.focus())))):this.input=void 0})),this.state={value:e.defaultValue||""}}UNSAFE_componentWillReceiveProps(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:e.defaultValue})}componentWillUnmount(){window.clearTimeout(this.focusTimeoutId)}render(){const{placeholder:e,width:t,maxLength:o,testId:r,ariaLabel:i,describedById:s}=this.props,{value:c}=this.state;return a.a.createElement(n("8to4").a,{
"aria-describedby":s,"data-testid":r||"",type:"text",placeholder:e,value:c,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,innerRef:this.handleRef,width:t,maxLength:o,"aria-label":i})}focus(){const{input:e}=this;if(e){const t="object"==typeof this.props.autoFocus?this.props.autoFocus:{};e.focus(t)}}isUndoEvent(e){return 90===e.keyCode&&(n("j5wO").a.mac&&e.metaKey&&!e.shiftKey||!n("j5wO").a.mac&&e.ctrlKey)}isRedoEvent(e){return!n("j5wO").a.mac&&e.ctrlKey&&89===e.keyCode||n("j5wO").a.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode}}s.displayName="PanelTextInput"},pNaG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={STATUS_CONTAINER:"statusView-content-wrap",STATUS_LOZENGE:"status-lozenge-span"}},"pP/b":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));class o{constructor(e,t){this.manifestsPromise=Promise.resolve(e),this.autoConvertHandlers=t}getExtensions(){
return this.manifestsPromise}async getExtension(e,t){const n=(await this.manifestsPromise).find((n=>n.type===e&&n.key===t));if(!n)throw new Error(`Extension with type "${e}" and key "${t}" not found!`);return n}async search(e){return(await this.manifestsPromise).filter((t=>t.title.toLowerCase().includes(e.toLowerCase())))}async getAutoConverter(){if(this.autoConvertHandlers)return this.autoConvertHandlers;return Object(n("x1JX").b)(await this.manifestsPromise)}}},pRoW:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s);const l=n("vOnD").default.span.withConfig({componentId:"ymistl-0"
})`flex:0 0 16px;width:16px;height:16px;position:relative;align-self:start;margin:4px ${Object(n("7w+A").h)()}px 0 0;& > input[type='checkbox']{position:absolute;outline:none;margin:0;opacity:0;left:0;top:50%;transform:translateY(-50%);+ label{box-sizing:border-box;display:block;position:relative;width:100%;cursor:pointer;&::after{background:${Object(n("56zV").a)({light:"#FFFFFF",dark:"#455166"})} background-size:16px;border-radius:3px;border-style:solid;border-width:1px;border-color:${Object(n("56zV").a)({light:"#C1C7D0",dark:"#56637A"})} box-sizing:border-box;content:'';height:16px;left:50%;position:absolute;transition:border-color 0.2s ease-in-out;top:8px;width:16px;transform:translate(-50%,-50%);}}&:not([disabled]) + label:hover::after{background:${Object(n("56zV").a)({light:"#EBECF0",dark:"#B3D4FF"
})} transition:border 0.2s ease-in-out;}&[disabled] + label{opacity:0.5;cursor:default;}&:checked{+ label::after{background:url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+) no-repeat 0 0;background-size:16px;border:0;border-color:transparent;border-radius:0;}&:not([disabled]) + label:hover::after{background:url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+) no-repeat 0 0;background-size:16px;}}}`,d=Object(n("qgDP").a)("fabric-elements")
;let u=0;const p=e=>`${e}-${u++}`;class h extends s.PureComponent{constructor(e){super(e),a()(this,"handleOnChange",(e=>{const{onChange:t,taskId:n,isDone:o,createAnalyticsEvent:r}=this.props,i=!o;t&&t(n,i);r&&d({action:i?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:n}})(r)})),this.checkBoxId=p(e.taskId)}UNSAFE_componentWillReceiveProps(e){e.taskId!==this.props.taskId&&(this.checkBoxId=p(e.taskId))}render(){const{appearance:e,isDone:t,contentRef:o,children:r,placeholder:i,showPlaceholder:a,disabled:s,dataAttributes:d}=this.props,u=c.a.createElement(l,{contentEditable:!1},c.a.createElement("input",{id:this.checkBoxId,"aria-labelledby":`${this.checkBoxId}-wrapper`,name:this.checkBoxId,type:"checkbox",onChange:this.handleOnChange,checked:!!t,disabled:!!s,suppressHydrationWarning:!0}),c.a.createElement("label",{htmlFor:this.checkBoxId,suppressHydrationWarning:!0}));return c.a.createElement(n("zvNc").a,{appearance:e,contentRef:o,icon:u,placeholder:i,
showPlaceholder:a,itemType:"TASK",dataAttributes:d,checkBoxId:this.checkBoxId},r)}}h.displayName="TaskItem",a()(h,"defaultProps",{appearance:"inline"});var f=Object(n("VHV8").a)()(h),m=n("OhBV");class g extends s.PureComponent{constructor(e){super(e),a()(this,"mounted",!1),a()(this,"onUpdate",(e=>{this.setState({isDone:"DONE"===e})})),a()(this,"handleOnChange",((e,t)=>{const{taskDecisionProvider:n,objectAri:o,onChange:r}=this.props;this.setState({isDone:t}),n&&o?n.then((n=>{this.mounted&&(n.toggleTask({localId:e,objectAri:o},t?"DONE":"TODO"),r&&r(e,t))})):r&&r(e,t)})),this.state={isDone:e.isDone}}componentDidMount(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)}UNSAFE_componentWillReceiveProps(e){e.isDone!==this.props.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),
this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))}componentWillUnmount(){this.unsubscribe(),this.mounted=!1}subscribe(e,t,n){e&&t&&e.then((e=>{if(!this.mounted)return;const{taskId:o}=this.props,i={localId:o,objectAri:t},a=r()(r()({},i),{},{state:n?"DONE":"TODO",lastUpdateDate:new Date,type:"TASK"});e.subscribe({localId:o,objectAri:t},this.onUpdate,a)}))}unsubscribe(){const{taskDecisionProvider:e,taskId:t,objectAri:n}=this.props;e&&n&&e.then((e=>{e.unsubscribe({localId:t,objectAri:n},this.onUpdate)}))}render(){const{isDone:e}=this.state,{appearance:t,children:n,contentRef:o,objectAri:r,showPlaceholder:i,placeholder:a,taskId:s,disabled:l,dataAttributes:d}=this.props;return c.a.createElement(m.e,{data:{objectAri:r}},c.a.createElement(f,{isDone:e,taskId:s,onChange:this.handleOnChange,appearance:t,contentRef:o,showPlaceholder:i,placeholder:a,disabled:l,dataAttributes:d},n))}}g.displayName="ResourcedTaskItem",a()(g,"defaultProps",{appearance:"inline"})},pYeG:function(e,t,n){
"use strict";var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);class s extends i.PureComponent{constructor(e){super(e),r()(this,"handleRef",(e=>{this.setState({target:e||void 0})})),r()(this,"updatePopupPlacement",(e=>{this.setState({popupPlacement:e})})),this.state={popupPlacement:["bottom","left"]}}renderDropdown(){const{target:e,popupPlacement:t}=this.state,{children:o,mountTo:r,boundariesElement:i,scrollableElement:s,onOpenChange:c,fitHeight:l,fitWidth:d,zIndex:u}=this.props;return a.a.createElement(n("poXX").a,{target:e,mountTo:r,boundariesElement:i,scrollableElement:s,onPlacementChanged:this.updatePopupPlacement,fitHeight:l,fitWidth:d,zIndex:u},a.a.createElement("div",{style:{height:0,minWidth:d||0}},a.a.createElement(n("J+OG").a,{disabled:!0,isOpen:!0,onOpenChange:c,appearance:"tall",position:t.join(" "),shouldFlip:!1,shouldFitContainer:!0},o)))}render(){const{trigger:e,isOpen:t}=this.props;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{ref:this.handleRef
},e),t?this.renderDropdown():null)}}s.displayName="Dropdown";const c=Object(n("HoxM").a)(s);t.a=c},plA4:function(e,t,n){"use strict";let o;n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.ConfluencePageBlogAttachment="confluence.page,blogpost,attachment",e.ConfluencePageBlog="confluence.page,blogpost",e.ConfluenceExperimentsPageBlogAttachment="confluence_experiments.page,blogpost,attachment",e.ConfluenceSpace="confluence.space",e.People="cpus.user",e.UserConfluence="urs.user-confluence"}(o||(o={}));const r="confluence-page",i="confluence-blogpost",a="confluence-attachment"},poXX:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n("3tO9"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("i8i4");class d extends c.a.Component{constructor(...e){super(...e),a()(this,"state",{validPosition:!0}),a()(this,"placement",["",""]),a()(this,"handleRef",(e=>{
e&&this.initPopup(e)})),a()(this,"scheduledUpdatePosition",Object(n("GsWa").a)((e=>this.updatePosition(e)))),a()(this,"onResize",(()=>this.scheduledUpdatePosition()))}calculatePosition(e,t){const{target:o,fitHeight:r,fitWidth:i,boundariesElement:a,offset:s,onPositionCalculated:c,onPlacementChanged:l,alignX:d,alignY:u,stick:p,forcePlacement:h,allowOutOfBounds:f,rect:m}=e;if(!o||!t)return{};const g=Object(n("fuko").a)(o,a||document.body,i,r,d,u,h);l&&this.placement.join("")!==g.join("")&&(l(g),this.placement=g);let b=Object(n("fuko").b)({placement:g,popup:t,target:o,stick:p,offset:s,allowOutOfBounds:f,rect:m});return b=c?c(b):b,{position:b,validPosition:Object(n("fuko").d)(o)}}updatePosition(e=this.props,t=this.state){const{popup:n}=t,{position:o,validPosition:r}=this.calculatePosition(e,n);o&&r&&this.setState({position:o,validPosition:r})}cannotSetPopup(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)}initPopup(e){
const{target:t}=this.props,o=Object(n("fuko").c)(e);this.cannotSetPopup(e,t,o)||(this.setState({popup:e}),this.scheduledUpdatePosition())}UNSAFE_componentWillReceiveProps(e){this.scheduledUpdatePosition(e)}componentDidMount(){window.addEventListener("resize",this.onResize);const{stick:e}=this.props;this.scrollElement=e?Object(n("fuko").c)(this.props.target):this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scheduledUpdatePosition.cancel()}renderPopup(){const{position:e}=this.state,{shouldRenderPopup:t}=this.props;return t&&!t(e||{})?null:c.a.createElement("div",{ref:this.handleRef,style:r()({position:"absolute",zIndex:this.props.zIndex||n("9cwX").p},e),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)}render(){
const{target:e,mountTo:t}=this.props,{validPosition:n}=this.state;return e&&n?t?Object(l.createPortal)(this.renderPopup(),t):this.renderPopup():null}}d.displayName="Popup",a()(d,"defaultProps",{offset:[0,0],allowOutOfBound:!1})},pvYR:function(e,t,n){"use strict";function o(e,t){let n=e[t];return n||console.warn(`Text color palette does not have an internationalization message for color ${t.toUpperCase()}.\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n`),n}n.d(t,"a",(function(){return o}))},qAiH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n("vOnD")
;const r=12,i=o.css`.gridParent{width:calc(100% + ${2*r}px);margin-left:-${r}px;margin-right:-${r}px;transform:scale(1);z-index:${n("9cwX").t};}.gridContainer{position:fixed;height:100vh;width:100%;pointer-events:none;}.gridLine{border-left:1px solid ${"rgba(9, 30, 66, 0.08)"};display:inline-block;box-sizing:border-box;height:100%;margin-left:-1px;transition:border-color 0.15s linear;z-index:0;}.highlight{border-left:1px solid ${"#2684FF"};}`},qRUV:function(e,t,n){"use strict";var o=n("SINd"),r=[["normalize",n("TCYN")],["block",n("NAgD")],["inline",n("oSSR")],["linkify",n("mSF0")],["replacements",n("u0qK")],["smartquotes",n("rzDG")]];function i(){this.ruler=new o;for(var e=0;e<r.length;e++)this.ruler.push(r[e][0],r[e][1])}i.prototype.process=function(e){var t,n,o;for(t=0,n=(o=this.ruler.getRules("")).length;t<n;t++)o[t](e)},i.prototype.State=n("cTMM"),e.exports=i},qW2m:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}))
;var o=n("3tO9"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("lSNA"),c=n.n(s),l=n("q1tI"),d=n.n(l);const u=(e,t)=>{const o=Object(n("nere").b)({iconGradientStart:t})
;return`<canvas height="32" width="32" aria-hidden="true"></canvas>\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="94.092%" x2="56.535%" y1="6.033%" y2="43.087%" id="${o}">\n        <stop stop-color="${e}" ${"inherit"===e?'stop-opacity="0.4"':""} offset="18%"></stop>\n        <stop stop-color="${t}" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path d="M26.0406546,5 L14.9983562,5 C14.9983562,6.32163748 15.5233746,7.58914413 16.4579134,8.52368295 C17.3924523,9.45822178 18.6599589,9.98324022 19.9815964,9.98324022 L22.0151159,9.98324022 L22.0151159,11.9465283 C22.0168782,14.6974491 24.2474348,16.9265768 26.9983562,16.9265762 L26.9983562,5.95770152 C26.9983562,5.42877757 26.5695786,5 26.0406546,5 Z" fill="currentColor"></path>\n      <path d="M20.0420436,11 L9,11 C9.00176139,13.7504065 11.2309666,15.9796117 13.9813731,15.9813731 L16.0154337,15.9813731 L16.0154337,17.9451836 C16.0154337,19.2671728 16.5405919,20.5350167 17.4753794,21.4698042 C18.4101669,22.4045917 19.6780108,22.9297499 21,22.9297499 L21,11.9579564 C21,11.4288917 20.5711083,11 20.0420436,11 Z" fill="url(#${o})"></path>\n      <path d="M14.0420436,17 L3,17 C3.00176275,19.7516528 5.23291286,21.9813736 7.98456626,21.9813731 L10.0250133,21.9813731 L10.0250133,23.9451836 C10.0250082,26.6943468 12.2508419,28.9244664 15,28.9297499 L15,17.9579564 C15,17.4288917 14.5711083,17 14.0420436,17 Z" fill="url(#${o})"></path>\n    </g>\n  </svg>`
};class p extends l.Component{render(){return d.a.createElement(n("JUNT").a,a()({},this.props,{svg:u}))}}p.displayName="JiraIcon",c()(p,"defaultProps",r()(r()({},n("HOmg").a),{},{label:"Jira"}))},qk1C:function(e,t,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("EcEN"),a=n.n(i);var s=n("lSNA"),c=n.n(s);class l extends o.PureComponent{constructor(...e){super(...e),c()(this,"handleInsertMention",(()=>!!this.props.editorView&&(Object(n("+OuI").a)(this.props.editorView).openMention(n("J5HJ").f.INSERT_MENU),!0)))}render(){return r.a.createElement(n("aEOQ").b,{testId:this.props.testId,buttonId:n("aEOQ").a.MENTION,spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:"Mention @",iconBefore:r.a.createElement(n.n(n("WfRv")).a,{label:"Mention"})})}}l.displayName="ToolbarMention";var d=n("3tO9"),u=n.n(d),p=n("MEpN");var h=n("vOnD");const f=h.default.div.withConfig({componentId:"boeukb-0"
})`align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:6px 14px;text-overflow:ellipsis;vertical-align:middle;`,m=h.default.span.withConfig({componentId:"boeukb-1"})`position:relative;flex:initial;opacity:${e=>e.restricted?"0.5":"inherit"};`,g=h.default.div.withConfig({componentId:"boeukb-2"})`flex:1;min-width:0;margin-left:14px;opacity:${e=>e.restricted?"0.5":"inherit"};`,b=h.default.span.withConfig({componentId:"boeukb-3"})`display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:${"#091E42"};`,v=h.default.div.withConfig({componentId:"boeukb-4"})`display:flex;flex-direction:column;text-align:right;opacity:${e=>e.restricted?"0.5":"inherit"};&{& > span{margin-bottom:2px;}}`,y=h.default.div.withConfig({componentId:"boeukb-5"})`margin-left:20px;flex:none;color:${"#7A869A"};font-size:12px;`,E=h.default.div.withConfig({componentId:"boeukb-6"
})`background-color:${e=>e.selected?"#EBECF0":"transparent"};display:block;overflow:hidden;list-style-type:none;height:${48}px;line-height:1.2;cursor:pointer;`,w=h.default.div.withConfig({componentId:"boeukb-7"})`padding-left:5px;color:${"#42526E"};`;function O(e,t,n,o){if(!t)return null;const i=[],a=o||"";let s=0;if(n){for(let e=0;e<n.length;e++){const o=n[e],r=o.start,a=o.end;r>s&&i.push({value:t.substring(s,r),matches:!1}),i.push({value:t.substring(r,a+1),matches:!0}),s=a+1}s<t.length&&i.push({value:t.substring(s,t.length),matches:!1})}else i.push({value:t,matches:!1});return r.a.createElement(e,null,a,i.map(((e,t)=>e.matches?r.a.createElement("b",{key:t},e.value):e.value)))}const S=h.default.span.withConfig({componentId:"q6yd2o-0"})`color:${"#7A869A"};font-size:12px;margin-top:2px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;`;class C extends r.a.PureComponent{render(){const{highlight:e,name:t,nickname:n}=this.props.mention,o=e&&e.nickname
;return t===n?null:O(S,n,o,"@")}}C.displayName="UserMentionDescriptionByline";var T=n("pVnL"),x=n.n(T),k=n("JRPe");class I extends r.a.PureComponent{constructor(...e){super(...e),c()(this,"renderByline",((e,t)=>t?e>50?this.getBylineComponent(r.a.createElement(k.FormattedMessage,n("yCVS").a.plus50MembersWithYou)):this.getBylineComponent(r.a.createElement(k.FormattedMessage,x()({},n("yCVS").a.memberCountWithYou,{values:{0:e}}))):e>50?this.getBylineComponent(r.a.createElement(k.FormattedMessage,n("yCVS").a.plus50MembersWithoutYou)):this.getBylineComponent(r.a.createElement(k.FormattedMessage,x()({},n("yCVS").a.memberCountWithoutYou,{values:{0:e}}))))),c()(this,"getBylineComponent",(e=>r.a.createElement(S,null,e)))}render(){const{context:e}=this.props.mention;if(!e)return null;const t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}I.displayName="TeamMentionDescriptionByline";class A extends r.a.PureComponent{render(){const{userType:e}=this.props.mention;switch(e){
case n("pBjI").d[n("pBjI").d.TEAM]:return r.a.createElement(I,{mention:this.props.mention});default:return r.a.createElement(C,{mention:this.props.mention})}}}A.displayName="MentionDescriptionByline";class N extends r.a.PureComponent{constructor(...e){super(...e),c()(this,"onMentionSelected",(e=>{(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&this.props.onSelection&&(e.preventDefault(),this.props.onSelection(this.props.mention,e))})),c()(this,"onMentionMenuItemMouseMove",(e=>{this.props.onMouseMove&&this.props.onMouseMove(this.props.mention,e)})),c()(this,"onMentionMenuItemMouseEnter",(e=>{this.props.onMouseEnter&&this.props.onMouseEnter(this.props.mention,e)}))}render(){const{mention:e,selected:t}=this.props,{id:o,highlight:i,avatarUrl:a,presence:s,name:c,mentionName:l,lozenge:d,accessLevel:u}=e,{status:p,time:h}=s||{},S=Object(n("pBjI").g)(u),C=i&&i.name,T=t?"#EBECF0":void 0;return r.a.createElement(E,{selected:t,
onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":o,"data-mention-name":l},r.a.createElement(f,null,r.a.createElement(m,{restricted:S},r.a.createElement(n("1JKq").a,{src:a,size:"medium",presence:p,borderColor:T})),r.a.createElement(g,{restricted:S},O(b,c,C),r.a.createElement(A,{mention:e})),r.a.createElement(v,{restricted:S},function(e){if("string"==typeof e)return r.a.createElement(n("EFQh").a,null,e);if("object"==typeof e){const{appearance:t,text:o}=e;return r.a.createElement(n("EFQh").a,{appearance:t},o)}return null}(d),function(e){return e?r.a.createElement(y,null,e):null}(h)),S?r.a.createElement(n("RdrG").a,{name:c},r.a.createElement(w,null,r.a.createElement(n("gyhK").a,null,(e=>r.a.createElement(n.n(n("W4vt")).a,{label:e}))))):null))}}N.displayName="MentionItem";const M="atlassian.people.context.team.mention.highlight",R={seenCount:0,dontShow:!1},j={seenCount:99,dontShow:!0};class P{
static readFromLocalStorage(){try{let e=localStorage.getItem(M);return e||(localStorage.setItem(M,JSON.stringify(R)),e=localStorage.getItem(M)),e?JSON.parse(e):j}catch(e){return j}}static saveToLocalStorage(e){try{localStorage.setItem(M,JSON.stringify(e))}catch(t){}}}c()(P,"markAsDone",(()=>{const e=P.readFromLocalStorage();e.dontShow=!0,P.saveToLocalStorage(e)})),c()(P,"isHighlightEnabled",(()=>{const e=P.readFromLocalStorage();return e.seenCount<5&&!e.dontShow})),c()(P,"registerRender",(()=>{const e=P.readFromLocalStorage();return e.seenCount+=1,e.seenCount>5&&(e.dontShow=!0),P.saveToLocalStorage(e),e})),c()(P,"getSeenCount",(()=>P.readFromLocalStorage().seenCount)),c()(P,"registerCreateLinkClick",P.markAsDone),c()(P,"registerTeamMention",P.markAsDone),c()(P,"registerClosed",P.markAsDone);const D=h.default.div.withConfig({componentId:"oqqwfh-0"
})`justify-content:flex-end;margin-top:-${.5*Object(n("ARg4").gridSize)()}px;margin-right:${.5*Object(n("ARg4").gridSize)()}px;`,L=h.default.div.withConfig({componentId:"oqqwfh-1"})`${n("Yzqk").h400};margin-top:0px;`,_=h.default.div.withConfig({componentId:"oqqwfh-2"})`margin-left:${2*Object(n("ARg4").gridSize)()}px;margin-bottom:${.5*Object(n("ARg4").gridSize)()}px;`,B=h.default.div.withConfig({componentId:"oqqwfh-3"})`display:flex;flex-direction:row;background-color:${"#EAE6FF"};overflow:hidden;line-height:21px;padding-top:${2*Object(n("ARg4").gridSize)()}px;padding-bottom:${2*Object(n("ARg4").gridSize)()}px;padding-left:${2*Object(n("ARg4").gridSize)()}px;padding-right:0px;margin-top:-${.5*Object(n("ARg4").gridSize)()}px;`,H=h.default.div.withConfig({componentId:"oqqwfh-4"})`max-width:290px;display:flex;`,J=h.default.div.withConfig({componentId:"oqqwfh-5"})``,$=h.default.div.withConfig({componentId:"oqqwfh-6"})`opacity:0.8;`,F=h.default.div.withConfig({componentId:"oqqwfh-7"
})`margin-left:${2*Object(n("ARg4").gridSize)()}px;`;class z extends r.a.Component{constructor(e){super(e),c()(this,"onCreateTeamLinkClick",(()=>{this.setState({isHighlightHidden:!0});const{onCreateTeamLinkClick:e}=this.props;P.registerCreateLinkClick(),e&&e()})),c()(this,"preventClickOnCard",(e=>{this.elCloseWrapper.current&&this.elCloseWrapper.current.contains(e.target)&&this.onCloseClick();this.elCreateTeamWrapper.current&&this.elCreateTeamWrapper.current.contains(e.target)&&this.onCreateTeamLinkClick(),e.stopPropagation(),e.stopImmediatePropagation()})),c()(this,"onCloseClick",(()=>{this.setState({isHighlightHidden:!0}),this.props.onClose()})),this.elWrapper=r.a.createRef(),this.elCloseWrapper=r.a.createRef(),this.elCreateTeamWrapper=r.a.createRef(),this.state={isHighlightHidden:!1}}componentDidMount(){const{onViewed:e}=this.props;this.addEventHandler(),P.isHighlightEnabled()?(P.registerRender(),e&&e()):this.setState({isHighlightHidden:!0})}componentWillUnmount(){
this.removeEventHandler()}addEventHandler(){this.elWrapper.current&&this.elWrapper.current.addEventListener("click",this.preventClickOnCard)}removeEventHandler(){this.elWrapper.current&&this.elWrapper.current.removeEventListener("click",this.preventClickOnCard)}render(){const{createTeamLink:e}=this.props,{isHighlightHidden:t}=this.state;return t?null:r.a.createElement("div",{ref:this.elWrapper},r.a.createElement(B,null,r.a.createElement(H,null,r.a.createElement($,null,r.a.createElement("img",{
src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHdpZHRoPSIxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSI2NCIgY3k9IjY0IiBmaWxsPSIjNTI0M2FhIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHI9IjY0Ii8+PHBhdGggZD0ibTgwIDY0Yy02LjYyNzQxNyAwLTEyLTUuMzcyNTgzLTEyLTEyczUuMzcyNTgzLTEyIDEyLTEyIDEyIDUuMzcyNTgzIDEyIDEyLTUuMzcyNTgzIDEyLTEyIDEyem0tMzItMTJjLTYuNjI3NDE3IDAtMTItNS4zNzI1ODMtMTItMTJzNS4zNzI1ODMtMTIgMTItMTIgMTIgNS4zNzI1ODMgMTIgMTItNS4zNzI1ODMgMTItMTIgMTJ6bTEyIDI0YzAtNC40MiAzLjU0OC04IDgtOGgyNGM0LjQyIDAgOCAzLjU0IDggOHYxNC45MmMwIDEyLjEwOC00MCAxMi4xMDgtNDAgMHptOC0xMmgtLjAxMmMtMy4xODQzNTM3LjAwNDI0LTYuMjM2NTQxIDEuMjczNTYxNS04LjQ4NDg0MjcgMy41Mjg2MTQ5LTIuMjQ4MzAxOCAyLjI1NTA1MzQtMy41MDg0NjU2IDUuMzExMDMzLTMuNTAzMTU3MyA4LjQ5NTM4NTF2MTEuMjI4Yy0xMS43ODQgMi4xMzYtMjgtLjI1Mi0yOC03LjkzNnYtMTUuMzA0YzAtNC40MjQgMy41NDgtOC4wMTIgOC04LjAxMmgyNGMyLjEyMjcwODYtLjAwMzE5MTIgNC4xNTkzOTQ2LjgzODYzODYgNS42NjAzNzggMi4zMzk2MjJzMi4zNDI4MTMyIDMuNTM3NjY5NCAyLjMzOTYyMiA1LjY2MDM3OHoiIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjk1Ii8+PC9nPjwvc3ZnPg==",
height:32})),r.a.createElement(J,null,r.a.createElement(_,null,r.a.createElement(L,null,r.a.createElement(n("gyhK").f,null))),r.a.createElement(F,null,r.a.createElement(n("gyhK").d,null,(t=>r.a.createElement("div",null,t,r.a.createElement("span",{ref:this.elCreateTeamWrapper},r.a.createElement(n("gyhK").e,null,(t=>r.a.createElement("a",{href:e,target:"_blank"}," ",t))))))))),r.a.createElement(D,null,r.a.createElement("div",{ref:this.elCloseWrapper},r.a.createElement(n("gyhK").c,null,(e=>r.a.createElement(n("Yto1").a,{content:e,position:"bottom"},r.a.createElement(n("0+Gd").a,{appearance:"subtle",iconBefore:r.a.createElement(n.n(n("8m3F")).a,{label:"Close",size:"medium"}),spacing:"none"})))))))))}}z.displayName="TeamMentionHighlightInternal",c()(z,"defaultProps",{createTeamLink:"/people/search#createTeam"});var U=Object(n("VHV8").a)({onClose:e=>{Object(n("B1MP").h)(e)(n("B1MP").b.TEAM_MENTION_HIGHLIGHT,n("B1MP").a.CLOSED,n("B1MP").b.MENTION,"closeButton")},onCreateTeamLinkClick:e=>{
Object(n("B1MP").h)(e)(n("B1MP").b.TEAM_MENTION_HIGHLIGHT,n("B1MP").a.CLICKED,n("B1MP").b.MENTION,"createTeamLink")},onViewed:e=>{Object(n("B1MP").h)(e)(n("B1MP").b.TEAM_MENTION_HIGHLIGHT,n("B1MP").a.VIEWED,n("B1MP").b.MENTION,void 0,P.getSeenCount())}})(z);const V=h.default.div.withConfig({componentId:"sc-6j80g2-0"})`align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;overflow:hidden;padding:6px ${14}px;text-overflow:ellipsis;vertical-align:middle;`,W=h.default.span.withConfig({componentId:"sc-6j80g2-1"})`position:relative;flex:initial;opacity:inherit;width:36px;height:${36}px;> span{width:24px;height:24px;padding:6px;}`,K=h.default.div.withConfig({componentId:"sc-6j80g2-2"})`flex:1;min-width:0;margin-left:14px;color:${"#5E6C84"};opacity:${e=>e.restricted?"0.5":"inherit"};`,q=h.default.div.withConfig({componentId:"sc-6j80g2-3"
})`background-color:${e=>e.selected?"#EBECF0":"transparent"};display:block;overflow:hidden;list-style-type:none;cursor:pointer;`,G=h.default.span.withConfig({componentId:"sc-6j80g2-4"})`text-transform:capitalize;`,Y=Object(k.defineMessages)({inviteItemTitle:{id:"fabric.editor.inviteItem.title",defaultMessage:"{userRole, select, admin {Invite} trusted {Invite} other {Add}} teammate to {productName}",description:"Title of the invite teammate item in typeahead plugin"}}),X={id:"invite-teammate"};var Q=({productName:e,onMount:t,onMouseEnter:i,onSelection:a,selected:s,userRole:c})=>{const l=Object(o.useCallback)((e=>{(e=>!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))(e)&&a&&(e.preventDefault(),a(X,e))}),[a]),d=Object(o.useCallback)((e=>{i&&i(X,e)}),[i]);return Object(o.useEffect)((()=>{t&&t()}),[t]),r.a.createElement(q,{selected:s,onMouseDown:l,onMouseEnter:d,"data-id":X.id},r.a.createElement(V,null,r.a.createElement(W,null,r.a.createElement(n.n(n("9fHu")).a,{label:"add-icon",
primaryColor:"#5E6C84"})),r.a.createElement(K,null,r.a.createElement(k.FormattedMessage,x()({},Y.inviteItemTitle,{values:{userRole:c||"basic",productName:r.a.createElement(G,null,e)}})))))};const Z=e=>"TEAM"===e,ee=e=>e&&e.id===X.id,te="mention",ne=(e,t,o,r,i={})=>({action:t,actionSubject:e,eventType:o,attributes:u()({packageName:n("YBum").a,packageVersion:n("YBum").b,componentName:te,sessionId:r},i)}),oe={queryLength:0,spaceInQuery:!1},re=e=>e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:oe,ie=(e,t)=>{if(e){const n=e.findIndex((e=>e.id===t.id));return-1===n?void 0:n}},ae=e=>"selected"===e;function se(e){return n("UgDi").a.getState(e)}const ce=({mentionProvider:e,firstQueryWithoutResults:t,currentQuery:n,onInviteItemMount:o})=>i=>{const a=(({mentionProvider:e,onInviteItemMount:t})=>({title:X.id,render:({isSelected:n,onClick:o,onHover:i})=>r.a.createElement(Q,{productName:e?e.productName:void 0,selected:n,onMount:t,onMouseEnter:i,onSelection:o,userRole:e.userRole}),mention:X
}))({mentionProvider:e,onInviteItemMount:o}),s=((e,t)=>{if(!t)return!0;let n=t.length-1,o=e.slice(n);return" "===e[n-1]&&(o=" "+o),!/\s[^\s]+\s/.test(o)})(n,t);return 0===i.length?s?[a]:[]:[...i,a]};const le=function(e){const t=new Map;return{call:function(n){const o=t.get(n.id);if(o)return o;const r=e(n);return t.set(n.id,r),r},clear:t.clear.bind(t)}}((e=>({title:e.id,render:({isSelected:t,onClick:n,onHover:o})=>r.a.createElement(N,{mention:e,selected:t,onMouseEnter:o,onSelection:n}),getCustomComponentHeight:()=>48,mention:e}))),de=e=>({query:t,mentions:o,stats:r})=>{let i=0,a=null,s=null;(e=>e&&!isNaN(e.teamMentionDuration))(r)?(i=r&&r.teamMentionDuration,a=null,s=o.map((e=>Z(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null)).filter((e=>!!e))):(i=r&&r.duration,s=null,a=o.map((e=>e.id)));const c=((e,t,o,r)=>{const{queryLength:i,spaceInQuery:a}=re(o);return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",
eventType:"operational",attributes:{packageName:n("YBum").a,packageVersion:n("YBum").b,componentName:te,duration:e,userIds:t,teams:r,queryLength:i,spaceInQuery:a}}})(i,a,t,s);e(c)},ue=({sanitizePrivateContent:e,mentionInsertDisplayName:t,fireEvent:o,HighlightComponent:i})=>{let s=a()(),c=null;const l=new Set;return{id:n("FOo9").b.MENTION,trigger:"@",customRegex:"\\(?(@)",getHighlight:e=>{const t=i;if(t)return r.a.createElement(t,null);const n=se(e).mentionProvider;if(n){const e=n;if((e=>!(!e.mentionTypeaheadHighlightEnabled||!e.mentionTypeaheadCreateTeamPath))(e)&&e.mentionTypeaheadHighlightEnabled())return r.a.createElement(U,{createTeamLink:e.mentionTypeaheadCreateTeamPath(),onClose:()=>P.registerClosed()})}return null},getItems({query:e,editorState:t}){const n=se(t);if(null==n||!n.mentionProvider)return Promise.resolve([]);const{mentionProvider:r,contextIdentifierProvider:i}=n;return new Promise((t=>{const n=`loadingMentionsForTypeAhead_${a()()}`;l.add(n),
r.subscribe(n,((a,d="",u)=>{if(e!==d)return;r.unsubscribe(n),l.delete(n);const p=a.map((e=>le.call(e)));if(de(o)({query:e,mentions:a,stats:u}),0===a.length&&null===c&&(c=e),p.length<=2){const{inviteExperimentCohort:e,userRole:t}=r;o(((e,t,n,o)=>{const{containerId:r,objectId:i,childObjectId:a}=t||{};return ne("feature","exposed","operational",e,{flagKey:"confluence.frontend.invite.from.mention",value:n||"not-enrolled",containerId:r,objectId:i,childObjectId:a,userRole:o})})(s,i,e,t))}if(!r.shouldEnableInvite||p.length>2)t(p);else{const n=ce({mentionProvider:r,firstQueryWithoutResults:c||"",currentQuery:e,onInviteItemMount:()=>{o(((e,t,n)=>{const{containerId:o,objectId:r,childObjectId:i}=t||{};return ne("inviteItem","rendered","ui",e,{containerId:o,objectId:r,childObjectId:i,userRole:n})})(s,i,r.userRole))}})(p);t(n)}})),r.filter(e||"",u()(u()({},i),{},{sessionId:s}))}))},onOpen:e=>{c=null},selectItem(r,i,c,{mode:l,stats:d,query:h,sourceListItem:f}){
const{schema:m}=r,g=se(r),{mentionProvider:b}=g,{id:v,name:y,nickname:E,accessLevel:w,userType:O}=i.mention,S=E&&E.startsWith("@")?E.slice(1):E,C=t||!S?y:S,T=u()(u()({},g.contextIdentifierProvider),{},{sessionId:s});b&&!ee(i.mention)&&b.recordMentionSelection(i.mention,T);const x=d.startedAt?Date.now()-d.startedAt:0;if(b&&b.shouldEnableInvite&&ee(i.mention))return"space"!==l&&(o(((e,t,n,o,r,i,a,s)=>{const{queryLength:c,spaceInQuery:l}=re(i),{containerId:d,objectId:u,childObjectId:p}=a||{};return ne("inviteItem",ae(r)?"clicked":"pressed","ui",o,{duration:e,queryLength:c,spaceInQuery:l,upKeyCount:t,downKeyCount:n,containerId:d,objectId:u,childObjectId:p,userRole:s})})(x,d.keyCount.arrowUp,d.keyCount.arrowDown,s,l,h,g.contextIdentifierProvider,b.userRole)),b.onInviteItemClick&&b.onInviteItemClick("mention")),r.tr;if(o(((e,t,o,r,i,a,s,c,l)=>{const{queryLength:d,spaceInQuery:u}=re(c);let p=ne("mentionTypeahead",ae(i)?"clicked":"pressed","ui",r,{duration:e,position:ie(s,a),
keyboardKey:ae(i)?void 0:i,source:a.source,queryLength:d,spaceInQuery:u,isSpecial:Object(n("pBjI").h)(a),accessLevel:a.accessLevel||"",userType:a.userType,userId:a.id,upKeyCount:t,downKeyCount:o,memberCount:Z(a.userType)&&a.context?a.context.memberCount:null,includesYou:Z(a.userType)&&a.context?a.context.includesYou:null});return l&&(p.containerId=l.containerId||void 0,p.objectId=l.objectId||void 0,p.childObjectId=l.childObjectId||void 0),p})(x,d.keyCount.arrowUp,d.keyCount.arrowDown,s,l,i.mention,f.map((e=>e.mention)),h,g.contextIdentifierProvider)),s=a()(),b&&Z(O))return P.registerTeamMention(),c(((e,t,o,r)=>{const{nodes:i,marks:a}=e,{name:s,id:c,accessLevel:l,context:d}=t,u=`${window.location.origin}/people/team/${c}`,h=d&&d.teamLink?d.teamLink:u,f=e.text(s,[a.link.create({href:h})]),m=e.text("("),g=e.text(")"),b=e.text(" "),v=[f,b,m],y=d&&d.members?d.members:[];return y.forEach(((e,t)=>{const{name:a,id:s}=e,c=r?"":`@${a}`;r&&Object(n("QYFD").d)(o)&&o.cacheMentionName(s,a)
;const d=i.mention.createChecked({text:c,id:e.id,accessLevel:l,userType:"DEFAULT"});v.push(d),t!==y.length-1&&v.push(b)})),v.push(g),p.Fragment.fromArray(v)})(m,i.mention,b,e));const k=e?"":`@${C}`;e&&Object(n("QYFD").d)(b)&&b.cacheMentionName(v,C);const I=m.nodes.mention.createChecked({text:k,id:v,accessLevel:w,userType:"DEFAULT"===O?null:O}),A=m.text(" ");return c(p.Fragment.from([I,A]))},dismiss({editorState:e,query:t,stats:n}){c=null;const r=n.startedAt?Date.now()-n.startedAt:0;o(((e,t,n,o,r)=>{const{queryLength:i,spaceInQuery:a}=re(r);return ne("mentionTypeahead","cancelled","ui",o,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:i,spaceInQuery:a})})(r,n.keyCount.arrowUp,n.keyCount.arrowDown,s,t||""));const i=se(e);if(i&&i.mentionProvider){const e=i.mentionProvider;for(let t of l)e.unsubscribe(t)}l.clear(),s=a()()}}};var pe=n("UxO+");class he extends o.PureComponent{constructor(e){super(e),c()(this,"renderWithProvider",(e=>{
const{accessLevel:t,eventHandlers:o,id:i,text:a}=this.props,{mentionProvider:s}=e,c={};return["onClick","onMouseEnter","onMouseLeave"].forEach((e=>{c[e]=o&&o[e]||(()=>{})})),r.a.createElement(n("Qxb4").a,x()({id:i,text:a,accessLevel:t,mentionProvider:s},c))})),this.providerFactory=e.providers||new(n("U7Mc").a)}componentWillUnmount(){this.props.providers||this.providerFactory.destroy()}render(){return r.a.createElement(n("D0us").a,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}he.displayName="Mention",c()(he,"displayName","Mention");class fe extends n("gVP2").a{createDomRef(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?Object(n("KsUR").a)():super.createDomRef()}render(e){const{providerFactory:t,options:o}=e,{id:i,text:a,accessLevel:s}=this.node.attrs;return r.a.createElement(n("KsUR").b,{useInlineWrapper:o&&o.useInlineWrapper},r.a.createElement(he,{id:i,text:a,
accessLevel:s,providers:t}),o&&o.allowZeroWidthSpaceAfter&&n("vNjH").a)}}function me(e,t,n,o){return(r,i,a)=>new fe(r,i,a,e,t,{providerFactory:n,options:o}).init()}fe.displayName="MentionNodeView";const ge="SET_PROVIDER",be="SET_CONTEXT",ve=e=>(t,o)=>(o&&o(t.tr.setMeta(n("UgDi").a,{action:ge,params:{provider:e}})),!0),ye=e=>(t,o)=>(o&&o(t.tr.setMeta(n("UgDi").a,{action:be,params:{context:e}})),!0);t.a=e=>{let t=a()();const o=n=>{if(null==e||!e.createAnalyticsEvent)return;const{createAnalyticsEvent:o}=e;n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),o(n).fire("fabric-elements")},i=ue({sanitizePrivateContent:null==e?void 0:e.sanitizePrivateContent,mentionInsertDisplayName:null==e?void 0:e.insertDisplayName,HighlightComponent:null==e?void 0:e.HighlightComponent,fireEvent:o});return{name:"mention",nodes:()=>[{name:"mention",node:n("Z/xR").a}],pmPlugins:()=>[{name:"mention",
plugin:({providerFactory:t,dispatch:r,portalProviderAPI:i,eventDispatcher:a})=>function(e,t,o,r,i,a){let s;const c=(e,t,o,r)=>{e!==n("B1MP").c&&e!==n("B1MP").d||i(Object(n("B1MP").f)(t,o,r))};return new pe.Plugin({key:n("UgDi").a,state:{init:()=>({}),apply(t,o){const{action:r,params:i}=t.getMeta(n("UgDi").a)||{action:null,params:null};let a=o;switch(r){case ge:return a=u()(u()({},o),{},{mentionProvider:i.provider}),e(n("UgDi").a,a),a;case be:return a=u()(u()({},o),{},{contextIdentifierProvider:i.context}),e(n("UgDi").a,a),a}return a}},props:{nodeViews:{mention:me(o,r,t,a)}},view(e){const n=(t,n)=>{switch(t){case"mentionProvider":if(!n)return ve(void 0)(e.state,e.dispatch);n.then((t=>{s&&s.unsubscribe("mentionPlugin"),s=t,ve(t)(e.state,e.dispatch),t.subscribe("mentionPlugin",void 0,void 0,void 0,void 0,c)})).catch((()=>ve(void 0)(e.state,e.dispatch)));break;case"contextIdentifierProvider":if(!n)return ye(void 0)(e.state,e.dispatch);n.then((t=>{ye(t)(e.state,e.dispatch)}))}}
;return t.subscribe("mentionProvider",n),t.subscribe("contextIdentifierProvider",n),{destroy(){t&&(t.unsubscribe("mentionProvider",n),t.unsubscribe("contextIdentifierProvider",n)),s&&s.unsubscribe("mentionPlugin")}}}})}(r,t,i,a,o,e)}],secondaryToolbarComponent:({editorView:e,disabled:t})=>r.a.createElement(n("fd7e").a,{editorView:e,plugins:{mentionState:n("UgDi").a},render:({mentionState:o={}})=>o.mentionProvider?r.a.createElement(l,{editorView:e,isDisabled:t||Object(n("Wd+7").e)(e.state)}):null}),pluginsOptions:{quickInsert:({formatMessage:e})=>[{id:"mention",title:e(n("/DD6").a.mention),description:e(n("/DD6").a.mentionDescription),keywords:["team","user"],priority:400,keyshortcut:"@",icon:()=>r.a.createElement(n("Jzj3").o,null),action(e,t){const o=e(void 0);return Object(n("ifNk").a)({triggerHandler:i,inputMethod:n("J5HJ").f.QUICK_INSERT})(o),Object(n("SVcB").a)(t,o,{action:n("J5HJ").a.INVOKED,actionSubject:n("J5HJ").b.TYPEAHEAD,actionSubjectId:n("J5HJ").c.TYPEAHEAD_MENTION,
attributes:{inputMethod:n("J5HJ").f.QUICK_INSERT},eventType:n("J5HJ").e.UI})}}],typeAhead:i}}}},qvPZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("tasksAndDecisionsPlugin")},rM0u:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect x="4" y="5" width="16" height="14" rx="2" fill="currentColor"/></svg>'},e));i.displayName="EditorLayoutSingleIcon";var a=i;t.default=a},rO12:function(e){
e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')
},rPiI:function(t,n,o){"use strict";o.d(n,"a",(function(){return d}));var r=o("MEpN"),i=o("hyZr"),a=o("UxO+");const s=({node:e,tr:t,position:n})=>{const{start:i,end:s}=n;if(e.isText)return t.replaceWith(i,s,e);if(e.isBlock){t.delete(i,s);const n=t.mapping.map(i),c=Object(o("Gbq5").f)(t,e);if(Object(o("hSri").b)(c,n)(t))return t;const l=r.Slice.maxOpen(r.Fragment.from(c)),{from:d,to:u}=function(e,t,n){const o=e.resolve(t),r=(e,t)=>({from:e,to:t||e});for(let i=o.depth;i>=0;i--){const e=o.node(i),t=Math.max(i-1,0),a=o.node(t),s="paragraph"===e.type.name&&0===e.content.size,c=o.index(t),l=a.canReplaceWith(c,c,n.type);if(s&&l){const n=o.posAtIndex(c,t);return r(n,n+e.nodeSize)}const d=o.indexAfter(t);if(a.canReplaceWith(d,d,n.type))return r(o.posAtIndex(d,t))}return r(0)}(t.doc,n,c);t.replaceWith(d,u,e);const p=Math.min(d+(e.isAtom?e.nodeSize:l.openStart),t.doc.content.size),h=1,f=a.TextSelection.findFrom(t.doc.resolve(p),h,!0);if(f)return t.setSelection(f)}return t
},c=({editorState:t,handler:n,query:c,mode:l,wasInsertedBySpace:d,selectedIndex:u,textStartPosition:p,textInserted:h})=>(l,f={})=>{const{tr:m}=t,g={start:p,end:p+(d?h.length:0)},b=(({schema:t,maybeNode:n})=>{if(!n)return null;if(n instanceof r.Node||n instanceof r.Fragment)return n;if("string"==typeof n)return t.text(n);try{return r.Node.fromJSON(t,n)}catch(e){return console.error(e),null}})({schema:t.schema,maybeNode:l});if(!b)return Object(o("7jB3").a)(m),m.delete(g.start,g.end),m;if(b instanceof r.Node&&b.isBlock?s({node:b,tr:m,position:g}):(({maybeFragment:e,tr:t,position:n,selectInlineNode:o})=>{const{start:i,end:s}=n,c=e instanceof r.Node?r.Fragment.from(e):e;t.replaceWith(i,s,c),o?t.setSelection(a.NodeSelection.create(t.doc,i)):t.setSelection(a.TextSelection.near(t.doc.resolve(i+c.size)))})({maybeFragment:b,tr:m,position:g,selectInlineNode:Boolean(f.selectInlineNode)}),Object(i.a)(m),d)return m;const v={stage:o("cblB").a.INSERTING_ITEM,query:c,selectedIndex:u,trigger:n.trigger}
;return m.step(new(o("cblB").b)(v)),m},l=({trigger:e,selectedIndex:t,position:n,query:r,wasInsertedBySpace:a,insertItem:s})=>c=>{const l=c.tr;if(Object(i.a)(l),!a){l.delete(n.start,n.end);const i={stage:o("cblB").a.DELETING_RAW_QUERY,selectedIndex:t,query:r,trigger:e};l.step(new(o("cblB").b)(i))}return l.setMeta(o("yUK8").a,{action:o("Y+O0").a.INSERT_ITEM,params:s}),l},d=e=>({item:t,handler:n,mode:r,query:a,sourceListItem:s})=>{const d=Object(o("Wd+7").b)(e.state);if(!d)return;const u=(d.stats||new(o("TBml").a)).serialize(),p={mode:r,query:a,stats:u,sourceListItem:s},{tr:h}=e.state,f=n.trigger;let m=`${f}${a}`;r===o("FOo9").a.SPACE&&(m=m.trim().concat(" "));const g=Math.max(s.indexOf(t),0),b=r===o("FOo9").a.SPACE,{selection:{from:v}}=h,y={start:h.selection.from,end:h.selection.from+m.length};h.setMeta(o("yUK8").a,{action:o("Y+O0").a.INSERT_RAW_QUERY,params:l({wasInsertedBySpace:b,selectedIndex:g,insertItem:e=>{const s=c({editorState:e,query:a,mode:r,handler:n,wasInsertedBySpace:b,
selectedIndex:g,textInserted:m,textStartPosition:v});let l=!1;const d=new Proxy(s,{apply:function(e,t,n){return l=!0,e(...n)}}),u=n.selectItem(e,t,d,p);return!l&&u&&(Object(i.a)(u),u.getMeta(o("yUK8").a)||Object(o("7jB3").a)(u)),u},position:y,query:a,trigger:f})}),h.insertText(m),Object(i.a)(h),e.dispatch(h),e.focus()}},"rW+m":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("q1tI"),r=function(e,t){return e+"-"+t},i=function(e){var t=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"].find((function(t){return e[t]}));e[t]()},a=function(e){var t=e.volume;return{volume:t,isMuted:0===t}},s="undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.previousVolume=1,t.previousTime=-1,t.videoRef=o.createRef(),t.audioRef=o.createRef(),t.hasCanPlayTriggered=!1,t.state={isLoading:!0,buffered:0,currentTime:0,volume:1,
status:"paused",duration:0,isMuted:!1},t.onLoadedData=function(){var e=t.props.defaultTime;t.currentElement&&(t.currentElement.currentTime=e)},t.onVolumeChange=function(e){var n=e.target,o=a(n),r=o.volume,i=o.isMuted;t.setState({volume:r,isMuted:i})},t.onTimeUpdate=function(e){var n=e.target,o=t.props.onTimeChange,r=t.state.duration,i=Math.floor(n.currentTime);if(o&&i!==t.previousTime&&(o(i,r),t.previousTime=i),t.setState({currentTime:n.currentTime}),n.buffered.length){var a=n.buffered.end(n.buffered.length-1);t.setState({buffered:a})}},t.onCanPlay=function(e){var n=t.props.onCanPlay,o=e.target,r=a(o),i=r.volume,s=r.isMuted;t.setState({volume:i,isMuted:s,isLoading:!1,currentTime:o.currentTime,duration:o.duration}),t.hasCanPlayTriggered||(t.hasCanPlayTriggered=!0,n&&n(e))},t.onPlay=function(){t.setState({status:"playing"})},t.onPause=function(){t.setState({status:"paused"})},t.play=function(){t.currentElement&&t.currentElement.play()},t.pause=function(){
t.currentElement&&t.currentElement.pause()},t.navigate=function(e){t.setState({currentTime:e}),t.currentElement&&(t.currentElement.currentTime=e)},t.setVolume=function(e){t.setState({volume:e}),t.currentElement&&(t.currentElement.volume=e)},t.setPlaybackSpeed=function(e){t.currentElement&&(t.currentElement.playbackRate=e)},t.requestFullscreen=function(){"video"===t.props.sourceType&&i(t.currentElement)},t.mute=function(){var e=t.state.volume;t.previousVolume=e,t.setVolume(0)},t.unmute=function(){t.setVolume(t.previousVolume)},t.toggleMute=function(){t.videoState.volume>0?t.mute():t.unmute()},t.onDurationChange=function(e){var n=e.target;t.setState({duration:n.duration})},t.onError=function(e){var n=t.props.onError,o=e.target;t.setState({isLoading:!1,status:"errored",error:o.error}),n&&n(e)},t.onWaiting=function(){t.setState({isLoading:!0})},t.renderTracks=function(e){var n,i,a,s=t.props.textTracks;if(s&&Array.isArray(null===(n=s[e])||void 0===n?void 0:n.tracks)){
var c=null===(i=s[e])||void 0===i?void 0:i.tracks,l=null===(a=s[e])||void 0===a?void 0:a.selectedTrackIndex;return o.createElement(o.Fragment,null,null==c?void 0:c.map((function(t,n){var i=t.src,a=t.lang,s=t.label;return o.createElement("track",{key:n,id:r(e,a),kind:e,src:i,srcLang:a,label:s,default:n===l})})))}return null},t}return Object(n("mrSG").__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.src,n=this.state,o=n.currentTime,r=n.status;e.src!==t&&(this.hasCanPlayTriggered=!1,"playing"===r&&this.play(),this.navigate(o))},Object.defineProperty(t.prototype,"videoState",{get:function(){var e=this,t=this.state;return{currentTime:t.currentTime,currentActiveCues:function(t,n){var o,i;return null===(i=null===(o=e.videoRef.current)||void 0===o?void 0:o.textTracks.getTrackById(r(t,n)))||void 0===i?void 0:i.activeCues},volume:t.volume,status:t.status,duration:t.duration,buffered:t.buffered,isMuted:t.isMuted,isLoading:t.isLoading,error:t.error}},enumerable:!1,
configurable:!0}),Object.defineProperty(t.prototype,"currentElement",{get:function(){var e=this.props.sourceType;return"video"===e&&this.videoRef.current?this.videoRef.current:"audio"===e&&this.audioRef.current?this.audioRef.current:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){var e=this;return{play:e.play,pause:e.pause,navigate:e.navigate,setVolume:e.setVolume,setPlaybackSpeed:e.setPlaybackSpeed,requestFullscreen:e.requestFullscreen,mute:e.mute,unmute:e.unmute,toggleMute:e.toggleMute}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.videoState,t=this.actions,r=this.props,i=r.sourceType,a=r.poster,s=r.src,c=r.children,l=r.autoPlay,d=r.controls,u=r.preload,p=r.crossOrigin,h={src:s,preload:u,controls:d,autoPlay:l,onLoadedData:this.onLoadedData,onPlay:this.onPlay,onPause:this.onPause,onVolumeChange:this.onVolumeChange,onTimeUpdate:this.onTimeUpdate,onCanPlay:this.onCanPlay,
onDurationChange:this.onDurationChange,onError:this.onError,onWaiting:this.onWaiting,crossOrigin:p};return"video"===i?c(o.createElement("video",Object(n("mrSG").__assign)({ref:this.videoRef,poster:a},h),this.renderTracks("subtitles"),this.renderTracks("captions"),this.renderTracks("descriptions"),this.renderTracks("chapters"),this.renderTracks("metadata")),e,t,this.videoRef):c(o.createElement("audio",Object(n("mrSG").__assign)({ref:this.audioRef},h)),e,t,this.audioRef)},t.defaultProps={defaultTime:0,sourceType:"video",autoPlay:!1,controls:!1,preload:s?"auto":"metadata"},t}(o.Component)},raAN:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return p}));var o=n("3tO9"),r=n.n(o),i=n("mG1W");const a=e=>e.setMeta(n("3FAS").b,{changed:!0});function s(e){return Object(n("eFSV").a)({type:"UPDATE_STATE",data:e})}
function c(e,t){return Object(n("eFSV").a)({type:"UPDATE_STATE",data:{showContextPanel:!0,processParametersBefore:e,processParametersAfter:t}},a)}const l=Object(n("eFSV").a)({type:"UPDATE_STATE",data:{showContextPanel:!1,processParametersBefore:void 0,processParametersAfter:void 0}},a),d=e=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{autoSaveResolve:e}},a),u=(Object(n("eFSV").a)({type:"UPDATE_STATE",data:{showContextPanel:!0}},a),e=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{layout:e}},((t,o)=>{const i=Object(n("wqCz").f)(o,!0);return i?t.setNodeMarkup(i.pos,void 0,r()(r()({},i.node.attrs),{},{layout:e})):t}))),p=()=>Object(n("eFSV").a)({type:"UPDATE_STATE",data:{element:void 0}},((e,t)=>Object(n("wqCz").f)(t)?Object(i.removeSelectedNode)(e):Object(i.removeParentNodeOfType)(t.schema.nodes.bodiedExtension)(e)))},rnvK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("MEpN");const r=(e,t,r,i)=>{if(!e.selection.empty)return null;let a=null
;const{newInsertionBehaviour:s}=Object(n("37L4").b)(e);return s&&(a=e.tr.replaceWith(t,r,o.Fragment.empty),a=Object(n("hSri").b)(e.schema.nodes.rule.createChecked(),a.selection.from)(a)),a||(a=e.tr.replaceRange(t,r,new o.Slice(o.Fragment.from(e.schema.nodes.rule.createChecked()),0,0))),Object(n("SVcB").a)(e,a,{action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.DIVIDER,attributes:{inputMethod:i},eventType:n("J5HJ").e.TRACK})},i=(e,t,o)=>r(e,t,o,n("J5HJ").f.FORMATTING);t.b=function(e,t){const o=[];if(e.nodes.rule&&(o.push(Object(n("9hcL").c)(/^(\-\-\-|\*\*\*)$/,((e,t,n,o)=>i(e,n,o)))),o.push(Object(n("9hcL").c)(new RegExp(`${n("N3sK").c}(\\-\\-\\-|\\*\\*\\*)`),((e,t,n,o)=>{const{hardBreak:r}=e.schema.nodes;return e.doc.resolve(n).nodeAfter.type!==r?null:i(e,n,o)})))),0!==o.length)return Object(n("9hcL").b)("rule",o,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})}},ry7n:function(e,t,n){"use strict";n.d(t,"a",(function(){
return r}));var o=n("q1tI");const r=()=>{const e=Object(o.useContext)(n("JK4V").a);if(null==e)throw Error("@atlaskit/modal-dialog: Modal context unavailable \u2013 this component needs to be a child of ModalDialog.");return e}},rzDG:function(e,t,n){"use strict";var o=n("AGgm").isWhiteSpace,r=n("AGgm").isPunctChar,i=n("AGgm").isMdAsciiPunct,a=/['"]/,s=/['"]/g;function c(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function l(e,t){var n,a,l,d,u,p,h,f,m,g,b,v,y,E,w,O,S,C,T,x,k;for(T=[],n=0;n<e.length;n++){for(a=e[n],h=e[n].level,S=T.length-1;S>=0&&!(T[S].level<=h);S--);if(T.length=S+1,"text"===a.type){u=0,p=(l=a.content).length;e:for(;u<p&&(s.lastIndex=u,d=s.exec(l));){if(w=O=!0,u=d.index+1,C="'"===d[0],m=32,d.index-1>=0)m=l.charCodeAt(d.index-1);else for(S=n-1;S>=0&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S--)if("text"===e[S].type){m=e[S].content.charCodeAt(e[S].content.length-1);break}if(g=32,
u<p)g=l.charCodeAt(u);else for(S=n+1;S<e.length&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S++)if("text"===e[S].type){g=e[S].content.charCodeAt(0);break}if(b=i(m)||r(String.fromCharCode(m)),v=i(g)||r(String.fromCharCode(g)),y=o(m),(E=o(g))?w=!1:v&&(y||b||(w=!1)),y?O=!1:b&&(E||v||(O=!1)),34===g&&'"'===d[0]&&m>=48&&m<=57&&(O=w=!1),w&&O&&(w=!1,O=v),w||O){if(O)for(S=T.length-1;S>=0&&(f=T[S],!(T[S].level<h));S--)if(f.single===C&&T[S].level===h){f=T[S],C?(x=t.md.options.quotes[2],k=t.md.options.quotes[3]):(x=t.md.options.quotes[0],k=t.md.options.quotes[1]),a.content=c(a.content,d.index,k),e[f.token].content=c(e[f.token].content,f.pos,x),u+=k.length-1,f.token===n&&(u+=x.length-1),p=(l=a.content).length,T.length=S;continue e}w?T.push({token:n,pos:d.index,single:C,level:h}):O&&C&&(a.content=c(a.content,d.index,"\u2019"))}else C&&(a.content=c(a.content,d.index,"\u2019"))}}}}e.exports=function(e){var t
;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&l(e.tokens[t].children,e)}},s6f1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var o=n("3tO9"),r=n.n(o);const i=(e,t,o)=>{const{node:r,containerWidth:i,previousContainerWidth:a,dynamicTextSizing:c,prevNode:l,start:d,isBreakoutEnabled:u,layoutChanged:p}=t,h=Object(n("Rjvn").b)(r.attrs.layout,i,{dynamicTextSizing:c,isBreakoutEnabled:u}),f=Object(n("aMLK").e)(l),m=Object(n("Rjvn").b)(l.attrs.layout,a,{dynamicTextSizing:c,isBreakoutEnabled:u});let g=h;if(p&&f>m){if(f<h)g=h;else{const e=f/m;g=Math.floor(g*e)}}r.attrs.isNumberColumnEnabled&&(g-=n("9cwX").T);return s(Object(n("zsjf").e)({minWidth:n("9ehW").d,maxSize:h,table:r,tableRef:e,start:d,domAtPos:o}),g)},a=(e,t,o,r,i)=>{const a=Object(n("zsjf").e)({minWidth:n("9ehW").d,maxSize:t,table:o,tableRef:e,start:r,domAtPos:i})
;return o.attrs.isNumberColumnEnabled&&(t-=n("9cwX").T),s(a,Math.floor(t))};function s(e,t){const o=t/Object(n("zsjf").f)(e);let i=r()(r()({},e),{},{maxSize:t,cols:e.cols.map((e=>{const{minWidth:t,width:n}=e;let i=Math.floor(n*o);return i<t&&(i=t),r()(r()({},e),{},{width:i})}))}),a=Object(n("zsjf").f)(i);return a>t&&(i=Object(n("wWYC").b)(i,a-t)),Object(n("zsjf").a)(i,t)}},sFWM:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var o=n("UxO+"),r=n("mG1W");const i=new o.PluginKey("mobile-selection"),a=e=>new o.Plugin({view:t=>{const n=t.domAtPos.bind(t);return{update:(t,o)=>{const{state:a,state:{selection:s,doc:c}}=t;if(o.doc.eq(c)&&o.selection.eq(s))return;const l=Object(r.findDomRefAtPos)(s.$anchor.pos,n),{top:d,left:u}=l.getBoundingClientRect(),{nodeTypes:p,markTypes:h}=(({selection:e,doc:t})=>{const n=new Set,o=new Set;return t.nodesBetween(e.from,e.to,(e=>(n.add(e.type.name),e.marks.forEach((e=>o.add(e.type.name))),!0))),{
nodeTypes:Array.from(n),markTypes:Array.from(o)}})(a);e(i,{rect:{top:Math.round(d),left:Math.round(u)},selection:a.selection.toJSON(),nodeTypes:p,markTypes:h})}}}}),s=()=>({name:"mobileSelection",pmPlugins:()=>[{name:"mobileSelection",plugin:({dispatch:e})=>a(e)}]})},sHzn:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("3tO9"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("q1tI"),c=n.n(s);const l=(e,t={})=>o=>{const i=Object(s.forwardRef)(((i,l)=>{const{featureFlags:d}=i,{filterFeatureFlags:u}=t,p=Object(s.useMemo)((()=>{const t={featureFlags:u&&d?((e,t)=>e.reduce(((e,o)=>r()(r()({},e),{},{[o]:Object(n("8bRg").a)(o,t)})),{}))(u,d):d};return r()(r()({},e),{},{mediaCtx:r()({},t)})}),[u,d]);return c.a.createElement(n("APFK").a,{data:p},c.a.createElement(o,a()({},i,{ref:l})))}));return i.displayName=`WithMediaAnalyticsContext(${o.displayName||o.name})`,i}},sVlj:function(e,t,n){"use strict"
;var o=n("QILm"),r=n.n(o),i=n("pVnL"),a=n.n(i),s=n("lSNA"),c=n.n(s),l=n("17x9"),d=n.n(l),u=n("q1tI"),p=n.n(u);const h=["placeholderSize"],f=["children","placeholderSize"];class m extends u.PureComponent{constructor(e,t){super(e,t),c()(this,"mounted",!1),c()(this,"handleLoadError",((e,t)=>{const{invalidImage:n}=this.state;!n&&t&&this.setState({cachedEmoji:this.loadEmoji(t,this.context,!0)})})),this.state={cachedEmoji:this.loadEmoji(e.emoji,t,!1)}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}UNSAFE_componentWillReceiveProps(e,t){e.emoji!==this.props.emoji&&this.mounted&&this.setState({cachedEmoji:this.loadEmoji(e.emoji,t,!1)})}loadEmoji(e,t,o){if(!t.emoji)return;const{emojiProvider:r}=t.emoji;if(!r)return;const{fitToHeight:i}=this.props,a=Object(n("g7XK").d)(e,i);if(r.optimisticMediaRendering(e,a)&&!o)return Object(n("wjyn").a)("Optimistic rendering",e.shortName),e;Object(n("wjyn").a)("Loading image via media cache",e.shortName);const s=r.loadMediaEmoji(e,a)
;if(!Object(n("l4Cm").n)(s))return Object(n("l4Cm").f)(s)?s:void 0;s.then((e=>{this.mounted&&this.setState({cachedEmoji:e,invalidImage:!e})})).catch((()=>{this.mounted&&this.setState({cachedEmoji:void 0,invalidImage:!0})}))}render(){const{cachedEmoji:e}=this.state,t=this.props,{children:o,placeholderSize:i}=t,s=r()(t,f);let c;if(e)c=p.a.createElement(n("hXRZ").a,a()({},s,{emoji:e,onLoadError:this.handleLoadError}));else{const{emoji:e,placeholderSize:t,showTooltip:o,fitToHeight:r}=this.props,{shortName:i,representation:a}=e;c=p.a.createElement(n("rH8c").a,{size:r||t,shortName:i,showTooltip:o,representation:a})}return c}}m.displayName="CachingMediaEmoji",c()(m,"contextTypes",{emoji:d.a.object}),t.a=e=>{const{placeholderSize:t}=e,o=r()(e,h);return Object(n("l4Cm").k)(e.emoji)?p.a.createElement(m,e):p.a.createElement(n("hXRZ").a,o)}},scwk:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("q1tI"),r=n.n(o);function i(){return r.a.createElement("svg",{
focusable:"false","aria-hidden":!0,width:40,height:40},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"-26.046%",y1:"100%",x2:"62.626%",y2:"0%",id:"fallback-a"},r.a.createElement("stop",{stopColor:"#B3BAC5",offset:"0%"}),r.a.createElement("stop",{stopColor:"#A5ADBA",offset:"100%"}))),r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{fill:"#FFF",d:"M0 0h40v40H0z"}),r.a.createElement("path",{fill:"#DFE1E6",d:"M20 16h12v12H20z"}),r.a.createElement("path",{fill:"url(#fallback-a)",d:"M8 16h12v12H8z"}),r.a.createElement("path",{d:"M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z",fill:"#A5ADBA"}),r.a.createElement("path",{fill:"#B3BAC5",d:"M17.5 13h5v3h-5z"}),r.a.createElement("path",{fill:"#A5ADBA",d:"M10 13h5v3h-5z"}),r.a.createElement("path",{fill:"#DFE1E6",d:"M25 13h5v3h-5z"})))}},sgbj:function(t,n,o){"use strict";o.d(n,"a",(function(){return x}));var r=o("3tO9"),i=o.n(r),a=o("CsC6");const s=(e,t,n)=>t*e.width+n
;function c(e,t,n){const o=s(e,t,n);return n>0&&e.map[o-1]===e.map[o]||n<e.width-1&&e.map[o+1]===e.map[o]}function l(e,t,n){const o=s(e,t,n);return!(t>0)||e.map[o-e.width]!==e.map[o]}function*d(e,t){const{map:n,tableStart:r,table:i}=e;let a=t>0?-1:0;Object(o("3ILy").b)(n,i,t+a)&&(a=0===t||t===n.width?null:0);for(let d=0;d<n.height;d++){let u=s(e.map,d,t),p=n.map[u];const h=c(e.map,d,t)&&l(e.map,d,t);let f=null==a?Object(o("p81E").a)(i.type.schema).cell:i.nodeAt(n.map[u+a]).type;h||(p=n.positionAt(d,t,i));let m=i.nodeAt(p);const g={from:r+p,to:r+p,row:d,col:h?n.colCount(p):t,type:f,hasMergedCells:h};m&&(g.attrs=m.attrs,g.to=r+p+m.nodeSize);const b=yield g;b&&b>0&&(d+=b)}}function u(e,t){let[n,o]=[0,t.map.width-1];const r=e.values();let i=r.next();for(let a=0;a<t.map.height&&!i.done;a++)for(let e=n;e<=o;e++){const s=a*t.map.width+e,c=t.map.map[s],l=i.value.from-t.tableStart;if(c===l){n=e;const a=o-n+s;for(let e=s;e<=a&&t.map.map[e]===c;e++)o=n+e-s;if(n===o)return n;i=r.next();break}
if(e===t.map.width-1){if(c+t.table.nodeAt(c).nodeSize===l)return t.map.width}}return null}function p(e,t){const n=e.nodeAt(t);if(!n||"table"!==n.type.name)throw new Error(`No table at position "${t}".`);const r=o("wYWE").b.get(n),i=e.resolve(t);return{map:r,table:n,tableStart:i.start(i.depth+1),bottom:0,left:0,right:0,top:0}}function h(e){return e&&e.rowspan?e.rowspan-1:0}function f(e,t,n,r,i,a){if(void 0!==r.mergeWith){let n=e.doc.nodeAt(e.mapping.map(r.mergeWith));const s=a-t.map.colCount(r.mergeWith-t.tableStart),c=i?Object(o("11sg").c)(n.attrs,s):Object(o("11sg").a)(n.attrs,s);if(c.colspan>0)return e.setNodeMarkup(e.mapping.map(r.mergeWith),void 0,c),{tr:e,skipRows:h(c),cellStep:r};r.from=r.mergeWith,r.to=r.from+n.nodeSize,r.mergeWith=void 0}let s=0;if(i){s=h(e.doc.nodeAt(e.mapping.map(r.from)).attrs),e.delete(e.mapping.map(r.from),e.mapping.map(r.to))}else r.newCell?(e.insert(e.mapping.map(r.from),r.newCell),
s=h(r.newCell.attrs)):e.insert(e.mapping.map(r.from),n.type.createAndFill());return{tr:e,skipRows:s,cellStep:r}}function m(e,t){return void 0!==e.mergeWith?[e.mergeWith,1,1]:t?[e.from,e.to-e.from,0]:e.newCell?[e.from,0,e.newCell.nodeSize]:[e.from,0,4]}function g(e,t,n,o,r){const a=function(e,t,n){if(n)return e.map(t.from)-t.from;const[,o,r]=m(t,n);return e.map(t.from)-t.from-(r-o)}(r,n,o),s=i()(i()({},n),{},{from:n.from+a,to:n.to+a});if(void 0!==n.mergeWith&&(s.mergeWith=n.mergeWith+a),o){const o=e.nodeAt(n.from);s.newCell=o.copy(o.content);const{column:r,rect:i}=t();if(r<i.map.width){const e=i.map.colCount(n.from-i.tableStart)+o.attrs.colspan-1===r;void 0!==n.mergeWith&&e&&(s.mergeWith=s.from,s.from=s.to)}}return s}function b(e,t,n,o){const r={from:e.from,to:e.to};return e.hasMergedCells&&(t!==e.col||n)&&(r.mergeWith=e.from),o&&(void 0!==o.mergeWith&&(r.mergeWith=o.mergeWith),o.newCell&&(r.newCell=o.newCell)),r}class v{constructor(e){e&&(this.table=e)}addTableSideEffect(e,t,n){
this.table={from:e,to:t,node:n}}handleAddTable(e,t){return!(t||!this.table)&&(e.insert(this.table.from,this.table.node),!0)}handleRemoveTable(e,t,n,o,r){return!(!r||1!==n.map.width||0!==o)&&(this.addTableSideEffect(t,t+n.table.nodeSize,n.table.copy(n.table.content)),e.delete(t,t+n.table.nodeSize),!0)}getTableMap(e){if(!this.table)return;const{from:t,to:n}=this.table;return e?new a.g([t,n-t,0]):new a.g([t,0,n-t])}map(e){if(this.table)return{from:e.map(this.table.from),to:e.map(this.table.to),node:this.table.node}}invert(e){if(!this.table)return;const t=e.nodeAt(this.table.from);return{from:this.table.from,to:this.table.from+t.nodeSize,node:t.copy(t.content)}}toJSON(){if(this.table)return{from:this.table.from,to:this.table.to,node:this.table.node.toJSON()}}static fromJSON(e,t){return{from:t.from,to:t.to,node:e.nodeFromJSON(t.node)}}}var y=o("lSNA"),E=o.n(y);function w(e,t,n,o){let r=t.tableStart;for(let i=0;i<n;i++)r+=t.table.child(i).nodeSize;const a=t.table.child(n);let s=r+a.nodeSize
;e.delete(e.mapping.map(r),e.mapping.map(s));return{skipRows:function(e,t,n,o){let r=0;const{map:a,table:s,tableStart:c}=t;for(let l=0;l<a.width;l++){let t=n*a.width+l,d=a.map[t];if(n>0&&d===a.map[t-a.width]){const t=e.mapping.map(d+c);let n=e.doc.nodeAt(t).attrs;e.setNodeMarkup(t,void 0,i()(i()({},n),{},{rowspan:n.rowspan-1})),l+=n.colspan-1}else l===o&&(r=s.nodeAt(d).attrs.rowspan-1)}return r}(e,t,n,o),row:{from:r,to:s,rowNode:a.copy(a.content)}}}function O(e,t,n,o){const r=o.rowNode.child(0);return e.insert(e.mapping.map(o.from),o.rowNode),function(e,t,n){const{map:o,tableStart:r}=t;for(let a=0;a<o.width;a++){let t=n*o.width+a,s=o.map[t];const c=e.mapping.map(s+r);let l=e.doc.nodeAt(c).attrs;e.setNodeMarkup(c,void 0,i()(i()({},l),{},{rowspan:l.rowspan+1})),a+=l.colspan-1}}(e,t,n),r.attrs.rowspan-1}class S{constructor(e){E()(this,"deleteHandler",(()=>{const e=[];return{handle:(t,n,o,r,i)=>{if(!function(e,t,n){const o=e.table.child(t);return!!o&&1===o.childCount&&!c(e.map,t,n)
}(n,o,r))return{handled:!1};const{row:a,skipRows:s}=w(t,n,o,r);return e.push(a),{handled:!0,skipRows:s}},end:()=>{e.length>0?this.rows=e:this.rows=void 0}}})),E()(this,"addHandler",(()=>{let e=0,t=0;return{handle:(n,o,r,i,a)=>{if(!this.rows||t>=this.rows.length)return{handled:!1};let s,c;for(;(c=this.rows[t])&&c.from>e&&c.from<a.from;)s=O(n,o,r-1,c),t++;return e=a.from,s&&0!==s?{handled:!0,skipRows:s-1}:{handled:!1}},end:(e,n,o)=>{if(!this.rows||t>=this.rows.length)return;let r;for(;r=this.rows[t];)O(e,n,n.map.height-1,r),t++}}})),this.rows=e}start(e){return e?this.deleteHandler():this.addHandler()}addRowRanges(e,t){if(!this.rows)return e;const n=[];for(const o of this.rows){const{from:e,to:r}=o;t?n.push(e,r-e,0):n.push(e,0,r-e)}return function(e,t){const n=[],o=e.length,r=t.length;let i=0,a=0;for(;i<o&&a<r;)e[i]<t[a]?(n.push(e[i],e[i+1],e[i+2]),i+=3):(n.push(t[a],t[a+1],t[a+2]),a+=3);return i<o&&n.push(...e.slice(i)),a<r&&n.push(...t.slice(i)),n}(e,n)}map(e){return[]}invert(e,t,n){
if(!this.rows)return;const o=[];for(const r of this.rows)if(t){let e=n.map(r.from)-r.from;o.push(i()(i()({},r),{},{from:r.from+e,to:r.from+e}))}return o}toJSON(){if(!this.rows)return;const e=[];for(const t of this.rows)e.push({from:t.from,to:t.to,rowNode:t.rowNode.toJSON()});return e}static fromJSON(e,t){const n=[];for(const o of t)n.push({from:o.from,to:o.to,rowNode:e.nodeFromJSON(o.rowNode)});return n}}class C{constructor(e){this.table=new v(e&&e.table),this.rows=new S(e&&e.rows)}getTableMap(e){return this.table.getTableMap(e)}map(e){const t={},n=this.table.map(e),o=this.rows.map(e);return n&&(t.table=n),o&&(t.rows=o),t}invert(e,t,n){const o={},r=this.table.invert(e);r&&(o.table=r);const i=this.rows.invert(e,t,n);return i&&(o.rows=i),o}toJSON(){const e=this.table.toJSON(),t=this.rows.toJSON();if(!e&&!t)return;const n={};return e&&(n.table=e),t&&(n.rows=t),n}static fromJSON(e,t){const n={};return t.table&&(n.table=v.fromJSON(e,t.table)),t.rows&&(n.rows=S.fromJSON(e,t.rows)),n}}
const T="ak-add-column";class x extends a.f{constructor(e,t,n=!1){super(),this.tablePos=e,this.isDelete=n,this.sideEffectsHandler=new C(t.sideEffects),this.columnInfo=function(e){return new Map(e.map((e=>[e.from,e])))}(t.cells)}apply(t){const{tablePos:n}=this,o=new a.i(t);if(this.sideEffectsHandler.table.handleAddTable(o,this.isDelete))return a.h.ok(o.doc);let r;try{r=p(t,n)}catch(e){return a.h.fail(e.message)}const i=u(this.columnInfo,r);return null===i?a.h.fail(`No column for this cells "${function(e){let t=[];for(const n of e.values())t.push(n.from);return`[${t.join(",")}]`}(this.columnInfo)}" in table at position "${n}".`):(this.sideEffectsHandler.table.handleRemoveTable(o,this.tablePos,r,i,this.isDelete)||(this.columnInfo=this.applyCellSteps(o,r,i,this.isDelete)),a.h.ok(o.doc))}map(e){const t=e.mapResult(this.tablePos);if(t.deleted)return null;const n=[];for(const r of this.columnInfo.values()){const t=e.mapResult(r.from),o=e.mapResult(r.to);if(t.deleted&&o.deleted)continue
;const a=i()(i()({},r),{},{from:t.pos,to:o.pos});void 0!==r.mergeWith&&(a.mergeWith=e.map(r.mergeWith)),n.push(a)}if(0===n.length)return null;const o=this.sideEffectsHandler.map(e);return new x(t.pos,{cells:n,sideEffects:o},this.isDelete)}invert(e){const t=this.getMap(),n=((e,t,n)=>Object(o("GnSq").default)((()=>{const o=p(e,t),r=u(n,o);if(null===r)throw new Error("no column");return{rect:o,column:r}})))(e,this.tablePos,this.columnInfo),r=Array.from(this.columnInfo.values(),(o=>g(e,n,o,this.isDelete,t))),i=this.sideEffectsHandler.invert(e,this.isDelete,t);return new x(this.tablePos,{cells:r,sideEffects:i},!this.isDelete)}getMap(){const e=this.sideEffectsHandler.getTableMap(this.isDelete);if(e)return e;let t=[];for(const n of this.columnInfo.values())t.push(...m(n,this.isDelete));return t=this.sideEffectsHandler.rows.addRowRanges(t,this.isDelete),new a.g(t)}merge(e){return null}toJSON(){const e={stepType:T,tablePos:this.tablePos,cells:Array.from(this.columnInfo.values(),(e=>{const t={
from:e.from,to:e.to};return void 0!==e.mergeWith&&(t.mergeWith=e.mergeWith),void 0!==e.newCell&&(t.newCell=e.newCell.toJSON()),t})),isDelete:this.isDelete},t=this.sideEffectsHandler.toJSON();return t&&(e.sideEffects=t),e}static fromJSON(e,t){const n=t.cells.map((t=>i()(i()({},t),{},{newCell:t.newCell?e.nodeFromJSON(t.newCell):void 0})));let o;return t.sideEffects&&(o=C.fromJSON(e,t.sideEffects)),new x(t.tablePos,{cells:n,sideEffects:o},t.isDelete)}static create(e,t,n,o=!1){const r=[],i=d(p(e,t),n);let a=i.next();for(;!a.done;){const e=a.value;r.push(b(e,n,o));let t=0;e.attrs&&e.attrs.rowspan&&(t=e.attrs.rowspan-1),a=i.next(t)}return new x(t,{cells:r},o)}applyCellSteps(e,t,n,o){const r=new Map,i=this.sideEffectsHandler.rows.start(this.isDelete),a=d(t,n);let s=a.next();for(;!s.done;){const c=s.value,l=b(c,n,o,this.columnInfo.get(c.from)),d=i.handle(e,t,c.row,n,c);if(d.handled){s=a.next(d.skipRows);continue}const{skipRows:u,cellStep:p}=f(e,t,c,l,o,n);r.set(l.from,p),s=a.next(u)}
return i.end(e,t,n),r}}a.f.jsonID(T,x)},soJG:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("UxO+");async function r(e){const t=e.state&&n("JE3G").a.getState(e.state);t&&t.showContextPanel&&await new Promise((t=>{Object(n("raAN").b)(t)(e.state,e.dispatch)}))}async function i(e){const t=e.state&&n("wBzk").a.getState(e.state);return t&&t.waitForMediaUpload&&await t.waitForPendingTasks(),e.state.doc}function a(e){return(t,n)=>{let{tr:r}=t,i=!1;const a=e=>{const t=e.selection.toJSON();r.setSelection(o.Selection.fromJSON(r.doc,t)),e.steps.forEach((e=>{r.step(e)})),i=!0};return e.forEach((e=>e(t,a))),!(!n||!i)&&(n(r),!0)}}},"t+49":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm2 5a1 1 0 100 2h3a1 1 0 100-2H5zm0 4a1 1 0 100 2h3a1 1 0 000-2H5zm0 4a1 1 0 000 2h3a1 1 0 000-2H5zm0 4a1 1 0 000 2h3a1 1 0 000-2H5zm7-12a1 1 0 000 2h7a1 1 0 000-2h-7zm0 4a1 1 0 000 2h7a1 1 0 000-2h-7zm0 4a1 1 0 000 2h7a1 1 0 000-2h-7zm0 4a1 1 0 000 2h7a1 1 0 000-2h-7z"/></svg>'},e,{size:"medium"}));i.displayName="Spreadsheet24Icon";var a=i;t.default=a},"t+JJ":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var o=n("3tO9"),r=n.n(o),i=n("UxO+");const a=(e,t)=>{switch(e){case n("Kuh0").k:return!!t.schema.nodes.paragraph;case n("Kuh0").e:case n("Kuh0").f:case n("Kuh0").g:case n("Kuh0").h:case n("Kuh0").i:case n("Kuh0").j:return!!t.schema.nodes.heading;case n("Kuh0").a:return!!t.schema.nodes.blockquote;case n("Kuh0").b:
return!!t.schema.nodes.codeBlock;case n("Kuh0").m:return!!t.schema.nodes.panel}},s=(e,t)=>{if(!t.selection)return n("Kuh0").k;let o;const{$from:r,$to:i}=t.selection;return t.doc.nodesBetween(r.pos,i.pos,(r=>{const i=e.filter((e=>e===((e,t)=>{if(e.type===t.nodes.heading){const t=n("Kuh0").c[e.attrs.level];if(t)return t}else if(e.type===t.nodes.paragraph)return n("Kuh0").k;return n("Kuh0").l})(r,t.schema)));i.length>0&&(o?o!==n("Kuh0").l&&o!==i[0]&&(o=n("Kuh0").l):o=i[0])})),o||n("Kuh0").l},c=(e,t)=>(0===e?Object(n("XJbs").g)(n("J5HJ").f.FORMATTING)(t.state,t.dispatch):Object(n("XJbs").f)(e,n("J5HJ").f.FORMATTING)(t.state,t.dispatch),!0),l=new i.PluginKey("blockTypePlugin"),d=(e,t)=>{let o=0;return new i.Plugin({appendTransaction(e,n,o){if(t){const e=o.doc.resolve(o.doc.content.size-1).node(1),{paragraph:t}=o.schema.nodes;if(e&&e.isBlock&&e.type!==t)return o.tr.insert(o.doc.content.size,o.schema.nodes.paragraph.create()).setMeta("addToHistory",!1)}},state:{init(e,t){
const o=n("Kuh0").n.filter((e=>a(e,t))),r=n("Kuh0").o.filter((e=>a(e,t)));return{currentBlockType:s(o,t),blockTypesDisabled:Object(n("D4z0").a)(t),availableBlockTypes:o,availableWrapperBlockTypes:r}},apply(t,o,i,a){const c=r()(r()({},o),{},{currentBlockType:s(o.availableBlockTypes,a),blockTypesDisabled:Object(n("D4z0").a)(a)});return c.currentBlockType===o.currentBlockType&&c.blockTypesDisabled===o.blockTypesDisabled||e(l,c),c}},key:l,props:{handleKeyDown:(e,t)=>{const r=n("2aOk").b.indexOf(t.keyCode);if(r>-1&&t.altKey){if(n("j5wO").a.mac&&t.metaKey)return c(r,e);if(!n("j5wO").a.mac&&t.ctrlKey&&o!==t.DOM_KEY_LOCATION_RIGHT)return c(r,e)}else"Alt"===t.key?o=t.location:t.altKey||(o=0);return!1}}})}},t0jr:function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"g",(function(){return f})),
n.d(t,"i",(function(){return m})),n.d(t,"c",(function(){return g}));var o=n("3tO9"),r=n.n(o),i=n("MEpN"),a=n("UxO+");const s=Object(n("SVcB").c)({action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.TEXT,actionSubjectId:n("J5HJ").c.LINE_BREAK,eventType:n("J5HJ").e.TRACK})(function(){return function(e,t){const{$from:n}=e.selection,o=n.parent,{hardBreak:r}=e.schema.nodes;if(r){const n=r.createChecked();if(o&&o.type.validContent(i.Fragment.from(n)))return t&&t(e.tr.replaceSelectionWith(n,!1)),!0}return e.selection instanceof a.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)}}()),c=(e,t)=>!(Object(n("D4z0").c)(e)||!d(e))&&(u(false)(e,t),!0),l=(e,t)=>!(Object(n("D4z0").b)(e)||!d(e))&&(u(true)(e,t),!0);function d(e){const{selection:{$from:t}}=e,n=t.node(t.depth),o=!!n&&n.type===e.schema.nodes.codeBlock,r=e.selection instanceof a.NodeSelection;return t.depth>1||r||o}function u(e=!0){return function(t,n){const o=t.schema.nodes.paragraph;if(!o)return!1;let r
;if(t.selection instanceof a.TextSelection){if(function(e){const t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}(t))return!1;r=function(e,t){const{$from:n,$to:o}=e.selection;let r;r=t?o.end(0):n.start(0);return r}(t,e)}else r=function(e,t){const{$from:n,$to:o}=e.selection,r=e.selection instanceof a.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),i=r&&"mediaGroup"===r.type.name;let s;t?(s=o.end(o.depth),s=o.depth>0&&!i?s+1:s):(s=n.start(n.depth),s=n.depth>0&&!i?s-1:s);return s}(t,e);const i=t.tr.insert(r,o.createAndFill());return i.setSelection(a.TextSelection.create(i.doc,r+1)),n&&n(i),!0}}function p(e){const{doc:{type:{schema:{nodes:{paragraph:t}}}},doc:n}=e;!n.lastChild||n.lastChild.type===t&&0===n.lastChild.content.size||t&&e.insert(n.content.size,t.createAndFill()),e.setSelection(a.TextSelection.create(e.doc,e.doc.content.size-1)),e.scrollIntoView()}const h=e=>(t,n)=>{const{from:o,to:i}=t.selection,a=t.tr
;return t.doc.nodesBetween(o,i,((n,o)=>{n.type===t.schema.nodes.mediaSingle&&a.setNodeMarkup(o,void 0,r()(r()({},n.attrs),{},{layout:"center"===e?"center":`align-${e}`}))})),!(!a.docChanged||!n)&&(n(a.scrollIntoView()),!0)},f=(e,t,n)=>(o,r,i,a)=>{let s=!1;return a.doc.nodesBetween(o,r,((o,r,c)=>{if(!o.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(o.type)>-1:n(a.schema,o,c)))&&c.type.allowsMarkType(e)){const n=o.marks.filter((t=>t.type===e)),a=n.length?n[0].attrs:void 0,c=t(a,o);void 0!==c&&(i.setNodeMarkup(r,o.type,o.attrs,o.marks.filter((t=>!e.excludes(t.type))).concat(!1===c?[]:e.create(c))),s=!0)}})),s},m=(e,t,o)=>(r,i)=>{let a=!1;const s=r.tr,c=f(e,t,o);if(r.selection instanceof n("n1Ll").a)r.selection.forEachCell(((e,t)=>{a=c(t,t+e.nodeSize,s,r)}));else{const{from:e,to:t}=r.selection;a=c(e,t,s,r)}return!(!a||!s.docChanged)&&(i&&i(s.scrollIntoView()),!0)},g=(e,t)=>{const n=e.tr;return n.replace(0,e.doc.nodeSize-2),n.setSelection(a.Selection.atStart(n.doc)),!!t&&(t(n),
!0)}},t73I:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},r={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"}},thbo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf")
;const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="ChevronRightIcon";var a=i;t.default=a},tkcb:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f}));var o=n("3tO9"),r=n.n(o),i=n("MEpN"),a=n("UxO+"),s=n("mG1W");const c={text:"",color:"neutral"},l=(e=0)=>(t,o)=>{const s=o.schema.nodes.status.createChecked(r()(r()({},c),{},{localId:n("klzq").b.generate()})),l=o.schema.text(" "),d=t(i.Fragment.from([s,l]),{selectInlineNode:!0
}),u=d.selection.from+e;return d.setSelection(a.NodeSelection.create(d.doc,u)).setMeta(n("KwUl").a,{showStatusPickerAt:u,isNew:!0})},d=e=>(t,o)=>{const{schema:l}=t,d=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||n("klzq").b.generate()}):e,u=r()(r()({},c),d);let p=t.tr;const{showStatusPickerAt:h}=n("KwUl").a.getState(t);if(!h){const e=l.nodes.status.createChecked(u),r=i.Fragment.fromArray([e,t.schema.text(" ")]);if(Object(s.canInsert)(p.selection.$from,r))p.insert(p.selection.from,r).setSelection(a.NodeSelection.create(p.doc,p.selection.from-r.size));else{const e=a.NodeSelection.create(p.doc,p.selection.from-p.selection.$anchor.parentOffset-1);p.insert(e.to,r).setSelection(a.NodeSelection.create(p.doc,e.to+1))}return p.setMeta(n("KwUl").a,{showStatusPickerAt:p.selection.from,isNew:!0}).scrollIntoView(),o&&o(p),!0}return!!t.doc.nodeAt(h)&&(p.setNodeMarkup(h,l.nodes.status,u).setSelection(a.NodeSelection.create(p.doc,h)).setMeta(n("KwUl").a,{showStatusPickerAt:h
}).scrollIntoView(),o&&o(p),!0)},u=(e,t)=>Object(n("SVcB").c)({action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:n("J5HJ").c.STATUS,attributes:{inputMethod:e},eventType:n("J5HJ").e.TRACK})(d(t)),p=e=>(t,o)=>(o(t.tr.setMeta(n("KwUl").a,{showStatusPickerAt:e,isNew:!1})),!0),h=e=>(t,n)=>{const o=t.tr;return o.replace(e,e+1),n&&n(o),!0},f=()=>e=>{const{state:t,dispatch:o}=e,{showStatusPickerAt:r}=n("KwUl").a.getState(t);if(!r)return;const i=t.tr.doc.nodeAt(r);if(!i)return;let s=t.tr;s=s.setMeta(n("KwUl").a,{showStatusPickerAt:null,isNew:!1}),i.attrs.text?s.selection.from===r&&(s=s.setSelection(a.Selection.near(t.tr.doc.resolve(r+2)))):s=s.delete(r,r+1),o(s),e.focus()}},tlwB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("3tO9"),r=n.n(o);const i=r()(r()({},n("plA4").d),n("mPGz").c),a=({cloudId:e,aggregatorUrl:t})=>{const o=new(n("Mx8g").a)({cloudId:e,url:t||"/gateway/api/xpsearch-aggregator",
siteMasterList:[]});return{search:async function({query:e,scopes:t,resultLimit:n,analytics:r}){return o.search({query:e,context:{sessionId:r.sessionId?r.sessionId:"not-applicable",referrerId:null},scopes:t,modelParams:[],resultLimit:n,filters:[],experience:`external-${r.identifier}`})}}}},u0qK:function(e,t,n){"use strict";var o=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function s(e,t){return a[t.toLowerCase()]}function c(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||(n.content=n.content.replace(i,s)),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}function l(e){var t,n,r=0
;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||r||o.test(n.content)&&(n.content=n.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(r.test(e.tokens[t].content)&&c(e.tokens[t].children),o.test(e.tokens[t].content)&&l(e.tokens[t].children))}},u98z:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>t=>("problem"in e&&Object(n("IWa1").a)(e),t.setMeta(n("aTJx").d,e))},uDCx:function(e,t,n){"use strict";var o=n("JRPe");t.a=Object(o.defineMessages)({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},
"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{
id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",
description:"Name of a color"}})},uFei:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");function r(e,t,n){Object(o.useEffect)((()=>(window.addEventListener(e,t,n),()=>{window.removeEventListener(e,t,n)})),[e,t,n])}},uOGI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("collabEditPlugin")},usqY:function(e,t,n){"use strict";function o(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!o(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},vNjH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="\u200b"},vRZh:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),
n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l}));var o=n("UxO+");function r(e){const{selection:t,doc:n}=e;return n.nodeSize-t.$to.pos-2===t.$to.depth}function i(e){const{selection:t}=e;return t.$from.pos===t.$from.depth}function a(e){const{selection:t}=e,{$to:r}=t;return!(t instanceof n("g1AK").a)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||l(r)===r.pos+1)}function s(e){const{selection:t}=e,{$from:r}=t;return!(t instanceof n("g1AK").a)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||c(r)===r.pos)}function c(e){return e.start(e.depth)}function l(e){return e.end(e.depth)+1}},vRhk:function(e,t,n){"use strict";n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),
n.d(t,"g",(function(){return m}));var o=n("3tO9"),r=n.n(o),i=n("UxO+"),a=n("mG1W");const s=e=>Object(n("n683").a)({type:"SET_EXPAND_REF",data:{ref:e}},(e=>e.setMeta("addToHistory",!1))),c=(e,t)=>(o,r)=>{if(!t||isNaN(e))return!1;const i={action:n("J5HJ").a.DELETED,actionSubject:t.type===o.schema.nodes.expand?n("J5HJ").b.EXPAND:n("J5HJ").b.NESTED_EXPAND,attributes:{inputMethod:n("J5HJ").f.TOOLBAR},eventType:n("J5HJ").e.TRACK};return t&&r&&r(Object(n("SVcB").a)(o,o.tr.delete(e,e+t.nodeSize),i)),!0},l=()=>(e,t)=>{const o=Object(n("P8UZ").a)(e);return!!o&&c(o.pos,o.node)(e,t)},d=(e,t,n)=>(o,i)=>{const a=o.doc.nodeAt(t);if(a&&a.type===n&&i){const{tr:n}=o;n.setNodeMarkup(t,a.type,r()(r()({},a.attrs),{},{title:e}),a.marks),i(n)}return!0},u=(e,t)=>(o,i)=>{const a=o.doc.nodeAt(e);if(a&&a.type===t&&i){const{tr:s}=o,c=!a.attrs.__expanded;s.setNodeMarkup(e,a.type,r()(r()({},a.attrs),{},{__expanded:c}),a.marks),
!1===c&&Object(n("P8UZ").a)(o)&&s.setSelection(new(n("g1AK").a)(s.doc.resolve(e+a.nodeSize),n("g1AK").b.RIGHT));const l={action:n("J5HJ").a.TOGGLE_EXPAND,actionSubject:t===o.schema.nodes.expand?n("J5HJ").b.EXPAND:n("J5HJ").b.NESTED_EXPAND,attributes:{platform:n("xLu2").d.WEB,mode:n("xLu2").c.EDITOR,expanded:c},eventType:n("J5HJ").e.TRACK};i(Object(n("SVcB").a)(o,s.setMeta("isRemote",!0),l))}return!0},p=e=>{const{expand:t,nestedExpand:o}=e.schema.nodes;return(Object(n("zYPQ").c)(e.selection)?o:t).createAndFill({})},h=(e,t)=>{const o=p(e),r={action:n("J5HJ").a.INSERTED,actionSubject:n("J5HJ").b.DOCUMENT,actionSubjectId:o.type===e.schema.nodes.expand?n("J5HJ").c.EXPAND:n("J5HJ").c.NESTED_EXPAND,attributes:{inputMethod:n("J5HJ").f.INSERT_MENU},eventType:n("J5HJ").e.TRACK};return t&&t(Object(n("SVcB").a)(e,Object(a.safeInsert)(o)(e.tr).scrollIntoView(),r)),!0},f=e=>(t,n,o)=>{if(o){const r=o.domAtPos(e).node.parentElement;if(r){m(t,n,o);const e=r.querySelector("input");if(e)return e.focus(),
!0}}return!1},m=(e,t,n)=>{const{tr:o,doc:r,selection:a}=e;return n&&!n.hasFocus()&&n.focus(),t&&t(o.setSelection(i.TextSelection.create(r,a.from))),!0}},vWgF:function(e,t,n){"use strict";e.exports=n("rO12")},vYhH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("q1tI");function r(e){const[t,n]=Object(o.useState)(e),r=Object(o.useRef)(t);return r.current=t,[r,n]}},vsMl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm4-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorAlignImageCenterIcon";var a=i;t.default=a},vsOh:function(t,n,o){"use strict"
;o.d(n,"a",(function(){return a}));var r=o("ScxJ");class i{constructor(e,t,n){switch(t){case o("tlwB").a.ConfluencePageBlog:case o("tlwB").a.JiraIssue:break;default:throw new Error(`Unsupported scope - ${t}`)}this.scope=t,this.cloudId=e;const r={cloudId:e,aggregatorUrl:n};this.client=Object(o("tlwB").b)(r)}getAriString(t){try{return new r.ResourceIdentifier(t).toString()}catch(e){return""}}confluencePageBlogResponseTransformer(e){return e?e.results.map((e=>({title:e.title,url:e.baseUrl+e.url,container:e.container.title,contentType:this.mapToContentType(e.content&&e.content.type),updatedTimestamp:e.lastModified,objectId:this.getAriString({resourceOwner:"confluence",cloudId:this.cloudId,resourceType:"content",resourceId:e.content&&e.content.id})}))):[]}jiraIssueResponseTransformer(e){return e?e.results.map((e=>({title:e.name,url:e.url,container:e.attributes.container&&e.attributes.container.title||"",contentType:this.mapToContentType(e.attributes["@type"],e.attributes.issueTypeName),
updatedTimestamp:e.attributes.updated,objectId:this.getAriString({resourceOwner:"jira",cloudId:this.cloudId,resourceType:"issue",resourceId:e.id})}))):[]}mapToContentType(e,t){switch(e){case"issue":switch(t){case"Bug":return"jira.issue.bug";case"Story":return"jira.issue.story";case"Task":return"jira.issue.task";default:return"jira.issue"}case"page":return"confluence.page";case"blogpost":return"confluence.blogpost";default:return"default"}}async quickSearch(e,t){const n=await this.client.search({query:e,scopes:[this.scope],analytics:{identifier:"editor-quick-search"},resultLimit:t});switch(this.scope){case o("tlwB").a.ConfluencePageBlog:{const e=n.response.retrieveScope(this.scope);return this.confluencePageBlogResponseTransformer(e)}case o("tlwB").a.JiraIssue:{const e=n.response.retrieveScope(this.scope);return this.jiraIssueResponseTransformer(e)}default:throw new Error(`Unsupported scope - ${this.scope}`)}}}const a=(e,t,n)=>new i(e,t,n)},"vys+":function(e,t,n){"use strict"
;e.exports=function(e,t,n,o){var r,i,a,s,c,l,d,u=!1,p=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>h)return!1;if(126!==(r=e.src.charCodeAt(p))&&96!==r)return!1;if(c=p,(i=(p=e.skipChars(p,r))-c)<3)return!1;if(d=e.src.slice(c,p),a=e.src.slice(p,h),96===r&&a.indexOf(String.fromCharCode(r))>=0)return!1;if(o)return!0;for(s=t;!(++s>=n)&&!((p=c=e.bMarks[s]+e.tShift[s])<(h=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(p)===r&&!(e.sCount[s]-e.blkIndent>=4||(p=e.skipChars(p,r))-c<i||(p=e.skipSpaces(p))<h)){u=!0;break}return i=e.sCount[t],e.line=s+(u?1:0),(l=e.push("fence","code",0)).info=a,l.content=e.getLines(t+1,s,i,!0),l.markup=d,l.map=[t,e.line],!0}},w4ej:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);const s=n("vOnD").default.span.withConfig({componentId:"sc-1ni4791-0"})`flex:0 0 16px;height:16px;width:16px;color:${e=>e.showPlaceholder?"#7A869A":Object(n("56zV").a)({
light:"#36B37E",dark:"#57D9A3"})};margin:4px ${1.5*Object(n("7w+A").h)()}px 0 0;> span{margin:-8px;}`;class c extends i.PureComponent{render(){const{appearance:e,children:t,contentRef:o,placeholder:r,showPlaceholder:i,dataAttributes:c}=this.props,l=a.a.createElement(s,{showPlaceholder:i},a.a.createElement(n.n(n("efs6")).a,{label:"Decision",size:"large"}));return a.a.createElement(n("zvNc").a,{appearance:e,contentRef:o,icon:l,placeholder:r,showPlaceholder:i,itemType:"DECISION",dataAttributes:c},t)}}c.displayName="DecisionItem",r()(c,"defaultProps",{appearance:"inline"})},wBzk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("mediaPlugin")},wFWU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return d}));var o=n("UxO+"),r=n("mG1W");const i={[n("+ld7").a.LEFT]:-1,[n("+ld7").a.RIGHT]:1,[n("+ld7").a.UP]:-1,
[n("+ld7").a.DOWN]:1,[n("+ld7").a.BACKWARD]:-1,[n("+ld7").a.FORWARD]:1};const a=(e,t)=>(a,s,c)=>{const{doc:l,schema:d,selection:u,tr:p}=a;let h=Object(n("+ld7").b)(e)?u.$from:u.$to,f=u.empty;if(u instanceof o.TextSelection){if(!t||!t(e.toString()))return!1;if(e===n("+ld7").a.UP&&!Object(n("vRZh").b)(a)&&Object(n("183E").e)(l,d,h,-1)||e===n("+ld7").a.DOWN&&(Object(n("vRZh").d)(a)||Object(n("183E").e)(l,d,h,1)))return!1;h=l.resolve(Object(n("+ld7").b)(e)?h.before():h.after()),f=!1}if(u instanceof o.NodeSelection){if(u.node.isInline)return!1;if(e===n("+ld7").a.UP||e===n("+ld7").a.DOWN)return!1}if(!function(e,t){const{doc:r,schema:a,selection:s}=t;let c=Object(n("+ld7").b)(e)?s.$from:s.$to;if(s instanceof o.TextSelection){if((e===n("+ld7").a.UP&&!Object(n("vRZh").b)(t)||e===n("+ld7").a.DOWN&&!Object(n("vRZh").d)(t))&&Object(n("183E").b)(r,c,a,i[e]))return!1;if(e===n("+ld7").a.LEFT||e===n("+ld7").a.RIGHT){const t=Object(n("183E").b)(r,c,a,i[e]),{mediaSingle:o}=a.nodes
;if(t&&t.type===o&&("wrap-right"===t.attrs.layout||"wrap-left"===t.attrs.layout))return!1}}if(s instanceof o.NodeSelection&&(e===n("+ld7").a.LEFT||e===n("+ld7").a.RIGHT)){const e=r.nodeAt(s.$from.pos),{mediaSingle:t}=a.nodes;if(e&&e.type===t&&("wrap-right"===e.attrs.layout||"wrap-left"===e.attrs.layout))return!1}return!0}(e,a))return!1;if(u instanceof n("g1AK").a&&Object(n("FhBN").a)(Object(n("+ld7").b)(e)?h.nodeBefore:h.nodeAfter)&&(Object(n("+ld7").b)(e)&&u.side===n("g1AK").b.LEFT||Object(n("+ld7").c)(e)&&u.side===n("g1AK").b.RIGHT))return s&&s(p.setSelection(new(n("g1AK").a)(h,u.side===n("g1AK").b.RIGHT?n("g1AK").b.LEFT:n("g1AK").b.RIGHT)).scrollIntoView()),!0;if(c){const e=c.domAtPos.bind(c),t=Object(r.findDomRefAtPos)(h.pos,e);if(t&&t.textContent===n("vNjH").a)return!1}const m=n("g1AK").a.findFrom(h,Object(n("+ld7").b)(e)?-1:1,f);return!!m&&(Object(n("FhBN").a)(Object(n("+ld7").c)(e)?m.$from.nodeBefore:m.$from.nodeAfter)?(s&&s(p.setSelection(m).scrollIntoView()),
!0):(s&&s(p.setSelection(new(n("g1AK").a)(m.$from,Object(n("+ld7").c)(e)?n("g1AK").b.LEFT:n("g1AK").b.RIGHT)).scrollIntoView()),!0))},s=e=>(t,i)=>{if(t.selection instanceof n("g1AK").a){const{$from:a,$anchor:s}=t.selection;let{tr:c}=t;if(Object(n("+ld7").b)(e)){if("left"===t.selection.side)return c.setSelection(new(n("g1AK").a)(s,n("g1AK").b.RIGHT)),i&&i(c),!0;c=Object(r.removeNodeBefore)(t.tr)}else a.nodeAfter&&(c=c.delete(a.pos,a.pos+a.nodeAfter.nodeSize));return i&&i(c.setSelection(o.Selection.near(c.doc.resolve(c.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1},c=(e,t=n("g1AK").b.LEFT)=>(o,r)=>{if(e>o.doc.content.size)return!1;const i=o.doc.resolve(e);return!!n("g1AK").a.valid(i)&&(r&&r(o.tr.setSelection(new(n("g1AK").a)(i,t))),!0)},l=(e,t,r,i,a)=>{const s=((e,t,o,r)=>{const i=t.getBoundingClientRect();if(e.clientY<i.top)return{position:0,side:n("g1AK").b.LEFT};if(i.left>0){const t=o({left:i.left,top:e.clientY});if(t&&t.inside>-1){
const o=r.doc.resolve(t.inside).before(1),a=e.clientX<i.left?n("g1AK").b.LEFT:n("g1AK").b.RIGHT;let s;if(a===n("g1AK").b.LEFT)s=o;else{const e=r.doc.nodeAt(o);e&&(s=o+e.nodeSize)}return{position:s,side:a}}}return null})(t,r,i,e);if(!s)return;const c=void 0!==s.position?e.doc.resolve(s.position):null;if(null===c)return;if((s.side===n("g1AK").b.LEFT?Object(n("FhBN").a)(c.nodeAfter):Object(n("FhBN").a)(c.nodeBefore))&&n("g1AK").a.valid(c))e.selection instanceof n("g1AK").a?e.setSelection(o.Selection.near(c)):e.setSelection(new(n("g1AK").a)(c,s.side));else if(!1===a){const t=o.Selection.findFrom(c,s.side===n("g1AK").b.LEFT?1:-1,!0);t&&e.setSelection(t)}},d=e=>Boolean(n("AYiB").a.get(e))},wIOw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.138 13.026a.98.98 0 00.386 1.366 1.066 1.066 0 001.421-.371C8.051 12.167 10.104 11 12.37 11c2.437 0 4.619 1.351 5.648 3.429.246.498.868.71 1.388.473.519-.238.74-.833.493-1.333C18.528 10.802 15.618 9 12.37 9c-3.02 0-5.759 1.557-7.232 4.026z"/><path d="M4.5 10v3.9c0 .607.494 1.1 1.102 1.1h3.896a1 1 0 100-2H6.503v-3A1 1 0 004.5 10z"/></g></svg>'},e));i.displayName="UndoIcon";var a=i;t.default=a},wT6a:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=({node:e,type:t})=>{if(!e.attrs.parameters)return;const{macroMetadata:n}=e.attrs.parameters;if(n&&n.placeholder){let e;return n.placeholder.forEach((n=>{n.type===t&&n.data&&n.data.url&&(e=n.data)})),e}}},wVC1:function(t,n,o){"use strict";o.d(n,"a",(function(){return H}));var r=o("3tO9"),i=o.n(r),a=o("lSNA"),s=o.n(a),c=o("q1tI"),l=o.n(c),d=o("rW+m");function u(e,t){if(t){
t(e).fire(o("oBfe").a)}}var p=o("TP7S"),h=o.n(p),f=o("3WX/"),m=o.n(f);function g(e){const{isAutoPlay:t,isHDAvailable:n,isHDActive:o,isLargePlayer:r,isFullScreenEnabled:i,playbackSpeed:a,status:s,currentTime:c,volume:l,duration:d,isMuted:u}=e;return m()({isAutoPlay:t,isHDAvailable:n,isHDActive:o,playbackSpeed:a,isLargePlayer:r,isFullScreenEnabled:i,durationInSec:d&&parseInt(`${d}`,10),absoluteTimeInSec:c&&parseInt(`${c}`,10),relativeTime:d&&c&&d>0?Math.round(c/d*100)/100:void 0,status:s,volume:l,isMuted:u},h.a)}const b=e=>e.charAt(0).toUpperCase()+e.slice(1),v=["","moz","webkit","ms"],y=(e,t)=>{Array.isArray(t)||(t=[t]);for(let n=0;n<t.length;n++)for(let o=0;o<v.length;o++){const r=v[o]+t[n];if(e[r])return r;const i=v[o]+b(t[n]);if(e[i])return i}},E=()=>y(document,["fullScreenElement","fullscreenElement"]),w=e=>{E()?(()=>{const e=y(document,["exitFullscreen","exitFullScreen"]);document[e]&&document[e]()})():e&&(e=>{const t=y(e,["requestFullscreen","requestFullScreen"]);e[t]&&e[t]()})(e)
};var O=o("JRPe");const S=[];var C=e=>{S.forEach((t=>{t!==e&&t.pause()}))},T=e=>{-1===S.indexOf(e)&&(e=>{S.push(e)})(e)},x=e=>{(e=>{const t=S.indexOf(e);t>-1&&S.splice(t,1)})(e)};const k=e=>`time-saver-default-time-${e}`;class I{constructor(e){this.config=e}get defaultTime(){if(this.config&&localStorage)try{const e=localStorage.getItem(k(this.config.contentId));if(e)return JSON.parse(e)}catch(e){}return 0}set defaultTime(t){if(this.config&&localStorage)try{localStorage.setItem(k(this.config.contentId),JSON.stringify(t))}catch(e){}}}class A extends c.Component{constructor(...e){super(...e),s()(this,"state",{popupHeight:255}),s()(this,"onPlaybackSpeedChange",(e=>{const{onPlaybackSpeedChange:t}=this.props;if(!e)return;t(parseFloat(`${e.value}`))})),s()(this,"speedOptions",(()=>[{label:l.a.createElement(O.FormattedMessage,o("XU+y").a.playbackSpeed),options:[{label:"0.75x",value:.75},{label:"1x",value:1},{label:"1.25x",value:1.25},{label:"1.5x",value:1.5},{label:"2x",value:2}]}])),
s()(this,"popupCustomStyles",{container:e=>i()(i()({},e),{},{backgroundColor:"#091E42"}),menuList:e=>i()(i()({},e),{},{padding:"4px 0px"}),option:(e,{isFocused:t,isSelected:n})=>i()(i()({},e),{},{color:n?"#FFFFFF":"inherit",backgroundColor:n?"#2684FF":t?"#344563":"#091E42"})}),s()(this,"onResize",(e=>{const{originalDimensions:t}=this.props;if(t){const n=t.height/t.width,o=60,r=100,i=Math.max(n*e-o,r);this.setState({popupHeight:i})}window.dispatchEvent(new CustomEvent("scroll"))}))}render(){const{playbackSpeed:e,intl:t,onClick:n}=this.props,{popupHeight:r}=this.state,a=this.speedOptions()[0].options.find((t=>t.value===e));return l.a.createElement(l.a.Fragment,null,l.a.createElement(o("qBu9").a,{setWidth:this.onResize}),l.a.createElement(o("p/Kl").a,{minMenuWidth:140,maxMenuHeight:r,options:this.speedOptions(),value:a,theme:e=>i()(i()({},e),{},{colors:i()(i()({},e.colors),{},{primary25:"#344563"})}),closeMenuOnScroll:!0,onChange:this.onPlaybackSpeedChange,
target:({ref:r,isOpen:i})=>l.a.createElement(o("Yto1").a,{content:t.formatMessage(o("XU+y").a.playbackSpeed),position:"top"},l.a.createElement(o("HZs0").a,{testId:"custom-media-player-playback-speed-toggle-button",buttonRef:r,isSelected:i,onClick:n},e,"x")),styles:this.popupCustomStyles,popperProps:{strategy:"fixed",modifiers:[{name:"preventOverflow",enabled:!0},{name:"eventListeners",options:{scroll:!0,resize:!0}},{name:"offset",enabled:!0,options:{offset:[0,10]}}],placement:"top"}}))}}A.displayName="PlaybackSpeedControls";var N=Object(O.injectIntl)(A);const M=o("vOnD").default.div.withConfig({componentId:"f2gz15-0"})`width:100%;height:100%;cursor:pointer;`;M.displayName="PlayPauseBlanket";var R=o("pVnL"),j=o.n(R);function P(e){return l.a.createElement("svg",j()({viewBox:"0 0 24 24",width:"24",height:"24"},e),l.a.createElement("path",{fill:"currentColor",
d:"M5.414 6.95a1 1 0 001.414-1.414L6.293 5H12a7 7 0 11-7 7 1 1 0 10-2 0 9 9 0 109-9H6.536l.292-.293a1 1 0 10-1.414-1.414L3.293 3.414a1 1 0 000 1.414L5.414 6.95z"}),l.a.createElement("path",{fill:"currentColor",d:"M10.494 9.15l-.02-.095a.75.75 0 00-.962-.516l-1.5.503-.094.039a.75.75 0 00-.379.91l.039.095c.163.331.55.5.91.378L9 10.293v4.457l.007.1a.75.75 0 001.493-.1v-5.5l-.006-.1z"}),l.a.createElement("path",{fill:"currentColor",d:"M14 15.5c1.15 0 1.788-.894 2.049-1.415.305-.611.451-1.35.451-2.085 0-.69-.11-1.429-.406-2.055C15.81 9.345 15.157 8.5 14 8.5c-1.15 0-1.788.894-2.049 1.415-.305.611-.451 1.35-.451 2.085 0 .735.146 1.474.451 2.085.26.521.899 1.415 2.049 1.415zm1-3.5c0 1.105-.448 2-1 2s-1-.895-1-2 .448-2 1-2c.633 0 1 .895 1 2z"}))}function D(e){return l.a.createElement(o("UnwW").b,j()({glyph:P},e))}function L(e){return l.a.createElement("svg",j()({viewBox:"0 0 24 24",width:"24",height:"24"},e),l.a.createElement("path",{fill:"currentColor",
d:"M18.586 6.95a1 1 0 11-1.414-1.414L17.707 5H12a7 7 0 107 7 1 1 0 112 0 9 9 0 11-9-9h5.465l-.293-.293a1 1 0 111.414-1.414l2.121 2.121a1 1 0 010 1.414L18.586 6.95z"}),l.a.createElement("path",{fill:"currentColor",d:"M10.475 9.055l.019.095.006.1v5.5a.75.75 0 01-1.493.1L9 14.75v-4.457l-.511.171a.75.75 0 01-.911-.378l-.039-.094a.75.75 0 01.379-.911l.094-.039 1.5-.503a.75.75 0 01.963.516z"}),l.a.createElement("path",{fill:"currentColor",d:"M14 15.5c1.15 0 1.788-.894 2.049-1.415.305-.611.451-1.35.451-2.085 0-.69-.11-1.429-.406-2.055C15.81 9.345 15.157 8.5 14 8.5c-1.15 0-1.788.894-2.049 1.415-.305.611-.451 1.35-.451 2.085 0 .735.146 1.474.451 2.085.26.521.899 1.415 2.049 1.415zm1-3.5c0 1.105-.448 2-1 2s-1-.895-1-2 .448-2 1-2c.633 0 1 .895 1 2z"}))}function _(e){return l.a.createElement(o("UnwW").b,j()({glyph:L},e))}class B extends c.Component{constructor(...e){super(...e),s()(this,"videoState",{isLoading:!0,buffered:0,currentTime:0,volume:1,status:"paused",duration:0,isMuted:!1}),
s()(this,"wasPlayedOnce",!1),s()(this,"lastCurrentTime",0),s()(this,"timeSaver",new I(this.props.lastWatchTimeConfig)),s()(this,"state",{isFullScreenEnabled:!1,isLargePlayer:!0,playbackSpeed:1}),s()(this,"onFullScreenChange",(e=>{if(e.target!==this.videoWrapperRef)return;const{isFullScreenEnabled:t}=this.state,n=!!E();t!==n&&this.setState({isFullScreenEnabled:n})})),s()(this,"onTimeChanged",(()=>{this.createAndFireUIEvent("timeRangeNavigate","time")})),s()(this,"onVolumeChanged",(()=>{this.createAndFireUIEvent("volumeRangeNavigate","volume")})),s()(this,"onCurrentTimeChange",((e,t)=>{this.timeSaver.defaultTime=t-e>60?e:0})),s()(this,"renderCurrentTime",(({currentTime:e,duration:t})=>l.a.createElement(o("O7vh").c,{draggable:!1},Object(o("+JSQ").a)(e)," / ",Object(o("+JSQ").a)(t)))),s()(this,"renderHDButton",(()=>{const{type:e,isHDAvailable:t,isHDActive:n,onHDToggleClick:r}=this.props;if("audio"===e||!t)return;const i=n?"#2684FF":"#9FB0CC",a=n?"#FFFFFF":"#313D52"
;return l.a.createElement(o("HZs0").a,{testId:"custom-media-player-hd-button",onClick:r?this.getMediaButtonClickHandler(r,"HDButton"):void 0,iconBefore:l.a.createElement(o.n(o("/Tz6")).a,{primaryColor:i,secondaryColor:a,label:"hd"})})})),s()(this,"onPlaybackSpeedChange",(e=>{this.actions&&(this.actions.setPlaybackSpeed(e),this.setState({playbackSpeed:e}),this.createAndFireUIEvent("playbackSpeedChange"))})),s()(this,"renderSpeedControls",(()=>{const{playbackSpeed:e}=this.state,{originalDimensions:t}=this.props;return l.a.createElement(N,{originalDimensions:t,playbackSpeed:e,onPlaybackSpeedChange:this.onPlaybackSpeedChange,onClick:()=>this.createAndFireUIEvent("mediaButtonClick","playbackSpeedButton")})})),s()(this,"renderVolume",((e,t,n)=>l.a.createElement(o("O7vh").s,{showSlider:n},l.a.createElement(o("O7vh").r,{isMuted:e.isMuted},l.a.createElement(o("O7vh").h,{isMuted:e.isMuted}),l.a.createElement(o("HZs0").a,{testId:"custom-media-player-volume-toggle-button",
onClick:this.getMediaButtonClickHandler(t.toggleMute,"muteButton"),iconBefore:l.a.createElement(o.n(o("Atkv")).a,{label:"volume"})})),n&&l.a.createElement(o("O7vh").q,null,l.a.createElement(o("zwen").a,{onChange:t.setVolume,duration:1,currentTime:e.volume,bufferedTime:e.volume,disableThumbTooltip:!0,isAlwaysActive:!0,onChanged:this.onVolumeChanged}))))),s()(this,"toggleFullscreen",(()=>w(this.videoWrapperRef))),s()(this,"onFullScreenButtonClick",(()=>{this.toggleFullscreen(),this.createAndFireUIEvent("mediaButtonClick","fullScreenButton")})),s()(this,"onResize",(e=>this.setState({isLargePlayer:e>400}))),s()(this,"saveVideoWrapperRef",(e=>this.videoWrapperRef=e)),s()(this,"renderFullScreenButton",(()=>{const{intl:{formatMessage:e},type:t}=this.props;if("audio"===t)return;const{isFullScreenEnabled:n}=this.state,r=n?l.a.createElement(o.n(o("XNlX")).a,{label:e(o("XU+y").a.disable_fullscreen)}):l.a.createElement(o.n(o("WZiQ")).a,{label:e(o("XU+y").a.enable_fullscreen)})
;return l.a.createElement(o("HZs0").a,{testId:"custom-media-player-fullscreen-button",onClick:this.onFullScreenButtonClick,iconBefore:r})})),s()(this,"renderDownloadButton",(()=>{const{onDownloadClick:e}=this.props;if(e)return l.a.createElement(o("HZs0").a,{testId:"custom-media-player-download-button",onClick:this.getMediaButtonClickHandler(e,"downloadButton"),iconBefore:l.a.createElement(o.n(o("s49W")).a,{label:"download"})})})),s()(this,"renderShortcuts",(({togglePlayPauseAction:e,toggleMute:t,skipBackward:n,skipForward:r})=>{const{isShortcutEnabled:i}=this.props,{isFullScreenEnabled:a}=this.state,s=(i||a)&&[l.a.createElement(o("UZy+").a,{key:"space-shortcut",code:o("UZy+").b.space,handler:this.getKeyboardShortcutHandler(e,"space")}),l.a.createElement(o("UZy+").a,{key:"m-shortcut",code:o("UZy+").b.m,handler:this.getKeyboardShortcutHandler(t,"mute")})];return s&&a&&(s.push(l.a.createElement(o("UZy+").a,{key:"skip-backward-shortcut",code:o("UZy+").b.leftArrow,
handler:this.getKeyboardShortcutHandler(n,"leftArrow")})),s.push(l.a.createElement(o("UZy+").a,{key:"skip-forward-shortcut",code:o("UZy+").b.rightArrow,handler:this.getKeyboardShortcutHandler(r,"rightArrow")}))),s})),s()(this,"renderPlayPauseButton",(e=>{const{intl:{formatMessage:t}}=this.props,n=e?l.a.createElement(o.n(o("xusP")).a,{label:t(o("XU+y").a.pause)}):l.a.createElement(o.n(o("7u2m")).a,{label:t(o("XU+y").a.play)});return l.a.createElement(o("Yto1").a,{content:t(e?o("XU+y").a.pause:o("XU+y").a.play),position:"top"},l.a.createElement(o("HZs0").a,{testId:"custom-media-player-play-toggle-button","data-test-is-playing":e,iconBefore:n,onClick:e?this.pausePlayByButtonClick:this.startPlayByButtonClick}))})),s()(this,"renderSkipBackwardButton",(e=>{const{intl:{formatMessage:t}}=this.props;return l.a.createElement(o("Yto1").a,{content:t(o("XU+y").a.skipBackward),position:"top"},l.a.createElement(o("HZs0").a,{testId:"custom-media-player-skip-backward-button",
iconBefore:l.a.createElement(D,{label:t(o("XU+y").a.skipBackward)}),onClick:this.getMediaButtonClickHandler(e,"skipBackwardButton")}))})),s()(this,"renderSkipForwardButton",(e=>{const{intl:{formatMessage:t}}=this.props;return l.a.createElement(o("Yto1").a,{content:t(o("XU+y").a.skipForward),position:"top"},l.a.createElement(o("HZs0").a,{testId:"custom-media-player-skip-forward-button",iconBefore:l.a.createElement(_,{label:t(o("XU+y").a.skipForward)}),onClick:this.getMediaButtonClickHandler(e,"skipForwardButton")}))})),s()(this,"renderSpinner",(()=>l.a.createElement(o("O7vh").j,null,l.a.createElement(o("6UK4").a,{appearance:"invert",size:"large"})))),s()(this,"pause",(()=>{this.actions&&this.actions.pause()})),s()(this,"play",(()=>{const{onFirstPlay:e}=this.props;this.actions&&this.actions.play(),C(this),!this.wasPlayedOnce&&e&&(this.wasPlayedOnce=!0,e())})),s()(this,"getMediaButtonClickHandler",((e,t)=>()=>{e(),this.createAndFireUIEvent("mediaButtonClick",t)})),
s()(this,"getKeyboardShortcutHandler",((e,t)=>()=>{const{showControls:n}=this.props;e(),n&&n(),this.createAndFireUIEvent("shortcutPress",t)})),s()(this,"onViewed",(e=>{const{createAnalyticsEvent:t,fileId:n,isAutoPlay:o,isHDAvailable:r,isHDActive:a,type:s}=this.props,{isFullScreenEnabled:c,isLargePlayer:l,playbackSpeed:d}=this.state,{status:p,currentTime:h}=e;"playing"===p&&(h<this.lastCurrentTime||h>=this.lastCurrentTime+2)&&(u(((e,t,n)=>({eventType:"track",action:"played",actionSubject:"customMediaPlayer",actionSubjectId:n,attributes:i()({type:e,playbackAttributes:g(t)},n&&{fileAttributes:{fileId:n}})}))(s,i()(i()({},e),{},{isAutoPlay:o,isHDAvailable:r,isHDActive:a,isFullScreenEnabled:c,isLargePlayer:l,playbackSpeed:d}),n),t),this.lastCurrentTime=h)})),s()(this,"resetPendingPlayPauseToggleTimer",(()=>{void 0!==this.clickToTogglePlayTimoutId&&clearTimeout(this.clickToTogglePlayTimoutId)})),s()(this,"doubleClickToFullscreen",(()=>{this.resetPendingPlayPauseToggleTimer(),
this.toggleFullscreen()})),s()(this,"togglePlayByBlanketClick",(e=>{this.resetPendingPlayPauseToggleTimer(),this.clickToTogglePlayTimoutId=setTimeout((()=>{e(),this.createAndFireUIEvent("playPauseBlanketClick")}),200)})),s()(this,"startPlayByBlanketClick",(()=>{this.togglePlayByBlanketClick(this.play)})),s()(this,"pausePlayByBlanketClick",(()=>{this.togglePlayByBlanketClick(this.pause)})),s()(this,"startPlayByButtonClick",this.getMediaButtonClickHandler(this.play,"playButton")),s()(this,"pausePlayByButtonClick",this.getMediaButtonClickHandler(this.pause,"pauseButton"))}componentDidMount(){const{type:e,fileId:t,isAutoPlay:n,isHDAvailable:o,isHDActive:r,onFirstPlay:a,createAnalyticsEvent:s}=this.props,{isFullScreenEnabled:c,isLargePlayer:l,playbackSpeed:d}=this.state;u(((e,t,n)=>({eventType:"screen",actionSubject:"customMediaPlayerScreen",actionSubjectId:n,name:"customMediaPlayerScreen",attributes:i()({type:e,playbackAttributes:g(t)},n&&{fileAttributes:{fileId:n}})}))(e,{isAutoPlay:n,
isHDAvailable:o,isHDActive:r,isFullScreenEnabled:c,isLargePlayer:l,playbackSpeed:d},t),s),this.videoWrapperRef&&this.videoWrapperRef.addEventListener("fullscreenchange",this.onFullScreenChange),T(this),n&&(C(this),a&&(u(((e,t,n)=>({eventType:"track",action:"firstPlayed",actionSubject:"customMediaPlayer",actionSubjectId:n,attributes:i()({type:e,playbackAttributes:g(t)},n&&{fileAttributes:{fileId:n}})}))(e,{isAutoPlay:n,isHDAvailable:o,isHDActive:r,isFullScreenEnabled:c,isLargePlayer:l,playbackSpeed:d},t),s),this.wasPlayedOnce=!0,a()))}componentWillUnmount(){this.videoWrapperRef&&this.videoWrapperRef.removeEventListener("fullscreenchange",this.onFullScreenChange),x(this)}setActions(e){this.actions||(this.actions=e)}createAndFireUIEvent(e,t){const{type:n,fileId:o,isHDActive:r,isHDAvailable:a,isAutoPlay:s,createAnalyticsEvent:c}=this.props,{isFullScreenEnabled:l,isLargePlayer:d,playbackSpeed:p}=this.state,h=i()(i()({},this.videoState),{},{isAutoPlay:s,isHDAvailable:a,isHDActive:r,
isFullScreenEnabled:l,isLargePlayer:d,playbackSpeed:p});let f;switch(e){case"mediaButtonClick":f=function(e,t,n,o){return{eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:n,attributes:i()({type:e,playbackAttributes:g(t)},o&&{fileAttributes:{fileId:o}})}}(n,h,t,o);break;case"shortcutPress":f=function(e,t,n,o){return{eventType:"ui",action:"pressed",actionSubject:"shortcut",actionSubjectId:n,attributes:i()({type:e,playbackAttributes:g(t)},o&&{fileAttributes:{fileId:o}})}}(n,h,t,o);break;case"playPauseBlanketClick":f=function(e,t,n){return{eventType:"ui",action:"clicked",actionSubject:"playPauseBlanket",attributes:i()({type:e,playbackAttributes:g(t)},n&&{fileAttributes:{fileId:n}})}}(n,h,o);break;case"timeRangeNavigate":case"volumeRangeNavigate":f=function(e,t,n,o){return{eventType:"ui",action:"navigated",actionSubject:"timeRange",actionSubjectId:n,attributes:i()({type:e,playbackAttributes:g(t)},o&&{fileAttributes:{fileId:o}})}}(n,h,t,o);break
;case"playbackSpeedChange":f=function(e,t,n){return{eventType:"ui",action:"changed",actionSubject:"playbackSpeed",attributes:i()({type:e,playbackAttributes:g(t)},n&&{fileAttributes:{fileId:n}})}}(n,h,o);break;default:f={eventType:"ui",action:"default",actionSubject:"customMediaPlayer",attributes:{type:n}}}u(f,c)}render(){const{type:e,src:t,isAutoPlay:n,onCanPlay:r,onError:i}=this.props;return l.a.createElement(o("O7vh").f,{innerRef:this.saveVideoWrapperRef,"data-testid":"custom-media-player"},l.a.createElement(d.a,{sourceType:e,src:t,autoPlay:n,onCanPlay:r,defaultTime:this.timeSaver.defaultTime,onTimeChange:this.onCurrentTimeChange,onError:i},((e,t,n)=>{this.onViewed(t),this.setActions(n),this.videoState=t;const{status:r,currentTime:i,buffered:a,duration:s,isLoading:c}=t,{isLargePlayer:d}=this.state,u="playing"===r,p=()=>{const e=t.currentTime-10;n.navigate(Math.max(e,0))},h=()=>{const e=t.currentTime+10;n.navigate(Math.min(e,t.duration))},f=this.renderShortcuts({
togglePlayPauseAction:u?this.pause:this.play,toggleMute:n.toggleMute,skipBackward:p,skipForward:h});return l.a.createElement(o("O7vh").p,null,l.a.createElement(o("qBu9").a,{setWidth:this.onResize}),f,c&&this.renderSpinner(),l.a.createElement(M,{onDoubleClick:this.doubleClickToFullscreen,onClick:u?this.pausePlayByBlanketClick:this.startPlayByBlanketClick,"data-testid":"play-pause-blanket"},e),l.a.createElement(o("O7vh").b,{className:"mvng-hide-controls"},l.a.createElement(o("O7vh").n,null,l.a.createElement(o("zwen").a,{currentTime:i,bufferedTime:a,duration:s,onChange:n.navigate,onChanged:this.onTimeChanged})),l.a.createElement(o("O7vh").o,null,l.a.createElement(o("O7vh").g,null,this.renderPlayPauseButton(u),this.renderSkipBackwardButton(p),this.renderSkipForwardButton(h),this.renderVolume(t,n,d)),l.a.createElement(o("O7vh").i,null,d&&this.renderCurrentTime(t),this.renderHDButton(),this.renderSpeedControls(),this.renderFullScreenButton(),this.renderDownloadButton()))))})))}}
B.displayName="CustomMediaPlayerBase";const H=Object(o("sHzn").a)({packageVersion:o("y2so").b,packageName:o("y2so").a,componentName:"customMediaPlayer",component:"customMediaPlayer"},{filterFeatureFlags:[]})(Object(o("VHV8").a)()(Object(O.injectIntl)(B)))},wWYC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var o=n("3tO9"),r=n.n(o);const i=(e,t,o,r)=>{if(!e.cols[t+1])return e;const i=l(e,t+1,t,o),a=o-i.amount;let s=i.state;return a>0&&(s=d(s,t,a).state),r?Object(n("zsjf").b)(s,r,t):s},a=(e,t,o,r)=>{const i=l(e,t,t+1,-o);let a=i.state;const s=Object(n("zsjf").f)(a)>a.maxSize;if(!a.cols[t+1]&&!s)return a;const c=o+i.amount;return c<0&&(a=d(a,t+1,c).state),r?Object(n("zsjf").b)(a,r,t):a};function s(e,t,o=[]){let i=t;for(;i>0;){const t=e.cols.filter((e=>Object(n("J2HQ").d)(e)&&-1===o.indexOf(e.index)));if(0===t.length)break;const a=Math.floor(i/t.length);if(0===a)break;t.forEach((t=>{let n=t.width-a
;if(n<t.minWidth){const e=t.minWidth-n;n=t.minWidth,i=i-a+e}else i-=a;e=r()(r()({},e),{},{cols:[...e.cols.slice(0,t.index),r()(r()({},t),{},{width:n}),...e.cols.slice(t.index+1)]})}))}return e}var c;function l(e,t,o,i,a=!0){const s=e.cols[t],l=e.cols[o];if(a){const e=Object(n("J2HQ").d)(s);p(c.DEST)(i)>e&&(i=i>0?e:-e)}p(c.SOURCE)(i)<0&&h(c.SOURCE)(i,s,l)<s.minWidth&&(i=s.width-s.minWidth);const d=l?r()(r()({},l),{},{width:h(c.DEST)(i,s,l)}):void 0;if(!d&&p(c.SOURCE)(i)<0){const t=Object(n("zsjf").f)(e);t-s.width+h(c.SOURCE)(i,s,l)<e.maxSize&&(i=e.maxSize-(t-s.width)-s.width-1)}const u=r()(r()({},s),{},{width:h(c.SOURCE)(i,s,l)}),f=e.cols.map(((e,n)=>n===t?u:n===o?d:e)).filter(Boolean);return{state:r()(r()({},e),{},{cols:f}),amount:i}}function d(e,t,o){let i=function(e,t,n){const o=e.cols;return n<0?o.slice(0,t):o.slice(t+1)}(e,t,o);for(;i.length&&o;){let a=u(i,o);if(-1===a){if(o>0)return{state:r()(r()({},e),{},{cols:[...e.cols.slice(0,t),r()(r()({},e.cols[t]),{},{
width:e.cols[t].width+o}),...e.cols.slice(t+1)]}),remaining:o};break}const s=i.find((e=>e.index===a));if(!s||Object(n("J2HQ").d)(s)<=0)break;const c=l(e,s.index,t,o);e=c.state,o-=c.amount,i=i.filter((e=>e.index!==a))}return{state:e,remaining:o}}function u(e,t){if(0===e.length)return-1;"left"===(t<0?"left":"right")&&(e=e.slice().reverse());let o=-1;return e.forEach((e=>{Object(n("J2HQ").d)(e)&&-1===o&&(o=e.index)})),-1===o?-1:o}function p(e){return t=>e===c.SOURCE?t>0?-t:t:t<0?-t:t}function h(e){return(t,n,o)=>(e===c.SOURCE?n:o).width+p(e)(t)}!function(e){e.SOURCE="src",e.DEST="dest"}(c||(c={}))},wYWE:function(e,t,n){"use strict";let o,r,i;if(n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),"undefined"!=typeof WeakMap){let e=new WeakMap;o=t=>e.get(t),r=(t,n)=>(e.set(t,n),n)}else{let e=[],t=10,n=0;o=t=>{for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1]},r=(o,r)=>(n===t&&(n=0),e[n++]=o,e[n++]=r)}class a{constructor(e,t,n,o){
this.left=e,this.top=t,this.right=n,this.bottom=o}}!function(e){e.COLLISION="collision",e.OVERLONG_ROWSPAN="overlong_rowspan",e.MISSING="missing",e.COLWIDTH_MISMATCH="colwidth mismatch"}(i||(i={}));class s{constructor(e,t,n,o){this.width=e,this.height=t,this.map=n,this.problems=o}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!==e)continue;let o=t%this.width,r=t/this.width|0,i=o+1,s=r+1;for(let e=1;i<this.width&&this.map[t+e]===n;e++)i++;for(let e=1;s<this.height&&this.map[t+this.width*e]===n;e++)s++;return new a(o,r,i,s)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:o,right:r,top:i,bottom:a}=this.findCell(e);return"horiz"===t?(n<0?0===o:r===this.width)?null:this.map[i*this.width+(n<0?o-1:r)]:(n<0?0===i:a===this.height)?null:this.map[o+this.width*(n<0?i-1:a)]}rectBetween(e,t){
let{left:n,right:o,top:r,bottom:i}=this.findCell(e),{left:s,right:c,top:l,bottom:d}=this.findCell(t);return new a(Math.min(n,s),Math.min(r,l),Math.max(o,c),Math.max(i,d))}cellsInRect(e){let t=[],n={};for(let o=e.top;o<e.bottom;o++)for(let r=e.left;r<e.right;r++){let i=o*this.width+r,a=this.map[i];n[a]||(n[a]=!0,r===e.left&&r&&this.map[i-1]===a||o===e.top&&o&&this.map[i-this.width]===a||t.push(a))}return t}positionAt(e,t,n){for(let o=0,r=0;;o++){let i=r+n.child(o).nodeSize;if(o===e){let n=t+e*this.width,o=(e+1)*this.width;for(;n<o&&this.map[n]<r;)n++;return n===o?i-1:this.map[n]}r=i}}static get(e){return o(e)||r(e,function(e){if("table"!==e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let o=0;o<e.childCount;o++){let r=e.child(o),i=0;if(n)for(let t=0;t<o;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let r=n.child(e);t+r.attrs.rowspan>o&&(i+=r.attrs.colspan)}}for(let e=0;e<r.childCount;e++){let t=r.child(e)
;i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,o=[],r=0,a=null,l=[];for(let i=0,s=t*n;i<s;i++)o[i]=0;for(let s=0,c=0;s<n;s++){let d=e.child(s);c++;for(let e=0;;e++){for(;r<o.length&&0!==o[r];)r++;if(e===d.childCount)break;let u=d.child(e),{colspan:p,rowspan:h,colwidth:f}=u.attrs;for(let e=0;e<h;e++){if(e+s>=n){(a||(a=[])).push({type:i.OVERLONG_ROWSPAN,pos:c,n:h-e});break}let d=r+e*t;for(let e=0;e<p;e++){0===o[d+e]?o[d+e]=c:(a||(a=[])).push({type:i.COLLISION,row:s,pos:c,n:p-e});let n=f&&f[e];if(n){let o=(d+e)%t*2,r=l[o];null==r||r!==n&&1===l[o+1]?(l[o]=n,l[o+1]=1):r===n&&l[o+1]++}}}r+=p,c+=u.nodeSize}let u=(s+1)*t,p=0;for(;r<u;)0===o[r++]&&p++;p&&(a||(a=[])).push({type:i.MISSING,row:s,n:p}),c++}let d=new s(t,n,o,a),u=!1;for(let i=0;!u&&i<l.length;i+=2)null!=l[i]&&l[i+1]<n&&(u=!0);u&&function(e,t,n){e.problems||(e.problems=[]);let o={};for(let r=0;r<e.map.length;r++){let a=e.map[r];if(o[a])continue;o[a]=!0
;let s=n.nodeAt(a),l=null;for(let n=0;n<s.attrs.colspan;n++){let o=t[2*((r+n)%e.width)];null==o||s.attrs.colwidth&&s.attrs.colwidth[n]===o||((l||(l=c(s.attrs)))[n]=o)}l&&e.problems.unshift({type:i.COLWIDTH_MISMATCH,pos:a,colwidth:l})}}(d,l,e);return d}(e))}}function c(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}},waWg:function(e,t,n){"use strict";function o(e,t){if("string"==typeof e)return function(e,t){return o=>{const r=Object(n("PoaK").a)(o);if(o&&o[e]&&t){const n=t[o[e]];if(n&&n[r.mode]){const e=n[r.mode];if(e)return e}}return""}}(e,t);const o=e;return e=>{const t=Object(n("PoaK").a)(e);if(t.mode in o){const e=o[t.mode];if(e)return e}return""}}n.d(t,"a",(function(){return o}))},wjJn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 12a4 4 0 100-8 4 4 0 000 8z"/></svg>'},e,{size:"small"}));i.displayName="Bug16Icon";var a=i;t.default=a},wlgv:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var o=n("UxO+");let r;!function(e){e.UPDATE="UPDATE"}(r||(r={}));var i=(e,t)=>{switch(t.type){case r.UPDATE:return{canUndo:t.canUndo,canRedo:t.canRedo}}return e};const a=new o.PluginKey("historyPlugin"),s=()=>({canUndo:!1,canRedo:!1}),{createPluginState:c,getPluginState:l}=Object(n("FJah").a)(a,i);t.a=()=>({name:"history",pmPlugins:()=>[{name:"history",plugin:({dispatch:e})=>(e=>new o.Plugin({state:c(e,s),key:a,appendTransaction:(e,t,n)=>{if(e.find((e=>e.docChanged&&!1!==e.getMeta("addToHistory")))){const e=(e=>{const t=(e=>e.plugins.find((e=>"history$"===e.key)))(e);if(t)return t.getState(e)})(n);if(!e)return
;const t=e.done.eventCount>0,o=e.undone.eventCount>0,{canUndo:i,canRedo:s}=l(n);if(t!==i||o!==s){const e={type:r.UPDATE,canUndo:t,canRedo:o};return n.tr.setMeta(a,e)}}}}))(e)}]})},wqCz:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return d}));var o=n("mG1W");const r=(e,t,n={})=>{var o;const r=[];if(0===t.length)return[];const i=new Set(t);return n.includeDocNode&&i.has(null===(o=e.doc.attrs)||void 0===o?void 0:o.localId)&&r.push({node:e.doc,pos:0}),e.doc.descendants(((e,t)=>{var n;return i.has(null===(n=e.attrs)||void 0===n?void 0:n.localId)&&r.push({node:e,pos:t}),i.size!==r.length})),r},i=(e,t=!1)=>{const{inlineExtension:n,extension:r,bodiedExtension:i}=e.schema.nodes,a=[r,i,n];return Object(o.findSelectedNodeOfType)(a)(e.selection)||t&&Object(o.findParentNodeOfType)(a)(e.selection)||void 0},a=(e,t)=>{
const n=i(e,!0);if(!t)return n;if(n&&n.node.attrs.localId===t)return n;const{inlineExtension:o,extension:r,bodiedExtension:a}=e.schema.nodes,s=[r,a,o];let c;return e.doc.descendants(((e,n)=>{s.includes(e.type)&&e.attrs.localId===t&&(c={node:e,pos:n})})),c},s=(e,t,r)=>{const i=Object(o.findDomRefAtPos)(r.pos,t);return(r.node.type!==e.nodes.bodiedExtension?i.querySelector(".extension-container"):Object(n("9a+x").b)(i,".extension-container")||i.querySelector(".extension-container"))||i},c=e=>{var t;return null===(t=e.marks)||void 0===t?void 0:t.find((e=>"dataConsumer"===e.type.name))},l=(e,t)=>r(t,e,{includeDocNode:!0}).map((({node:e})=>e.type.name)),d=(e,t)=>{const n=r(e,[t]);return n.length>=1?n[0]:void 0}},wtjL:function(e,t,n){"use strict";var o=n("Vwaf").HTML_TAG_RE;e.exports=function(e,t){var n,r,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&(!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122
}(n))&&(!!(r=e.src.slice(a).match(o))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+r[0].length)),e.pos+=r[0].length,!0))))}},"x+VZ":function(t,n,o){"use strict";o.d(n,"h",(function(){return s})),o.d(n,"f",(function(){return c})),o.d(n,"j",(function(){return l})),o.d(n,"g",(function(){return d})),o.d(n,"i",(function(){return p})),o.d(n,"a",(function(){return h})),o.d(n,"m",(function(){return f})),o.d(n,"e",(function(){return g})),o.d(n,"b",(function(){return b})),o.d(n,"k",(function(){return v})),o.d(n,"l",(function(){return y})),o.d(n,"d",(function(){return E})),o.d(n,"c",(function(){return w}));var r=o("MEpN"),i=o("3tO9"),a=o.n(i);function s(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function c(e){if(e.isInline)return(e=>e.isText?!!e.textContent.trim():"hardBreak"!==e.type.name)(e);if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(let t=0;t<e.childCount;t++){if(c(e.child(t)))return!0}return!1}function l(e){if(e&&e.textContent)return!1
;if(!e||!e.childCount||1===e.childCount&&s(e.firstChild))return!0;const t=[],n=[];return e.forEach((e=>{e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((e=>!!e.childCount&&!(1===e.childCount&&s(e.firstChild))||e.isAtom)).length}function d(e){const t=e.content.firstChild;return!(1!==e.childCount||!t)&&s(t)}function u(e){return 1===e.depth}function p(e){const{selection:t}=e,{$cursor:n,$anchor:o}=t;if(!n)return!1;const r=n.node();return!!r&&(s(r)&&u(o))}function h(e){const{selection:t}=e,{$cursor:n,$anchor:o}=t;if(!n)return!1;const r=n.nodeBefore;if(!r)return!1;if("text"===r.type.name&&"{"===r.text){return 0===o.node().marks.length&&u(o)}return!1}function f(t,n,i,a,s,c){if(!n)return;let l;if("string"==typeof n)try{if(s){l=s.parse(n).toJSON()}else l=JSON.parse(n)}catch(e){return void console.error(`Error processing value: ${n} isn't a valid JSON`)}else l=n;if(Array.isArray(l))console.error(`Error processing value: ${l} is an array, but it must be an object.`);else try{
if("doc"===l.type&&(Array.isArray(l.content)&&0===l.content.length&&l.content.push({type:"paragraph",content:[]}),l.version||(l.version=1)),s)return r.Node.fromJSON(t,l);const e=Object(o("TNgD").a)(t,l,c);let n=m(e,i,a);const d=r.Node.fromJSON(t,n);return d.check(),c&&Object(o("zEwg").a)(d,t,c),d}catch(e){return void console.error(`Error processing document:\n${e.message}\n\n`,JSON.stringify(l))}}const m=(e,t,n)=>n&&t?function(e,t){const n=new Map;let r=!1;const i=Object(o("MUVu").a)(e,{mention:e=>{if(e.attrs&&e.attrs.text){r=!0;const t=e.attrs.text,o=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,o)}return a()(a()({},e),{},{attrs:a()(a()({},e.attrs),{},{text:""})})}});if(r&&t){const e=(r,i)=>{i&&i.then((r=>{Object(o("QYFD").d)(r)&&(n.forEach(((e,t)=>{r.cacheMentionName(t,e)})),n.clear(),t.unsubscribe("mentionProvider",e))}))};t.subscribe("mentionProvider",e)}return i}(e,t):e,g=e=>{let t=-1,n=-1;return e.steps.forEach((e=>{e.getMap().forEach(((e,o,r,i)=>{t=r<t||-1===t?r:t,
n=i<n||-1===n?i:n}))})),-1!==t?{from:t,to:n}:null},b=e=>t=>{let n=null;for(let o=t.depth;o>0;o--){const r=t.node(o);e(r)&&(n={pos:o>0?t.before(o):0,start:t.start(o),depth:o,node:r})}return n},v=e=>e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end();function y(e,t,n){const o=g(e);o&&e.doc.nodesBetween(o.from,o.to,t,n)}function E(e){let t={};return e.nodesBetween(0,e.nodeSize-2,(e=>{t[e.type.name]=(t[e.type.name]||0)+1})),t}function w(e,t,n=["wide","full-width"]){const r=new Set;if("doc"===e.type.name&&e.childCount)for(let i=0;i<e.childCount&&r.size!==n.length;++i){const a=Object(o("ioPV").a)(e.child(i),t.marks.breakout);a&&n.includes(a)&&r.add(a)}return[...r]}},x1JX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d}));var o=n("3tO9"),r=n.n(o);function i(e,t){
const o=t.title||e.title,r=`${e.key}:${t.key}`,i=Object(n("4XCL").a)(t.action,e);if(!i)throw new Error(`Couldn't find any action for ${o} (${r})`);return{key:r,title:o,extensionType:e.type,keywords:t.keywords||e.keywords||[],featured:t.featured||!1,categories:t.categories||e.categories||[],description:t.description||e.description,summary:e.summary,documentationUrl:e.documentationUrl,icon:t.icon||e.icons[48],node:i}}const a=(e,t)=>{const n=e.map((e=>(e.modules.quickInsert||[]).map((t=>i(e,t)))));return[].concat(...n).map(t)};async function s(e){const t=await Promise.all(e.map((async e=>e.modules.autoConvert&&e.modules.autoConvert.url?e.modules.autoConvert.url:[])));return[].concat(...t)}async function c(e){const t=await e;return(e=>t=>{for(const n of e){const e=n(t);if(e)return e}})(await t.getAutoConverter())}const l=(e,...t)=>{console.error(e,...t)},d=(e,t,n)=>e.map((e=>{if(e.modules.contextualToolbars){const o=(e=>{if(e.length>1){const t=e.map((e=>e.context))
;return t.find(((e,n)=>n!==t.findIndex((t=>((e,t)=>{if(e.type===t.type&&e.nodeType===t.nodeType){if("node"===e.type)return!0;if("extension"===e.type&&"extension"===t.type)return e.extensionKey===t.extensionKey&&e.extensionType===t.extensionType}return!1})(e,t)))))}})(e.modules.contextualToolbars);return o?(l(`[contextualToolbars] Duplicate context detected - ${JSON.stringify(o)}.`),[]):e.modules.contextualToolbars.map((e=>{if(function(e,t){var n;if("node"===e.context.type&&e.context.nodeType===t.type)return!0;if("extension"!==e.context.type||t.type!==e.context.nodeType)return!1;const{extensionType:o,extensionKey:r}=e.context;if(o&&o!==(null===(n=t.attrs)||void 0===n?void 0:n.extensionType))return!1;var i,a;return"string"==typeof r?r===(null===(i=t.attrs)||void 0===i?void 0:i.extensionKey):!(!Array.isArray(r)||!r.length)&&r.includes(null===(a=t.attrs)||void 0===a?void 0:a.extensionKey)}(e,t)){const{toolbarItems:o}=e;return"function"==typeof o?o(t,n):o}return[]
})).flatMap((t=>t.map((t=>((e,t)=>{const{tooltip:n,key:o,label:i,icon:a,action:s,disabled:c}=e,d=[t,o].join(":");"function"!=typeof s&&l(`Provided action is not a function for extension toolbar button: ${i} (${d})`);let u={};switch(e.display){case"icon":a||l(`icon should be provided for extension toolbar button (${d}), when display is set to 'icon'`),u={icon:a};break;case"label":i||l(`label should be provided for extension toolbar button (${d}), when display is set to 'label'`),u={label:i};break;default:i&&a||l(`label and icon should be provided for extension toolbar button (${d}), when display is not set or set to 'icon-and-label'`),u={icon:a,label:i}}return r()({key:d,tooltip:n,action:s,disabled:c},u)})(t,e.key)))))}return[]})).flatMap((e=>e))},x2he:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=e=>{const{textColor:t}=e.schema.marks;if(t){const{empty:o,ranges:r,$cursor:i}=e.selection
;return!((!o||i)&&!1!==Object(n("RLN1").a)(e.doc,r,t))||!!Object(n("RLN1").b)(t,e.storedMarks||i&&i.marks())}return!0}},x3gE:function(t,n,o){"use strict";var r=o("q1tI"),i=o.n(r),a=o("i8i4"),s=o.n(a);async function c(t,n){let r,a,c;if(await(async e=>window.Dropbox?(window.Dropbox.appKey=e,Promise.resolve()):o.e("e1c4cca18f").then(o.bind(null,"mCVK")).then((()=>{window.Dropbox.appKey=e})))(t),n){let e=await o.e("ca7b27cf97").then(o.bind(null,"YSxk"));r=document.getElementById("twp-dropbox-popup-mount-point"),r||(r=document.createElement("div"),r.id="twp-dropbox-popup-mount-point",document.body.appendChild(r)),s.a.render(i.a.createElement(e.default,{onClose:()=>{}}),r)}try{a=await new Promise(((e,t)=>{window.Dropbox.choose({iframe:n,windowName:n?"twp-dropboxjs-iframe":void 0,success:e,cancel:t})}))}catch(e){return void(r&&s.a.unmountComponentAtNode(r))}if(!a.length)return void(r&&s.a.unmountComponentAtNode(r));const l=a.map((e=>(e=>({type:"inlineCard",attrs:e}))({url:e.link})))
;return c=1===l.length?l[0]:{type:"paragraph",content:l},r&&s.a.unmountComponentAtNode(r),c}n.a=({appKey:t,canMountinIframe:n})=>({title:"Dropbox",type:"com.dropbox.fabric",key:"dropbox",description:"Embed Dropbox file to collaborate with your team",icons:{16:()=>o.e("@atlaskit-internal_editor-dropbox").then(o.bind(null,"d2qm")).then((e=>e.default)),24:()=>o.e("@atlaskit-internal_editor-dropbox").then(o.bind(null,"d2qm")).then((e=>e.default)),48:()=>o.e("@atlaskit-internal_editor-dropbox").then(o.bind(null,"d2qm")).then((e=>e.default))},modules:{quickInsert:[{key:"item",action:()=>new Promise((async(o,r)=>{try{let e=await c(t,n);e?o(e):r()}catch(e){r(e)}}))}]}})},x8g9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=(e,t)=>o=>e?(o.setNodeMarkup(e.pos,void 0,Object.assign({},e.node.attrs,t)),Object(n("oSJA").a)(o)):o},xGQ6:function(e,t,n){"use strict";var o={};function r(e,t,n){var i,a,s,c,l,d="";for("string"!=typeof t&&(n=t,t=r.defaultChars),void 0===n&&(n=!0),
l=function(e){var t,n,r=o[e];if(r)return r;for(r=o[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}(t),i=0,a=e.length;i<a;i++)if(s=e.charCodeAt(i),n&&37===s&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))d+=e.slice(i,i+3),i+=2;else if(s<128)d+=l[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a&&(c=e.charCodeAt(i+1))>=56320&&c<=57343){d+=encodeURIComponent(e[i]+e[i+1]),i++;continue}d+="%EF%BF%BD"}else d+=encodeURIComponent(e[i]);return d}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},xLu2:function(e,t,n){"use strict";let o,r,i,a;n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(o||(o={})),function(e){e.RENDERER="renderer",e.EDITOR="editor"
}(r||(r={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(i||(i={})),function(e){e.LOADING="loading",e.TYPING="typing",e.CLICKING="clicking",e.PASTING="pasting"}(a||(a={}))},xN1B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 5h12a1 1 0 010 2H6a1 1 0 110-2zm0 12h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h12a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorMediaCenterIcon";var a=i;t.default=a},xgJV:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var o=n("lSNA"),r=n.n(o),i=n("TSYQ"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("GP6N");Object(l.b)({background:"white",border:`1px solid ${n("jp2e").d}`,
borderRadius:n("jp2e").e,boxShadow:"0 3px 6px rgba(0, 0, 0, 0.2)",color:"#333",width:350}),Object(l.b)({display:"none"});const d=Object(l.b)({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:350,$nest:{"&.emoji-typeahead-selected":{backgroundColor:n("jp2e").c}}}),u=Object(l.b)({display:"flex",flexDirection:"row",flexWrap:"wrap",verticalAlign:"middle"});Object(l.b)({position:"relative",height:"350px",paddingTop:`${160..toFixed()}px`,boxSizing:"border-box"}),Object(l.b)({textAlign:"center"});class p extends s.PureComponent{constructor(...e){super(...e),r()(this,"onEmojiSelected",(e=>{const{emoji:t,onSelection:o}=this.props;Object(n("M3Ny").a)(e)&&o&&(e.preventDefault(),o(Object(n("l4Cm").q)(t),t,e))})),r()(this,"onEmojiMenuItemMouseMove",(e=>{const{emoji:t,onMouseMove:o}=this.props;o&&o(Object(n("l4Cm").q)(t),t,e)}))}render(){const{selected:e,emoji:t}=this.props,o=a()({"ak-emoji-typeahead-item":!0,[d]:!0,"emoji-typeahead-selected":e})
;return c.a.createElement("div",{className:o,onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":t.shortName},c.a.createElement("div",{className:u},c.a.createElement(n("MV7v").a,{emoji:t})))}}p.displayName="EmojiTypeAheadItem"},xiKR:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const o=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media"],r=e=>!!e&&-1!==o.indexOf(e.type.name)},xusP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 4h2a1 1 0 011 1v14a1 1 0 01-1 1H6a1 1 0 01-1-1V5a1 1 0 011-1zm10 0h2a1 1 0 011 1v14a1 1 0 01-1 1h-2a1 1 0 01-1-1V5a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="VidPauseIcon";var a=i;t.default=a},xuwc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n("q1tI")),r=n("QEuf");const i=e=>o.default.createElement(r.Icon,Object.assign({
dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 01-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 11h-.99a.497.497 0 00-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99a.497.497 0 00-.505-.505h-.99a.497.497 0 00-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 14h-.99a.497.497 0 00-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorDateIcon";var a=i;t.default=a},xy10:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const o=(e,t)=>{
const o=e.toLowerCase().replace(" ","-"),r=Object(n("pvYR").a)(n("uDCx").a,o);return{value:t,label:e,border:n("A977").a,message:r}},r=[],i=[];n("50qd").a.forEach(((e,t)=>{r.push(o(e,t))})),n("50qd").b.forEach(((e,t)=>{i.push(o(e,t))}))},y2so:function(e){e.exports=JSON.parse('{"a":"@atlaskit/media-ui","b":"17.2.0"}')},y4yO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("JRPe");const r=Object(o.defineMessages)({url:{id:"fabric.editor.url",defaultMessage:"Display URL",description:"Convert the card to become a regular text-based hyperlink."},block:{id:"fabric.editor.displayBlock",defaultMessage:"Display card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display inline",description:"Display link with the title only."},embed:{id:"fabric.editor.displayEmbed",defaultMessage:"Display embed",
description:"Display link as an embedded object"},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."},card:{id:"fabric.editor.cardFloatingControls",defaultMessage:"Card options",description:"Options to change card type"},blockCardUnavailable:{id:"fabric.editor.blockCardUnavailable",defaultMessage:"The inline link is inside {node} and cannot have its view changed",description:"Warning message to show the user that this node cannot change its view"},displayOptionUnavailableInParentNode:{id:"fabric.editor.displayOptionUnavailableInParentNode",defaultMessage:"This display option isn't available inside {node}",description:"Warning message to show the user that this node option is not available inside a parent node type"}})},yA3P:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h}));var o=n("q1tI"),r=n.n(o),i=n("vOnD");const a=i.default.div.withConfig({
componentId:"sc-1hkdsig-0"})`width:${40}px;height:${40}px;overflow:hidden;border:1px solid rgba(223,225,229,0.5);border-radius:${Object(n("ARg4").borderRadius)()}px;box-sizing:border-box;display:flex;justify-content:center;align-items:center;div{width:${40}px;height:${40}px;}`,s=i.default.div.withConfig({componentId:"sc-1hkdsig-1"})`display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;line-height:1.4;`,c=i.default.div.withConfig({componentId:"sc-1hkdsig-2"})`white-space:initial;.item-description{font-size:${Object(n("9cwX").ib)(11.67)};color:${"#6B778C"};margin-top:4px;}`,l=i.default.div.withConfig({componentId:"sc-1hkdsig-3"})`flex:0 0 auto;`,d={overflow:"hidden"},u=r.a.memo((({label:e})=>r.a.createElement(n("scwk").default,null))),p=()=>{},h=({item:e,selectedIndex:t,onItemHover:i,onItemClick:h,itemIndex:f})=>{const m=f===t,g=Object(o.useRef)(!1),b=Object(o.useCallback)((()=>{m||g.current||(g.current=!0,i({item:e,index:f}))}),[e,f,i,m])
;Object(o.useLayoutEffect)((()=>{m||(g.current=!1)}),[m]);const{icon:v,title:y,render:E}=e,w=Object(o.useMemo)((()=>r.a.createElement(a,null,v?v():r.a.createElement(u,{label:y}))),[v,y]),O=Object(o.useCallback)((()=>{h(n("FOo9").a.SELECTED,f)}),[h,f]),S=Object(o.useMemo)((()=>{if(!E)return null;const e=E;return r.a.createElement("div",{"aria-selected":m,"aria-label":y,role:"option",tabIndex:0,style:d,onMouseMove:b},r.a.createElement(e,{onClick:O,isSelected:m,onHover:p}))}),[E,O,b,m,y]);return S||r.a.createElement(n("oNmO").a,{onClick:O,onMouseMove:b,elemBefore:w,isSelected:m,"aria-selected":m,"aria-label":e.title,role:"option"},r.a.createElement(s,null,r.a.createElement(c,null,r.a.createElement("div",{className:"item-title"},e.title),e.description&&r.a.createElement("div",{className:"item-description"},e.description)),r.a.createElement(l,null,e.keyshortcut&&r.a.createElement(n("mw/U").h,null,e.keyshortcut))))}},yCVS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}))
;var o=n("JRPe");const r=Object(o.defineMessages)({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",
description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"Team \u2022 {0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"Team \u2022 {0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"Team \u2022 50+ members",
description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"Team \u2022 50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"},TeamMentionHighlightTitle:{id:"fabric.elements.mentions.team.mention.highlight.title",defaultMessage:"Mention your team",description:"Title of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescription:{id:"fabric.elements.mentions.team.mention.highlight.description",defaultMessage:"Get everyone on the page with one click. No team?",description:"Description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescriptionLink:{id:"fabric.elements.mentions.team.mention.highlight.description.link",defaultMessage:"Start one.",
description:"Team creation link in the description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightCloseButtonToolTip:{id:"fabric.elements.mentions.team.meantion.highlight.close.button.tooltip",defaultMessage:"Dismiss",description:"Closes the highlight component when this button is clicked. This text for the tooltip of that button"}})},yIKL:function(e,t,n){"use strict";var o=n("pVnL"),r=n.n(o),i=n("q1tI"),a=n.n(i),s=n("/MKj"),c=n("17x9"),l=n.n(c),d=n("sEfC"),u=n.n(d),p=n("TP7S"),h=n.n(p),f=n("vN+2"),m=n.n(f),g=n("3WX/"),b=n.n(g),v=e=>{const t=Object(i.useCallback)((t=>{const n=t.clipboardData;if(n){const t=n.getData("text");"string"==typeof t&&e.onPaste(t)}}),[e]),n=Object(i.useRef)(null);return Object(i.useEffect)((()=>{if(n.current){const e=n.current;return e.addEventListener("paste",t),()=>{e.removeEventListener("paste",t)}}}),[n,t]),a.a.createElement("div",{ref:n},e.children)}
;const y="issue.details.editor-content-placeholder.";var E=n("3tO9"),w=n.n(E),O=n("JRPe"),S=Object(O.defineMessages)({invalidAltText:{id:"issue-view.common.component.editor.invalid-alt-text",defaultMessage:"The only accepted characters for alt text are letters, numbers, and these symbols: , ' . - _ ( )"}});class C extends i.Component{constructor(...e){super(...e),this.jsonTransformer=void 0}componentDidMount(){this.props.sharedValue&&this.replaceSelection()}componentDidUpdate(e){this.props.sharedAtTimestamp!==e.sharedAtTimestamp&&this.props.sharedValue&&this.replaceSelection()}componentWillUnmount(){this.props.clearSharedValues()}replaceSelection(){const{actions:e,sharedValue:t}=this.props;if(t){const o=Object(n("IJwP").k)(t).content;1===o.length?e.replaceSelection(o[0]):o.length>1&&(this.jsonTransformer||(this.jsonTransformer=new(n("pSE0").JSONTransformer)),e.getValue().then((t=>{
const r=Object(n("IJwP").k)(this.jsonTransformer.encode(t)),i=Object(n("tur2").a)(...r.content,...o),a=this.jsonTransformer.parse(Object(n("IJwP").k)(i));e.replaceDocument(a)})))}}render(){return this.props.children}}C.displayName="ShareAsComment";var T=e=>t=>{const o=(()=>{const e=Object(n("+2Qm").a)();return Object(n("vsOh").a)(e,n("tlwB").a.JiraIssue)})();return a.a.createElement(e,r()({searchProvider:o},t))};const x=/^([\p{L}\p{N},'\.\s\-_\(\)])*$/u,k={provider:{getItems:e=>Promise.resolve(e)}};class I extends i.Component{constructor(...e){super(...e),this.onCancel=()=>{const{onCancel:e}=this.props;"function"==typeof e&&e(this.akEditorRef)},this.onChange=e=>u()((()=>{e.getValue().then((e=>{try{void 0===e||this.props.isDisabled||this.props.onChange(Object(n("IJwP").k)(this.jsonTransformer.encode(e)))}catch(t){n("RDfz").a.safeErrorWithoutCustomerData("issue.details.editor.onChange","error with jsonTransformer.encode",t.messages)}}),m.a)}),50),this.onExpanded=()=>{
this.props.isExpanded||this.props.onExpanded()},this.onSave=e=>()=>{const{onSave:t,onChange:o}=this.props;e.getValue().then((e=>{try{if(void 0!==e&&"function"==typeof t){const r=Object(n("IJwP").i)(Object(n("IJwP").k)(this.jsonTransformer.encode(e)));o(r),t(r)}}catch(r){n("RDfz").a.safeErrorWithoutCustomerData("issue.details.editor.onSave","error with jsonTransformer.encode",r.messages)}}),this.props.onSaveFailure)},this.altTextValidator=e=>{const{intl:t}=this.props;return x.test(e)?[]:[t.formatMessage(S.invalidAltText)]},this.setEditorReactComponentRef=e=>{this.akEditorRef=e},this.getPlaceholder=()=>{const{placeholder:e,intl:t}=this.props;if(e)return e;const n=(()=>[{id:`${y}0`,defaultMessage:"Press {helpShortcut} + / to learn time-saving keyboard shortcuts.",description:"Placeholder showing users how to access the help menu"},{id:`${y}1`,defaultMessage:"We support markdown! Try **bold**, `inline code`, or ``` for code blocks.",
description:"Placeholder that indicates markdown support in the editor"},{id:`${y}2`,defaultMessage:"Pro tip: Type / to add tables, images, code blocks, and more.",description:"Placeholder to prompt use of slash insert command"},{id:`${y}3`,defaultMessage:"Type @ to mention a teammate and notify them about this issue.",description:"Placeholder to prompt use of mentions"},{id:`${y}4`,defaultMessage:"Words not enough? Type : to add emoji. \ud83d\ude0d",description:"Placeholder to prompt use of emoji"}])(),o=(e=>Math.floor(Math.random()*e))(n.length),r=window&&window.navigator&&(e=>/^Mac/.test(e))(window.navigator.platform);return t.formatMessage(n[o],{helpShortcut:r?"\u2318":"Ctrl"})},this.jsonTransformer=new(n("pSE0").JSONTransformer),this.contextIdentifierPromise=void 0,this.mentionProviderPromise=void 0,this.activityProviderPromise=void 0,this.searchProviderPromise=void 0,this.emojiProviderPromise=void 0,this.extensionProviders=void 0,this.autoformattingProviderPromise=void 0,
this.akEditorRef=void 0,this.placeholderText=void 0,this.portalElement=void 0,this.placeholderText=void 0,this.scrollableElement=void 0,this.handleAnalytics=(e,t)=>{Object(n("P3xE").a)()(e,t)},this.contentTransformerProvider=()=>({encode:e=>e,parse:e=>e})}UNSAFE_componentWillMount(){this.placeholderText=this.getPlaceholder(),this.mentionProviderPromise=Promise.resolve(this.props.mentionProvider),this.activityProviderPromise=Promise.resolve(this.props.activityProvider),this.searchProviderPromise=this.props.searchProvider?Promise.resolve(this.props.searchProvider):void 0,this.autoformattingProviderPromise=this.props.autoformattingProvider?Promise.resolve(this.props.autoformattingProvider):null,this.emojiProviderPromise=Object(n("Wzj5").b)(this.props.cloudId&&Object(n("Rp3N").d)(this.props.cloudId),this.props.loggedInUserAccountId),this.contextIdentifierPromise=this.props.contextIdentifier?Promise.resolve(this.props.contextIdentifier):null,
this.extensionProviders=[new(n("pP/b").a)([Object(n("x3gE").a)({appKey:"l5albia6lf64r4n",canMountinIframe:!1})])]}UNSAFE_componentWillReceiveProps(e){e.mentionProvider!==this.props.mentionProvider&&(this.mentionProviderPromise=Promise.resolve(e.mentionProvider)),e.activityProvider!==this.props.activityProvider&&(this.activityProviderPromise=Promise.resolve(e.activityProvider)),e.searchProvider!==this.props.searchProvider&&(this.searchProviderPromise=e.searchProvider?Promise.resolve(e.searchProvider):void 0),e.contextIdentifier!==this.props.contextIdentifier&&(this.contextIdentifierPromise=Promise.resolve(e.contextIdentifier))}componentWillUnmount(){const e=document.body,t=this.portalElement;e&&t&&e.removeChild(t)}render(){return a.a.createElement(n("DUeF").a,{onArrowLeft:m.a,onArrowRight:m.a,onArrowUp:m.a,onArrowDown:m.a},a.a.createElement(n("iAtd").a,{onEscape:this.props.onBlur},a.a.createElement(v,{onPaste:this.props.onPaste},a.a.createElement("div",{className:"issue-editor-start"
}),a.a.createElement(n("GqfY").a,null,a.a.createElement(n("WdXo").a,{render:e=>a.a.createElement(C,{actions:e,sharedValue:this.props.sharedValue,sharedAtTimestamp:this.props.sharedAtTimestamp,clearSharedValues:this.props.clearSharedValues},a.a.createElement(n("Wtre").a,{isExpanded:this.props.isExpanded,onExpand:this.onExpanded,onFocus:this.onExpanded,placeholder:this.props.collapsedPlaceholder?this.props.collapsedPlaceholder:this.props.placeholder},a.a.createElement(n("LVTJ").a,r()({contextIdentifierProvider:this.contextIdentifierPromise,analyticsHandler:this.handleAnalytics,appearance:"comment",defaultValue:this.props.defaultValue,shouldFocus:this.props.shouldFocus,disabled:this.props.isDisabled||this.props.isLoading,onCancel:this.props.onCancel?this.onCancel:void 0,onChange:this.onChange(e),onSave:this.props.onSave?this.onSave(e):void 0,contentTransformerProvider:this.contentTransformerProvider,mentionProvider:this.mentionProviderPromise,activityProvider:this.activityProviderPromise,
searchProvider:this.searchProviderPromise,emojiProvider:this.emojiProviderPromise,extensionProviders:this.extensionProviders?this.extensionProviders:void 0,quickInsert:this.extensionProviders?k:void 0,autoformattingProvider:this.autoformattingProviderPromise,media:{provider:this.props.mediaProvider,allowMediaSingle:!0,allowResizing:!0,allowResizingInTables:!0,allowAltTextOnImages:!0,altTextValidator:this.altTextValidator,allowLinking:!0,featureFlags:Object(n("Sudk").a)(),useMediaPickerPopup:!1},popupsMountPoint:this.props.portalElement||this.portalElement,popupsScrollableElement:void 0,popupsBoundariesElement:this.props.scrollContainerElement,UNSAFE_cards:this.props.jiraCards,placeholder:this.placeholderText,allowHelpDialog:!0,ref:this.setEditorReactComponentRef,allowAnalyticsGASV3:!0},(()=>w()({allowRule:!0,allowTextColor:!0,allowTables:{allowColumnResizing:!0,allowControls:!0,allowHeaderRow:!0,allowHeaderColumn:!0,allowNumberColumn:!0},allowPanel:!0,allowStatus:!0,allowDate:!0
},Object(n("d90y").isIssueViewEditorExpandNodesEnabled)()?{allowExpand:{allowInsertion:!0,allowInteractiveExpand:!0}}:void 0))(),{secondaryToolbarComponents:this.props.isLoading?a.a.createElement(n("6UK4").a,{size:"medium"}):this.props.secondaryToolbarComponents,performanceTracking:Object(n("d90y").getPerformanceTrackingConfiguration)(),trackValidTransactions:Object(n("d90y").getValidTransactionsTrackingConfiguration)(),featureFlags:{codeBidiWarnings:!0,"code-bidi-warnings":!0}}))))})),a.a.createElement("div",{className:"issue-editor-end"}))))}}I.displayName="Editor",I.displayName="Editor",I.contextTypes={getEditorPopupsScrollableElement:l.a.func},I.defaultProps={isExpanded:!1,isExpandedByDefault:!1,isDisabled:!1,isLoading:!1,shouldFocus:!1,defaultValue:(e=>({version:1,type:"doc",content:[{type:"paragraph",content:e?[{type:"text",text:`${e}`}]:[]}]}))(""),mentionEncoder:m.a,clearSharedValues:m.a,mentionProvider:null,contextIdentifier:void 0,mediaProvider:void 0,activityProvider:null,
searchProvider:void 0,collapsedPlaceholder:void 0,placeholder:"",portalElement:void 0,onCancel:void 0,onExpanded:m.a,onSave:void 0,onBlur:m.a,onChange:m.a,onExpandedFailure:m.a,onSaveFailure:m.a,onChangeFailure:m.a,onPaste:m.a};const A=e=>{const t=Object(n("NRyt").d)(),[o,s]=Object(i.useState)(null),c=Object(n("94cx").a)(),l=Object(i.useCallback)((e=>{requestAnimationFrame((()=>{const t=Object(n("410N").a)(e);t&&t!==o&&s(t)}))}),[o]);return a.a.createElement("div",e.useDeprecatedGetScrollParent?{ref:l}:{},a.a.createElement(I,r()({},e,{intl:t,scrollContainerElement:e.scrollParent||o,loggedInUserAccountId:c})))};A.displayName="EditorWithIssueContainerRef";t.a=Object(n("v5q+").a)([Object(n("BxXc").a)(((e,t)=>b()({onExpanded:()=>e("expand"),onSave:t.onSave?()=>e("save"):void 0,onCancel:t.onCancel?()=>e("cancel"):void 0},h.a))),Object(s.connect)((e=>({baseUrl:Object(n("4dgq").f)(e),cloudId:Object(n("4dgq").i)(e)})),{}),n("2ppJ").a,n("34gM").a,n("ligd").a,T])(A)},yKnv:function(e,t,n){
"use strict";function o(e,t){var n,o,r,i,a,s;for(n=t.length-1;n>=0;n--)95!==(o=t[n]).marker&&42!==o.marker||-1!==o.end&&(r=t[o.end],s=n>0&&t[n-1].end===o.end+1&&t[n-1].token===o.token-1&&t[o.end+1].token===r.token+1&&t[n-1].marker===o.marker,a=String.fromCharCode(o.marker),(i=e.tokens[o.token]).type=s?"strong_open":"em_open",i.tag=s?"strong":"em",i.nesting=1,i.markup=s?a+a:a,i.content="",(i=e.tokens[r.token]).type=s?"strong_close":"em_close",i.tag=s?"strong":"em",i.nesting=-1,i.markup=s?a+a:a,i.content="",s&&(e.tokens[t[n-1].token].content="",e.tokens[t[o.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,o,r=e.pos,i=e.src.charCodeAt(r);if(t)return!1;if(95!==i&&42!==i)return!1;for(o=e.scanDelims(e.pos,42===i),n=0;n<o.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:o.length,jump:n,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0},e.exports.postProcess=function(e){
var t,n=e.tokens_meta,r=e.tokens_meta.length;for(o(e,e.delimiters),t=0;t<r;t++)n[t]&&n[t].delimiters&&o(e,n[t].delimiters)}},"yQD/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var o=n("q1tI"),r=n.n(o);function i(){return r.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",focusable:"false","aria-hidden":!0},r.a.createElement("rect",{width:"40",height:"40",fill:"white"}),r.a.createElement("path",{d:"M8 13C8 12.4477 8.44772 12 9 12H40V28H9C8.44772 28 8 27.5523 8 27V13Z",fill:"#E6FCFF"}),r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("path",{d:"M19.9999 16.2222C15.5817 16.2222 12.2222 19.5818 12.2222 24H16.0093C16.0093 21.7962 17.7964 20.0093 19.9999 20.0093V16.2222Z",fill:"#8767AC"}),r.a.createElement("path",{d:"M12 23.9998H12.676C12.676 19.9578 15.9502 16.6809 19.9909 16.676V16C15.5767 16.0051 12 19.5847 12 23.9998Z",fill:"#EB2027"}),r.a.createElement("path",{
d:"M12.6851 24H13.3517C13.3517 20.3262 16.3273 17.3478 19.9999 17.3429V16.6762C15.9593 16.6811 12.6851 19.958 12.6851 24Z",fill:"#F19020"}),r.a.createElement("path",{d:"M13.3518 24H14.0185C14.0185 20.6945 16.6956 18.0145 20 18.0096V17.3429C16.3274 17.3478 13.3518 20.3262 13.3518 24Z",fill:"#FFCB4C"}),r.a.createElement("path",{d:"M14.0184 24H14.6851C14.6851 21.0629 17.064 18.6811 20 18.6762V18.0096C16.6955 18.0144 14.0184 20.6944 14.0184 24Z",fill:"#5C903F"}),r.a.createElement("path",{d:"M14.6851 24H15.3517C15.3517 21.4311 17.4322 19.348 19.9999 19.3431V18.6762C17.0639 18.6811 14.6851 21.0629 14.6851 24Z",fill:"#226798"})),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(12 16)"}))))}},yUK8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n("UxO+").PluginKey)("typeAheadPlugin")},yYBl:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}))
;var o=n("JRPe");const r=Object(o.defineMessages)({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste or search for link",description:"Paste or search for link"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",defaultMessage:"Please enter a valid link.",
description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."}});t.a=Object(o.defineMessages)({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",
defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},removeEmoji:{id:"fabric.editor.removeEmoji",defaultMessage:"Remove emoji",description:"Remove the emoji panel icon from custom panel"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},
bulletList:{id:"fabric.editor.tooltip.bulletList",defaultMessage:"a list",description:"a list item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},
copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}})},yg4z:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const o={"\u2026":"...","\u2192":"->","\u2190":"<-","\u2013":"--","\u201c":'"',"\u201d":'"',"\u2018":"'","\u2019":"'"},r=new RegExp(`[${Object.keys(o).join("")}]`,"g"),i=(e,t,i)=>{const{schema:a}=i.doc.type,{mention:s,text:c,emoji:l}=a.nodes;Object(n("D4z0").g)(i.doc,e,t,(e=>{const{mention:t,text:n,emoji:o}=e.nodes;return(e,r,i)=>{if(e.type===t||e.type===o||e.type===n)return i.isTextblock}})(a)).forEach((({node:t,pos:n})=>{if(t.type===s||t.type===l)((e,t,n,o)=>{const r=o.mapping.map(e),{schema:i}=o.doc.type;o.replaceWith(r,r+t,i.text(n))})(n,t.nodeSize,t.attrs.text,i);else if(t.type===c&&t.text){((e,t,n)=>{
const{schema:i}=n.doc.type;let a;for(;a=r.exec(t);){const{0:t,index:r}=a,s=n.mapping.map(e+r),c=i.text(o[t]);n.replaceWith(s,s+t.length,c)}})(n>e?n:e,n>e?t.text:t.text.substr(e-n),i)}}))}},ymbq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={MENTION_CONTAINER:"mentionView-content-wrap"}},ytXc:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));var o=n("mG1W");function r(e){const t=e.doc.nodeAt(e.pos);let r=null;if(Object(n("EvmU").d)(t))r=e.pos;else{const t=Object(o.findParentNodeClosestToPos)(e,n("EvmU").d);r=t&&t.pos}if(null==r)return null;const i=e.doc.nodeAt(r);return i?{node:i,pos:r}:null}function i(e){const t=e.doc.nodeAt(e.pos),r=Object(n("EvmU").c)(t)?e:Object(o.findParentNodeClosestToPos)(e,n("EvmU").c);if(!r||null===r.pos)return null;const i=e.doc.nodeAt(r.pos);return i?{node:i,pos:r.pos}:null}function a(e){const{doc:t}=e;if(e.pos+1>t.content.size)return null
;if(0===e.depth)return t.resolve(e.pos+1);const r=t.nodeAt(e.pos),i=e.before(),s=t.nodeAt(i);if(Object(n("EvmU").d)(r)&&!Object(n("EvmU").c)(s))return t.resolve(e.pos+1);const c=Object(o.findParentNodeClosestToPos)(e,n("EvmU").d);if(!c)return null;return a(t.resolve(c.pos))}},z2Kr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=async(e,t)=>{const o=Object(n("tcin").a)(e),r={issueKey:t},{data:i,errors:a}=await o.query({query:"\n    query IssueExistence($issueKey: String!) {\n        viewIssue(issueKey: $issueKey) {\n            issueId\n        }\n    }\n",variables:r});if(null!=a&&a.length>0){const[{message:e}]=a;throw new Error(e)}return null!=(null==i?void 0:i.viewIssue)}},"zQ/W":function(e,t,n){"use strict";var o=n("AGgm").normalizeReference,r=n("AGgm").isSpace;e.exports=function(e,t){var n,i,a,s,c,l,d,u,p,h="",f=e.pos,m=e.posMax,g=e.pos,b=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(c=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1
;if((l=s+1)<m&&40===e.src.charCodeAt(l)){for(b=!1,l++;l<m&&(i=e.src.charCodeAt(l),r(i)||10===i);l++);if(l>=m)return!1;for(g=l,(d=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(h=e.md.normalizeLink(d.str),e.md.validateLink(h)?l=d.pos:h=""),g=l;l<m&&(i=e.src.charCodeAt(l),r(i)||10===i);l++);if(d=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<m&&g!==l&&d.ok)for(p=d.str,l=d.pos;l<m&&(i=e.src.charCodeAt(l),r(i)||10===i);l++);else p="";(l>=m||41!==e.src.charCodeAt(l))&&(b=!0),l++}if(b){if(void 0===e.env.references)return!1;if(l<m&&91===e.src.charCodeAt(l)?(g=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?a=e.src.slice(g,l++):l=s+1):l=s+1,a||(a=e.src.slice(c,s)),!(u=e.env.references[o(a)]))return e.pos=f,!1;h=u.href,p=u.title}return t||(e.pos=c,e.posMax=s,e.push("link_open","a",1).attrs=n=[["href",h]],p&&n.push(["title",p]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=l,e.posMax=m,!0}},zRNw:function(e,t,n){"use strict"
;var o=n("q1tI"),r=n.n(o),i=n("UxO+"),a=n("pDqG"),s=n("3tO9"),c=n.n(s);const l=({typeAheadHandlers:e,removeDecorations:t,createDecorations:o})=>{const r=(e=>t=>t instanceof n("cblB").b&&e.find((e=>e.trigger===t.trigger))||null)(e),i=(e,{tr:n,triggerHandler:r,inputMethod:i,reopenQuery:a,selectedIndex:s})=>{t(e.decorationSet);const{decorationSet:l,decorationElement:d,stats:u}=o(n,{triggerHandler:r,inputMethod:i,reopenQuery:a});return c()(c()({},e),{},{stats:u,decorationSet:l,triggerHandler:r,decorationElement:d,inputMethod:i,selectedIndex:"number"==typeof s?s:0,items:[],query:a||""})},s=e=>(t(e.decorationSet),c()(c()({},e),{},{inputMethod:null,query:"",decorationElement:null,decorationSet:a.b.empty,stats:null,triggerHandler:void 0,items:[]}));return(e,o,a)=>{const l=e.getMeta(n("yUK8").a)||{},d=r(a);if(a&&d&&(e=>{if(!(e instanceof n("cblB").b))return!1;const t=e.isInsertionStep()&&e.stage===n("cblB").a.DELETING_RAW_QUERY,o=e.isUndoingStep()&&e.stage===n("cblB").a.INSERTING_ITEM
;return t||o})(a))return i(o,{tr:e,triggerHandler:d,inputMethod:n("J5HJ").f.KEYBOARD,reopenQuery:a.query,selectedIndex:a.selectedIndex});if((e=>{if(!(e instanceof n("cblB").b))return!1;const t=e.isInsertionStep()&&e.stage===n("cblB").a.INSERTING_ITEM,o=e.isUndoingStep()&&e.stage===n("cblB").a.DELETING_RAW_QUERY;return t||o})(a))return s(o);const{action:u,params:p}=l||{},h=u===n("Y+O0").a.OPEN_TYPEAHEAD_AT_CURSOR&&Object(n("Wd+7").f)(null==p?void 0:p.triggerHandler),f=e.selectionSet&&(e.isGeneric||Boolean(e.getMeta("pointer"))),m=[n("Y+O0").a.CLOSE_TYPE_AHEAD,n("Y+O0").a.INSERT_ITEM].includes(u)||f,g=u===n("Y+O0").a.CHANGE_QUERY,b=u===n("Y+O0").a.UPDATE_LIST_ITEMS,v=u===n("Y+O0").a.UPDATE_SELECTED_INDEX;if(h)return i(o,{tr:e,triggerHandler:p.triggerHandler,inputMethod:p.inputMethod});if(m)return s(o);if(g)return c()(c()({},o),{},{query:p.query});if(b){const{items:e}=p,{selectedIndex:t}=o;return c()(c()({},o),{},{items:e,selectedIndex:Math.max(t>=e.length?e.length-1:t,0)})}
if(v)return c()(c()({},o),{},{selectedIndex:p.selectedIndex});if(e.docChanged){const{decorationSet:n}=o,r=()=>{t(o.decorationSet)},i=n.map(e.mapping,e.doc,{onRemove:r});return c()(c()({},o),{},{decorationSet:i})}return o}};var d=n("i8i4"),u=n.n(d),p=n("EcEN"),h=n.n(p),f=n("TKQA"),m=n("JRPe"),g=n("hyZr"),b=n("vOnD");let v,y;!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(v||(v={})),function(e){e.BEFORE_TEXT_INSERTED="BEFORE_TEXT_INSERTED",e.AFTER_TEXT_INSERTED="AFTER_TEXT_INSERTED"}(y||(y={}));const E=b.default.span.withConfig({componentId:"wi97wd-0"})`outline:none;`,w=r.a.memo((({triggerQueryPrefix:e,cancel:t,onQueryChange:i,onItemSelect:a,selectNextItem:s,selectPreviousItem:c,forceFocus:l,reopenQuery:d,onQueryFocus:u,onUndoRedo:p})=>{const h=Object(o.useRef)(document.createElement("span")),m=Object(o.useCallback)((()=>(h.current.textContent||"").replace(n("vNjH").a,"")),[]),g=Object(o.useCallback)((e=>{const t=m();i(t)}),[i,m]),b=Object(o.useCallback)((e=>{
const o=Object(f.keyName)(e),r=document.getSelection(),i=h.current.textContent||"",l=m();let d=!1;switch(o){case" ":0===l.length&&(t({forceFocusOnEditor:!0,text:" ",addPrefixTrigger:!0,setSelectionAt:y.AFTER_TEXT_INSERTED}),d=!0);break;case"Escape":t({text:l,forceFocusOnEditor:!0,addPrefixTrigger:!0,setSelectionAt:y.AFTER_TEXT_INSERTED});break;case"Backspace":i!==n("vNjH").a&&0!==i.length&&0!==(null==r?void 0:r.anchorOffset)||(e.stopPropagation(),e.preventDefault(),t({forceFocusOnEditor:!0,text:l,addPrefixTrigger:!1,setSelectionAt:y.BEFORE_TEXT_INSERTED}));break;case"Enter":a(e.shiftKey?n("FOo9").a.SHIFT_ENTER:n("FOo9").a.ENTER);break;case"Tab":a(n("FOo9").a.TAB);break;case"ArrowDown":s();break;case"ArrowUp":c()}const u=(e=>{const t=Object(f.keyName)(e);return e.ctrlKey&&"y"===t||(e.ctrlKey||e.metaKey)&&e.shiftKey&&"Z"===t?"historyRedo":!(!e.ctrlKey&&!e.metaKey||"z"!==t)&&"historyUndo"})(e);if(p&&u&&p(u)&&(d=!0),
(e=>["Enter","Tab","ArrowDown","ArrowUp"].includes(e.key))(e)||d)return e.stopPropagation(),e.preventDefault(),!1}),[p,a,s,t,c,m]),v=Object(o.useCallback)((e=>(e.stopPropagation(),e.preventDefault(),u(),h.current.focus(),!1)),[u]);return Object(o.useEffect)((()=>{if(!h.current)return;const{current:e}=h,o=e=>{u()},r=e=>{const n=Object(f.keyName)(e);if(["ArrowLeft","ArrowRight"].includes(n)&&document.getSelection&&document.getSelection()){const o=h.current.textContent||"",r=document.getSelection(),i=r&&"ArrowRight"===n&&r.anchorOffset===o.length,a=r&&"ArrowLeft"===n&&0===r.anchorOffset;if(!i&&!a)return;return t({forceFocusOnEditor:!0,addPrefixTrigger:!0,text:m(),setSelectionAt:i?y.AFTER_TEXT_INSERTED:y.BEFORE_TEXT_INSERTED}),e.preventDefault(),void e.stopPropagation()}b(e)},i=e=>{t({addPrefixTrigger:!0,text:m(),setSelectionAt:y.BEFORE_TEXT_INSERTED,forceFocusOnEditor:!1})},a=()=>{t({addPrefixTrigger:!1,text:"",forceFocusOnEditor:!0,setSelectionAt:y.BEFORE_TEXT_INSERTED})},s=t=>{var o
;const{target:r}=t;if(!t.isComposing&&r instanceof HTMLElement){if("historyUndo"===t.inputType&&(0===(null===(o=r.textContent)||void 0===o?void 0:o.length)||r.textContent===n("vNjH").a))return t.preventDefault(),t.stopPropagation(),void a();if(null!=t.data&&r.textContent===n("vNjH").a&&(e.textContent="",n("j5wO").a.safari)){t.preventDefault();const n=document.createTextNode(t.data);e.appendChild(n);const o=window.getSelection(),r=document.createRange();r.setStart(n,n.length),r.collapse(!0),null==o||o.removeAllRanges(),null==o||o.addRange(r)}}};if(n("j5wO").a.safari){const t=e=>{var t;const{target:n}=e;if(!e.isComposing&&n instanceof HTMLElement)return"historyUndo"===e.inputType&&1===(null===(t=n.textContent)||void 0===t?void 0:t.length)?(e.preventDefault(),e.stopPropagation(),void a()):void 0};e.addEventListener("input",t)}return e.addEventListener("focusout",i),e.addEventListener("focusin",o),e.addEventListener("keydown",r),e.addEventListener("beforeinput",s),()=>{
e.removeEventListener("focusout",i),e.removeEventListener("focusin",o),e.removeEventListener("keydown",r),e.removeEventListener("beforeinput",s),n("j5wO").a.safari&&e.removeEventListener("input",null)}}),[e,m,u,t,b]),Object(o.useEffect)((()=>{const e="string"==typeof d&&d.trim().length>0;h.current&&l&&(h.current.textContent=e?d:n("vNjH").a,requestAnimationFrame((()=>{if(null==h||!h.current)return;const t=window.getSelection();if(t&&e&&h.current.lastChild instanceof Text){const e=h.current.lastChild,n=document.createRange();n.setStart(h.current.lastChild,e.length),n.collapse(!0),t.removeAllRanges(),t.addRange(n)}h.current.focus()})))}),[l,d]),r.a.createElement(r.a.Fragment,null,e,r.a.createElement(E,{contentEditable:!0,innerRef:h,onKeyUp:g,onClick:v,role:"textbox",suppressContentEditableWarning:!0,"data-query-prefix":e}))}));w.displayName="InputQuery";const O=[],S=(e,t,r)=>{const[i,a]=Object(o.useState)(O),s=Object(o.useRef)(!0),c=Object(o.useRef)(t);return Object(o.useEffect)((()=>{
const o=null==e?void 0:e.getItems;if(!o)return void a(O);const i={query:r||"",editorState:t.state},{current:l}=c;o(i).then((e=>{const t=e.length>0?e:O;s.current&&a(t),queueMicrotask((()=>{(e=>(t,o)=>{const r=t.tr;return r.setMeta(n("yUK8").a,{action:n("Y+O0").a.UPDATE_LIST_ITEMS,params:{items:e}}),o&&o(r),!0})(t)(l.state,l.dispatch)}))}))}),[e,r]),Object(o.useEffect)((()=>()=>{s.current=!1}),[]),i},C=({view:e,setSelectionAt:t,text:o,forceFocusOnEditor:r})=>{const{tr:a,schema:s}=e.state;Object(n("7jB3").a)(a),o.length>0&&(a.replaceSelectionWith(s.text(o)),t===y.BEFORE_TEXT_INSERTED&&(e=>t=>{const n=t.selection.$from.pos,o=Math.max(n-e.length,0),r=t.doc.resolve(o),a=i.TextSelection.findFrom(r,-1,!0);a&&t.setSelection(a)})(o)(a)),e.dispatch(a),r&&e.focus()},T=(e,t,r)=>{const i=Object(o.useRef)(t),a=Object(o.useRef)(r),s=Object(o.useCallback)((({setSelectionAt:t,text:n,forceFocusOnEditor:o})=>{if(!e)return;const{current:r}=i;C({view:r,setSelectionAt:t,text:n,forceFocusOnEditor:o})
}),[e]),c=Object(o.useCallback)((({mode:t,index:o,query:r})=>{const c=a.current;if(0===c.length||!e){const t=`${e.trigger}${r}`;return void s({forceFocusOnEditor:!0,setSelectionAt:y.AFTER_TEXT_INSERTED,text:t})}const l=c[o];if(!l)return;const{current:d}=i;Object(n("rPiI").a)(d)({item:l,handler:e,mode:t,query:r,sourceListItem:c})}),[e,s]),l=Object(o.useCallback)((({mode:t,query:o})=>{const r=a.current;if(r&&r.length>1)return!1;if(1===r.length)queueMicrotask((()=>{c({mode:t,query:o,index:0})}));else{const r=`${e.trigger}${o}`;queueMicrotask((()=>{s({forceFocusOnEditor:!0,setSelectionAt:y.AFTER_TEXT_INSERTED,text:t===n("FOo9").a.SPACE?r.concat(" "):r})}))}return!0}),[c,e,s]);return Object(o.useLayoutEffect)((()=>{a.current=r}),[r]),[c,s,l]
},x=r.a.memo((({triggerHandler:e,editorView:t,anchorElement:i,shouldFocusCursorInsideQuery:a,popupsMountPoint:s,popupsBoundariesElement:c,popupsScrollableElement:l,createAnalyticsEvent:d,inputMethod:u,getDecorationPosition:p,reopenQuery:h,onUndoRedo:f})=>{const[m,g]=Object(o.useState)(!1),[b,v]=Object(o.useState)(h||""),y=Object(o.useRef)(b),E=Object(o.useRef)(t),O=S(e,t,b);Object(o.useLayoutEffect)((()=>{y.current=b}),[b]);const[C,x]=T(e,t,O),k=Object(o.useMemo)((()=>Object(n("Wd+7").h)({editorView:t,direction:"next"})),[t]),I=Object(o.useMemo)((()=>Object(n("Wd+7").h)({editorView:t,direction:"previous"})),[t]),A=Object(o.useCallback)((({setSelectionAt:t,addPrefixTrigger:n,text:o,forceFocusOnEditor:r})=>{g(!0);const i=n?`${e.trigger}${o}`:o;x({forceFocusOnEditor:r,setSelectionAt:t,text:i})}),[e,x]),N=Object(o.useCallback)(((e=n("FOo9").a.SELECTED)=>{const{current:t}=E,{selectedIndex:o}=Object(n("Wd+7").b)(t.state);g(!0),queueMicrotask((()=>{C({mode:e,index:o,query:y.current})}))
}),[C]),M=Object(o.useCallback)((()=>{}),[]),R=Object(o.useCallback)((()=>{g(!0)}),[]);return Object(o.useEffect)((()=>{const{current:e}=E,t=Object(n("Wd+7").b)(e.state);0!==b.length&&b!==t.query&&t.triggerHandler&&Object(n("3EgI").a)(b)(e.state,e.dispatch)}),[b,h]),(({triggerHandler:e,items:t,query:r,editorView:i,closePopup:a})=>{const s=Object(o.useRef)(i);Object(o.useLayoutEffect)((()=>{if(!r||"function"!=typeof e.forceSelect)return;const o=e.forceSelect({items:t,query:r,editorState:s.current.state});if(!o)return;const{current:i}=s;a(),queueMicrotask((()=>{Object(n("rPiI").a)(i)({item:o,mode:n("FOo9").a.SPACE,query:r,handler:e,sourceListItem:t})}))}),[e,a,r,t])})({triggerHandler:e,items:O,query:b,editorView:t,closePopup:R}),m?null:r.a.createElement(w,{triggerQueryPrefix:e.trigger,onQueryChange:v,onItemSelect:N,selectNextItem:k,selectPreviousItem:I,onQueryFocus:M,cancel:A,forceFocus:a,onUndoRedo:f,reopenQuery:h})})),k=(e,t)=>{var o;const r=e.find((e=>{var o
;return(null===(o=e.getMeta(n("yUK8").a))||void 0===o?void 0:o.action)===t}));return r?null===(o=r.getMeta(n("yUK8").a))||void 0===o?void 0:o.params:null};function I({reactDispatch:e,reactContext:t,popupMountRef:o,createAnalyticsEvent:s,typeAheadHandlers:c}){const d=t().intl,{createDecorations:p,removeDecorations:b}=(({intl:e,popupMountRef:t,createAnalyticsEvent:o})=>({createDecorations:(s,{triggerHandler:c,inputMethod:l,reopenQuery:d})=>{const{selection:p}=s;if(!(p instanceof i.TextSelection&&p.$cursor))return{decorationSet:a.b.empty,stats:null,decorationElement:null};const b=`decoration_id_typeahead_decoration_key_${h()()}`,{$cursor:v}=p,y=document.createElement("mark"),E=new(n("TBml").a);let w=!0;const O=a.a.widget(v.pos,((i,a)=>{var s,p,h;return y.setAttribute("id",b),y.setAttribute("role","search"),y.setAttribute("aria-label",`On ${c.id}`),y.dataset.typeAheadQuery="true",y.dataset.trigger=c.trigger,y.dataset.editorPopup="true",y.dataset.typeAhead="typeaheadDecoration",
y.style.color="#0052CC",y.style.backgroundColor="transparent",u.a.render(r.a.createElement(m.IntlProvider,{locale:e.locale||"en",messages:e.messages,formats:e.formats},r.a.createElement(x,{triggerHandler:c,editorView:i,anchorElement:y,createAnalyticsEvent:o,inputMethod:l,getDecorationPosition:a,shouldFocusCursorInsideQuery:w,popupsMountPoint:null===(s=t.current)||void 0===s?void 0:s.popupsMountPoint,popupsBoundariesElement:null===(p=t.current)||void 0===p?void 0:p.popupsBoundariesElement,popupsScrollableElement:null===(h=t.current)||void 0===h?void 0:h.popupsScrollableElement,onUndoRedo:e=>{if(!["historyUndo","historyRedo"].includes(e))return!1;const t="string"==typeof d&&d.trim().length>0,o=Object(n("Wd+7").d)(i.state);if(t||0===o.length){const t="historyUndo"===e?g.d:g.c;let o=i.state.tr;const r=e=>{o=e},a=t(i.state,r);return a&&(Object(n("7jB3").a)(o),i.dispatch(o),i.focus()),a}return!1},reopenQuery:d})),y),w=!1,y}),{isTypeAheadDecoration:!0,key:b,side:0,stopEvent:e=>{
const t=Object(f.keyName)(e),n=document.getSelection();return"ArrowLeft"!==t||0!==(null==n?void 0:n.anchorOffset)},ignoreSelection:!1});return{decorationSet:a.b.create(s.doc,[O]),decorationElement:y,stats:E}},removeDecorations:e=>{if(!e||e===a.b.empty)return!1;const t=e.find(void 0,void 0,(e=>e.isTypeAheadDecoration));return!(!t||0===t.length||(t.forEach((({spec:e})=>{if(!e.key)return;const t=document.querySelector(`#${e.key}`);t&&u.a.unmountComponentAtNode(t)})),0))}}))({intl:d,popupMountRef:o,createAnalyticsEvent:s}),v=l({createDecorations:p,removeDecorations:b,typeAheadHandlers:c,popupMountRef:o});return new i.Plugin({key:n("yUK8").a,state:{init:()=>({typeAheadHandlers:c,query:"",decorationSet:a.b.empty,decorationElement:null,items:[],selectedIndex:0,stats:null,inputMethod:null}),apply(t,o,r,i){const a=(e=>e.steps.find((e=>e instanceof n("cblB").b))||null)(t),s=v(t,o,a);return o!==s&&e(n("yUK8").a,s),s}},appendTransaction(e,t,o){const r=k(e,n("Y+O0").a.INSERT_RAW_QUERY);if(r){
const e=r(o);if(e)return e}},view:()=>({update(e){}}),props:{decorations:e=>{var t;return null===(t=n("yUK8").a.getState(e))||void 0===t?void 0:t.decorationSet},handleDOMEvents:{compositionend:(e,t)=>!1,click:(e,t)=>{const{target:o}=t;return!!(o instanceof HTMLElement&&Object(n("9a+x").a)(o,"[data-type-ahead=typeaheadDecoration]"))}}}})}function A(){return new i.Plugin({appendTransaction(e,t,o){const r=k(e,n("Y+O0").a.INSERT_ITEM);if(r){const e=r(o);if(e)return e}}})}function N(e,t,o){if(!t||0===t.length)return;const r=t.reduce(((e,t)=>{const o=t.customRegex||t.trigger;if(!o)return e;const r=new RegExp(`(^|[.!?\\s${n("N3sK").c}])(${o})$`);return e.push(Object(n("9hcL").c)(r,((e,o)=>Object(n("ifNk").a)({triggerHandler:t,inputMethod:n("J5HJ").f.KEYBOARD})(e.tr)))),e}),[]);return Object(n("9hcL").b)("type-ahead",r,{allowInsertTextOnDocument:!1,useUnpredictableInputRule:o.useUnpredictableInputRule})}const M=Object(o.createContext)(null),R=r.a.memo((({children:e})=>{
const t=Object(o.useMemo)((()=>n("j5wO").a.supportsResizeObserver?new window.ResizeObserver((e=>{e.forEach((e=>{const{onResize:t}=e.target;t&&t(e)}))})):null),[]);return Object(o.useEffect)((()=>()=>{t&&t.disconnect()}),[t]),r.a.createElement(M.Provider,{value:t},e)}));var j=n("DzJC"),P=n.n(j);const D=()=>{},L=r.a.createContext(0),_=r.a.createContext({onItemClick:D,onItemHover:D}),B=r.a.createContext(D),H=({index:e,data:t,style:i})=>{const a=t[e],s=Object(o.useContext)(L),{onItemClick:c,onItemHover:l}=Object(o.useContext)(_),d=Object(o.useContext)(B),u=Object(o.useRef)(document.createElement("div"));return((e,t)=>{const n=Object(o.useContext)(M);Object(o.useLayoutEffect)((()=>{if(!e||!e.current||null===n)return;const{current:o}=e;return o.onResize=t,n.observe(o),()=>{n.unobserve(o),delete o.onResize}}),[e,n,t])})(u,Object(o.useCallback)((t=>{"function"==typeof d&&d({index:e,height:t.contentRect.height})}),[d,e])),r.a.createElement("div",{style:i,"data-index":e
},r.a.createElement("div",{ref:u,"data-testid":`list-item-height-observed-${e}`},r.a.createElement(n("yA3P").b,{key:a.title,item:a,itemIndex:e,selectedIndex:s,onItemClick:c,onItemHover:l})))},J=12,$={[n("t7+/").e]:{padding:{default:{bottom:J,left:J,right:J,top:J}},beforeItemSpacing:{default:()=>J},borderRadius:()=>0,hover:{text:n("+ter").text,secondaryText:"#6B778C"},selected:{background:Object(n("ku5o").a)({light:"#F4F5F7",dark:"#3B475C"}),text:Object(n("ku5o").a)({light:"#172B4D",dark:"#B8C7E0"}),secondaryText:Object(n("ku5o").a)({light:"#6B778C",dark:"#8C9CB8"})}}},F=r.a.memo((({items:e,selectedIndex:t,onItemHover:i,onItemClick:a})=>{const s=Object(o.useRef)(),c=Object(o.useCallback)((e=>{s.current.resetAfterIndex(e)}),[]),l=Object(o.useRef)({overscanStartIndex:0,overscanStopIndex:0,visibleStartIndex:0,visibleStopIndex:0
}),d=Object(o.useCallback)((()=>l.current.overscanStartIndex),[]),{getListItemHeight:u,setListItemHeight:p,renderedListHeight:h}=(({redrawListAtIndex:e,getFirstVisibleIndex:t,listLength:n,listMaxHeight:r,listItemEstimatedHeight:i})=>{const[a,s]=Object(o.useState)(null),c=Object(o.useRef)([]),l=Object(o.useMemo)((()=>P()((()=>{requestAnimationFrame((()=>{const o=t();if(!c.current[o])return;e(o);const a=(({startIndex:e,indexHeightMap:t,limit:n,listMaxHeight:o,listItemEstimatedHeight:r})=>{let i=!0,a=0,s=e;for(;i&&s<n;){const e=t[s]||r;a<o&&(a+=e),s++,i=a<=o}return a})({startIndex:o,limit:n,indexHeightMap:c.current,listMaxHeight:r,listItemEstimatedHeight:i});a&&s(a)}))}),16)),[e,n,r,i,t]),d=Object(o.useCallback)((({index:e,height:t})=>{"number"==typeof t&&(c.current[e]=t,l())}),[l]),u=Object(o.useCallback)((e=>{const t=c.current[e];return t&&"number"==typeof t?t:i}),[i]);return Object(o.useLayoutEffect)((()=>(c.current=[],()=>{c.current=[]})),[n]),{getListItemHeight:u,setListItemHeight:d,
renderedListHeight:a}})({redrawListAtIndex:c,getFirstVisibleIndex:d,listLength:e.length,listMaxHeight:380,listItemEstimatedHeight:64}),f=Object(o.useCallback)((e=>{l.current=e}),[]),m=Object(o.useMemo)((()=>({onItemClick:a,onItemHover:i})),[a,i]),g=Object(o.useCallback)((({scrollUpdateWasRequested:e})=>{e&&requestAnimationFrame((()=>{requestAnimationFrame((()=>{const{current:e}=l;t>=e.visibleStartIndex&&t<=e.visibleStopIndex||s.current.scrollToItem(t)}))}))}),[t]);if(Object(o.useEffect)((()=>{s.current&&s.current.scrollToItem(t)}),[t]),Object(o.useLayoutEffect)((()=>{requestAnimationFrame((()=>{s.current.resetAfterIndex(l.current.overscanStartIndex)}))}),[e]),!Array.isArray(e))return null;const v=64*e.length,y=Math.min("number"==typeof h?h:v,380);return r.a.createElement(b.ThemeProvider,{theme:$},r.a.createElement(n("eoVD").a,{role:"listbox","aria-live":"polite","aria-label":"TypeAhead results","aria-relevant":"additions removals"
},r.a.createElement(R,null,r.a.createElement(B.Provider,{value:p},r.a.createElement(_.Provider,{value:m},r.a.createElement(L.Provider,{value:t},r.a.createElement(n("iR1w").c,{useIsScrolling:!0,ref:s,itemData:e,itemCount:e.length,estimatedItemSize:64,onScroll:g,onItemsRendered:f,itemSize:u,width:320,height:y,overscanCount:3},H)))))))}));F.displayName="TypeAheadList";const z=b.default.div.withConfig({componentId:"rqn5qg-0"})`background:${"#FFFFFF"};border-radius:${Object(n("ARg4").borderRadius)()}px;box-shadow:0 0 1px ${"rgba(9, 30, 66, 0.31)"},0 4px 8px -2px ${"rgba(9, 30, 66, 0.25)"};padding:${Object(n("ARg4").gridSize)()/2}px 0;width:320px;max-height:380px;overflow-y:auto;-ms-overflow-style:-ms-autohiding-scrollbar;position:relative;`,U=({state:e,triggerHandler:t})=>{if(null==t||!t.getHighlight)return null;return t.getHighlight(e)},V=[0,8],W=r.a.memo((e=>{
const{editorView:t,triggerHandler:i,anchorElement:a,popupsMountPoint:s,popupsBoundariesElement:c,popupsScrollableElement:l,items:d,selectedIndex:u,setSelectedItem:p,onItemInsert:h,fireAnalyticsCallback:f,isEmptyQuery:m}=e,g=Object(o.useMemo)((()=>performance.now()),[d,m,f,i]);return Object(o.useEffect)((()=>{if(!f)return;const e=performance.now()-g;f({payload:{action:n("J5HJ").a.RENDERED,actionSubject:n("J5HJ").b.TYPEAHEAD,eventType:n("J5HJ").e.OPERATIONAL,attributes:{time:e,items:d.length,initial:m}}})}),[g,d,f,m,i]),Object(o.useEffect)((()=>{f&&f({payload:{action:n("J5HJ").a.VIEWED,actionSubject:n("J5HJ").b.TYPEAHEAD_ITEM,eventType:n("J5HJ").e.OPERATIONAL,attributes:{index:u,items:d.length}}})}),[d,f,u,i]),r.a.createElement(n("poXX").a,{zIndex:n("9cwX").n,target:a,mountTo:s,boundariesElement:c,scrollableElement:l,fitHeight:300,fitWidth:340,offset:V},r.a.createElement(z,{className:"fabric-editor-typeahead"},r.a.createElement(U,{state:t.state,triggerHandler:i}),r.a.createElement(F,{
items:d,selectedIndex:u,onItemHover:p,onItemClick:h})))}));W.displayName="TypeAheadPopup";const K=r.a.memo((({editorView:e,popupMountRef:t,typeAheadState:o,fireAnalyticsCallback:i})=>{var a,s,c;const l=o.decorationSet.find().length>0,{triggerHandler:d,items:u,selectedIndex:p,decorationElement:h,decorationSet:f,query:m}=o,[g,,b]=T(d,e,u),v=r.a.useCallback((({index:t})=>{queueMicrotask((()=>{Object(n("j4JT").a)(t)(e.state,e.dispatch)}))}),[e]),y=r.a.useCallback(((e=n("FOo9").a.SELECTED,t)=>{queueMicrotask((()=>{g({mode:e,index:t,query:m})}))}),[g,m]);return r.a.useEffect((()=>{if(!l||!m)return;if(!(" "===m[m.length-1]))return;b({mode:n("FOo9").a.SPACE,query:m.trim()})}),[l,m,b]),l&&d&&h instanceof HTMLElement&&0!==u.length?r.a.createElement(W,{editorView:e,popupsMountPoint:null===(a=t.current)||void 0===a?void 0:a.popupsMountPoint,popupsBoundariesElement:null===(s=t.current)||void 0===s?void 0:s.popupsBoundariesElement,
popupsScrollableElement:null===(c=t.current)||void 0===c?void 0:c.popupsScrollableElement,anchorElement:h,triggerHandler:d,fireAnalyticsCallback:i,items:u,selectedIndex:p,setSelectedItem:v,onItemInsert:y,decorationSet:f,isEmptyQuery:!m}):null}));t.a=e=>{const t=Object(n("0F7/").a)(null==e?void 0:e.createAnalyticsEvent),o={current:null};return{name:"typeAhead",marks:()=>[{name:"typeAheadQuery",mark:n("Krjk").a}],pmPlugins:(t=[])=>[{name:"typeAhead",plugin:({dispatch:n,reactContext:r})=>I({reactContext:r,popupMountRef:o,reactDispatch:n,typeAheadHandlers:t,createAnalyticsEvent:null==e?void 0:e.createAnalyticsEvent})},{name:"typeAheadInsertItem",plugin:A},{name:"typeAheadInputRule",plugin:({schema:e,featureFlags:n})=>N(0,t,n)}],contentComponent:({editorView:e,containerElement:i,popupsMountPoint:a,popupsBoundariesElement:s,popupsScrollableElement:c})=>(o.current={popupsMountPoint:a||i||void 0,popupsBoundariesElement:s,popupsScrollableElement:c},r.a.createElement(n("fd7e").a,{plugins:{
typeAheadState:n("yUK8").a},render:({typeAheadState:n})=>n?r.a.createElement(K,{editorView:e,popupMountRef:o,typeAheadState:n,fireAnalyticsCallback:t}):null})),onEditorViewStateUpdated({oldEditorState:o,newEditorState:r}){const i=Object(n("Wd+7").b)(o),a=Object(n("Wd+7").b)(r);if(!i||!a)return;const{triggerHandler:s}=i,{triggerHandler:c}=a,l=s!==c;null!=s&&s.dismiss&&l&&s.dismiss({editorState:r,query:i.query,stats:(i.stats||new(n("TBml").a)).serialize()}),null!=c&&c.onOpen&&l&&c.onOpen(r),c&&l&&null!=e&&e.createAnalyticsEvent&&t({payload:{action:n("J5HJ").a.INVOKED,actionSubject:n("J5HJ").b.TYPEAHEAD,actionSubjectId:c.id||"not_set",attributes:{inputMethod:a.inputMethod||n("J5HJ").f.KEYBOARD},eventType:n("J5HJ").e.UI}})}}}},zYPQ:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n("mG1W")
;const r=e=>Object(o.findParentNode)((e=>e.type.spec.tableRole&&"table"===e.type.spec.tableRole))(e),i=e=>Object(o.findParentNodeClosestToPos)(e,(e=>e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole))),a=e=>{const t=i(e);if(t){const r=(e=>Object(o.findParentNodeClosestToPos)(e,(e=>e.type.spec.tableRole&&"table"===e.type.spec.tableRole)))(e);if(r){const e=n("wYWE").b.get(r.node),o=t.pos-r.start;return e.rectBetween(o,o)}}}},zbbA:function(e,t,n){"use strict";function o(e,t){Object(n("jIYg").a)(2,arguments);var o=Object(n("/h9T").a)(t);return Object(n("dLU1").a)(e,12*o)}n.d(t,"a",(function(){return o}))},zsjf:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return h}));var o=n("3tO9"),r=n.n(o)
;const i=({minWidth:e,maxSize:t,table:o,tableRef:r,start:i,domAtPos:a})=>{if(Object(n("nwXu").b)(o)){const r=Object(n("BX5r").a)(o).map(((t,o)=>({width:0===t?n("9ehW").i:t,minWidth:0===t?n("9ehW").i:e,index:o}))),i=r.map((e=>e.width)),a=i.reduce(((e,t)=>e+t),0);return{cols:r,widths:i,maxSize:t,overflow:a>t}}const s=Object(n("nwXu").c)(r,o),c=Array.from(s).map(((t,r)=>{const s=Object(n("J2HQ").b)(r,o,i,a);return Object(n("J2HQ").c)(s,r,e)})),l=c.map((e=>e.width)),d=l.reduce(((e,t)=>e+t),0);return{cols:c,widths:l,maxSize:t,overflow:d>t}},a=(e,t)=>{const o=t.querySelectorAll("col");e.cols.filter((e=>e&&!!e.width)).forEach(((e,t)=>{o[t]&&(o[t].style.width=`${e.width}px`)})),Object(n("2csd").c)(t)},s=({cols:e})=>e.reduce(((e,t)=>e+t.width),0),c=(e,t)=>{const o=t-s(e);if(o>0||o<0&&Math.abs(o)<n("9ehW").d){let t=!1;return r()(r()({},e),{},{cols:e.cols.map((e=>!t&&e.width+o>e.minWidth?(t=!0,r()(r()({},e),{},{width:e.width+o})):e))})}return e},l=e=>{
const t=s(e),n=Math.floor(t/e.cols.length),o=e.cols.map((e=>r()(r()({},e),{},{width:n})));return c(r()(r()({},e),{},{cols:o}),t)},d=(e,t,n)=>e.slice(t,n).map((e=>e.width)).reduce(((e,t)=>e+t),0),u=(e,t,n)=>{const o=s(e),i=t.indexOf(n)>-1?n:n+1,a=e.cols[i],l={},d=[],u=e.cols.map((e=>{if(t.indexOf(e.index)>-1){const t=e.width-a.width;return 0!==t&&d.push(t),r()(r()({},e),{},{width:a.width})}return e}));let p=r()(r()({},e),{},{cols:u.map((e=>{if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<i)return e;for(;d.length;){const t=d.shift()||0,n=l[e.index]||e,o=n.width+t;if(!(o>n.minWidth)){d.push(o-n.minWidth),l[n.index]=r()(r()({},n),{},{width:n.minWidth});break}l[n.index]=r()(r()({},n),{},{width:o})}return l[e.index]||e}))});const h=e.maxSize,f=s(p);if(t.length===e.cols.length&&f<h){if(o===h)return e;{const t=Math.floor((h-a.width)/(p.cols.length-1));p=r()(r()({},e),{},{cols:p.cols.map((e=>e.index===a.index?e:r()(r()({},e),{},{width:t})))})}}return c(p,e.maxSize)},p=e=>{switch(e){
case"wide":case"full-width":return e;default:return"default"}},h=(e,t,o,a)=>{const{totalRowCount:s,totalColumnCount:c,table:l}=Object(n("JnOq").b)(t.selection);if(!l)return;const u=o(l.start).node.closest("table");if(!u)return;const h=p(null==u?void 0:u.dataset.layout),f=Object(n("Rjvn").c)({table:l.node,tableStart:l.start,state:t,layout:h,dynamicTextSizing:a}),m=i({minWidth:n("9ehW").d,maxSize:f,table:l.node,tableRef:u,start:l.start,domAtPos:o}),g=((e,t)=>{const n=e.cols,o=d(n,t.left,t.right),i=d(n,0,n.length)/n.length,a=o/(t.right-t.left);return i===a?r()(r()({},e),{},{widths:n.map((()=>a)),cols:e.cols.map((e=>r()(r()({},e),{},{width:0})))}):r()(r()({},e),{},{widths:n.map(((e,n)=>n>=t.left&&n<t.right?a:e.width)),cols:n.map(((e,n)=>r()(r()({},e),{},{width:n>=t.left&&n<t.right?a:e.width})))})})(m,e),b=m.widths,v=g.widths;return{resizeState:g,table:l,changed:m.widths.some(((e,t)=>e!==v[t])),attributes:{position:e.left,count:e.right-e.left,totalRowCount:s,totalColumnCount:c,
widthsBefore:b,widthsAfter:v}}}},zvNc:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n("pVnL"),r=n.n(o),i=n("lSNA"),a=n.n(i),s=n("q1tI"),c=n.n(s),l=n("vOnD");const d=l.default.div.withConfig({componentId:"fabo9g-0"})`margin:0;word-wrap:break-word;min-width:0;flex:1 1 auto;`,u=l.default.div.withConfig({componentId:"fabo9g-1"})`display:flex;flex-direction:row;padding:6px 3px;position:relative;`,p=l.default.div.withConfig({componentId:"fabo9g-2"})`display:flex;flex-direction:row;margin:${Object(n("7w+A").h)()}px 0 0 0;padding:${Object(n("7w+A").h)()}px;padding-left:${1.5*Object(n("7w+A").h)()}px;border-radius:${Object(n("7w+A").b)()}px;background-color:${Object(n("56zV").a)({light:"rgba(9, 30, 66, 0.04)",dark:"#283447"})};position:relative;.decision-item{cursor:initial;}`,h=(l.default.div.withConfig({componentId:"fabo9g-3"})`margin:-2px 8px;`,l.default.span.withConfig({componentId:"sc-1fywc9k-0"
})`margin:${e=>`0 0 0 ${e.offset}px;`} position:absolute;color:${"#97A0AF"};pointer-events:none;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:calc(100% - 50px);`);class f extends s.PureComponent{renderPlaceholder(){const{children:e,placeholder:t,showPlaceholder:o,itemType:r}=this.props;if(!o||!t||e)return null;const i=Object(n("7w+A").h)()*("TASK"===r?3:3.5);return c.a.createElement(h,{contentEditable:!1,offset:i},t)}renderMessageAppearance(){const{contentRef:e,children:t,icon:n,itemType:o,dataAttributes:i,checkBoxId:a}=this.props;return"TASK"===o?c.a.createElement(u,{id:`${a}-wrapper`},n,this.renderPlaceholder(),c.a.createElement(d,r()({},i,{innerRef:e}),t)):"DECISION"===o?c.a.createElement(p,{"data-decision-wrapper":"true"},n,this.renderPlaceholder(),c.a.createElement(d,r()({},i,{innerRef:e}),t)):null}render(){return this.renderMessageAppearance()}}f.displayName="Item",a()(f,"defaultProps",{appearance:"inline"})},zwen:function(e,t,n){"use strict"
;n.d(t,"a",(function(){return s}));var o=n("lSNA"),r=n.n(o),i=n("q1tI"),a=n.n(i);class s extends i.Component{constructor(...e){super(...e),r()(this,"wrapperElementWidth",0),r()(this,"state",{isDragging:!1,dragStartClientX:0}),r()(this,"setWrapperWidth",(()=>{this.wrapperElement&&(this.wrapperElementWidth=this.wrapperElement.getBoundingClientRect().width)})),r()(this,"onMouseMove",(e=>{const{isDragging:t,dragStartClientX:n}=this.state;if(!t)return;e.stopPropagation();const{onChange:o,duration:r,currentTime:i}=this.props,{clientX:a}=e;let s=a-n;const c=s<0;s>this.wrapperElementWidth&&(s=this.wrapperElementWidth),c&&(s=0);const l=s*r/this.wrapperElementWidth;i!==l&&o(l)})),r()(this,"onMouseUp",(()=>{const{onChanged:e}=this.props;document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),e&&e(),this.setState({isDragging:!1})})),r()(this,"onThumbMouseDown",(e=>{e.preventDefault(),this.setWrapperWidth(),
document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove);const{duration:t,onChange:n}=this.props,o=e.nativeEvent,r=o.offsetX,i=r*t/this.wrapperElementWidth;this.setState({isDragging:!0,dragStartClientX:o.clientX-r}),n(i)})),r()(this,"saveWrapperElement",(e=>{e&&(this.wrapperElement=e,this.setWrapperWidth())})),r()(this,"saveThumbElement",(e=>{e&&(this.thumbElement=e)}))}componentDidMount(){window.addEventListener("resize",this.setWrapperWidth)}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.setWrapperWidth)}render(){const{isDragging:e}=this.state,{currentTime:t,duration:o,bufferedTime:r,disableThumbTooltip:i,isAlwaysActive:s}=this.props,c=100*t/o,l=100*r/o;return a.a.createElement(n("O7vh").m,{showAsActive:s,onMouseDown:this.onThumbMouseDown},a.a.createElement(n("O7vh").l,{innerRef:this.saveWrapperElement
},a.a.createElement(n("O7vh").a,{style:{width:`${l}%`}}),a.a.createElement(n("O7vh").d,{style:{width:`${c}%`}},a.a.createElement(n("O7vh").k,{innerRef:this.saveThumbElement},i?null:a.a.createElement(n("O7vh").e,{draggable:!1,isDragging:e,className:"current-time-tooltip"},Object(n("+JSQ").a)(t))))))}}s.displayName="TimeRange",r()(s,"defaultProps",{disableThumbTooltip:!1,isAlwaysActive:!1})}}]);try{window.__jsEvalStop("async-editor-view.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/async-editor-view.975b08f78513afeb73a5.8.js.map