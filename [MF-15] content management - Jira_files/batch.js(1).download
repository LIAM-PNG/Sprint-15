;try{window.performance.mark('com.atlassian.jira.jira-atlaskit-plugin,jira.webresources,com.atlassian.plugins.atlassian-connect-plugin_batch_file_eval:start');} catch(e){};;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:data', location = 'jira-projects-module/data/web-resource-manager.js' */
define("jira/projects/data/WRM",window.WRM);;
;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:projects-api', location = 'jira-projects-module/page/projects-api.js' */
define("jira/api/projects",["jira/projects/data/WRM"],function(e){"use strict";function t(t,r){if(void 0!==t)return t;var n=e.data.claim(r);return void 0!==n?n:AJS.Meta.get(r)}function r(e){return AJS.$('meta[name="'+e+'"]').attr("content")}var n=e.data.claim("project-key"),i=e.data.claim("project-id"),c=e.data.claim("project-name"),a=e.data.claim("project-type"),o=e.data.claim("is-project-admin"),u=e.data.claim("project-simplified");return{ProjectType:Object.freeze({SOFTWARE:"software",BUSINESS:"business"}),getCurrentProjectId:function(e){return i=t(i,"project-id"),(null==i||e)&&(i=r("ghx-project-id")),i},getCurrentProjectKey:function(e){return n=t(n,"project-key"),(null==n||e)&&(n=r("ghx-project-key")),n},getCurrentProjectName:function(){return c=t(c,"project-name")},getCurrentProjectType:function(){return a=t(a,"project-type")},isCurrentUserProjectAdmin:function(){return o=t(o,"is-project-admin")},isCurrentProjectSimplified:function(){return u=t(u,"project-simplified")}}}),AJS.namespace("JIRA.API.Projects",null,require("jira/api/projects"));;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:breadcrumbs', location = 'jira-atlaskit-module/js/global-breadcrumbs-api.js' */
!function(){var n,r=new Promise(function(r){n=r});r.done=function(n){return this.then(n)},AJS.namespace("JIRA.API"),JIRA.API.getBreadcrumbApi=function(){return r},define("jira/globalnavigator/breadcrumbs/bridge",function(){return function(r){n(r)}}),define("jira/globalnavigator/breadcrumbs",function(){return r})}();;
;
/* module-key = 'com.atlassian.jira.jira-atlaskit-plugin:breadcrumbs', location = 'jira-atlaskit-module/js/breadcrumbs-api.js' */
define("jira/atlaskit/breadcrumbs",[],function(){const e=AJS.contextPath(),t=JIRA.API.Projects&&JIRA.API.Projects.getCurrentProjectKey()||AJS.Meta.get("project-key")||AJS.Meta.get("projectKey"),r=t&&e+"/plugins/servlet/project-config/"+t,s={REPORTS:{id:"breadcrumbs-item-reports",index:0,text:"Reports",href:t&&e+"/projects/"+t+"?selectedItem=com.atlassian.jira.jira-projects-plugin:report-page"},RELEASES:{id:"breadcrumbs-item-releases-versions",index:0,text:"Releases",href:t&&e+"/projects/"+t+"?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page"},VERSIONS:{id:"breadcrumbs-item-releases-versions",index:0,text:"Versions",href:t&&e+"/projects/"+t+"?selectedItem=com.atlassian.jira.jira-projects-plugin:release-page"},PROJECT_SETTINGS:{id:"breadcrumbs-item-project-settings",index:0,text:"Project settings",href:t&&e+"/projects/"+t+"/settings"},ISSUE_COLLECTORS:{id:"breadcrumbs-item-issue-collectors",index:1,text:"Issue collectors",href:t&&e+"/secure/ViewCollectors!default.jspa?projectKey="+t},ISSUE_TYPES:{id:"breadcrumbs-item-issue-types",index:1,text:"Issue types",href:t&&e+"/plugins/servlet/project-config/"+t+"/issuetypes"},SD_CLASSIC_PROJECT_SETTINGS:{id:"breadcrumbs-item-project-settings",index:0,text:"Project settings",href:r},SD_REQUEST_TYPES:{id:"breadcrumbs-item-request-types",index:1,text:"Request types",href:t&&e+"/servicedesk/admin/"+t+"/request-types"},LANGUAGE_SUPPORT:{id:"breadcrumbs-item-language-support",index:1,text:"Language support",href:t&&e+"/servicedesk/admin/"+t+"/language"},QUEUES:{id:"breadcrumbs-item-queue",index:1,text:"Queues",href:t&&e+"/projects/"+t+"/queues"},CUSTOMERS:{id:"breadcrumbs-item-customers",index:1,text:"Customers",href:t&&e+"/projects/"+t+"/customers"},CUSTOMERS_JIRA_SPA:{id:"breadcrumbs-item-customers",index:1,text:"Customers",href:t&&e+"/jira/servicedesk/projects/"+t+"/customers"},CUSTOMER_NOTIFICATIONS:{id:"breadcrumbs-item-customer-notification",index:1,text:"Customer notifications",href:t&&e+"/servicedesk/admin/"+t+"/customer-notifications"},SD_REPORTS:{id:"breadcrumbs-item-jsd-reports",index:0,text:"Reports",href:t&&e+"/projects/"+t+"/reports"},SD_REPORTS_JIRA_SPA:{id:"breadcrumbs-item-jsd-reports",index:0,text:"Reports",href:t&&e+"/jira/servicedesk/projects/"+t+"/reports"}},i=function(){return require("jira/globalnavigator/breadcrumbs")},n=function(){const e=document.getElementById("breadcrumbs-container");e?i().done(function(t){t.render(e)}):(AJS.trigger("analyticsEvent",{name:"jira.atlaskit.plugin.breadcrumbs.render.without.container"}),window.console&&console.warn("Attempted to render breadcrumbs, but container element with id: 'breadcrumbs-container' not found in DOM."))},o=function(){const e=document.getElementById("breadcrumbs-container");return!(!e||!e.innerHTML)},c=function(){return!0},a=function(e){i().done(function(t){t.insertItem(e)})},d=function(e){i().done(function(t){t.removeItem(e)})};return{Items:s,render:n,isRendered:o,isEnabled:c,insertItem:a,removeItem:d}});;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar.js' */
Calendar=function(e,t,a,n,r){if(this.activeDiv=null,this.currentDateEl=null,this.getDateStatus=null,this.getDateToolTip=null,this.getDateText=null,this.timeout=null,this.onSelected=n||null,this.onClose=r||null,this.dragging=!1,this.hidden=!1,this.minYear=1970,this.maxYear=2050,this.dateFormat=Calendar._TT.DEF_DATE_FORMAT,this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT,this.isPopup=!0,this.weekNumbers=!0,this.firstDayOfWeek="number"==typeof e?e:Calendar._FD,this.showsOtherMonths=!1,this.dateStr=t,this.todayDateStr=a,this.ar_days=null,this.showsTime=!1,this.time24=!0,this.yearStep=2,this.hiliteToday=!0,this.multiple=null,this.table=null,this.element=null,this.tbody=null,this.firstdayname=null,this.monthsCombo=null,this.yearsCombo=null,this.hilitedMonth=null,this.activeMonth=null,this.hilitedYear=null,this.activeYear=null,this.dateClicked=!1,"undefined"==typeof Calendar._SDN){"undefined"==typeof Calendar._SDN_len&&(Calendar._SDN_len=3);for(var l=new Array,i=8;i>0;)l[--i]=Calendar._DN[i].substr(0,Calendar._SDN_len);Calendar._SDN=l,"undefined"==typeof Calendar._SMN_len&&(Calendar._SMN_len=3),l=new Array;for(var i=12;i>0;)l[--i]=Calendar._MN[i].substr(0,Calendar._SMN_len);Calendar._SMN=l}},Calendar._C=null,Calendar.is_ie=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),Calendar.is_ie5=Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent),Calendar.is_ie6=Calendar.is_ie&&/msie 6\.0/i.test(navigator.userAgent),Calendar.is_opera=/opera/i.test(navigator.userAgent),Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent),Calendar.setFullYearAndFixFebruary=function(e,t){var a=require("jira/util/safe-logger"),n=new Date(e),r={from:n.getFullYear(),to:t,fixedFeb:!1};n.setFullYear(t),n.getMonth()!==e.getMonth()&&(r.fixedFeb=!0,e.setDate(28)),e.setFullYear(t),a.safeInfo("jscalendar","Setting full year",r)},Calendar.getAbsolutePos=function(e){var t=jQuery(e).offset();return t.x=t.left,t.y=t.top,t},Calendar.isRelated=function(e,t){var a=t.relatedTarget;if(!a){var n=t.type;"mouseover"==n?a=t.fromElement:"mouseout"==n&&(a=t.toElement)}for(;a;){if(a==e)return!0;a=a.parentNode}return!1},Calendar.removeClass=function(e,t){if(e&&e.className){for(var a=e.className.split(" "),n=new Array,r=a.length;r>0;)a[--r]!=t&&(n[n.length]=a[r]);e.className=n.join(" ")}},Calendar.addClass=function(e,t){Calendar.removeClass(e,t),e.className+=" "+t},Calendar.getElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.currentTarget;1!=t.nodeType||/^div$/i.test(t.tagName);)t=t.parentNode;return t},Calendar.getTargetElement=function(e){for(var t=Calendar.is_ie?window.event.srcElement:e.target;1!=t.nodeType;)t=t.parentNode;return t},Calendar.stopEvent=function(e){return e||(e=window.event),e.stopPropagation?(e.preventDefault(),e.stopPropagation()):(e.cancelBubble=!0,e.returnValue=!1),!1},Calendar.addEvent=function(e,t,a){e.attachEvent?e.attachEvent("on"+t,a):e.addEventListener?e.addEventListener(t,a,!0):e["on"+t]=a},Calendar.removeEvent=function(e,t,a){e.detachEvent?e.detachEvent("on"+t,a):e.removeEventListener?e.removeEventListener(t,a,!0):e["on"+t]=null},Calendar.createElement=function(e,t){var a=null;return a=document.createElementNS?document.createElementNS("http://www.w3.org/1999/xhtml",e):document.createElement(e),"undefined"!=typeof t&&t.appendChild(a),a},Calendar._add_evs=function(e){Calendar.addEvent(e,"mouseover",Calendar.dayMouseOver),Calendar.addEvent(e,"mousedown",Calendar.dayMouseDown),Calendar.addEvent(e,"mouseout",Calendar.dayMouseOut),Calendar.is_ie&&(Calendar.addEvent(e,"dblclick",Calendar.dayMouseDblClick),e.setAttribute("unselectable",!0))},Calendar.findMonth=function(e){return"undefined"!=typeof e.month?e:"undefined"!=typeof e.parentNode.month?e.parentNode:null},Calendar.findYear=function(e){return"undefined"!=typeof e.year?e:"undefined"!=typeof e.parentNode.year?e.parentNode:null},Calendar.showMonthsCombo=function(){var e=Calendar._C;if(!e)return!1;var e=e,t=e.activeDiv,a=e.monthsCombo;e.hilitedMonth&&Calendar.removeClass(e.hilitedMonth,"hilite"),e.activeMonth&&Calendar.removeClass(e.activeMonth,"active");var n=e.monthsCombo.getElementsByTagName("div")[e.date.getMonth()];Calendar.addClass(n,"active"),e.activeMonth=n;var r=a.style;if(r.display="block",t.navtype<0)r.left=t.offsetLeft+"px";else{var l=a.offsetWidth;"undefined"==typeof l&&(l=50),r.left=t.offsetLeft+t.offsetWidth-l+"px"}r.top=t.offsetTop+t.offsetHeight+"px"},Calendar.showYearsCombo=function(e){var t=Calendar._C;if(!t)return!1;var t=t,a=t.activeDiv,n=t.yearsCombo;t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),t.activeYear&&Calendar.removeClass(t.activeYear,"active"),t.activeYear=null;for(var r=t.date.getFullYear()+(e?1:-1),l=n.firstChild,i=!1,s=12;s>0;--s)r>=t.minYear&&r<=t.maxYear?(l.innerHTML=r,l.year=r,l.style.display="block",i=!0):l.style.display="none",l=l.nextSibling,r+=e?t.yearStep:-t.yearStep;if(i){var d=n.style;if(d.display="block",a.navtype<0)d.left=a.offsetLeft+"px";else{var o=n.offsetWidth;"undefined"==typeof o&&(o=50),d.left=a.offsetLeft+a.offsetWidth-o+"px"}d.top=a.offsetTop+a.offsetHeight+"px"}},Calendar.tableMouseUp=function(e){var t=Calendar._C;if(!t)return!1;t.timeout&&clearTimeout(t.timeout);var a=t.activeDiv;if(!a)return!1;var n=Calendar.getTargetElement(e);e||(e=window.event),Calendar.removeClass(a,"active"),n!=a&&n.parentNode!=a||Calendar.cellClick(a,e);var r=Calendar.findMonth(n),l=null;if(r)l=new Date(t.date),r.month!=l.getMonth()&&(l.setMonth(r.month),t.setDate(l),t.dateClicked=!1,t.callHandler());else{var i=Calendar.findYear(n);i&&(l=new Date(t.date),i.year!=l.getFullYear()&&(Calendar.setFullYearAndFixFebruary(l,i.year),t.setDate(l),t.dateClicked=!1,t.callHandler()))}return Calendar.removeEvent(document,"mouseup",Calendar.tableMouseUp),Calendar.removeEvent(document,"mouseover",Calendar.tableMouseOver),Calendar.removeEvent(document,"mousemove",Calendar.tableMouseOver),t._hideCombos(),Calendar._C=null,Calendar.stopEvent(e)},Calendar.tableMouseOver=function(e){var t=Calendar._C;if(t){var a=t.activeDiv,n=Calendar.getTargetElement(e);if(n==a||n.parentNode==a?(Calendar.addClass(a,"hilite active"),Calendar.addClass(a.parentNode,"rowhilite")):(("undefined"==typeof a.navtype||50!=a.navtype&&(0==a.navtype||Math.abs(a.navtype)>2))&&Calendar.removeClass(a,"active"),Calendar.removeClass(a,"hilite"),Calendar.removeClass(a.parentNode,"rowhilite")),e||(e=window.event),50==a.navtype&&n!=a){var r,l=Calendar.getAbsolutePos(a),i=a.offsetWidth,s=e.clientX,d=!0;s>l.x+i?(r=s-l.x-i,d=!1):r=l.x-s,r<0&&(r=0);for(var o=a._range,u=a._current,h=Math.floor(r/10)%o.length,C=o.length;--C>=0&&o[C]!=u;);for(;h-- >0;)d?--C<0&&(C=o.length-1):++C>=o.length&&(C=0);var c=o[C];a.innerHTML=c,t.onUpdateTime()}var m=Calendar.findMonth(n);if(m)m.month!=t.date.getMonth()?(t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite"),Calendar.addClass(m,"hilite"),t.hilitedMonth=m):t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");else{t.hilitedMonth&&Calendar.removeClass(t.hilitedMonth,"hilite");var p=Calendar.findYear(n);p&&p.year!=t.date.getFullYear()?(t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite"),Calendar.addClass(p,"hilite"),t.hilitedYear=p):t.hilitedYear&&Calendar.removeClass(t.hilitedYear,"hilite")}return Calendar.stopEvent(e)}},Calendar.tableMouseDown=function(e){if(Calendar.getTargetElement(e)==Calendar.getElement(e))return Calendar.stopEvent(e)},Calendar.calDragIt=function(e){var t=Calendar._C;if(!t||!t.dragging)return!1;var a,n;Calendar.is_ie?(n=window.event.clientY+document.body.scrollTop,a=window.event.clientX+document.body.scrollLeft):(a=e.pageX,n=e.pageY);var r=t.element.style;return r.left=a-t.xOffs+"px",r.top=n-t.yOffs+"px",Calendar.stopEvent(e)},Calendar.calDragEnd=function(e){var t=Calendar._C;return!!t&&(t.dragging=!1,Calendar.removeEvent(document,"mousemove",Calendar.calDragIt),Calendar.removeEvent(document,"mouseup",Calendar.calDragEnd),void Calendar.tableMouseUp(e))},Calendar.dayMouseDown=function(e){var t=Calendar.getElement(e);if(t.disabled)return!1;var a=t.calendar;return a.activeDiv=t,Calendar._C=a,300!=t.navtype?(50==t.navtype?(t._current=t.innerHTML,Calendar.addEvent(document,"mousemove",Calendar.tableMouseOver)):Calendar.addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",Calendar.tableMouseOver),Calendar.addClass(t,"hilite active"),Calendar.addEvent(document,"mouseup",Calendar.tableMouseUp)):a.isPopup&&a._dragStart(e),t.navtype==-1||1==t.navtype?(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout("Calendar.showMonthsCombo()",250)):t.navtype==-2||2==t.navtype?(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(t.navtype>0?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)):a.timeout=null,Calendar.stopEvent(e)},Calendar.dayMouseDblClick=function(e){Calendar.cellClick(Calendar.getElement(e),e||window.event),Calendar.is_ie&&document.selection.empty()},Calendar.dayMouseOver=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(t.ttip&&("_"==t.ttip.substr(0,1)&&(t.ttip=t.caldate.print(t.calendar.ttDateFormat)+t.ttip.substr(1)),t.calendar.tooltips.innerHTML=t.ttip),300!=t.navtype&&(Calendar.addClass(t,"hilite"),t.caldate&&Calendar.addClass(t.parentNode,"rowhilite")),Calendar.stopEvent(e))},Calendar.dayMouseOut=function(e){var t=Calendar.getElement(e);return!(Calendar.isRelated(t,e)||Calendar._C||t.disabled)&&(Calendar.removeClass(t,"hilite"),t.caldate&&Calendar.removeClass(t.parentNode,"rowhilite"),t.calendar&&(t.calendar.tooltips.innerHTML=Calendar._TT.SEL_DATE),Calendar.stopEvent(e))},Calendar.cellClick=function(e,t){function a(e){var t=i.getDate(),a=i.getMonthDays(e);t>a&&i.setDate(a),i.setMonth(e)}var n=e.calendar,r=!1,l=!1,i=null;if("undefined"==typeof e.navtype){n.currentDateEl&&(Calendar.removeClass(n.currentDateEl,"selected"),Calendar.addClass(e,"selected"),r=n.currentDateEl==e,r||(n.currentDateEl=e)),n.date.setDateOnly(e.caldate),i=n.date;var s=!(n.dateClicked=!e.otherMonth);s||n.currentDateEl?l=!e.disabled:n._toggleMultipleDate(new Date(i)),s&&n._init(n.firstDayOfWeek,i)}else{if(200==e.navtype)return Calendar.removeClass(e,"hilite"),void n.callCloseHandler();i=new Date(n.date),0==e.navtype&&(n.todayDateStr?i=new Date(n.todayDateStr):i.setDateOnly(new Date)),n.dateClicked=!1;var d=i.getFullYear(),o=i.getMonth();switch(e.navtype){case 400:Calendar.removeClass(e,"hilite");var u=Calendar._TT.ABOUT;return"undefined"!=typeof u?u+=n.showsTime?Calendar._TT.ABOUT_TIME:"":u='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n',void alert(u);case-2:d>n.minYear&&Calendar.setFullYearAndFixFebruary(i,d-1);break;case-1:o>0?a(o-1):d-- >n.minYear&&(i.setFullYear(d),a(11));break;case 1:o<11?a(o+1):d<n.maxYear&&(i.setFullYear(d+1),a(0));break;case 2:d<n.maxYear&&Calendar.setFullYearAndFixFebruary(i,d+1);break;case 100:return void n.setFirstDayOfWeek(e.fdow);case 50:for(var h=e._range,C=e.innerHTML,c=h.length;--c>=0&&h[c]!=C;);t&&t.shiftKey?--c<0&&(c=h.length-1):++c>=h.length&&(c=0);var m=h[c];return e.innerHTML=m,void n.onUpdateTime();case 0:if("function"==typeof n.getDateStatus&&n.getDateStatus(i,i.getFullYear(),i.getMonth(),i.getDate()))return!1}i.equalsTo(n.date)?0==e.navtype&&(l=r=!0):(n.setDate(i),l=!0)}l&&t&&n.callHandler(),r&&(Calendar.removeClass(e,"hilite"),t&&n.callCloseHandler())},Calendar.prototype.create=function(e){var t=null;e?(t=e,this.isPopup=!1):(t=document.getElementsByTagName("body")[0],this.isPopup=!0),this.dateStr&&(this.date=new Date(this.dateStr)),this.date&&!isNaN(this.date)||(this.date=new Date);var a=Calendar.createElement("table");this.table=a,a.cellSpacing=0,a.cellPadding=0,a.calendar=this,Calendar.addEvent(a,"mousedown",Calendar.tableMouseDown);var n=Calendar.createElement("div");this.element=n,n.className="calendar",this.isPopup&&(n.style.position="absolute",n.style.display="none"),n.appendChild(a);var r=Calendar.createElement("thead",a),l=null,i=null,s=this,d=function(e,t,a){return l=Calendar.createElement("td",i),l.colSpan=t,l.className="button",0!=a&&Math.abs(a)<=2&&(l.className+=" nav"),Calendar._add_evs(l),l.calendar=s,l.navtype=a,l.innerHTML="<div unselectable='on'>"+e+"</div>",l};i=Calendar.createElement("tr",r);var o=6;this.isPopup&&--o,this.weekNumbers&&++o,d("?",1,400).ttip=Calendar._TT.INFO,this.title=d("",o,300),this.title.className="title",this.isPopup&&(this.title.ttip=Calendar._TT.DRAG_TO_MOVE,this.title.style.cursor="move",d("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE),i=Calendar.createElement("tr",r),i.className="headrow",this._nav_py=d("&#x00ab;",1,-2),this._nav_py.ttip=Calendar._TT.PREV_YEAR,this._nav_pm=d("&#x2039;",1,-1),this._nav_pm.ttip=Calendar._TT.PREV_MONTH,this._nav_now=d(Calendar._TT.TODAY,this.weekNumbers?4:3,0),this._nav_now.ttip=Calendar._TT.GO_TODAY,this._nav_nm=d("&#x203a;",1,1),this._nav_nm.ttip=Calendar._TT.NEXT_MONTH,this._nav_ny=d("&#x00bb;",1,2),this._nav_ny.ttip=Calendar._TT.NEXT_YEAR,i=Calendar.createElement("tr",r),i.className="daynames",this.weekNumbers&&(l=Calendar.createElement("td",i),l.className="name wn",l.innerHTML=Calendar._TT.WK);for(var u=7;u>0;--u)l=Calendar.createElement("td",i),u||(l.navtype=100,l.calendar=this,Calendar._add_evs(l));this.firstdayname=this.weekNumbers?i.firstChild.nextSibling:i.firstChild,this._displayWeekdays();var h=Calendar.createElement("tbody",a);for(this.tbody=h,u=6;u>0;--u){i=Calendar.createElement("tr",h),this.weekNumbers&&(l=Calendar.createElement("td",i));for(var C=7;C>0;--C)l=Calendar.createElement("td",i),l.calendar=this,Calendar._add_evs(l)}this.showsTime?(i=Calendar.createElement("tr",h),i.className="time",l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,l.innerHTML=Calendar._TT.TIME||"&nbsp;",l=Calendar.createElement("td",i),l.className="time",l.colSpan=this.weekNumbers?4:3,function(){function e(e,t,a,n){var r=Calendar.createElement("span",l);if(r.className=e,r.innerHTML=t,r.calendar=s,r.ttip=Calendar._TT.TIME_PART,r.navtype=50,r._range=[],"number"!=typeof a)r._range=a;else for(var i=a;i<=n;++i){var d;d=i<10&&n>=10?"0"+i:""+i,r._range[r._range.length]=d}return Calendar._add_evs(r),r}var t=s.date.getHours(),a=s.date.getMinutes(),n=!s.time24,r=t>12;n&&r&&(t-=12);var d=e("hour",t,n?1:0,n?12:23),o=Calendar.createElement("span",l);o.innerHTML=":",o.className="colon";var u=e("minute",a,0,59),h=null;l=Calendar.createElement("td",i),l.className="time",l.colSpan=2,n?h=e("ampm",r?Calendar._TT.PM:Calendar._TT.AM,[Calendar._TT.am,Calendar._TT.pm]):l.innerHTML="&nbsp;",s.onSetTime=function(){var e,t=this.date.getHours(),a=this.date.getMinutes();n&&(e=t>=12,e&&(t-=12),0==t&&(t=12),h.innerHTML=e?Calendar._TT.pm:Calendar._TT.am),d.innerHTML=t<10?"0"+t:t,u.innerHTML=a<10?"0"+a:a},s.onUpdateTime=function(){var e=this.date,t=parseInt(d.innerHTML,10);n&&(new RegExp(Calendar._TT.pm,"i").test(h.innerHTML)&&t<12?t+=12:new RegExp(Calendar._TT.am,"i").test(h.innerHTML)&&12==t&&(t=0));var a=e.getDate(),r=e.getMonth(),l=e.getFullYear();e.setHours(t),e.setMinutes(parseInt(u.innerHTML,10)),e.setFullYear(l),e.setMonth(r),e.setDate(a),this.dateClicked=!1,this.callHandler()}}()):this.onSetTime=this.onUpdateTime=function(){};var c=Calendar.createElement("tfoot",a);for(i=Calendar.createElement("tr",c),i.className="footrow",l=d(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300),l.className="ttip",this.isPopup&&(l.ttip=Calendar._TT.DRAG_TO_MOVE,l.style.cursor="move"),this.tooltips=l,n=Calendar.createElement("div",this.element),this.monthsCombo=n,n.className="combo",u=0;u<Calendar._MN.length;++u){var m=Calendar.createElement("div");m.className=Calendar.is_ie?"label-IEfix":"label",m.month=u,m.innerHTML=Calendar._SMN[u],n.appendChild(m)}for(n=Calendar.createElement("div",this.element),this.yearsCombo=n,n.className="combo",u=12;u>0;--u){var p=Calendar.createElement("div");p.className=Calendar.is_ie?"label-IEfix":"label",n.appendChild(p)}this._init(this.firstDayOfWeek,this.date),t.appendChild(this.element),Calendar.addEvent(this.element,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1})},Calendar._upkeyEvent=function(e){27===e.keyCode&&window.setTimeout(function(){var e=window._dynarch_popupCalendar;return!(!e||e.multiple)&&void e.callCloseHandler()},0)},Calendar._keyEvent=function(e){function t(){h=r.currentDateEl;var e=h.pos;d=15&e,o=e>>4,u=r.ar_days[o][d]}function a(){var e=new Date(r.date);e.setDate(e.getDate()-C),r.setDate(e)}function n(){var e=new Date(r.date);e.setDate(e.getDate()+C),r.setDate(e)}var r=window._dynarch_popupCalendar;if(!r||r.multiple)return!1;var l=Calendar.is_ie||"keydown"==e.type,i=e.keyCode;if(e.ctrlKey)switch(i){case 37:l&&Calendar.cellClick(r._nav_pm);break;case 38:l&&Calendar.cellClick(r._nav_py);break;case 39:l&&Calendar.cellClick(r._nav_nm);break;case 40:l&&Calendar.cellClick(r._nav_ny)}else switch(i){case 32:Calendar.cellClick(r._nav_now);break;case 37:case 38:case 39:case 40:if(l){var s,d,o,u,h,C;for(s=37==i||38==i,C=37==i||39==i?1:7,t();;){switch(i){case 37:if(!(--d>=0)){d=6,i=38;continue}u=r.ar_days[o][d];break;case 38:--o>=0?u=r.ar_days[o][d]:(a(),t());break;case 39:if(!(++d<7)){d=0,i=40;continue}u=r.ar_days[o][d];break;case 40:++o<r.ar_days.length?u=r.ar_days[o][d]:(n(),t())}break}u&&(u.disabled?s?a():n():Calendar.cellClick(u))}break;case 13:l&&Calendar.cellClick(r.currentDateEl,e)}return Calendar.stopEvent(e)},Calendar.prototype._init=function(e,t){var a=new Date(t);a.setHours(13);var n=new Date,r=n.getFullYear(),l=n.getMonth(),i=n.getDate();this.table.style.visibility="hidden";var s=a.getFullYear();s<this.minYear?(s=this.minYear,a.setFullYear(s)):s>this.maxYear&&(s=this.maxYear,a.setFullYear(s)),this.firstDayOfWeek=e;var d=a.getMonth(),o=a.getDate();a.getMonthDays();a.setDate(1);var u=(a.getDay()-this.firstDayOfWeek)%7;u<0&&(u+=7),a.setDate(-u),a.setDate(a.getDate()+1);for(var h=this.tbody.firstChild,C=(Calendar._SMN[d],this.ar_days=new Array),c=Calendar._TT.WEEKEND,m=this.multiple?this.datesCells={}:null,p=0;p<6;++p,h=h.nextSibling){var v=h.firstChild;if(this.weekNumbers){v.className="day wn";var f=a;0==d&&0==p&&0==Date.useISO8601WeekNumbers&&(f=new Date(s,d,1)),v.innerHTML=f.getWeekNumber(this.firstDayOfWeek),v=v.nextSibling}h.className="daysrow";for(var y,g=!1,_=C[p]=[],D=0;D<7;++D,v=v.nextSibling,a.setDate(y+1)){y=a.getDate();var b=a.getDay();v.className="day day-"+y,v.pos=p<<4|D,_[D]=v;var T=a.getMonth()==d;if(T)v.otherMonth=!1,g=!0;else{if(!this.showsOtherMonths){v.className="emptycell",v.innerHTML="&nbsp;",v.disabled=!0;continue}v.className+=" othermonth",v.otherMonth=!0}if(v.disabled=!1,v.innerHTML=this.getDateText?this.getDateText(a,y):y,m&&(m[a.print("%Y%m%d")]=v),this.getDateStatus){var w=this.getDateStatus(a,s,d,y);if(this.getDateToolTip){var M=this.getDateToolTip(a,s,d,y);M&&(v.title=M)}w===!0?(v.className+=" disabled",v.disabled=!0):(/disabled/i.test(w)&&(v.disabled=!0),v.className+=" "+w)}v.disabled||(v.caldate=new Date(a),v.ttip="_",!this.multiple&&T&&y==o&&this.hiliteToday&&(v.className+=" selected",this.currentDateEl=v),a.getFullYear()==r&&a.getMonth()==l&&y==i&&(v.className+=" today",v.ttip+=Calendar._TT.PART_TODAY),c.indexOf(b.toString())!=-1&&(v.className+=v.otherMonth?" oweekend":" weekend"))}g||this.showsOtherMonths||(h.className="emptyrow")}this.date=new Date(t),this.onSetTime(),this.title.innerHTML=Calendar._MN[d]+", "+s,this.table.style.visibility="visible",this._initMultipleDates()},Calendar.prototype._initMultipleDates=function(){if(this.multiple)for(var e in this.multiple){var t=this.datesCells[e],a=this.multiple[e];a&&t&&(t.className+=" selected")}},Calendar.prototype._toggleMultipleDate=function(e){if(this.multiple){var t=e.print("%Y%m%d"),a=this.datesCells[t];if(a){var n=this.multiple[t];n?(Calendar.removeClass(a,"selected"),delete this.multiple[t]):(Calendar.addClass(a,"selected"),this.multiple[t]=e)}}},Calendar.prototype.setDateToolTipHandler=function(e){this.getDateToolTip=e},Calendar.prototype.setDate=function(e){e.equalsTo(this.date)||this._init(this.firstDayOfWeek,e)},Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)},Calendar.prototype.setFirstDayOfWeek=function(e){this._init(e,this.date),this._displayWeekdays()},Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(e){this.getDateStatus=e},Calendar.prototype.setRange=function(e,t){this.minYear=e,this.maxYear=t},Calendar.prototype.callHandler=function(){this.onSelected&&this.onSelected(this,this.date.print(this.dateFormat))},Calendar.prototype.callCloseHandler=function(){this.onClose&&this.onClose(this)},Calendar.prototype.destroy=function(){var e=this.element.parentNode;e.removeChild(this.element),Calendar._C=null,window._dynarch_popupCalendar=null},Calendar.prototype.reparent=function(e){var t=this.element;t.parentNode.removeChild(t),e.appendChild(t)},Calendar._checkCalendar=function(e){var t=window._dynarch_popupCalendar;if(!t)return!1;for(var a=Calendar.is_ie?Calendar.getElement(e):Calendar.getTargetElement(e);null!=a&&a!=t.element;a=a.parentNode);return null==a?(window._dynarch_popupCalendar.callCloseHandler(),Calendar.stopEvent(e)):void 0},Calendar.prototype.show=function(){if(!this.params.inputField.disabled){for(var e=this.table.getElementsByTagName("tr"),t=e.length;t>0;){var a=e[--t];Calendar.removeClass(a,"rowhilite");for(var n=a.getElementsByTagName("td"),r=n.length;r>0;){var l=n[--r];Calendar.removeClass(l,"hilite"),Calendar.removeClass(l,"active")}}Calendar.current=this,this.element.style.display="block",this.element.className+=" active",this.hidden=!1,this.isPopup&&(window._dynarch_popupCalendar=this,Calendar.addEvent(document,"keyup",Calendar._upkeyEvent),Calendar.addEvent(document,"keydown",Calendar._keyEvent),Calendar.addEvent(document,"mousedown",Calendar._checkCalendar))}},Calendar.prototype.hide=function(){this.isPopup&&(Calendar.removeEvent(document,"keyup",Calendar._upkeyEvent),Calendar.removeEvent(document,"keydown",Calendar._keyEvent),Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)),Calendar.current=null,this.element.style.display="none",this.element.className=this.element.className.replace(/active/gi,""),this.hidden=!0},Calendar.prototype.showAt=function(e,t){var a=this.element.style;a.left=e+"px",a.top=t+"px",this.show()},Calendar.prototype.showAtElement=function(e,t){function a(e){e.x<0&&(e.x=0),e.y<0&&(e.y=0);var t=document.createElement("div"),a=t.style;a.position="absolute",a.right=a.bottom=a.width=a.height="0px",document.body.appendChild(t);var n=Calendar.getAbsolutePos(t);document.body.removeChild(t),n.y+=jQuery(window).scrollTop(),n.x+=jQuery(window).scrollLeft();var r=e.x+e.width-n.x;r>0&&(e.x-=r),r=e.y+e.height-n.y,r>0&&(e.y-=r)}var n=this,r=Calendar.getAbsolutePos(e);return t&&"string"==typeof t?(this.element.style.display="block",Calendar.continuation_for_the_khtml_browser=function(){var l=jQuery(n.element).outerWidth(),i=jQuery(n.element).outerHeight();n.element.style.display="none";var s=t.substr(0,1),d="l";switch(t.length>1&&(d=t.substr(1,1)),s){case"T":r.y-=i;break;case"B":r.y+=jQuery(e).outerHeight();break;case"C":r.y+=(jQuery(e).outerHeight()-i)/2;break;case"t":r.y+=jQuery(e).outerHeight()-i;break;case"b":}switch(d){case"L":r.x-=l;break;case"R":r.x+=jQuery(e).outerWidth();break;case"C":r.x+=(jQuery(e).outerWidth()-l)/2;break;case"l":r.x+=jQuery(e).outerWidth()-l;break;case"r":}r.width=l,r.height=i+40,n.monthsCombo.style.display="none",a(r),n.showAt(r.x,r.y)},void Calendar.continuation_for_the_khtml_browser()):(this.showAt(r.x,r.y+e.offsetHeight),!0)},Calendar.prototype.setDateFormat=function(e){this.dateFormat=e},Calendar.prototype.setTtDateFormat=function(e){this.ttDateFormat=e},Calendar.prototype.parseDate=function(e,t){t||(t=this.dateFormat),this.setDate(Date.parseDate(e,t))},Calendar.prototype._displayWeekdays=function(){for(var e=this.firstDayOfWeek,t=this.firstdayname,a=Calendar._TT.WEEKEND,n=0;n<7;++n){t.className="day name";var r=(n+e)%7;n&&(t.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[r]),t.navtype=100,t.calendar=this,t.fdow=r,Calendar._add_evs(t)),a.indexOf(r.toString())!=-1&&Calendar.addClass(t,"weekend"),t.innerHTML=Calendar._SDN[(n+e)%7],t=t.nextSibling}},Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none",this.yearsCombo.style.display="none"},Calendar.prototype._dragStart=function(e){if(!this.dragging){this.dragging=!0;var t,a;Calendar.is_ie?(a=window.event.clientY+document.body.scrollTop,t=window.event.clientX+document.body.scrollLeft):(a=e.clientY+window.scrollY,t=e.clientX+window.scrollX);var n=this.element.style;this.xOffs=t-parseInt(n.left),this.yOffs=a-parseInt(n.top),Calendar.addEvent(document,"mousemove",Calendar.calDragIt),Calendar.addEvent(document,"mouseup",Calendar.calDragEnd)}},Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31),Date.SECOND=1e3,Date.MINUTE=60*Date.SECOND,Date.HOUR=60*Date.MINUTE,Date.DAY=24*Date.HOUR,Date.WEEK=7*Date.DAY,Date._multisplit=function(e,t){if(null==e)return null;null==t&&(t="");var a=[],n=e.length,r="",l=!1;for(i=0;i<n;i++){var s=e.charAt(i);t.indexOf(s)==-1?(l=!0,r+=s):l&&(a[a.length]=r,r="",l=!1)}return r.length>0&&(a[a.length]=r),0==a.length&&(a[a.length]=""),a},Date._parseNonDateFormatChars=function(e){var t="aAbBCdeHIJklmMnpPRSstUWVuwyY%",a="",n=e.length;for(i=0;i<n;i++){var r=e.charAt(i);if("%"==r){var l="";if(i+1<n&&(l=e.charAt(i+1)),i+=1,l.length>0&&t.indexOf(l)!=-1)continue;a.indexOf(r)==-1&&(a+=r),l.length>0&&a.indexOf(l)==-1&&(a+=l)}else a.indexOf(r)==-1&&(a+=r)}return a},Date.splitDate=function(e,t){var a=0,n=-1,r=0,l=Date._parseNonDateFormatChars(t),i=Date._multisplit(e,l),s=t.match(/%./g),d=0,o=0,u=0,h=0;for(d=0;d<i.length;++d)if(i[d])switch(s[d]){case"%d":case"%e":r=Number(i[d]);break;case"%m":n=Number(i[d])-1;break;case"%Y":case"%y":a=Number(i[d]),a<100&&(a+=a>29?1900:2e3);break;case"%b":case"%B":var C=i[d].toLowerCase(),c=!1;if("%b"==s[d])for(o=0;o<12;++o)if(Calendar._SMN[o].substr(0,C.length).toLowerCase()==C){n=o,c=!0;break}if(!c)for(o=0;o<12;++o)if(Calendar._MN[o].substr(0,C.length).toLowerCase()==C){n=o;break}break;case"%H":case"%I":case"%k":case"%l":u=Number(i[d]);break;case"%P":case"%p":/pm/i.test(i[d])&&u<12?u+=12:/am/i.test(i[d])&&u>=12&&(u-=12);break;case"%M":h=Number(i[d]);break;case"%R":var m=i[d],p=m.indexOf(":"),v=m.substring(0,p),f=p==-1?0:m.substring(p+1);u=Number(v),h=Number(f)}return{parts:i,year:a,month:n,day:r,hour:u,minute:h}},Date.parseDate=function(e,t){var a=new Date,n=Date.splitDate(e,t),r=n.parts,l=n.year,i=n.month,s=n.day,d=n.hour,o=n.minute,u=0,h=0;if(isNaN(l)&&(l=a.getFullYear()),isNaN(i)&&(i=a.getMonth()),isNaN(s)&&(s=a.getDate()),isNaN(d)&&(d=a.getHours()),isNaN(o)&&(o=a.getMinutes()),0!=l&&i!=-1&&0!=s)return new Date(l,i,s,d,o,0);for(l=0,i=-1,s=0,u=0;u<r.length;++u)if(r[u].search(/[a-zA-Z]+/)!=-1){var C=-1;for(h=0;h<12;++h)if(Calendar._MN[h].substr(0,r[u].length).toLowerCase()==r[u].toLowerCase()){C=h;break}C!=-1&&(i!=-1&&(s=i+1),i=C)}else Number(r[u])<=12&&i==-1?i=r[u]-1:Number(r[u])>31&&0==l?(l=Number(r[u]),l<100&&(l+=l>29?1900:2e3)):0==s&&(s=r[u]);return 0==l&&(l=a.getFullYear()),i!=-1&&0!=s?new Date(l,i,s,d,o,0):a},Date.prototype.getMonthDays=function(e){var t=this.getFullYear();return"undefined"==typeof e&&(e=this.getMonth()),0!=t%4||0==t%100&&0!=t%400||1!=e?Date._MD[e]:29},Date.prototype.getDayOfYear=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),13,0,0),t=new Date(this.getFullYear(),0,0,13,0,0),a=e-t;return Math.floor(a/Date.DAY)},Date.prototype.getWeekNumber=function(e){return Date.useISO8601WeekNumbers?this.getISO8601WeekNumber():this.getSimpleWeekNumber(e)},Date.prototype.getISO8601WeekNumber=function(){function e(e,t,a){return y=e,m=t,t<3&&(y-=1),t<3&&(m+=12),Math.floor(365.25*y)-Math.floor(y/100)+Math.floor(y/400)+Math.floor(30.6*(m+1))+a-62}function t(t){return year=t.getFullYear(),month=t.getMonth(),day=t.getDate(),wday=t.getDay(),weekday=(wday+6)%7+1,isoyear=year,d0=e(year,1,0),weekday0=(d0+4)%7+1,d=e(year,month+1,day),isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),11==month&&day-weekday>27&&(isoweeknr=1,isoyear+=1),0==month&&weekday-day>3&&(d0=e(year-1,1,0),weekday0=(d0+4)%7+1,isoweeknr=Math.floor((d-d0+weekday0+6)/7)-Math.floor((weekday0+3)/7),isoyear-=1),isoweeknr}return t(this)},Date.prototype.getSimpleWeekNumber=function(e){function t(e,t,a){var n,r=e.getFullYear(),l=new Date(r,0,1);return n=Math.round((e-l)/864e5),null!=t&&(n-=(7+t-l.getDay())%7),null!=a&&(n+=a),[r,1+n/7|0,1+(7+n)%7]}return t(this,e?e:6,6)[1]},Date.prototype.equalsTo=function(e){return this.getFullYear()==e.getFullYear()&&this.getMonth()==e.getMonth()&&this.getDate()==e.getDate()&&this.getHours()==e.getHours()&&this.getMinutes()==e.getMinutes()},Date.prototype.setDateOnly=function(e){var t=new Date(e);this.setDate(1),this.setFullYear(t.getFullYear()),this.setMonth(t.getMonth()),this.setDate(t.getDate())},Date.prototype.print=function(e){var t=this.getMonth(),a=this.getDate(),n=this.getFullYear(),r=this.getWeekNumber(),l=this.getDay(),i={},s=this.getHours(),d=s>=12,o=d?s-12:s,u=this.getDayOfYear();0==o&&(o=12);var h=this.getMinutes(),C=this.getSeconds();i["%a"]=Calendar._SDN[l],i["%A"]=Calendar._DN[l],i["%b"]=Calendar._SMN[t],i["%B"]=Calendar._MN[t],i["%C"]=1+Math.floor(n/100),i["%d"]=a<10?"0"+a:a,i["%e"]=a,i["%H"]=s<10?"0"+s:s,i["%I"]=o<10?"0"+o:o,i["%j"]=u<100?u<10?"00"+u:"0"+u:u,i["%k"]=s,i["%l"]=o,i["%m"]=t<9?"0"+(1+t):1+t,i["%M"]=h<10?"0"+h:h,i["%n"]="\n",i["%p"]=d?Calendar._TT.PM:Calendar._TT.AM,i["%P"]=d?Calendar._TT.PM:Calendar._TT.AM,i["%R"]=i["%k"]+":"+i["%M"],i["%s"]=Math.floor(this.getTime()/1e3),i["%S"]=C<10?"0"+C:C,i["%t"]="\t",i["%U"]=i["%W"]=i["%V"]=r<10?"0"+r:r,i["%u"]=l+1,i["%w"]=l,i["%y"]=(""+n).slice(-2),i["%Y"]=n,i["%%"]="%";var c=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml)return e.replace(c,function(e){return i[e]||e});for(var m=e.match(c),p=0;p<m.length;p++){var v=i[m[p]];v&&(c=new RegExp(m[p],"g"),e=e.replace(c,v))}return e},window._dynarch_popupCalendar=null;;
;
/* module-key = 'jira.webresources:calendar', location = '/includes/lib/calendar/Calendar.setup.js' */
Calendar.setup=function(e){function t(t,a){"undefined"==typeof e[t]&&(e[t]=a)}function a(e){var t=e.params,a=e.dateClicked||t.electric;a&&t.inputField&&(t.inputField.value=e.date.print(t.ifFormat),jQuery(t.inputField).change()),a&&t.displayArea&&(t.displayArea.innerHTML=e.date.print(t.daFormat)),a&&"function"==typeof t.onUpdate&&t.onUpdate(e),a&&t.flat&&"function"==typeof t.flatCallback&&t.flatCallback(e),"true"===t.singleClick?t.singleClick=!0:"false"===t.singleClick&&(t.singleClick=!1),a&&t.singleClick&&e.dateClicked&&e.callCloseHandler()}function n(){if(Calendar._UNSUPPORTED===!0)return void alert("The JIRA Calendar does not currently support your language.");var t=e.inputField||e.displayArea,n=e.inputField?e.ifFormat:e.daFormat,l=!1,i=window.calendar;if(i&&i.hide(),t&&(t.value||t.innerHTML)&&(e.date=Date.parseDate(t.value||t.innerHTML,n)),i&&e.cache?(e.date&&i.setDate(e.date),i.hide()):(window.calendar=i=new Calendar(e.firstDay,e.date,e.todayDate,e.onSelect||a,e.onClose||function(e){e.hide()}),i.showsTime=e.showsTime,i.time24="24"==e.timeFormat,i.weekNumbers=e.weekNumbers,Date.useISO8601WeekNumbers=e.useISO8601WeekNumbers,e.useISO8601WeekNumbers&&(i.firstDayOfWeek=1),l=!0),e.multiple){i.multiple={};for(var r=e.multiple.length;--r>=0;){var u=e.multiple[r],s=u.print("%Y%m%d");i.multiple[s]=u}}return i.showsOtherMonths=e.showOthers,i.yearStep=e.step,i.setRange(e.range[0],e.range[1]),i.params=e,i.setDateStatusHandler(e.dateStatusFunc),i.getDateText=e.dateText,i.setDateFormat(n),l&&i.create(),i.refresh(),e.position?i.showAt(e.position[0],e.position[1]):i.showAtElement(e.button||e.displayArea||e.inputField,e.align),!1}function l(){var t=jQuery(e.inputField);e.button&&jQuery(e.button).mousedown(function(e){e.preventDefault(),!t.is(":focus")&&t.is(":enabled")&&t.focus()}),t.keydown(function(e){var t=window.calendar;40===e.keyCode&&(t&&!t.hidden||setTimeout(function(){n()},1))})}e=e||{},t("inputField",null),t("context",null),t("displayArea",null),t("button",null),t("eventName","click"),t("ifFormat","%Y/%m/%d"),t("daFormat","%Y/%m/%d"),t("singleClick",!0),t("disableFunc",null),t("dateStatusFunc",e.disableFunc),t("dateText",null),t("firstDay",null),t("align","Br"),t("range",[1900,2999]),t("weekNumbers",!0),t("useISO8601WeekNumbers",!1),t("flat",null),t("flatCallback",null),t("onSelect",null),t("onClose",null),t("onUpdate",null),t("date",null),t("todayDate",null),t("showsTime",!1),t("timeFormat","24"),t("electric",!0),t("step",1),t("position",null),t("cache",!1),t("showOthers",!1),t("multiple",null);var i,r,u=["context","inputField","button","displayArea"];for(i in u)r=u[i],e[r]instanceof jQuery&&(e[r]=e[r][0]);var s=["inputField","displayArea","button"];for(i in s)if(r=s[i],"string"==typeof e[r]){var o="#"+e[r].escapejQuerySelector(),d=jQuery(e.context||document.body).find(o);e[r]=d[0]}if(!(e.flat||e.multiple||e.inputField||e.displayArea||e.button))return AJS.log("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code"),!1;if(e.firstDay&&null!==e.firstDay&&(e.firstDay=+e.firstDay),null!=e.flat){if("string"==typeof e.flat&&(e.flat=document.getElementById(e.flat)),!e.flat)return AJS.log("Calendar.setup:\n  Flat specified but can't find parent."),!1;var p=new Calendar(e.firstDay,e.date,e.todayDate,e.onSelect||a);return p.showsOtherMonths=e.showOthers,p.showsTime=e.showsTime,p.time24="24"==e.timeFormat,p.params=e,p.weekNumbers=e.weekNumbers,p.setRange(e.range[0],e.range[1]),p.setDateStatusHandler(e.dateStatusFunc),p.getDateText=e.dateText,e.ifFormat&&p.setDateFormat(e.ifFormat),e.inputField&&"string"==typeof e.inputField.value&&p.parseDate(e.inputField.value),p.create(e.flat),p.show(),!1}var f=e.button||e.displayArea||e.inputField;return jQuery(f).bind(e.eventName,function(e){e.preventDefault(),n()}),e.inputField&&l(),p};;
;
/* module-key = 'jira.webresources:calendar-en', location = '/includes/lib/calendar/lang/calendar-en.js' */
Calendar._DN=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"),Calendar._SDN=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"),Calendar._FD=0,Calendar._MN=new Array("January","February","March","April","May","June","July","August","September","October","November","December"),Calendar._SMN=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),Calendar._TT={},Calendar._TT.INFO="About the calendar",Calendar._TT.ABOUT="DHTML Date/Time Selector\n(c) dynarch.com 2002-2005 / Author: Mihai Bazon\nFor latest version visit: http://www.dynarch.com/projects/calendar/\nDistributed under GNU LGPL.  See http://gnu.org/licenses/lgpl.html for details.\n\nDate selection:\n- Use the «, » buttons to select year\n- Use the "+String.fromCharCode(8249)+", "+String.fromCharCode(8250)+" buttons to select month\n- Hold mouse button on any of the above buttons for faster selection.",Calendar._TT.ABOUT_TIME="\n\nTime selection:\n- Click on any of the time parts to increase it\n- or Shift-click to decrease it\n- or click and drag for faster selection.",Calendar._TT.PREV_YEAR="Prev. year (hold for menu)",Calendar._TT.PREV_MONTH="Prev. month (hold for menu)",Calendar._TT.GO_TODAY="Go Today",Calendar._TT.NEXT_MONTH="Next month (hold for menu)",Calendar._TT.NEXT_YEAR="Next year (hold for menu)",Calendar._TT.SEL_DATE="Select date",Calendar._TT.DRAG_TO_MOVE="Drag to move",Calendar._TT.PART_TODAY=" (today)",Calendar._TT.DAY_FIRST="Display %s first",Calendar._TT.WEEKEND="0,6",Calendar._TT.CLOSE="Close",Calendar._TT.TODAY="Today",Calendar._TT.TIME_PART="(Shift-)Click or drag to change value",Calendar._TT.DEF_DATE_FORMAT="%Y-%m-%d",Calendar._TT.TT_DATE_FORMAT="%a, %b %e",Calendar._TT.WK="wk",Calendar._TT.TIME="Time:",Calendar._TT.AM="AM",Calendar._TT.PM="PM",Calendar._TT.am="am",Calendar._TT.pm="pm";;
;
/* module-key = 'com.atlassian.auiplugin:internal-@atlassian-aui-src-js-aui-dialog2', location = 'auiplugin/node_modules/@atlassian/aui/src/js/aui/dialog2.js' */
("undefined"===typeof window?global:window).__bdbf9d213bf319eb4577ef21ac6c491c=function(){function f(a){return a&&a.__esModule?a:{"default":a}}function e(a){var c=this.$el=a?(0,g.default)(a):(0,g.default)(aui.dialog.dialog2({}));g.default.each(i,function(a,b){var d="data-"+a;c[0].hasAttribute(d)||c.attr(d,b)})}var h={};"use strict";Object.defineProperty(h,"__esModule",{value:!0});var g=f(__307d3e18fd611f85395c67cddeb1fe24),j=f(__574ac67f906effeb9d8ec2753b23cf28),k=f(__4d02fe17b8e885a34493e34af3d145dd),
b=f(__fe0cd0a7ef176e2ef4e0e105d1ce31f5),l=f(__e3152236c406a356c24f20f7bfcccf21),i={"aui-focus":"false","aui-blanketed":"true"};e.prototype.on=function(a,c){(0,b.default)(this.$el).on(a,c);return this};e.prototype.off=function(a,c){(0,b.default)(this.$el).off(a,c);return this};e.prototype.show=function(){(0,b.default)(this.$el).show();return this};e.prototype.hide=function(){(0,b.default)(this.$el).hide();return this};e.prototype.remove=function(){(0,b.default)(this.$el).remove();return this};e.prototype.isVisible=
function(){return(0,b.default)(this.$el).isVisible()};var d=(0,l.default)("dialog2",e);d.on=function(a,c){b.default.on(a,".aui-dialog2",c);return this};d.off=function(a,c){b.default.off(a,".aui-dialog2",c);return this};(0,g.default)(document).on("click",".aui-dialog2-header-close",function(a){a.preventDefault();d((0,g.default)(this).closest(".aui-dialog2")).hide()});d.on("show",function(a,c){var b;[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"].some(function(a){b=c.find(a+" :aui-tabbable");
return b.length});b&&b.first().focus()});d.on("hide",function(a,c){var d=(0,b.default)(c);c.data("aui-remove-on-hide")&&d.remove()});(0,j.default)("aui/dialog2",d);(0,k.default)("dialog2",d);h.default=d;return h=h["default"]}.call(this);;
;
/* module-key = 'com.atlassian.auiplugin:dialog2', location = 'auiplugin/src/soy/dialog2.soy' */
// This file was automatically generated from dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dialog.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dialog == 'undefined') { aui.dialog = {}; }


aui.dialog.dialog2 = function(opt_data, opt_ignored) {
  return '' + aui.dialog.dialog2Chrome({id: opt_data.id, titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, modal: opt_data.modal, tagName: opt_data.tagName, removeOnHide: opt_data.removeOnHide, visible: opt_data.visible, size: opt_data.size, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.dialog.dialog2Content({id: null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, headerActionContent: opt_data.headerActionContent, headerSecondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal, content: opt_data.content, footerHintText: opt_data.footerHintText, footerHintContent: opt_data.footerHintContent, footerActionContent: opt_data.footerActionContent})});
};
if (goog.DEBUG) {
  aui.dialog.dialog2.soyTemplateName = 'aui.dialog.dialog2';
}


aui.dialog.dialog2Chrome = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.titleId) ? ' aria-labelledby="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' role="dialog" class=" aui-layer aui-dialog2 aui-dialog2-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'medium') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.modal) ? 'data-aui-modal="true"' : '') + ((opt_data.removeOnHide) ? 'data-aui-remove-on-hide="true"' : '') + ((opt_data.visible != true) ? 'aria-hidden="true"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Chrome.soyTemplateName = 'aui.dialog.dialog2Chrome';
}


aui.dialog.dialog2Content = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.dialog.dialog2Header({titleId: opt_data.id ? opt_data.id + '-dialog-title' : null, titleText: opt_data.titleText, titleContent: opt_data.titleContent, actionContent: opt_data.headerActionContent, secondaryContent: opt_data.headerSecondaryContent, modal: opt_data.modal}) + aui.dialog.dialog2Panel(opt_data) + aui.dialog.dialog2Footer({hintText: opt_data.footerHintText, hintContent: opt_data.footerHintContent, actionContent: opt_data.footerActionContent});
};
if (goog.DEBUG) {
  aui.dialog.dialog2Content.soyTemplateName = 'aui.dialog.dialog2Content';
}


aui.dialog.dialog2Header = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<header' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-header' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><h2 ' + ((opt_data.titleId) ? ' id="' + soy.$$escapeHtml(opt_data.titleId) + '"' : '') + ' class="aui-dialog2-header-main">' + ((opt_data.titleText) ? soy.$$escapeHtml(opt_data.titleText) : '') + ((opt_data.titleContent) ? soy.$$filterNoAutoescape(opt_data.titleContent) : '') + '</h2>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-header-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.secondaryContent) ? '<div class="aui-dialog2-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryContent) + '</div>' : '') + ((opt_data.modal != true) ? '<a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('Close') + '</span></a>' : '') + '</header>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Header.soyTemplateName = 'aui.dialog.dialog2Header';
}


aui.dialog.dialog2Footer = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<footer' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-footer' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.actionContent) ? '<div class="aui-dialog2-footer-actions">' + soy.$$filterNoAutoescape(opt_data.actionContent) + '</div>' : '') + ((opt_data.hintText || opt_data.hintContent) ? '<div class="aui-dialog2-footer-hint">' + ((opt_data.hintText) ? soy.$$escapeHtml(opt_data.hintText) : '') + ((opt_data.hintContent) ? soy.$$filterNoAutoescape(opt_data.hintContent) : '') + '</div>' : '') + '</footer>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Footer.soyTemplateName = 'aui.dialog.dialog2Footer';
}


aui.dialog.dialog2Panel = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dialog2-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.dialog.dialog2Panel.soyTemplateName = 'aui.dialog.dialog2Panel';
}
;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:dialog-options-v5', location = 'atlassian-connect/v5/js/iframe/host/dialog-options.js' */
!function(){window._AP=window._AP||{};var a,n=WRM.data.claim("com.atlassian.plugins.atlassian-connect-plugin:dialog-options.data");for(a in n)n.hasOwnProperty(a)&&(window._AP[a]=n[a])}();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:iframe-host-utils-v5', location = 'atlassian-connect/v5/js/iframe/host/util.js' */
window._AP=window._AP||{};_AP.util={escapeSelector:function(e){if(!e)throw new Error("No selector to escape");return e.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},isGlobalDefined:function(e){return void 0!==window[e]},awaitGlobal:function(e,t,r){r=r||100;var a;_AP.util.isGlobalDefined(e)?t(window[e]):a=setInterval(function(){if(_AP.util.isGlobalDefined(e)){clearInterval(a);t(window[e])}},r)},getBooleanFeatureFlag:function(e){if(AJS&&AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled&&AJS.DarkFeatures.isEnabled(e))return!0;var t=document.querySelector('meta[name="ajs-fe-feature-flags"]');if(!t)return!1;var r=t.getAttribute("content");if(!r)return!1;t={};try{t=JSON.parse(r)}catch(e){return!1}return!(!t[e]||"boolean"!=typeof t[e].value)&&t[e].value}};;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-core-v5', location = 'atlassian-connect/v5/js/core/connect-host.js' */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).connectHost=t()}(this,function(){"use strict";var i=function(e,t){e.prototype=Object.create(t.prototype);(e.prototype.constructor=e).__proto__=t};function a(){}a.prototype=Object.create(null);function t(){t.init.call(this)}(t.EventEmitter=t).usingDomains=!1;t.prototype.domain=void 0;t.prototype._events=void 0;t.prototype._maxListeners=void 0;t.defaultMaxListeners=10;t.init=function(){this.domain=null;t.usingDomains&&(void 0).active;if(!this._events||this._events===Object.getPrototypeOf(this)._events){this._events=new a;this._eventsCount=0}this._maxListeners=this._maxListeners||void 0};t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');this._maxListeners=e;return this};function d(e){return void 0===e._maxListeners?t.defaultMaxListeners:e._maxListeners}t.prototype.getMaxListeners=function(){return d(this)};t.prototype.emit=function(e){var t,n,i,o,r,s="error"===e,a=this._events;if(a)s=s&&null==a.error;else if(!s)return!1;r=this.domain;if(s){t=arguments[1];if(!r){if(t instanceof Error)throw t;s=new Error('Uncaught, unspecified "error" event. ('+t+")");s.context=t;throw s}(t=t||new Error('Uncaught, unspecified "error" event')).domainEmitter=this;t.domain=r;t.domainThrown=!1;r.emit("error",t);return!1}if(!(n=a[e]))return!1;var d,c="function"==typeof n;switch(d=arguments.length){case 1:!function(e,t,n){if(t)e.call(n);else for(var i=e.length,o=l(e,i),r=0;r<i;++r)o[r].call(n)}(n,c,this);break;case 2:!function(e,t,n,i){if(t)e.call(n,i);else for(var o=e.length,r=l(e,o),s=0;s<o;++s)r[s].call(n,i)}(n,c,this,arguments[1]);break;case 3:!function(e,t,n,i,o){if(t)e.call(n,i,o);else for(var r=e.length,s=l(e,r),a=0;a<r;++a)s[a].call(n,i,o)}(n,c,this,arguments[1],arguments[2]);break;case 4:!function(e,t,n,i,o,r){if(t)e.call(n,i,o,r);else for(var s=e.length,a=l(e,s),d=0;d<s;++d)a[d].call(n,i,o,r)}(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:i=new Array(d-1);for(o=1;o<d;o++)i[o-1]=arguments[o];!function(e,t,n,i){if(t)e.apply(n,i);else for(var o=e.length,r=l(e,o),s=0;s<o;++s)r[s].apply(n,i)}(n,c,this,i)}return!0};function n(e,t,n,i){var o,r,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(r=e._events){if(r.newListener){e.emit("newListener",t,n.listener||n);r=e._events}s=r[t]}else{r=e._events=new a;e._eventsCount=0}if(s){"function"==typeof s?s=r[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n);if(!s.warned&&(o=d(e))&&0<o&&s.length>o){s.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning";i.emitter=e;i.type=t;i.count=s.length;i=i,"function"==typeof console.warn?console.warn(i):console.log(i)}}else{s=r[t]=n;++e._eventsCount}return e}t.prototype.addListener=function(e,t){return n(this,e,t,!1)};t.prototype.on=t.prototype.addListener;t.prototype.prependListener=function(e,t){return n(this,e,t,!0)};function o(e,t,n){var i=!1;function o(){e.removeListener(t,o);if(!i){i=!0;n.apply(e,arguments)}}o.listener=n;return o}t.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');this.on(e,o(this,e,t));return this};t.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');this.prependListener(e,o(this,e,t));return this};t.prototype.removeListener=function(e,t){var n,i,o,r,s;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(i=this._events))return this;if(!(n=i[e]))return this;if(n===t||n.listener&&n.listener===t)if(0==--this._eventsCount)this._events=new a;else{delete i[e];i.removeListener&&this.emit("removeListener",e,n.listener||t)}else if("function"!=typeof n){o=-1;for(r=n.length;0<r--;)if(n[r]===t||n[r].listener&&n[r].listener===t){s=n[r].listener;o=r;break}if(o<0)return this;if(1===n.length){n[0]=void 0;if(0==--this._eventsCount){this._events=new a;return this}delete i[e]}else!function(e,t){for(var n=t,i=n+1,o=e.length;i<o;n+=1,i+=1)e[n]=e[i];e.pop()}(n,o);i.removeListener&&this.emit("removeListener",e,s||t)}return this};t.prototype.removeAllListeners=function(e){var t,n=this._events;if(!n)return this;if(!n.removeListener){if(0===arguments.length){this._events=new a;this._eventsCount=0}else n[e]&&(0==--this._eventsCount?this._events=new a:delete n[e]);return this}if(0===arguments.length){for(var i,o=Object.keys(n),r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);this.removeAllListeners("removeListener");this._events=new a;this._eventsCount=0;return this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(;this.removeListener(e,t[t.length-1]),t[0];);return this};t.prototype.listeners=function(e){var t=this._events,n=t&&(n=t[e])?"function"==typeof n?[n.listener||n]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(n):[];return n};t.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):r.call(e,t)};t.prototype.listenerCount=r;function r(e){var t=this._events;if(t){e=t[e];if("function"==typeof e)return 1;if(e)return e.length}return 0}t.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]};function l(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}var s,c,u=new(function(t){i(e,t);function e(){var e=t.call(this)||this;e.setMaxListeners(20);return e}var n=e.prototype;n.dispatch=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.emit.apply(this,["before:"+e].concat(n));this.emit.apply(this,arguments);this.emit.apply(this,["after:"+e].concat(n))};n.registerOnce=function(e,t){if("string"!=typeof e)throw"ACJS: event name must be string";this.once(e,t)};n.register=function(e,t){if("string"!=typeof e)throw"ACJS: event name must be string";this.on(e,t)};n.unregister=function(e,t){if("string"!=typeof e)throw"ACJS: event name must be string";this.removeListener(e,t)};return e}(t)),f=window.AJS&&window.AJS.$||function(){},p=[];"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&(s=new IntersectionObserver(function(e){e.forEach(function(e){var n,t=e.intersectionRatio,e=e.target;if(0<t){s.unobserve(e);n=e,p=p.filter(function(e){var t=e.element,e=e.callback;if(t!==n)return!0;e();return!1})}})},{threshold:.25}),c=s.observe.bind(s));function g(e){if(AJS&&AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled&&AJS.DarkFeatures.isEnabled(e))return!0;var t=window.featureFlags||AJS&&AJS.Meta&&AJS.Meta.get&&AJS.Meta.get("fe-feature-flags");if(!t)return!1;var n={};try{n="object"==typeof t?t:JSON.parse(t)}catch(e){return!1}return!(!n[e]||"boolean"!=typeof n[e].value)&&n[e].value}var h=new(function(){function e(){this._addons={}}var t=e.prototype;t._track=function(e,t){var n=window,e="connect.addon."+e;(t=t||{}).version=n._AP&&n._AP.version?n._AP.version:void 0;t.userAgent=n.navigator.userAgent;if(!n.AJS)return!1;if(n.AJS.Analytics)n.AJS.Analytics.triggerPrivacyPolicySafeEvent(e,t);else{if(!n.AJS.trigger)return!1;AJS.trigger("analyticsEvent",{name:e,data:t})}return!0};t._trackGasV3=function(e,t){try{window.require("ac/analytics").emitGasV3(e,t)}catch(e){console.info("Connect GasV3 catch",e)}};t._time=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()};t.trackLoadingStarted=function(e){if(this._addons&&e&&e.id){e.startLoading=this._time();this._addons[e.id]=e}else console.error("ACJS: cannot track loading analytics",this._addons,e)};t.trackLoadingEnded=function(e){var t=this;if(this._addons&&e&&this._addons[e.id]){var n,i=e.url,o=void 0!==i&&-1===i.indexOf("xdm_e="),r=this._time()-this._addons[e.id].startLoading,i=this.getIframeLoadApdex(r);try{n=Object.keys(JSON.parse(this._addons[e.id].$el[0].name).api).sort().toString()}catch(e){n="error"}var s={addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,moduleLocation:e.options?e.options.moduleLocation:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false",iframeLoadMillis:r,iframeLoadApdex:i,iframeIsCacheable:o,value:2e4<r?"x":Math.ceil(r/100),api:n};"function"==typeof window.requestIdleCallback?window.requestIdleCallback(function(){return t._track("iframe.performance.load",s)},{timeout:100}):this._track("iframe.performance.load",s)}else console.error("ACJS: cannot track loading end analytics",this._addons,e)};t.getIframeLoadApdex=function(e){return e<=300?1:e<=1200?.5:0};t.trackLoadingTimeout=function(e){var t=window.navigator.onLine;this._track("iframe.performance.timeout",{addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,moduleLocation:e.options?e.options.moduleLocation:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false",connectedStatus:(t="boolean"!=typeof t?"not-supported":t).toString()});this.trackLoadingEnded(e)};t.trackLoadingCancel=function(e){this._track("iframe.performance.cancel",{addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,moduleLocation:e.options?e.options.moduleLocation:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false"})};t.trackUseOfDeprecatedMethod=function(e,t){this._track("jsapi.deprecated",{addonKey:t.addon_key,moduleKey:t.key,methodUsed:e})};t.trackMultipleDialogOpening=function(e,t){this._track("jsapi.dialog.multiple",{addonKey:t.addon_key,moduleKey:t.key,dialogType:e})};t.trackVisible=function(e){this._track("iframe.is_visible",{addonKey:e.addon_key,moduleKey:e.key,moduleType:e.options?e.options.moduleType:void 0,pearApp:e.options&&"true"===e.options.pearApp?"true":"false"})};t.trackIframePerformance=function(e,t){this._trackGasV3("operational",{source:t.addon_key,action:"iframeRendered",actionSubject:"connectAddon",actionSubjectId:t.addon_key,attributes:{key:t.key,pearApp:this._getPearApp(t),moduleType:this._getModuleType(t),iframeIsCacheable:this._isCacheable(t),moduleLocation:this._getModuleLocation(t),domainLookupTime:e.domainLookupTime,connectionTime:e.connectionTime,decodedBodySize:e.decodedBodySize,domContentLoadedTime:e.domContentLoadedTime,fetchTime:e.fetchTime}})};t.dispatch=function(e,t){this._track(e,t)};t.trackExternal=function(e,t){this._track(e,t)};t._resetAnalyticsDueToUnreliable=function(e){if(!e)throw new Error("Cannot reset analytics due to no extension id");if(this._addons[e]){clearTimeout(this._addons[e]);delete this._addons[e]}else console.info("Cannot clear analytics, cache does not contain extension id")};t._isCacheable=function(e){e=e.url;return void 0!==e&&-1===e.indexOf("xdm_e=")};t._getModuleType=function(e){return e.options?e.options.moduleType:void 0};t._getModuleLocation=function(e){return e.options?e.options.moduleLocation:void 0};t._getPearApp=function(e){return e.options&&"true"===e.options.pearApp};t.trackGasV3Visible=function(e){this._trackGasV3("operational",{action:"iframeViewed",actionSubject:"connectAddon",actionSubjectId:e.addon_key,attributes:{moduleType:this._getModuleType(e),iframeIsCacheable:this._isCacheable(e),moduleKey:e.key,moduleLocation:this._getModuleLocation(e),pearApp:this._getPearApp(e)},source:e.addon_key})};t.trackGasV3LoadingEnded=function(e){var t=this._time()-this._addons[e.id].startLoading;this._trackGasV3("operational",{action:"iframeLoaded",actionSubject:"connectAddon",actionSubjectId:e.addon_key,attributes:{moduleType:this._getModuleType(e),iframeIsCacheable:this._isCacheable(e),iframeLoadMillis:t,moduleKey:e.key,moduleLocation:this._getModuleLocation(e),pearApp:this._getPearApp(e)},source:e.addon_key})};t.trackGasV3LoadingTimeout=function(e){this._trackGasV3("operational",{action:"iframeTimeout",actionSubject:"connectAddon",actionSubjectId:e.addon_key,attributes:{moduleType:this._getModuleType(e),iframeIsCacheable:this._isCacheable(e),moduleKey:e.key,moduleLocation:this._getModuleLocation(e),pearApp:this._getPearApp(e)},source:e.addon_key})};return e}());f.fn&&u.register("iframe-create",function(e){h.trackLoadingStarted(e.extension)});u.register("iframe-bridge-start",function(e){h.trackLoadingStarted(e.extension)});u.register("iframe-bridge-established",function(e){h.trackLoadingEnded(e.extension);!function(e,t){if("function"==typeof t&&e instanceof Element){p.push({element:e,callback:t});c(e)}}(document.getElementById(e.extension.id),function(){u.dispatch("iframe-visible",e.extension);h.trackVisible(e.extension);h.trackGasV3Visible(e.extension)})});u.register("iframe-bridge-established",function(e){h.trackGasV3LoadingEnded(e.extension)});u.register("iframe-bridge-timeout",function(e){h.trackLoadingTimeout(e.extension)});u.register("iframe-bridge-cancelled",function(e){h.trackLoadingCancel(e.extension)});u.register("analytics-deprecated-method-used",function(e){h.trackUseOfDeprecatedMethod(e.methodUsed,e.extension)});u.register("analytics-iframe-performance",function(e){h.trackIframePerformance(e.metrics,e.extension)});u.register("iframe-destroyed",function(e){h._resetAnalyticsDueToUnreliable(e.extension.extension_id)});u.register("analytics-external-event-track",function(e){h.trackExternal(e.eventName,e.values)});u.register("iframe-bridge-timeout",function(e){h.trackGasV3LoadingTimeout(e.extension)});var m=function(e,t){u.dispatch("iframe-bridge-timeout",{$el:e,extension:t})},y=function(e,t){u.dispatch("iframe-bridge-cancelled",{$el:e,extension:t})},v="ap-status-indicator",_='<div class="ap-loading"><div class="small-spinner"></div>Loading app...</div>',x='<div class="ap-load-timeout"><div class="small-spinner"></div>App is not responding. Wait or <a href="#" class="ap-btn-cancel">cancel</a>?</div>',b="App failed to load.",w=new(function(){function e(){this._stateRegistry={}}var t=e.prototype;t._loadingContainer=function(e){return e.find("."+v)};t.render=function(){var e=document.createElement("div");e.classList.add(v);e.innerHTML=_;e=f(e);this._startSpinner(e);return e};t._startSpinner=function(t){setTimeout(function(){var e=t.find(".small-spinner");e.length&&e.spin&&e.spin({lines:12,length:3,width:2,radius:3,trail:60,speed:1.5,zIndex:1})},10)};t.hide=function(e,t){this._clearTimeout(t);this._loadingContainer(e)[0].style.display="none"};t.cancelled=function(e,t){var n=b;this._loadingContainer(e).empty().text(n)};t._setupTimeout=function(e,t){this._stateRegistry[t.id]=setTimeout(function(){m(e,t)},12e3)};t._clearTimeout=function(e){if(this._stateRegistry[e]){clearTimeout(this._stateRegistry[e]);delete this._stateRegistry[e]}};t.timeout=function(e,t){var n=f(x),i=this._loadingContainer(e);i.empty().append(n);this._startSpinner(i);f("a.ap-btn-cancel",i).click(function(){y(e,t)});this._clearTimeout(t);return i};return e}());u.register("iframe-create",function(e){e.extension.options.noDom||w._setupTimeout(e.$el.parents(".ap-iframe-container"),e.extension)});u.register("iframe-bridge-established",function(e){e.extension.options.noDom||w.hide(e.$el.parents(".ap-iframe-container"),e.extension.id)});u.register("iframe-bridge-timeout",function(e){e.extension.options.noDom||w.timeout(e.$el,e.extension.id)});u.register("iframe-bridge-cancelled",function(e){e.extension.options.noDom||w.cancelled(e.$el,e.extension.id)});u.register("iframe-destroyed",function(e){w._clearTimeout(e.extension.extension_id)});var k=function(e,t){if(null==e)return{};for(var n,i={},o=Object.keys(e),r=0;r<o.length;r++){n=o[r];0<=t.indexOf(n)||(i[n]=e[n])}return i};function E(e,t){A=E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var A=E,C=A;function I(e,t,n){O=I=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return 1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);i=new(Function.bind.apply(e,i));n&&C(i,n.prototype);return i};return I.apply(null,arguments)}var O=I,S=O,P="[Simple-XDM] ",T=Function.prototype.bind,M={locationOrigin:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},randomString:function(){return Math.floor(1e9*Math.random()).toString(16)},isString:function(e){return"string"==typeof e||e instanceof String},argumentsToArray:function(e){return Array.prototype.slice.call(e)},argumentNames:function(e){return e.toString().replace(/((\/\/.*$)|(\/\*[^]*?\*\/))/gm,"").replace(/[^(]+\(([^)]*)[^]+/,"$1").match(/([^\s,]+)/g)||[]},hasCallback:function(e){var t=e.length;return 0<t&&"function"==typeof e[t-1]},error:function(e){if(window.console&&window.console.error){var t=[];if("string"==typeof e){t.push(P+e);t=t.concat(Array.prototype.slice.call(arguments,1))}else{t.push(P);t=t.concat(Array.prototype.slice.call(arguments))}window.console.error.apply(null,t)}},warn:function(e){window.console&&console.warn(P+e)},log:function(e){window.console&&window.console.log(P+e)},_bind:function(e,t){return T&&t.bind===T?t.bind(e):function(){return t.apply(e,arguments)}},throttle:function(t,n,i){var o=0;return function(){var e=Date.now();if(n<e-o){o=e;t.apply(i,arguments)}}},each:function(e,t){var n,i;if(e)if(null!=(n=e.length)&&"function"!=typeof e){i=0;for(;i<n&&!1!==t.call(e[i],i,e[i]);)i+=1}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(e[i],i,e[i]))break},extend:function(n){var e=arguments;[].slice.call(e,1,e.length).forEach(function(t){"object"==typeof t&&Object.getOwnPropertyNames(t).forEach(function(e){n[e]=t[e]})});return n},sanitizeStructuredClone:function(e){var r=[Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer],s=[Error,Node],a=M.warn,d=[];return function e(t){if("function"==typeof t){a("A function was detected and removed from the message.");return null}if(s.some(function(e){if(t instanceof e){a(e.name+" object was detected and removed from the message.");return!0}return!1}))return{};if(t&&"object"==typeof t&&r.every(function(e){return!(t instanceof e)})){var n;if(Array.isArray(t))n=t.map(e);else{if(-1<d.indexOf(t)){a("A circular reference was detected and removed from the message.");return null}d.push(t);n={};for(var i in t)if(t.hasOwnProperty(i)){var o=e(t[i]);null!==o&&(n[i]=o)}d.pop()}return n}return t}(e)},getOrigin:function(e,t){if("function"==typeof URL)try{return new URL(e,t).origin}catch(e){}var n=document.implementation.createHTMLDocument("");if(t){var i=n.createElement("base");i.href=t;n.head.appendChild(i)}i=n.createElement("a");i.href=e;n.body.appendChild(i);n=i.protocol+"//"+i.hostname;e.match(/\/\/[^/]+:[0-9]+\//)&&(n+=i.port?":"+i.port:"");return n}},D=function(n){i(t,n);var e=t.prototype;e._padUndefinedArguments=function(e,t){return e.length>=t?e:e.concat(new Array(t-e.length))};function t(e){var t;(t=n.call(this,e=e||{})||this)._registeredExtensions=e.extensions||{};t._registeredAPIModules={};t._registeredAPIModules._globals={};t._pendingCallbacks={};t._keycodeCallbacks={};t._clickHandler=null;t._pendingEvents={};t._messageHandlers={init:t._handleInit,req:t._handleRequest,resp:t._handleResponse,broadcast:t._handleBroadcast,event_query:t._handleEventQuery,key_triggered:t._handleKeyTriggered,addon_clicked:t._handleAddonClick,get_host_offset:t._getHostOffset,unload:t._handleUnload,sub:t._handleSubInit};return t}e._verifyAPI=function(e,t){var n=e.data.targets;if(n){var i=this.getApiSpec(),o=!1;!function t(n,i){Object.getOwnPropertyNames(i).forEach(function(e){"object"==typeof i[e]&&n[e]?t(n[e],i[e]):"parent"===i[e]&&n[e]&&(o=!0)})}(i,n);e.source.postMessage({type:"api_tamper",tampered:o},t.extension.url)}};e._handleInit=function(e,t){e.source.postMessage({type:"init_received"},t.extension.url);this._registeredExtensions[t.extension_id].source=e.source;if(t.initCallback){t.initCallback(e.data.eid);delete t.initCallback}e.data.targets&&this._verifyAPI(e,t)};e._handleSubInit=function(e,t){var n=t.extension.options.noSub||this._getBooleanFeatureFlag&&this._getBooleanFeatureFlag("com.atlassian.connect.resolve_inner_iframe_url"),e=e.data;n?M.error("Sub-Extension requested by ["+t.extension.addon_key+"] but feature is disabled"):this.registerExtension(e.ext.id,{extension:e.ext});this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,{sub:e.ext,type:e.type,addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id,blocked:n})};e._getHostOffset=function(e,t){var n=e.source,i=null,t=t||window;if("number"!=typeof(i=t===t.top&&"function"==typeof t.getHostOffsetFunctionOverride?t.getHostOffsetFunctionOverride(n):i)){i=0;for(;!this._hasSameOrigin(n);){i++;n=n.parent}}e.source.postMessage({hostFrameOffset:i},e.origin)};e._hasSameOrigin=function(e){if(e===e.top)return!0;try{var t="test_var_"+Math.random().toString(16).substr(2);e[t]=!0;return e[t]}catch(e){}return!1};e._handleResponse=function(e){var t=e.data,e=this._pendingCallbacks[t.mid];if(e){delete this._pendingCallbacks[t.mid];e.apply(window,t.args)}};e.registerRequestNotifier=function(e){this._registeredRequestNotifier=e};e._handleRequest=function(t,n){function i(){var e=M.sanitizeStructuredClone(M.argumentsToArray(arguments));t.source.postMessage({mid:t.data.mid,type:"resp",forPlugin:!0,args:e},n.extension.url)}var e=t.data,o=this._registeredAPIModules[e.mod],r=this.getRegisteredExtensions(n.extension)[0];if(o){var s=e.fn;if(e._cls){var a=o[e._cls],d=e.mod+"-"+e._cls+"-";i._id=e._id;if("constructor"===s){if(!a._construct){a.constructor.prototype._destroy=function(){delete this._context._proxies[d+this._id]};a._construct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=S(a.constructor,t),o=t[t.length-1];i._id=o._id;i._context=o._context;return i._context._proxies[d+i._id]=i}}o=a;s="_construct"}else o=r._proxies[d+e._id]}var c=o[s];if(c){var l=e.args,u=c.length-1;"_construct"===s&&(u=o.constructor.length-1);i._context=r;(l=this._padUndefinedArguments(l,u)).push(i);l=c.apply(o,l);c.returnsPromise&&("object"!=typeof l&&"function"!=typeof l||"function"!=typeof l.then?i("Defined module method did not return a promise."):l.then(function(e){i(void 0,e)}).catch(function(e){i(e=e instanceof Error?e.message:e)}));this._registeredRequestNotifier&&this._registeredRequestNotifier.call(null,{module:e.mod,fn:e.fn,type:e.type,addon_key:n.extension.addon_key,key:n.extension.key,extension_id:n.extension_id})}}};e._handleBroadcast=function(e,t){e=e.data;this.dispatch(e.etyp,function(e){return e.extension.addon_key===t.extension.addon_key&&e.extension_id!==t.extension_id},e.evnt,null,null)};e._handleKeyTriggered=function(e,t){var n=e.data,e=this._keycodeKey(n.keycode,n.modifiers,t.extension_id),e=this._keycodeCallbacks[e];e&&e.forEach(function(e){e.call(null,{addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id,keycode:n.keycode,modifiers:n.modifiers})},this)};e.defineAPIModule=function(e,t){this._registeredAPIModules[t=t||"_globals"]=M.extend({},this._registeredAPIModules[t]||{},e);return this._registeredAPIModules};e.isAPIModuleDefined=function(e){return void 0!==this._registeredAPIModules[e]};e._pendingEventKey=function(e,t){var n=e.addon_key||"global";return n=(n=e.key?n+"@@"+e.key:n)+"@@"+t};e.queueEvent=function(e,t,n,i){if(this._findRegistrations(t).some(function(e){return void 0!==e.registered_events},this))this.dispatch(e,t,n,i);else{this._cleanupInvalidEvents();var o=(new Date).getTime();this._pendingEvents[this._pendingEventKey(t,o)]={type:e,targetSpec:t,event:n,callback:i,time:o,uid:M.randomString()}}};e._cleanupInvalidEvents=function(){var n=this,i=(new Date).getTime();Object.keys(this._pendingEvents).forEach(function(e){var t=n._pendingEvents[e];i-t.time<=3e4||delete n._pendingEvents[e]})};e._handleEventQuery=function(o,r){var s=this,a={},d=(new Date).getTime();Object.keys(this._pendingEvents).forEach(function(e){var t=s._pendingEvents[e],n=d-t.time<=3e4,i=!t.targetSpec||0!==s._findRegistrations(t.targetSpec).length;i&&t.targetSpec.key&&(i=t.targetSpec.addon_key===r.extension.addon_key&&t.targetSpec.key===r.extension.key);if(n&&i){(a[e]=t).targetSpec=t.targetSpec||{};s.dispatch(t.type,t.targetSpec,t.event,t.callback,o.source)}else n||delete s._pendingEvents[e]});this._registeredExtensions[r.extension_id].registered_events=o.data.args;return a};e._handleUnload=function(e,t){if(t){t.extension_id&&this._registeredExtensions[t.extension_id]&&delete this._registeredExtensions[t.extension_id].source;t.unloadCallback&&t.unloadCallback(e.data.eid)}};e.dispatch=function(i,e,t,o,n){function r(e,t){if(e.source&&e.source.postMessage){var n;if(o){n=M.randomString();this._pendingCallbacks[n]=o}e.source.postMessage({type:"evt",mid:n,etyp:i,evnt:t},e.extension.url)}}this._findRegistrations(e||{}).forEach(function(e){n&&!e.source&&(e.source=n);e.source&&M._bind(this,r)(e,t)},this)};e._findRegistrations=function(n){var t=this;if(0===this._registeredExtensions.length){M.error("no registered extensions",this._registeredExtensions);return[]}var e=Object.getOwnPropertyNames(n),i=Object.getOwnPropertyNames(this._registeredExtensions).map(function(e){return t._registeredExtensions[e]});return n instanceof Function?i.filter(n):i.filter(function(t){return e.every(function(e){return t.extension[e]===n[e]})})};e.registerExtension=function(e,t){t._proxies={};t.extension_id=e;this._registeredExtensions[e]=t};e._keycodeKey=function(e,t,n){var i=e;if(t){(t="string"==typeof t?[t]:t).sort();t.forEach(function(e){i+="$$"+e},this)}return i+"__"+n};e.registerKeyListener=function(e,t,n,i){var o=this._registeredExtensions[e],e=this._keycodeKey(t,n="string"==typeof n?[n]:n,e);if(!this._keycodeCallbacks[e]){this._keycodeCallbacks[e]=[];o.source.postMessage({type:"key_listen",keycode:t,modifiers:n,action:"add"},o.extension.url)}this._keycodeCallbacks[e].push(i)};e.unregisterKeyListener=function(e,t,n,i){var o=this._keycodeKey(t,n,e),r=this._keycodeCallbacks[o],e=this._registeredExtensions[e];if(r){if(i){i=r.indexOf(i);this._keycodeCallbacks[o].splice(i,1)}else delete this._keycodeCallbacks[o];e.source&&e.source.postMessage&&e.source.postMessage({type:"key_listen",keycode:t,modifiers:n,action:"remove"},e.extension.url)}};e.registerClickHandler=function(e){if("function"!=typeof e)throw new Error("callback must be a function");if(null!==this._clickHandler)throw new Error("ClickHandler already registered");this._clickHandler=e};e._handleAddonClick=function(e,t){"function"==typeof this._clickHandler&&this._clickHandler({addon_key:t.extension.addon_key,key:t.extension.key,extension_id:t.extension_id})};e.unregisterClickHandler=function(){this._clickHandler=null};e.getApiSpec=function(i){var o=this;return Object.getOwnPropertyNames(this._registeredAPIModules).reduce(function(e,t){var n=o._registeredAPIModules[t];void 0!==n.addonKey&&n.addonKey!==i||(e[t]=function i(o){return Object.getOwnPropertyNames(o).reduce(function(e,t){var n=o[t];switch(typeof n){case"function":e[t]={args:M.argumentNames(n),returnsPromise:n.returnsPromise||!1};break;case"object":n.hasOwnProperty("constructor")&&(e[t]=i(n))}return e},{})}(n));return e},{})};e._originEqual=function(e,t){function n(e){return"string"==typeof e&&0<e.length}var i=M.getOrigin(e);return!!(n(e)&&n(t)&&n(i))&&t===i};e._checkOrigin=function(e,t){var n=t&&!t.source&&-1<["init"].indexOf(e.data.type),i=t&&e.source===t.source,n=t&&this._originEqual(t.extension.url,e.origin)&&(n||i);"get_host_offset"===e.data.type&&window===window.top&&(n=!0);return n="unload"===e.data.type&&(i||void 0===e.source)?!0:n};e.getRegisteredExtensions=function(e){return e?this._findRegistrations(e):this._registeredExtensions};e.unregisterExtension=function(e){e=this._findRegistrations(e);0!==e.length&&e.forEach(function(n){var i=this;Object.keys(this._pendingEvents).forEach(function(e){var t=i._pendingEvents[e].targetSpec||{};t.addon_key===n.extension.addon_key&&t.key===n.extension.key&&delete i._pendingEvents[e]});delete this._registeredExtensions[n.extension_id]},this)};e.setFeatureFlagGetter=function(e){this._getBooleanFeatureFlag=e};return t}(function(){function e(e){this._registerListener((e||{}).listenOn)}var t=e.prototype;t._registerListener=function(e){(e=!e||!e.addEventListener?window:e).addEventListener("message",M._bind(this,this._receiveMessage),!1)};t._receiveMessage=function(e){var t,n=this._messageHandlers[e.data.type],i=e.data.eid;i&&this._registeredExtensions&&(t=this._registeredExtensions[i]);if(!n||!this._checkOrigin(e,t))return!1;n.call(this,e,t)};return e}()),L=new(function(){function e(){this._xdm=new D}var t=e.prototype;t.dispatch=function(e,t,n,i){this._xdm.queueEvent(e,t,n,i);return this.getExtensions(t)};t.broadcast=function(e,t,n){this._xdm.dispatch(e,t,n,null,null);return this.getExtensions(t)};t._createId=function(e){if(!e.addon_key||!e.key)throw Error("Extensions require addon_key and key");return e.addon_key+"__"+e.key+"__"+M.randomString()};t.create=function(e,t,n){t=this.registerExtension(e,t,n),n=e.options||{},n={extension_id:t,api:this._xdm.getApiSpec(e.addon_key),origin:M.locationOrigin(),options:n};return{id:t,name:JSON.stringify(n),src:e.url}};t.registerRequestNotifier=function(e){this._xdm.registerRequestNotifier(e)};t.registerExtension=function(e,t,n){var i=this._createId(e);this._xdm.registerExtension(i,{extension:e,initCallback:t,unloadCallback:n});return i};t.registerKeyListener=function(e,t,n,i){this._xdm.registerKeyListener(e,t,n,i)};t.unregisterKeyListener=function(e,t,n,i){this._xdm.unregisterKeyListener(e,t,n,i)};t.registerClickHandler=function(e){this._xdm.registerClickHandler(e)};t.unregisterClickHandler=function(){this._xdm.unregisterClickHandler()};t.defineModule=function(e,t,n){this._xdm.defineAPIModule(t,e,n)};t.isModuleDefined=function(e){return this._xdm.isAPIModuleDefined(e)};t.defineGlobals=function(e){this._xdm.defineAPIModule(e)};t.getExtensions=function(e){return this._xdm.getRegisteredExtensions(e)};t.unregisterExtension=function(e){return this._xdm.unregisterExtension(e)};t.returnsPromise=function(e){e.returnsPromise=!0};t.setFeatureFlagGetter=function(e){this._xdm.setFeatureFlagGetter(e)};t.registerExistingExtension=function(e,t){return this._xdm.registerExtension(e,t)};return e}()),F={broadcast:function(e,t,n){L.dispatch(e,t,n);u.dispatch("event-dispatch",{type:e,targetSpec:t,event:n})},broadcastPublic:function(e,t,n){u.dispatch("event-public-dispatch",{type:e,event:t,sender:n});var i=n.options||{};i.contextJwt;i.url;i=k(i,["contextJwt","url"]);L.dispatch(e,{},{sender:{addonKey:n.addon_key,key:n.key,options:M.sanitizeStructuredClone(i)},event:t})}};function B(e){if(!e)throw new Error("No selector to escape");return e.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")}function e(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var j={escapeSelector:B,stringToDimension:function(e){var t,n="px";if("string"==typeof e){t=e.indexOf("%")===e.length-1;e=parseInt(e,10);t&&(n="%")}if(!isNaN(e))return e+n},getIframeByExtensionId:function(e){return f("iframe#"+B(e))},first:function(e,t){return t?e.slice(0,t):e[0]},last:function(e){return e[e.length-1]},pick:function(n,t){return"object"!=typeof n?{}:Object.keys(n).filter(function(e){return 0<=t.indexOf(e)}).reduce(function(e,t){return Object.assign(e,((e={})[t]=n[t],e))},{})},debounce:function(n,i){var o;return function(){var e=this,t=[].slice.call(arguments);o&&clearTimeout(o);o=setTimeout(function(){o=null;n.apply(e,t)},i||50)}},isSupported:function(e,t,n,i){return e&&e[t]&&e[t].supports?e[t].supports(n):i},extend:Object.assign},N={emit:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=j.last(n),n=j.first(n,-1);F.broadcast(e,{addon_key:o._context.extension.addon_key},n)},emitPublic:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=j.last(n)._context.extension,n=j.first(n,-1);F.broadcastPublic(e,n,o)},emitToDataProvider:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=j.last(t);i._context.extension;t=j.first(t,-1);F.broadcast("dataProviderEvent",{addon_key:i._context.extension.addon_key},t)}},$=function(e,t){u.dispatch("dialog-extension-open",{extension:e,options:t})},J=function(){u.dispatch("dialog-close-active",{})},R=function(e,t){u.dispatch("dialog-button-add",{button:{text:e.text,identifier:e.identifier,data:{userButton:!0}},extension:t})},z={close:function(e){u.dispatch("dialog-close",{dialog:e.dialog,extension:e.extension,customData:e.customData})},closeActive:function(e){u.dispatch("dialog-close-active",e)},clickButton:function(e,t,n){u.dispatch("dialog-button-click",{identifier:e,$el:t,extension:n})},toggleButton:function(e){u.dispatch("dialog-button-toggle",e)},toggleButtonVisibility:function(e){u.dispatch("dialog-button-toggle-visibility",e)}},H=function(e){L.registerKeyListener(e.extension_id,e.key,e.modifiers,e.callback);u.dispatch("dom-event-register",e)},K=function(e){L.unregisterKeyListener(e.extension_id,e.key,e.modifiers,e.callback);u.dispatch("dom-event-unregister",e)},U=function(t){window.addEventListener("keydown",function(e){e.keyCode===t.keyCode&&t.callback()})},q=function(t){L.registerClickHandler(function(e){e=document.getElementById(e.extension_id);e&&t(e)})},V=function(){L.unregisterClickHandler()},W=new(function(){function e(){}e.prototype.randomIdentifier=function(){return Math.random().toString(16).substring(7)};return e}()),G=new(function(){function e(){}var t=e.prototype;t._maxDimension=function(e,t){var n=j.stringToDimension(e),e=parseInt(n,10),t=parseInt(t,10);return-1<n.indexOf("%")&&100<=e||t<e?"100%":n};t._closeOnEscape=function(e){return!1!==e.closeOnEscape};t._size=function(e){var t=e.size;"x-large"===e.size&&(t="xlarge");return t="maximum"!==e.size&&"100%"===e.width&&"100%"===e.height?"fullscreen":t};t._header=function(e){var t="";switch(typeof e){case"string":t=e;break;case"object":t=e.value}return t};t._hint=function(e){return"string"==typeof e?e:""};t._chrome=function(e){var t=!1;"boolean"==typeof e.chrome&&(t=e.chrome);"fullscreen"===e.size&&(t=!0);return t="maximum"===e.size?!1:t};t._width=function(e){if(!e.size)return e.width?this._maxDimension(e.width,f(window).width()):"50%"};t._height=function(e){if(!e.size)return e.height?this._maxDimension(e.height,f(window).height()):"50%"};t._actions=function(e){var t=[];(e=e||{}).actions||(t=[{name:"submit",identifier:"submit",text:e.submitText||"Submit",type:"primary",disabled:!0},{name:"cancel",identifier:"cancel",text:e.cancelText||"Cancel",type:"link",immutable:!0}]);return t=e.buttons?t.concat(this._buttons(e)):t};t._id=function(e){return e="string"!=typeof e?Math.random().toString(36).substring(2,8):e};t._buttons=function(e){var o=[];e.buttons&&Array.isArray(e.buttons)&&e.buttons.forEach(function(e){var t,n,i=!1;e.text&&"string"==typeof e.text&&(t=e.text);n=e.identifier&&"string"==typeof e.identifier?e.identifier:W.randomIdentifier();e.disabled&&!0===e.disabled&&(i=!0);o.push({text:t,identifier:n,type:"secondary",custom:!0,disabled:i})});return o};t._onHide=function(e){return"function"==typeof e.onHide?e.onHide:function(){}};t.sanitizeOptions=function(e){e={chrome:this._chrome(e=e||{}),header:this._header(e.header),hint:this._hint(e.hint),width:this._width(e),height:this._height(e),$content:e.$content,extension:e.extension,actions:this._actions(e),id:this._id(e.id),size:e.size,closeOnEscape:this._closeOnEscape(e),onHide:this._onHide(e)};e.size=this._size(e);return e};t.moduleOptionsFromGlobal=function(e,t){return!!(window._AP&&window._AP.dialogModules&&window._AP.dialogModules[e]&&window._AP.dialogModules[e][t])&&j.extend({},{chrome:!0},window._AP.dialogModules[e][t].options)};t.trackMultipleDialogOpening=function(e,t){var t=this._size(t);if(f(".ap-aui-dialog2:visible").length){t=f("#macro-browser-dialog").length||AJS.Confluence&&AJS.Confluence.Editor&&AJS.Confluence.Editor.currentEditMode?"fullscreen"===t?"connect-macro-multiple-fullscreen":"connect-macro-multiple":"connect-multiple";h.trackMultipleDialogOpening(t,e)}};t.assertActiveDialogOrThrow=function(e,t){if(!e.isActiveDialog(t))throw new Error("Failed to find an active dialog for: "+t)};return e}()),X={notifyIframeCreated:function(e,t){u.dispatch("iframe-create",{$el:e,extension:t})},notifyBridgeEstablished:function(e,t){u.dispatch("iframe-bridge-established",{$el:e,extension:t})},notifyIframeDestroyed:function(e){L.getExtensions(e="string"==typeof e?{id:e}:e).forEach(function(e){u.dispatch("iframe-destroyed",{extension:e});L.unregisterExtension({id:e.extension_id})},this)},notifyUnloaded:function(e,t){u.dispatch("iframe-unload",{$el:e,extension:t})}},Y={},Q="%[a-f0-9]{2}",Z=new RegExp(Q,"gi"),ee=new RegExp("("+Q+")+","gi");function te(t){try{return decodeURIComponent(t)}catch(e){for(var n=t.match(Z),i=1;i<n.length;i++)n=(t=function e(t,n){try{return decodeURIComponent(t.join(""))}catch(e){}if(1===t.length)return t;var i=t.slice(0,n=n||1),n=t.slice(n);return Array.prototype.concat.call([],e(i),e(n))}(n,i).join("")).match(Z);return t}}function ne(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{t=t.replace(/\+/g," ");return decodeURIComponent(t)}catch(e){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=ee.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var i=te(n[0]);i!==n[0]&&(t[n[0]]=i)}n=ee.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),r=0;r<o.length;r++){var s=o[r];e=e.replace(new RegExp(s,"g"),t[s])}return e}(t)}}function ie(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}function oe(e,t){for(var n={},i=Object.keys(e),o=Array.isArray(t),r=0;r<i.length;r++){var s=i[r],a=e[s];(o?-1!==t.indexOf(s):t(s,a,e))&&(n[s]=a)}return n}!function(s){const n=e,i=ne,d=ie,r=oe,a=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?(t.strict?n:encodeURIComponent)(e):e}function u(e,t){return t.decode?i(e):e}function f(e){var t=e.indexOf("#");return e=-1!==t?e.slice(0,t):e}function o(e){var t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase());return e}function g(e,n){c((n=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},n)).arrayFormatSeparator);const i=function(r){let i;switch(r.arrayFormat){case"index":return(e,t,n)=>{i=/\[(\d*)\]$/.exec(e);e=e.replace(/\[\d*\]$/,"");if(i){void 0===n[e]&&(n[e]={});n[e][i[1]]=t}else n[e]=t};case"bracket":return(e,t,n)=>{i=/(\[\])$/.exec(e);e=e.replace(/\[\]$/,"");i?void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=[t]:n[e]=t};case"comma":case"separator":return(e,t,n)=>{var i="string"==typeof t&&t.includes(r.arrayFormatSeparator),o="string"==typeof t&&!i&&u(t,r).includes(r.arrayFormatSeparator);t=o?u(t,r):t;t=i||o?t.split(r.arrayFormatSeparator).map(e=>u(e,r)):null===t?t:u(t,r);n[e]=t};case"bracket-separator":return(e,t,n)=>{var i=/(\[\])$/.test(e);e=e.replace(/\[\]$/,"");if(i){i=null===t?[]:t.split(r.arrayFormatSeparator).map(e=>u(e,r));void 0!==n[e]?n[e]=[].concat(n[e],i):n[e]=i}else n[e]=t&&u(t,r)};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(n),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const r of e.split("&"))if(""!==r){let[e,t]=d(n.decode?r.replace(/\+/g," "):r,"=");t=void 0===t?null:["comma","separator","bracket-separator"].includes(n.arrayFormat)?t:u(t,n);i(u(e,n),t,o)}for(const t of Object.keys(o)){const s=o[t];if("object"==typeof s&&null!==s)for(const a of Object.keys(s))s[a]=p(s[a],n);else o[t]=p(s,n)}return!1===n.sort?o:(!0===n.sort?Object.keys(o).sort():Object.keys(o).sort(n.sort)).reduce((e,t)=>{var n=o[t];Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n;return e},Object.create(null))}s.extract=o;s.parse=g;s.stringify=(n,i)=>{if(!n)return"";c((i=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},i)).arrayFormatSeparator);var e;const o=function(o){switch(o.arrayFormat){case"index":return i=>(e,t)=>{const n=e.length;return void 0===t||o.skipNull&&null===t||o.skipEmptyString&&""===t?e:null===t?[...e,[l(i,o),"[",n,"]"].join("")]:[...e,[l(i,o),"[",l(n,o),"]=",l(t,o)].join("")]};case"bracket":return n=>(e,t)=>void 0===t||o.skipNull&&null===t||o.skipEmptyString&&""===t?e:null===t?[...e,[l(n,o),"[]"].join("")]:[...e,[l(n,o),"[]=",l(t,o)].join("")];case"comma":case"separator":case"bracket-separator":{const i="bracket-separator"===o.arrayFormat?"[]=":"=";return n=>(e,t)=>{if(void 0===t||o.skipNull&&null===t||o.skipEmptyString&&""===t)return e;t=null===t?"":t;return 0===e.length?[[l(n,o),i,l(t,o)].join("")]:[[e,l(t,o)].join(o.arrayFormatSeparator)]}}default:return n=>(e,t)=>void 0===t||o.skipNull&&null===t||o.skipEmptyString&&""===t?e:null===t?[...e,l(n,o)]:[...e,[l(n,o),"=",l(t,o)].join("")]}}(i),t={};for(const s of Object.keys(n))(e=s,i.skipNull&&(e=>null==e)(n[e])||i.skipEmptyString&&""===n[e])||(t[s]=n[s]);const r=Object.keys(t);!1!==i.sort&&r.sort(i.sort);return r.map(e=>{const t=n[e];return void 0===t?"":null===t?l(e,i):Array.isArray(t)?0===t.length&&"bracket-separator"===i.arrayFormat?l(e,i)+"[]":t.reduce(o(e),[]).join("&"):l(e,i)+"="+l(t,i)}).filter(e=>0<e.length).join("&")};s.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,i]=d(e,"#");return Object.assign({url:n.split("?")[0]||"",query:g(o(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:u(i,t)}:{})};s.stringifyUrl=(e,t)=>{t=Object.assign({encode:!0,strict:!0,[a]:!0},t);var n=f(e.url).split("?")[0]||"",i=s.extract(e.url),i=s.parse(i,{sort:!1}),i=Object.assign(i,e.query);let o=s.stringify(i,t);o=o&&`?${o}`;let r=function(e){let t="";var n=e.indexOf("#");-1!==n&&(t=e.slice(n));return t}(e.url);e.fragmentIdentifier&&(r=`#${t[a]?l(e.fragmentIdentifier,t):e.fragmentIdentifier}`);return`${n}${o}${r}`};s.pick=(e,t,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);var{url:i,query:o,fragmentIdentifier:e}=s.parseUrl(e,n);return s.stringifyUrl({url:i,query:r(o,t),fragmentIdentifier:e},n)};s.exclude=(e,n,t)=>{var i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return s.pick(e,i,t)}}(Y);for(var re=function(e){for(var t,n=function(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");-1===e&&(e=t);return[e,e===t?0:4-e%4]}(e),i=n[0],n=n[1],o=new de(function(e,t){return 3*(e+t)/4-t}(i,n)),r=0,s=0<n?i-4:i,a=0;a<s;a+=4){t=ae[e.charCodeAt(a)]<<18|ae[e.charCodeAt(a+1)]<<12|ae[e.charCodeAt(a+2)]<<6|ae[e.charCodeAt(a+3)];o[r++]=t>>16&255;o[r++]=t>>8&255;o[r++]=255&t}if(2===n){t=ae[e.charCodeAt(a)]<<2|ae[e.charCodeAt(a+1)]>>4;o[r++]=255&t}if(1===n){t=ae[e.charCodeAt(a)]<<10|ae[e.charCodeAt(a+1)]<<4|ae[e.charCodeAt(a+2)]>>2;o[r++]=t>>8&255;o[r++]=255&t}return o},se=[],ae=[],de="undefined"!=typeof Uint8Array?Uint8Array:Array,ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",le=0,ue=ce.length;le<ue;++le){se[le]=ce[le];ae[ce.charCodeAt(le)]=le}ae["-".charCodeAt(0)]=62;ae["_".charCodeAt(0)]=63;var fe=60;function pe(e){if(null===e||""===e)throw"Invalid JWT: must be neither null nor empty-string.";var t=e.indexOf("."),n=e.indexOf(".",t+1);if(t<0||n<=t)throw'Invalid JWT: must contain 2 period (".") characters.';n=e.substring(t+1,n);if(null===n||""===n)throw"Invalid JWT: encoded claims must be neither null nor empty-string.";n=function(e){var t=4-e.length%4;1==t?e+="=":2==t&&(e+="==");return(new TextDecoder).decode(re(e))}.call(window,n);return JSON.parse(n)}u.register("jwt-skew-set",function(e){fe=e.skew});var ge={parseJwtIssuer:function(e){return pe(e).iss},parseJwtClaims:pe,isJwtExpired:function(e,t){void 0===t&&(t=fe);var n=pe(e),i=0,e=Math.floor(Date.now()/1e3);return(i=n&&n.exp?n.exp:i)-t<e}};function he(e){return Y.parse(Y.extract(e)).jwt}var me={hasJwt:function(e){return he(e)&&0!==he(e).length},isJwtExpired:function(e){e=he(e);return ge.isJwtExpired(e)}},ye=function(e){u.dispatch("content-resolver-register-by-extension",e)},ve=function(n){if(!n.resolver)throw Error("ACJS: No content resolver supplied");var e=n.resolver.call(null,j.extend({classifier:"json"},n.extension));e.fail(function(e,t){u.dispatch("jwt-url-refreshed-failed",{extension:n.extension,$container:n.$container,errorText:t.text})});e.done(function(e){var t={};if("object"==typeof e)t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){console.error("ACJS: invalid response from content resolver")}n.extension.url=t.url;j.extend(n.extension.options,t.options);u.dispatch("jwt-url-refreshed",{extension:n.extension,$container:n.$container,url:n.extension.url})});u.dispatch("jwt-url-refresh-request",{data:n})},_e=function(e){"number"==typeof e?u.dispatch("jwt-skew-set",{skew:e}):console.error("ACJS: invalid JWT clock skew set")},xe=function(e){var t={};if(e&&"object"==typeof e){e.width&&(t.width=j.stringToDimension(e.width));e.height&&(t.height=j.stringToDimension(e.height));if("string"==typeof e.sandbox){var n=document.createElement("iframe");t.sandbox=e.sandbox.split(" ").filter(function(e){return j.isSupported(n,"sandbox",e,!0)}).join(" ")}}return t},be=new(function(){function e(){this.store={}}var t=e.prototype;t.set=function(e,t){if(t){var n={};n[e]=t}else n=e;j.extend(this.store,n)};t.get=function(e){return e?this.store[e]:j.extend({},this.store)};return e}()),we=!1,ke="com.codebarrel.addons.automation";var Ee=!1;function Ae(e){return{addon_key:e.addon_key,key:e.key,url:e.url,options:e.options}}var Ce={createSimpleXdmExtension:function(e){var t=Ae(e),n=be.get();e.options=t.options=j.extend({},t.options);e.options.globalOptions=n;!function(e){g("com.atlassian.connect.acjs-oc-1657-add-performance-timing-api")&&e===ke&&function(){if(!we){we=!0;var e={getPerformanceTiming:function(n){return new Promise(function(e,t){i(n)||t(new Error("This is a restricted API"));e(JSON.parse(JSON.stringify(window.performance.timing)))})},getPerformanceNavigationTiming:function(n){return new Promise(function(e,t){i(n)||t(new Error("This is a restricted API"));window.PerformanceNavigationTiming||e(void 0);t=window.performance.getEntriesByType("navigation");e(JSON.parse(JSON.stringify(t)))})}};L.returnsPromise(e.getPerformanceTiming);L.returnsPromise(e.getPerformanceNavigationTiming);L.defineModule("_performance",e)}function i(e){return e._context.extension.addon_key===ke}}();g("com.atlassian.connect.acjs.oc-1890-enable-iframe-feature-flags")&&function(){if(!Ee){Ee=!0;var e={getBooleanFeatureFlag:function(n){return new Promise(function(e,t){0===n.indexOf("com.atlassian.connect.acjs.iframe.")?e(g(n)):t(new Error("Only allowlisted flags can be accessed from the iframe."))})}};L.returnsPromise(e.getBooleanFeatureFlag);L.defineModule("_featureFlag",e)}}()}(e.addon_key);n=L.create(t,function(){e.options.noDOM||(e.$el=f(document.getElementById(e.id)));X.notifyBridgeEstablished(e.$el,e)},function(){X.notifyUnloaded(e.$el,e)});t.id=n.id;e.id=n.id;j.extend(n,xe(e.options));return{iframeAttributes:n,extension:e}},extensionConfigSanitizer:Ae},Ie=new(function(){function e(){this._contentResolver=!1}var t=e.prototype;t.setContentResolver=function(e){this._contentResolver=e};t.resize=function(e,t,n){e=j.stringToDimension(e);t=j.stringToDimension(t);n.css({width:e,height:t});n.trigger("resized",{width:e,height:t})};t.simpleXdmExtension=function(e,t){!e.url||me.hasJwt(e.url)&&me.isJwtExpired(e.url)?this._contentResolver?ve({extension:e,resolver:this._contentResolver,$container:t}):console.error("JWT is expired and no content resolver was specified"):this._appendExtension(t,this._simpleXdmCreate(e))};t._simpleXdmCreate=function(e){var t=Ce.createSimpleXdmExtension(e);e.id=t.iframeAttributes.id;e.$el=this.render(t.iframeAttributes);return e};t._appendExtension=function(e,t){var n=e.find("iframe");0<n.length&&n.destroy();t.options.hideIframeUntilLoad&&t.$el.css({visibility:"hidden"}).load(function(){t.$el.css({visibility:""})});e.prepend(t.$el);X.notifyIframeCreated(t.$el,t)};t._appendExtensionError=function(e,t){var n=f('<div class="connect-resolve-error"></div>'),t=f("<p />").text(t);n.append('<p class="error">Error: The content resolver threw the following error:</p>');n.append(t);e.prepend(n)};t.resolverResponse=function(e){var t=this._simpleXdmCreate(e.extension);this._appendExtension(e.$container,t)};t.resolverFailResponse=function(e){this._appendExtensionError(e.$container,e.errorText)};t.render=function(e){(e=e||{}).referrerpolicy="no-referrer";return f("<iframe />").attr(e).addClass("ap-iframe")};return e}());u.register("iframe-resize",function(e){Ie.resize(e.width,e.height,e.$el)});u.register("content-resolver-register-by-extension",function(e){Ie.setContentResolver(e.callback)});u.register("jwt-url-refreshed",function(e){Ie.resolverResponse(e)});u.register("jwt-url-refreshed-failed",function(e){Ie.resolverFailResponse(e)});u.register("after:iframe-bridge-established",function(e){e.extension.options.noDom?e.extension.options.bridgeEstablished=!0:e.$el[0].bridgeEstablished=!0});var Oe=function(e){u.dispatch("button-clicked",{$el:e})},Se=function(e,t){u.dispatch("button-toggle",{$el:e,disabled:t})},Pe=function(e,t){u.dispatch("button-toggle-visibility",{$el:e,hidden:t})},Te=["primary","link","secondary"],Me=0,De=new(function(){function e(){this.AP_BUTTON_CLASS="ap-aui-button"}var t=e.prototype;t.setType=function(e,t){t&&0<=Te.indexOf(t)&&e.addClass("aui-button-"+t);return e};t.setDisabled=function(e,t){void 0===t||e.data("immutable")||e.attr("aria-disabled",t);return e};t.setHidden=function(e,t){void 0===t||e.data("immutable")||e.toggle(!t);return e};t._setId=function(e,t){if(!t){t="ap-button-"+Me;Me++}e.attr("id",t);return e};t._additionalClasses=function(e,t){if(t){"string"!=typeof t&&(t=t.join(" "));e.addClass(t)}return e};t.getName=function(e){return f(e).data("name")};t.getText=function(e){return f(e).text()};t.getIdentifier=function(e){return f(e).data("identifier")};t.isVisible=function(e){return f(e).is(":visible")};t.isEnabled=function(e){return!("true"===f(e).attr("aria-disabled"))};t.render=function(e){var t=f("<button />");e=e||{};t.addClass("aui-button "+this.AP_BUTTON_CLASS);t.text(e.text);t.data(e.data);t.data({name:e.name||e.identifier,identifier:e.identifier||W.randomIdentifier(),immutable:e.immutable||!1});this._additionalClasses(t,e.additionalClasses);this.setType(t,e.type);this.setDisabled(t,e.disabled||!1);this._setId(t,e.id);return t};return e}());f(function(){f("body").on("click","."+De.AP_BUTTON_CLASS,function(e){e=f(e.target).closest("."+De.AP_BUTTON_CLASS);"true"!==e.attr("aria-disabled")&&Oe(e)})});u.register("button-toggle",function(e){De.setDisabled(e.$el,e.disabled)});u.register("button-toggle-visibility",function(e){De.setHidden(e.$el,e.hidden)});var Le=["ap-iframe-container"],Fe=new(function(){function e(){}var t=e.prototype;t.createExtension=function(e,t){var n=this._renderContainer();t&&!1===t.loadingIndicator||n.append(this._renderLoadingIndicator());Ie.simpleXdmExtension(e,n);return n};t._renderContainer=function(e){e=f("<div />").attr(e||{});e.addClass(Le.join(" "));return e};t._renderLoadingIndicator=function(){return w.render()};return e}());u.register("iframe-create",function(e){var t="embedded-"+e.extension.id;e.extension.$el.parents(".ap-iframe-container").attr("id",t)});function Be(e){return Fe.createExtension(e)}var je=function(e,t){var n={};if(t){n.methods=t;n.name=e}else n.methods=e;u.dispatch("module-define-custom",n)},Ne={trackDeprecatedMethodUsed:function(e,t){u.dispatch("analytics-deprecated-method-used",{methodUsed:e,extension:t})},trackIframeBridgeStart:function(e){u.dispatch("iframe-bridge-start",{extension:e})},trackExternalEvent:function(e,t){u.dispatch("analytics-external-event-track",{eventName:e,values:t})},trackIframePerformanceMetrics:function(e,t){e&&0<Object.getOwnPropertyNames(e).length&&u.dispatch("analytics-iframe-performance",{metrics:e,extension:t})}};function $e(e){e=e.attr("class"),e=e?e.match(/ap-plugin-key-([^\s]*)/):null;return!!Array.isArray(e)&&e[1]}function Je(e){e=e.attr("class"),e=e?e.match(/ap-module-key-([^\s]*)/):null;return!!Array.isArray(e)&&e[1]}function Re(e){return $e(e)+"__"+Je(e)}function ze(e,t,n){e+="Modules";if(window._AP&&window._AP[e]&&window._AP[e][t]&&window._AP[e][t][n])return j.extend({},window._AP[e][t][n].options)}function He(e,t){return ze(e,$e(t),function(e){e=(e=e.attr("class"))?e.match(/ap-target-key-([^\s]*)/):null;return!!Array.isArray(e)&&e[1]}(t))}function Ke(e){var t=e.attr("href"),n={};if(t=t||e.find("a").attr("href")){var i=t.indexOf("#");if(0<=i){var o=t.substring(i+1);try{r=JSON.parse(decodeURI(o))}catch(e){console.error("ACJS: cannot decode webitem anchor")}r&&window._AP&&window._AP._convertConnectOptions?n=window._AP._convertConnectOptions(r):console.error("ACJS: cannot convert webitem url to connect iframe options")}else{var i=Re(e),o=e.hasClass("ap-inline-dialog")?"inlineDialog":"dialog",r=He(o,e);if(!(r=!r&&window._AP&&window._AP[o+"Options"]?j.extend({},window._AP[o+"Options"][i])||{}:r)){r={};console.warn("no webitem "+o+"Options for "+i)}r.productContext=r.productContext||{};t=Y.parse(Y.extract(t));j.extend(r.productContext,t);n={addon_key:$e(e),key:Je(e),options:r}}}return n}var Ue={sanitizeTriggers:function(e){var t;Array.isArray(e)?t=e.join(" "):"string"==typeof e&&(t=e.trim());return t},uniqueId:function(){return"webitem-"+Math.floor(1e9*Math.random()).toString(16)},getExtensionKey:$e,getKey:Je,getOptionsForWebItem:function(e){var t=Re(e),n=e.hasClass("ap-inline-dialog")?"inlineDialog":"dialog",i=He(n,e);if(!(i=!i&&window._AP&&window._AP[n+"Options"]?j.extend({},window._AP[n+"Options"][t])||{}:i)){i={};console.warn("no webitem "+n+"Options for "+t)}i.productContext=i.productContext||{};i.structuredContext=i.structuredContext||{};if((e=Ke(e))&&e.options){j.extend(i.productContext,e.options.productContext);j.extend(i.structuredContext,e.options.structuredContext);i.contextJwt=e.options.contextJwt}return i},getModuleOptionsByAddonAndModuleKey:ze,getConfigFromTarget:Ke},qe=new function(){var n=this;this._providers={};this.registerProvider=function(e,t){n._providers[e]=t};this.getProvider=function(e){return n._providers[e]}},Ve=new(function(){function e(){this.moduleNamesToModules=new Map}e.prototype.registerModule=function(e,t){var n=e.getModuleRegistrationName();this.moduleNamesToModules.set(n,e)};e.prototype.getModuleByName=function(e){return this.moduleNamesToModules.get(e)};e.prototype.getProviderByModuleName=function(e){e=this.moduleNamesToModules.get(e);if(e&&e.isEnabled())return e.getProvider()};return e}()),We=new(function(){function e(){var i=this;this.create=function(e){return Be(Ce.extensionConfigSanitizer(e))};this.dialog={create:function(e,t){var n=Ue.getModuleOptionsByAddonAndModuleKey("dialog",e.addon_key,e.key),t=j.extend({},n||{},t);$(e,t)},close:function(e,t){var n=i.getFrameworkAdaptor().getProviderByModuleName("dialog");if(n){G.assertActiveDialogOrThrow(n,e);F.broadcast("dialog.close",{addon_key:e},t);n.close()}else J()}};this.registerContentResolver={resolveByExtension:function(e){i._contentResolver=e;ye({callback:e})}};this.getContentResolver=function(){return i._contentResolver};this.registerProvider=function(e,t){qe.registerProvider(e,t)};this.getProvider=function(e){return qe.getProvider(e)};this.frameworkAdaptor=Ve}var t=e.prototype;t.createExtension=function(e){e.options=e.options||{};e.options.noDom=!0;e=Ce.createSimpleXdmExtension(e);Ne.trackIframeBridgeStart(e.extension);return e};t.registerExistingExtension=function(e,t){return L.registerExistingExtension(e,t)};t.setFrameworkAdaptor=function(e){this.frameworkAdaptor=e};t.getFrameworkAdaptor=function(){return this.frameworkAdaptor};t._cleanExtension=function(e){return j.pick(e,["id","addon_key","key","options","url"])};t.onIframeEstablished=function(t){t._wrapper=function(e){t.call({},{$el:e.$el,extension:this._cleanExtension(e.extension)})}.bind(this);u.register("after:iframe-bridge-established",t._wrapper)};t.offIframeEstablished=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");u.unregister("after:iframe-bridge-established",e._wrapper)};t.onIframeUnload=function(t){var n=this;u.register("after:iframe-unload",function(e){t.call({},{$el:e.$el,extension:n._cleanExtension(e.extension)})})};t.onPublicEventDispatched=function(t){t._wrapper=function(e){t.call({},{type:e.type,event:e.event,extension:this._cleanExtension(e.sender)})}.bind(this);u.register("after:event-public-dispatch",t._wrapper)};t.offPublicEventDispatched=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");u.unregister("after:event-public-dispatch",e._wrapper)};t.onKeyEvent=function(e,t,n,i){H({extension_id:e,key:t,modifiers:n,callback:i})};t.offKeyEvent=function(e,t,n,i){K({extension_id:e,key:t,modifiers:n,callback:i})};t.onFrameClick=function(e){if("function"!=typeof e)throw new Error("handleIframeClick must be a function");q(e)};t.offFrameClick=function(){V()};t.destroy=function(e){X.notifyIframeDestroyed({id:e})};t.defineModule=function(e,t){je(e,t)};t.isModuleDefined=function(e){return L.isModuleDefined(e)};t.broadcastEvent=function(e,t,n){F.broadcast(e,t,n)};t.getExtensions=function(e){return L.getExtensions(e)};t.trackDeprecatedMethodUsed=function(e,t){Ne.trackDeprecatedMethodUsed(e,t)};t.trackAnalyticsEvent=function(e,t){Ne.trackExternalEvent(e,t)};t.setJwtClockSkew=function(e){_e(e)};t.isJwtExpired=function(e,t){return(t?ge:me).isJwtExpired(e)};t.hasJwt=function(e){return me.hasJwt(e)};t.getBooleanFeatureFlag=g;t.setExtensionConfigurationOptions=function(e,t){be.set(e,t)};t.getExtensionConfigurationOption=function(e){return be.get(e)};t.onIframeTimeout=function(t){t._wrapper=function(e){t.call({},{extension:this._cleanExtension(e.extension)})}.bind(this);u.register("after:iframe-bridge-timeout",t._wrapper)};t.offIframeTimeout=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");u.unregister("after:iframe-bridge-timeout",e._wrapper)};t.onIframePerformanceTelemetry=function(t){t._wrapper=function(e){t.call({},{metrics:e.metrics,extension:this._cleanExtension(e.extension)})}.bind(this);u.register("after:analytics-iframe-performance",t._wrapper)};t.offIframePerformanceTelemetry=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");u.unregister("after:analytics-iframe-performance",e._wrapper)};t.onIframeVisible=function(t){t._wrapper=function(e){t.call({},{extension:this._cleanExtension(e)})}.bind(this);u.register("after:iframe-visible",t._wrapper)};t.offIframeVisible=function(e){if(!e._wrapper)throw new Error("cannot unregister event dispatch listener without _wrapper reference");u.unregister("after:iframe-visible",e._wrapper)};return e}()),Ge="ap-dialog-",Xe="ap-aui-dialog2",Ye=new RegExp("^"+Ge+"[0-9A-Za-z]+$"),Qe=["small","medium","large","xlarge","fullscreen","maximum"],Ze="ap-aui-dialog-button",et="aui-dialog2-footer-actions",tt="header-control-panel";function nt(){var e=AJS.LayerManager.global.getTopLayer();if(e&&Ye.test(e.attr("id"))){e=AJS.dialog2(e);e._id=e.$el.attr("id").replace(Ge,"");return e}}function it(e){var t=e.find("."+tt);return t=!t.length?e.find("."+et):t}function ot(e,t){return it(t).find(".aui-button").filter(function(){return De.getIdentifier(this)===e})}var rt=new(function(){function e(){}var t=e.prototype;t._renderHeaderCloseBtn=function(){var e=f("<a />").addClass("aui-dialog2-header-close"),t=f("<span />").addClass("aui-icon aui-icon-small aui-iconfont-close-dialog").text("Close");e.append(t);return e};t._renderFullScreenHeader=function(e,t){var n=f("<div />").addClass("header-title-container aui-item expanded"),i=f("<div />").append(f("<span />").addClass("header-title").text(t.header||""));n.append(i);e.append(n).append(this._renderHeaderActions(t.actions,t.extension));return e};t._renderHeader=function(e){var t=f("<header />").addClass("aui-dialog2-header");if("fullscreen"===e.size)return this._renderFullScreenHeader(t,e);if(e.header){e=f("<h2 />").addClass("aui-dialog2-header-main").text(e.header);t.append(e)}t.append(this._renderHeaderCloseBtn());return t};t._renderHeaderActions=function(e,t){var n=f("<div />").addClass("aui-item "+tt);e[0].additionalClasses=["aui-icon","aui-icon-small","aui-iconfont-success"];e[1].additionalClasses=["aui-icon","aui-icon-small","aui-iconfont-close-dialog"];this._renderActionButtons(e,t).forEach(function(e){n.append(e)});return n};t._renderContent=function(e){var t=f("<div />").addClass("aui-dialog2-content");e&&t.append(e);return t};t._renderFooter=function(e){var t=f("<footer />").addClass("aui-dialog2-footer");if("fullscreen"!==e.size){var n=this._renderFooterActions(e.actions,e.extension);t.append(n)}if(e.hint){e=f("<div />").addClass("aui-dialog2-footer-hint").text(e.hint);t.append(e)}return t};t._renderActionButtons=function(e,t){var n=this,i=[];[].concat(e).forEach(function(e){i.push(n._renderDialogButton({text:e.text,name:e.name,type:e.type,additionalClasses:e.additionalClasses,custom:e.custom||!1,identifier:e.identifier,immutable:e.immutable,disabled:e.disabled||!1},t))});return i};t._renderFooterActions=function(e,t){var n=f("<div />").addClass(et);this._renderActionButtons(e,t).forEach(function(e){n.append(e)});return n};t._renderDialogButton=function(e,t){e.additionalClasses=e.additionalClasses||[];e.additionalClasses.push(Ze);e.custom&&e.additionalClasses.push("ap-dialog-custom-button");e=De.render(e);e.extension=t;return e};t.render=function(e){var t=j.extend({},e),n=G.sanitizeOptions(e),i=f("<section />").attr({role:"dialog",id:Ge+n.id});i.attr("data-aui-modal","true");i.data({"aui-remove-on-hide":!0,extension:n.extension});i.addClass("aui-layer aui-dialog2 "+Xe);0<=Qe.indexOf(n.size)&&i.addClass("aui-dialog2-"+n.size);if("fullscreen"===n.size||"maximum"===n.size){n.chrome&&i.addClass("ap-header-controls");i.addClass("aui-dialog2-maximum")}i.append(this._renderContent(n.$content));if(n.chrome){i.prepend(this._renderHeader({header:n.header,actions:n.actions,size:n.size}));i.append(this._renderFooter({extension:n.extension,actions:n.actions,hint:n.hint,size:n.size}))}else i.addClass("aui-dialog2-chromeless");e=AJS.dialog2(i);e._id=n.id;"fullscreen"===n.size&&(n.height=n.width="100%");n.size&&"fullscreen"!==n.size||AJS.layer(i).changeSize(n.width,n.height);n.onHide&&e.on("hide",n.onHide);e.show();e.$el.data("extension",n.extension);e.$el.data("originalOptions",t);return i};t.setIframeDimensions=function(e){Ie.resize("100%","100%",e)};t.getActive=nt;t.buttonIsEnabled=function(e){var t=nt();if(t){t=ot(e,t.$el);return De.isEnabled(t)}};t.buttonIsVisible=function(e){var t=nt();if(t){t=ot(e,t.$el);return De.isVisible(t)}};t.getByExtension=function(n){var i,e;e="function"==typeof n?n:(i=Object.getOwnPropertyNames(n),function(e){var t=f(e).data("extension");return i.every(function(e){return t[e]===n[e]})});return f("."+Xe).toArray().filter(e).map(function(e){return AJS.dialog2(e)})};t.addButton=function(e,t){t.custom=!0;t=this._renderDialogButton(t,e),e=this.getByExtension({addon_key:e.addon_key,key:e.key})[0].$el;it(e).append(t);return e};return e}());u.register("iframe-bridge-established",function(t){if(t.extension.options.isDialog){var e,n=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(n){e=n.close;n.setButtonDisabled("submit",!1)}else{z.toggleButton({identifier:"submit",enabled:!0});e=function(){z.close({dialog:nt(),extension:t.extension})}}if(!t.extension.options.preventDialogCloseOnEscape){H({extension_id:t.extension.id,key:27,callback:e});u.registerOnce("dialog-close",function(e){K({extension_id:t.extension.id,key:27})})}}});u.register("dialog-close-active",function(e){var t=nt();t&&z.close({customData:e.customData,dialog:t,extension:e.extension})});u.register("dialog-close",function(e){e.dialog&&e.dialog.hide()});u.register("dialog-button-toggle",function(e){var t=nt();if(t){t=ot(e.identifier,t.$el);Se(t,!e.enabled)}});u.register("dialog-button-toggle-visibility",function(e){var t=nt();if(t){t=ot(e.identifier,t.$el);Pe(t,e.hidden)}});u.register("button-clicked",function(e){var t=e.$el;if(t.hasClass(Ze)){var n=t.parents("."+Xe),e=n.find("iframe");e.length&&e[0].bridgeEstablished?z.clickButton(De.getIdentifier(t),t,n.data("extension")):z.close({dialog:nt(),extension:t.extension})}});if(f.fn){u.register("iframe-create",function(e){e.extension.options&&e.extension.options.isDialog&&rt.setIframeDimensions(e.extension.$el)});u.register("dialog-button-add",function(e){rt.addButton(e.extension,e.button)});u.register("host-window-resize",j.debounce(function(){f("."+Xe).each(function(e,t){var n=f(t),n=G.sanitizeOptions(n.data("originalOptions"));t.style.width=n.width;t.style.height=n.height})},100))}U({keyCode:27,callback:function(){z.closeActive({customData:{},extension:null})}});var st=new(function(){function e(){}var t=e.prototype;t.render=function(e,t){e.options=e.options||{};t=t||{};e.options.isDialog=!0;e.options.dialogId=t.id;e.options.preventDialogCloseOnEscape=!1===t.closeOnEscape;e.options.hostFrameOffset=t.hostFrameOffset;e.options.hideIframeUntilLoad=!0;var n=Fe.createExtension(e);return rt.render({extension:e,$content:n,chrome:t.chrome,width:t.width,height:t.height,size:t.size,header:t.header,hint:t.hint,submitText:t.submitText,cancelText:t.cancelText,buttons:t.buttons,onHide:t.onHide})};t.getActiveDialog=function(){return rt.getActive()};t.buttonIsEnabled=function(e){return rt.buttonIsEnabled(e)};t.buttonIsVisible=function(e){return rt.buttonIsVisible(e)};t.getByExtension=function(e){return rt.getByExtension(e="string"==typeof e?{id:e}:e)};return e}());u.register("dialog-extension-open",function(e){var o=e.extension,t=G.sanitizeOptions(e.options),n=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(n){o.options.preventDialogCloseOnEscape=!1===t.closeOnEscape;t.actions.map(function(e){return e.onClick=function(e){var t=o.key,n=o.addon_key,i={button:{identifier:e.identifier,name:e.identifier,text:e.text}};0<=["submit","cancel"].indexOf(e.identifier)&&F.broadcast("dialog."+e.identifier,{addon_key:n,key:t},i);F.broadcast("dialog.button.click",{addon_key:n,key:t},i)}.bind(null,e)});n.create(t,o)}else st.render(e.extension,e.options)});var at={};u.register("dialog-close",function(e){e.dialog&&e.extension&&F.broadcast("dialog.close",{addon_key:e.extension.addon_key},e.customData)});u.register("dialog-button-click",function(e){var t={button:{name:De.getName(e.$el),identifier:De.getIdentifier(e.$el),text:De.getText(e.$el)}},n={addon_key:e.extension.addon_key,key:e.extension.key};n.id=e.extension.id;e.$el.hasClass("ap-dialog-custom-button")||F.broadcast("dialog."+t.button.name,n,t);F.broadcast("dialog.button.click",n,t)});var dt=function(){function e(e,t){t=j.last(arguments);var n=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(n){G.assertActiveDialogOrThrow(n,t._context.extension.addon_key);this.name=e;this.identifier=e}else{if(!st.getActiveDialog())throw new Error("Failed to find an active dialog.");this.name=e;this.identifier=e;this.enabled=st.buttonIsEnabled(e);this.hidden=!st.buttonIsVisible(e)}}var t=e.prototype;t.enable=function(){this.setState({enabled:!0})};t.disable=function(){this.setState({enabled:!1})};t.isEnabled=function(e){e=j.last(arguments);var t=We.getFrameworkAdaptor().getProviderByModuleName("dialog");e(t?!t.isButtonDisabled(this.identifier):this.enabled)};t.toggle=function(){var e=We.getFrameworkAdaptor().getProviderByModuleName("dialog");e?e.toggleButton(this.identifier):this.setState({enabled:!this.enabled})};t.setState=function(e){var t=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(t)t.setButtonDisabled(this.identifier,!e.enabled);else{this.enabled=e.enabled;z.toggleButton({identifier:this.identifier,enabled:this.enabled})}};t.trigger=function(e){e=j.last(arguments);this.enabled&&z.dialogMessage({name:this.name,extension:e._context.extension})};t.isHidden=function(e){e=j.last(arguments);var t=We.getFrameworkAdaptor().getProviderByModuleName("dialog");e(t?t.isButtonHidden(this.identifier):this.hidden)};t.hide=function(){this.setHidden(!0)};t.show=function(){this.setHidden(!1)};t.setHidden=function(e){var t=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(t)t.setButtonHidden(this.identifier,e);else{this.hidden=e;z.toggleButtonVisibility({identifier:this.identifier,hidden:this.hidden})}};return e}();var ct={create:{constructor:function(e,t){var n=(t=j.last(arguments))._id,i=t._context.extension,t={addon_key:i.addon_key,key:e.key,options:j.pick(i.options,["customData","productContext"])};t.options.customData=e.customData;i=G.moduleOptionsFromGlobal(t.addon_key,t.key);"number"==typeof(i||{}).hostFrameOffset&&(t.options.hostFrameOffset=i.hostFrameOffset);(e=j.extend({},i||{},e)).id=n;G.trackMultipleDialogOpening(t,e);$(t,e);this.customData=e.customData;at[n]=this}},close:function(e,t){t=j.last(arguments);var n=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(n){G.assertActiveDialogOrThrow(n,t._context.extension.addon_key);F.broadcast("dialog.close",{addon_key:t._context.extension.addon_key},e);n.close()}else{n=t._context.extension.options.isDialog?st.getByExtension(t._context.extension.id)[0]:st.getActiveDialog();z.close({customData:e,dialog:n,extension:t._context.extension})}},getCustomData:function(e){e=j.last(arguments);var t,t=(t=e._context,at[t.extension.options.dialogId]);e(t?t.customData:void 0)},getButton:{constructor:dt,enable:dt.prototype.enable,disable:dt.prototype.disable,toggle:dt.prototype.toggle,isEnabled:dt.prototype.isEnabled,trigger:dt.prototype.trigger,hide:dt.prototype.hide,show:dt.prototype.show,isHidden:dt.prototype.isHidden},createButton:{constructor:function(e,t){t=j.last(arguments);var n=We.getFrameworkAdaptor().getProviderByModuleName("dialog");if(n){G.assertActiveDialogOrThrow(n,t._context.extension.addon_key);n.createButton({identifier:e.identifier,text:e.text,hidden:!1,disabled:e.disabled||!1,onClick:function(){F.broadcast("dialog.button.click",{addon_key:t._context.extension.addon_key,key:t._context.extension.key},{button:{identifier:e.identifier,text:e.text}})}})}else R({identifier:e.identifier,text:e.text},t._context.extension)}}};u.register("iframe-resize",function(e){Ie.resize(e.width,e.height,e.$el)});u.register("iframe-size-to-parent",function(e){var t=j.getIframeByExtensionId(e.extensionId),e=f(window).height()-t.offset().top-1;u.dispatch("iframe-resize",{width:"100%",height:e+"px",$el:t})});u.register("hide-footer",function(e){e&&f("#footer").css({display:"none"})});window.addEventListener("resize",function(e){u.dispatch("host-window-resize",e)},!0);function lt(e){delete ht[e];delete yt[e];-1!==mt.indexOf(e)&&mt.splice(mt.indexOf(e),1)}var ut=function(e,t,n){var i=n.extension_id?j.getIframeByExtensionId(n.extension_id):n;u.dispatch("iframe-resize",{width:e,height:t,$el:i,extension:n.extension})},ft=function(e,t){u.dispatch("iframe-size-to-parent",{hideFooter:t,extensionId:e})},pt=function(e){u.dispatch("hide-footer",e)},gt=j.debounce,ht={},mt=[],yt={},vt={getLocation:function(e){e=j.last(arguments);var t=qe.getProvider("get-location");e("function"==typeof t?t():window.location.href)},resize:function(e,t,n){n=j.last(arguments);var i=qe.getProvider("addon");if(i)i.resize(e,t,n._context);else{var o=n._context.extension.id,i=n._context.extension.options;if(-1!==mt.indexOf(o)||i&&i.isDialog)return!1;ht[o]||(ht[o]=gt(function(e,t,n){ut(e,t,n._context)},50));ht[o](e,t,n)}return!0},sizeToParent:gt(function(e,t){t=j.last(arguments);var n=qe.getProvider("addon");if(n)n.sizeToParent(e,t._context);else if(t._context.extension.options.isFullPage){j.getIframeByExtensionId(t._context.extension_id).addClass("full-size-general-page");ft(t._context.extension_id,e);yt[t._context.extension_id]={hideFooter:e}}else j.getIframeByExtensionId(t._context.extension_id).addClass("full-size-general-page-fail")}),hideFooter:function(e){e&&pt(e)}};u.register("host-window-resize",function(e){Object.getOwnPropertyNames(yt).forEach(function(e){ft(e,yt[e].hideFooter)})});u.register("after:iframe-unload",function(e){lt(e.extension.id)});u.register("after:iframe-destroyed",function(e){lt(e.extension.extension.id)});u.register("before:iframe-size-to-parent",function(e){-1===mt.indexOf(e.extensionId)&&mt.push(e.extensionId)});var _t=function(e){u.dispatch("inline-dialog-refresh",{$el:e})},xt=function(){u.dispatch("inline-dialog-close",{})},bt=function(e){u.dispatch("inline-dialog-opened",{$el:e.$el,trigger:e.trigger,extension:e.extension})},wt={hide:function(e){e=j.last(arguments);var t=We.getFrameworkAdaptor().getProviderByModuleName("inlineDialog");t?t.hide(e._context):xt()}},kt="ac-message-container",Et=["generic","error","warning","success","info","hint"],At="ap-message-",Ct=new RegExp("^"+At+"[0-9A-fa-f]+$"),It={};function Ot(e){return Ct.test(e)}var St=!1;function Pt(e,t,n,i){if(!St){f(document).on("aui-message-close",function(e,t){t=t.attr("id").replace(At,"");if(It[t]){f.isFunction(It[t].onCloseTrigger)&&It[t].onCloseTrigger();It[t]._destroy()}});St=!0}var o,o=o=(o=f("#"+kt)).length<1?f('<div id="'+kt+'" />').appendTo("body"):o;i=function(t){var n={};"object"==typeof t&&["closeable","fadeout","delay","duration","id"].forEach(function(e){e in t&&(n[e]=t[e])});return n}(i);f.extend(i,{title:t,body:AJS.escapeHtml(n)});if(Et.indexOf(e)<0)throw"Invalid message type. Must be: "+Et.join(", ");if(Ot(i.id)){AJS.messages[e](o,i);o.css("margin-left","-"+o.innerWidth()/2+"px")}}function Tt(r){return{constructor:function(e,t,n,i){var o=(i=j.last(arguments))._id;"string"!=typeof e&&(e="");"string"!=typeof t&&(t="");(n="object"!=typeof n?{}:n).id=At+o;!function(e,t,n,i,o){var r="AP.messages."+e;console.warn("DEPRECATED API - AP.messages."+e+" has been deprecated since ACJS 5.0 and will be removed in a future release. Use AP.flag.create instead.");Ne.trackDeprecatedMethodUsed(r,o._context.extension);if(r=We.getFrameworkAdaptor().getProviderByModuleName("messages")){o=r[e];o||(r[e]=r.generic);o(t,n,i)}else Pt(e,t,n,i)}(r,e,t,n,i);It[o]=this}}}var Mt={clear:function(e){var t=At+e._id;if(Ot(t)){e=We.getFrameworkAdaptor().getProviderByModuleName("messages");e?e.clear(t):f("#"+t).closeMessage()}},onClose:function(e,t){t=j.last(arguments);var n=e._id,i=We.getFrameworkAdaptor().getProviderByModuleName("messages");if(i){e=At+e._id;i.onClose(e,t)}else It[n]&&(It[n].onCloseTrigger=t)},generic:Tt("generic"),error:Tt("error"),warning:Tt("warning"),success:Tt("success"),info:Tt("info"),hint:Tt("hint")},Dt={actionInvoked:function(e,t){u.dispatch("flag-action-invoked",{id:t,actionId:e})},open:function(e){u.dispatch("flag-open",{id:e})},close:function(e){u.dispatch("flag-close",{id:e})},closed:function(e){u.dispatch("flag-closed",{id:e})}},Lt="ap-flag-",Ft="ac-flag-actions",Bt=new(function(){function e(){}var t=e.prototype;t.cleanKey=function(e){var t=new RegExp("^"+Lt+"(.+)$"),t=e.match(t);return t&&t[1]?t[1]:null};t._toHtmlString=function(e){return"string"===f.type(e)?e:"object"===f.type(e)&&e instanceof f?e.html():void 0};t._renderBody=function(e){e=this._toHtmlString(e),e=f("<div />").html(e);f("<p />").addClass(Ft).appendTo(e);return e.html()};t._renderActions=function(e,t,n){var i,o=e.find("."+Ft);n=n||{};Object.getOwnPropertyNames(n).forEach(function(e){i=f("<a />").attr("href","#").data({key:e,flag_id:t}).text(n[e]);o.append(i)},this);return e};t.render=function(e){!function(){if(!jt){f(document).on("aui-flag-close",function(e){e=e.target.id,e=Bt.cleanKey(e);Dt.closed(e)});f(document).on("click","."+Ft,function(e){var t=f(e.target),e=t.data("key"),t=t.data("flag_id");Dt.actionInvoked(e,t)});jt=!0}}();var t=Lt+e.id,n=AJS.flag({type:e.type,title:e.title,body:this._renderBody(e.body),close:e.close});n.setAttribute("id",t);t=f(n);this._renderActions(t,e.id,e.actions);t.addClass("ac-aui-flag");t.close=n.close;return t};t.close=function(e){document.getElementById(e).close()};return e}()),jt=!1;u.register("flag-close",function(e){Bt.close(e.id)});var Nt={},$t=function(){function e(t,e){e=j.last(arguments);if("object"==typeof t){var n=e._id,i=We.getFrameworkAdaptor().getProviderByModuleName("flag");if(i){var o=[];"object"==typeof t.actions&&(o=Object.getOwnPropertyNames(t.actions).map(function(e){return{actionKey:e,actionText:t.actions[e],executeAction:Dt.actionInvoked.bind(null,e,n)}}));var r=t.type||"info",r={id:n,title:t.title,body:t.body,actions:o,onClose:Dt.closed,close:t.close,type:r.toLowerCase()};this.flag=i.create(r);r=qe.getProvider("addon");r&&r.registerUnmountCallback&&r.registerUnmountCallback(this.close.bind(this),e._context)}else{this.flag=Bt.render({type:t.type,title:t.title,body:AJS.escapeHtml(t.body),actions:t.actions,close:t.close,id:n});Dt.open(this.flag.attr("id"))}this.onTriggers={};this.extension=e._context.extension;Nt[e._id]=this;e.call(null,e._id)}}e.prototype.close=function(){this.flag.close()};return e}();function Jt(e,t,n){if(Nt[e]){var i=Nt[e].extension;(n=n||{}).flagIdentifier=e;F.broadcast(t,{extension_id:i.extension_id},n)}}u.register("flag-closed",function(e){Jt(e.id,"flag.close");Nt[e.id]&&delete Nt[e.id]});u.register("flag-action-invoked",function(e){Jt(e.id,"flag.action",{actionIdentifier:e.actionId})});var Rt,zt,Ht={create:{constructor:$t,close:$t.prototype.close}},Kt={trackDeprecatedMethodUsed:function(e,t){t=j.last(arguments);Ne.trackDeprecatedMethodUsed(e,t._context.extension)},trackIframePerformanceMetrics:function(e,t){t=j.last(arguments);Ne.trackIframePerformanceMetrics(e,t._context.extension)}},Ut=10;u.register("iframe-bridge-established",function(e){if(e.extension.options.isFullPage){window.addEventListener("scroll",Vt);Rt=e.extension.id}});u.register("iframe-destroyed",function(e){qt()});u.register("iframe-unload",function(e){qt()});function qt(){window.removeEventListener("scroll",Vt);zt=Rt=void 0}function Vt(){var e=document.documentElement.scrollHeight,t=window.innerHeight,n=e*(Ut/100);window.pageYOffset<=n?Wt("nearTop"):t+window.pageYOffset+n>=e?Wt("nearBottom"):zt=void 0}function Wt(e){if(zt!==e){F.broadcast("scroll."+e,{id:Rt},{});zt=e}}var Q={getPosition:function(e){if((e=j.last(arguments))._context.extension.options.isFullPage){var t=j.getIframeByExtensionId(e._context.extension_id).offset(),n=f(window);e({scrollY:n.scrollTop()-t.top,scrollX:n.scrollLeft()-t.left,width:window.innerWidth,height:window.innerHeight})}},setVerticalPosition:function(e,t){if((t=j.last(arguments))._context.extension.options&&t._context.extension.options.isFullPage){t=j.getIframeByExtensionId(t._context.extension_id).offset();"number"==typeof e&&(document.documentElement.scrollTop=t.top+e)}}},Gt=function(e,t,n){u.dispatch("dropdown-item-selected",{id:e,item:t,extension:n})};function Xt(e){return e.map(function(e){if(e.list&&Array.isArray(e.list)){var t={heading:e.heading};t.items=e.list.map(function(e){var t={};if("string"==typeof e)t.content=e;else{if(!e.text||"string"!=typeof e.text)throw new Error("Unknown dropdown list item format.");t.content=e.text;"boolean"==typeof e.disabled&&(t.disabled=e.disabled);void 0!==e.itemId&&(t.itemId=e.itemId)}return t});return t}})}U={create:function(e,t){t=j.last(arguments);if("object"==typeof e){var n=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");if(n){var i=Xt(e.list),i={dropdownId:e.dropdownId,dropdownGroups:i,dropdownItemNotifier:function(e){Gt(e.dropdownId,e.item,t._context.extension)}};n.create(i,t._context);return i}}},showAt:function(e,t,n,i){var o=j.last(arguments),r={left:0,top:0},s=document.getElementById(o._context.extension_id);s?r=s.getBoundingClientRect():console.error("ACJS: no iframe found for dropdown");s=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");s&&s.showAt({dropdownId:e,x:t,y:n,width:i},{iframeDimensions:r,onItemSelection:function(e,t){Gt(e,t,o._context.extension)}})},hide:function(e){var t=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");t&&t.hide(e)},itemDisable:function(e,t){var n=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");n&&n.itemDisable(e,t)},itemEnable:function(e,t){var n=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");n&&n.itemEnable(e,t)}};u.register("dropdown-item-selected",function(e){F.broadcast("dropdown-item-selected",{addon_key:e.extension.addon_key,key:e.extension.key},{dropdownId:e.id,item:e.item})});u.register("iframe-destroyed",function(e){var t=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");t&&t.destroyByExtension(e.extension.extension_id)});u.register("after:iframe-unload",function(e){var t=We.getFrameworkAdaptor().getProviderByModuleName("dropdown");t&&t.destroyByExtension(e.extension.extension_id)});var Yt,Qt,Zt,en,tn,dt={focus:function(){window.document.querySelector("a").focus({preventScroll:!0});window.document.querySelector("a").blur()},getSelectedText:(Yt=function(e){if(g("com.atlassian.connect.acjs-vuln-610109-deprecate-getselectedtext"))e("");else{var t="",n=window.document.getSelection();e(t=n&&n.anchorNode&&3===n.anchorNode.nodeType?n.toString():t)}},tn=!(Qt="AP.host.getSelectedText()"),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!tn&&"undefined"!=typeof console&&console.warn){tn=!0;console.warn("DEPRECATED API - "+Qt+" has been deprecated "+(en?"since ACJS "+en:"in ACJS")+" and will be removed in a future release. "+(Zt?"Use "+Zt+" instead.":"No alternative will be provided."));var i=j.last(t);i&&i._context&&i._context.extension&&Kt.trackDeprecatedMethodUsed(Qt,i)}return Yt.apply(void 0,t)})},nn=new(function(){function e(){this._webitems={};this._contentResolver=function(){}}var t=e.prototype;t.setContentResolver=function(e){this._contentResolver=e};t.requestContent=function(e){if(e.addon_key&&e.key)return this._contentResolver.call(null,j.extend({classifier:"json"},e))};t.getWebItemsBySelector=function(t){var n,i=this;Object.getOwnPropertyNames(this._webitems).some(function(e){e=i._webitems[e];if(e.selector&&e.selector.trim()===t.trim()){n=e;return!0}return!1});return n};t.setWebItem=function(e){return this._webitems[e.name]={name:e.name,selector:e.selector,triggers:e.triggers}};t._removeTriggers=function(e){var t=this,n=Ue.sanitizeTriggers(e.triggers);f(function(){f("body").off(n,e.selector,t._webitems[e.name]._on)});delete this._webitems[e.name]._on};t._addTriggers=function(i){var e=Ue.sanitizeTriggers(i.triggers);i._on=function(e){e.preventDefault();var t=f(e.target).closest(i.selector),n=Ue.getConfigFromTarget(t),n=n&&n.url?n.url:void 0,n={addon_key:Ue.getExtensionKey(t),key:Ue.getKey(t),options:Ue.getOptionsForWebItem(t),url:n};"com.addonengine.analytics"!==n.addon_key||We.isModuleDefined("analytics")?on.webitemInvoked(i,e,n):console.log("ACJS-1164 Dropping event "+e.type+" for plugin "+n.addon_key+" until AP.analytics loads...")};f(function(){f("body").on(e,i.selector,i._on);f("head").append('<style type="text/css">'+i.selector+".ap-link-webitem {pointer-events: auto;}</style>")})};return e}());u.register("webitem-added",function(e){nn._addTriggers(e.webitem)});u.register("content-resolver-register-by-extension",function(e){nn.setContentResolver(e.callback)});document.addEventListener("aui-responsive-menu-item-created",function(e){var t=e.detail.originalItem.querySelector('a[class*="ap-"]');if(t){var n=e.detail.newItem.querySelector("a");[].slice.call(t.classList).forEach(function(e){/^ap-/.test(e)&&n.classList.add(e)})}});var on={addWebItem:function(e){if(nn.getWebItemsBySelector(e.selector))return!1;e=nn.setWebItem(e);u.dispatch("webitem-added",{webitem:e})},webitemInvoked:function(e,t,n){u.dispatch("webitem-invoked:"+e.name,{webitem:e,event:t,extension:n})}},rn=function(e){u.dispatch("inline-dialog-extension",{$el:e.$el,extension:e.extension})},sn=new(function(){function e(){}var t=e.prototype;t.resize=function(e){var t=j.stringToDimension(e.width),n=j.stringToDimension(e.height),i=e.$el.find(".contents");if(1===i.length){i.css({width:t,height:n});_t(e.$el)}};t.refresh=function(e){e.is(":visible")&&e[0].popup.reset()};t._getInlineDialog=function(e){return AJS.InlineDialog(e)};t._renderContainer=function(){return f("<div />").addClass("aui-inline-dialog-contents")};t._displayInlineDialog=function(e){bt({$el:e.$el,trigger:e.trigger,extension:e.extension})};t.hideInlineDialog=function(e){e.hide()};t.closeInlineDialog=function(){f(".aui-inline-dialog").filter(function(){return 0<f(this).find(".ap-iframe-container").length}).hide()};t.render=function(i){var o=this,e=f(document.getElementById("inline-dialog-"+i.id));0!==e.length&&e.remove();return AJS.InlineDialog(i.bindTo,i.id,function(e,t,n){e.append(i.$content);o._displayInlineDialog({extension:i.extension,$el:e,trigger:t});n()},i.inlineDialogOptions)};return e}());u.register("iframe-resize",function(e){var t=e.$el.parents(".aui-inline-dialog");1===t.length&&sn.resize({width:e.width,height:e.height,$el:t})});u.register("inline-dialog-refresh",function(e){sn.refresh(e.$el)});u.register("inline-dialog-hide",function(e){sn.hideInlineDialog(e.$el)});u.register("inline-dialog-close",function(e){sn.closeInlineDialog()});var an="inline-dialog-target-uid",dn=new(function(){function e(){this._inlineDialogWebItemSpec={name:"inline-dialog",selector:".ap-inline-dialog",triggers:["mouseenter","click"]};this._inlineDialogWebItems={}}var t=e.prototype;t.getWebItem=function(){return this._inlineDialogWebItemSpec};t._createInlineDialog=function(e){return sn.render({extension:e.extension,id:e.id,bindTo:e.$target,$content:f("<div />"),inlineDialogOptions:e.extension.options})};t.triggered=function(e){if("click"===e.event.type||e.extension.options.onHover){var t=f(e.event.currentTarget),n=t.data(an);this._createInlineDialog({id:n,extension:e.extension,$target:t,options:e.extension.options||{}}).show()}};t.opened=function(t){var e=t.$el.find("iframe");if(e&&1===e.length){e=e.attr("src");if(0<e.length){var n=me.hasJwt(e);if(n&&!me.isJwtExpired(e)||!n)return!1}}n=nn.requestContent(t.extension);if(!n){console.warn("no content resolver found");return!1}n.then(function(e){e.options=e.options||{};j.extend(e.options,{autoresize:!0,widthinpx:!0});rn({$el:t.$el,extension:e})});return!0};t.addExtension=function(e){var t=Be(e.extension);e.$el.empty().append(t)};t.createIfNotExists=function(e){var t=f(e.event.currentTarget);if(!(e=t.data(an))){e=Ue.uniqueId();t.data(an,e)}};return e}()),$t=dn.getWebItem();u.register("before:webitem-invoked:"+$t.name,function(e){dn.createIfNotExists(e)});u.register("webitem-invoked:"+$t.name,function(e){dn.triggered(e)});u.register("inline-dialog-opened",function(e){dn.opened(e)});u.register("inline-dialog-extension",function(e){dn.addExtension(e)});on.addWebItem($t);var cn=["click"],ln="dialog-target-uid",un={chrome:!0},fn=new(function(){function e(){this._dialogWebItem={name:"dialog",selector:".ap-dialog",triggers:cn}}var t=e.prototype;t.getWebItem=function(){return this._dialogWebItem};t._dialogOptions=function(e){return j.extend({},un,e||{})};t.triggered=function(e){var t=f(e.event.currentTarget).data(ln),n=this._dialogOptions(e.extension.options);n.id=t;$(e.extension,n)};t.createIfNotExists=function(e){var t=f(e.event.currentTarget);if(!(e=t.data(ln))){e=Ue.uniqueId();t.data(ln,e)}};return e}()),$t=fn.getWebItem();u.register("webitem-invoked:"+$t.name,function(e){fn.triggered(e)});u.register("before:webitem-invoked:"+$t.name,fn.createIfNotExists);on.addWebItem($t);window._AP||(window._AP={});window._AP.version||(window._AP.version="5.3.55");L.defineModule("messages",Mt);L.defineModule("flag",Ht);L.defineModule("dialog",ct);L.defineModule("inlineDialog",wt);L.defineModule("env",vt);L.defineModule("events",N);L.defineModule("_analytics",Kt);L.defineModule("scrollPosition",Q);L.defineModule("dropdown",U);L.defineModule("host",dt);u.register("module-define-custom",function(e){L.defineModule(e.name,e.methods)});L.registerRequestNotifier(function(e){function t(){"req"===e.type?h.dispatch("bridge.invokemethod",{module:e.module,fn:e.fn,addonKey:e.addon_key,moduleKey:e.key}):"sub"===e.type&&h.dispatch("bridge.register-sub",{subAddonKey:e.sub.addon_key,subModuleKey:e.sub.key,addonKey:e.addon_key,moduleKey:e.key,blocked:e.blocked})}"function"==typeof window.requestIdleCallback?window.requestIdleCallback(t,{timeout:1e3}):t()});L.setFeatureFlagGetter(g);return We});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-spa-context-v5', location = 'atlassian-connect/v5/js/spa-context/main.js' */
define("ac/spa-context",function(){var i=null,t=null;return{provideContainerApi:function(n){i=n},provideNavigationApi:function(n){t=n},isInIframe:function(){return null!==i},canSpaTransition:function(){return null!==t},getContainerApi:function(){return i},getNavigationApi:function(){return t}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'atlassian-connect/v5/js/iframe/host/_uritemplate.js' */
!function(){"use strict";var p=function(){function e(e){this.options=e}e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options};return e}(),l={isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){for(var n="",r=!0,i=0;i<e.length;i+=1){r?r=!1:n+=t;n+=e[i]}return n},map:function(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},filter:function(e,t){for(var n=[],r=0;r<e.length;r+=1)t(e[r])&&n.push(e[r]);return n},deepFreeze:r};function r(e){return"function"==typeof Object.freeze?function(e){if("object"!=typeof e||null===e)return e;Object.freeze(e);var t,n;for(n in e)e.hasOwnProperty(n)&&"object"==typeof(t=e[n])&&r(t);return e}(e):e}var c={isAlpha:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"},isDigit:t,isHexDigit:function(e){return t(e)||"a"<=e&&e<="f"||"A"<=e&&e<="F"}};function t(e){return"0"<=e&&e<="9"}var h=function(){var o=function(e){return unescape(encodeURIComponent(e))},s=function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},a=function(e){return 128<=e&&e<=191};function u(e,t){return"%"===e.charAt(t)&&c.isHexDigit(e.charAt(t+1))&&c.isHexDigit(e.charAt(t+2))}function f(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(e){for(var t,n="",r=o(e),i=0;i<r.length;i+=1)n+="%"+((t=r.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},isPctEncoded:function(e){if(!u(e,0))return!1;var t=f(e,1),n=s(t);if(0===n)return!1;for(var r=1;r<n;r+=1)if(!u(e,3*r)||!a(f(e,3*r+1)))return!1;return!0},pctCharAt:function(e,t){var n=e.charAt(t);if(!u(e,t))return n;var r=f(e,t+1),i=s(r);if(0===i)return n;for(var o=1;o<i;o+=1)if(!u(e,t+3*o)||!a(f(e,t+3*o+1)))return n;return e.substr(t,3*i)}}}(),d={isVarchar:function(e){return c.isAlpha(e)||c.isDigit(e)||"_"===e||h.isPctEncoded(e)},isUnreserved:function(e){return c.isAlpha(e)||c.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},isReserved:function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}},g={encode:n,encodePassReserved:function(e){return n(e,!0)},encodeLiteral:function(e){for(var t,n="",r=0;r<e.length;r+=t.length)1<(t=h.pctCharAt(e,r)).length?n+=t:n+=d.isReserved(t)||d.isUnreserved(t)?t:h.encodeCharacter(t);return n},encodeLiteralCharacter:function(e,t){return 1<(t=h.pctCharAt(e,t)).length||d.isReserved(t)||d.isUnreserved(t)?t:h.encodeCharacter(t)}};function n(e,t){var n,r,i="";"number"!=typeof e&&"boolean"!=typeof e||(e=e.toString());for(n=0;n<e.length;n+=r.length){r=e.charAt(n);i+=d.isUnreserved(r)||t&&d.isReserved(r)?r:h.encodeCharacter(r)}return i}var m=function(){var t={};function e(e){t[e]={symbol:e,separator:"?"===e?"&":""===e||"+"===e||"#"===e?",":e,named:";"===e||"&"===e||"?"===e,ifEmpty:"&"===e||"?"===e?"=":"",first:"+"===e?"":e,encode:"+"===e||"#"===e?g.encodePassReserved:g.encode,toString:function(){return this.symbol}}}e("");e("+");e("#");e(".");e("/");e(";");e("?");e("&");return{valueOf:function(e){return t[e]||(0<="=,!@|".indexOf(e)?null:t[""])}}}();function v(e){if(null==e)return!1;if(l.isArray(e))return 0<e.length;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(var t in e)if(e.hasOwnProperty(t)&&v(e[t]))return!0;return!1}function i(t){for(var e,n=[],r=null,i=0,o=0;o<t.length;o+=1){e=t.charAt(o);if(null===i){if(null===r)throw new Error("reached unreachable code");if("{"===e)throw new p({templateText:t,message:"brace already opened",position:o});if("}"===e){if(r+1===o)throw new p({templateText:t,message:"empty braces",position:r});try{n.push(function(n){var e,r,t=[],i=null,o=null,s=null,a="";function u(){var e=n.substring(o,r);if(0===e.length)throw new p({expressionText:n,message:"a varname must be specified",position:r});i={varname:e,exploded:!1,maxLength:null};o=null}function f(){if(s===r)throw new p({expressionText:n,message:"after a ':' you have to specify the length",position:r});i.maxLength=parseInt(n.substring(s,r),10);s=null}e=function(e){var t=m.valueOf(e);if(null===t)throw new p({expressionText:n,message:"illegal use of reserved operator",position:r,operator:e});return t}(n.charAt(0));r=e.symbol.length;o=r;for(;r<n.length;r+=a.length){a=h.pctCharAt(n,r);if(null!==o){if("."===a){if(o===r)throw new p({expressionText:n,message:"a varname MUST NOT start with a dot",position:r});continue}if(d.isVarchar(a))continue;u()}if(null!==s){if(r===s&&"0"===a)throw new p({expressionText:n,message:"A :prefix must not start with digit 0",position:r});if(c.isDigit(a)){if(4<=r-s)throw new p({expressionText:n,message:"A :prefix must have max 4 digits",position:r});continue}f()}if(":"!==a)if("*"!==a){if(","!==a)throw new p({expressionText:n,message:"illegal character",character:a,position:r});t.push(i);i=null;o=r+1}else{if(null===i)throw new p({expressionText:n,message:"exploded without varspec",position:r});if(i.exploded)throw new p({expressionText:n,message:"exploded twice",position:r});if(i.maxLength)throw new p({expressionText:n,message:"an explode (*) MUST NOT follow to a prefix",position:r});i.exploded=!0}else{if(null!==i.maxLength)throw new p({expressionText:n,message:"only one :maxLength is allowed per varspec",position:r});if(i.exploded)throw new p({expressionText:n,message:"an exploeded varspec MUST NOT be varspeced",position:r});s=r+1}}null!==o&&u();null!==s&&f();t.push(i);return new x(n,e,t)}(t.substring(r+1,o)))}catch(e){if(e.prototype===p.prototype)throw new p({templateText:t,message:e.options.message,position:r+e.options.position,details:e.options});throw e}r=null;i=o+1}}else{if("}"===e)throw new p({templateText:t,message:"unopened brace closed",position:o});if("{"===e){i<o&&n.push(new s(t.substring(i,o)));i=null;r=o}}}if(null!==r)throw new p({templateText:t,message:"unclosed brace",position:r});i<t.length&&n.push(new s(t.substr(i)));return new a(t,n)}var s=function(){function e(e){this.literal=g.encodeLiteral(e)}e.prototype.toString=e.prototype.expand=function(){return this.literal};return e}(),x=function(){function a(e){if(!v(e))return 1;if(l.isString(e))return""===e;if(!l.isNumber(e)&&!l.isBoolean(e)){if(l.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return;return 1}}function u(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({name:t,value:e[t]});return n}function e(e,t,n){this.templateText=e;this.operator=t;this.varspecs=n}e.prototype.toString=function(){return this.templateText};function f(e){return v(e.value)}e.prototype.expand=function(e){for(var t,n,r,i=[],o=this.operator,s=0;s<this.varspecs.length;s+=1)if(null!=(n=e[(t=this.varspecs[s]).varname])){t.exploded;l.isArray(n);if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)i.push(function(e,t,n){var r="";n=n.toString();if(t.named){r+=g.encodeLiteral(e.varname);if(""===n)return r+=t.ifEmpty;r+="="}null!==e.maxLength&&(n=n.substr(0,e.maxLength));return r+=t.encode(n)}(t,o,n));else{if(t.maxLength&&v(n))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+(r=n,JSON&&JSON.stringify?JSON.stringify(r):r));t.exploded?v(n)&&(o.named?i.push(function(n,r,e){var t=[];if(l.isArray(e)){t=l.filter(t=e,v);t=l.map(t,function(e){var t=g.encodeLiteral(n.varname);a(e)?t+=r.ifEmpty:t+="="+r.encode(e);return t})}else{t=u(e);t=l.filter(t,f);t=l.map(t,function(e){var t=g.encodeLiteral(e.name);a(e.value)?t+=r.ifEmpty:t+="="+r.encode(e.value);return t})}return l.join(t,r.separator)}(t,o,n)):i.push(function(t,e){var n=[],r="";if(l.isArray(e)){n=l.filter(n=e,v);n=l.map(n,t.encode);r+=l.join(n,t.separator)}else{n=u(e);n=l.filter(n,function(e){return v(e.value)});n=l.map(n,function(e){return t.encode(e.name)+"="+t.encode(e.value)});r+=l.join(n,t.separator)}return r}(o,n))):!o.named&&a(n)||i.push(function(e,t,n){var r=[],i="";if(t.named){i+=g.encodeLiteral(e.varname);if(a(n))return i+=t.ifEmpty;i+="="}if(l.isArray(n)){r=l.filter(r=n,v);r=l.map(r,t.encode);i+=l.join(r,",")}else{r=u(n);r=l.filter(r,f);r=l.map(r,function(e){return t.encode(e.name)+","+t.encode(e.value)});i+=l.join(r,",")}return i}(t,o,n))}}return 0===i.length?"":o.first+l.join(i,o.separator)};return e}(),a=function(){function e(e,t){this.templateText=e;this.expressions=t;l.deepFreeze(this)}e.prototype.toString=function(){return this.templateText};e.prototype.expand=function(e){for(var t="",n=0;n<this.expressions.length;n+=1)t+=this.expressions[n].expand(e);return t};e.parse=i;e.UriTemplateError=p;return e}();!function(e){"use strict";if(typeof define==="function")define("_uritemplate",[],function(){return e});else if(typeof window!=="undefined")window.UriTemplate=e;else global.UriTemplate=e}(a)}();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'atlassian-connect/v5/js/navigator/context.js' */
define("ac/navigator/context",function(){var t;return{setContextFunction:function(n){t=n},getContextFunction:function(){return t}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'atlassian-connect/v5/js/navigator/module.js' */
define("ac/navigator/module",["ac/navigator/utils","ac/navigator/routes","ac/navigator/context","ac/spa-context"],function(n,a,e,t){return{getLocation:function(t){var o=e.getContextFunction();if("function"!=typeof o)console.error("no context function defined");else{context=o();if("object"!=typeof context||Array.isArray(context)||null===context)console.error("navigator context callback did not return an object");else{context.href=n.getTopmostSameOriginWindow(window).location.href;t(context)}}},go:function(t,o,e){t=t.toLowerCase();(o=o||{}).addonKey||(o.addonKey=e._context.extension.addon_key);if(n.isApiEnabled()){e=a.getRoutes();a.hasRoutes()&&t in e?"function"==typeof e[t]?e[t](o,n.goToUrl):n.goToUrl(n.buildUrl(e[t],o)):console.error("The URL target "+t+" is not available. Valid targets are: "+Object.keys(e).toString())}else console.error("connect navigation api not yet implemented for this product")},_shouldThrottle:function(t,o){var e=Number(window.localStorage.getItem("lastReloadTimestamp")),n=Number(window.localStorage.getItem("reloadAttempts")),a=Date.now();if(o<=(n=t<a-e?0:n)){console.error("Reloads must be "+t+"ms apart after "+n+" reload attempts.");return!0}n+=1;window.localStorage.setItem("lastReloadTimestamp",a);window.localStorage.setItem("reloadAttempts",n);return!1},reload:function(){this._shouldThrottle(12e4,5)||(t.isInIframe()?n.getTopmostSameOriginWindow(window):window).location.reload()}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'atlassian-connect/v5/js/navigator/routes.js' */
define("ac/navigator/routes",function(){var t={addonmodule:function(e,t){var o=e&&e.addonKey,n=e&&e.moduleKey;if(!o)throw new Error("Missing addonKey parameter in the context.");if(!n)throw new Error("Missing moduleKey parameter in the context.");var r=function(e){e=e.map(encodeURIComponent).join("/");return new URL(e,window.location.origin).pathname.slice(1)}([o,n]),r=AJS.contextPath()+"/plugins/servlet/ac/"+r;if(null!=e.context){console.warn("DEPRECATED API - The context field has been deprecated in favor of customData.");connectHost.trackDeprecatedMethodUsed("AP.navigate-context",{addon_key:o,moduleKey:n})}var a,e=AJS.$.extend({},e.context||{},e.customData||{}),e=(a=e,Object.keys(a).map(function(e){return["ac."+e,a[e]].map(encodeURIComponent).join("=")}).join("&")),r=""!=e?r+"?"+e:r;t.apply(this,[r])},site:function(e,t){function o(e){if(-1!==new URL(e,document.baseURI).pathname.replace(/\/+/g,"/").toLowerCase().indexOf("plugins/servlet/ac-redirect"))throw new Error("Cannot use legacy redirect filter in Navigator API")}if(e.relativeUrl){if("string"!=typeof e.relativeUrl||"/"!==e.relativeUrl[0])throw new Error("Invalid relativeUrl passed in context");o(e.relativeUrl);var n=0===e.relativeUrl.indexOf(AJS.contextPath())?"":AJS.contextPath(),n=window.location.protocol+"//"+window.location.hostname+n+e.relativeUrl;t.apply(this,[n])}else{if(!e.absoluteUrl)throw new Error("No context supplied to Navigator API");n=window.location.protocol+"//"+window.location.hostname+"/";if("string"!=typeof e.absoluteUrl||0!==e.absoluteUrl.indexOf(n))throw new Error("Invalid absoluteUrl passed in context");o(e.absoluteUrl);t.apply(this,[e.absoluteUrl])}}};return{hasRoutes:function(){return t&&0!==Object.getOwnPropertyNames(t).length},addRoutes:function(e){t=AJS.$.extend(t,e)},getRoutes:function(){return t}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'atlassian-connect/v5/js/navigator/utils.js' */
define("ac/navigator/utils",["_uritemplate","ac/spa-context"],function(e,i){var n=!1;return{enableApi:function(){n=!0},disableApi:function(){n=!1},isApiEnabled:function(){return n},buildUrl:function(n,t){"/"!==n[0]&&(n="/"+n);return AJS.contextPath()+e.parse(n).expand(t)},goToUrl:function(n){function t(){window.location.href=n}i.isInIframe()?i.getContainerApi().navigate(n,t):i.canSpaTransition()?i.getNavigationApi().navigate(n):t()},hasContext:function(n,t){if(n[t])return!0;AJS.error("Missing "+t+" in navigator context");return!1},appendQueryParam:function(n,t,e){return n+(-1<n.indexOf("?")?"&":"?")+t+"="+encodeURIComponent(e)},getTopmostSameOriginWindow:function(n){for(var t=n;!(t===t.parent)&&function(n){try{if(null==n.location.href)return}catch(n){return}return 1}(t.parent);)t=t.parent;return t}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'atlassian-connect/v5/js/core/connect-host-cookie.js' */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;n.connectHostCookie=e()}}(function(){return function o(r,i,f){function c(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}};r[t][0].call(n.exports,function(e){var n=r[t][1][e];return c(n||e)},n,n.exports,o,r,i,f)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<f.length;e++)c(f[e]);return c}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="AJS.conglomerate.cookie",r=/(\\|^"|"$)/g,i=/\|\|+/g,f=/"/g,c=/[.*+?|^$()[\]{\\]/g,u=encodeURIComponent("|"),a=encodeURIComponent("|").toLowerCase(),l="**PIPE**",p="**PIPE_PERCENT_ENCODED_UPPER**",g="**PIPE_PERCENT_ENCODED_LOWER**",d="**PERCENT**",s="**EQUALS**";function E(e){if("string"!=typeof e)return e;if(-1!==e.indexOf(l)||-1!==e.indexOf(p)||-1!==e.indexOf(g))throw new Error("Cannot use cookies that contain "+l+" or "+p+g);if(-1!==e.indexOf(d))throw new Error("Cannot use cookies that contain "+d);if(-1!==e.indexOf(s))throw new Error("Cannot use cookies that contain "+s);return e=(e=(e=(e=(e=e.replace(new RegExp(w("|"),"g"),l)).replace(new RegExp(u,"g"),p)).replace(new RegExp(a,"g"),g)).replace(new RegExp("%","g"),d)).replace(new RegExp("=","g"),s)}function w(e){return e.replace(c,"\\$&")}function x(e){e=new RegExp("\\b"+w(e)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),e=document.cookie.match(e);return e&&e[1].replace(r,"")}function m(e,n,t){n=function(e,n,t){var o=new RegExp("(\\s|\\|)*\\b"+w(e)+"=[^|]*[|]*");t=(t=t||"").replace(o,"|");if(""!==n){n=e+"="+n;t.length+n.length<4020&&(t+="|"+n)}return t.replace(i,"|")}(e,n,n=x(o));!function(e,n,t){var o="",r='"'+n.replace(f,'\\"')+'"';if(t){(n=new Date).setTime(+n+24*t*60*60*1e3);o="; expires="+n.toGMTString()}document.cookie=e+"="+r+o+";path=/"}(o,n,t||365)}function h(e,n){e=function(e,n){n=n||"";e=new RegExp(w(e)+"=([^|]+)");return(e=n.match(e))&&e[1]}(e,x(o));return null!=e?e:n}function y(e,n){if(!e||0===e.length)throw new Error("addon key must be defined on cookies");if(!n||0===n.length)throw new Error("Name must be defined")}function R(e,n){y(e,n);return e+"$$"+n}function v(e,n){y(e,n);return"connect.cookie:"+e+"$$"+n}function O(e){if(e&&e._context)return e._context.extension.addon_key;throw new Error("addon key not found in callback")}t.default={save:function(e,n,t){var o=arguments[arguments.length-1],r=O(o);o._context&&function(e,n,t,o){var r=new Date;r.setTime(r.getTime()+24*(o||365)*60*60*1e3);localStorage.setItem(v(e,n),JSON.stringify({expiry:r.getTime(),value:t}))}(r,e,n,t)},read:function(e,n){var t=function(e,n){if(null!==(e=localStorage.getItem(v(e,n)))){e=JSON.parse(e);if(!(e.expiry&&(new Date).getTime()>e.expiry)){e=e.value;return"string"==typeof e?e:JSON.stringify(e)}localStorage.removeItem(n)}}(O(n=arguments[arguments.length-1]),e);if(void 0!==t){n(t);return t}e=R(O(n),E(e)),e="string"!=typeof(e=h(e))?e:e=(e=(e=(e=(e=e.replace(new RegExp(w(l),"g"),"|")).replace(new RegExp(w(p),"g"),u)).replace(new RegExp(w(g),"g"),a)).replace(new RegExp(w(d),"g"),"%")).replace(new RegExp(w(s),"g"),"=");n(e);return e},erase:function(e){var n=arguments[arguments.length-1],t=R(O(n),E(e));m(t,"");localStorage.removeItem(v(O(n),e))}};n.exports=t.default},{}]},{},[1])(1)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'atlassian-connect/v5/js/core/connect-host-history.js' */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;e.connectHostHistory=t()}}(function(){return function r(o,s,a){function i(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(h)return h(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=s[n]={exports:{}};o[n][0].call(e.exports,function(t){var e=o[n][1][t];return i(e||t)},e,e.exports,r,o,s,a)}return s[n].exports}for(var h="function"==typeof require&&require,t=0;t<a.length;t++)i(a[t]);return i}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./constants"),s=t("./models"),a=t("./utils");function o(r,o){(0,a.callConnectHost)(function(n){(0,a.values)(n.getExtensions()).forEach(function(t){var e=t.extension.addon_key,t=new s.Current({url:window.location.href,state:o.state}),t=new s.Route(t);n.broadcastEvent(r,{addon_key:e},t.render(e))})})}var i=!1;function h(t){var e=t.state.render(),t=t.url.render();window.history.pushState((0,a.wrapState)(e),t.title,t.url)}function u(t){var e=t.state.render(),t=t.url.render();window.history.replaceState((0,a.wrapState)(e),t.title,t.url)}n.default={_registerWindowListeners:function(){!function(){if(!i){window.addEventListener("popstate",function(t){var e=(0,a.createEvent)("ap_popstate");e.state=(0,a.unwrapState)(t.state);window.dispatchEvent(e)});window.addEventListener("ap_popstate",function(t){var e=(0,a.createEvent)("ap_changestate");e.state=t.state;window.dispatchEvent(e);o(r.HISTORY_POPSTATE,t)});window.addEventListener("ap_pushstate",function(t){var e=(0,a.createEvent)("ap_changestate");e.state=t.state;window.dispatchEvent(e);o(r.HISTORY_PUSHSTATE,t)});window.addEventListener("ap_replacestate",function(t){var e=(0,a.createEvent)("ap_changestate");e.state=t.state;window.dispatchEvent(e);o(r.HISTORY_REPLACESTATE,t)});window.addEventListener("ap_changestate",function(t){o(r.HISTORY_CHANGESTATE,t)});i=!0}}()},back:function(t){this.go(-1,arguments[arguments.length-1])},forward:function(t){this.go(1,arguments[arguments.length-1])},go:function(t){arguments[arguments.length-1]._context.extension.options.isFullPage?window.history.go(t):(0,a.log)("History is only available to page modules")},getState:function(t,e){var n=(e=arguments[arguments.length-1])._context.extension.addon_key,r=new s.Current({url:window.location.href,state:(0,a.unwrapState)(window.history.state)}),n=new s.Route(r).render(n);if("hash"===(t=t&&"string"==typeof t?t:"hash"))e(n.hash);else{if("all"!==t)throw new Error("invalid type for getState");e(n)}},pushState:function(t,e){var n=(e=arguments[arguments.length-1])._context.extension.addon_key,r=new s.Current({url:window.location.href,state:(0,a.unwrapState)(window.history.state)}),r=new s.Route(r),n=new s.Change(t,n),n=new s.Route(n);if(e._context.extension.options.isFullPage){if(n.url.isURLEqual(r.url)){r.merge(n);u(r)}else if(n.url.isPathnameEqual(r.url)){r.merge(n);h(r)}else h(n);n=(0,a.createEvent)("ap_pushstate");n.state=(0,a.unwrapState)(window.history.state);window.dispatchEvent(n)}else(0,a.log)("History is only available to page modules")},replaceState:function(t,e){var n=(e=arguments[arguments.length-1])._context.extension.addon_key,r=new s.Current({url:window.location.href,state:(0,a.unwrapState)(window.history.state)}),r=new s.Route(r),n=new s.Change(t,n),n=new s.Route(n);if(e._context.extension.options.isFullPage){if(n.url.isURLEqual(r.url)){r.merge(n);u(r)}else if(n.url.isPathnameEqual(r.url)){r.merge(n);u(r)}else u(n);n=(0,a.createEvent)("ap_replacestate");n.state=(0,a.unwrapState)(window.history.state);window.dispatchEvent(n)}else(0,a.log)("History is only available to page modules")}};e.exports=n.default},{"./constants":7,"./models":8,"./utils":9}],2:[function(t,I,T){!function(P){!function(t){var e="object"==typeof T&&T,n="object"==typeof I&&I&&I.exports==e&&I,r="object"==typeof P&&P;r.global!==r&&r.window!==r||(t=r);var o,s,m=2147483647,v=36,w=1,g=26,a=38,i=700,E=72,_=128,b="-",h=/^xn--/,u=/[^ -~]/,l=/\x2E|\u3002|\uFF0E|\uFF61/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=v-w,A=Math.floor,x=String.fromCharCode;function R(t){throw RangeError(f[t])}function p(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function d(t,e){return p(t.split(l),e).join(".")}function O(t){for(var e,n,r=[],o=0,s=t.length;o<s;)if(55296<=(e=t.charCodeAt(o++))&&e<=56319&&o<s)if(56320==(64512&(n=t.charCodeAt(o++))))r.push(((1023&e)<<10)+(1023&n)+65536);else{r.push(e);o--}else r.push(e);return r}function y(t){return p(t,function(t){var e="";if(65535<t){e+=x((t-=65536)>>>10&1023|55296);t=56320|1023&t}return e+=x(t)}).join("")}function j(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function q(t,e,n){var r=0;t=n?A(t/i):t>>1;t+=A(t/e);for(;c*g>>1<t;r+=v)t=A(t/c);return A(r+(c+1)*t/(t+a))}function S(t){var e,n,r,o,s,a,i,h=[],u=t.length,l=0,f=_,c=E,p=t.lastIndexOf(b);p<0&&(p=0);for(n=0;n<p;++n){128<=t.charCodeAt(n)&&R("not-basic");h.push(t.charCodeAt(n))}for(r=0<p?p+1:0;r<u;){for(o=l,s=1,a=v;;a+=v){u<=r&&R("invalid-input");i=(i=t.charCodeAt(r++))-48<10?i-22:i-65<26?i-65:i-97<26?i-97:v;(v<=i||i>A((m-l)/s))&&R("overflow");l+=i*s;if(i<(i=a<=c?w:c+g<=a?g:a-c))break;s>A(m/(i=v-i))&&R("overflow");s*=i}c=q(l-o,e=h.length+1,0==o);A(l/e)>m-f&&R("overflow");f+=A(l/e);l%=e;h.splice(l++,0,f)}return y(h)}function C(t){for(var e,n,r,o,s,a,i,h,u,l,f=[],c=(t=O(t)).length,p=_,d=E,y=e=0;y<c;++y)(i=t[y])<128&&f.push(x(i));n=r=f.length;r&&f.push(b);for(;n<c;){for(o=m,y=0;y<c;++y)p<=(i=t[y])&&i<o&&(o=i);o-p>A((m-e)/(h=n+1))&&R("overflow");e+=(o-p)*h;p=o;for(y=0;y<c;++y){(i=t[y])<p&&++e>m&&R("overflow");if(i==p){for(s=e,a=v;!(s<(u=a<=d?w:d+g<=a?g:a-d));a+=v){f.push(x(j(u+(l=s-u)%(u=v-u),0)));s=A(l/u)}f.push(x(j(s,0)));d=q(e,h,n==r);e=0;++n}}++e;++p}return f.join("")}o={version:"1.2.4",ucs2:{decode:O,encode:y},decode:S,encode:C,toASCII:function(t){return d(t,function(t){return u.test(t)?"xn--"+C(t):t})},toUnicode:function(t){return d(t,function(t){return h.test(t)?S(t.slice(4).toLowerCase()):t})}};if(e&&!e.nodeType)if(n)n.exports=o;else for(s in o)o.hasOwnProperty(s)&&(e[s]=o[s]);else t.punycode=o}(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){var O=t("punycode");n.parse=o;n.resolve=function(t,e){return o(t,!1,!0).resolve(e)};n.resolveObject=function(t,e){return t?o(t,!1,!0).resolveObject(e):e};n.format=function(t){Y(t)&&(t=o(t));return t instanceof c?t.format():c.prototype.format.call(t)};n.Url=c;function c(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var j=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,n=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),q=["'"].concat(n),S=["%","/","?",";","#"].concat(q),C=["/","?","#"],P=/^[a-z0-9A-Z_-]{0,63}$/,I=/^([a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},U=t("querystring");function o(t,e,n){if(t&&a(t)&&t instanceof c)return t;var r=new c;r.parse(t,e,n);return r}c.prototype.parse=function(t,e,n){if(!Y(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=(r=t).trim();if(t=j.exec(r)){var o=(t=t[0]).toLowerCase();this.protocol=o;r=r.substr(t.length)}if(n||t||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var s="//"===r.substr(0,2);if(s&&(!t||!k[t])){r=r.substr(2);this.slashes=!0}}if(!k[t]&&(s||t&&!H[t])){for(var a=-1,i=0;i<C.length;i++)-1!==(h=r.indexOf(C[i]))&&(-1===a||h<a)&&(a=h);if(-1!==(b=-1===a?r.lastIndexOf("@"):r.lastIndexOf("@",a))){A=r.slice(0,b);r=r.slice(b+1);this.auth=decodeURIComponent(A)}for(var h,a=-1,i=0;i<S.length;i++)-1!==(h=r.indexOf(S[i]))&&(-1===a||h<a)&&(a=h);-1===a&&(a=r.length);this.host=r.slice(0,a);r=r.slice(a);this.parseHost();this.hostname=this.hostname||"";var u="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!u)for(var l=this.hostname.split(/\./),i=0,f=l.length;i<f;i++){var c=l[i];if(c&&!c.match(P)){for(var p="",d=0,y=c.length;d<y;d++)127<c.charCodeAt(d)?p+="x":p+=c[d];if(!p.match(P)){var m=l.slice(0,i),v=l.slice(i+1),w=c.match(I);if(w){m.push(w[1]);v.unshift(w[2])}v.length&&(r="/"+v.join(".")+r);this.hostname=m.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase();if(!u){for(var g=this.hostname.split("."),E=[],i=0;i<g.length;++i){var _=g[i];E.push(_.match(/[^A-Za-z0-9_-]/)?"xn--"+O.encode(_):_)}this.hostname=E.join(".")}var b=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+b;this.href+=this.host;if(u){this.hostname=this.hostname.substr(1,this.hostname.length-2);"/"!==r[0]&&(r="/"+r)}}if(!T[o])for(i=0,f=q.length;i<f;i++){var x=q[i],R=encodeURIComponent(x);R===x&&(R=escape(x));r=r.split(x).join(R)}u=r.indexOf("#");if(-1!==u){this.hash=r.substr(u);r=r.slice(0,u)}u=r.indexOf("?");if(-1!==u){this.search=r.substr(u);this.query=r.substr(u+1);e&&(this.query=U.parse(this.query));r=r.slice(0,u)}else if(e){this.search="";this.query={}}r&&(this.pathname=r);H[o]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search){b=this.pathname||"",_=this.search||"";this.path=b+_}this.href=this.format();return this};c.prototype.format=function(){var t=this.auth||"";if(t){t=(t=encodeURIComponent(t)).replace(/%3A/i,":");t+="@"}var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";if(this.host)o=t+this.host;else if(this.hostname){o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]");this.port&&(o+=":"+this.port)}this.query&&a(this.query)&&Object.keys(this.query).length&&(s=U.stringify(this.query));s=this.search||s&&"?"+s||"";e&&":"!==e.substr(-1)&&(e+=":");if(this.slashes||(!e||H[e])&&!1!==o){o="//"+(o||"");n&&"/"!==n.charAt(0)&&(n="/"+n)}else o=o||"";r&&"#"!==r.charAt(0)&&(r="#"+r);s&&"?"!==s.charAt(0)&&(s="?"+s);return e+o+(n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r};c.prototype.resolve=function(t){return this.resolveObject(o(t,!1,!0)).format()};c.prototype.resolveObject=function(e){if(Y(e)){var t=new c;t.parse(e,!1,!0);e=t}var n=new c;Object.keys(this).forEach(function(t){n[t]=this[t]},this);n.hash=e.hash;if(""===e.href){n.href=n.format();return n}if(e.slashes&&!e.protocol){Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])});H[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/");n.href=n.format();return n}if(e.protocol&&e.protocol!==n.protocol){if(!H[e.protocol]){Object.keys(e).forEach(function(t){n[t]=e[t]});n.href=n.format();return n}n.protocol=e.protocol;if(e.host||k[e.protocol])n.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host="");e.hostname||(e.hostname="");""!==r[0]&&r.unshift("");r.length<2&&r.unshift("");n.pathname=r.join("/")}n.search=e.search;n.query=e.query;n.host=e.host||"";n.auth=e.auth;n.hostname=e.hostname||e.host;n.port=e.port;if(n.pathname||n.search){var o=n.pathname||"",s=n.search||"";n.path=o+s}n.slashes=n.slashes||e.slashes;n.href=n.format();return n}var a=n.pathname&&"/"===n.pathname.charAt(0),t=e.host||e.pathname&&"/"===e.pathname.charAt(0),o=t||a||n.host&&e.pathname,s=o,i=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],a=n.protocol&&!H[n.protocol];if(a){n.hostname="";n.port=null;n.host&&(""===i[0]?i[0]=n.host:i.unshift(n.host));n.host="";if(e.protocol){e.hostname=null;e.port=null;e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host));e.host=null}o=o&&(""===r[0]||""===i[0])}if(t){n.host=(e.host||""===e.host?e:n).host;n.hostname=(e.hostname||""===e.hostname?e:n).hostname;n.search=e.search;n.query=e.query;i=r}else if(r.length){(i=i||[]).pop();i=i.concat(r);n.search=e.search;n.query=e.query}else if(null!=e.search){if(a){n.hostname=n.host=i.shift();if(f=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@")){n.auth=f.shift();n.host=n.hostname=f.shift()}}n.search=e.search;n.query=e.query;p(n.pathname)&&p(n.search)||(n.path=(n.pathname||"")+(n.search||""));n.href=n.format();return n}if(!i.length){n.pathname=null;n.search?n.path="/"+n.search:n.path=null;n.href=n.format();return n}for(var h=i.slice(-1)[0],t=(n.host||e.host)&&("."===h||".."===h)||""===h,u=0,l=i.length;0<=l;l--)if("."==(h=i[l]))i.splice(l,1);else if(".."===h){i.splice(l,1);u++}else if(u){i.splice(l,1);u--}if(!o&&!s)for(;u--;)i.unshift("..");!o||""===i[0]||i[0]&&"/"===i[0].charAt(0)||i.unshift("");t&&"/"!==i.join("/").substr(-1)&&i.push("");var f,t=""===i[0]||i[0]&&"/"===i[0].charAt(0);if(a){n.hostname=n.host=!t&&i.length?i.shift():"";if(f=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@")){n.auth=f.shift();n.host=n.hostname=f.shift()}}(o=o||n.host&&i.length)&&!t&&i.unshift("");if(i.length)n.pathname=i.join("/");else{n.pathname=null;n.path=null}p(n.pathname)&&p(n.search)||(n.path=(n.pathname||"")+(n.search||""));n.auth=e.auth||n.auth;n.slashes=n.slashes||e.slashes;n.href=n.format();return n};c.prototype.parseHost=function(){var t=this.host,e=r.exec(t);if(e){":"!==(e=e[0])&&(this.port=e.substr(1));t=t.substr(0,t.length-e.length)}t&&(this.hostname=t)};function Y(t){return"string"==typeof t}function a(t){return"object"==typeof t&&null!==t}function p(t){return null===t}},{punycode:2,querystring:6}],4:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e=e||"&");e=1e3;r&&"number"==typeof r.maxKeys&&(e=r.maxKeys);var a=t.length;0<e&&e<a&&(a=e);for(var i=0;i<a;++i){var h,u,l=t[i].replace(s,"%20"),f=l.indexOf(n);if(0<=f){h=l.substr(0,f);u=l.substr(f+1)}else{h=l;u=""}f=decodeURIComponent(h);l=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(o,f)?c(o[f])?o[f].push(l):o[f]=[o[f],l]:o[f]=l}return o};var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],5:[function(t,e,n){"use strict";function s(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(n,r,o,t){r=r||"&";o=o||"=";return"object"==typeof(n=null===n?void 0:n)?i(h(n),function(t){var e=encodeURIComponent(s(t))+o;return a(n[t])?i(n[t],function(t){return e+encodeURIComponent(s(t))}).join(r):e+encodeURIComponent(s(n[t]))}).join(r):t?encodeURIComponent(s(t))+o+encodeURIComponent(s(n)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var h=Object.keys||function(t){var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(e);return n}},{}],6:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode");n.encode=n.stringify=t("./encode")},{"./decode":4,"./encode":5}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.STATE_AP_KEY="_AP";n.QUERY_KEY_PREFIX="ac";n.QUERY_KEY_DELIMITER=".";n.ANCHOR_PREFIX="!";n.HISTORY_POPSTATE="history_popstate";n.HISTORY_PUSHSTATE="history_pushstate";n.HISTORY_REPLACESTATE="history_replacestate";n.HISTORY_CHANGESTATE="history_changestate"},{}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Addon=u;n.Addons=l;n.Current=function(t){if(!(t=t||{}).url)throw new Error("missing url");var e=i.default.parse(t.url),n=new l,r=(0,h.parseQuery)(e.query).map(h.stripAddonQueryPrefix),e=(0,h.normalizeQueryByAddons)(r),r=e.filter(function(t){return t.key}),e=e.filter(function(t){return!t.key});r.forEach(function(t){t=new u(t);n.add(t)});this.url=new c({url:t.url,addons:n,global:e});this.state=new f(t.state);return this};n.Change=function(t,e){var n=typeof t,r=i.default.parse(window.location.href),o={},s={};if("string"==n){o.protocol=r.protocol;o.slashes=r.slashes;o.hostname=r.hostname;o.pathname=r.pathname;o.port=r.port;o.search=r.search;o.query=r.query;o.hash=(0,h.addHash)((0,h.addHashPrefix)(t))}else{if("object"!=n)throw new Error("invalid option type");var a=t.href?i.default.parse(t.href):r;o.protocol=r.protocol;o.slashes=r.slashes;o.hostname=r.hostname;o.port=r.port;o.pathname=a.pathname||r.pathname;o.search=null;o.query=null;o.hash=t.hash?(0,h.addHash)((0,h.addHashPrefix)(t.hash)):null;s.state=t.state;s.query=t.query}a=new l,r=new l;if(s.state){t=new u({key:e,state:s.state});a.add(t)}if(s.query){s=new u({key:e,query:s.query});r.add(s)}a=new f({addons:a}),r=new c({url:i.default.format(o),addons:r});this.state=a;this.url=r;return this};n.State=f;n.URL=c;n.Route=s;var r,o=t("url"),i=(r=o)&&r.__esModule?r:{default:r},h=t("./utils");function u(t){if(!(t=t||{}).key)throw new Error("missing key for addon");this.key=t.key;this.state=t.state;this.query=t.query||{};return this}function l(t){(t=t||{}).models=t.models||[];t.models instanceof Array||(t.models=[t.models]);t.models=t.models.map(function(t){return t instanceof u?t:new u(t)});this.models=t.models;return this}l.prototype.add=function(t){this.models.push(t)};l.prototype.remove=function(t){this.models.splice(this.models.indexOf(t),1)};l.prototype.find=function(e){return(0,h.find)(this.models,function(t){return t.key===e})};l.prototype.merge=function(t){var e=this.find(t.key);e&&this.remove(e);this.add(t)};function f(t){(t=t||{}).addons=t.addons||[];t.addons instanceof l||(t.addons=new l(t.addons));this.addons=t.addons;return this}f.prototype.merge=function(t){var e=this;t.addons.models.forEach(function(t){e.addons.merge(t)})};f.prototype.render=function(){return(0,h.deepCopy)(this)};function c(t){(t=t||{}).addons=t.addons||[];t.global=t.global||[];t.parsed instanceof i.default.Url||(t.parsed=i.default.parse(t.url));t.addons instanceof l||(t.addons=new l(t.addons));this.parsed=t.parsed;this.addons=t.addons;this.global=t.global;this.title=t.title||window.document.title}c.prototype.isURLEqual=function(t){return this.render().url===t.render().url};c.prototype.isPathnameEqual=function(t){var e=this.parsed.protocol===t.parsed.protocol,n=this.parsed.slashes===t.parsed.slashes,r=this.parsed.hostname===t.parsed.hostname,t=this.parsed.pathname===t.parsed.pathname;return e&&n&&r&&t};c.prototype.merge=function(t){var e=this;e.parsed.hash=t.parsed.hash;t.addons.models.forEach(function(t){e.addons.merge(t)})};c.prototype.render=function(){var t=(0,h.deepCopy)(this),e=t.parsed,n=(0,h.denormalizeQueryByAddons)(this.addons.models),r=(0,h.denormalizeQueryByAddons)(this.global),r=n.concat(r).map(h.addAddonQueryPrefix),r=(0,h.formatQuery)(r);e.query=r;e.search=e.query?"?"+e.query:null;t.url=i.default.format(e);return t};function s(t){if(!(t=t||{}).url)throw new Error("missing url option");t.url instanceof c||(t.url=new c(t.url));if(!t.state)throw new Error("missing state option");t.state instanceof f||(t.state=new f(t.state));this.url=t.url;this.state=t.state}s.prototype.merge=function(t){this.url.merge(t.url);this.state.merge(t.state)};s.prototype.render=function(t){return(0,h.deepCopy)({key:t,hash:(0,h.stripHashPrefix)((0,h.stripHash)(this.url.parsed.hash)),query:this.url.addons.find(t)?this.url.addons.find(t).query:null,title:this.url.title,href:this.url.parsed.href,state:this.state.addons.find(t)?this.state.addons.find(t).state:null})}},{"./utils":9,url:3}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.find=function(t,e){for(var n=0,r=t.length;n<r;n+=1)if(e(t[n]))return t[n]};n.values=function(t){var e,n=[];if(!t)return n;for(e in t)n.push(t[e]);return n};n.stripHash=function(t){return t?t.slice(t.search("#")+1):null};n.stripHashPrefix=o;n.addHash=function(t){return"#"+t};n.addHashPrefix=function(t){if(null!=t)return r.ANCHOR_PREFIX+o(t);throw"You must supply text to prefix"};n.splitQueryParam=s;n.joinQueryParam=a;n.parseQuery=function(t){return(t?t.split("&"):[]).map(s).filter(function(t){return t})};n.formatQuery=function(t){t=t.map(a).filter(function(t){return t});return t.length?t.join("&"):null};n.stripAddonQueryPrefix=function(t){var e=t.key?t.key.split(r.QUERY_KEY_DELIMITER):[],n=r.QUERY_KEY_PREFIX;{if(3<=e.length){if(n!==e[0])return t;n=e.slice(1,e.length-1).join(r.QUERY_KEY_DELIMITER),e=e.slice(e.length-1).join(r.QUERY_KEY_DELIMITER);return{addonKey:n,key:e,value:t.value}}return t}};n.addAddonQueryPrefix=function(t){var e=r.QUERY_KEY_PREFIX;{if("addonKey"in t&&t.addonKey)return{key:[e,t.addonKey,t.key].join(r.QUERY_KEY_DELIMITER),value:t.value};return t}};n.normalizeQueryByAddons=function(t){var o=[];t.forEach(function(t){var e=t.key,n=t.value,r=t.addonKey,t=o.filter(function(t){return t.key===r});t&&t.length?t[0].query[e]=n:o.push({key:r,query:function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}({},e,n)})});return o};n.denormalizeQueryByAddons=function(t){var o=[];t.forEach(function(n){var r=n.key;Object.keys(n.query).forEach(function(t){var e=n.query[t];o.push({addonKey:r,key:t,value:e})})});return o};n.deepCopy=function(t){return JSON.parse(JSON.stringify(t))};n.wrapState=function(t){var e={};e[r.STATE_AP_KEY]=t;return e};n.unwrapState=function(t){return t&&t[r.STATE_AP_KEY]?t[r.STATE_AP_KEY]:null};n.createEvent=function(t){{if("function"==typeof Event)return e=new Event(t);var e;(e=document.createEvent("Event")).initEvent(t,!1,!1);return e}};n.callConnectHost=function(e){t&&t.amd?t(["connect-host"],function(t){e(t)}):e(window.connectHost)};n.log=function(t,e){e=e||"log";console[e].call(null,"Atlassian Connect JS History: ",t)};var r=t("./constants");function o(t){return null==t||""===t?"":t.toString().replace(new RegExp("^"+r.ANCHOR_PREFIX),"")}function s(t){t=t?t.split("="):[],t[0],t[1];return 2!==t.length?null:{key:t[0],value:t[1]}}function a(t){return"key"in t&&"value"in t?[t.key,"=",t.value].join(""):null}},{"./constants":7}]},{},[1])(1)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'atlassian-connect/v5/js/core/connect-host-request.js' */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.connectHostRequest=e()}}(function(){return function r(o,a,s){function c(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(i)return i(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=a[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return c(t||e)},t,t.exports,r,o,a,s)}return a[n].exports}for(var i="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h,o=["status","statusText","responseText"],a=["status","statusText","response"],s=["Content-Type","ETag"],y=["If-Match","If-None-Match","X-Atlassian-Force-Account-ID"];function c(e){return e.replace(/(http[s]?:\/\/[^"]*?&jwt=[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*.*?)\\"/gi,'\\"')}function w(n,e){var r={headers:{}};e?a.forEach(function(e,t){r[e]=n[e];if("response"===e)try{JSON.parse(n[e]);r[e]=c(n[e])}catch(e){}},this):o.forEach(function(e,t){r[e]=n[e];if("responseText"===e)try{JSON.parse(n[e]);r[e]=c(n[e])}catch(e){}},this);s.forEach(function(e,t){r.headers[e]=n.getResponseHeader(e)},this);return r}function m(e,t,n){n._isBlob&&n.blob&&n.name?e.append(t,n.blob,n.name):e.append(t,n);return e}n.stripJWTUrls=c;n.addRequestMarshal=function(e){if("function"!=typeof e)throw new Error("ACJS request marshal must be a function");h=e};n.removeRequestMarshal=function(){h=void 0};n.default={request:function(t,r){var e=function(){if(window.AJS&&window.AJS.contextPath)return window.AJS.contextPath();var e=document.querySelector("meta[name=ajs-context-path]");return e?e.getAttribute("content"):""}(),n={},o=(r=arguments[arguments.length-1])._context.extension,a=o.addon_key,s=o.key,c=o.options.allowPathTraversal,o=e+(t="string"==typeof t?{url:t}:t).url;if(!c)if(!new URL(o,document.baseURI).pathname.startsWith(e)){window.connectHost&&window.connectHost.trackAnalyticsEvent&&window.connectHost.trackAnalyticsEvent("jsapi.request.prevent-path-traversal",{addonKey:a,moduleKey:s,url:o});return r("Request url must include context path '"+e+"'",{})}t.headers=t.headers||{};Object.getOwnPropertyNames(t.headers).forEach(function(e){n[e.toLowerCase()]=t.headers[e]},this);function i(e,t,n){r(!1,w(n,p),e)}function u(e,t,n){r(n,w(e,p),n)}var f,d={url:o,type:t.type||"GET",data:t.data,dataType:"text",contentType:t.contentType,cache:void 0!==t.cache?!!t.cache:void 0,headers:{Accept:n.accept||"*/*","AP-Client-Key":a}};(d="multipart/form-data"===d.contentType?function(t){t.contentType=!1;t.processData=!1;if(!t.data||"object"!=typeof t.data)throw new Error("For a Multipart request, data must to be an Object");var r=new FormData;Object.keys(t.data).forEach(function(n){var e=t.data[n];Array.isArray(e)?e.forEach(function(e,t){r=m(r,n+"["+t+"]",e)}):r=m(r,n,e)});t.data=r;t.headers["X-Atlassian-Token"]="no-check";return t}(d):d).data&&"object"==typeof d.data&&"GET"===d.type.toUpperCase()&&Object.keys(d.data).forEach(function(e){d.url+=(0<=d.url.indexOf("?")?"&":"?")+encodeURIComponent(e)+"="+encodeURIComponent(d.data[e])});!0===t.experimental&&(d.headers["X-ExperimentalApi"]="opt-in");y.forEach(function(e,t){n[e.toLowerCase()]&&(d.headers[e]=n[e.toLowerCase()])},this);d.cache||(d.url+=(0<=d.url.indexOf("?")?"&":"?")+"_r="+(new Date).getTime());(f=new XMLHttpRequest).open(d.type,d.url,!0);var p=!1;if(t.binaryAttachment){p=!0;f.responseType="arraybuffer"}d.contentType&&(d.headers["Content-type"]=d.contentType);Object.getOwnPropertyNames(d.headers).forEach(function(e){f.setRequestHeader(e,d.headers[e])});f.onload=function(){200<=this.status&&this.status<300?i(p?f.response:f.responseText,f.statusText,f):u(f,f.statusText,p?f.response:f.responseText)};f.onerror=function(){u(f,f.statusText,p?f.response:f.responseText)};try{var l=!0;if(!0===(l=h?h.call(null,d):l))f.send(d.data||null);else{f.abort();u(f,0,l)}}catch(e){f.abort();u(f,0,e);console.error("ACJS Request: ",e.message,e)}}}},{}]},{},[1])(1)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-user-v5', location = 'atlassian-connect/v5/js/iframe/host/user.js' */
define("ac/user",function(){return{getUser:function(e){var t=e._context.extension.options.user;e({fullName:(void 0!==t.uid||void 0!==t.ukey)&&(AJS.Meta.get("remote-user-fullname")||AJS.Meta.get("current-user-fullname"))||null,id:t.uid,key:t.ukey})},getCurrentUser:function(e){e({atlassianAccountId:AJS.Meta.get("atlassian-account-id")||null,accountType:AJS.Meta.get("account-type")||null})},getTimeZone:function(e){e(e._context.extension.options.user.timeZone)},getLocale:function(e){e(AJS.Meta.get("user-locale"))}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:content-resolver-v5', location = 'atlassian-connect/v5/js/iframe/host/content-resolver.js' */
!function(){function r(e,n){n=new URL(n,window.location.origin).pathname.slice(1);return AJS.contextPath()+"/plugins/servlet/ac/"+encodeURIComponent(e)+"/"+encodeURIComponent(n)}function s(e){var n=e.getResponseHeader("Date"),e=Math.round(Date.parse(n)/1e3),n=Math.round(Date.now()/1e3);if(!isNaN(e)){e=Math.abs(n-e);window.connectHost.setJwtClockSkew(e+60)}}function o(i,a){return AJS.$.Deferred(function(o){var e=function(e){e=e.addon_key+"__"+e.key;if(window._AP&&window._AP.cacheableIframeUrls&&window._AP.cacheableIframeUrls[e])return window._AP.cacheableIframeUrls[e]}(i);if(!e||a){var n={"plugin-key":i.addon_key,"product-context":JSON.stringify(i.options.productContext||{}),key:i.key,width:i.width||"100%",height:i.height||"100%",classifier:i.classifier||"raw"};i.options.contentClassifier&&(n.classifier=[i.options.contentClassifier,n.classifier]);var t=function(n,t){var o={};_.keys(n).forEach(function(e){t(e,n[e])&&(o[e]=n[e])});return o}(i.options.customData||{},function(e,n){return!_.isObject(n)&&(!("string"==typeof n||n instanceof String)||n.length<255)});AJS.$.ajax(r(i.addon_key,i.key),{dataType:"json"===i.classifier?"json":"html",data:AJS.$.extend({},n,function(n){var t={};_.keys(n).forEach(function(e){t["ac."+e]=n[e]});return t}(t)),type:"POST"}).then(function(n,e,t){s(t);a?o.resolve(window._AP._convertConnectOptions(n)):require(["ac/create"],function(e){o.resolve(window._AP._convertConnectOptions(n))})}).fail(function(e,n,t){s(e);o.reject({addon_key:i.addon_key,key:i.key,options:i.options},{text:"Unable to retrieve addon module URL. Please check your specified module key."})})}else o.resolve(window._AP._convertConnectOptions({addon_key:i.addon_key,key:i.key,url:e,productCtx:JSON.stringify(i.options.productContext||{})}))}).promise()}function n(t){return function(n){if("set_inner_iframe_url"===n.data.type){if(t&&t.getBooleanFeatureFlag&&t.getBooleanFeatureFlag("com.atlassian.connect.resolve_inner_iframe_url")){n.data.iframeData.classifier="json";return o(n.data.iframeData,!0).then(function(e){e.id=n.data.extension_id;t.registerExistingExtension(e.id,{extension:e});n.source.location=e.url})}n.data.iframeData.url&&0===n.data.iframeData.url.indexOf("http")&&(n.source.location=n.data.iframeData.url)}}}define("ac/content-resolver",function(){return{resolveByExtension:o,getIframeUrlSetter:n}});_AP.util.awaitGlobal("connectHost",function(e){e.registerContentResolver.resolveByExtension(o);window.addEventListener("message",n(e))})}();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-context-v5', location = 'atlassian-connect/v5/js/context/util.js' */
define("ac/context/util",function(){return{isValidExtensionOptionsForCache:function(t){var e=(!t.contextJwt||!connectHost.isJwtExpired(t.contextJwt,!0))&&!!t.structuredContext;if(e){var n=t.productContext&&0<Object.getOwnPropertyNames(t.productContext).length,t=0<Object.getOwnPropertyNames(t.structuredContext).length;!n||t||(e=!1)}return e}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-context-v5', location = 'atlassian-connect/v5/js/context/main.js' */
define("ac/context",["ac/content-resolver","ac/context/util"],function(o,e){var i=3e4,c={};function r(t){if(t.id&&1<t.id.length)return t.id;throw new Error("ACJS: cannot generate cache key for extension")}function s(t){return c[t].context.contextObj}function x(t,n){return{cachedAt:Date.now(),contextJwt:n,contextObj:t}}function a(t){var n,e=r(t);if(!c[e]||!c[e].promise&&c[e].context&&(n=c[e].context.cachedAt,i+n<Date.now())){t.classifier="json";c[e]=c[e]||{};c[e].promise=o.resolveByExtension(t,!0).done(function(t){t&&(c[e].context=x(t.options.structuredContext,t.options.contextJwt))})}}function u(t){if(!t||t.length<2)throw new Error("ACJS: Cannot get token. Add-on does not support JWT authentication")}function n(t){if(e.isValidExtensionOptionsForCache(t.extension.options)){var n=r(t.extension);c[n]={context:x(t.extension.options.structuredContext,t.extension.options.contextJwt)}}else a(t.extension)}_AP.util.awaitGlobal("connectHost",function(t){t.onIframeEstablished(n);t.onIframeUnload(function(t){delete c[r(t.extension)]})});var t={getToken:function(o){return new Promise(function(n,t){var e=r(o._context.extension);a(o._context.extension);if(c[e].promise)c[e].promise.done(function(t){u(t.options.contextJwt);try{n(t.options.contextJwt)}catch(t){}}.bind(this)).fail(function(){t("ACJS: content resolver failed to get context jwt token")}).always(function(){delete c[e].promise}.bind(this));else{u(c[e].context.contextJwt);n(c[e].context.contextJwt)}})},getContext:function(o){return new Promise(function(n,t){var e=r(o._context.extension);o._context.extension.addon_key;a(o._context.extension);c[e].promise?c[e].promise.done(function(t){try{n(s(e))}catch(t){}}.bind(this)).fail(function(){t("ACJS: content resolver failed to get context")}).always(function(){delete c[e].promise}.bind(this)):n(s(e))})}};t.getContext.returnsPromise=!0;t.getToken.returnsPromise=!0;return t});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:module-loader-v5', location = 'atlassian-connect/v5/js/iframe/host/module-loader.js' */
_AP.util.awaitGlobal("connectHost",function(e){e.defineModule("cookie",connectHostCookie);e.defineModule("history",connectHostHistory);e.defineModule(connectHostRequest.default);e.defineModule("navigator",require("ac/navigator/module"));e.defineModule("user",require("ac/user"));e.defineModule("context",require("ac/context"))});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:iframe-insertion-v5', location = 'atlassian-connect/v5/js/iframe/combined/iframe-insertion.js' */
!function(){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,50)},a=function(t,n,o){try{var e=require(t);n(e)}catch(e){if(o<=0){console.error("Unable to load module: "+t);n(null)}else setTimeout(function(){a(t,n,o-1)},500)}},d=function(e,t,n,o,i){void 0===o&&(o=20);i=i||500;!e.isModuleDefined||o<=0?n():e.isModuleDefined(t)?n(!0):setTimeout(function(){d(e,t,n,o-1,i)},i)};function n(t){var e;if("string"==typeof t&&1<t.length)try{e=JSON.parse(t)}catch(e){console.error("ACJS: failed to decode context",t)}return e="object"!=typeof e?{}:e}window._AP=window._AP||{};window._AP.addonAttemptCounter=window._AP.addonAttemptCounter||{};window._AP._convertConnectOptions=function(e){var t={url:e.url,ns:e.uniqueKey,addon_key:e.addon_key,key:e.key,containerId:"embedded-"+e.uniqueKey,options:{history:{state:""},uniqueKey:e.uniqueKey,origin:e.origin,hostOrigin:e.hostOrigin,moduleType:e.moduleType,moduleLocation:e.moduleLocation,isFullPage:"1"===e.general,autoresize:!0,user:{timeZone:e.timeZone,fullName:e.fullName,uid:e.uid,ukey:e.ukey},productContext:n(e.productCtx),structuredContext:n(e.structuredContext),contextJwt:e.contextJwt,contextPath:e.cp,width:e.w||e.width,height:e.h||e.height,sandbox:e.sandbox,pearApp:e.pearApp,noSub:e.noSub,allowPathTraversal:e.allowPathTraversal,targets:{env:{resize:"both"}}}};"string"==typeof e.contentClassifier&&(t.options.contentClassifier=e.contentClassifier);"number"==typeof e.hostFrameOffset&&(t.options.hostFrameOffset=e.hostFrameOffset+1);window._AP.isSubHost||(t.options.history.state=window.location.hash?window.location.hash.substr(2):"");return t};window._AP._createSub=function(e){var t=document.createElement("iframe"),n=(window.connectHost||window.AP).subCreate(e);n.width=e.options.width||"";n.height=e.options.height||"";n.style="border:0;";n.class="ap-iframe";n["data-addon-key"]=e.addon_key;n["data-key"]=e.key;delete n.src;Object.getOwnPropertyNames(n).forEach(function(e){t.setAttribute(e,n[e])});return t};function r(e){return void 0!==window[e]}function s(e,t,n){n=n||100;var o;r(e)?t(window[e]):o=setInterval(function(){if(r(e)){clearInterval(o);t(window[e])}},n)}function o(e){window._AP.isSubHost=function(e,t){if("number"!=typeof e)return window.top;for(var n=t||window,o=0;o<e;o++)n=n.parent;return n}(e.hostFrameOffset)!==window;var o=window._AP._convertConnectOptions(e);window._AP.addonAttemptCounter[o.containerId]=0;if(window._AP.isSubHost){window.AP&&window.AP._data&&window.AP._data.options&&window.AP._data.options.globalOptions&&(o.options.globalOptions=window.AP._data.options.globalOptions);c(window._AP._createSub(o),o)}else s("connectHost",function(n){var e;(e={addon_key:o.addon_key,key:o.key},n.getExtensions(e).filter(function(e){return Boolean(document.getElementById(e.extension_id))})).forEach(function(e){if(e.extension.options.uniqueKey===o.options.uniqueKey){var t=document.getElementById(e.extension_id);n.destroy(e.extension_id);t&&AJS.$(t).closest(".ap-iframe-container").remove()}},this);c(n.create(o),o)})}function c(e,t){var n=document.getElementById(t.containerId);window._AP.addonAttemptCounter[t.containerId]++;if(n){delete window._AP.addonAttemptCounter[t.containerId];if(window._AP.isSubHost){n.appendChild(e);!function(e,t){var n=e.contentDocument,e={type:"set_inner_iframe_url",iframeData:t,extension_id:JSON.parse(e.name).extension_id},e="(function(){ var w = window; for (var i=0; i<"+t.options.hostFrameOffset+"; i++){w = w.parent; } w.postMessage("+JSON.stringify(e)+', "*");}());';n.open();n.write("<script>"+e+"<\/script>");n.close()}(e,t)}else{var o=n.querySelector(".ap-iframe-container");if(o){o.parentNode.removeChild(o);AJS.log&&AJS.log("AJS: duplicate iframe removed",t,n)}e.appendTo(n);e.data("addon-key",t.addon_key);e.data("key",t.key)}}else window._AP.addonAttemptCounter[t.containerId]<=10&&i(function(){c(e,t)})}window._AP.appendConnectAddon=function(n){var e=!1;try{window.top.karma&&(e=!0)}catch(e){}if(window===window.top||e)/^com\.atlassian\.(jira|confluence)\.emcee($|\.local|\.staging|\.development\..*)/g.test(n.addon_key)?a("ac/marketplace",function(t){t&&s("connectHost",function(e){e.defineModule("marketplace",t)});o(n)},20):"com.addonengine.analytics"===n.addon_key?s("connectHost",function(e){d(e,"analytics",function(){o(n)})}):o(n);else{var t=function(e){if(e.source===window.top&&e.data&&void 0!==e.data.hostFrameOffset){window.removeEventListener("message",t);n.hostFrameOffset=e.data.hostFrameOffset;o(n)}};window.addEventListener("message",t);window.top.postMessage({type:"get_host_offset"},"*")}}}();;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:iframe-host-js-v5', location = 'atlassian-connect/v5/js/iframe/host/main.js' */
_AP.addonAttemptCounter={};_AP.util.awaitGlobal("connectHost",function(n){n.setExtensionConfigurationOptions("crev",window._AP.allJsVersion);n.setExtensionConfigurationOptions("resolve_inner_iframe_url",n.getBooleanFeatureFlag&&n.getBooleanFeatureFlag("com.atlassian.connect.resolve_inner_iframe_url"));n.onIframeEstablished(function(n){n.$el.closest(".ap-iframe-container").addClass("iframe-init")});n.onFrameClick(function(n){n.click()})});define("ac/create",function(){return{appendConnectAddon:function(n){return window._AP.appendConnectAddon(n)}}});define("ac/analytics",function(){return{emitGasV3:function(n,e){const t=window.require("jira/analytics/web-client");switch(n){case"operational":t.sendOperationalEvent(e);break;case"page":t.sendPageEvent(e);break;case"screen":t.sendScreenEvent(e);break;default:throw new Error("ACJS: Unknown GasV3 event type")}}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-workflow-post-function-v5', location = 'atlassian-connect/v5/js/jira/workflow-post-function/workflow-post-function.js' */
define("ac/jira/workflow-post-function",["ac/jira/workflow-post-function-utils"],function(t){"use strict";var e=function(){};connectHost.onIframeEstablished(function(n){if(t.isOnWorkflowElementPage()&&t.isWorkflowElementExtension(n.extension)){var o=t.getWorkflowElementId();"string"==typeof o&&t.registerSubmissionButton(o,function(o){e=o;connectHost.broadcastEvent("jira_workflow_post_function_submit",{id:n.extension.id})})}});return{getWorkflowConfiguration:function(o){if(!t.isOnWorkflowElementPage()||"function"!=typeof o)return!1;var n=t.workflowElementConfigInput(o._context.extension.options.productContext[t.getWorkflowElementName()+".id"]);o&&o(n)},_submitWorkflowConfigurationResponse:function(o,n){e(o)}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-workflow-post-function-v5', location = 'atlassian-connect/v5/js/jira/workflow-post-function/workflow-post-function-utils.js' */
!function(l){"use strict";define("ac/jira/workflow-post-function-utils",function(){function u(n,t){n=l("#"+r()+"-config-"+n);t&&n.val(t);return n.val()}function n(){return!!r()}function r(){return 0<l("input[name='postFunction.id']").length?"postFunction":0<l("input[name='condition.id']").length?"condition":0<l("input[name='validator.id']").length?"validator":null}return{workflowElementConfigInput:u,isOnWorkflowElementPage:n,registerSubmissionButton:function(o,n,i){if(!r())throw"Not on a workflow configuration page";var e=!1;l(document).delegate("#add_submit, #update_submit","click",function(t){if(!e||i){t.preventDefault();n(function(n){if(n.valid){u(o,n.value);e=!0;l(t.target).click()}})}})},getWorkflowElementId:function(){return l("input[name='"+r()+".id']").val()},isWorkflowElementExtension:function(n){if(n&&n.options&&n.options.productContext){n=n.options.productContext;if(n[r()+".id"]&&5<n[r()+".id"].length)return!0}return!1},getWorkflowElementName:r}})}(AJS.$);;
;
/* module-key = 'com.atlassian.jira.jira-quick-edit-plugin:quick-create-calendar-init', location = 'jira-quick-edit-plugin/js/init/calendar.js' */
define("quick-edit/init/calendar",["wrm/require"],function(a){function e(e){var c,n=r();switch(n){case"cs_CZ":c="calendar-cs";break;case"da_DK":c="calendar-da";break;case"de_DE":c="calendar-de";break;case"en_UK":c="calendar-en";break;case"en_US":c="calendar-en";break;case"es_ES":c="calendar-es";break;case"et_EE":c="calendar-en";break;case"fi_FI":c="calendar-fi";break;case"fr_FR":c="calendar-fr";break;case"hu_HU":c="calendar-hu";break;case"is_IS":c="calendar-en";break;case"it_IT":c="calendar-it";break;case"ja_JP":c="calendar-jp";break;case"ko_KR":c="calendar-ko";break;case"nb_NO":c="calendar-no";break;case"nl_NL":c="calendar-nl";break;case"pl_PL":c="calendar-pl";break;case"pt_BR":c="calendar-pt";break;case"pt_PT":c="calendar-pt";break;case"ro_RO":c="calendar-ro";break;case"ru_RU":c="calendar-ru";break;case"sk_SK":c="calendar-sk";break;case"sv_SE":c="calendar-sv";break;case"zh_CN":c="calendar-zh";break;default:c="calendar-en"}a("wrc!jira.webresources:"+c,e)}var r=function(){return AJS.Meta.get("user-locale")};return function(a){e(a)}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-date-picker-widget-v5', location = 'atlassian-connect/v5/js/jira/date-picker/date-picker.js' */
!function(){"use strict";define("ac/jira/date-picker",["ac/jira/date-picker-utils"],function(n){var i={_options:function(t,n){t.onSelect=function(t,e){connectHost.broadcastEvent("jira_date_selected",{id:n._context.extension_id},{isoDate:t.date.toISOString(),date:e});t.dateClicked&&t.callCloseHandler()}.bind(this);var e=document.getElementById(n._context.extension_id).getBoundingClientRect();t.position=t.position||{top:0,left:0};t.position.top+=e.top;t.position.left+=e.left;return t},openDatePicker:function(t,e){t=i._options(t,e);n.show(t);return t}};return i})}(AJS.$);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-date-picker-widget-v5', location = 'atlassian-connect/v5/js/jira/date-picker/date-picker-utils.js' */
define("ac/jira/date-picker-utils",["quick-edit/init/calendar","underscore"],function(t,n){var a=WRM.data.claim("com.atlassian.plugins.atlassian-connect-plugin:jira-date-picker-widget.config");return{show:function(e){new Promise(function(e){t(e)}).then(function(e){var t=window.calendar,i=Calendar._FD?void 0:1;t&&t.hide();e=e||{};e=n.extend(e,a,{singleClick:"true",inputField:{}});window.calendar=t=new Calendar(e.useISO8601WeekNumbers?1:i,e.date,(new Date).toISOString(),e.onSelect||function(){},function(e){e.hide();e.destroy()});t.weekNumbers=!0;t.showsOtherMonths=!1;t.params=e;t.showsTime=e.showTime;t.time24="24"==e.timeFormat;i=e.showTime?e.dateTimeFormat:e.dateFormat;t.setDateFormat(i);t.create();t.refresh();t.showAt(e.position.left||0,e.position.top||0);return t}.bind(this,e)).catch(console.error)}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-events-v5', location = 'atlassian-connect/v5/js/jira/events/events.js' */
!function(){"use strict";define("ac/jira/events",function(){return{refreshIssuePage:function(){try{JIRA.trigger(JIRA.Events.REFRESH_ISSUE_PAGE,[JIRA.Issue.getIssueId(),{mergeIntoCurrent:!1}])}catch(e){throw new Error("Failed to refresh the issue page")}},updateIssueGlance:function(e,t){try{JIRA.trigger(JIRA.Events.UPDATE_ISSUE_GLANCE,[JIRA.Issue.getIssueId(),{addonKey:t._context.extension.addon_key,moduleKey:t._context.extension.key,data:e}])}catch(e){throw new Error("Failed to update issue glance")}}}})}(AJS.$);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-create-issue-dialog-v5', location = 'atlassian-connect/v5/js/jira/issue/issue.js' */
define("ac/jira/issue",function(){return{openCreateIssueDialog:function(o,n){WRM.require(["wr!com.atlassian.jira.jira-quick-edit-plugin:quick-create-issue"]).then(function(){if(!JIRA||!JIRA.Forms||!JIRA.Forms.createCreateIssueForm){console&&console.warn&&console.warn("Connect: Create issue form is not available");return!1}var e=JIRA.Forms.createCreateIssueForm(o).asDialog({trigger:document.createElement("a"),id:"create-issue-dialog",windowTitle:AJS.I18n.getText("admin.issue.operations.create"),shouldLoadHeritageFormDialogContext:!0});e.show();var s=[];JIRA.one("QuickCreateIssue.sessionComplete",function(e,o){s=[];for(var n in o)s.push(o[n].createdIssueDetails)});e.bind("Dialog.hide",function(){"function"==typeof n&&n.call({},s)})}.bind(this))},openIssueDialog:function(o,n){if(JIRA&&JIRA.API&&JIRA.API.getAsyncModalsAPI)JIRA.API.getAsyncModalsAPI().then(function(e){if(e.showConnectIssueModal)e.showConnectIssueModal({issueKey:o,onCancel:n,onError:n});else{console&&console.warn&&console.warn("Connect: open issue dialog is not available");n("OPEN_ISSUE_DIALOG_IS_NOT_AVAILABLE")}});else{console&&console.warn&&console.warn("Connect: Async Modals is not available");n("ASYNC_MODALS_IS_NOT_AVAILABLE")}}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dashboard-item-v5', location = 'atlassian-connect/v5/js/jira/dashboard-item/dashboard-item.js' */
define("ac/jira/dashboard-item",[],function(){"use strict";function n(e,t){if(window.__SPA__&&window.dashboardSpaBridge){if((d=AJS.$(e).closest("[data-gadget-id]"))&&t){var n=d.attr("data-gadget-id");window.dashboardSpaBridge.setGadgetHeight(n,t.replace(/[^0-9.]/g,""))}}else{var a=AJS.$(e).parents(".gadget-inline");if(0<a.length){var e=a.first(),n=e.attr("id"),d=new AG.InlineGadgetAPI(e),a=AG.DashboardManager.getLayout(),d=a.getGadgets().filter(function(e){return"gadget-".concat(e.getId())==n});t&&e.find("iframe").css("height",t);d[0].resize();a.refresh()}}}connectHost.onIframeEstablished(function(e){n(e.$el)});AJS.$(document).ready(function(){AJS.$("body").on("resized",".ap-container",function(e,t){n(e.target,t.height)})});return{setDashboardItemTitle:function(e,t){if(window.__SPA__&&window.dashboardSpaBridge){var n=document.getElementById(t._context.extension_id),a=AJS.$(n).closest("[data-gadget-id]");if(a){a=a.attr("data-gadget-id");window.dashboardSpaBridge.setGadgetTitle(a,e)}}else{n=document.getElementById(t._context.extension_id);AJS.$(n).parents(".gadget-container").find("h3.dashboard-item-title").text(e)}},isDashboardItemEditable:function(e){if(window.__SPA__&&window.dashboardSpaBridge){var t=document.getElementById(e._context.extension_id),n=AJS.$(t).closest("[data-gadget-id]");if(n){n=n.attr("data-gadget-id");e(window.dashboardSpaBridge.isGadgetConfigurable(n))}}else{t=document.getElementById(e._context.extension_id);e(0!==AJS.$(t).parents(".gadget-container").find("li.configure").length)}}}});define("atlassian-connect/connect-dashboard-item",function(){return function(){return{render:function(){},renderEdit:function(e){e=e.find("iframe");1===e.parent().length&&connectHost.broadcastEvent("jira_dashboard_item_edit",{id:e.attr("id")})}}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-navigator-routes-v5', location = 'atlassian-connect/v5/js/jira/navigator/routes.js' */
!function(){"use strict";require(["ac/navigator/routes","ac/navigator/utils","jira/featureflags/feature-manager"],function(e,a,r){var s=a.hasContext,t=a.appendQueryParam,r=r.isFeatureEnabled("kitkat.spa-navigate-in-atlassian-connect")?{filters:"/secure/ManageFilters.jspa",projects:"/secure/BrowseProjects.jspa",boards:"/secure/ManageRapidViews.jspa",dashboards:"/secure/ConfigurePortalPages!default.jspa",dashboard:"/secure/Dashboard.jspa?selectPageId={dashboardId}",issue:"/browse/{issueKey}",userprofile:function(e,a){var r="/secure/admin/user/ViewProfile.jspa",r=s(e,"userAccountId")?t(r,"accountId",e.userAccountId):s(e,"username")?t(r,"username",e.username):r+"?name=";a(r)},projectadminsummary:"/plugins/servlet/project-config/{projectKey}/summary",projectadmintabpanel:"/plugins/servlet/ac/{addonKey}/{adminPageKey}?project.key={projectKey}&project.id={projectId}"}:{dashboard:"/secure/Dashboard.jspa?selectPageId={dashboardId}",issue:"/browse/{issueKey}",userprofile:function(e,a){var r="/secure/admin/user/ViewProfile.jspa",r=s(e,"userAccountId")?t(r,"accountId",e.userAccountId):s(e,"username")?t(r,"username",e.username):r+"?name=";a(r)},projectadminsummary:"/plugins/servlet/project-config/{projectKey}/summary",projectadmintabpanel:"/plugins/servlet/ac/{addonKey}/{adminPageKey}?project.key={projectKey}&project.id={projectId}"};e.addRoutes(r);a.enableApi()})}(AJS.$);;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-request-marshal-v5', location = 'atlassian-connect/v5/js/jira/request-marshal/request-marshal.js' */
define("ac/jira/request-marshal",function(){var t=["/rest/","/secure/"];return{getWhitelist:function(){return t},marshal:function(r){var e=!1;t.forEach(function(t){0===r.url.indexOf(AJS.contextPath()+t)&&(e=!0)},this);window.connectHost.trackAnalyticsEvent("jsapi.request.filter",{value:e,url:r.url});return!0}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-request-marshal-v5', location = 'atlassian-connect/v5/js/jira/request-marshal/request-marshal-loader.js' */
require(["ac/jira/request-marshal"],function(a){connectHostRequest.addRequestMarshal(a.marshal)});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-jql-editor-v5', location = 'atlassian-connect/v5/js/jira/jql-editor/jql-editor.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Connect&&(JIRA.Connect={}),"undefined"==typeof JIRA.Connect.JQLEditor&&(JIRA.Connect.JQLEditor={}),JIRA.Connect.JQLEditor.dialog=function(e,t){return'<section id="'+soy.$$escapeHtml(e.sectionId)+'" class="aui-dialog2 aui-dialog2-xlarge aui-layer" data-aui-remove-on-hide="true" role="dialog" aria-hidden="true"><header class="aui-dialog2-header"><h2>'+soy.$$escapeHtml(e.header)+'</h2></header><div class="aui-dialog2-content"><p>'+soy.$$escapeHtml(e.descriptionText)+'</p><iframe src="'+soy.$$escapeHtml(e.src)+'" id="'+soy.$$escapeHtml(e.frameId)+'"></iframe></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="'+soy.$$escapeHtml(e.submitButtonId)+'" class="aui-button aui-button-primary">'+soy.$$escapeHtml(e.submitText)+'</button><button id="'+soy.$$escapeHtml(e.cancelButtonId)+'" class="aui-button aui-button-link">'+soy.$$escapeHtml(e.cancelText)+"</button></div></footer></section>"};;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-jql-editor-v5', location = 'atlassian-connect/v5/js/jira/jql-editor/jql-editor.js' */
define("ac/jira/jql-editor",[],function(){var i="connect-app-jql-editor-frame-id",o="connect-app-jql-editor-section-id",d="connect-app-jql-editor-submit-id",r="connect-app-jql-editor-cancel-id";return{init:function(){},show:function(e,t){var n=function(){if(AJS&&AJS.contextPath)return AJS.contextPath();var e=document.querySelector("meta[name=ajs-context-path]");return e?e.getAttribute("content"):""}()+"/issues/?app=true&jql="+(e.jql||""),c=document.createElement("div");c.innerHTML=JIRA.Connect.JQLEditor.dialog({src:n,frameId:i,sectionId:o,submitButtonId:d,cancelButtonId:r,header:e.header||"JQL Editor",submitText:e.submitText||"Submit",cancelText:e.cancelText||"Cancel",descriptionText:(e.descriptionText||"").substring(0,512)});document.body.appendChild(c.firstChild);AJS.dialog2("#"+o).show();document.getElementById(r).addEventListener("click",function(e){e.preventDefault();AJS.dialog2("#"+o).hide()});document.getElementById(d).addEventListener("click",function(e){e.preventDefault();(e=document.getElementById(i).contentWindow.document).querySelector(".search-button").click();e=new URLSearchParams(e.location.search).get("jql");AJS.dialog2("#"+o).hide();t({jql:e})})}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-platform-v5', location = 'atlassian-connect/v5/js/jira/platform/platform.js' */
define("ac/jira/platform",[],function(){"use strict";return{isNativeApp:function(i){var t=window.navigator.userAgent,e=!1,n=/iPhone|iPod|iPad/i.test(t),a=/Safari/i.test(t),r=/Android/i.test(t),t=/wv/i.test(t);i(e=n&&!a||r&&t?!0:e)}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-product-extensions-v5', location = 'atlassian-connect/v5/js/jira/main.js' */
define("ac/jira",["ac/jira/events","ac/jira/workflow-post-function","ac/jira/dashboard-item","ac/jira/date-picker","ac/jira/issue","ac/jira/jql-editor","ac/jira/platform"],function(e,a,i,o,s,t,r){return{refreshIssuePage:e.refreshIssuePage,updateIssueGlance:e.updateIssueGlance,getWorkflowConfiguration:a.getWorkflowConfiguration,_submitWorkflowConfigurationResponse:a._submitWorkflowConfigurationResponse,isDashboardItemEditable:i.isDashboardItemEditable,openCreateIssueDialog:s.openCreateIssueDialog,openIssueDialog:s.openIssueDialog,setDashboardItemTitle:i.setDashboardItemTitle,openDatePicker:o.openDatePicker,initJQLEditor:t.init,showJQLEditor:t.show,isNativeApp:r.isNativeApp}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dropdown-list-v5', location = 'atlassian-connect/v5/js/jira/dropdown-list/dropdown-list-component.js' */
define("ac/jira/dropdown-list/component",["jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/ajs/layer/layer-constants","jira/ajs/list/item-descriptor","jquery"],function(e,i,n,s,o){function t(t){(t=t||{}).maxInlineResultsDisplayed=t.maxInlineResultsDisplayed||5;t.expandAllResults=t.expandAllResults||!1;this.$container=o(l.container({id:t.id}));this.$target=o(l.target()).appendTo(o("body"));this.listController=new i({containerSelector:this.$container,maxInlineResultsDisplayed:t.maxInlineResultsDisplayed,expandAllResults:t.expandAllResults,selectionHandler:function(){var t=this.getCurrent();this.onSelected(t);this.hide()}.bind(this)});this.inlineLayer=e.createInlineLayers({alignment:n.LEFT,offsetTarget:this.$target,maxInlineResultsDisplayed:t.maxInlineResultsDisplayed,content:this.$container});this.inlineLayer.onhide(function(){this.hide()}.bind(this));this.visible=!1}var l=JIRA.Connect.Suggestions;t.prototype.showAt=function(t,e,i){var n=arguments[arguments.length-1];if(!this.visible){n=document.getElementById(n._context.extension_id).getBoundingClientRect();t+=n.left;e+=n.top;this.$target.css({left:t+"px",top:e+"px"});this.listController.enable();this.inlineLayer.show();this.inlineLayer.setPosition();this.inlineLayer.setWidth(i);this.visible=!0}};t.prototype.setItems=function(t,e){e="string"==typeof e||"";this.suggestions=t.map(function(t){return new s({value:t.value,label:t.label,icon:t.iconUrl})});this.listController.generateListFromJSON(this.suggestions,e)};t.prototype.hide=function(){if(this.visible){this.visible=!1;this.listController.disable();this.inlineLayer.hide();this.onHidden()}};t.prototype.moveUp=function(){this.listController.moveToPrevious()};t.prototype.moveDown=function(){this.listController.moveToNext()};t.prototype.query=function(t){this.listController.generateListFromJSON(this.suggestions,t)};t.prototype.select=function(){var t=this.listController.getFocused();0!==t.length&&t.is(":visible")&&this.listController._acceptSuggestion(t)};t.prototype.isVisible=function(t){t(this.visible)};t.prototype.getSelected=function(t){t(this.getCurrent())};t.prototype.getCurrent=function(){var t=this.listController.getFocused();if(0!==t.length&&t.is(":visible")){t=t.data("descriptor");return{value:t.value(),label:t.label(),iconUrl:t.icon()}}return null};t.prototype.onSelected=function(t){connectHost.broadcastEvent("dropdown_list_select",{addon_key:this._context.extension.addon_key,key:this._context.extension.key},{id:this._id,data:t})};t.prototype.onHidden=function(){connectHost.broadcastEvent("dropdown_list_hide",{addon_key:this._context.extension.addon_key,key:this._context.extension.key},{id:this._id})};return t});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dropdown-list-v5', location = 'atlassian-connect/v5/js/jira/dropdown-list/dropdown-list.soy.js' */
if("undefined"==typeof JIRA)var JIRA={};"undefined"==typeof JIRA.Connect&&(JIRA.Connect={}),"undefined"==typeof JIRA.Connect.Suggestions&&(JIRA.Connect.Suggestions={}),JIRA.Connect.Suggestions.container=function(n,e){return'<div class="aui-list ac-suggestions-container" '+(n.id?'id="'+soy.$$escapeHtml(n.id)+'"':"")+"></div>"},JIRA.Connect.Suggestions.target=function(n,e){return'<div class="ac-suggestions-target"></div>'};;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-dropdown-list-v5', location = 'atlassian-connect/v5/js/jira/dropdown-list/dropdown-list.js' */
define("ac/dropdown-list",["ac/jira/dropdown-list/component"],function(e){return{create:{constructor:e,showAt:e.prototype.showAt,setItems:e.prototype.setItems,hide:e.prototype.hide,moveUp:e.prototype.moveUp,moveDown:e.prototype.moveDown,query:e.prototype.query,select:e.prototype.select,isVisible:e.prototype.isVisible,getSelected:e.prototype.getSelected,onHide:function(){},onSelect:function(){}}}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-module-loader-v5', location = 'atlassian-connect/v5/js/jira/module-loader.js' */
connectHost.defineModule("jira",require("ac/jira"));connectHost.defineModule("dropdownList",require("ac/dropdown-list"));;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-inlinedialog-cleanup', location = 'atlassian-connect/v5/js/iframe/host/spa-inline-dialog-cleanup.js' */
require(["skate"],function(e){e("ap-inline-dialog",{type:e&&e.types&&e.types.CLASS||e&&e.type&&e.type.CLASSNAME,detached:function(e){e=document.querySelectorAll('iframe[id^="'+window._AP.util.escapeSelector(e.id)+'"]');[].forEach.call(e,function(e){AJS.$(e).parents(".aui-inline-dialog").remove()})}})});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-iframe-api-v5', location = 'atlassian-connect/v5/js/jira/spa-iframe/offset-overrides.js' */
define("ac/jira/spa-iframe/offset-overrides",[],function(){return function(){!function(){if(window._AP){[window._AP.dialogOptions,window._AP.inlineDialogOptions].filter(function(o){return"object"==typeof o}).forEach(function(o){for(var i in o)o.hasOwnProperty(i)&&(o[i].hostFrameOffset=1)});Object.keys(window._AP.dialogModules||{}).forEach(function(i){Object.keys(window._AP.dialogModules[i]).forEach(function(o){o=window._AP.dialogModules[i][o];o&&o.options&&(o.options.hostFrameOffset=1)})})}}()}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-iframe-api-v5', location = 'atlassian-connect/v5/js/jira/spa-iframe/providers/get-location.js' */
define("ac/jira/spa-iframe/providers/get-location",["ac/navigator/utils"],function(i){return function(){return i.getTopmostSameOriginWindow(window).location.href}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-iframe-api-v5', location = 'atlassian-connect/v5/js/jira/spa-iframe/main.js' */
require(["ac/spa-context","ac/jira/spa-iframe/providers/get-location","ac/jira/spa-iframe/offset-overrides","jira/container-api"],function(e,i,r,a){if(a.getIsIframe()){e.provideContainerApi(a);r();connectHost.registerProvider("get-location",i)}});;
;
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:jira-spa-api-v5', location = 'atlassian-connect/v5/js/jira/navigator/spa.js' */
require(["ac/spa-context","jira/container-api","jira/featureflags/feature-manager"],function(i,a,t){t.isFeatureEnabled("kitkat.spa-navigate-in-atlassian-connect")&&a&&a.APIs&&a.APIs.getNavigationAPI()&&a.APIs.getNavigationAPI().then(function(a){i.provideNavigationApi(a)})});;;try{window.performance.mark('com.atlassian.jira.jira-atlaskit-plugin,jira.webresources,com.atlassian.plugins.atlassian-connect-plugin_batch_file_eval:end');} catch(e){};